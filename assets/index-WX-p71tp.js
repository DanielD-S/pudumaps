(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))i(u);new MutationObserver(u=>{for(const l of u)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(u){const l={};return u.integrity&&(l.integrity=u.integrity),u.referrerPolicy&&(l.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?l.credentials="include":u.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(u){if(u.ep)return;u.ep=!0;const l=e(u);fetch(u.href,l)}})();var Jl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bu(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function fm(o){if(Object.prototype.hasOwnProperty.call(o,"__esModule"))return o;var t=o.default;if(typeof t=="function"){var e=function i(){var u=!1;try{u=this instanceof i}catch{}return u?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(o).forEach(function(i){var u=Object.getOwnPropertyDescriptor(o,i);Object.defineProperty(e,i,u.get?u:{enumerable:!0,get:function(){return o[i]}})}),e}var Pf={exports:{}},vh={},Af={exports:{}},er={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp;function o_(){if(Zp)return er;Zp=1;var o=Symbol.for("react.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),E=Symbol.iterator;function A(re){return re===null||typeof re!="object"?null:(re=E&&re[E]||re["@@iterator"],typeof re=="function"?re:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,M={};function I(re,F,he){this.props=re,this.context=F,this.refs=M,this.updater=he||x}I.prototype.isReactComponent={},I.prototype.setState=function(re,F){if(typeof re!="object"&&typeof re!="function"&&re!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,re,F,"setState")},I.prototype.forceUpdate=function(re){this.updater.enqueueForceUpdate(this,re,"forceUpdate")};function O(){}O.prototype=I.prototype;function W(re,F,he){this.props=re,this.context=F,this.refs=M,this.updater=he||x}var K=W.prototype=new O;K.constructor=W,R(K,I.prototype),K.isPureReactComponent=!0;var de=Array.isArray,ie=Object.prototype.hasOwnProperty,xe={current:null},Z={key:!0,ref:!0,__self:!0,__source:!0};function Y(re,F,he){var fe,pe={},Be=null,Ke=null;if(F!=null)for(fe in F.ref!==void 0&&(Ke=F.ref),F.key!==void 0&&(Be=""+F.key),F)ie.call(F,fe)&&!Z.hasOwnProperty(fe)&&(pe[fe]=F[fe]);var We=arguments.length-2;if(We===1)pe.children=he;else if(1<We){for(var Ye=Array(We),Tt=0;Tt<We;Tt++)Ye[Tt]=arguments[Tt+2];pe.children=Ye}if(re&&re.defaultProps)for(fe in We=re.defaultProps,We)pe[fe]===void 0&&(pe[fe]=We[fe]);return{$$typeof:o,type:re,key:Be,ref:Ke,props:pe,_owner:xe.current}}function me(re,F){return{$$typeof:o,type:re.type,key:F,ref:re.ref,props:re.props,_owner:re._owner}}function Ne(re){return typeof re=="object"&&re!==null&&re.$$typeof===o}function te(re){var F={"=":"=0",":":"=2"};return"$"+re.replace(/[=:]/g,function(he){return F[he]})}var G=/\/+/g;function ve(re,F){return typeof re=="object"&&re!==null&&re.key!=null?te(""+re.key):F.toString(36)}function j(re,F,he,fe,pe){var Be=typeof re;(Be==="undefined"||Be==="boolean")&&(re=null);var Ke=!1;if(re===null)Ke=!0;else switch(Be){case"string":case"number":Ke=!0;break;case"object":switch(re.$$typeof){case o:case t:Ke=!0}}if(Ke)return Ke=re,pe=pe(Ke),re=fe===""?"."+ve(Ke,0):fe,de(pe)?(he="",re!=null&&(he=re.replace(G,"$&/")+"/"),j(pe,F,he,"",function(Tt){return Tt})):pe!=null&&(Ne(pe)&&(pe=me(pe,he+(!pe.key||Ke&&Ke.key===pe.key?"":(""+pe.key).replace(G,"$&/")+"/")+re)),F.push(pe)),1;if(Ke=0,fe=fe===""?".":fe+":",de(re))for(var We=0;We<re.length;We++){Be=re[We];var Ye=fe+ve(Be,We);Ke+=j(Be,F,he,Ye,pe)}else if(Ye=A(re),typeof Ye=="function")for(re=Ye.call(re),We=0;!(Be=re.next()).done;)Be=Be.value,Ye=fe+ve(Be,We++),Ke+=j(Be,F,he,Ye,pe);else if(Be==="object")throw F=String(re),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(re).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return Ke}function Ie(re,F,he){if(re==null)return re;var fe=[],pe=0;return j(re,fe,"","",function(Be){return F.call(he,Be,pe++)}),fe}function Ve(re){if(re._status===-1){var F=re._result;F=F(),F.then(function(he){(re._status===0||re._status===-1)&&(re._status=1,re._result=he)},function(he){(re._status===0||re._status===-1)&&(re._status=2,re._result=he)}),re._status===-1&&(re._status=0,re._result=F)}if(re._status===1)return re._result.default;throw re._result}var Fe={current:null},Le={transition:null},Ae={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:Le,ReactCurrentOwner:xe};function Pe(){throw Error("act(...) is not supported in production builds of React.")}return er.Children={map:Ie,forEach:function(re,F,he){Ie(re,function(){F.apply(this,arguments)},he)},count:function(re){var F=0;return Ie(re,function(){F++}),F},toArray:function(re){return Ie(re,function(F){return F})||[]},only:function(re){if(!Ne(re))throw Error("React.Children.only expected to receive a single React element child.");return re}},er.Component=I,er.Fragment=e,er.Profiler=u,er.PureComponent=W,er.StrictMode=i,er.Suspense=g,er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ae,er.act=Pe,er.cloneElement=function(re,F,he){if(re==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+re+".");var fe=R({},re.props),pe=re.key,Be=re.ref,Ke=re._owner;if(F!=null){if(F.ref!==void 0&&(Be=F.ref,Ke=xe.current),F.key!==void 0&&(pe=""+F.key),re.type&&re.type.defaultProps)var We=re.type.defaultProps;for(Ye in F)ie.call(F,Ye)&&!Z.hasOwnProperty(Ye)&&(fe[Ye]=F[Ye]===void 0&&We!==void 0?We[Ye]:F[Ye])}var Ye=arguments.length-2;if(Ye===1)fe.children=he;else if(1<Ye){We=Array(Ye);for(var Tt=0;Tt<Ye;Tt++)We[Tt]=arguments[Tt+2];fe.children=We}return{$$typeof:o,type:re.type,key:pe,ref:Be,props:fe,_owner:Ke}},er.createContext=function(re){return re={$$typeof:c,_currentValue:re,_currentValue2:re,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},re.Provider={$$typeof:l,_context:re},re.Consumer=re},er.createElement=Y,er.createFactory=function(re){var F=Y.bind(null,re);return F.type=re,F},er.createRef=function(){return{current:null}},er.forwardRef=function(re){return{$$typeof:d,render:re}},er.isValidElement=Ne,er.lazy=function(re){return{$$typeof:S,_payload:{_status:-1,_result:re},_init:Ve}},er.memo=function(re,F){return{$$typeof:y,type:re,compare:F===void 0?null:F}},er.startTransition=function(re){var F=Le.transition;Le.transition={};try{re()}finally{Le.transition=F}},er.unstable_act=Pe,er.useCallback=function(re,F){return Fe.current.useCallback(re,F)},er.useContext=function(re){return Fe.current.useContext(re)},er.useDebugValue=function(){},er.useDeferredValue=function(re){return Fe.current.useDeferredValue(re)},er.useEffect=function(re,F){return Fe.current.useEffect(re,F)},er.useId=function(){return Fe.current.useId()},er.useImperativeHandle=function(re,F,he){return Fe.current.useImperativeHandle(re,F,he)},er.useInsertionEffect=function(re,F){return Fe.current.useInsertionEffect(re,F)},er.useLayoutEffect=function(re,F){return Fe.current.useLayoutEffect(re,F)},er.useMemo=function(re,F){return Fe.current.useMemo(re,F)},er.useReducer=function(re,F,he){return Fe.current.useReducer(re,F,he)},er.useRef=function(re){return Fe.current.useRef(re)},er.useState=function(re){return Fe.current.useState(re)},er.useSyncExternalStore=function(re,F,he){return Fe.current.useSyncExternalStore(re,F,he)},er.useTransition=function(){return Fe.current.useTransition()},er.version="18.3.1",er}var Kp;function Ad(){return Kp||(Kp=1,Af.exports=o_()),Af.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jp;function l_(){if(Jp)return vh;Jp=1;var o=Ad(),t=Symbol.for("react.element"),e=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,u=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,g,y){var S,E={},A=null,x=null;y!==void 0&&(A=""+y),g.key!==void 0&&(A=""+g.key),g.ref!==void 0&&(x=g.ref);for(S in g)i.call(g,S)&&!l.hasOwnProperty(S)&&(E[S]=g[S]);if(d&&d.defaultProps)for(S in g=d.defaultProps,g)E[S]===void 0&&(E[S]=g[S]);return{$$typeof:t,type:d,key:A,ref:x,props:E,_owner:u.current}}return vh.Fragment=e,vh.jsx=c,vh.jsxs=c,vh}var Yp;function u_(){return Yp||(Yp=1,Pf.exports=l_()),Pf.exports}var it=u_(),ot=Ad();const Bh=bu(ot);var dc={},Mf={exports:{}},Ja={},Bf={exports:{}},Tf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function h_(){return Xp||(Xp=1,(function(o){function t(Le,Ae){var Pe=Le.length;Le.push(Ae);e:for(;0<Pe;){var re=Pe-1>>>1,F=Le[re];if(0<u(F,Ae))Le[re]=Ae,Le[Pe]=F,Pe=re;else break e}}function e(Le){return Le.length===0?null:Le[0]}function i(Le){if(Le.length===0)return null;var Ae=Le[0],Pe=Le.pop();if(Pe!==Ae){Le[0]=Pe;e:for(var re=0,F=Le.length,he=F>>>1;re<he;){var fe=2*(re+1)-1,pe=Le[fe],Be=fe+1,Ke=Le[Be];if(0>u(pe,Pe))Be<F&&0>u(Ke,pe)?(Le[re]=Ke,Le[Be]=Pe,re=Be):(Le[re]=pe,Le[fe]=Pe,re=fe);else if(Be<F&&0>u(Ke,Pe))Le[re]=Ke,Le[Be]=Pe,re=Be;else break e}}return Ae}function u(Le,Ae){var Pe=Le.sortIndex-Ae.sortIndex;return Pe!==0?Pe:Le.id-Ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;o.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();o.unstable_now=function(){return c.now()-d}}var g=[],y=[],S=1,E=null,A=3,x=!1,R=!1,M=!1,I=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function K(Le){for(var Ae=e(y);Ae!==null;){if(Ae.callback===null)i(y);else if(Ae.startTime<=Le)i(y),Ae.sortIndex=Ae.expirationTime,t(g,Ae);else break;Ae=e(y)}}function de(Le){if(M=!1,K(Le),!R)if(e(g)!==null)R=!0,Ve(ie);else{var Ae=e(y);Ae!==null&&Fe(de,Ae.startTime-Le)}}function ie(Le,Ae){R=!1,M&&(M=!1,O(Y),Y=-1),x=!0;var Pe=A;try{for(K(Ae),E=e(g);E!==null&&(!(E.expirationTime>Ae)||Le&&!te());){var re=E.callback;if(typeof re=="function"){E.callback=null,A=E.priorityLevel;var F=re(E.expirationTime<=Ae);Ae=o.unstable_now(),typeof F=="function"?E.callback=F:E===e(g)&&i(g),K(Ae)}else i(g);E=e(g)}if(E!==null)var he=!0;else{var fe=e(y);fe!==null&&Fe(de,fe.startTime-Ae),he=!1}return he}finally{E=null,A=Pe,x=!1}}var xe=!1,Z=null,Y=-1,me=5,Ne=-1;function te(){return!(o.unstable_now()-Ne<me)}function G(){if(Z!==null){var Le=o.unstable_now();Ne=Le;var Ae=!0;try{Ae=Z(!0,Le)}finally{Ae?ve():(xe=!1,Z=null)}}else xe=!1}var ve;if(typeof W=="function")ve=function(){W(G)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,Ie=j.port2;j.port1.onmessage=G,ve=function(){Ie.postMessage(null)}}else ve=function(){I(G,0)};function Ve(Le){Z=Le,xe||(xe=!0,ve())}function Fe(Le,Ae){Y=I(function(){Le(o.unstable_now())},Ae)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(Le){Le.callback=null},o.unstable_continueExecution=function(){R||x||(R=!0,Ve(ie))},o.unstable_forceFrameRate=function(Le){0>Le||125<Le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):me=0<Le?Math.floor(1e3/Le):5},o.unstable_getCurrentPriorityLevel=function(){return A},o.unstable_getFirstCallbackNode=function(){return e(g)},o.unstable_next=function(Le){switch(A){case 1:case 2:case 3:var Ae=3;break;default:Ae=A}var Pe=A;A=Ae;try{return Le()}finally{A=Pe}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(Le,Ae){switch(Le){case 1:case 2:case 3:case 4:case 5:break;default:Le=3}var Pe=A;A=Le;try{return Ae()}finally{A=Pe}},o.unstable_scheduleCallback=function(Le,Ae,Pe){var re=o.unstable_now();switch(typeof Pe=="object"&&Pe!==null?(Pe=Pe.delay,Pe=typeof Pe=="number"&&0<Pe?re+Pe:re):Pe=re,Le){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=Pe+F,Le={id:S++,callback:Ae,priorityLevel:Le,startTime:Pe,expirationTime:F,sortIndex:-1},Pe>re?(Le.sortIndex=Pe,t(y,Le),e(g)===null&&Le===e(y)&&(M?(O(Y),Y=-1):M=!0,Fe(de,Pe-re))):(Le.sortIndex=F,t(g,Le),R||x||(R=!0,Ve(ie))),Le},o.unstable_shouldYield=te,o.unstable_wrapCallback=function(Le){var Ae=A;return function(){var Pe=A;A=Ae;try{return Le.apply(this,arguments)}finally{A=Pe}}}})(Tf)),Tf}var Qp;function c_(){return Qp||(Qp=1,Bf.exports=h_()),Bf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0;function f_(){if(e0)return Ja;e0=1;var o=Ad(),t=c_();function e(n){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+n,m=1;m<arguments.length;m++)a+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,u={};function l(n,a){c(n,a),c(n+"Capture",a)}function c(n,a){for(u[n]=a,n=0;n<a.length;n++)i.add(a[n])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,S={},E={};function A(n){return g.call(E,n)?!0:g.call(S,n)?!1:y.test(n)?E[n]=!0:(S[n]=!0,!1)}function x(n,a,m,b){if(m!==null&&m.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return b?!1:m!==null?!m.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function R(n,a,m,b){if(a===null||typeof a>"u"||x(n,a,m,b))return!0;if(b)return!1;if(m!==null)switch(m.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function M(n,a,m,b,N,U,ae){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=b,this.attributeNamespace=N,this.mustUseProperty=m,this.propertyName=n,this.type=a,this.sanitizeURL=U,this.removeEmptyString=ae}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){I[n]=new M(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var a=n[0];I[a]=new M(a,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){I[n]=new M(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){I[n]=new M(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){I[n]=new M(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){I[n]=new M(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){I[n]=new M(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){I[n]=new M(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){I[n]=new M(n,5,!1,n.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function W(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var a=n.replace(O,W);I[a]=new M(a,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var a=n.replace(O,W);I[a]=new M(a,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var a=n.replace(O,W);I[a]=new M(a,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){I[n]=new M(n,1,!1,n.toLowerCase(),null,!1,!1)}),I.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){I[n]=new M(n,1,!1,n.toLowerCase(),null,!0,!0)});function K(n,a,m,b){var N=I.hasOwnProperty(a)?I[a]:null;(N!==null?N.type!==0:b||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(R(a,m,N,b)&&(m=null),b||N===null?A(a)&&(m===null?n.removeAttribute(a):n.setAttribute(a,""+m)):N.mustUseProperty?n[N.propertyName]=m===null?N.type===3?!1:"":m:(a=N.attributeName,b=N.attributeNamespace,m===null?n.removeAttribute(a):(N=N.type,m=N===3||N===4&&m===!0?"":""+m,b?n.setAttributeNS(b,a,m):n.setAttribute(a,m))))}var de=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ie=Symbol.for("react.element"),xe=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),me=Symbol.for("react.profiler"),Ne=Symbol.for("react.provider"),te=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),ve=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),Ie=Symbol.for("react.memo"),Ve=Symbol.for("react.lazy"),Fe=Symbol.for("react.offscreen"),Le=Symbol.iterator;function Ae(n){return n===null||typeof n!="object"?null:(n=Le&&n[Le]||n["@@iterator"],typeof n=="function"?n:null)}var Pe=Object.assign,re;function F(n){if(re===void 0)try{throw Error()}catch(m){var a=m.stack.trim().match(/\n( *(at )?)/);re=a&&a[1]||""}return`
`+re+n}var he=!1;function fe(n,a){if(!n||he)return"";he=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(St){var b=St}Reflect.construct(n,[],a)}else{try{a.call()}catch(St){b=St}n.call(a.prototype)}else{try{throw Error()}catch(St){b=St}n()}}catch(St){if(St&&b&&typeof St.stack=="string"){for(var N=St.stack.split(`
`),U=b.stack.split(`
`),ae=N.length-1,ze=U.length-1;1<=ae&&0<=ze&&N[ae]!==U[ze];)ze--;for(;1<=ae&&0<=ze;ae--,ze--)if(N[ae]!==U[ze]){if(ae!==1||ze!==1)do if(ae--,ze--,0>ze||N[ae]!==U[ze]){var Qe=`
`+N[ae].replace(" at new "," at ");return n.displayName&&Qe.includes("<anonymous>")&&(Qe=Qe.replace("<anonymous>",n.displayName)),Qe}while(1<=ae&&0<=ze);break}}}finally{he=!1,Error.prepareStackTrace=m}return(n=n?n.displayName||n.name:"")?F(n):""}function pe(n){switch(n.tag){case 5:return F(n.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return n=fe(n.type,!1),n;case 11:return n=fe(n.type.render,!1),n;case 1:return n=fe(n.type,!0),n;default:return""}}function Be(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Z:return"Fragment";case xe:return"Portal";case me:return"Profiler";case Y:return"StrictMode";case ve:return"Suspense";case j:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case te:return(n.displayName||"Context")+".Consumer";case Ne:return(n._context.displayName||"Context")+".Provider";case G:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Ie:return a=n.displayName||null,a!==null?a:Be(n.type)||"Memo";case Ve:a=n._payload,n=n._init;try{return Be(n(a))}catch{}}return null}function Ke(n){var a=n.type;switch(n.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=a.render,n=n.displayName||n.name||"",a.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Be(a);case 8:return a===Y?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function We(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ye(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Tt(n){var a=Ye(n)?"checked":"value",m=Object.getOwnPropertyDescriptor(n.constructor.prototype,a),b=""+n[a];if(!n.hasOwnProperty(a)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var N=m.get,U=m.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return N.call(this)},set:function(ae){b=""+ae,U.call(this,ae)}}),Object.defineProperty(n,a,{enumerable:m.enumerable}),{getValue:function(){return b},setValue:function(ae){b=""+ae},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function Ot(n){n._valueTracker||(n._valueTracker=Tt(n))}function Gt(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var m=a.getValue(),b="";return n&&(b=Ye(n)?n.checked?"true":"false":n.value),n=b,n!==m?(a.setValue(n),!0):!1}function qt(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function $(n,a){var m=a.checked;return Pe({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??n._wrapperState.initialChecked})}function je(n,a){var m=a.defaultValue==null?"":a.defaultValue,b=a.checked!=null?a.checked:a.defaultChecked;m=We(a.value!=null?a.value:m),n._wrapperState={initialChecked:b,initialValue:m,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function oe(n,a){a=a.checked,a!=null&&K(n,"checked",a,!1)}function Ee(n,a){oe(n,a);var m=We(a.value),b=a.type;if(m!=null)b==="number"?(m===0&&n.value===""||n.value!=m)&&(n.value=""+m):n.value!==""+m&&(n.value=""+m);else if(b==="submit"||b==="reset"){n.removeAttribute("value");return}a.hasOwnProperty("value")?Te(n,a.type,m):a.hasOwnProperty("defaultValue")&&Te(n,a.type,We(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(n.defaultChecked=!!a.defaultChecked)}function we(n,a,m){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var b=a.type;if(!(b!=="submit"&&b!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+n._wrapperState.initialValue,m||a===n.value||(n.value=a),n.defaultValue=a}m=n.name,m!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,m!==""&&(n.name=m)}function Te(n,a,m){(a!=="number"||qt(n.ownerDocument)!==n)&&(m==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+m&&(n.defaultValue=""+m))}var st=Array.isArray;function ht(n,a,m,b){if(n=n.options,a){a={};for(var N=0;N<m.length;N++)a["$"+m[N]]=!0;for(m=0;m<n.length;m++)N=a.hasOwnProperty("$"+n[m].value),n[m].selected!==N&&(n[m].selected=N),N&&b&&(n[m].defaultSelected=!0)}else{for(m=""+We(m),a=null,N=0;N<n.length;N++){if(n[N].value===m){n[N].selected=!0,b&&(n[N].defaultSelected=!0);return}a!==null||n[N].disabled||(a=n[N])}a!==null&&(a.selected=!0)}}function qe(n,a){if(a.dangerouslySetInnerHTML!=null)throw Error(e(91));return Pe({},a,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Lt(n,a){var m=a.value;if(m==null){if(m=a.children,a=a.defaultValue,m!=null){if(a!=null)throw Error(e(92));if(st(m)){if(1<m.length)throw Error(e(93));m=m[0]}a=m}a==null&&(a=""),m=a}n._wrapperState={initialValue:We(m)}}function It(n,a){var m=We(a.value),b=We(a.defaultValue);m!=null&&(m=""+m,m!==n.value&&(n.value=m),a.defaultValue==null&&n.defaultValue!==m&&(n.defaultValue=m)),b!=null&&(n.defaultValue=""+b)}function Bt(n){var a=n.textContent;a===n._wrapperState.initialValue&&a!==""&&a!==null&&(n.value=a)}function Ut(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function an(n,a){return n==null||n==="http://www.w3.org/1999/xhtml"?Ut(a):n==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var tn,on=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,m,b,N){MSApp.execUnsafeLocalFunction(function(){return n(a,m,b,N)})}:n})(function(n,a){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=a;else{for(tn=tn||document.createElement("div"),tn.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=tn.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;a.firstChild;)n.appendChild(a.firstChild)}});function wn(n,a){if(a){var m=n.firstChild;if(m&&m===n.lastChild&&m.nodeType===3){m.nodeValue=a;return}}n.textContent=a}var Vt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ur=["Webkit","ms","Moz","O"];Object.keys(Vt).forEach(function(n){ur.forEach(function(a){a=a+n.charAt(0).toUpperCase()+n.substring(1),Vt[a]=Vt[n]})});function cn(n,a,m){return a==null||typeof a=="boolean"||a===""?"":m||typeof a!="number"||a===0||Vt.hasOwnProperty(n)&&Vt[n]?(""+a).trim():a+"px"}function Dr(n,a){n=n.style;for(var m in a)if(a.hasOwnProperty(m)){var b=m.indexOf("--")===0,N=cn(m,a[m],b);m==="float"&&(m="cssFloat"),b?n.setProperty(m,N):n[m]=N}}var zn=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jn(n,a){if(a){if(zn[n]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(e(137,n));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(e(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(e(61))}if(a.style!=null&&typeof a.style!="object")throw Error(e(62))}}function Ar(n,a){if(n.indexOf("-")===-1)return typeof a.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wn=null;function Ps(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ar=null,Ir=null,Mr=null;function or(n){if(n=js(n)){if(typeof ar!="function")throw Error(e(280));var a=n.stateNode;a&&(a=Ho(a),ar(n.stateNode,n.type,a))}}function En(n){Ir?Mr?Mr.push(n):Mr=[n]:Ir=n}function Yn(){if(Ir){var n=Ir,a=Mr;if(Mr=Ir=null,or(n),a)for(n=0;n<a.length;n++)or(a[n])}}function ma(n,a){return n(a)}function Zr(){}var cs=!1;function Zi(n,a,m){if(cs)return n(a,m);cs=!0;try{return ma(n,a,m)}finally{cs=!1,(Ir!==null||Mr!==null)&&(Zr(),Yn())}}function dn(n,a){var m=n.stateNode;if(m===null)return null;var b=Ho(m);if(b===null)return null;m=b[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(n=n.type,b=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!b;break e;default:n=!1}if(n)return null;if(m&&typeof m!="function")throw Error(e(231,a,typeof m));return m}var Ki=!1;if(d)try{var Ii={};Object.defineProperty(Ii,"passive",{get:function(){Ki=!0}}),window.addEventListener("test",Ii,Ii),window.removeEventListener("test",Ii,Ii)}catch{Ki=!1}function Ri(n,a,m,b,N,U,ae,ze,Qe){var St=Array.prototype.slice.call(arguments,3);try{a.apply(m,St)}catch(zt){this.onError(zt)}}var $n=!1,Kt=null,ii=!1,ga=null,As={onError:function(n){$n=!0,Kt=n}};function fs(n,a,m,b,N,U,ae,ze,Qe){$n=!1,Kt=null,Ri.apply(As,arguments)}function Ji(n,a,m,b,N,U,ae,ze,Qe){if(fs.apply(this,arguments),$n){if($n){var St=Kt;$n=!1,Kt=null}else throw Error(e(198));ii||(ii=!0,ga=St)}}function Kr(n){var a=n,m=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,(a.flags&4098)!==0&&(m=a.return),n=a.return;while(n)}return a.tag===3?m:null}function gi(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function Fi(n){if(Kr(n)!==n)throw Error(e(188))}function qs(n){var a=n.alternate;if(!a){if(a=Kr(n),a===null)throw Error(e(188));return a!==n?null:n}for(var m=n,b=a;;){var N=m.return;if(N===null)break;var U=N.alternate;if(U===null){if(b=N.return,b!==null){m=b;continue}break}if(N.child===U.child){for(U=N.child;U;){if(U===m)return Fi(N),n;if(U===b)return Fi(N),a;U=U.sibling}throw Error(e(188))}if(m.return!==b.return)m=N,b=U;else{for(var ae=!1,ze=N.child;ze;){if(ze===m){ae=!0,m=N,b=U;break}if(ze===b){ae=!0,b=N,m=U;break}ze=ze.sibling}if(!ae){for(ze=U.child;ze;){if(ze===m){ae=!0,m=U,b=N;break}if(ze===b){ae=!0,b=U,m=N;break}ze=ze.sibling}if(!ae)throw Error(e(189))}}if(m.alternate!==b)throw Error(e(190))}if(m.tag!==3)throw Error(e(188));return m.stateNode.current===m?n:a}function Ma(n){return n=qs(n),n!==null?Xa(n):null}function Xa(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var a=Xa(n);if(a!==null)return a;n=n.sibling}return null}var Qa=t.unstable_scheduleCallback,Gs=t.unstable_cancelCallback,Ba=t.unstable_shouldYield,eo=t.unstable_requestPaint,wr=t.unstable_now,wl=t.unstable_getCurrentPriorityLevel,Ta=t.unstable_ImmediatePriority,Io=t.unstable_UserBlockingPriority,_o=t.unstable_NormalPriority,to=t.unstable_LowPriority,Na=t.unstable_IdlePriority,Oa=null,Yi=null;function Xi(n){if(Yi&&typeof Yi.onCommitFiberRoot=="function")try{Yi.onCommitFiberRoot(Oa,n,void 0,(n.current.flags&128)===128)}catch{}}var An=Math.clz32?Math.clz32:_a,Mn=Math.log,Da=Math.LN2;function _a(n){return n>>>=0,n===0?32:31-(Mn(n)/Da|0)|0}var Qi=64,Hs=4194304;function Ln(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Vn(n,a){var m=n.pendingLanes;if(m===0)return 0;var b=0,N=n.suspendedLanes,U=n.pingedLanes,ae=m&268435455;if(ae!==0){var ze=ae&~N;ze!==0?b=Ln(ze):(U&=ae,U!==0&&(b=Ln(U)))}else ae=m&~N,ae!==0?b=Ln(ae):U!==0&&(b=Ln(U));if(b===0)return 0;if(a!==0&&a!==b&&(a&N)===0&&(N=b&-b,U=a&-a,N>=U||N===16&&(U&4194240)!==0))return a;if((b&4)!==0&&(b|=m&16),a=n.entangledLanes,a!==0)for(n=n.entanglements,a&=b;0<a;)m=31-An(a),N=1<<m,b|=n[m],a&=~N;return b}function Ia(n,a){switch(n){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function si(n,a){for(var m=n.suspendedLanes,b=n.pingedLanes,N=n.expirationTimes,U=n.pendingLanes;0<U;){var ae=31-An(U),ze=1<<ae,Qe=N[ae];Qe===-1?((ze&m)===0||(ze&b)!==0)&&(N[ae]=Ia(ze,a)):Qe<=a&&(n.expiredLanes|=ze),U&=~ze}}function Jr(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Ro(){var n=Qi;return Qi<<=1,(Qi&4194240)===0&&(Qi=64),n}function Ra(n){for(var a=[],m=0;31>m;m++)a.push(n);return a}function ji(n,a,m){n.pendingLanes|=a,a!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,a=31-An(a),n[a]=m}function kr(n,a){var m=n.pendingLanes&~a;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=a,n.mutableReadLanes&=a,n.entangledLanes&=a,a=n.entanglements;var b=n.eventTimes;for(n=n.expirationTimes;0<m;){var N=31-An(m),U=1<<N;a[N]=0,b[N]=-1,n[N]=-1,m&=~U}}function ds(n,a){var m=n.entangledLanes|=a;for(n=n.entanglements;m;){var b=31-An(m),N=1<<b;N&a|n[b]&a&&(n[b]|=a),m&=~N}}var Gn=0;function Ws(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var vo,Vs,yo,ps,$s,Zs=!1,va=[],dr=null,Ms=null,es=null,bn=new Map,xn=new Map,zr=[],Hn="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wo(n,a){switch(n){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":Ms=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":bn.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":xn.delete(a.pointerId)}}function Ks(n,a,m,b,N,U){return n===null||n.nativeEvent!==U?(n={blockedOn:a,domEventName:m,eventSystemFlags:b,nativeEvent:U,targetContainers:[N]},a!==null&&(a=js(a),a!==null&&Vs(a)),n):(n.eventSystemFlags|=b,a=n.targetContainers,N!==null&&a.indexOf(N)===-1&&a.push(N),n)}function Fa(n,a,m,b,N){switch(a){case"focusin":return dr=Ks(dr,n,a,m,b,N),!0;case"dragenter":return Ms=Ks(Ms,n,a,m,b,N),!0;case"mouseover":return es=Ks(es,n,a,m,b,N),!0;case"pointerover":var U=N.pointerId;return bn.set(U,Ks(bn.get(U)||null,n,a,m,b,N)),!0;case"gotpointercapture":return U=N.pointerId,xn.set(U,Ks(xn.get(U)||null,n,a,m,b,N)),!0}return!1}function ts(n){var a=Wa(n.target);if(a!==null){var m=Kr(a);if(m!==null){if(a=m.tag,a===13){if(a=gi(m),a!==null){n.blockedOn=a,$s(n.priority,function(){yo(m)});return}}else if(a===3&&m.stateNode.current.memoizedState.isDehydrated){n.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ms(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var m=so(n.domEventName,n.eventSystemFlags,a[0],n.nativeEvent);if(m===null){m=n.nativeEvent;var b=new m.constructor(m.type,m);Wn=b,m.target.dispatchEvent(b),Wn=null}else return a=js(m),a!==null&&Vs(a),n.blockedOn=m,!1;a.shift()}return!0}function bo(n,a,m){ms(n)&&m.delete(a)}function no(){Zs=!1,dr!==null&&ms(dr)&&(dr=null),Ms!==null&&ms(Ms)&&(Ms=null),es!==null&&ms(es)&&(es=null),bn.forEach(bo),xn.forEach(bo)}function gr(n,a){n.blockedOn===a&&(n.blockedOn=null,Zs||(Zs=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,no)))}function ai(n){function a(N){return gr(N,n)}if(0<va.length){gr(va[0],n);for(var m=1;m<va.length;m++){var b=va[m];b.blockedOn===n&&(b.blockedOn=null)}}for(dr!==null&&gr(dr,n),Ms!==null&&gr(Ms,n),es!==null&&gr(es,n),bn.forEach(a),xn.forEach(a),m=0;m<zr.length;m++)b=zr[m],b.blockedOn===n&&(b.blockedOn=null);for(;0<zr.length&&(m=zr[0],m.blockedOn===null);)ts(m),m.blockedOn===null&&zr.shift()}var zi=de.ReactCurrentBatchConfig,ro=!0;function io(n,a,m,b){var N=Gn,U=zi.transition;zi.transition=null;try{Gn=1,Js(n,a,m,b)}finally{Gn=N,zi.transition=U}}function xo(n,a,m,b){var N=Gn,U=zi.transition;zi.transition=null;try{Gn=4,Js(n,a,m,b)}finally{Gn=N,zi.transition=U}}function Js(n,a,m,b){if(ro){var N=so(n,a,m,b);if(N===null)r(n,a,b,Ys,m),wo(n,b);else if(Fa(N,n,a,m,b))b.stopPropagation();else if(wo(n,b),a&4&&-1<Hn.indexOf(n)){for(;N!==null;){var U=js(N);if(U!==null&&vo(U),U=so(n,a,m,b),U===null&&r(n,a,b,Ys,m),U===N)break;N=U}N!==null&&b.stopPropagation()}else r(n,a,b,null,m)}}var Ys=null;function so(n,a,m,b){if(Ys=null,n=Ps(b),n=Wa(n),n!==null)if(a=Kr(n),a===null)n=null;else if(m=a.tag,m===13){if(n=gi(a),n!==null)return n;n=null}else if(m===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null);return Ys=n,null}function In(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wl()){case Ta:return 1;case Io:return 4;case _o:case to:return 16;case Na:return 536870912;default:return 16}default:return 16}}var gs=null,gn=null,Yr=null;function ja(){if(Yr)return Yr;var n,a=gn,m=a.length,b,N="value"in gs?gs.value:gs.textContent,U=N.length;for(n=0;n<m&&a[n]===N[n];n++);var ae=m-n;for(b=1;b<=ae&&a[m-b]===N[U-b];b++);return Yr=N.slice(n,1<b?1-b:void 0)}function Bs(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function oi(){return!0}function Lo(){return!1}function Cr(n){function a(m,b,N,U,ae){this._reactName=m,this._targetInst=N,this.type=b,this.nativeEvent=U,this.target=ae,this.currentTarget=null;for(var ze in n)n.hasOwnProperty(ze)&&(m=n[ze],this[ze]=m?m(U):U[ze]);return this.isDefaultPrevented=(U.defaultPrevented!=null?U.defaultPrevented:U.returnValue===!1)?oi:Lo,this.isPropagationStopped=Lo,this}return Pe(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=oi)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=oi)},persist:function(){},isPersistent:oi}),a}var Ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},za=Cr(Ts),_i=Pe({},Ts,{view:0,detail:0}),ko=Cr(_i),Br,Co,Ns,ki=Pe({},_i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jt,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ns&&(Ns&&n.type==="mousemove"?(Br=n.screenX-Ns.screenX,Co=n.screenY-Ns.screenY):Co=Br=0,Ns=n),Br)},movementY:function(n){return"movementY"in n?n.movementY:Co}}),ao=Cr(ki),Fo=Pe({},ki,{dataTransfer:0}),jo=Cr(Fo),So=Pe({},_i,{relatedTarget:0}),Xs=Cr(So),oo=Pe({},Ts,{animationName:0,elapsedTime:0,pseudoElement:0}),Ua=Cr(oo),Tr=Pe({},Ts,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),P=Cr(Tr),ne=Pe({},Ts,{data:0}),De=Cr(ne),$e={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ft={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ft(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=kt[n])?!!a[n]:!1}function Jt(){return Ft}var en=Pe({},_i,{key:function(n){if(n.key){var a=$e[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=Bs(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ft[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jt,charCode:function(n){return n.type==="keypress"?Bs(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Bs(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),_n=Cr(en),kn=Pe({},ki,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rn=Cr(kn),_r=Pe({},_i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jt}),Zn=Cr(_r),rr=Pe({},Ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ur=Cr(rr),Rr=Pe({},ki,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),ns=Cr(Rr),hr=[9,13,27,32],li=d&&"CompositionEvent"in window,qa=null;d&&"documentMode"in document&&(qa=document.documentMode);var Ci=d&&"TextEvent"in window&&!qa,Eo=d&&(!li||qa&&8<qa&&11>=qa),_s=" ",Po=!1;function Qs(n,a){switch(n){case"keyup":return hr.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ea(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var vr=!1;function Ao(n,a){switch(n){case"compositionend":return ea(a);case"keypress":return a.which!==32?null:(Po=!0,_s);case"textInput":return n=a.data,n===_s&&Po?null:n;default:return null}}function Ui(n,a){if(vr)return n==="compositionend"||!li&&Qs(n,a)?(n=ja(),Yr=gn=gs=null,vr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Eo&&a.locale!=="ko"?null:a.data;default:return null}}var Si={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lo(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!Si[n.type]:a==="textarea"}function ui(n,a,m,b){En(b),a=w(a,"onChange"),0<a.length&&(m=new za("onChange","change",null,m,b),n.push({event:m,listeners:a}))}var rs=null,hi=null;function ll(n){as(n,0)}function Sr(n){var a=La(n);if(Gt(a))return n}function ta(n,a){if(n==="change")return a}var is=!1;if(d){var ya;if(d){var Os="oninput"in document;if(!Os){var Ds=document.createElement("div");Ds.setAttribute("oninput","return;"),Os=typeof Ds.oninput=="function"}ya=Os}else ya=!1;is=ya&&(!document.documentMode||9<document.documentMode)}function Xr(){rs&&(rs.detachEvent("onpropertychange",qr),hi=rs=null)}function qr(n){if(n.propertyName==="value"&&Sr(hi)){var a=[];ui(a,hi,n,Ps(n)),Zi(ll,a)}}function Is(n,a,m){n==="focusin"?(Xr(),rs=a,hi=m,rs.attachEvent("onpropertychange",qr)):n==="focusout"&&Xr()}function qi(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Sr(hi)}function vs(n,a){if(n==="click")return Sr(a)}function wa(n,a){if(n==="input"||n==="change")return Sr(a)}function ys(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var Xn=typeof Object.is=="function"?Object.is:ys;function Gi(n,a){if(Xn(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var m=Object.keys(n),b=Object.keys(a);if(m.length!==b.length)return!1;for(b=0;b<m.length;b++){var N=m[b];if(!g.call(a,N)||!Xn(n[N],a[N]))return!1}return!0}function vi(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ci(n,a){var m=vi(n);n=0;for(var b;m;){if(m.nodeType===3){if(b=n+m.textContent.length,n<=a&&b>=a)return{node:m,offset:a-n};n=b}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=vi(m)}}function Ga(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?Ga(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function Mo(){for(var n=window,a=qt();a instanceof n.HTMLIFrameElement;){try{var m=typeof a.contentWindow.location.href=="string"}catch{m=!1}if(m)n=a.contentWindow;else break;a=qt(n.document)}return a}function uo(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}function yi(n){var a=Mo(),m=n.focusedElem,b=n.selectionRange;if(a!==m&&m&&m.ownerDocument&&Ga(m.ownerDocument.documentElement,m)){if(b!==null&&uo(m)){if(a=b.start,n=b.end,n===void 0&&(n=a),"selectionStart"in m)m.selectionStart=a,m.selectionEnd=Math.min(n,m.value.length);else if(n=(a=m.ownerDocument||document)&&a.defaultView||window,n.getSelection){n=n.getSelection();var N=m.textContent.length,U=Math.min(b.start,N);b=b.end===void 0?U:Math.min(b.end,N),!n.extend&&U>b&&(N=b,b=U,U=N),N=ci(m,U);var ae=ci(m,b);N&&ae&&(n.rangeCount!==1||n.anchorNode!==N.node||n.anchorOffset!==N.offset||n.focusNode!==ae.node||n.focusOffset!==ae.offset)&&(a=a.createRange(),a.setStart(N.node,N.offset),n.removeAllRanges(),U>b?(n.addRange(a),n.extend(ae.node,ae.offset)):(a.setEnd(ae.node,ae.offset),n.addRange(a)))}}for(a=[],n=m;n=n.parentNode;)n.nodeType===1&&a.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<a.length;m++)n=a[m],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Hi=d&&"documentMode"in document&&11>=document.documentMode,ss=null,ws=null,na=null,ra=!1;function ba(n,a,m){var b=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;ra||ss==null||ss!==qt(b)||(b=ss,"selectionStart"in b&&uo(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),na&&Gi(na,b)||(na=b,b=w(ws,"onSelect"),0<b.length&&(a=new za("onSelect","select",null,a,m),n.push({event:a,listeners:b}),a.target=ss)))}function bs(n,a){var m={};return m[n.toLowerCase()]=a.toLowerCase(),m["Webkit"+n]="webkit"+a,m["Moz"+n]="moz"+a,m}var fi={animationend:bs("Animation","AnimationEnd"),animationiteration:bs("Animation","AnimationIteration"),animationstart:bs("Animation","AnimationStart"),transitionend:bs("Transition","TransitionEnd")},Gr={},ir={};d&&(ir=document.createElement("div").style,"AnimationEvent"in window||(delete fi.animationend.animation,delete fi.animationiteration.animation,delete fi.animationstart.animation),"TransitionEvent"in window||delete fi.transitionend.transition);function Qn(n){if(Gr[n])return Gr[n];if(!fi[n])return n;var a=fi[n],m;for(m in a)if(a.hasOwnProperty(m)&&m in ir)return Gr[n]=a[m];return n}var Er=Qn("animationend"),lr=Qn("animationiteration"),xs=Qn("animationstart"),xa=Qn("transitionend"),Rs=new Map,zo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ei(n,a){Rs.set(n,a),l(a,[n])}for(var Nr=0;Nr<zo.length;Nr++){var sr=zo[Nr],Wi=sr.toLowerCase(),Vi=sr[0].toUpperCase()+sr.slice(1);Ei(Wi,"on"+Vi)}Ei(Er,"onAnimationEnd"),Ei(lr,"onAnimationIteration"),Ei(xs,"onAnimationStart"),Ei("dblclick","onDoubleClick"),Ei("focusin","onFocus"),Ei("focusout","onBlur"),Ei(xa,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uo=new Set("cancel close invalid load scroll toggle".split(" ").concat(yn));function Ha(n,a,m){var b=n.type||"unknown-event";n.currentTarget=m,Ji(b,a,void 0,n),n.currentTarget=null}function as(n,a){a=(a&4)!==0;for(var m=0;m<n.length;m++){var b=n[m],N=b.event;b=b.listeners;e:{var U=void 0;if(a)for(var ae=b.length-1;0<=ae;ae--){var ze=b[ae],Qe=ze.instance,St=ze.currentTarget;if(ze=ze.listener,Qe!==U&&N.isPropagationStopped())break e;Ha(N,ze,St),U=Qe}else for(ae=0;ae<b.length;ae++){if(ze=b[ae],Qe=ze.instance,St=ze.currentTarget,ze=ze.listener,Qe!==U&&N.isPropagationStopped())break e;Ha(N,ze,St),U=Qe}}}if(ii)throw n=ga,ii=!1,ga=null,n}function Pn(n,a){var m=a[ni];m===void 0&&(m=a[ni]=new Set);var b=n+"__bubble";m.has(b)||(Fs(a,n,2,!1),m.add(b))}function qo(n,a,m){var b=0;a&&(b|=4),Fs(m,n,b,a)}var Qr="_reactListening"+Math.random().toString(36).slice(2);function Hr(n){if(!n[Qr]){n[Qr]=!0,i.forEach(function(m){m!=="selectionchange"&&(Uo.has(m)||qo(m,!1,n),qo(m,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[Qr]||(a[Qr]=!0,qo("selectionchange",!1,a))}}function Fs(n,a,m,b){switch(In(a)){case 1:var N=io;break;case 4:N=xo;break;default:N=Js}m=N.bind(null,a,m,n),N=void 0,!Ki||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(N=!0),b?N!==void 0?n.addEventListener(a,m,{capture:!0,passive:N}):n.addEventListener(a,m,!0):N!==void 0?n.addEventListener(a,m,{passive:N}):n.addEventListener(a,m,!1)}function r(n,a,m,b,N){var U=b;if((a&1)===0&&(a&2)===0&&b!==null)e:for(;;){if(b===null)return;var ae=b.tag;if(ae===3||ae===4){var ze=b.stateNode.containerInfo;if(ze===N||ze.nodeType===8&&ze.parentNode===N)break;if(ae===4)for(ae=b.return;ae!==null;){var Qe=ae.tag;if((Qe===3||Qe===4)&&(Qe=ae.stateNode.containerInfo,Qe===N||Qe.nodeType===8&&Qe.parentNode===N))return;ae=ae.return}for(;ze!==null;){if(ae=Wa(ze),ae===null)return;if(Qe=ae.tag,Qe===5||Qe===6){b=U=ae;continue e}ze=ze.parentNode}}b=b.return}Zi(function(){var St=U,zt=Ps(m),Ht=[];e:{var jt=Rs.get(n);if(jt!==void 0){var sn=za,un=n;switch(n){case"keypress":if(Bs(m)===0)break e;case"keydown":case"keyup":sn=_n;break;case"focusin":un="focus",sn=Xs;break;case"focusout":un="blur",sn=Xs;break;case"beforeblur":case"afterblur":sn=Xs;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":sn=ao;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":sn=jo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":sn=Zn;break;case Er:case lr:case xs:sn=Ua;break;case xa:sn=Ur;break;case"scroll":sn=ko;break;case"wheel":sn=ns;break;case"copy":case"cut":case"paste":sn=P;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":sn=Rn}var fn=(a&4)!==0,Ti=!fn&&n==="scroll",wt=fn?jt!==null?jt+"Capture":null:jt;fn=[];for(var at=St,bt;at!==null;){bt=at;var $t=bt.stateNode;if(bt.tag===5&&$t!==null&&(bt=$t,wt!==null&&($t=dn(at,wt),$t!=null&&fn.push(f(at,$t,bt)))),Ti)break;at=at.return}0<fn.length&&(jt=new sn(jt,un,null,m,zt),Ht.push({event:jt,listeners:fn}))}}if((a&7)===0){e:{if(jt=n==="mouseover"||n==="pointerover",sn=n==="mouseout"||n==="pointerout",jt&&m!==Wn&&(un=m.relatedTarget||m.fromElement)&&(Wa(un)||un[Un]))break e;if((sn||jt)&&(jt=zt.window===zt?zt:(jt=zt.ownerDocument)?jt.defaultView||jt.parentWindow:window,sn?(un=m.relatedTarget||m.toElement,sn=St,un=un?Wa(un):null,un!==null&&(Ti=Kr(un),un!==Ti||un.tag!==5&&un.tag!==6)&&(un=null)):(sn=null,un=St),sn!==un)){if(fn=ao,$t="onMouseLeave",wt="onMouseEnter",at="mouse",(n==="pointerout"||n==="pointerover")&&(fn=Rn,$t="onPointerLeave",wt="onPointerEnter",at="pointer"),Ti=sn==null?jt:La(sn),bt=un==null?jt:La(un),jt=new fn($t,at+"leave",sn,m,zt),jt.target=Ti,jt.relatedTarget=bt,$t=null,Wa(zt)===St&&(fn=new fn(wt,at+"enter",un,m,zt),fn.target=bt,fn.relatedTarget=Ti,$t=fn),Ti=$t,sn&&un)t:{for(fn=sn,wt=un,at=0,bt=fn;bt;bt=T(bt))at++;for(bt=0,$t=wt;$t;$t=T($t))bt++;for(;0<at-bt;)fn=T(fn),at--;for(;0<bt-at;)wt=T(wt),bt--;for(;at--;){if(fn===wt||wt!==null&&fn===wt.alternate)break t;fn=T(fn),wt=T(wt)}fn=null}else fn=null;sn!==null&&V(Ht,jt,sn,fn,!1),un!==null&&Ti!==null&&V(Ht,Ti,un,fn,!0)}}e:{if(jt=St?La(St):window,sn=jt.nodeName&&jt.nodeName.toLowerCase(),sn==="select"||sn==="input"&&jt.type==="file")var vn=ta;else if(lo(jt))if(is)vn=wa;else{vn=qi;var Cn=Is}else(sn=jt.nodeName)&&sn.toLowerCase()==="input"&&(jt.type==="checkbox"||jt.type==="radio")&&(vn=vs);if(vn&&(vn=vn(n,St))){ui(Ht,vn,m,zt);break e}Cn&&Cn(n,jt,St),n==="focusout"&&(Cn=jt._wrapperState)&&Cn.controlled&&jt.type==="number"&&Te(jt,"number",jt.value)}switch(Cn=St?La(St):window,n){case"focusin":(lo(Cn)||Cn.contentEditable==="true")&&(ss=Cn,ws=St,na=null);break;case"focusout":na=ws=ss=null;break;case"mousedown":ra=!0;break;case"contextmenu":case"mouseup":case"dragend":ra=!1,ba(Ht,m,zt);break;case"selectionchange":if(Hi)break;case"keydown":case"keyup":ba(Ht,m,zt)}var Sn;if(li)e:{switch(n){case"compositionstart":var Nn="onCompositionStart";break e;case"compositionend":Nn="onCompositionEnd";break e;case"compositionupdate":Nn="onCompositionUpdate";break e}Nn=void 0}else vr?Qs(n,m)&&(Nn="onCompositionEnd"):n==="keydown"&&m.keyCode===229&&(Nn="onCompositionStart");Nn&&(Eo&&m.locale!=="ko"&&(vr||Nn!=="onCompositionStart"?Nn==="onCompositionEnd"&&vr&&(Sn=ja()):(gs=zt,gn="value"in gs?gs.value:gs.textContent,vr=!0)),Cn=w(St,Nn),0<Cn.length&&(Nn=new De(Nn,n,null,m,zt),Ht.push({event:Nn,listeners:Cn}),Sn?Nn.data=Sn:(Sn=ea(m),Sn!==null&&(Nn.data=Sn)))),(Sn=Ci?Ao(n,m):Ui(n,m))&&(St=w(St,"onBeforeInput"),0<St.length&&(zt=new De("onBeforeInput","beforeinput",null,m,zt),Ht.push({event:zt,listeners:St}),zt.data=Sn))}as(Ht,a)})}function f(n,a,m){return{instance:n,listener:a,currentTarget:m}}function w(n,a){for(var m=a+"Capture",b=[];n!==null;){var N=n,U=N.stateNode;N.tag===5&&U!==null&&(N=U,U=dn(n,m),U!=null&&b.unshift(f(n,U,N)),U=dn(n,a),U!=null&&b.push(f(n,U,N))),n=n.return}return b}function T(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function V(n,a,m,b,N){for(var U=a._reactName,ae=[];m!==null&&m!==b;){var ze=m,Qe=ze.alternate,St=ze.stateNode;if(Qe!==null&&Qe===b)break;ze.tag===5&&St!==null&&(ze=St,N?(Qe=dn(m,U),Qe!=null&&ae.unshift(f(m,Qe,ze))):N||(Qe=dn(m,U),Qe!=null&&ae.push(f(m,Qe,ze)))),m=m.return}ae.length!==0&&n.push({event:a,listeners:ae})}var le=/\r\n?/g,He=/\u0000|\uFFFD/g;function mt(n){return(typeof n=="string"?n:""+n).replace(le,`
`).replace(He,"")}function xt(n,a,m){if(a=mt(a),mt(n)!==a&&m)throw Error(e(425))}function Rt(){}var Yt=null,pn=null;function On(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var di=typeof setTimeout=="function"?setTimeout:void 0,Wr=typeof clearTimeout=="function"?clearTimeout:void 0,Pi=typeof Promise=="function"?Promise:void 0,Pr=typeof queueMicrotask=="function"?queueMicrotask:typeof Pi<"u"?function(n){return Pi.resolve(null).then(n).catch(ia)}:di;function ia(n){setTimeout(function(){throw n})}function Go(n,a){var m=a,b=0;do{var N=m.nextSibling;if(n.removeChild(m),N&&N.nodeType===8)if(m=N.data,m==="/$"){if(b===0){n.removeChild(N),ai(a);return}b--}else m!=="$"&&m!=="$?"&&m!=="$!"||b++;m=N}while(m);ai(a)}function ei(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return n}function os(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var m=n.data;if(m==="$"||m==="$!"||m==="$?"){if(a===0)return n;a--}else m==="/$"&&a++}n=n.previousSibling}return null}var ti=Math.random().toString(36).slice(2),sa="__reactFiber$"+ti,ho="__reactProps$"+ti,Un="__reactContainer$"+ti,ni="__reactEvents$"+ti,nu="__reactListeners$"+ti,aa="__reactHandles$"+ti;function Wa(n){var a=n[sa];if(a)return a;for(var m=n.parentNode;m;){if(a=m[Un]||m[sa]){if(m=a.alternate,a.child!==null||m!==null&&m.child!==null)for(n=os(n);n!==null;){if(m=n[sa])return m;n=os(n)}return a}n=m,m=n.parentNode}return null}function js(n){return n=n[sa]||n[Un],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function La(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(e(33))}function Ho(n){return n[ho]||null}var Nl=[],co=-1;function oa(n){return{current:n}}function cr(n){0>co||(n.current=Nl[co],Nl[co]=null,co--)}function pr(n,a){co++,Nl[co]=n.current,n.current=a}var Bo={},Vr=oa(Bo),Ai=oa(!1),Wo=Bo;function ul(n,a){var m=n.type.contextTypes;if(!m)return Bo;var b=n.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===a)return b.__reactInternalMemoizedMaskedChildContext;var N={},U;for(U in m)N[U]=a[U];return b&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=a,n.__reactInternalMemoizedMaskedChildContext=N),N}function Mi(n){return n=n.childContextTypes,n!=null}function Vo(){cr(Ai),cr(Vr)}function ru(n,a,m){if(Vr.current!==Bo)throw Error(e(168));pr(Vr,a),pr(Ai,m)}function iu(n,a,m){var b=n.stateNode;if(a=a.childContextTypes,typeof b.getChildContext!="function")return m;b=b.getChildContext();for(var N in b)if(!(N in a))throw Error(e(108,Ke(n)||"Unknown",N));return Pe({},m,b)}function $o(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Bo,Wo=Vr.current,pr(Vr,n),pr(Ai,Ai.current),!0}function su(n,a,m){var b=n.stateNode;if(!b)throw Error(e(169));m?(n=iu(n,a,Wo),b.__reactInternalMemoizedMergedChildContext=n,cr(Ai),cr(Vr),pr(Vr,n)):cr(Ai),pr(Ai,m)}var Va=null,bl=!1,_=!1;function C(n){Va===null?Va=[n]:Va.push(n)}function D(n){bl=!0,C(n)}function H(){if(!_&&Va!==null){_=!0;var n=0,a=Gn;try{var m=Va;for(Gn=1;n<m.length;n++){var b=m[n];do b=b(!0);while(b!==null)}Va=null,bl=!1}catch(N){throw Va!==null&&(Va=Va.slice(n+1)),Qa(Ta,H),N}finally{Gn=a,_=!1}}return null}var Q=[],se=0,ue=null,_e=0,ye=[],Se=0,Je=null,_t=1,vt="";function lt(n,a){Q[se++]=_e,Q[se++]=ue,ue=n,_e=a}function Pt(n,a,m){ye[Se++]=_t,ye[Se++]=vt,ye[Se++]=Je,Je=n;var b=_t;n=vt;var N=32-An(b)-1;b&=~(1<<N),m+=1;var U=32-An(a)+N;if(30<U){var ae=N-N%5;U=(b&(1<<ae)-1).toString(32),b>>=ae,N-=ae,_t=1<<32-An(a)+N|m<<N|b,vt=U+n}else _t=1<<U|m<<N|b,vt=n}function Ct(n){n.return!==null&&(lt(n,1),Pt(n,1,0))}function et(n){for(;n===ue;)ue=Q[--se],Q[se]=null,_e=Q[--se],Q[se]=null;for(;n===Je;)Je=ye[--Se],ye[Se]=null,vt=ye[--Se],ye[Se]=null,_t=ye[--Se],ye[Se]=null}var tt=null,At=null,Mt=!1,Nt=null;function Qt(n,a){var m=Do(5,null,null,0);m.elementType="DELETED",m.stateNode=a,m.return=n,a=n.deletions,a===null?(n.deletions=[m],n.flags|=16):a.push(m)}function s(n,a){switch(n.tag){case 5:var m=n.type;return a=a.nodeType!==1||m.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(n.stateNode=a,tt=n,At=ei(a.firstChild),!0):!1;case 6:return a=n.pendingProps===""||a.nodeType!==3?null:a,a!==null?(n.stateNode=a,tt=n,At=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(m=Je!==null?{id:_t,overflow:vt}:null,n.memoizedState={dehydrated:a,treeContext:m,retryLane:1073741824},m=Do(18,null,null,0),m.stateNode=a,m.return=n,n.child=m,tt=n,At=null,!0):!1;default:return!1}}function h(n){return(n.mode&1)!==0&&(n.flags&128)===0}function p(n){if(Mt){var a=At;if(a){var m=a;if(!s(n,a)){if(h(n))throw Error(e(418));a=ei(m.nextSibling);var b=tt;a&&s(n,a)?Qt(b,m):(n.flags=n.flags&-4097|2,Mt=!1,tt=n)}}else{if(h(n))throw Error(e(418));n.flags=n.flags&-4097|2,Mt=!1,tt=n}}}function v(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;tt=n}function k(n){if(n!==tt)return!1;if(!Mt)return v(n),Mt=!0,!1;var a;if((a=n.tag!==3)&&!(a=n.tag!==5)&&(a=n.type,a=a!=="head"&&a!=="body"&&!On(n.type,n.memoizedProps)),a&&(a=At)){if(h(n))throw B(),Error(e(418));for(;a;)Qt(n,a),a=ei(a.nextSibling)}if(v(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(e(317));e:{for(n=n.nextSibling,a=0;n;){if(n.nodeType===8){var m=n.data;if(m==="/$"){if(a===0){At=ei(n.nextSibling);break e}a--}else m!=="$"&&m!=="$!"&&m!=="$?"||a++}n=n.nextSibling}At=null}}else At=tt?ei(n.stateNode.nextSibling):null;return!0}function B(){for(var n=At;n;)n=ei(n.nextSibling)}function z(){At=tt=null,Mt=!1}function q(n){Nt===null?Nt=[n]:Nt.push(n)}var J=de.ReactCurrentBatchConfig;function ee(n,a,m){if(n=m.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(e(309));var b=m.stateNode}if(!b)throw Error(e(147,n));var N=b,U=""+n;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===U?a.ref:(a=function(ae){var ze=N.refs;ae===null?delete ze[U]:ze[U]=ae},a._stringRef=U,a)}if(typeof n!="string")throw Error(e(284));if(!m._owner)throw Error(e(290,n))}return n}function Re(n,a){throw n=Object.prototype.toString.call(a),Error(e(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n))}function Me(n){var a=n._init;return a(n._payload)}function ut(n){function a(wt,at){if(n){var bt=wt.deletions;bt===null?(wt.deletions=[at],wt.flags|=16):bt.push(at)}}function m(wt,at){if(!n)return null;for(;at!==null;)a(wt,at),at=at.sibling;return null}function b(wt,at){for(wt=new Map;at!==null;)at.key!==null?wt.set(at.key,at):wt.set(at.index,at),at=at.sibling;return wt}function N(wt,at){return wt=ql(wt,at),wt.index=0,wt.sibling=null,wt}function U(wt,at,bt){return wt.index=bt,n?(bt=wt.alternate,bt!==null?(bt=bt.index,bt<at?(wt.flags|=2,at):bt):(wt.flags|=2,at)):(wt.flags|=1048576,at)}function ae(wt){return n&&wt.alternate===null&&(wt.flags|=2),wt}function ze(wt,at,bt,$t){return at===null||at.tag!==6?(at=xf(bt,wt.mode,$t),at.return=wt,at):(at=N(at,bt),at.return=wt,at)}function Qe(wt,at,bt,$t){var vn=bt.type;return vn===Z?zt(wt,at,bt.props.children,$t,bt.key):at!==null&&(at.elementType===vn||typeof vn=="object"&&vn!==null&&vn.$$typeof===Ve&&Me(vn)===at.type)?($t=N(at,bt.props),$t.ref=ee(wt,at,bt),$t.return=wt,$t):($t=sc(bt.type,bt.key,bt.props,null,wt.mode,$t),$t.ref=ee(wt,at,bt),$t.return=wt,$t)}function St(wt,at,bt,$t){return at===null||at.tag!==4||at.stateNode.containerInfo!==bt.containerInfo||at.stateNode.implementation!==bt.implementation?(at=Lf(bt,wt.mode,$t),at.return=wt,at):(at=N(at,bt.children||[]),at.return=wt,at)}function zt(wt,at,bt,$t,vn){return at===null||at.tag!==7?(at=du(bt,wt.mode,$t,vn),at.return=wt,at):(at=N(at,bt),at.return=wt,at)}function Ht(wt,at,bt){if(typeof at=="string"&&at!==""||typeof at=="number")return at=xf(""+at,wt.mode,bt),at.return=wt,at;if(typeof at=="object"&&at!==null){switch(at.$$typeof){case ie:return bt=sc(at.type,at.key,at.props,null,wt.mode,bt),bt.ref=ee(wt,null,at),bt.return=wt,bt;case xe:return at=Lf(at,wt.mode,bt),at.return=wt,at;case Ve:var $t=at._init;return Ht(wt,$t(at._payload),bt)}if(st(at)||Ae(at))return at=du(at,wt.mode,bt,null),at.return=wt,at;Re(wt,at)}return null}function jt(wt,at,bt,$t){var vn=at!==null?at.key:null;if(typeof bt=="string"&&bt!==""||typeof bt=="number")return vn!==null?null:ze(wt,at,""+bt,$t);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case ie:return bt.key===vn?Qe(wt,at,bt,$t):null;case xe:return bt.key===vn?St(wt,at,bt,$t):null;case Ve:return vn=bt._init,jt(wt,at,vn(bt._payload),$t)}if(st(bt)||Ae(bt))return vn!==null?null:zt(wt,at,bt,$t,null);Re(wt,bt)}return null}function sn(wt,at,bt,$t,vn){if(typeof $t=="string"&&$t!==""||typeof $t=="number")return wt=wt.get(bt)||null,ze(at,wt,""+$t,vn);if(typeof $t=="object"&&$t!==null){switch($t.$$typeof){case ie:return wt=wt.get($t.key===null?bt:$t.key)||null,Qe(at,wt,$t,vn);case xe:return wt=wt.get($t.key===null?bt:$t.key)||null,St(at,wt,$t,vn);case Ve:var Cn=$t._init;return sn(wt,at,bt,Cn($t._payload),vn)}if(st($t)||Ae($t))return wt=wt.get(bt)||null,zt(at,wt,$t,vn,null);Re(at,$t)}return null}function un(wt,at,bt,$t){for(var vn=null,Cn=null,Sn=at,Nn=at=0,Cs=null;Sn!==null&&Nn<bt.length;Nn++){Sn.index>Nn?(Cs=Sn,Sn=null):Cs=Sn.sibling;var mr=jt(wt,Sn,bt[Nn],$t);if(mr===null){Sn===null&&(Sn=Cs);break}n&&Sn&&mr.alternate===null&&a(wt,Sn),at=U(mr,at,Nn),Cn===null?vn=mr:Cn.sibling=mr,Cn=mr,Sn=Cs}if(Nn===bt.length)return m(wt,Sn),Mt&&lt(wt,Nn),vn;if(Sn===null){for(;Nn<bt.length;Nn++)Sn=Ht(wt,bt[Nn],$t),Sn!==null&&(at=U(Sn,at,Nn),Cn===null?vn=Sn:Cn.sibling=Sn,Cn=Sn);return Mt&&lt(wt,Nn),vn}for(Sn=b(wt,Sn);Nn<bt.length;Nn++)Cs=sn(Sn,wt,Nn,bt[Nn],$t),Cs!==null&&(n&&Cs.alternate!==null&&Sn.delete(Cs.key===null?Nn:Cs.key),at=U(Cs,at,Nn),Cn===null?vn=Cs:Cn.sibling=Cs,Cn=Cs);return n&&Sn.forEach(function(Gl){return a(wt,Gl)}),Mt&&lt(wt,Nn),vn}function fn(wt,at,bt,$t){var vn=Ae(bt);if(typeof vn!="function")throw Error(e(150));if(bt=vn.call(bt),bt==null)throw Error(e(151));for(var Cn=vn=null,Sn=at,Nn=at=0,Cs=null,mr=bt.next();Sn!==null&&!mr.done;Nn++,mr=bt.next()){Sn.index>Nn?(Cs=Sn,Sn=null):Cs=Sn.sibling;var Gl=jt(wt,Sn,mr.value,$t);if(Gl===null){Sn===null&&(Sn=Cs);break}n&&Sn&&Gl.alternate===null&&a(wt,Sn),at=U(Gl,at,Nn),Cn===null?vn=Gl:Cn.sibling=Gl,Cn=Gl,Sn=Cs}if(mr.done)return m(wt,Sn),Mt&&lt(wt,Nn),vn;if(Sn===null){for(;!mr.done;Nn++,mr=bt.next())mr=Ht(wt,mr.value,$t),mr!==null&&(at=U(mr,at,Nn),Cn===null?vn=mr:Cn.sibling=mr,Cn=mr);return Mt&&lt(wt,Nn),vn}for(Sn=b(wt,Sn);!mr.done;Nn++,mr=bt.next())mr=sn(Sn,wt,Nn,mr.value,$t),mr!==null&&(n&&mr.alternate!==null&&Sn.delete(mr.key===null?Nn:mr.key),at=U(mr,at,Nn),Cn===null?vn=mr:Cn.sibling=mr,Cn=mr);return n&&Sn.forEach(function(a_){return a(wt,a_)}),Mt&&lt(wt,Nn),vn}function Ti(wt,at,bt,$t){if(typeof bt=="object"&&bt!==null&&bt.type===Z&&bt.key===null&&(bt=bt.props.children),typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case ie:e:{for(var vn=bt.key,Cn=at;Cn!==null;){if(Cn.key===vn){if(vn=bt.type,vn===Z){if(Cn.tag===7){m(wt,Cn.sibling),at=N(Cn,bt.props.children),at.return=wt,wt=at;break e}}else if(Cn.elementType===vn||typeof vn=="object"&&vn!==null&&vn.$$typeof===Ve&&Me(vn)===Cn.type){m(wt,Cn.sibling),at=N(Cn,bt.props),at.ref=ee(wt,Cn,bt),at.return=wt,wt=at;break e}m(wt,Cn);break}else a(wt,Cn);Cn=Cn.sibling}bt.type===Z?(at=du(bt.props.children,wt.mode,$t,bt.key),at.return=wt,wt=at):($t=sc(bt.type,bt.key,bt.props,null,wt.mode,$t),$t.ref=ee(wt,at,bt),$t.return=wt,wt=$t)}return ae(wt);case xe:e:{for(Cn=bt.key;at!==null;){if(at.key===Cn)if(at.tag===4&&at.stateNode.containerInfo===bt.containerInfo&&at.stateNode.implementation===bt.implementation){m(wt,at.sibling),at=N(at,bt.children||[]),at.return=wt,wt=at;break e}else{m(wt,at);break}else a(wt,at);at=at.sibling}at=Lf(bt,wt.mode,$t),at.return=wt,wt=at}return ae(wt);case Ve:return Cn=bt._init,Ti(wt,at,Cn(bt._payload),$t)}if(st(bt))return un(wt,at,bt,$t);if(Ae(bt))return fn(wt,at,bt,$t);Re(wt,bt)}return typeof bt=="string"&&bt!==""||typeof bt=="number"?(bt=""+bt,at!==null&&at.tag===6?(m(wt,at.sibling),at=N(at,bt),at.return=wt,wt=at):(m(wt,at),at=xf(bt,wt.mode,$t),at.return=wt,wt=at),ae(wt)):m(wt,at)}return Ti}var gt=ut(!0),Et=ut(!1),Wt=oa(null),Zt=null,mn=null,Oe=null;function Ue(){Oe=mn=Zt=null}function nt(n){var a=Wt.current;cr(Wt),n._currentValue=a}function yt(n,a,m){for(;n!==null;){var b=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,b!==null&&(b.childLanes|=a)):b!==null&&(b.childLanes&a)!==a&&(b.childLanes|=a),n===m)break;n=n.return}}function rt(n,a){Zt=n,Oe=mn=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&a)!==0&&($a=!0),n.firstContext=null)}function dt(n){var a=n._currentValue;if(Oe!==n)if(n={context:n,memoizedValue:a,next:null},mn===null){if(Zt===null)throw Error(e(308));mn=n,Zt.dependencies={lanes:0,firstContext:n}}else mn=mn.next=n;return a}var X=null;function ce(n){X===null?X=[n]:X.push(n)}function be(n,a,m,b){var N=a.interleaved;return N===null?(m.next=m,ce(a)):(m.next=N.next,N.next=m),a.interleaved=m,ge(n,b)}function ge(n,a){n.lanes|=a;var m=n.alternate;for(m!==null&&(m.lanes|=a),m=n,n=n.return;n!==null;)n.childLanes|=a,m=n.alternate,m!==null&&(m.childLanes|=a),m=n,n=n.return;return m.tag===3?m.stateNode:null}var ke=!1;function Ce(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ze(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ge(n,a){return{eventTime:n,lane:a,tag:0,payload:null,callback:null,next:null}}function Xe(n,a,m){var b=n.updateQueue;if(b===null)return null;if(b=b.shared,(fr&2)!==0){var N=b.pending;return N===null?a.next=a:(a.next=N.next,N.next=a),b.pending=a,ge(n,m)}return N=b.interleaved,N===null?(a.next=a,ce(b)):(a.next=N.next,N.next=a),b.interleaved=a,ge(n,m)}function pt(n,a,m){if(a=a.updateQueue,a!==null&&(a=a.shared,(m&4194240)!==0)){var b=a.lanes;b&=n.pendingLanes,m|=b,a.lanes=m,ds(n,m)}}function ct(n,a){var m=n.updateQueue,b=n.alternate;if(b!==null&&(b=b.updateQueue,m===b)){var N=null,U=null;if(m=m.firstBaseUpdate,m!==null){do{var ae={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};U===null?N=U=ae:U=U.next=ae,m=m.next}while(m!==null);U===null?N=U=a:U=U.next=a}else N=U=a;m={baseState:b.baseState,firstBaseUpdate:N,lastBaseUpdate:U,shared:b.shared,effects:b.effects},n.updateQueue=m;return}n=m.lastBaseUpdate,n===null?m.firstBaseUpdate=a:n.next=a,m.lastBaseUpdate=a}function Dt(n,a,m,b){var N=n.updateQueue;ke=!1;var U=N.firstBaseUpdate,ae=N.lastBaseUpdate,ze=N.shared.pending;if(ze!==null){N.shared.pending=null;var Qe=ze,St=Qe.next;Qe.next=null,ae===null?U=St:ae.next=St,ae=Qe;var zt=n.alternate;zt!==null&&(zt=zt.updateQueue,ze=zt.lastBaseUpdate,ze!==ae&&(ze===null?zt.firstBaseUpdate=St:ze.next=St,zt.lastBaseUpdate=Qe))}if(U!==null){var Ht=N.baseState;ae=0,zt=St=Qe=null,ze=U;do{var jt=ze.lane,sn=ze.eventTime;if((b&jt)===jt){zt!==null&&(zt=zt.next={eventTime:sn,lane:0,tag:ze.tag,payload:ze.payload,callback:ze.callback,next:null});e:{var un=n,fn=ze;switch(jt=a,sn=m,fn.tag){case 1:if(un=fn.payload,typeof un=="function"){Ht=un.call(sn,Ht,jt);break e}Ht=un;break e;case 3:un.flags=un.flags&-65537|128;case 0:if(un=fn.payload,jt=typeof un=="function"?un.call(sn,Ht,jt):un,jt==null)break e;Ht=Pe({},Ht,jt);break e;case 2:ke=!0}}ze.callback!==null&&ze.lane!==0&&(n.flags|=64,jt=N.effects,jt===null?N.effects=[ze]:jt.push(ze))}else sn={eventTime:sn,lane:jt,tag:ze.tag,payload:ze.payload,callback:ze.callback,next:null},zt===null?(St=zt=sn,Qe=Ht):zt=zt.next=sn,ae|=jt;if(ze=ze.next,ze===null){if(ze=N.shared.pending,ze===null)break;jt=ze,ze=jt.next,jt.next=null,N.lastBaseUpdate=jt,N.shared.pending=null}}while(!0);if(zt===null&&(Qe=Ht),N.baseState=Qe,N.firstBaseUpdate=St,N.lastBaseUpdate=zt,a=N.shared.interleaved,a!==null){N=a;do ae|=N.lane,N=N.next;while(N!==a)}else U===null&&(N.shared.lanes=0);uu|=ae,n.lanes=ae,n.memoizedState=Ht}}function Xt(n,a,m){if(n=a.effects,a.effects=null,n!==null)for(a=0;a<n.length;a++){var b=n[a],N=b.callback;if(N!==null){if(b.callback=null,b=m,typeof N!="function")throw Error(e(191,N));N.call(b)}}}var nn={},rn=oa(nn),Kn=oa(nn),Jn=oa(nn);function Dn(n){if(n===nn)throw Error(e(174));return n}function tr(n,a){switch(pr(Jn,a),pr(Kn,n),pr(rn,nn),n=a.nodeType,n){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:an(null,"");break;default:n=n===8?a.parentNode:a,a=n.namespaceURI||null,n=n.tagName,a=an(a,n)}cr(rn),pr(rn,a)}function br(){cr(rn),cr(Kn),cr(Jn)}function xl(n){Dn(Jn.current);var a=Dn(rn.current),m=an(a,n.type);a!==m&&(pr(Kn,n),pr(rn,m))}function Ll(n){Kn.current===n&&(cr(rn),cr(Kn))}var yr=oa(0);function ri(n){for(var a=n;a!==null;){if(a.tag===13){var m=a.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Zo=[];function Ls(){for(var n=0;n<Zo.length;n++)Zo[n]._workInProgressVersionPrimary=null;Zo.length=0}var wi=de.ReactCurrentDispatcher,xr=de.ReactCurrentBatchConfig,To=0,Fr=null,bi=null,pi=null,Ol=!1,Ko=!1,Dl=0,$c=0;function Bi(){throw Error(e(321))}function Cu(n,a){if(a===null)return!1;for(var m=0;m<a.length&&m<n.length;m++)if(!Xn(n[m],a[m]))return!1;return!0}function au(n,a,m,b,N,U){if(To=U,Fr=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,wi.current=n===null||n.memoizedState===null?Tg:Ng,n=m(b,N),Ko){U=0;do{if(Ko=!1,Dl=0,25<=U)throw Error(e(301));U+=1,pi=bi=null,a.updateQueue=null,wi.current=Og,n=m(b,N)}while(Ko)}if(wi.current=Wh,a=bi!==null&&bi.next!==null,To=0,pi=bi=Fr=null,Ol=!1,a)throw Error(e(300));return n}function No(){var n=Dl!==0;return Dl=0,n}function fo(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pi===null?Fr.memoizedState=pi=n:pi=pi.next=n,pi}function ka(){if(bi===null){var n=Fr.alternate;n=n!==null?n.memoizedState:null}else n=bi.next;var a=pi===null?Fr.memoizedState:pi.next;if(a!==null)pi=a,bi=n;else{if(n===null)throw Error(e(310));bi=n,n={memoizedState:bi.memoizedState,baseState:bi.baseState,baseQueue:bi.baseQueue,queue:bi.queue,next:null},pi===null?Fr.memoizedState=pi=n:pi=pi.next=n}return pi}function ou(n,a){return typeof a=="function"?a(n):a}function Su(n){var a=ka(),m=a.queue;if(m===null)throw Error(e(311));m.lastRenderedReducer=n;var b=bi,N=b.baseQueue,U=m.pending;if(U!==null){if(N!==null){var ae=N.next;N.next=U.next,U.next=ae}b.baseQueue=N=U,m.pending=null}if(N!==null){U=N.next,b=b.baseState;var ze=ae=null,Qe=null,St=U;do{var zt=St.lane;if((To&zt)===zt)Qe!==null&&(Qe=Qe.next={lane:0,action:St.action,hasEagerState:St.hasEagerState,eagerState:St.eagerState,next:null}),b=St.hasEagerState?St.eagerState:n(b,St.action);else{var Ht={lane:zt,action:St.action,hasEagerState:St.hasEagerState,eagerState:St.eagerState,next:null};Qe===null?(ze=Qe=Ht,ae=b):Qe=Qe.next=Ht,Fr.lanes|=zt,uu|=zt}St=St.next}while(St!==null&&St!==U);Qe===null?ae=b:Qe.next=ze,Xn(b,a.memoizedState)||($a=!0),a.memoizedState=b,a.baseState=ae,a.baseQueue=Qe,m.lastRenderedState=b}if(n=m.interleaved,n!==null){N=n;do U=N.lane,Fr.lanes|=U,uu|=U,N=N.next;while(N!==n)}else N===null&&(m.lanes=0);return[a.memoizedState,m.dispatch]}function hl(n){var a=ka(),m=a.queue;if(m===null)throw Error(e(311));m.lastRenderedReducer=n;var b=m.dispatch,N=m.pending,U=a.memoizedState;if(N!==null){m.pending=null;var ae=N=N.next;do U=n(U,ae.action),ae=ae.next;while(ae!==N);Xn(U,a.memoizedState)||($a=!0),a.memoizedState=U,a.baseQueue===null&&(a.baseState=U),m.lastRenderedState=U}return[U,b]}function Uh(){}function hh(n,a){var m=Fr,b=ka(),N=a(),U=!Xn(b.memoizedState,N);if(U&&(b.memoizedState=N,$a=!0),b=b.queue,Au(Gh.bind(null,m,b,n),[n]),b.getSnapshot!==a||U||pi!==null&&pi.memoizedState.tag&1){if(m.flags|=2048,Ca(9,ch.bind(null,m,b,N,a),void 0,null),ks===null)throw Error(e(349));(To&30)!==0||qh(m,a,N)}return N}function qh(n,a,m){n.flags|=16384,n={getSnapshot:a,value:m},a=Fr.updateQueue,a===null?(a={lastEffect:null,stores:null},Fr.updateQueue=a,a.stores=[n]):(m=a.stores,m===null?a.stores=[n]:m.push(n))}function ch(n,a,m,b){a.value=m,a.getSnapshot=b,Il(a)&&Eu(n)}function Gh(n,a,m){return m(function(){Il(a)&&Eu(n)})}function Il(n){var a=n.getSnapshot;n=n.value;try{var m=a();return!Xn(n,m)}catch{return!0}}function Eu(n){var a=ge(n,1);a!==null&&el(a,n,1,-1)}function lu(n){var a=fo();return typeof n=="function"&&(n=n()),a.memoizedState=a.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ou,lastRenderedState:n},a.queue=n,n=n.dispatch=Bg.bind(null,Fr,n),[a.memoizedState,n]}function Ca(n,a,m,b){return n={tag:n,create:a,destroy:m,deps:b,next:null},a=Fr.updateQueue,a===null?(a={lastEffect:null,stores:null},Fr.updateQueue=a,a.lastEffect=n.next=n):(m=a.lastEffect,m===null?a.lastEffect=n.next=n:(b=m.next,m.next=n,n.next=b,a.lastEffect=n)),n}function Jo(){return ka().memoizedState}function po(n,a,m,b){var N=fo();Fr.flags|=n,N.memoizedState=Ca(1|a,m,void 0,b===void 0?null:b)}function kl(n,a,m,b){var N=ka();b=b===void 0?null:b;var U=void 0;if(bi!==null){var ae=bi.memoizedState;if(U=ae.destroy,b!==null&&Cu(b,ae.deps)){N.memoizedState=Ca(a,m,U,b);return}}Fr.flags|=n,N.memoizedState=Ca(1|a,m,U,b)}function Pu(n,a){return po(8390656,8,n,a)}function Au(n,a){return kl(2048,8,n,a)}function Hh(n,a){return kl(4,2,n,a)}function Mu(n,a){return kl(4,4,n,a)}function Bu(n,a){if(typeof a=="function")return n=n(),a(n),function(){a(null)};if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function Vd(n,a,m){return m=m!=null?m.concat([n]):null,kl(4,4,Bu.bind(null,a,n),m)}function Zc(){}function $d(n,a){var m=ka();a=a===void 0?null:a;var b=m.memoizedState;return b!==null&&a!==null&&Cu(a,b[1])?b[0]:(m.memoizedState=[n,a],n)}function Zd(n,a){var m=ka();a=a===void 0?null:a;var b=m.memoizedState;return b!==null&&a!==null&&Cu(a,b[1])?b[0]:(n=n(),m.memoizedState=[n,a],n)}function Kd(n,a,m){return(To&21)===0?(n.baseState&&(n.baseState=!1,$a=!0),n.memoizedState=m):(Xn(m,a)||(m=Ro(),Fr.lanes|=m,uu|=m,n.baseState=!0),a)}function Ag(n,a){var m=Gn;Gn=m!==0&&4>m?m:4,n(!0);var b=xr.transition;xr.transition={};try{n(!1),a()}finally{Gn=m,xr.transition=b}}function Jd(){return ka().memoizedState}function Mg(n,a,m){var b=zl(n);if(m={lane:b,action:m,hasEagerState:!1,eagerState:null,next:null},Yd(n))Xd(a,m);else if(m=be(n,a,m,b),m!==null){var N=Ea();el(m,n,b,N),Qd(m,a,b)}}function Bg(n,a,m){var b=zl(n),N={lane:b,action:m,hasEagerState:!1,eagerState:null,next:null};if(Yd(n))Xd(a,N);else{var U=n.alternate;if(n.lanes===0&&(U===null||U.lanes===0)&&(U=a.lastRenderedReducer,U!==null))try{var ae=a.lastRenderedState,ze=U(ae,m);if(N.hasEagerState=!0,N.eagerState=ze,Xn(ze,ae)){var Qe=a.interleaved;Qe===null?(N.next=N,ce(a)):(N.next=Qe.next,Qe.next=N),a.interleaved=N;return}}catch{}finally{}m=be(n,a,N,b),m!==null&&(N=Ea(),el(m,n,b,N),Qd(m,a,b))}}function Yd(n){var a=n.alternate;return n===Fr||a!==null&&a===Fr}function Xd(n,a){Ko=Ol=!0;var m=n.pending;m===null?a.next=a:(a.next=m.next,m.next=a),n.pending=a}function Qd(n,a,m){if((m&4194240)!==0){var b=a.lanes;b&=n.pendingLanes,m|=b,a.lanes=m,ds(n,m)}}var Wh={readContext:dt,useCallback:Bi,useContext:Bi,useEffect:Bi,useImperativeHandle:Bi,useInsertionEffect:Bi,useLayoutEffect:Bi,useMemo:Bi,useReducer:Bi,useRef:Bi,useState:Bi,useDebugValue:Bi,useDeferredValue:Bi,useTransition:Bi,useMutableSource:Bi,useSyncExternalStore:Bi,useId:Bi,unstable_isNewReconciler:!1},Tg={readContext:dt,useCallback:function(n,a){return fo().memoizedState=[n,a===void 0?null:a],n},useContext:dt,useEffect:Pu,useImperativeHandle:function(n,a,m){return m=m!=null?m.concat([n]):null,po(4194308,4,Bu.bind(null,a,n),m)},useLayoutEffect:function(n,a){return po(4194308,4,n,a)},useInsertionEffect:function(n,a){return po(4,2,n,a)},useMemo:function(n,a){var m=fo();return a=a===void 0?null:a,n=n(),m.memoizedState=[n,a],n},useReducer:function(n,a,m){var b=fo();return a=m!==void 0?m(a):a,b.memoizedState=b.baseState=a,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:a},b.queue=n,n=n.dispatch=Mg.bind(null,Fr,n),[b.memoizedState,n]},useRef:function(n){var a=fo();return n={current:n},a.memoizedState=n},useState:lu,useDebugValue:Zc,useDeferredValue:function(n){return fo().memoizedState=n},useTransition:function(){var n=lu(!1),a=n[0];return n=Ag.bind(null,n[1]),fo().memoizedState=n,[a,n]},useMutableSource:function(){},useSyncExternalStore:function(n,a,m){var b=Fr,N=fo();if(Mt){if(m===void 0)throw Error(e(407));m=m()}else{if(m=a(),ks===null)throw Error(e(349));(To&30)!==0||qh(b,a,m)}N.memoizedState=m;var U={value:m,getSnapshot:a};return N.queue=U,Pu(Gh.bind(null,b,U,n),[n]),b.flags|=2048,Ca(9,ch.bind(null,b,U,m,a),void 0,null),m},useId:function(){var n=fo(),a=ks.identifierPrefix;if(Mt){var m=vt,b=_t;m=(b&~(1<<32-An(b)-1)).toString(32)+m,a=":"+a+"R"+m,m=Dl++,0<m&&(a+="H"+m.toString(32)),a+=":"}else m=$c++,a=":"+a+"r"+m.toString(32)+":";return n.memoizedState=a},unstable_isNewReconciler:!1},Ng={readContext:dt,useCallback:$d,useContext:dt,useEffect:Au,useImperativeHandle:Vd,useInsertionEffect:Hh,useLayoutEffect:Mu,useMemo:Zd,useReducer:Su,useRef:Jo,useState:function(){return Su(ou)},useDebugValue:Zc,useDeferredValue:function(n){var a=ka();return Kd(a,bi.memoizedState,n)},useTransition:function(){var n=Su(ou)[0],a=ka().memoizedState;return[n,a]},useMutableSource:Uh,useSyncExternalStore:hh,useId:Jd,unstable_isNewReconciler:!1},Og={readContext:dt,useCallback:$d,useContext:dt,useEffect:Au,useImperativeHandle:Vd,useInsertionEffect:Hh,useLayoutEffect:Mu,useMemo:Zd,useReducer:hl,useRef:Jo,useState:function(){return hl(ou)},useDebugValue:Zc,useDeferredValue:function(n){var a=ka();return bi===null?a.memoizedState=n:Kd(a,bi.memoizedState,n)},useTransition:function(){var n=hl(ou)[0],a=ka().memoizedState;return[n,a]},useMutableSource:Uh,useSyncExternalStore:hh,useId:Jd,unstable_isNewReconciler:!1};function Yo(n,a){if(n&&n.defaultProps){a=Pe({},a),n=n.defaultProps;for(var m in n)a[m]===void 0&&(a[m]=n[m]);return a}return a}function Kc(n,a,m,b){a=n.memoizedState,m=m(b,a),m=m==null?a:Pe({},a,m),n.memoizedState=m,n.lanes===0&&(n.updateQueue.baseState=m)}var Vh={isMounted:function(n){return(n=n._reactInternals)?Kr(n)===n:!1},enqueueSetState:function(n,a,m){n=n._reactInternals;var b=Ea(),N=zl(n),U=Ge(b,N);U.payload=a,m!=null&&(U.callback=m),a=Xe(n,U,N),a!==null&&(el(a,n,N,b),pt(a,n,N))},enqueueReplaceState:function(n,a,m){n=n._reactInternals;var b=Ea(),N=zl(n),U=Ge(b,N);U.tag=1,U.payload=a,m!=null&&(U.callback=m),a=Xe(n,U,N),a!==null&&(el(a,n,N,b),pt(a,n,N))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var m=Ea(),b=zl(n),N=Ge(m,b);N.tag=2,a!=null&&(N.callback=a),a=Xe(n,N,b),a!==null&&(el(a,n,b,m),pt(a,n,b))}};function ep(n,a,m,b,N,U,ae){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(b,U,ae):a.prototype&&a.prototype.isPureReactComponent?!Gi(m,b)||!Gi(N,U):!0}function tp(n,a,m){var b=!1,N=Bo,U=a.contextType;return typeof U=="object"&&U!==null?U=dt(U):(N=Mi(a)?Wo:Vr.current,b=a.contextTypes,U=(b=b!=null)?ul(n,N):Bo),a=new a(m,U),n.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Vh,n.stateNode=a,a._reactInternals=n,b&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=N,n.__reactInternalMemoizedMaskedChildContext=U),a}function np(n,a,m,b){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(m,b),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(m,b),a.state!==n&&Vh.enqueueReplaceState(a,a.state,null)}function Jc(n,a,m,b){var N=n.stateNode;N.props=m,N.state=n.memoizedState,N.refs={},Ce(n);var U=a.contextType;typeof U=="object"&&U!==null?N.context=dt(U):(U=Mi(a)?Wo:Vr.current,N.context=ul(n,U)),N.state=n.memoizedState,U=a.getDerivedStateFromProps,typeof U=="function"&&(Kc(n,a,U,m),N.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(a=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),a!==N.state&&Vh.enqueueReplaceState(N,N.state,null),Dt(n,m,N,b),N.state=n.memoizedState),typeof N.componentDidMount=="function"&&(n.flags|=4194308)}function Tu(n,a){try{var m="",b=a;do m+=pe(b),b=b.return;while(b);var N=m}catch(U){N=`
Error generating stack: `+U.message+`
`+U.stack}return{value:n,source:a,stack:N,digest:null}}function Yc(n,a,m){return{value:n,source:null,stack:m??null,digest:a??null}}function Xc(n,a){try{console.error(a.value)}catch(m){setTimeout(function(){throw m})}}var Dg=typeof WeakMap=="function"?WeakMap:Map;function rp(n,a,m){m=Ge(-1,m),m.tag=3,m.payload={element:null};var b=a.value;return m.callback=function(){Qh||(Qh=!0,pf=b),Xc(n,a)},m}function ip(n,a,m){m=Ge(-1,m),m.tag=3;var b=n.type.getDerivedStateFromError;if(typeof b=="function"){var N=a.value;m.payload=function(){return b(N)},m.callback=function(){Xc(n,a)}}var U=n.stateNode;return U!==null&&typeof U.componentDidCatch=="function"&&(m.callback=function(){Xc(n,a),typeof b!="function"&&(Fl===null?Fl=new Set([this]):Fl.add(this));var ae=a.stack;this.componentDidCatch(a.value,{componentStack:ae!==null?ae:""})}),m}function sp(n,a,m){var b=n.pingCache;if(b===null){b=n.pingCache=new Dg;var N=new Set;b.set(a,N)}else N=b.get(a),N===void 0&&(N=new Set,b.set(a,N));N.has(m)||(N.add(m),n=Kg.bind(null,n,a,m),a.then(n,n))}function ap(n){do{var a;if((a=n.tag===13)&&(a=n.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return n;n=n.return}while(n!==null);return null}function op(n,a,m,b,N){return(n.mode&1)===0?(n===a?n.flags|=65536:(n.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(a=Ge(-1,1),a.tag=2,Xe(m,a,1))),m.lanes|=1),n):(n.flags|=65536,n.lanes=N,n)}var Ig=de.ReactCurrentOwner,$a=!1;function Sa(n,a,m,b){a.child=n===null?Et(a,null,m,b):gt(a,n.child,m,b)}function lp(n,a,m,b,N){m=m.render;var U=a.ref;return rt(a,N),b=au(n,a,m,b,U,N),m=No(),n!==null&&!$a?(a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~N,Cl(n,a,N)):(Mt&&m&&Ct(a),a.flags|=1,Sa(n,a,b,N),a.child)}function up(n,a,m,b,N){if(n===null){var U=m.type;return typeof U=="function"&&!bf(U)&&U.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(a.tag=15,a.type=U,hp(n,a,U,b,N)):(n=sc(m.type,null,b,a,a.mode,N),n.ref=a.ref,n.return=a,a.child=n)}if(U=n.child,(n.lanes&N)===0){var ae=U.memoizedProps;if(m=m.compare,m=m!==null?m:Gi,m(ae,b)&&n.ref===a.ref)return Cl(n,a,N)}return a.flags|=1,n=ql(U,b),n.ref=a.ref,n.return=a,a.child=n}function hp(n,a,m,b,N){if(n!==null){var U=n.memoizedProps;if(Gi(U,b)&&n.ref===a.ref)if($a=!1,a.pendingProps=b=U,(n.lanes&N)!==0)(n.flags&131072)!==0&&($a=!0);else return a.lanes=n.lanes,Cl(n,a,N)}return Qc(n,a,m,b,N)}function cp(n,a,m){var b=a.pendingProps,N=b.children,U=n!==null?n.memoizedState:null;if(b.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},pr(Ou,mo),mo|=m;else{if((m&1073741824)===0)return n=U!==null?U.baseLanes|m:m,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:n,cachePool:null,transitions:null},a.updateQueue=null,pr(Ou,mo),mo|=n,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},b=U!==null?U.baseLanes:m,pr(Ou,mo),mo|=b}else U!==null?(b=U.baseLanes|m,a.memoizedState=null):b=m,pr(Ou,mo),mo|=b;return Sa(n,a,N,m),a.child}function fp(n,a){var m=a.ref;(n===null&&m!==null||n!==null&&n.ref!==m)&&(a.flags|=512,a.flags|=2097152)}function Qc(n,a,m,b,N){var U=Mi(m)?Wo:Vr.current;return U=ul(a,U),rt(a,N),m=au(n,a,m,b,U,N),b=No(),n!==null&&!$a?(a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~N,Cl(n,a,N)):(Mt&&b&&Ct(a),a.flags|=1,Sa(n,a,m,N),a.child)}function dp(n,a,m,b,N){if(Mi(m)){var U=!0;$o(a)}else U=!1;if(rt(a,N),a.stateNode===null)Zh(n,a),tp(a,m,b),Jc(a,m,b,N),b=!0;else if(n===null){var ae=a.stateNode,ze=a.memoizedProps;ae.props=ze;var Qe=ae.context,St=m.contextType;typeof St=="object"&&St!==null?St=dt(St):(St=Mi(m)?Wo:Vr.current,St=ul(a,St));var zt=m.getDerivedStateFromProps,Ht=typeof zt=="function"||typeof ae.getSnapshotBeforeUpdate=="function";Ht||typeof ae.UNSAFE_componentWillReceiveProps!="function"&&typeof ae.componentWillReceiveProps!="function"||(ze!==b||Qe!==St)&&np(a,ae,b,St),ke=!1;var jt=a.memoizedState;ae.state=jt,Dt(a,b,ae,N),Qe=a.memoizedState,ze!==b||jt!==Qe||Ai.current||ke?(typeof zt=="function"&&(Kc(a,m,zt,b),Qe=a.memoizedState),(ze=ke||ep(a,m,ze,b,jt,Qe,St))?(Ht||typeof ae.UNSAFE_componentWillMount!="function"&&typeof ae.componentWillMount!="function"||(typeof ae.componentWillMount=="function"&&ae.componentWillMount(),typeof ae.UNSAFE_componentWillMount=="function"&&ae.UNSAFE_componentWillMount()),typeof ae.componentDidMount=="function"&&(a.flags|=4194308)):(typeof ae.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=b,a.memoizedState=Qe),ae.props=b,ae.state=Qe,ae.context=St,b=ze):(typeof ae.componentDidMount=="function"&&(a.flags|=4194308),b=!1)}else{ae=a.stateNode,Ze(n,a),ze=a.memoizedProps,St=a.type===a.elementType?ze:Yo(a.type,ze),ae.props=St,Ht=a.pendingProps,jt=ae.context,Qe=m.contextType,typeof Qe=="object"&&Qe!==null?Qe=dt(Qe):(Qe=Mi(m)?Wo:Vr.current,Qe=ul(a,Qe));var sn=m.getDerivedStateFromProps;(zt=typeof sn=="function"||typeof ae.getSnapshotBeforeUpdate=="function")||typeof ae.UNSAFE_componentWillReceiveProps!="function"&&typeof ae.componentWillReceiveProps!="function"||(ze!==Ht||jt!==Qe)&&np(a,ae,b,Qe),ke=!1,jt=a.memoizedState,ae.state=jt,Dt(a,b,ae,N);var un=a.memoizedState;ze!==Ht||jt!==un||Ai.current||ke?(typeof sn=="function"&&(Kc(a,m,sn,b),un=a.memoizedState),(St=ke||ep(a,m,St,b,jt,un,Qe)||!1)?(zt||typeof ae.UNSAFE_componentWillUpdate!="function"&&typeof ae.componentWillUpdate!="function"||(typeof ae.componentWillUpdate=="function"&&ae.componentWillUpdate(b,un,Qe),typeof ae.UNSAFE_componentWillUpdate=="function"&&ae.UNSAFE_componentWillUpdate(b,un,Qe)),typeof ae.componentDidUpdate=="function"&&(a.flags|=4),typeof ae.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof ae.componentDidUpdate!="function"||ze===n.memoizedProps&&jt===n.memoizedState||(a.flags|=4),typeof ae.getSnapshotBeforeUpdate!="function"||ze===n.memoizedProps&&jt===n.memoizedState||(a.flags|=1024),a.memoizedProps=b,a.memoizedState=un),ae.props=b,ae.state=un,ae.context=Qe,b=St):(typeof ae.componentDidUpdate!="function"||ze===n.memoizedProps&&jt===n.memoizedState||(a.flags|=4),typeof ae.getSnapshotBeforeUpdate!="function"||ze===n.memoizedProps&&jt===n.memoizedState||(a.flags|=1024),b=!1)}return ef(n,a,m,b,U,N)}function ef(n,a,m,b,N,U){fp(n,a);var ae=(a.flags&128)!==0;if(!b&&!ae)return N&&su(a,m,!1),Cl(n,a,U);b=a.stateNode,Ig.current=a;var ze=ae&&typeof m.getDerivedStateFromError!="function"?null:b.render();return a.flags|=1,n!==null&&ae?(a.child=gt(a,n.child,null,U),a.child=gt(a,null,ze,U)):Sa(n,a,ze,U),a.memoizedState=b.state,N&&su(a,m,!0),a.child}function pp(n){var a=n.stateNode;a.pendingContext?ru(n,a.pendingContext,a.pendingContext!==a.context):a.context&&ru(n,a.context,!1),tr(n,a.containerInfo)}function mp(n,a,m,b,N){return z(),q(N),a.flags|=256,Sa(n,a,m,b),a.child}var tf={dehydrated:null,treeContext:null,retryLane:0};function nf(n){return{baseLanes:n,cachePool:null,transitions:null}}function gp(n,a,m){var b=a.pendingProps,N=yr.current,U=!1,ae=(a.flags&128)!==0,ze;if((ze=ae)||(ze=n!==null&&n.memoizedState===null?!1:(N&2)!==0),ze?(U=!0,a.flags&=-129):(n===null||n.memoizedState!==null)&&(N|=1),pr(yr,N&1),n===null)return p(a),n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((a.mode&1)===0?a.lanes=1:n.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(ae=b.children,n=b.fallback,U?(b=a.mode,U=a.child,ae={mode:"hidden",children:ae},(b&1)===0&&U!==null?(U.childLanes=0,U.pendingProps=ae):U=ac(ae,b,0,null),n=du(n,b,m,null),U.return=a,n.return=a,U.sibling=n,a.child=U,a.child.memoizedState=nf(m),a.memoizedState=tf,n):rf(a,ae));if(N=n.memoizedState,N!==null&&(ze=N.dehydrated,ze!==null))return Rg(n,a,ae,b,ze,N,m);if(U){U=b.fallback,ae=a.mode,N=n.child,ze=N.sibling;var Qe={mode:"hidden",children:b.children};return(ae&1)===0&&a.child!==N?(b=a.child,b.childLanes=0,b.pendingProps=Qe,a.deletions=null):(b=ql(N,Qe),b.subtreeFlags=N.subtreeFlags&14680064),ze!==null?U=ql(ze,U):(U=du(U,ae,m,null),U.flags|=2),U.return=a,b.return=a,b.sibling=U,a.child=b,b=U,U=a.child,ae=n.child.memoizedState,ae=ae===null?nf(m):{baseLanes:ae.baseLanes|m,cachePool:null,transitions:ae.transitions},U.memoizedState=ae,U.childLanes=n.childLanes&~m,a.memoizedState=tf,b}return U=n.child,n=U.sibling,b=ql(U,{mode:"visible",children:b.children}),(a.mode&1)===0&&(b.lanes=m),b.return=a,b.sibling=null,n!==null&&(m=a.deletions,m===null?(a.deletions=[n],a.flags|=16):m.push(n)),a.child=b,a.memoizedState=null,b}function rf(n,a){return a=ac({mode:"visible",children:a},n.mode,0,null),a.return=n,n.child=a}function $h(n,a,m,b){return b!==null&&q(b),gt(a,n.child,null,m),n=rf(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function Rg(n,a,m,b,N,U,ae){if(m)return a.flags&256?(a.flags&=-257,b=Yc(Error(e(422))),$h(n,a,ae,b)):a.memoizedState!==null?(a.child=n.child,a.flags|=128,null):(U=b.fallback,N=a.mode,b=ac({mode:"visible",children:b.children},N,0,null),U=du(U,N,ae,null),U.flags|=2,b.return=a,U.return=a,b.sibling=U,a.child=b,(a.mode&1)!==0&&gt(a,n.child,null,ae),a.child.memoizedState=nf(ae),a.memoizedState=tf,U);if((a.mode&1)===0)return $h(n,a,ae,null);if(N.data==="$!"){if(b=N.nextSibling&&N.nextSibling.dataset,b)var ze=b.dgst;return b=ze,U=Error(e(419)),b=Yc(U,b,void 0),$h(n,a,ae,b)}if(ze=(ae&n.childLanes)!==0,$a||ze){if(b=ks,b!==null){switch(ae&-ae){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}N=(N&(b.suspendedLanes|ae))!==0?0:N,N!==0&&N!==U.retryLane&&(U.retryLane=N,ge(n,N),el(b,n,N,-1))}return wf(),b=Yc(Error(e(421))),$h(n,a,ae,b)}return N.data==="$?"?(a.flags|=128,a.child=n.child,a=Jg.bind(null,n),N._reactRetry=a,null):(n=U.treeContext,At=ei(N.nextSibling),tt=a,Mt=!0,Nt=null,n!==null&&(ye[Se++]=_t,ye[Se++]=vt,ye[Se++]=Je,_t=n.id,vt=n.overflow,Je=a),a=rf(a,b.children),a.flags|=4096,a)}function _p(n,a,m){n.lanes|=a;var b=n.alternate;b!==null&&(b.lanes|=a),yt(n.return,a,m)}function sf(n,a,m,b,N){var U=n.memoizedState;U===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:b,tail:m,tailMode:N}:(U.isBackwards=a,U.rendering=null,U.renderingStartTime=0,U.last=b,U.tail=m,U.tailMode=N)}function vp(n,a,m){var b=a.pendingProps,N=b.revealOrder,U=b.tail;if(Sa(n,a,b.children,m),b=yr.current,(b&2)!==0)b=b&1|2,a.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&_p(n,m,a);else if(n.tag===19)_p(n,m,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break e;for(;n.sibling===null;){if(n.return===null||n.return===a)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}b&=1}if(pr(yr,b),(a.mode&1)===0)a.memoizedState=null;else switch(N){case"forwards":for(m=a.child,N=null;m!==null;)n=m.alternate,n!==null&&ri(n)===null&&(N=m),m=m.sibling;m=N,m===null?(N=a.child,a.child=null):(N=m.sibling,m.sibling=null),sf(a,!1,N,m,U);break;case"backwards":for(m=null,N=a.child,a.child=null;N!==null;){if(n=N.alternate,n!==null&&ri(n)===null){a.child=N;break}n=N.sibling,N.sibling=m,m=N,N=n}sf(a,!0,m,null,U);break;case"together":sf(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Zh(n,a){(a.mode&1)===0&&n!==null&&(n.alternate=null,a.alternate=null,a.flags|=2)}function Cl(n,a,m){if(n!==null&&(a.dependencies=n.dependencies),uu|=a.lanes,(m&a.childLanes)===0)return null;if(n!==null&&a.child!==n.child)throw Error(e(153));if(a.child!==null){for(n=a.child,m=ql(n,n.pendingProps),a.child=m,m.return=a;n.sibling!==null;)n=n.sibling,m=m.sibling=ql(n,n.pendingProps),m.return=a;m.sibling=null}return a.child}function Fg(n,a,m){switch(a.tag){case 3:pp(a),z();break;case 5:xl(a);break;case 1:Mi(a.type)&&$o(a);break;case 4:tr(a,a.stateNode.containerInfo);break;case 10:var b=a.type._context,N=a.memoizedProps.value;pr(Wt,b._currentValue),b._currentValue=N;break;case 13:if(b=a.memoizedState,b!==null)return b.dehydrated!==null?(pr(yr,yr.current&1),a.flags|=128,null):(m&a.child.childLanes)!==0?gp(n,a,m):(pr(yr,yr.current&1),n=Cl(n,a,m),n!==null?n.sibling:null);pr(yr,yr.current&1);break;case 19:if(b=(m&a.childLanes)!==0,(n.flags&128)!==0){if(b)return vp(n,a,m);a.flags|=128}if(N=a.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),pr(yr,yr.current),b)break;return null;case 22:case 23:return a.lanes=0,cp(n,a,m)}return Cl(n,a,m)}var yp,af,wp,bp;yp=function(n,a){for(var m=a.child;m!==null;){if(m.tag===5||m.tag===6)n.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break;for(;m.sibling===null;){if(m.return===null||m.return===a)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},af=function(){},wp=function(n,a,m,b){var N=n.memoizedProps;if(N!==b){n=a.stateNode,Dn(rn.current);var U=null;switch(m){case"input":N=$(n,N),b=$(n,b),U=[];break;case"select":N=Pe({},N,{value:void 0}),b=Pe({},b,{value:void 0}),U=[];break;case"textarea":N=qe(n,N),b=qe(n,b),U=[];break;default:typeof N.onClick!="function"&&typeof b.onClick=="function"&&(n.onclick=Rt)}jn(m,b);var ae;m=null;for(St in N)if(!b.hasOwnProperty(St)&&N.hasOwnProperty(St)&&N[St]!=null)if(St==="style"){var ze=N[St];for(ae in ze)ze.hasOwnProperty(ae)&&(m||(m={}),m[ae]="")}else St!=="dangerouslySetInnerHTML"&&St!=="children"&&St!=="suppressContentEditableWarning"&&St!=="suppressHydrationWarning"&&St!=="autoFocus"&&(u.hasOwnProperty(St)?U||(U=[]):(U=U||[]).push(St,null));for(St in b){var Qe=b[St];if(ze=N?.[St],b.hasOwnProperty(St)&&Qe!==ze&&(Qe!=null||ze!=null))if(St==="style")if(ze){for(ae in ze)!ze.hasOwnProperty(ae)||Qe&&Qe.hasOwnProperty(ae)||(m||(m={}),m[ae]="");for(ae in Qe)Qe.hasOwnProperty(ae)&&ze[ae]!==Qe[ae]&&(m||(m={}),m[ae]=Qe[ae])}else m||(U||(U=[]),U.push(St,m)),m=Qe;else St==="dangerouslySetInnerHTML"?(Qe=Qe?Qe.__html:void 0,ze=ze?ze.__html:void 0,Qe!=null&&ze!==Qe&&(U=U||[]).push(St,Qe)):St==="children"?typeof Qe!="string"&&typeof Qe!="number"||(U=U||[]).push(St,""+Qe):St!=="suppressContentEditableWarning"&&St!=="suppressHydrationWarning"&&(u.hasOwnProperty(St)?(Qe!=null&&St==="onScroll"&&Pn("scroll",n),U||ze===Qe||(U=[])):(U=U||[]).push(St,Qe))}m&&(U=U||[]).push("style",m);var St=U;(a.updateQueue=St)&&(a.flags|=4)}},bp=function(n,a,m,b){m!==b&&(a.flags|=4)};function fh(n,a){if(!Mt)switch(n.tailMode){case"hidden":a=n.tail;for(var m=null;a!==null;)a.alternate!==null&&(m=a),a=a.sibling;m===null?n.tail=null:m.sibling=null;break;case"collapsed":m=n.tail;for(var b=null;m!==null;)m.alternate!==null&&(b=m),m=m.sibling;b===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:b.sibling=null}}function la(n){var a=n.alternate!==null&&n.alternate.child===n.child,m=0,b=0;if(a)for(var N=n.child;N!==null;)m|=N.lanes|N.childLanes,b|=N.subtreeFlags&14680064,b|=N.flags&14680064,N.return=n,N=N.sibling;else for(N=n.child;N!==null;)m|=N.lanes|N.childLanes,b|=N.subtreeFlags,b|=N.flags,N.return=n,N=N.sibling;return n.subtreeFlags|=b,n.childLanes=m,a}function jg(n,a,m){var b=a.pendingProps;switch(et(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return la(a),null;case 1:return Mi(a.type)&&Vo(),la(a),null;case 3:return b=a.stateNode,br(),cr(Ai),cr(Vr),Ls(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(n===null||n.child===null)&&(k(a)?a.flags|=4:n===null||n.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Nt!==null&&(_f(Nt),Nt=null))),af(n,a),la(a),null;case 5:Ll(a);var N=Dn(Jn.current);if(m=a.type,n!==null&&a.stateNode!=null)wp(n,a,m,b,N),n.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!b){if(a.stateNode===null)throw Error(e(166));return la(a),null}if(n=Dn(rn.current),k(a)){b=a.stateNode,m=a.type;var U=a.memoizedProps;switch(b[sa]=a,b[ho]=U,n=(a.mode&1)!==0,m){case"dialog":Pn("cancel",b),Pn("close",b);break;case"iframe":case"object":case"embed":Pn("load",b);break;case"video":case"audio":for(N=0;N<yn.length;N++)Pn(yn[N],b);break;case"source":Pn("error",b);break;case"img":case"image":case"link":Pn("error",b),Pn("load",b);break;case"details":Pn("toggle",b);break;case"input":je(b,U),Pn("invalid",b);break;case"select":b._wrapperState={wasMultiple:!!U.multiple},Pn("invalid",b);break;case"textarea":Lt(b,U),Pn("invalid",b)}jn(m,U),N=null;for(var ae in U)if(U.hasOwnProperty(ae)){var ze=U[ae];ae==="children"?typeof ze=="string"?b.textContent!==ze&&(U.suppressHydrationWarning!==!0&&xt(b.textContent,ze,n),N=["children",ze]):typeof ze=="number"&&b.textContent!==""+ze&&(U.suppressHydrationWarning!==!0&&xt(b.textContent,ze,n),N=["children",""+ze]):u.hasOwnProperty(ae)&&ze!=null&&ae==="onScroll"&&Pn("scroll",b)}switch(m){case"input":Ot(b),we(b,U,!0);break;case"textarea":Ot(b),Bt(b);break;case"select":case"option":break;default:typeof U.onClick=="function"&&(b.onclick=Rt)}b=N,a.updateQueue=b,b!==null&&(a.flags|=4)}else{ae=N.nodeType===9?N:N.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Ut(m)),n==="http://www.w3.org/1999/xhtml"?m==="script"?(n=ae.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof b.is=="string"?n=ae.createElement(m,{is:b.is}):(n=ae.createElement(m),m==="select"&&(ae=n,b.multiple?ae.multiple=!0:b.size&&(ae.size=b.size))):n=ae.createElementNS(n,m),n[sa]=a,n[ho]=b,yp(n,a,!1,!1),a.stateNode=n;e:{switch(ae=Ar(m,b),m){case"dialog":Pn("cancel",n),Pn("close",n),N=b;break;case"iframe":case"object":case"embed":Pn("load",n),N=b;break;case"video":case"audio":for(N=0;N<yn.length;N++)Pn(yn[N],n);N=b;break;case"source":Pn("error",n),N=b;break;case"img":case"image":case"link":Pn("error",n),Pn("load",n),N=b;break;case"details":Pn("toggle",n),N=b;break;case"input":je(n,b),N=$(n,b),Pn("invalid",n);break;case"option":N=b;break;case"select":n._wrapperState={wasMultiple:!!b.multiple},N=Pe({},b,{value:void 0}),Pn("invalid",n);break;case"textarea":Lt(n,b),N=qe(n,b),Pn("invalid",n);break;default:N=b}jn(m,N),ze=N;for(U in ze)if(ze.hasOwnProperty(U)){var Qe=ze[U];U==="style"?Dr(n,Qe):U==="dangerouslySetInnerHTML"?(Qe=Qe?Qe.__html:void 0,Qe!=null&&on(n,Qe)):U==="children"?typeof Qe=="string"?(m!=="textarea"||Qe!=="")&&wn(n,Qe):typeof Qe=="number"&&wn(n,""+Qe):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(u.hasOwnProperty(U)?Qe!=null&&U==="onScroll"&&Pn("scroll",n):Qe!=null&&K(n,U,Qe,ae))}switch(m){case"input":Ot(n),we(n,b,!1);break;case"textarea":Ot(n),Bt(n);break;case"option":b.value!=null&&n.setAttribute("value",""+We(b.value));break;case"select":n.multiple=!!b.multiple,U=b.value,U!=null?ht(n,!!b.multiple,U,!1):b.defaultValue!=null&&ht(n,!!b.multiple,b.defaultValue,!0);break;default:typeof N.onClick=="function"&&(n.onclick=Rt)}switch(m){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}}b&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return la(a),null;case 6:if(n&&a.stateNode!=null)bp(n,a,n.memoizedProps,b);else{if(typeof b!="string"&&a.stateNode===null)throw Error(e(166));if(m=Dn(Jn.current),Dn(rn.current),k(a)){if(b=a.stateNode,m=a.memoizedProps,b[sa]=a,(U=b.nodeValue!==m)&&(n=tt,n!==null))switch(n.tag){case 3:xt(b.nodeValue,m,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&xt(b.nodeValue,m,(n.mode&1)!==0)}U&&(a.flags|=4)}else b=(m.nodeType===9?m:m.ownerDocument).createTextNode(b),b[sa]=a,a.stateNode=b}return la(a),null;case 13:if(cr(yr),b=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Mt&&At!==null&&(a.mode&1)!==0&&(a.flags&128)===0)B(),z(),a.flags|=98560,U=!1;else if(U=k(a),b!==null&&b.dehydrated!==null){if(n===null){if(!U)throw Error(e(318));if(U=a.memoizedState,U=U!==null?U.dehydrated:null,!U)throw Error(e(317));U[sa]=a}else z(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;la(a),U=!1}else Nt!==null&&(_f(Nt),Nt=null),U=!0;if(!U)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=m,a):(b=b!==null,b!==(n!==null&&n.memoizedState!==null)&&b&&(a.child.flags|=8192,(a.mode&1)!==0&&(n===null||(yr.current&1)!==0?ls===0&&(ls=3):wf())),a.updateQueue!==null&&(a.flags|=4),la(a),null);case 4:return br(),af(n,a),n===null&&Hr(a.stateNode.containerInfo),la(a),null;case 10:return nt(a.type._context),la(a),null;case 17:return Mi(a.type)&&Vo(),la(a),null;case 19:if(cr(yr),U=a.memoizedState,U===null)return la(a),null;if(b=(a.flags&128)!==0,ae=U.rendering,ae===null)if(b)fh(U,!1);else{if(ls!==0||n!==null&&(n.flags&128)!==0)for(n=a.child;n!==null;){if(ae=ri(n),ae!==null){for(a.flags|=128,fh(U,!1),b=ae.updateQueue,b!==null&&(a.updateQueue=b,a.flags|=4),a.subtreeFlags=0,b=m,m=a.child;m!==null;)U=m,n=b,U.flags&=14680066,ae=U.alternate,ae===null?(U.childLanes=0,U.lanes=n,U.child=null,U.subtreeFlags=0,U.memoizedProps=null,U.memoizedState=null,U.updateQueue=null,U.dependencies=null,U.stateNode=null):(U.childLanes=ae.childLanes,U.lanes=ae.lanes,U.child=ae.child,U.subtreeFlags=0,U.deletions=null,U.memoizedProps=ae.memoizedProps,U.memoizedState=ae.memoizedState,U.updateQueue=ae.updateQueue,U.type=ae.type,n=ae.dependencies,U.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),m=m.sibling;return pr(yr,yr.current&1|2),a.child}n=n.sibling}U.tail!==null&&wr()>Du&&(a.flags|=128,b=!0,fh(U,!1),a.lanes=4194304)}else{if(!b)if(n=ri(ae),n!==null){if(a.flags|=128,b=!0,m=n.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),fh(U,!0),U.tail===null&&U.tailMode==="hidden"&&!ae.alternate&&!Mt)return la(a),null}else 2*wr()-U.renderingStartTime>Du&&m!==1073741824&&(a.flags|=128,b=!0,fh(U,!1),a.lanes=4194304);U.isBackwards?(ae.sibling=a.child,a.child=ae):(m=U.last,m!==null?m.sibling=ae:a.child=ae,U.last=ae)}return U.tail!==null?(a=U.tail,U.rendering=a,U.tail=a.sibling,U.renderingStartTime=wr(),a.sibling=null,m=yr.current,pr(yr,b?m&1|2:m&1),a):(la(a),null);case 22:case 23:return yf(),b=a.memoizedState!==null,n!==null&&n.memoizedState!==null!==b&&(a.flags|=8192),b&&(a.mode&1)!==0?(mo&1073741824)!==0&&(la(a),a.subtreeFlags&6&&(a.flags|=8192)):la(a),null;case 24:return null;case 25:return null}throw Error(e(156,a.tag))}function zg(n,a){switch(et(a),a.tag){case 1:return Mi(a.type)&&Vo(),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return br(),cr(Ai),cr(Vr),Ls(),n=a.flags,(n&65536)!==0&&(n&128)===0?(a.flags=n&-65537|128,a):null;case 5:return Ll(a),null;case 13:if(cr(yr),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(e(340));z()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return cr(yr),null;case 4:return br(),null;case 10:return nt(a.type._context),null;case 22:case 23:return yf(),null;case 24:return null;default:return null}}var Kh=!1,ua=!1,Ug=typeof WeakSet=="function"?WeakSet:Set,ln=null;function Nu(n,a){var m=n.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(b){xi(n,a,b)}else m.current=null}function of(n,a,m){try{m()}catch(b){xi(n,a,b)}}var xp=!1;function qg(n,a){if(Yt=ro,n=Mo(),uo(n)){if("selectionStart"in n)var m={start:n.selectionStart,end:n.selectionEnd};else e:{m=(m=n.ownerDocument)&&m.defaultView||window;var b=m.getSelection&&m.getSelection();if(b&&b.rangeCount!==0){m=b.anchorNode;var N=b.anchorOffset,U=b.focusNode;b=b.focusOffset;try{m.nodeType,U.nodeType}catch{m=null;break e}var ae=0,ze=-1,Qe=-1,St=0,zt=0,Ht=n,jt=null;t:for(;;){for(var sn;Ht!==m||N!==0&&Ht.nodeType!==3||(ze=ae+N),Ht!==U||b!==0&&Ht.nodeType!==3||(Qe=ae+b),Ht.nodeType===3&&(ae+=Ht.nodeValue.length),(sn=Ht.firstChild)!==null;)jt=Ht,Ht=sn;for(;;){if(Ht===n)break t;if(jt===m&&++St===N&&(ze=ae),jt===U&&++zt===b&&(Qe=ae),(sn=Ht.nextSibling)!==null)break;Ht=jt,jt=Ht.parentNode}Ht=sn}m=ze===-1||Qe===-1?null:{start:ze,end:Qe}}else m=null}m=m||{start:0,end:0}}else m=null;for(pn={focusedElem:n,selectionRange:m},ro=!1,ln=a;ln!==null;)if(a=ln,n=a.child,(a.subtreeFlags&1028)!==0&&n!==null)n.return=a,ln=n;else for(;ln!==null;){a=ln;try{var un=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(un!==null){var fn=un.memoizedProps,Ti=un.memoizedState,wt=a.stateNode,at=wt.getSnapshotBeforeUpdate(a.elementType===a.type?fn:Yo(a.type,fn),Ti);wt.__reactInternalSnapshotBeforeUpdate=at}break;case 3:var bt=a.stateNode.containerInfo;bt.nodeType===1?bt.textContent="":bt.nodeType===9&&bt.documentElement&&bt.removeChild(bt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(e(163))}}catch($t){xi(a,a.return,$t)}if(n=a.sibling,n!==null){n.return=a.return,ln=n;break}ln=a.return}return un=xp,xp=!1,un}function dh(n,a,m){var b=a.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var N=b=b.next;do{if((N.tag&n)===n){var U=N.destroy;N.destroy=void 0,U!==void 0&&of(a,m,U)}N=N.next}while(N!==b)}}function Jh(n,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var m=a=a.next;do{if((m.tag&n)===n){var b=m.create;m.destroy=b()}m=m.next}while(m!==a)}}function lf(n){var a=n.ref;if(a!==null){var m=n.stateNode;switch(n.tag){case 5:n=m;break;default:n=m}typeof a=="function"?a(n):a.current=n}}function Lp(n){var a=n.alternate;a!==null&&(n.alternate=null,Lp(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&(delete a[sa],delete a[ho],delete a[ni],delete a[nu],delete a[aa])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function kp(n){return n.tag===5||n.tag===3||n.tag===4}function Cp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||kp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function uf(n,a,m){var b=n.tag;if(b===5||b===6)n=n.stateNode,a?m.nodeType===8?m.parentNode.insertBefore(n,a):m.insertBefore(n,a):(m.nodeType===8?(a=m.parentNode,a.insertBefore(n,m)):(a=m,a.appendChild(n)),m=m._reactRootContainer,m!=null||a.onclick!==null||(a.onclick=Rt));else if(b!==4&&(n=n.child,n!==null))for(uf(n,a,m),n=n.sibling;n!==null;)uf(n,a,m),n=n.sibling}function hf(n,a,m){var b=n.tag;if(b===5||b===6)n=n.stateNode,a?m.insertBefore(n,a):m.appendChild(n);else if(b!==4&&(n=n.child,n!==null))for(hf(n,a,m),n=n.sibling;n!==null;)hf(n,a,m),n=n.sibling}var zs=null,Xo=!1;function Rl(n,a,m){for(m=m.child;m!==null;)Sp(n,a,m),m=m.sibling}function Sp(n,a,m){if(Yi&&typeof Yi.onCommitFiberUnmount=="function")try{Yi.onCommitFiberUnmount(Oa,m)}catch{}switch(m.tag){case 5:ua||Nu(m,a);case 6:var b=zs,N=Xo;zs=null,Rl(n,a,m),zs=b,Xo=N,zs!==null&&(Xo?(n=zs,m=m.stateNode,n.nodeType===8?n.parentNode.removeChild(m):n.removeChild(m)):zs.removeChild(m.stateNode));break;case 18:zs!==null&&(Xo?(n=zs,m=m.stateNode,n.nodeType===8?Go(n.parentNode,m):n.nodeType===1&&Go(n,m),ai(n)):Go(zs,m.stateNode));break;case 4:b=zs,N=Xo,zs=m.stateNode.containerInfo,Xo=!0,Rl(n,a,m),zs=b,Xo=N;break;case 0:case 11:case 14:case 15:if(!ua&&(b=m.updateQueue,b!==null&&(b=b.lastEffect,b!==null))){N=b=b.next;do{var U=N,ae=U.destroy;U=U.tag,ae!==void 0&&((U&2)!==0||(U&4)!==0)&&of(m,a,ae),N=N.next}while(N!==b)}Rl(n,a,m);break;case 1:if(!ua&&(Nu(m,a),b=m.stateNode,typeof b.componentWillUnmount=="function"))try{b.props=m.memoizedProps,b.state=m.memoizedState,b.componentWillUnmount()}catch(ze){xi(m,a,ze)}Rl(n,a,m);break;case 21:Rl(n,a,m);break;case 22:m.mode&1?(ua=(b=ua)||m.memoizedState!==null,Rl(n,a,m),ua=b):Rl(n,a,m);break;default:Rl(n,a,m)}}function Ep(n){var a=n.updateQueue;if(a!==null){n.updateQueue=null;var m=n.stateNode;m===null&&(m=n.stateNode=new Ug),a.forEach(function(b){var N=Yg.bind(null,n,b);m.has(b)||(m.add(b),b.then(N,N))})}}function Qo(n,a){var m=a.deletions;if(m!==null)for(var b=0;b<m.length;b++){var N=m[b];try{var U=n,ae=a,ze=ae;e:for(;ze!==null;){switch(ze.tag){case 5:zs=ze.stateNode,Xo=!1;break e;case 3:zs=ze.stateNode.containerInfo,Xo=!0;break e;case 4:zs=ze.stateNode.containerInfo,Xo=!0;break e}ze=ze.return}if(zs===null)throw Error(e(160));Sp(U,ae,N),zs=null,Xo=!1;var Qe=N.alternate;Qe!==null&&(Qe.return=null),N.return=null}catch(St){xi(N,a,St)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Pp(a,n),a=a.sibling}function Pp(n,a){var m=n.alternate,b=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Qo(a,n),cl(n),b&4){try{dh(3,n,n.return),Jh(3,n)}catch(fn){xi(n,n.return,fn)}try{dh(5,n,n.return)}catch(fn){xi(n,n.return,fn)}}break;case 1:Qo(a,n),cl(n),b&512&&m!==null&&Nu(m,m.return);break;case 5:if(Qo(a,n),cl(n),b&512&&m!==null&&Nu(m,m.return),n.flags&32){var N=n.stateNode;try{wn(N,"")}catch(fn){xi(n,n.return,fn)}}if(b&4&&(N=n.stateNode,N!=null)){var U=n.memoizedProps,ae=m!==null?m.memoizedProps:U,ze=n.type,Qe=n.updateQueue;if(n.updateQueue=null,Qe!==null)try{ze==="input"&&U.type==="radio"&&U.name!=null&&oe(N,U),Ar(ze,ae);var St=Ar(ze,U);for(ae=0;ae<Qe.length;ae+=2){var zt=Qe[ae],Ht=Qe[ae+1];zt==="style"?Dr(N,Ht):zt==="dangerouslySetInnerHTML"?on(N,Ht):zt==="children"?wn(N,Ht):K(N,zt,Ht,St)}switch(ze){case"input":Ee(N,U);break;case"textarea":It(N,U);break;case"select":var jt=N._wrapperState.wasMultiple;N._wrapperState.wasMultiple=!!U.multiple;var sn=U.value;sn!=null?ht(N,!!U.multiple,sn,!1):jt!==!!U.multiple&&(U.defaultValue!=null?ht(N,!!U.multiple,U.defaultValue,!0):ht(N,!!U.multiple,U.multiple?[]:"",!1))}N[ho]=U}catch(fn){xi(n,n.return,fn)}}break;case 6:if(Qo(a,n),cl(n),b&4){if(n.stateNode===null)throw Error(e(162));N=n.stateNode,U=n.memoizedProps;try{N.nodeValue=U}catch(fn){xi(n,n.return,fn)}}break;case 3:if(Qo(a,n),cl(n),b&4&&m!==null&&m.memoizedState.isDehydrated)try{ai(a.containerInfo)}catch(fn){xi(n,n.return,fn)}break;case 4:Qo(a,n),cl(n);break;case 13:Qo(a,n),cl(n),N=n.child,N.flags&8192&&(U=N.memoizedState!==null,N.stateNode.isHidden=U,!U||N.alternate!==null&&N.alternate.memoizedState!==null||(df=wr())),b&4&&Ep(n);break;case 22:if(zt=m!==null&&m.memoizedState!==null,n.mode&1?(ua=(St=ua)||zt,Qo(a,n),ua=St):Qo(a,n),cl(n),b&8192){if(St=n.memoizedState!==null,(n.stateNode.isHidden=St)&&!zt&&(n.mode&1)!==0)for(ln=n,zt=n.child;zt!==null;){for(Ht=ln=zt;ln!==null;){switch(jt=ln,sn=jt.child,jt.tag){case 0:case 11:case 14:case 15:dh(4,jt,jt.return);break;case 1:Nu(jt,jt.return);var un=jt.stateNode;if(typeof un.componentWillUnmount=="function"){b=jt,m=jt.return;try{a=b,un.props=a.memoizedProps,un.state=a.memoizedState,un.componentWillUnmount()}catch(fn){xi(b,m,fn)}}break;case 5:Nu(jt,jt.return);break;case 22:if(jt.memoizedState!==null){Bp(Ht);continue}}sn!==null?(sn.return=jt,ln=sn):Bp(Ht)}zt=zt.sibling}e:for(zt=null,Ht=n;;){if(Ht.tag===5){if(zt===null){zt=Ht;try{N=Ht.stateNode,St?(U=N.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none"):(ze=Ht.stateNode,Qe=Ht.memoizedProps.style,ae=Qe!=null&&Qe.hasOwnProperty("display")?Qe.display:null,ze.style.display=cn("display",ae))}catch(fn){xi(n,n.return,fn)}}}else if(Ht.tag===6){if(zt===null)try{Ht.stateNode.nodeValue=St?"":Ht.memoizedProps}catch(fn){xi(n,n.return,fn)}}else if((Ht.tag!==22&&Ht.tag!==23||Ht.memoizedState===null||Ht===n)&&Ht.child!==null){Ht.child.return=Ht,Ht=Ht.child;continue}if(Ht===n)break e;for(;Ht.sibling===null;){if(Ht.return===null||Ht.return===n)break e;zt===Ht&&(zt=null),Ht=Ht.return}zt===Ht&&(zt=null),Ht.sibling.return=Ht.return,Ht=Ht.sibling}}break;case 19:Qo(a,n),cl(n),b&4&&Ep(n);break;case 21:break;default:Qo(a,n),cl(n)}}function cl(n){var a=n.flags;if(a&2){try{e:{for(var m=n.return;m!==null;){if(kp(m)){var b=m;break e}m=m.return}throw Error(e(160))}switch(b.tag){case 5:var N=b.stateNode;b.flags&32&&(wn(N,""),b.flags&=-33);var U=Cp(n);hf(n,U,N);break;case 3:case 4:var ae=b.stateNode.containerInfo,ze=Cp(n);uf(n,ze,ae);break;default:throw Error(e(161))}}catch(Qe){xi(n,n.return,Qe)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function Gg(n,a,m){ln=n,Ap(n)}function Ap(n,a,m){for(var b=(n.mode&1)!==0;ln!==null;){var N=ln,U=N.child;if(N.tag===22&&b){var ae=N.memoizedState!==null||Kh;if(!ae){var ze=N.alternate,Qe=ze!==null&&ze.memoizedState!==null||ua;ze=Kh;var St=ua;if(Kh=ae,(ua=Qe)&&!St)for(ln=N;ln!==null;)ae=ln,Qe=ae.child,ae.tag===22&&ae.memoizedState!==null?Tp(N):Qe!==null?(Qe.return=ae,ln=Qe):Tp(N);for(;U!==null;)ln=U,Ap(U),U=U.sibling;ln=N,Kh=ze,ua=St}Mp(n)}else(N.subtreeFlags&8772)!==0&&U!==null?(U.return=N,ln=U):Mp(n)}}function Mp(n){for(;ln!==null;){var a=ln;if((a.flags&8772)!==0){var m=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:ua||Jh(5,a);break;case 1:var b=a.stateNode;if(a.flags&4&&!ua)if(m===null)b.componentDidMount();else{var N=a.elementType===a.type?m.memoizedProps:Yo(a.type,m.memoizedProps);b.componentDidUpdate(N,m.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var U=a.updateQueue;U!==null&&Xt(a,U,b);break;case 3:var ae=a.updateQueue;if(ae!==null){if(m=null,a.child!==null)switch(a.child.tag){case 5:m=a.child.stateNode;break;case 1:m=a.child.stateNode}Xt(a,ae,m)}break;case 5:var ze=a.stateNode;if(m===null&&a.flags&4){m=ze;var Qe=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":Qe.autoFocus&&m.focus();break;case"img":Qe.src&&(m.src=Qe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var St=a.alternate;if(St!==null){var zt=St.memoizedState;if(zt!==null){var Ht=zt.dehydrated;Ht!==null&&ai(Ht)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(e(163))}ua||a.flags&512&&lf(a)}catch(jt){xi(a,a.return,jt)}}if(a===n){ln=null;break}if(m=a.sibling,m!==null){m.return=a.return,ln=m;break}ln=a.return}}function Bp(n){for(;ln!==null;){var a=ln;if(a===n){ln=null;break}var m=a.sibling;if(m!==null){m.return=a.return,ln=m;break}ln=a.return}}function Tp(n){for(;ln!==null;){var a=ln;try{switch(a.tag){case 0:case 11:case 15:var m=a.return;try{Jh(4,a)}catch(Qe){xi(a,m,Qe)}break;case 1:var b=a.stateNode;if(typeof b.componentDidMount=="function"){var N=a.return;try{b.componentDidMount()}catch(Qe){xi(a,N,Qe)}}var U=a.return;try{lf(a)}catch(Qe){xi(a,U,Qe)}break;case 5:var ae=a.return;try{lf(a)}catch(Qe){xi(a,ae,Qe)}}}catch(Qe){xi(a,a.return,Qe)}if(a===n){ln=null;break}var ze=a.sibling;if(ze!==null){ze.return=a.return,ln=ze;break}ln=a.return}}var Hg=Math.ceil,Yh=de.ReactCurrentDispatcher,cf=de.ReactCurrentOwner,Oo=de.ReactCurrentBatchConfig,fr=0,ks=null,$i=null,Us=0,mo=0,Ou=oa(0),ls=0,ph=null,uu=0,Xh=0,ff=0,mh=null,Za=null,df=0,Du=1/0,Sl=null,Qh=!1,pf=null,Fl=null,ec=!1,jl=null,tc=0,gh=0,mf=null,nc=-1,rc=0;function Ea(){return(fr&6)!==0?wr():nc!==-1?nc:nc=wr()}function zl(n){return(n.mode&1)===0?1:(fr&2)!==0&&Us!==0?Us&-Us:J.transition!==null?(rc===0&&(rc=Ro()),rc):(n=Gn,n!==0||(n=window.event,n=n===void 0?16:In(n.type)),n)}function el(n,a,m,b){if(50<gh)throw gh=0,mf=null,Error(e(185));ji(n,m,b),((fr&2)===0||n!==ks)&&(n===ks&&((fr&2)===0&&(Xh|=m),ls===4&&Ul(n,Us)),Ka(n,b),m===1&&fr===0&&(a.mode&1)===0&&(Du=wr()+500,bl&&H()))}function Ka(n,a){var m=n.callbackNode;si(n,a);var b=Vn(n,n===ks?Us:0);if(b===0)m!==null&&Gs(m),n.callbackNode=null,n.callbackPriority=0;else if(a=b&-b,n.callbackPriority!==a){if(m!=null&&Gs(m),a===1)n.tag===0?D(Op.bind(null,n)):C(Op.bind(null,n)),Pr(function(){(fr&6)===0&&H()}),m=null;else{switch(Ws(b)){case 1:m=Ta;break;case 4:m=Io;break;case 16:m=_o;break;case 536870912:m=Na;break;default:m=_o}m=qp(m,Np.bind(null,n))}n.callbackPriority=a,n.callbackNode=m}}function Np(n,a){if(nc=-1,rc=0,(fr&6)!==0)throw Error(e(327));var m=n.callbackNode;if(Iu()&&n.callbackNode!==m)return null;var b=Vn(n,n===ks?Us:0);if(b===0)return null;if((b&30)!==0||(b&n.expiredLanes)!==0||a)a=ic(n,b);else{a=b;var N=fr;fr|=2;var U=Ip();(ks!==n||Us!==a)&&(Sl=null,Du=wr()+500,cu(n,a));do try{$g();break}catch(ze){Dp(n,ze)}while(!0);Ue(),Yh.current=U,fr=N,$i!==null?a=0:(ks=null,Us=0,a=ls)}if(a!==0){if(a===2&&(N=Jr(n),N!==0&&(b=N,a=gf(n,N))),a===1)throw m=ph,cu(n,0),Ul(n,b),Ka(n,wr()),m;if(a===6)Ul(n,b);else{if(N=n.current.alternate,(b&30)===0&&!Wg(N)&&(a=ic(n,b),a===2&&(U=Jr(n),U!==0&&(b=U,a=gf(n,U))),a===1))throw m=ph,cu(n,0),Ul(n,b),Ka(n,wr()),m;switch(n.finishedWork=N,n.finishedLanes=b,a){case 0:case 1:throw Error(e(345));case 2:fu(n,Za,Sl);break;case 3:if(Ul(n,b),(b&130023424)===b&&(a=df+500-wr(),10<a)){if(Vn(n,0)!==0)break;if(N=n.suspendedLanes,(N&b)!==b){Ea(),n.pingedLanes|=n.suspendedLanes&N;break}n.timeoutHandle=di(fu.bind(null,n,Za,Sl),a);break}fu(n,Za,Sl);break;case 4:if(Ul(n,b),(b&4194240)===b)break;for(a=n.eventTimes,N=-1;0<b;){var ae=31-An(b);U=1<<ae,ae=a[ae],ae>N&&(N=ae),b&=~U}if(b=N,b=wr()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*Hg(b/1960))-b,10<b){n.timeoutHandle=di(fu.bind(null,n,Za,Sl),b);break}fu(n,Za,Sl);break;case 5:fu(n,Za,Sl);break;default:throw Error(e(329))}}}return Ka(n,wr()),n.callbackNode===m?Np.bind(null,n):null}function gf(n,a){var m=mh;return n.current.memoizedState.isDehydrated&&(cu(n,a).flags|=256),n=ic(n,a),n!==2&&(a=Za,Za=m,a!==null&&_f(a)),n}function _f(n){Za===null?Za=n:Za.push.apply(Za,n)}function Wg(n){for(var a=n;;){if(a.flags&16384){var m=a.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var b=0;b<m.length;b++){var N=m[b],U=N.getSnapshot;N=N.value;try{if(!Xn(U(),N))return!1}catch{return!1}}}if(m=a.child,a.subtreeFlags&16384&&m!==null)m.return=a,a=m;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ul(n,a){for(a&=~ff,a&=~Xh,n.suspendedLanes|=a,n.pingedLanes&=~a,n=n.expirationTimes;0<a;){var m=31-An(a),b=1<<m;n[m]=-1,a&=~b}}function Op(n){if((fr&6)!==0)throw Error(e(327));Iu();var a=Vn(n,0);if((a&1)===0)return Ka(n,wr()),null;var m=ic(n,a);if(n.tag!==0&&m===2){var b=Jr(n);b!==0&&(a=b,m=gf(n,b))}if(m===1)throw m=ph,cu(n,0),Ul(n,a),Ka(n,wr()),m;if(m===6)throw Error(e(345));return n.finishedWork=n.current.alternate,n.finishedLanes=a,fu(n,Za,Sl),Ka(n,wr()),null}function vf(n,a){var m=fr;fr|=1;try{return n(a)}finally{fr=m,fr===0&&(Du=wr()+500,bl&&H())}}function hu(n){jl!==null&&jl.tag===0&&(fr&6)===0&&Iu();var a=fr;fr|=1;var m=Oo.transition,b=Gn;try{if(Oo.transition=null,Gn=1,n)return n()}finally{Gn=b,Oo.transition=m,fr=a,(fr&6)===0&&H()}}function yf(){mo=Ou.current,cr(Ou)}function cu(n,a){n.finishedWork=null,n.finishedLanes=0;var m=n.timeoutHandle;if(m!==-1&&(n.timeoutHandle=-1,Wr(m)),$i!==null)for(m=$i.return;m!==null;){var b=m;switch(et(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&Vo();break;case 3:br(),cr(Ai),cr(Vr),Ls();break;case 5:Ll(b);break;case 4:br();break;case 13:cr(yr);break;case 19:cr(yr);break;case 10:nt(b.type._context);break;case 22:case 23:yf()}m=m.return}if(ks=n,$i=n=ql(n.current,null),Us=mo=a,ls=0,ph=null,ff=Xh=uu=0,Za=mh=null,X!==null){for(a=0;a<X.length;a++)if(m=X[a],b=m.interleaved,b!==null){m.interleaved=null;var N=b.next,U=m.pending;if(U!==null){var ae=U.next;U.next=N,b.next=ae}m.pending=b}X=null}return n}function Dp(n,a){do{var m=$i;try{if(Ue(),wi.current=Wh,Ol){for(var b=Fr.memoizedState;b!==null;){var N=b.queue;N!==null&&(N.pending=null),b=b.next}Ol=!1}if(To=0,pi=bi=Fr=null,Ko=!1,Dl=0,cf.current=null,m===null||m.return===null){ls=1,ph=a,$i=null;break}e:{var U=n,ae=m.return,ze=m,Qe=a;if(a=Us,ze.flags|=32768,Qe!==null&&typeof Qe=="object"&&typeof Qe.then=="function"){var St=Qe,zt=ze,Ht=zt.tag;if((zt.mode&1)===0&&(Ht===0||Ht===11||Ht===15)){var jt=zt.alternate;jt?(zt.updateQueue=jt.updateQueue,zt.memoizedState=jt.memoizedState,zt.lanes=jt.lanes):(zt.updateQueue=null,zt.memoizedState=null)}var sn=ap(ae);if(sn!==null){sn.flags&=-257,op(sn,ae,ze,U,a),sn.mode&1&&sp(U,St,a),a=sn,Qe=St;var un=a.updateQueue;if(un===null){var fn=new Set;fn.add(Qe),a.updateQueue=fn}else un.add(Qe);break e}else{if((a&1)===0){sp(U,St,a),wf();break e}Qe=Error(e(426))}}else if(Mt&&ze.mode&1){var Ti=ap(ae);if(Ti!==null){(Ti.flags&65536)===0&&(Ti.flags|=256),op(Ti,ae,ze,U,a),q(Tu(Qe,ze));break e}}U=Qe=Tu(Qe,ze),ls!==4&&(ls=2),mh===null?mh=[U]:mh.push(U),U=ae;do{switch(U.tag){case 3:U.flags|=65536,a&=-a,U.lanes|=a;var wt=rp(U,Qe,a);ct(U,wt);break e;case 1:ze=Qe;var at=U.type,bt=U.stateNode;if((U.flags&128)===0&&(typeof at.getDerivedStateFromError=="function"||bt!==null&&typeof bt.componentDidCatch=="function"&&(Fl===null||!Fl.has(bt)))){U.flags|=65536,a&=-a,U.lanes|=a;var $t=ip(U,ze,a);ct(U,$t);break e}}U=U.return}while(U!==null)}Fp(m)}catch(vn){a=vn,$i===m&&m!==null&&($i=m=m.return);continue}break}while(!0)}function Ip(){var n=Yh.current;return Yh.current=Wh,n===null?Wh:n}function wf(){(ls===0||ls===3||ls===2)&&(ls=4),ks===null||(uu&268435455)===0&&(Xh&268435455)===0||Ul(ks,Us)}function ic(n,a){var m=fr;fr|=2;var b=Ip();(ks!==n||Us!==a)&&(Sl=null,cu(n,a));do try{Vg();break}catch(N){Dp(n,N)}while(!0);if(Ue(),fr=m,Yh.current=b,$i!==null)throw Error(e(261));return ks=null,Us=0,ls}function Vg(){for(;$i!==null;)Rp($i)}function $g(){for(;$i!==null&&!Ba();)Rp($i)}function Rp(n){var a=Up(n.alternate,n,mo);n.memoizedProps=n.pendingProps,a===null?Fp(n):$i=a,cf.current=null}function Fp(n){var a=n;do{var m=a.alternate;if(n=a.return,(a.flags&32768)===0){if(m=jg(m,a,mo),m!==null){$i=m;return}}else{if(m=zg(m,a),m!==null){m.flags&=32767,$i=m;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{ls=6,$i=null;return}}if(a=a.sibling,a!==null){$i=a;return}$i=a=n}while(a!==null);ls===0&&(ls=5)}function fu(n,a,m){var b=Gn,N=Oo.transition;try{Oo.transition=null,Gn=1,Zg(n,a,m,b)}finally{Oo.transition=N,Gn=b}return null}function Zg(n,a,m,b){do Iu();while(jl!==null);if((fr&6)!==0)throw Error(e(327));m=n.finishedWork;var N=n.finishedLanes;if(m===null)return null;if(n.finishedWork=null,n.finishedLanes=0,m===n.current)throw Error(e(177));n.callbackNode=null,n.callbackPriority=0;var U=m.lanes|m.childLanes;if(kr(n,U),n===ks&&($i=ks=null,Us=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||ec||(ec=!0,qp(_o,function(){return Iu(),null})),U=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||U){U=Oo.transition,Oo.transition=null;var ae=Gn;Gn=1;var ze=fr;fr|=4,cf.current=null,qg(n,m),Pp(m,n),yi(pn),ro=!!Yt,pn=Yt=null,n.current=m,Gg(m),eo(),fr=ze,Gn=ae,Oo.transition=U}else n.current=m;if(ec&&(ec=!1,jl=n,tc=N),U=n.pendingLanes,U===0&&(Fl=null),Xi(m.stateNode),Ka(n,wr()),a!==null)for(b=n.onRecoverableError,m=0;m<a.length;m++)N=a[m],b(N.value,{componentStack:N.stack,digest:N.digest});if(Qh)throw Qh=!1,n=pf,pf=null,n;return(tc&1)!==0&&n.tag!==0&&Iu(),U=n.pendingLanes,(U&1)!==0?n===mf?gh++:(gh=0,mf=n):gh=0,H(),null}function Iu(){if(jl!==null){var n=Ws(tc),a=Oo.transition,m=Gn;try{if(Oo.transition=null,Gn=16>n?16:n,jl===null)var b=!1;else{if(n=jl,jl=null,tc=0,(fr&6)!==0)throw Error(e(331));var N=fr;for(fr|=4,ln=n.current;ln!==null;){var U=ln,ae=U.child;if((ln.flags&16)!==0){var ze=U.deletions;if(ze!==null){for(var Qe=0;Qe<ze.length;Qe++){var St=ze[Qe];for(ln=St;ln!==null;){var zt=ln;switch(zt.tag){case 0:case 11:case 15:dh(8,zt,U)}var Ht=zt.child;if(Ht!==null)Ht.return=zt,ln=Ht;else for(;ln!==null;){zt=ln;var jt=zt.sibling,sn=zt.return;if(Lp(zt),zt===St){ln=null;break}if(jt!==null){jt.return=sn,ln=jt;break}ln=sn}}}var un=U.alternate;if(un!==null){var fn=un.child;if(fn!==null){un.child=null;do{var Ti=fn.sibling;fn.sibling=null,fn=Ti}while(fn!==null)}}ln=U}}if((U.subtreeFlags&2064)!==0&&ae!==null)ae.return=U,ln=ae;else e:for(;ln!==null;){if(U=ln,(U.flags&2048)!==0)switch(U.tag){case 0:case 11:case 15:dh(9,U,U.return)}var wt=U.sibling;if(wt!==null){wt.return=U.return,ln=wt;break e}ln=U.return}}var at=n.current;for(ln=at;ln!==null;){ae=ln;var bt=ae.child;if((ae.subtreeFlags&2064)!==0&&bt!==null)bt.return=ae,ln=bt;else e:for(ae=at;ln!==null;){if(ze=ln,(ze.flags&2048)!==0)try{switch(ze.tag){case 0:case 11:case 15:Jh(9,ze)}}catch(vn){xi(ze,ze.return,vn)}if(ze===ae){ln=null;break e}var $t=ze.sibling;if($t!==null){$t.return=ze.return,ln=$t;break e}ln=ze.return}}if(fr=N,H(),Yi&&typeof Yi.onPostCommitFiberRoot=="function")try{Yi.onPostCommitFiberRoot(Oa,n)}catch{}b=!0}return b}finally{Gn=m,Oo.transition=a}}return!1}function jp(n,a,m){a=Tu(m,a),a=rp(n,a,1),n=Xe(n,a,1),a=Ea(),n!==null&&(ji(n,1,a),Ka(n,a))}function xi(n,a,m){if(n.tag===3)jp(n,n,m);else for(;a!==null;){if(a.tag===3){jp(a,n,m);break}else if(a.tag===1){var b=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Fl===null||!Fl.has(b))){n=Tu(m,n),n=ip(a,n,1),a=Xe(a,n,1),n=Ea(),a!==null&&(ji(a,1,n),Ka(a,n));break}}a=a.return}}function Kg(n,a,m){var b=n.pingCache;b!==null&&b.delete(a),a=Ea(),n.pingedLanes|=n.suspendedLanes&m,ks===n&&(Us&m)===m&&(ls===4||ls===3&&(Us&130023424)===Us&&500>wr()-df?cu(n,0):ff|=m),Ka(n,a)}function zp(n,a){a===0&&((n.mode&1)===0?a=1:(a=Hs,Hs<<=1,(Hs&130023424)===0&&(Hs=4194304)));var m=Ea();n=ge(n,a),n!==null&&(ji(n,a,m),Ka(n,m))}function Jg(n){var a=n.memoizedState,m=0;a!==null&&(m=a.retryLane),zp(n,m)}function Yg(n,a){var m=0;switch(n.tag){case 13:var b=n.stateNode,N=n.memoizedState;N!==null&&(m=N.retryLane);break;case 19:b=n.stateNode;break;default:throw Error(e(314))}b!==null&&b.delete(a),zp(n,m)}var Up;Up=function(n,a,m){if(n!==null)if(n.memoizedProps!==a.pendingProps||Ai.current)$a=!0;else{if((n.lanes&m)===0&&(a.flags&128)===0)return $a=!1,Fg(n,a,m);$a=(n.flags&131072)!==0}else $a=!1,Mt&&(a.flags&1048576)!==0&&Pt(a,_e,a.index);switch(a.lanes=0,a.tag){case 2:var b=a.type;Zh(n,a),n=a.pendingProps;var N=ul(a,Vr.current);rt(a,m),N=au(null,a,b,n,N,m);var U=No();return a.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Mi(b)?(U=!0,$o(a)):U=!1,a.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,Ce(a),N.updater=Vh,a.stateNode=N,N._reactInternals=a,Jc(a,b,n,m),a=ef(null,a,b,!0,U,m)):(a.tag=0,Mt&&U&&Ct(a),Sa(null,a,N,m),a=a.child),a;case 16:b=a.elementType;e:{switch(Zh(n,a),n=a.pendingProps,N=b._init,b=N(b._payload),a.type=b,N=a.tag=Qg(b),n=Yo(b,n),N){case 0:a=Qc(null,a,b,n,m);break e;case 1:a=dp(null,a,b,n,m);break e;case 11:a=lp(null,a,b,n,m);break e;case 14:a=up(null,a,b,Yo(b.type,n),m);break e}throw Error(e(306,b,""))}return a;case 0:return b=a.type,N=a.pendingProps,N=a.elementType===b?N:Yo(b,N),Qc(n,a,b,N,m);case 1:return b=a.type,N=a.pendingProps,N=a.elementType===b?N:Yo(b,N),dp(n,a,b,N,m);case 3:e:{if(pp(a),n===null)throw Error(e(387));b=a.pendingProps,U=a.memoizedState,N=U.element,Ze(n,a),Dt(a,b,null,m);var ae=a.memoizedState;if(b=ae.element,U.isDehydrated)if(U={element:b,isDehydrated:!1,cache:ae.cache,pendingSuspenseBoundaries:ae.pendingSuspenseBoundaries,transitions:ae.transitions},a.updateQueue.baseState=U,a.memoizedState=U,a.flags&256){N=Tu(Error(e(423)),a),a=mp(n,a,b,m,N);break e}else if(b!==N){N=Tu(Error(e(424)),a),a=mp(n,a,b,m,N);break e}else for(At=ei(a.stateNode.containerInfo.firstChild),tt=a,Mt=!0,Nt=null,m=Et(a,null,b,m),a.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(z(),b===N){a=Cl(n,a,m);break e}Sa(n,a,b,m)}a=a.child}return a;case 5:return xl(a),n===null&&p(a),b=a.type,N=a.pendingProps,U=n!==null?n.memoizedProps:null,ae=N.children,On(b,N)?ae=null:U!==null&&On(b,U)&&(a.flags|=32),fp(n,a),Sa(n,a,ae,m),a.child;case 6:return n===null&&p(a),null;case 13:return gp(n,a,m);case 4:return tr(a,a.stateNode.containerInfo),b=a.pendingProps,n===null?a.child=gt(a,null,b,m):Sa(n,a,b,m),a.child;case 11:return b=a.type,N=a.pendingProps,N=a.elementType===b?N:Yo(b,N),lp(n,a,b,N,m);case 7:return Sa(n,a,a.pendingProps,m),a.child;case 8:return Sa(n,a,a.pendingProps.children,m),a.child;case 12:return Sa(n,a,a.pendingProps.children,m),a.child;case 10:e:{if(b=a.type._context,N=a.pendingProps,U=a.memoizedProps,ae=N.value,pr(Wt,b._currentValue),b._currentValue=ae,U!==null)if(Xn(U.value,ae)){if(U.children===N.children&&!Ai.current){a=Cl(n,a,m);break e}}else for(U=a.child,U!==null&&(U.return=a);U!==null;){var ze=U.dependencies;if(ze!==null){ae=U.child;for(var Qe=ze.firstContext;Qe!==null;){if(Qe.context===b){if(U.tag===1){Qe=Ge(-1,m&-m),Qe.tag=2;var St=U.updateQueue;if(St!==null){St=St.shared;var zt=St.pending;zt===null?Qe.next=Qe:(Qe.next=zt.next,zt.next=Qe),St.pending=Qe}}U.lanes|=m,Qe=U.alternate,Qe!==null&&(Qe.lanes|=m),yt(U.return,m,a),ze.lanes|=m;break}Qe=Qe.next}}else if(U.tag===10)ae=U.type===a.type?null:U.child;else if(U.tag===18){if(ae=U.return,ae===null)throw Error(e(341));ae.lanes|=m,ze=ae.alternate,ze!==null&&(ze.lanes|=m),yt(ae,m,a),ae=U.sibling}else ae=U.child;if(ae!==null)ae.return=U;else for(ae=U;ae!==null;){if(ae===a){ae=null;break}if(U=ae.sibling,U!==null){U.return=ae.return,ae=U;break}ae=ae.return}U=ae}Sa(n,a,N.children,m),a=a.child}return a;case 9:return N=a.type,b=a.pendingProps.children,rt(a,m),N=dt(N),b=b(N),a.flags|=1,Sa(n,a,b,m),a.child;case 14:return b=a.type,N=Yo(b,a.pendingProps),N=Yo(b.type,N),up(n,a,b,N,m);case 15:return hp(n,a,a.type,a.pendingProps,m);case 17:return b=a.type,N=a.pendingProps,N=a.elementType===b?N:Yo(b,N),Zh(n,a),a.tag=1,Mi(b)?(n=!0,$o(a)):n=!1,rt(a,m),tp(a,b,N),Jc(a,b,N,m),ef(null,a,b,!0,n,m);case 19:return vp(n,a,m);case 22:return cp(n,a,m)}throw Error(e(156,a.tag))};function qp(n,a){return Qa(n,a)}function Xg(n,a,m,b){this.tag=n,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Do(n,a,m,b){return new Xg(n,a,m,b)}function bf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Qg(n){if(typeof n=="function")return bf(n)?1:0;if(n!=null){if(n=n.$$typeof,n===G)return 11;if(n===Ie)return 14}return 2}function ql(n,a){var m=n.alternate;return m===null?(m=Do(n.tag,a,n.key,n.mode),m.elementType=n.elementType,m.type=n.type,m.stateNode=n.stateNode,m.alternate=n,n.alternate=m):(m.pendingProps=a,m.type=n.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=n.flags&14680064,m.childLanes=n.childLanes,m.lanes=n.lanes,m.child=n.child,m.memoizedProps=n.memoizedProps,m.memoizedState=n.memoizedState,m.updateQueue=n.updateQueue,a=n.dependencies,m.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},m.sibling=n.sibling,m.index=n.index,m.ref=n.ref,m}function sc(n,a,m,b,N,U){var ae=2;if(b=n,typeof n=="function")bf(n)&&(ae=1);else if(typeof n=="string")ae=5;else e:switch(n){case Z:return du(m.children,N,U,a);case Y:ae=8,N|=8;break;case me:return n=Do(12,m,a,N|2),n.elementType=me,n.lanes=U,n;case ve:return n=Do(13,m,a,N),n.elementType=ve,n.lanes=U,n;case j:return n=Do(19,m,a,N),n.elementType=j,n.lanes=U,n;case Fe:return ac(m,N,U,a);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Ne:ae=10;break e;case te:ae=9;break e;case G:ae=11;break e;case Ie:ae=14;break e;case Ve:ae=16,b=null;break e}throw Error(e(130,n==null?n:typeof n,""))}return a=Do(ae,m,a,N),a.elementType=n,a.type=b,a.lanes=U,a}function du(n,a,m,b){return n=Do(7,n,b,a),n.lanes=m,n}function ac(n,a,m,b){return n=Do(22,n,b,a),n.elementType=Fe,n.lanes=m,n.stateNode={isHidden:!1},n}function xf(n,a,m){return n=Do(6,n,null,a),n.lanes=m,n}function Lf(n,a,m){return a=Do(4,n.children!==null?n.children:[],n.key,a),a.lanes=m,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}function e_(n,a,m,b,N){this.tag=a,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ra(0),this.expirationTimes=Ra(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ra(0),this.identifierPrefix=b,this.onRecoverableError=N,this.mutableSourceEagerHydrationData=null}function kf(n,a,m,b,N,U,ae,ze,Qe){return n=new e_(n,a,m,ze,Qe),a===1?(a=1,U===!0&&(a|=8)):a=0,U=Do(3,null,null,a),n.current=U,U.stateNode=n,U.memoizedState={element:b,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ce(U),n}function t_(n,a,m){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xe,key:b==null?null:""+b,children:n,containerInfo:a,implementation:m}}function Gp(n){if(!n)return Bo;n=n._reactInternals;e:{if(Kr(n)!==n||n.tag!==1)throw Error(e(170));var a=n;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Mi(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(e(171))}if(n.tag===1){var m=n.type;if(Mi(m))return iu(n,m,a)}return a}function Hp(n,a,m,b,N,U,ae,ze,Qe){return n=kf(m,b,!0,n,N,U,ae,ze,Qe),n.context=Gp(null),m=n.current,b=Ea(),N=zl(m),U=Ge(b,N),U.callback=a??null,Xe(m,U,N),n.current.lanes=N,ji(n,N,b),Ka(n,b),n}function oc(n,a,m,b){var N=a.current,U=Ea(),ae=zl(N);return m=Gp(m),a.context===null?a.context=m:a.pendingContext=m,a=Ge(U,ae),a.payload={element:n},b=b===void 0?null:b,b!==null&&(a.callback=b),n=Xe(N,a,ae),n!==null&&(el(n,N,ae,U),pt(n,N,ae)),ae}function lc(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Wp(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var m=n.retryLane;n.retryLane=m!==0&&m<a?m:a}}function Cf(n,a){Wp(n,a),(n=n.alternate)&&Wp(n,a)}function n_(){return null}var Vp=typeof reportError=="function"?reportError:function(n){console.error(n)};function Sf(n){this._internalRoot=n}uc.prototype.render=Sf.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(e(409));oc(n,a,null,null)},uc.prototype.unmount=Sf.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;hu(function(){oc(null,n,null,null)}),a[Un]=null}};function uc(n){this._internalRoot=n}uc.prototype.unstable_scheduleHydration=function(n){if(n){var a=ps();n={blockedOn:null,target:n,priority:a};for(var m=0;m<zr.length&&a!==0&&a<zr[m].priority;m++);zr.splice(m,0,n),m===0&&ts(n)}};function Ef(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function hc(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function $p(){}function r_(n,a,m,b,N){if(N){if(typeof b=="function"){var U=b;b=function(){var St=lc(ae);U.call(St)}}var ae=Hp(a,b,n,0,null,!1,!1,"",$p);return n._reactRootContainer=ae,n[Un]=ae.current,Hr(n.nodeType===8?n.parentNode:n),hu(),ae}for(;N=n.lastChild;)n.removeChild(N);if(typeof b=="function"){var ze=b;b=function(){var St=lc(Qe);ze.call(St)}}var Qe=kf(n,0,!1,null,null,!1,!1,"",$p);return n._reactRootContainer=Qe,n[Un]=Qe.current,Hr(n.nodeType===8?n.parentNode:n),hu(function(){oc(a,Qe,m,b)}),Qe}function cc(n,a,m,b,N){var U=m._reactRootContainer;if(U){var ae=U;if(typeof N=="function"){var ze=N;N=function(){var Qe=lc(ae);ze.call(Qe)}}oc(a,ae,n,N)}else ae=r_(m,a,n,N,b);return lc(ae)}vo=function(n){switch(n.tag){case 3:var a=n.stateNode;if(a.current.memoizedState.isDehydrated){var m=Ln(a.pendingLanes);m!==0&&(ds(a,m|1),Ka(a,wr()),(fr&6)===0&&(Du=wr()+500,H()))}break;case 13:hu(function(){var b=ge(n,1);if(b!==null){var N=Ea();el(b,n,1,N)}}),Cf(n,1)}},Vs=function(n){if(n.tag===13){var a=ge(n,134217728);if(a!==null){var m=Ea();el(a,n,134217728,m)}Cf(n,134217728)}},yo=function(n){if(n.tag===13){var a=zl(n),m=ge(n,a);if(m!==null){var b=Ea();el(m,n,a,b)}Cf(n,a)}},ps=function(){return Gn},$s=function(n,a){var m=Gn;try{return Gn=n,a()}finally{Gn=m}},ar=function(n,a,m){switch(a){case"input":if(Ee(n,m),a=m.name,m.type==="radio"&&a!=null){for(m=n;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<m.length;a++){var b=m[a];if(b!==n&&b.form===n.form){var N=Ho(b);if(!N)throw Error(e(90));Gt(b),Ee(b,N)}}}break;case"textarea":It(n,m);break;case"select":a=m.value,a!=null&&ht(n,!!m.multiple,a,!1)}},ma=vf,Zr=hu;var i_={usingClientEntryPoint:!1,Events:[js,La,Ho,En,Yn,vf]},_h={findFiberByHostInstance:Wa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},s_={bundleType:_h.bundleType,version:_h.version,rendererPackageName:_h.rendererPackageName,rendererConfig:_h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:de.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Ma(n),n===null?null:n.stateNode},findFiberByHostInstance:_h.findFiberByHostInstance||n_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{Oa=fc.inject(s_),Yi=fc}catch{}}return Ja.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i_,Ja.createPortal=function(n,a){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ef(a))throw Error(e(200));return t_(n,a,null,m)},Ja.createRoot=function(n,a){if(!Ef(n))throw Error(e(299));var m=!1,b="",N=Vp;return a!=null&&(a.unstable_strictMode===!0&&(m=!0),a.identifierPrefix!==void 0&&(b=a.identifierPrefix),a.onRecoverableError!==void 0&&(N=a.onRecoverableError)),a=kf(n,1,!1,null,null,m,!1,b,N),n[Un]=a.current,Hr(n.nodeType===8?n.parentNode:n),new Sf(a)},Ja.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(e(188)):(n=Object.keys(n).join(","),Error(e(268,n)));return n=Ma(a),n=n===null?null:n.stateNode,n},Ja.flushSync=function(n){return hu(n)},Ja.hydrate=function(n,a,m){if(!hc(a))throw Error(e(200));return cc(null,n,a,!0,m)},Ja.hydrateRoot=function(n,a,m){if(!Ef(n))throw Error(e(405));var b=m!=null&&m.hydratedSources||null,N=!1,U="",ae=Vp;if(m!=null&&(m.unstable_strictMode===!0&&(N=!0),m.identifierPrefix!==void 0&&(U=m.identifierPrefix),m.onRecoverableError!==void 0&&(ae=m.onRecoverableError)),a=Hp(a,null,n,1,m??null,N,!1,U,ae),n[Un]=a.current,Hr(n),b)for(n=0;n<b.length;n++)m=b[n],N=m._getVersion,N=N(m._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[m,N]:a.mutableSourceEagerHydrationData.push(m,N);return new uc(a)},Ja.render=function(n,a,m){if(!hc(a))throw Error(e(200));return cc(null,n,a,!1,m)},Ja.unmountComponentAtNode=function(n){if(!hc(n))throw Error(e(40));return n._reactRootContainer?(hu(function(){cc(null,null,n,!1,function(){n._reactRootContainer=null,n[Un]=null})}),!0):!1},Ja.unstable_batchedUpdates=vf,Ja.unstable_renderSubtreeIntoContainer=function(n,a,m,b){if(!hc(m))throw Error(e(200));if(n==null||n._reactInternals===void 0)throw Error(e(38));return cc(n,a,m,!1,b)},Ja.version="18.3.1-next-f1338f8080-20240426",Ja}var t0;function dm(){if(t0)return Mf.exports;t0=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(t){console.error(t)}}return o(),Mf.exports=f_(),Mf.exports}var n0;function d_(){if(n0)return dc;n0=1;var o=dm();return dc.createRoot=o.createRoot,dc.hydrateRoot=o.hydrateRoot,dc}var p_=d_();const m_=bu(p_),g_="modulepreload",__=function(o){return"/pudumaps/"+o},r0={},Xl=function(t,e,i){let u=Promise.resolve();if(e&&e.length>0){let g=function(y){return Promise.all(y.map(S=>Promise.resolve(S).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");u=g(e.map(y=>{if(y=__(y),y in r0)return;r0[y]=!0;const S=y.endsWith(".css"),E=S?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${E}`))return;const A=document.createElement("link");if(A.rel=S?"stylesheet":g_,S||(A.as="script"),A.crossOrigin="",A.href=y,d&&A.setAttribute("nonce",d),document.head.appendChild(A),S)return new Promise((x,R)=>{A.addEventListener("load",x),A.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${y}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return u.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return t().catch(l)})},v_=o=>{let t;return o?t=o:typeof fetch>"u"?t=(...e)=>Xl(async()=>{const{default:i}=await Promise.resolve().then(()=>oh);return{default:i}},void 0).then(({default:i})=>i(...e)):t=fetch,(...e)=>t(...e)};class Md extends Error{constructor(t,e="FunctionsError",i){super(t),this.name=e,this.context=i}}class y_ extends Md{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class i0 extends Md{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class s0 extends Md{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var td;(function(o){o.Any="any",o.ApNortheast1="ap-northeast-1",o.ApNortheast2="ap-northeast-2",o.ApSouth1="ap-south-1",o.ApSoutheast1="ap-southeast-1",o.ApSoutheast2="ap-southeast-2",o.CaCentral1="ca-central-1",o.EuCentral1="eu-central-1",o.EuWest1="eu-west-1",o.EuWest2="eu-west-2",o.EuWest3="eu-west-3",o.SaEast1="sa-east-1",o.UsEast1="us-east-1",o.UsWest1="us-west-1",o.UsWest2="us-west-2"})(td||(td={}));var w_=function(o,t,e,i){function u(l){return l instanceof e?l:new e(function(c){c(l)})}return new(e||(e=Promise))(function(l,c){function d(S){try{y(i.next(S))}catch(E){c(E)}}function g(S){try{y(i.throw(S))}catch(E){c(E)}}function y(S){S.done?l(S.value):u(S.value).then(d,g)}y((i=i.apply(o,t||[])).next())})};class b_{constructor(t,{headers:e={},customFetch:i,region:u=td.Any}={}){this.url=t,this.headers=e,this.region=u,this.fetch=v_(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,e={}){var i;return w_(this,void 0,void 0,function*(){try{const{headers:u,method:l,body:c}=e;let d={},{region:g}=e;g||(g=this.region);const y=new URL(`${this.url}/${t}`);g&&g!=="any"&&(d["x-region"]=g,y.searchParams.set("forceFunctionRegion",g));let S;c&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",S=c):typeof c=="string"?(d["Content-Type"]="text/plain",S=c):typeof FormData<"u"&&c instanceof FormData?S=c:(d["Content-Type"]="application/json",S=JSON.stringify(c)));const E=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),u),body:S}).catch(M=>{throw new y_(M)}),A=E.headers.get("x-relay-error");if(A&&A==="true")throw new i0(E);if(!E.ok)throw new s0(E);let x=((i=E.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),R;return x==="application/json"?R=yield E.json():x==="application/octet-stream"?R=yield E.blob():x==="text/event-stream"?R=E:x==="multipart/form-data"?R=yield E.formData():R=yield E.text(),{data:R,error:null,response:E}}catch(u){return{data:null,error:u,response:u instanceof s0||u instanceof i0?u.context:void 0}}})}}var Ss={},Ru={},Fu={},ju={},zu={},Uu={},x_=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ah=x_();const L_=ah.fetch,pm=ah.fetch.bind(ah),mm=ah.Headers,k_=ah.Request,C_=ah.Response,oh=Object.freeze(Object.defineProperty({__proto__:null,Headers:mm,Request:k_,Response:C_,default:pm,fetch:L_},Symbol.toStringTag,{value:"Module"})),S_=fm(oh);var pc={},a0;function gm(){if(a0)return pc;a0=1,Object.defineProperty(pc,"__esModule",{value:!0});class o extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}return pc.default=o,pc}var o0;function _m(){if(o0)return Uu;o0=1;var o=Uu&&Uu.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Uu,"__esModule",{value:!0});const t=o(S_),e=o(gm());class i{constructor(l){this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=l.headers,this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=l.shouldThrowOnError,this.signal=l.signal,this.isMaybeSingle=l.isMaybeSingle,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,c){return this.headers=Object.assign({},this.headers),this.headers[l]=c,this}then(l,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const d=this.fetch;let g=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async y=>{var S,E,A;let x=null,R=null,M=null,I=y.status,O=y.statusText;if(y.ok){if(this.method!=="HEAD"){const ie=await y.text();ie===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?R=ie:R=JSON.parse(ie))}const K=(S=this.headers.Prefer)===null||S===void 0?void 0:S.match(/count=(exact|planned|estimated)/),de=(E=y.headers.get("content-range"))===null||E===void 0?void 0:E.split("/");K&&de&&de.length>1&&(M=parseInt(de[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(R)&&(R.length>1?(x={code:"PGRST116",details:`Results contain ${R.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},R=null,M=null,I=406,O="Not Acceptable"):R.length===1?R=R[0]:R=null)}else{const K=await y.text();try{x=JSON.parse(K),Array.isArray(x)&&y.status===404&&(R=[],x=null,I=200,O="OK")}catch{y.status===404&&K===""?(I=204,O="No Content"):x={message:K}}if(x&&this.isMaybeSingle&&(!((A=x?.details)===null||A===void 0)&&A.includes("0 rows"))&&(x=null,I=200,O="OK"),x&&this.shouldThrowOnError)throw new e.default(x)}return{error:x,data:R,count:M,status:I,statusText:O}});return this.shouldThrowOnError||(g=g.catch(y=>{var S,E,A;return{error:{message:`${(S=y?.name)!==null&&S!==void 0?S:"FetchError"}: ${y?.message}`,details:`${(E=y?.stack)!==null&&E!==void 0?E:""}`,hint:"",code:`${(A=y?.code)!==null&&A!==void 0?A:""}`},data:null,count:null,status:0,statusText:""}})),g.then(l,c)}returns(){return this}overrideTypes(){return this}}return Uu.default=i,Uu}var l0;function vm(){if(l0)return zu;l0=1;var o=zu&&zu.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(zu,"__esModule",{value:!0});const t=o(_m());class e extends t.default{select(u){let l=!1;const c=(u??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",c),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(u,{ascending:l=!0,nullsFirst:c,foreignTable:d,referencedTable:g=d}={}){const y=g?`${g}.order`:"order",S=this.url.searchParams.get(y);return this.url.searchParams.set(y,`${S?`${S},`:""}${u}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(u,{foreignTable:l,referencedTable:c=l}={}){const d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${u}`),this}range(u,l,{foreignTable:c,referencedTable:d=c}={}){const g=typeof d>"u"?"offset":`${d}.offset`,y=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(g,`${u}`),this.url.searchParams.set(y,`${l-u+1}`),this}abortSignal(u){return this.signal=u,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:u=!1,verbose:l=!1,settings:c=!1,buffers:d=!1,wal:g=!1,format:y="text"}={}){var S;const E=[u?"analyze":null,l?"verbose":null,c?"settings":null,d?"buffers":null,g?"wal":null].filter(Boolean).join("|"),A=(S=this.headers.Accept)!==null&&S!==void 0?S:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${y}; for="${A}"; options=${E};`,y==="json"?this:this}rollback(){var u;return((u=this.headers.Prefer)!==null&&u!==void 0?u:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return zu.default=e,zu}var u0;function Bd(){if(u0)return ju;u0=1;var o=ju&&ju.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ju,"__esModule",{value:!0});const t=o(vm());class e extends t.default{eq(u,l){return this.url.searchParams.append(u,`eq.${l}`),this}neq(u,l){return this.url.searchParams.append(u,`neq.${l}`),this}gt(u,l){return this.url.searchParams.append(u,`gt.${l}`),this}gte(u,l){return this.url.searchParams.append(u,`gte.${l}`),this}lt(u,l){return this.url.searchParams.append(u,`lt.${l}`),this}lte(u,l){return this.url.searchParams.append(u,`lte.${l}`),this}like(u,l){return this.url.searchParams.append(u,`like.${l}`),this}likeAllOf(u,l){return this.url.searchParams.append(u,`like(all).{${l.join(",")}}`),this}likeAnyOf(u,l){return this.url.searchParams.append(u,`like(any).{${l.join(",")}}`),this}ilike(u,l){return this.url.searchParams.append(u,`ilike.${l}`),this}ilikeAllOf(u,l){return this.url.searchParams.append(u,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(u,l){return this.url.searchParams.append(u,`ilike(any).{${l.join(",")}}`),this}is(u,l){return this.url.searchParams.append(u,`is.${l}`),this}in(u,l){const c=Array.from(new Set(l)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(u,`in.(${c})`),this}contains(u,l){return typeof l=="string"?this.url.searchParams.append(u,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(u,`cs.{${l.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(l)}`),this}containedBy(u,l){return typeof l=="string"?this.url.searchParams.append(u,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(u,`cd.{${l.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(l)}`),this}rangeGt(u,l){return this.url.searchParams.append(u,`sr.${l}`),this}rangeGte(u,l){return this.url.searchParams.append(u,`nxl.${l}`),this}rangeLt(u,l){return this.url.searchParams.append(u,`sl.${l}`),this}rangeLte(u,l){return this.url.searchParams.append(u,`nxr.${l}`),this}rangeAdjacent(u,l){return this.url.searchParams.append(u,`adj.${l}`),this}overlaps(u,l){return typeof l=="string"?this.url.searchParams.append(u,`ov.${l}`):this.url.searchParams.append(u,`ov.{${l.join(",")}}`),this}textSearch(u,l,{config:c,type:d}={}){let g="";d==="plain"?g="pl":d==="phrase"?g="ph":d==="websearch"&&(g="w");const y=c===void 0?"":`(${c})`;return this.url.searchParams.append(u,`${g}fts${y}.${l}`),this}match(u){return Object.entries(u).forEach(([l,c])=>{this.url.searchParams.append(l,`eq.${c}`)}),this}not(u,l,c){return this.url.searchParams.append(u,`not.${l}.${c}`),this}or(u,{foreignTable:l,referencedTable:c=l}={}){const d=c?`${c}.or`:"or";return this.url.searchParams.append(d,`(${u})`),this}filter(u,l,c){return this.url.searchParams.append(u,`${l}.${c}`),this}}return ju.default=e,ju}var h0;function ym(){if(h0)return Fu;h0=1;var o=Fu&&Fu.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Fu,"__esModule",{value:!0});const t=o(Bd());class e{constructor(u,{headers:l={},schema:c,fetch:d}){this.url=u,this.headers=l,this.schema=c,this.fetch=d}select(u,{head:l=!1,count:c}={}){const d=l?"HEAD":"GET";let g=!1;const y=(u??"*").split("").map(S=>/\s/.test(S)&&!g?"":(S==='"'&&(g=!g),S)).join("");return this.url.searchParams.set("select",y),c&&(this.headers.Prefer=`count=${c}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(u,{count:l,defaultToNull:c=!0}={}){const d="POST",g=[];if(this.headers.Prefer&&g.push(this.headers.Prefer),l&&g.push(`count=${l}`),c||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(u)){const y=u.reduce((S,E)=>S.concat(Object.keys(E)),[]);if(y.length>0){const S=[...new Set(y)].map(E=>`"${E}"`);this.url.searchParams.set("columns",S.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:this.fetch,allowEmpty:!1})}upsert(u,{onConflict:l,ignoreDuplicates:c=!1,count:d,defaultToNull:g=!0}={}){const y="POST",S=[`resolution=${c?"ignore":"merge"}-duplicates`];if(l!==void 0&&this.url.searchParams.set("on_conflict",l),this.headers.Prefer&&S.push(this.headers.Prefer),d&&S.push(`count=${d}`),g||S.push("missing=default"),this.headers.Prefer=S.join(","),Array.isArray(u)){const E=u.reduce((A,x)=>A.concat(Object.keys(x)),[]);if(E.length>0){const A=[...new Set(E)].map(x=>`"${x}"`);this.url.searchParams.set("columns",A.join(","))}}return new t.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:this.fetch,allowEmpty:!1})}update(u,{count:l}={}){const c="PATCH",d=[];return this.headers.Prefer&&d.push(this.headers.Prefer),l&&d.push(`count=${l}`),this.headers.Prefer=d.join(","),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:this.fetch,allowEmpty:!1})}delete({count:u}={}){const l="DELETE",c=[];return u&&c.push(`count=${u}`),this.headers.Prefer&&c.unshift(this.headers.Prefer),this.headers.Prefer=c.join(","),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Fu.default=e,Fu}var yh={},wh={},c0;function E_(){return c0||(c0=1,Object.defineProperty(wh,"__esModule",{value:!0}),wh.version=void 0,wh.version="0.0.0-automated"),wh}var f0;function P_(){if(f0)return yh;f0=1,Object.defineProperty(yh,"__esModule",{value:!0}),yh.DEFAULT_HEADERS=void 0;const o=E_();return yh.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${o.version}`},yh}var d0;function A_(){if(d0)return Ru;d0=1;var o=Ru&&Ru.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Ru,"__esModule",{value:!0});const t=o(ym()),e=o(Bd()),i=P_();class u{constructor(c,{headers:d={},schema:g,fetch:y}={}){this.url=c,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),d),this.schemaName=g,this.fetch=y}from(c){const d=new URL(`${this.url}/${c}`);return new t.default(d,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new u(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,d={},{head:g=!1,get:y=!1,count:S}={}){let E;const A=new URL(`${this.url}/rpc/${c}`);let x;g||y?(E=g?"HEAD":"GET",Object.entries(d).filter(([M,I])=>I!==void 0).map(([M,I])=>[M,Array.isArray(I)?`{${I.join(",")}}`:`${I}`]).forEach(([M,I])=>{A.searchParams.append(M,I)})):(E="POST",x=d);const R=Object.assign({},this.headers);return S&&(R.Prefer=`count=${S}`),new e.default({method:E,url:A,headers:R,schema:this.schemaName,body:x,fetch:this.fetch,allowEmpty:!1})}}return Ru.default=u,Ru}var p0;function M_(){if(p0)return Ss;p0=1;var o=Ss&&Ss.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(Ss,"__esModule",{value:!0}),Ss.PostgrestError=Ss.PostgrestBuilder=Ss.PostgrestTransformBuilder=Ss.PostgrestFilterBuilder=Ss.PostgrestQueryBuilder=Ss.PostgrestClient=void 0;const t=o(A_());Ss.PostgrestClient=t.default;const e=o(ym());Ss.PostgrestQueryBuilder=e.default;const i=o(Bd());Ss.PostgrestFilterBuilder=i.default;const u=o(vm());Ss.PostgrestTransformBuilder=u.default;const l=o(_m());Ss.PostgrestBuilder=l.default;const c=o(gm());return Ss.PostgrestError=c.default,Ss.default={PostgrestClient:t.default,PostgrestQueryBuilder:e.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:u.default,PostgrestBuilder:l.default,PostgrestError:c.default},Ss}var B_=M_();const T_=bu(B_),{PostgrestClient:N_,PostgrestQueryBuilder:q5,PostgrestFilterBuilder:G5,PostgrestTransformBuilder:H5,PostgrestBuilder:W5,PostgrestError:V5}=T_;class O_{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const e=parseInt(process.versions.node.split(".")[0]);return e>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${e} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${e} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let e=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(e+=`

Suggested solution: ${t.workaround}`),new Error(e)}static createWebSocket(t,e){const i=this.getWebSocketConstructor();return new i(t,e)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const D_="2.15.1",I_=`realtime-js/${D_}`,R_="1.0.0",nd=1e4,F_=1e3,j_=100;var Eh;(function(o){o[o.connecting=0]="connecting",o[o.open=1]="open",o[o.closing=2]="closing",o[o.closed=3]="closed"})(Eh||(Eh={}));var us;(function(o){o.closed="closed",o.errored="errored",o.joined="joined",o.joining="joining",o.leaving="leaving"})(us||(us={}));var sl;(function(o){o.close="phx_close",o.error="phx_error",o.join="phx_join",o.reply="phx_reply",o.leave="phx_leave",o.access_token="access_token"})(sl||(sl={}));var rd;(function(o){o.websocket="websocket"})(rd||(rd={}));var vu;(function(o){o.Connecting="connecting",o.Open="open",o.Closing="closing",o.Closed="closed"})(vu||(vu={}));class z_{constructor(){this.HEADER_LENGTH=1}decode(t,e){return t.constructor===ArrayBuffer?e(this._binaryDecode(t)):e(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const e=new DataView(t),i=new TextDecoder;return this._decodeBroadcast(t,e,i)}_decodeBroadcast(t,e,i){const u=e.getUint8(1),l=e.getUint8(2);let c=this.HEADER_LENGTH+2;const d=i.decode(t.slice(c,c+u));c=c+u;const g=i.decode(t.slice(c,c+l));c=c+l;const y=JSON.parse(i.decode(t.slice(c,t.byteLength)));return{ref:null,topic:d,event:g,payload:y}}}class wm{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var jr;(function(o){o.abstime="abstime",o.bool="bool",o.date="date",o.daterange="daterange",o.float4="float4",o.float8="float8",o.int2="int2",o.int4="int4",o.int4range="int4range",o.int8="int8",o.int8range="int8range",o.json="json",o.jsonb="jsonb",o.money="money",o.numeric="numeric",o.oid="oid",o.reltime="reltime",o.text="text",o.time="time",o.timestamp="timestamp",o.timestamptz="timestamptz",o.timetz="timetz",o.tsrange="tsrange",o.tstzrange="tstzrange"})(jr||(jr={}));const m0=(o,t,e={})=>{var i;const u=(i=e.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(t).reduce((l,c)=>(l[c]=U_(c,o,t,u),l),{})},U_=(o,t,e,i)=>{const u=t.find(d=>d.name===o),l=u?.type,c=e[o];return l&&!i.includes(l)?bm(l,c):id(c)},bm=(o,t)=>{if(o.charAt(0)==="_"){const e=o.slice(1,o.length);return W_(t,e)}switch(o){case jr.bool:return q_(t);case jr.float4:case jr.float8:case jr.int2:case jr.int4:case jr.int8:case jr.numeric:case jr.oid:return G_(t);case jr.json:case jr.jsonb:return H_(t);case jr.timestamp:return V_(t);case jr.abstime:case jr.date:case jr.daterange:case jr.int4range:case jr.int8range:case jr.money:case jr.reltime:case jr.text:case jr.time:case jr.timestamptz:case jr.timetz:case jr.tsrange:case jr.tstzrange:return id(t);default:return id(t)}},id=o=>o,q_=o=>{switch(o){case"t":return!0;case"f":return!1;default:return o}},G_=o=>{if(typeof o=="string"){const t=parseFloat(o);if(!Number.isNaN(t))return t}return o},H_=o=>{if(typeof o=="string")try{return JSON.parse(o)}catch(t){return console.log(`JSON parse error: ${t}`),o}return o},W_=(o,t)=>{if(typeof o!="string")return o;const e=o.length-1,i=o[e];if(o[0]==="{"&&i==="}"){let l;const c=o.slice(1,e);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(d=>bm(t,d))}return o},V_=o=>typeof o=="string"?o.replace(" ","T"):o,xm=o=>{let t=o;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Nf{constructor(t,e,i={},u=nd){this.channel=t,this.event=e,this.payload=i,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var i;return this._hasReceived(t)&&e((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(e))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var g0;(function(o){o.SYNC="sync",o.JOIN="join",o.LEAVE="leave"})(g0||(g0={}));class Ph{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=e?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},u=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ph.syncState(this.state,u,l,c),this.pendingDiffs.forEach(g=>{this.state=Ph.syncDiff(this.state,g,l,c)}),this.pendingDiffs=[],d()}),this.channel._on(i.diff,{},u=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=Ph.syncDiff(this.state,u,l,c),d())}),this.onJoin((u,l,c)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:l,newPresences:c})}),this.onLeave((u,l,c)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,e,i,u){const l=this.cloneDeep(t),c=this.transformState(e),d={},g={};return this.map(l,(y,S)=>{c[y]||(g[y]=S)}),this.map(c,(y,S)=>{const E=l[y];if(E){const A=S.map(I=>I.presence_ref),x=E.map(I=>I.presence_ref),R=S.filter(I=>x.indexOf(I.presence_ref)<0),M=E.filter(I=>A.indexOf(I.presence_ref)<0);R.length>0&&(d[y]=R),M.length>0&&(g[y]=M)}else d[y]=S}),this.syncDiff(l,{joins:d,leaves:g},i,u)}static syncDiff(t,e,i,u){const{joins:l,leaves:c}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return i||(i=()=>{}),u||(u=()=>{}),this.map(l,(d,g)=>{var y;const S=(y=t[d])!==null&&y!==void 0?y:[];if(t[d]=this.cloneDeep(g),S.length>0){const E=t[d].map(x=>x.presence_ref),A=S.filter(x=>E.indexOf(x.presence_ref)<0);t[d].unshift(...A)}i(d,S,g)}),this.map(c,(d,g)=>{let y=t[d];if(!y)return;const S=g.map(E=>E.presence_ref);y=y.filter(E=>S.indexOf(E.presence_ref)<0),t[d]=y,u(d,y,g),y.length===0&&delete t[d]}),t}static map(t,e){return Object.getOwnPropertyNames(t).map(i=>e(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((e,i)=>{const u=t[i];return"metas"in u?e[i]=u.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):e[i]=u,e},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var _0;(function(o){o.ALL="*",o.INSERT="INSERT",o.UPDATE="UPDATE",o.DELETE="DELETE"})(_0||(_0={}));var Ah;(function(o){o.BROADCAST="broadcast",o.PRESENCE="presence",o.POSTGRES_CHANGES="postgres_changes",o.SYSTEM="system"})(Ah||(Ah={}));var Al;(function(o){o.SUBSCRIBED="SUBSCRIBED",o.TIMED_OUT="TIMED_OUT",o.CLOSED="CLOSED",o.CHANNEL_ERROR="CHANNEL_ERROR"})(Al||(Al={}));class Td{constructor(t,e={config:{}},i){this.topic=t,this.params=e,this.socket=i,this.bindings={},this.state=us.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new Nf(this,sl.join,this.params,this.timeout),this.rejoinTimer=new wm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=us.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=us.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=us.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=us.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=us.errored,this.rejoinTimer.scheduleTimeout())}),this._on(sl.reply,{},(u,l)=>{this._trigger(this._replyEventName(l),u)}),this.presence=new Ph(this),this.broadcastEndpointURL=xm(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,e=this.timeout){var i,u;if(this.socket.isConnected()||this.socket.connect(),this.state==us.closed){const{config:{broadcast:l,presence:c,private:d}}=this.params,g=(u=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(A=>A.filter))!==null&&u!==void 0?u:[],y=!!this.bindings[Ah.PRESENCE]&&this.bindings[Ah.PRESENCE].length>0,S={},E={broadcast:l,presence:Object.assign(Object.assign({},c),{enabled:y}),postgres_changes:g,private:d};this.socket.accessTokenValue&&(S.access_token=this.socket.accessTokenValue),this._onError(A=>t?.(Al.CHANNEL_ERROR,A)),this._onClose(()=>t?.(Al.CLOSED)),this.updateJoinPayload(Object.assign({config:E},S)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",async({postgres_changes:A})=>{var x;if(this.socket.setAuth(),A===void 0){t?.(Al.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,M=(x=R?.length)!==null&&x!==void 0?x:0,I=[];for(let O=0;O<M;O++){const W=R[O],{filter:{event:K,schema:de,table:ie,filter:xe}}=W,Z=A&&A[O];if(Z&&Z.event===K&&Z.schema===de&&Z.table===ie&&Z.filter===xe)I.push(Object.assign(Object.assign({},W),{id:Z.id}));else{this.unsubscribe(),this.state=us.errored,t?.(Al.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=I,t&&t(Al.SUBSCRIBED);return}}).receive("error",A=>{this.state=us.errored,t?.(Al.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(A).join(", ")||"error")))}).receive("timeout",()=>{t?.(Al.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,e={}){return await this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,e,i){return this.state===us.joined&&t===Ah.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,e,i)}async send(t,e={}){var i,u;if(!this._canPush()&&t.type==="broadcast"){const{event:l,payload:c}=t,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(i=e.timeout)!==null&&i!==void 0?i:this.timeout);return await((u=y.body)===null||u===void 0?void 0:u.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,d,g;const y=this._push(t.type,t,e.timeout||this.timeout);t.type==="broadcast"&&!(!((g=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||g===void 0)&&g.ack)&&l("ok"),y.receive("ok",()=>l("ok")),y.receive("error",()=>l("error")),y.receive("timeout",()=>l("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=us.leaving;const e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(sl.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(u=>{i=new Nf(this,sl.leave,{},t),i.receive("ok",()=>{e(),u("ok")}).receive("timeout",()=>{e(),u("timed out")}).receive("error",()=>{u("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=us.closed,this.bindings={}}async _fetchWithTimeout(t,e,i){const u=new AbortController,l=setTimeout(()=>u.abort(),i),c=await this.socket.fetch(t,Object.assign(Object.assign({},e),{signal:u.signal}));return clearTimeout(l),c}_push(t,e,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new Nf(this,t,e,i);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>j_){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(t,e,i){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,i){var u,l;const c=t.toLocaleLowerCase(),{close:d,error:g,leave:y,join:S}=sl;if(i&&[d,g,y,S].indexOf(c)>=0&&i!==this._joinRef())return;let A=this._onMessage(c,e,i);if(e&&!A)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(x=>{var R,M,I;return((R=x.filter)===null||R===void 0?void 0:R.event)==="*"||((I=(M=x.filter)===null||M===void 0?void 0:M.event)===null||I===void 0?void 0:I.toLocaleLowerCase())===c}).map(x=>x.callback(A,i)):(l=this.bindings[c])===null||l===void 0||l.filter(x=>{var R,M,I,O,W,K;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in x){const de=x.id,ie=(R=x.filter)===null||R===void 0?void 0:R.event;return de&&((M=e.ids)===null||M===void 0?void 0:M.includes(de))&&(ie==="*"||ie?.toLocaleLowerCase()===((I=e.data)===null||I===void 0?void 0:I.type.toLocaleLowerCase()))}else{const de=(W=(O=x?.filter)===null||O===void 0?void 0:O.event)===null||W===void 0?void 0:W.toLocaleLowerCase();return de==="*"||de===((K=e?.event)===null||K===void 0?void 0:K.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===c}).map(x=>{if(typeof A=="object"&&"ids"in A){const R=A.data,{schema:M,table:I,commit_timestamp:O,type:W,errors:K}=R;A=Object.assign(Object.assign({},{schema:M,table:I,commit_timestamp:O,eventType:W,new:{},old:{},errors:K}),this._getPayloadRecords(R))}x.callback(A,i)})}_isClosed(){return this.state===us.closed}_isJoined(){return this.state===us.joined}_isJoining(){return this.state===us.joining}_isLeaving(){return this.state===us.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,i){const u=t.toLocaleLowerCase(),l={type:u,filter:e,callback:i};return this.bindings[u]?this.bindings[u].push(l):this.bindings[u]=[l],this}_off(t,e){const i=t.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(u=>{var l;return!(((l=u.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===i&&Td.isEqual(u.filter,e))})),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const i in t)if(t[i]!==e[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(sl.close,{},t)}_onError(t){this._on(sl.error,{},e=>t(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=us.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const e={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(e.new=m0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(e.old=m0(t.columns,t.old_record)),e}}const v0=()=>{},mc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},$_=[1e3,2e3,5e3,1e4],Z_=1e4,K_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class J_{constructor(t,e){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=nd,this.transport=null,this.heartbeatIntervalMs=mc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=v0,this.ref=0,this.reconnectTimer=null,this.logger=v0,this.conn=null,this.sendBuffer=[],this.serializer=new z_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=u=>{let l;return u?l=u:typeof fetch>"u"?l=(...c)=>Xl(async()=>{const{default:d}=await Promise.resolve().then(()=>oh);return{default:d}},void 0).then(({default:d})=>d(...c)).catch(d=>{throw new Error(`Failed to load @supabase/node-fetch: ${d.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...c)=>l(...c)},!(!((i=e?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=e.params.apikey,this.endPoint=`${t}/${rd.websocket}`,this.httpEndpoint=xm(t),this._initializeOptions(e),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(e?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=O_.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const e=t.message;throw e.includes("Node.js")?new Error(`${e}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${e}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:R_}))}disconnect(t,e){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},t?this.conn.close(t,e??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const e=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),e}async removeAllChannels(){const t=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,e,i){this.logger(t,e,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Eh.connecting:return vu.Connecting;case Eh.open:return vu.Open;case Eh.closing:return vu.Closing;default:return vu.Closed}}isConnected(){return this.connectionState()===vu.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,e={config:{}}){const i=`realtime:${t}`,u=this.getChannels().find(l=>l.topic===i);if(u)return u;{const l=new Td(`realtime:${t}`,e,this);return this.channels.push(l),l}}push(t){const{topic:e,event:i,payload:u,ref:l}=t,c=()=>{this.encode(t,d=>{var g;(g=this.conn)===null||g===void 0||g.send(d)})};this.log("push",`${e} ${i} (${l})`,u),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(F_,"heartbeat timeout"),setTimeout(()=>{var e;this.isConnected()||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout()},mc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter(e=>e.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,e=>{e.topic==="phoenix"&&e.event==="phx_reply"&&this.heartbeatCallback(e.payload.status==="ok"?"ok":"error"),e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:u,payload:l,ref:c}=e,d=c?`(${c})`:"",g=l.status||"";this.log("receive",`${g} ${i} ${u} ${d}`.trim(),l),this.channels.filter(y=>y._isMember(i)).forEach(y=>y._trigger(u,l,c)),this._triggerStateCallbacks("message",e)})}_clearTimer(t){var e;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((e=this.reconnectTimer)===null||e===void 0||e.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var e;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(sl.error))}_appendParams(t,e){if(Object.keys(e).length===0)return t;const i=t.match(/\?/)?"&":"?",u=new URLSearchParams(e);return`${t}${i}${u}`}_workerObjectUrl(t){let e;if(t)e=t;else{const i=new Blob([K_],{type:"application/javascript"});e=URL.createObjectURL(i)}return e}_setConnectionState(t,e=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=e)}async _performAuth(t=null){let e;t?e=t:this.accessToken?e=await this.accessToken():e=this.accessTokenValue,this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(i=>{const u={access_token:e,version:I_};e&&i.updateJoinPayload(u),i.joinedOnce&&i._isJoined()&&i._push(sl.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(e=>{this.log("error",`error setting auth in ${t}`,e)})}_triggerStateCallbacks(t,e){try{this.stateChangeCallbacks[t].forEach(i=>{try{i(e)}catch(u){this.log("error",`error in ${t} callback`,u)}})}catch(i){this.log("error",`error triggering ${t} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new wm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},mc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var e,i,u,l,c,d,g,y;if(this.transport=(e=t?.transport)!==null&&e!==void 0?e:null,this.timeout=(i=t?.timeout)!==null&&i!==void 0?i:nd,this.heartbeatIntervalMs=(u=t?.heartbeatIntervalMs)!==null&&u!==void 0?u:mc.HEARTBEAT_INTERVAL,this.worker=(l=t?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=t?.accessToken)!==null&&c!==void 0?c:null,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t?.reconnectAfterMs)!==null&&d!==void 0?d:(S=>$_[S-1]||Z_),this.encode=(g=t?.encode)!==null&&g!==void 0?g:((S,E)=>E(JSON.stringify(S))),this.decode=(y=t?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class Nd extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function hs(o){return typeof o=="object"&&o!==null&&"__isStorageError"in o}class Y_ extends Nd{constructor(t,e,i){super(t),this.name="StorageApiError",this.status=e,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class sd extends Nd{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}}var X_=function(o,t,e,i){function u(l){return l instanceof e?l:new e(function(c){c(l)})}return new(e||(e=Promise))(function(l,c){function d(S){try{y(i.next(S))}catch(E){c(E)}}function g(S){try{y(i.throw(S))}catch(E){c(E)}}function y(S){S.done?l(S.value):u(S.value).then(d,g)}y((i=i.apply(o,t||[])).next())})};const Lm=o=>{let t;return o?t=o:typeof fetch>"u"?t=(...e)=>Xl(async()=>{const{default:i}=await Promise.resolve().then(()=>oh);return{default:i}},void 0).then(({default:i})=>i(...e)):t=fetch,(...e)=>t(...e)},Q_=()=>X_(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Xl(()=>Promise.resolve().then(()=>oh),void 0)).Response:Response}),ad=o=>{if(Array.isArray(o))return o.map(e=>ad(e));if(typeof o=="function"||o!==Object(o))return o;const t={};return Object.entries(o).forEach(([e,i])=>{const u=e.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));t[u]=ad(i)}),t},e1=o=>{if(typeof o!="object"||o===null)return!1;const t=Object.getPrototypeOf(o);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in o)&&!(Symbol.iterator in o)};var xu=function(o,t,e,i){function u(l){return l instanceof e?l:new e(function(c){c(l)})}return new(e||(e=Promise))(function(l,c){function d(S){try{y(i.next(S))}catch(E){c(E)}}function g(S){try{y(i.throw(S))}catch(E){c(E)}}function y(S){S.done?l(S.value):u(S.value).then(d,g)}y((i=i.apply(o,t||[])).next())})};const Of=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),t1=(o,t,e)=>xu(void 0,void 0,void 0,function*(){const i=yield Q_();o instanceof i&&!e?.noResolveJson?o.json().then(u=>{const l=o.status||500,c=u?.statusCode||l+"";t(new Y_(Of(u),l,c))}).catch(u=>{t(new sd(Of(u),u))}):t(new sd(Of(o),o))}),n1=(o,t,e,i)=>{const u={method:o,headers:t?.headers||{}};return o==="GET"||!i?u:(e1(i)?(u.headers=Object.assign({"Content-Type":"application/json"},t?.headers),u.body=JSON.stringify(i)):u.body=i,t?.duplex&&(u.duplex=t.duplex),Object.assign(Object.assign({},u),e))};function Dh(o,t,e,i,u,l){return xu(this,void 0,void 0,function*(){return new Promise((c,d)=>{o(e,n1(t,i,u,l)).then(g=>{if(!g.ok)throw g;return i?.noResolveJson?g:g.json()}).then(g=>c(g)).catch(g=>t1(g,d,i))})})}function Tc(o,t,e,i){return xu(this,void 0,void 0,function*(){return Dh(o,"GET",t,e,i)})}function dl(o,t,e,i,u){return xu(this,void 0,void 0,function*(){return Dh(o,"POST",t,i,u,e)})}function od(o,t,e,i,u){return xu(this,void 0,void 0,function*(){return Dh(o,"PUT",t,i,u,e)})}function r1(o,t,e,i){return xu(this,void 0,void 0,function*(){return Dh(o,"HEAD",t,Object.assign(Object.assign({},e),{noResolveJson:!0}),i)})}function km(o,t,e,i,u){return xu(this,void 0,void 0,function*(){return Dh(o,"DELETE",t,i,u,e)})}var Pa=function(o,t,e,i){function u(l){return l instanceof e?l:new e(function(c){c(l)})}return new(e||(e=Promise))(function(l,c){function d(S){try{y(i.next(S))}catch(E){c(E)}}function g(S){try{y(i.throw(S))}catch(E){c(E)}}function y(S){S.done?l(S.value):u(S.value).then(d,g)}y((i=i.apply(o,t||[])).next())})};const i1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},y0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class s1{constructor(t,e={},i,u){this.url=t,this.headers=e,this.bucketId=i,this.fetch=Lm(u)}uploadOrUpdate(t,e,i,u){return Pa(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},y0),u);let d=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const g=c.metadata;typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),g&&l.append("metadata",this.encodeMetadata(g)),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.append("cacheControl",c.cacheControl),g&&l.append("metadata",this.encodeMetadata(g))):(l=i,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,g&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),u?.headers&&(d=Object.assign(Object.assign({},d),u.headers));const y=this._removeEmptyFolders(e),S=this._getFinalPath(y),E=yield(t=="PUT"?od:dl)(this.fetch,`${this.url}/object/${S}`,l,Object.assign({headers:d},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:y,id:E.Id,fullPath:E.Key},error:null}}catch(l){if(hs(l))return{data:null,error:l};throw l}})}upload(t,e,i){return Pa(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,e,i)})}uploadToSignedUrl(t,e,i,u){return Pa(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),d=new URL(this.url+`/object/upload/sign/${c}`);d.searchParams.set("token",e);try{let g;const y=Object.assign({upsert:y0.upsert},u),S=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&i instanceof Blob?(g=new FormData,g.append("cacheControl",y.cacheControl),g.append("",i)):typeof FormData<"u"&&i instanceof FormData?(g=i,g.append("cacheControl",y.cacheControl)):(g=i,S["cache-control"]=`max-age=${y.cacheControl}`,S["content-type"]=y.contentType);const E=yield od(this.fetch,d.toString(),g,{headers:S});return{data:{path:l,fullPath:E.Key},error:null}}catch(g){if(hs(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(t,e){return Pa(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t);const u=Object.assign({},this.headers);e?.upsert&&(u["x-upsert"]="true");const l=yield dl(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:u}),c=new URL(this.url+l.url),d=c.searchParams.get("token");if(!d)throw new Nd("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:d},error:null}}catch(i){if(hs(i))return{data:null,error:i};throw i}})}update(t,e,i){return Pa(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,e,i)})}move(t,e,i){return Pa(this,void 0,void 0,function*(){try{return{data:yield dl(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(u){if(hs(u))return{data:null,error:u};throw u}})}copy(t,e,i){return Pa(this,void 0,void 0,function*(){try{return{data:{path:(yield dl(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(u){if(hs(u))return{data:null,error:u};throw u}})}createSignedUrl(t,e,i){return Pa(this,void 0,void 0,function*(){try{let u=this._getFinalPath(t),l=yield dl(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:e},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const c=i?.download?`&download=${i.download===!0?"":i.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(u){if(hs(u))return{data:null,error:u};throw u}})}createSignedUrls(t,e,i){return Pa(this,void 0,void 0,function*(){try{const u=yield dl(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),l=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:u.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(u){if(hs(u))return{data:null,error:u};throw u}})}download(t,e){return Pa(this,void 0,void 0,function*(){const u=typeof e?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(e?.transform||{}),c=l?`?${l}`:"";try{const d=this._getFinalPath(t);return{data:yield(yield Tc(this.fetch,`${this.url}/${u}/${d}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(d){if(hs(d))return{data:null,error:d};throw d}})}info(t){return Pa(this,void 0,void 0,function*(){const e=this._getFinalPath(t);try{const i=yield Tc(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:ad(i),error:null}}catch(i){if(hs(i))return{data:null,error:i};throw i}})}exists(t){return Pa(this,void 0,void 0,function*(){const e=this._getFinalPath(t);try{return yield r1(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(hs(i)&&i instanceof sd){const u=i.originalError;if([400,404].includes(u?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(t,e){const i=this._getFinalPath(t),u=[],l=e?.download?`download=${e.download===!0?"":e.download}`:"";l!==""&&u.push(l);const d=typeof e?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(e?.transform||{});g!==""&&u.push(g);let y=u.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${i}${y}`)}}}remove(t){return Pa(this,void 0,void 0,function*(){try{return{data:yield km(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(e){if(hs(e))return{data:null,error:e};throw e}})}list(t,e,i){return Pa(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},i1),e),{prefix:t||""});return{data:yield dl(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},i),error:null}}catch(u){if(hs(u))return{data:null,error:u};throw u}})}listV2(t,e){return Pa(this,void 0,void 0,function*(){try{const i=Object.assign({},t);return{data:yield dl(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},e),error:null}}catch(i){if(hs(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}}const a1="2.11.0",o1={"X-Client-Info":`storage-js/${a1}`};var qu=function(o,t,e,i){function u(l){return l instanceof e?l:new e(function(c){c(l)})}return new(e||(e=Promise))(function(l,c){function d(S){try{y(i.next(S))}catch(E){c(E)}}function g(S){try{y(i.throw(S))}catch(E){c(E)}}function y(S){S.done?l(S.value):u(S.value).then(d,g)}y((i=i.apply(o,t||[])).next())})};class l1{constructor(t,e={},i,u){const l=new URL(t);u?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href,this.headers=Object.assign(Object.assign({},o1),e),this.fetch=Lm(i)}listBuckets(){return qu(this,void 0,void 0,function*(){try{return{data:yield Tc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(hs(t))return{data:null,error:t};throw t}})}getBucket(t){return qu(this,void 0,void 0,function*(){try{return{data:yield Tc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(e){if(hs(e))return{data:null,error:e};throw e}})}createBucket(t,e={public:!1}){return qu(this,void 0,void 0,function*(){try{return{data:yield dl(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(hs(i))return{data:null,error:i};throw i}})}updateBucket(t,e){return qu(this,void 0,void 0,function*(){try{return{data:yield od(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(hs(i))return{data:null,error:i};throw i}})}emptyBucket(t){return qu(this,void 0,void 0,function*(){try{return{data:yield dl(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(hs(e))return{data:null,error:e};throw e}})}deleteBucket(t){return qu(this,void 0,void 0,function*(){try{return{data:yield km(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(hs(e))return{data:null,error:e};throw e}})}}class u1 extends l1{constructor(t,e={},i,u){super(t,e,i,u)}from(t){return new s1(this.url,this.headers,t,this.fetch)}}const h1="2.55.0";let kh="";typeof Deno<"u"?kh="deno":typeof document<"u"?kh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?kh="react-native":kh="node";const c1={"X-Client-Info":`supabase-js-${kh}/${h1}`},f1={headers:c1},d1={schema:"public"},p1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},m1={};var g1=function(o,t,e,i){function u(l){return l instanceof e?l:new e(function(c){c(l)})}return new(e||(e=Promise))(function(l,c){function d(S){try{y(i.next(S))}catch(E){c(E)}}function g(S){try{y(i.throw(S))}catch(E){c(E)}}function y(S){S.done?l(S.value):u(S.value).then(d,g)}y((i=i.apply(o,t||[])).next())})};const _1=o=>{let t;return o?t=o:typeof fetch>"u"?t=pm:t=fetch,(...e)=>t(...e)},v1=()=>typeof Headers>"u"?mm:Headers,y1=(o,t,e)=>{const i=_1(e),u=v1();return(l,c)=>g1(void 0,void 0,void 0,function*(){var d;const g=(d=yield t())!==null&&d!==void 0?d:o;let y=new u(c?.headers);return y.has("apikey")||y.set("apikey",o),y.has("Authorization")||y.set("Authorization",`Bearer ${g}`),i(l,Object.assign(Object.assign({},c),{headers:y}))})};var w1=function(o,t,e,i){function u(l){return l instanceof e?l:new e(function(c){c(l)})}return new(e||(e=Promise))(function(l,c){function d(S){try{y(i.next(S))}catch(E){c(E)}}function g(S){try{y(i.throw(S))}catch(E){c(E)}}function y(S){S.done?l(S.value):u(S.value).then(d,g)}y((i=i.apply(o,t||[])).next())})};function b1(o){return o.endsWith("/")?o:o+"/"}function x1(o,t){var e,i;const{db:u,auth:l,realtime:c,global:d}=o,{db:g,auth:y,realtime:S,global:E}=t,A={db:Object.assign(Object.assign({},g),u),auth:Object.assign(Object.assign({},y),l),realtime:Object.assign(Object.assign({},S),c),storage:{},global:Object.assign(Object.assign(Object.assign({},E),d),{headers:Object.assign(Object.assign({},(e=E?.headers)!==null&&e!==void 0?e:{}),(i=d?.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>w1(this,void 0,void 0,function*(){return""})};return o.accessToken?A.accessToken=o.accessToken:delete A.accessToken,A}const Cm="2.71.1",Ju=30*1e3,ld=3,Df=ld*Ju,L1="http://localhost:9999",k1="supabase.auth.token",C1={"X-Client-Info":`gotrue-js/${Cm}`},ud="X-Supabase-Api-Version",Sm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},S1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,E1=600*1e3;class Od extends Error{constructor(t,e,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=i}}function qn(o){return typeof o=="object"&&o!==null&&"__isAuthError"in o}class P1 extends Od{constructor(t,e,i){super(t,e,i),this.name="AuthApiError",this.status=e,this.code=i}}function A1(o){return qn(o)&&o.name==="AuthApiError"}class Em extends Od{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}}class tu extends Od{constructor(t,e,i,u){super(t,i,u),this.name=e,this.status=i}}class $l extends tu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function M1(o){return qn(o)&&o.name==="AuthSessionMissingError"}class gc extends tu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _c extends tu{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class vc extends tu{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function B1(o){return qn(o)&&o.name==="AuthImplicitGrantRedirectError"}class w0 extends tu{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hd extends tu{constructor(t,e){super(t,"AuthRetryableFetchError",e,void 0)}}function If(o){return qn(o)&&o.name==="AuthRetryableFetchError"}class b0 extends tu{constructor(t,e,i){super(t,"AuthWeakPasswordError",e,"weak_password"),this.reasons=i}}class cd extends tu{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Nc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),x0=` 	
\r=`.split(""),T1=(()=>{const o=new Array(128);for(let t=0;t<o.length;t+=1)o[t]=-1;for(let t=0;t<x0.length;t+=1)o[x0[t].charCodeAt(0)]=-2;for(let t=0;t<Nc.length;t+=1)o[Nc[t].charCodeAt(0)]=t;return o})();function L0(o,t,e){if(o!==null)for(t.queue=t.queue<<8|o,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;e(Nc[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;e(Nc[i]),t.queuedBits-=6}}function Pm(o,t,e){const i=T1[o];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)e(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(o)}"`)}}function k0(o){const t=[],e=c=>{t.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},l=c=>{D1(c,i,e)};for(let c=0;c<o.length;c+=1)Pm(o.charCodeAt(c),u,l);return t.join("")}function N1(o,t){if(o<=127){t(o);return}else if(o<=2047){t(192|o>>6),t(128|o&63);return}else if(o<=65535){t(224|o>>12),t(128|o>>6&63),t(128|o&63);return}else if(o<=1114111){t(240|o>>18),t(128|o>>12&63),t(128|o>>6&63),t(128|o&63);return}throw new Error(`Unrecognized Unicode codepoint: ${o.toString(16)}`)}function O1(o,t){for(let e=0;e<o.length;e+=1){let i=o.charCodeAt(e);if(i>55295&&i<=56319){const u=(i-55296)*1024&65535;i=(o.charCodeAt(e+1)-56320&65535|u)+65536,e+=1}N1(i,t)}}function D1(o,t,e){if(t.utf8seq===0){if(o<=127){e(o);return}for(let i=1;i<6;i+=1)if((o>>7-i&1)===0){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=o&31;else if(t.utf8seq===3)t.codepoint=o&15;else if(t.utf8seq===4)t.codepoint=o&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(o<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|o&63,t.utf8seq-=1,t.utf8seq===0&&e(t.codepoint)}}function I1(o){const t=[],e={queue:0,queuedBits:0},i=u=>{t.push(u)};for(let u=0;u<o.length;u+=1)Pm(o.charCodeAt(u),e,i);return new Uint8Array(t)}function R1(o){const t=[];return O1(o,e=>t.push(e)),new Uint8Array(t)}function F1(o){const t=[],e={queue:0,queuedBits:0},i=u=>{t.push(u)};return o.forEach(u=>L0(u,e,i)),L0(null,e,i),t.join("")}function j1(o){return Math.round(Date.now()/1e3)+o}function z1(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){const t=Math.random()*16|0;return(o=="x"?t:t&3|8).toString(16)})}const rl=()=>typeof window<"u"&&typeof document<"u",pu={tested:!1,writable:!1},Am=()=>{if(!rl())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(pu.tested)return pu.writable;const o=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(o,o),globalThis.localStorage.removeItem(o),pu.tested=!0,pu.writable=!0}catch{pu.tested=!0,pu.writable=!1}return pu.writable};function U1(o){const t={},e=new URL(o);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((u,l)=>{t[l]=u})}catch{}return e.searchParams.forEach((i,u)=>{t[u]=i}),t}const Mm=o=>{let t;return o?t=o:typeof fetch>"u"?t=(...e)=>Xl(async()=>{const{default:i}=await Promise.resolve().then(()=>oh);return{default:i}},void 0).then(({default:i})=>i(...e)):t=fetch,(...e)=>t(...e)},q1=o=>typeof o=="object"&&o!==null&&"status"in o&&"ok"in o&&"json"in o&&typeof o.json=="function",Yu=async(o,t,e)=>{await o.setItem(t,JSON.stringify(e))},mu=async(o,t)=>{const e=await o.getItem(t);if(!e)return null;try{return JSON.parse(e)}catch{return e}},Hl=async(o,t)=>{await o.removeItem(t)};class Fc{constructor(){this.promise=new Fc.promiseConstructor((t,e)=>{this.resolve=t,this.reject=e})}}Fc.promiseConstructor=Promise;function Rf(o){const t=o.split(".");if(t.length!==3)throw new cd("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!S1.test(t[i]))throw new cd("JWT not in base64url format");return{header:JSON.parse(k0(t[0])),payload:JSON.parse(k0(t[1])),signature:I1(t[2]),raw:{header:t[0],payload:t[1]}}}async function G1(o){return await new Promise(t=>{setTimeout(()=>t(null),o)})}function H1(o,t){return new Promise((i,u)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await o(l);if(!t(l,null,c)){i(c);return}}catch(c){if(!t(l,c)){u(c);return}}})()})}function W1(o){return("0"+o.toString(16)).substr(-2)}function V1(){const t=new Uint32Array(56);if(typeof crypto>"u"){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=e.length;let u="";for(let l=0;l<56;l++)u+=e.charAt(Math.floor(Math.random()*i));return u}return crypto.getRandomValues(t),Array.from(t,W1).join("")}async function $1(o){const e=new TextEncoder().encode(o),i=await crypto.subtle.digest("SHA-256",e),u=new Uint8Array(i);return Array.from(u).map(l=>String.fromCharCode(l)).join("")}async function Z1(o){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),o;const e=await $1(o);return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Gu(o,t,e=!1){const i=V1();let u=i;e&&(u+="/PASSWORD_RECOVERY"),await Yu(o,`${t}-code-verifier`,u);const l=await Z1(i);return[l,i===l?"plain":"s256"]}const K1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function J1(o){const t=o.headers.get(ud);if(!t||!t.match(K1))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Y1(o){if(!o)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(o<=t)throw new Error("JWT has expired")}function X1(o){switch(o){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Q1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Hu(o){if(!Q1.test(o))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ff(){const o={};return new Proxy(o,{get:(t,e)=>{if(e==="__isUserNotAvailableProxy")return!0;if(typeof e=="symbol"){const i=e.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${e}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function C0(o){return JSON.parse(JSON.stringify(o))}var ev=function(o,t){var e={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&t.indexOf(i)<0&&(e[i]=o[i]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(o);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(o,i[u])&&(e[i[u]]=o[i[u]]);return e};const gu=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),tv=[502,503,504];async function S0(o){var t;if(!q1(o))throw new hd(gu(o),0);if(tv.includes(o.status))throw new hd(gu(o),o.status);let e;try{e=await o.json()}catch(l){throw new Em(gu(l),l)}let i;const u=J1(o);if(u&&u.getTime()>=Sm["2024-01-01"].timestamp&&typeof e=="object"&&e&&typeof e.code=="string"?i=e.code:typeof e=="object"&&e&&typeof e.error_code=="string"&&(i=e.error_code),i){if(i==="weak_password")throw new b0(gu(e),o.status,((t=e.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new $l}else if(typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new b0(gu(e),o.status,e.weak_password.reasons);throw new P1(gu(e),o.status||500,i)}const nv=(o,t,e,i)=>{const u={method:o,headers:t?.headers||{}};return o==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),u.body=JSON.stringify(i),Object.assign(Object.assign({},u),e))};async function nr(o,t,e,i){var u;const l=Object.assign({},i?.headers);l[ud]||(l[ud]=Sm["2024-01-01"].name),i?.jwt&&(l.Authorization=`Bearer ${i.jwt}`);const c=(u=i?.query)!==null&&u!==void 0?u:{};i?.redirectTo&&(c.redirect_to=i.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",g=await rv(o,t,e+d,{headers:l,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(g):{data:Object.assign({},g),error:null}}async function rv(o,t,e,i,u,l){const c=nv(t,i,u,l);let d;try{d=await o(e,Object.assign({},c))}catch(g){throw console.error(g),new hd(gu(g),0)}if(d.ok||await S0(d),i?.noResolveJson)return d;try{return await d.json()}catch(g){await S0(g)}}function Pl(o){var t;let e=null;ov(o)&&(e=Object.assign({},o),o.expires_at||(e.expires_at=j1(o.expires_in)));const i=(t=o.user)!==null&&t!==void 0?t:o;return{data:{session:e,user:i},error:null}}function E0(o){const t=Pl(o);return!t.error&&o.weak_password&&typeof o.weak_password=="object"&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.message&&typeof o.weak_password.message=="string"&&o.weak_password.reasons.reduce((e,i)=>e&&typeof i=="string",!0)&&(t.data.weak_password=o.weak_password),t}function Zl(o){var t;return{data:{user:(t=o.user)!==null&&t!==void 0?t:o},error:null}}function iv(o){return{data:o,error:null}}function sv(o){const{action_link:t,email_otp:e,hashed_token:i,redirect_to:u,verification_type:l}=o,c=ev(o,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:e,hashed_token:i,redirect_to:u,verification_type:l},g=Object.assign({},c);return{data:{properties:d,user:g},error:null}}function av(o){return o}function ov(o){return o.access_token&&o.refresh_token&&o.expires_in}const jf=["global","local","others"];var lv=function(o,t){var e={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&t.indexOf(i)<0&&(e[i]=o[i]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(o);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(o,i[u])&&(e[i[u]]=o[i[u]]);return e};class uv{constructor({url:t="",headers:e={},fetch:i}){this.url=t,this.headers=e,this.fetch=Mm(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,e=jf[0]){if(jf.indexOf(e)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${jf.join(", ")}`);try{return await nr(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(qn(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,e={}){try{return await nr(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:Zl})}catch(i){if(qn(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:e}=t,i=lv(t,["options"]),u=Object.assign(Object.assign({},i),e);return"newEmail"in i&&(u.new_email=i?.newEmail,delete u.newEmail),await nr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:sv,redirectTo:e?.redirectTo})}catch(e){if(qn(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(t){try{return await nr(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Zl})}catch(e){if(qn(e))return{data:{user:null},error:e};throw e}}async listUsers(t){var e,i,u,l,c,d,g;try{const y={nextPage:null,lastPage:0,total:0},S=await nr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(e=t?.page)===null||e===void 0?void 0:e.toString())!==null&&i!==void 0?i:"",per_page:(l=(u=t?.perPage)===null||u===void 0?void 0:u.toString())!==null&&l!==void 0?l:""},xform:av});if(S.error)throw S.error;const E=await S.json(),A=(c=S.headers.get("x-total-count"))!==null&&c!==void 0?c:0,x=(g=(d=S.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&g!==void 0?g:[];return x.length>0&&(x.forEach(R=>{const M=parseInt(R.split(";")[0].split("=")[1].substring(0,1)),I=JSON.parse(R.split(";")[1].split("=")[1]);y[`${I}Page`]=M}),y.total=parseInt(A)),{data:Object.assign(Object.assign({},E),y),error:null}}catch(y){if(qn(y))return{data:{users:[]},error:y};throw y}}async getUserById(t){Hu(t);try{return await nr(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Zl})}catch(e){if(qn(e))return{data:{user:null},error:e};throw e}}async updateUserById(t,e){Hu(t);try{return await nr(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:Zl})}catch(i){if(qn(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,e=!1){Hu(t);try{return await nr(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:Zl})}catch(i){if(qn(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){Hu(t.userId);try{const{data:e,error:i}=await nr(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:e,error:i}}catch(e){if(qn(e))return{data:null,error:e};throw e}}async _deleteFactor(t){Hu(t.userId),Hu(t.id);try{return{data:await nr(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(e){if(qn(e))return{data:null,error:e};throw e}}}function P0(o={}){return{getItem:t=>o[t]||null,setItem:(t,e)=>{o[t]=e},removeItem:t=>{delete o[t]}}}function hv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Wu={debug:!!(globalThis&&Am()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Bm extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class cv extends Bm{}async function fv(o,t,e){Wu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",o,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),Wu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",o)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(o,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async u=>{if(u){Wu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",o,u.name);try{return await e()}finally{Wu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",o,u.name)}}else{if(t===0)throw Wu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",o),new cv(`Acquiring an exclusive Navigator LockManager lock "${o}" immediately failed`);if(Wu.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await e()}}))}hv();const dv={url:L1,storageKey:k1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:C1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function A0(o,t,e){return await e()}const Vu={};class Th{constructor(t){var e,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Th.nextInstanceID,Th.nextInstanceID+=1,this.instanceID>0&&rl()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const u=Object.assign(Object.assign({},dv),t);if(this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.persistSession=u.persistSession,this.storageKey=u.storageKey,this.autoRefreshToken=u.autoRefreshToken,this.admin=new uv({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=Mm(u.fetch),this.lock=u.lock||A0,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,u.lock?this.lock=u.lock:rl()&&(!((e=globalThis?.navigator)===null||e===void 0)&&e.locks)?this.lock=fv:this.lock=A0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:Am()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=P0(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=P0(this.memoryStorage)),rl()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}get jwks(){var t,e;return(e=(t=Vu[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&e!==void 0?e:{keys:[]}}set jwks(t){Vu[this.storageKey]=Object.assign(Object.assign({},Vu[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,e;return(e=(t=Vu[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&e!==void 0?e:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Vu[this.storageKey]=Object.assign(Object.assign({},Vu[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Cm}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const e=U1(window.location.href);let i="none";if(this._isImplicitGrantCallback(e)?i="implicit":await this._isPKCECallback(e)&&(i="pkce"),rl()&&this.detectSessionInUrl&&i!=="none"){const{data:u,error:l}=await this._getSessionFromURL(e,i);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),B1(l)){const g=(t=l.details)===null||t===void 0?void 0:t.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:d}=u;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return qn(e)?{error:e}:{error:new Em("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var e,i,u;try{const l=await nr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(e=t?.options)===null||e===void 0?void 0:e.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(u=t?.options)===null||u===void 0?void 0:u.captchaToken}},xform:Pl}),{data:c,error:d}=l;if(d||!c)return{data:{user:null,session:null},error:d};const g=c.session,y=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:y,session:g},error:null}}catch(l){if(qn(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(t){var e,i,u;try{let l;if("email"in t){const{email:S,password:E,options:A}=t;let x=null,R=null;this.flowType==="pkce"&&([x,R]=await Gu(this.storage,this.storageKey)),l=await nr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:A?.emailRedirectTo,body:{email:S,password:E,data:(e=A?.data)!==null&&e!==void 0?e:{},gotrue_meta_security:{captcha_token:A?.captchaToken},code_challenge:x,code_challenge_method:R},xform:Pl})}else if("phone"in t){const{phone:S,password:E,options:A}=t;l=await nr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:S,password:E,data:(i=A?.data)!==null&&i!==void 0?i:{},channel:(u=A?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:A?.captchaToken}},xform:Pl})}else throw new _c("You must provide either an email or phone number and a password");const{data:c,error:d}=l;if(d||!c)return{data:{user:null,session:null},error:d};const g=c.session,y=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:y,session:g},error:null}}catch(l){if(qn(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(t){try{let e;if("email"in t){const{email:l,password:c,options:d}=t;e=await nr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:E0})}else if("phone"in t){const{phone:l,password:c,options:d}=t;e=await nr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:E0})}else throw new _c("You must provide either an email or phone number and a password");const{data:i,error:u}=e;return u?{data:{user:null,session:null},error:u}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new gc}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:u})}catch(e){if(qn(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOAuth(t){var e,i,u,l;return await this._handleProviderSignIn(t.provider,{redirectTo:(e=t.options)===null||e===void 0?void 0:e.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(l=t.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:e}=t;if(e==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${e}"`)}async signInWithSolana(t){var e,i,u,l,c,d,g,y,S,E,A,x;let R,M;if("message"in t)R=t.message,M=t.signature;else{const{chain:I,wallet:O,statement:W,options:K}=t;let de;if(rl())if(typeof O=="object")de=O;else{const xe=window;if("solana"in xe&&typeof xe.solana=="object"&&("signIn"in xe.solana&&typeof xe.solana.signIn=="function"||"signMessage"in xe.solana&&typeof xe.solana.signMessage=="function"))de=xe.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!K?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");de=O}const ie=new URL((e=K?.url)!==null&&e!==void 0?e:window.location.href);if("signIn"in de&&de.signIn){const xe=await de.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},K?.signInWithSolana),{version:"1",domain:ie.host,uri:ie.href}),W?{statement:W}:null));let Z;if(Array.isArray(xe)&&xe[0]&&typeof xe[0]=="object")Z=xe[0];else if(xe&&typeof xe=="object"&&"signedMessage"in xe&&"signature"in xe)Z=xe;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Z&&"signature"in Z&&(typeof Z.signedMessage=="string"||Z.signedMessage instanceof Uint8Array)&&Z.signature instanceof Uint8Array)R=typeof Z.signedMessage=="string"?Z.signedMessage:new TextDecoder().decode(Z.signedMessage),M=Z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in de)||typeof de.signMessage!="function"||!("publicKey"in de)||typeof de!="object"||!de.publicKey||!("toBase58"in de.publicKey)||typeof de.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");R=[`${ie.host} wants you to sign in with your Solana account:`,de.publicKey.toBase58(),...W?["",W,""]:[""],"Version: 1",`URI: ${ie.href}`,`Issued At: ${(u=(i=K?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((l=K?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${K.signInWithSolana.notBefore}`]:[],...!((c=K?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${K.signInWithSolana.expirationTime}`]:[],...!((d=K?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${K.signInWithSolana.chainId}`]:[],...!((g=K?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${K.signInWithSolana.nonce}`]:[],...!((y=K?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${K.signInWithSolana.requestId}`]:[],...!((E=(S=K?.signInWithSolana)===null||S===void 0?void 0:S.resources)===null||E===void 0)&&E.length?["Resources",...K.signInWithSolana.resources.map(Z=>`- ${Z}`)]:[]].join(`
`);const xe=await de.signMessage(new TextEncoder().encode(R),"utf8");if(!xe||!(xe instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");M=xe}}try{const{data:I,error:O}=await nr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:R,signature:F1(M)},!((A=t.options)===null||A===void 0)&&A.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Pl});if(O)throw O;return!I||!I.session||!I.user?{data:{user:null,session:null},error:new gc}:(I.session&&(await this._saveSession(I.session),await this._notifyAllSubscribers("SIGNED_IN",I.session)),{data:Object.assign({},I),error:O})}catch(I){if(qn(I))return{data:{user:null,session:null},error:I};throw I}}async _exchangeCodeForSession(t){const e=await mu(this.storage,`${this.storageKey}-code-verifier`),[i,u]=(e??"").split("/");try{const{data:l,error:c}=await nr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:Pl});if(await Hl(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new gc}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:u??null}),error:c})}catch(l){if(qn(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(t){try{const{options:e,provider:i,token:u,access_token:l,nonce:c}=t,d=await nr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:u,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:e?.captchaToken}},xform:Pl}),{data:g,error:y}=d;return y?{data:{user:null,session:null},error:y}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new gc}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:y})}catch(e){if(qn(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOtp(t){var e,i,u,l,c;try{if("email"in t){const{email:d,options:g}=t;let y=null,S=null;this.flowType==="pkce"&&([y,S]=await Gu(this.storage,this.storageKey));const{error:E}=await nr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(e=g?.data)!==null&&e!==void 0?e:{},create_user:(i=g?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:y,code_challenge_method:S},redirectTo:g?.emailRedirectTo});return{data:{user:null,session:null},error:E}}if("phone"in t){const{phone:d,options:g}=t,{data:y,error:S}=await nr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(u=g?.data)!==null&&u!==void 0?u:{},create_user:(l=g?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(c=g?.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:y?.message_id},error:S}}throw new _c("You must provide either an email or phone number.")}catch(d){if(qn(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(t){var e,i;try{let u,l;"options"in t&&(u=(e=t.options)===null||e===void 0?void 0:e.redirectTo,l=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:d}=await nr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:l}}),redirectTo:u,xform:Pl});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const g=c.session,y=c.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:y,session:g},error:null}}catch(u){if(qn(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithSSO(t){var e,i,u;try{let l=null,c=null;return this.flowType==="pkce"&&([l,c]=await Gu(this.storage,this.storageKey)),await nr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(e=t.options)===null||e===void 0?void 0:e.redirectTo)!==null&&i!==void 0?i:void 0}),!((u=t?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:iv})}catch(l){if(qn(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:e},error:i}=t;if(i)throw i;if(!e)throw new $l;const{error:u}=await nr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:e.access_token});return{data:{user:null,session:null},error:u}})}catch(t){if(qn(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const e=`${this.url}/resend`;if("email"in t){const{email:i,type:u,options:l}=t,{error:c}=await nr(this.fetch,"POST",e,{headers:this.headers,body:{email:i,type:u,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in t){const{phone:i,type:u,options:l}=t,{data:c,error:d}=await nr(this.fetch,"POST",e,{headers:this.headers,body:{phone:i,type:u,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return{data:{user:null,session:null,messageId:c?.message_id},error:d}}throw new _c("You must provide either an email or phone number and a type")}catch(e){if(qn(e))return{data:{user:null,session:null},error:e};throw e}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(t,e){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await i,await e()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=e();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const e=await this.__loadSession();return await t(e)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const e=await mu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",e),e!==null&&(this._isValidSession(e)?t=e:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<Df:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){const c=await mu(this.userStorage,this.storageKey+"-user");c?.user?t.user=c.user:t.user=Ff()}if(this.storage.isServer&&t.user){let c=this.suppressGetSessionWarning;t=new Proxy(t,{get:(g,y,S)=>(!c&&y==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,y,S))})}return{data:{session:t},error:null}}const{session:u,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{session:null},error:l}:{data:{session:u},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await nr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Zl}):await this._useSession(async e=>{var i,u,l;const{data:c,error:d}=e;if(d)throw d;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $l}:await nr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(u=c.session)===null||u===void 0?void 0:u.access_token)!==null&&l!==void 0?l:void 0,xform:Zl})})}catch(e){if(qn(e))return M1(e)&&(await this._removeSession(),await Hl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:e};throw e}}async updateUser(t,e={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,e))}async _updateUser(t,e={}){try{return await this._useSession(async i=>{const{data:u,error:l}=i;if(l)throw l;if(!u.session)throw new $l;const c=u.session;let d=null,g=null;this.flowType==="pkce"&&t.email!=null&&([d,g]=await Gu(this.storage,this.storageKey));const{data:y,error:S}=await nr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:e?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:g}),jwt:c.access_token,xform:Zl});if(S)throw S;return c.user=y.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(i){if(qn(i))return{data:{user:null},error:i};throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new $l;const e=Date.now()/1e3;let i=e,u=!0,l=null;const{payload:c}=Rf(t.access_token);if(c.exp&&(i=c.exp,u=i<=e),u){const{session:d,error:g}=await this._callRefreshToken(t.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:g}=await this._getUser(t.access_token);if(g)throw g;l={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:i-e,expires_at:i},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(e){if(qn(e))return{data:{session:null,user:null},error:e};throw e}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async e=>{var i;if(!t){const{data:c,error:d}=e;if(d)throw d;t=(i=c.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new $l;const{session:u,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{user:null,session:null},error:l}:u?{data:{user:u.user,session:u},error:null}:{data:{user:null,session:null},error:null}})}catch(e){if(qn(e))return{data:{user:null,session:null},error:e};throw e}}async _getSessionFromURL(t,e){try{if(!rl())throw new vc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new vc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(e){case"implicit":if(this.flowType==="pkce")throw new w0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new vc("Not a valid implicit grant flow url.");break;default:}if(e==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new w0("No code detected.");const{data:W,error:K}=await this._exchangeCodeForSession(t.code);if(K)throw K;const de=new URL(window.location.href);return de.searchParams.delete("code"),window.history.replaceState(window.history.state,"",de.toString()),{data:{session:W.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:u,access_token:l,refresh_token:c,expires_in:d,expires_at:g,token_type:y}=t;if(!l||!d||!c||!y)throw new vc("No session defined in URL");const S=Math.round(Date.now()/1e3),E=parseInt(d);let A=S+E;g&&(A=parseInt(g));const x=A-S;x*1e3<=Ju&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${E}s`);const R=A-E;S-R>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",R,A,S):S-R<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",R,A,S);const{data:M,error:I}=await this._getUser(l);if(I)throw I;const O={provider_token:i,provider_refresh_token:u,access_token:l,expires_in:E,expires_at:A,refresh_token:c,token_type:y,user:M.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:O,redirectType:t.type},error:null}}catch(i){if(qn(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const e=await mu(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&e)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async e=>{var i;const{data:u,error:l}=e;if(l)return{error:l};const c=(i=u.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:d}=await this.admin.signOut(c,t);if(d&&!(A1(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return t!=="others"&&(await this._removeSession(),await Hl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const e=z1(),i={id:e,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",e),this.stateChangeEmitters.delete(e)}};return this._debug("#onAuthStateChange()","registered callback with id",e),this.stateChangeEmitters.set(e,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(e)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async e=>{var i,u;try{const{data:{session:l},error:c}=e;if(c)throw c;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",t,"session",l)}catch(l){await((u=this.stateChangeEmitters.get(t))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",l),console.error(l)}})}async resetPasswordForEmail(t,e={}){let i=null,u=null;this.flowType==="pkce"&&([i,u]=await Gu(this.storage,this.storageKey,!0));try{return await nr(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:u,gotrue_meta_security:{captcha_token:e.captchaToken}},headers:this.headers,redirectTo:e.redirectTo})}catch(l){if(qn(l))return{data:null,error:l};throw l}}async getUserIdentities(){var t;try{const{data:e,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(t=e.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(e){if(qn(e))return{data:null,error:e};throw e}}async linkIdentity(t){var e;try{const{data:i,error:u}=await this._useSession(async l=>{var c,d,g,y,S;const{data:E,error:A}=l;if(A)throw A;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(g=t.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await nr(this.fetch,"GET",x,{headers:this.headers,jwt:(S=(y=E.session)===null||y===void 0?void 0:y.access_token)!==null&&S!==void 0?S:void 0})});if(u)throw u;return rl()&&!(!((e=t.options)===null||e===void 0)&&e.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:t.provider,url:i?.url},error:null}}catch(i){if(qn(i))return{data:{provider:t.provider,url:null},error:i};throw i}}async unlinkIdentity(t){try{return await this._useSession(async e=>{var i,u;const{data:l,error:c}=e;if(c)throw c;return await nr(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(u=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&u!==void 0?u:void 0})})}catch(e){if(qn(e))return{data:null,error:e};throw e}}async _refreshAccessToken(t){const e=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(e,"begin");try{const i=Date.now();return await H1(async u=>(u>0&&await G1(200*Math.pow(2,u-1)),this._debug(e,"refreshing attempt",u),await nr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Pl})),(u,l)=>{const c=200*Math.pow(2,u);return l&&If(l)&&Date.now()+c-i<Ju})}catch(i){if(this._debug(e,"error",i),qn(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(e,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,e){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:e.redirectTo,scopes:e.scopes,queryParams:e.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",e,"url",i),rl()&&!e.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,e;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const u=await mu(this.storage,this.storageKey);if(u&&this.userStorage){let c=await mu(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:u.user},await Yu(this.userStorage,this.storageKey+"-user",c)),u.user=(t=c?.user)!==null&&t!==void 0?t:Ff()}else if(u&&!u.user&&!u.user){const c=await mu(this.storage,this.storageKey+"-user");c&&c?.user?(u.user=c.user,await Hl(this.storage,this.storageKey+"-user"),await Yu(this.storage,this.storageKey,u)):u.user=Ff()}if(this._debug(i,"session from storage",u),!this._isValidSession(u)){this._debug(i,"session is not valid"),u!==null&&await this._removeSession();return}const l=((e=u.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Df;if(this._debug(i,`session has${l?"":" not"} expired with margin of ${Df}s`),l){if(this.autoRefreshToken&&u.refresh_token){const{error:c}=await this._callRefreshToken(u.refresh_token);c&&(console.error(c),If(c)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(u.access_token);!d&&c?.user?(u.user=c.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(i,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(i,"error",u),console.error(u);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var e,i;if(!t)throw new $l;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new Fc;const{data:l,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!l.session)throw new $l;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={session:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(u,"error",l),qn(l)){const c={session:null,error:l};return If(l)||await this._removeSession(),(e=this.refreshingDeferred)===null||e===void 0||e.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(l),l}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(t,e,i=!0){const u=`#_notifyAllSubscribers(${t})`;this._debug(u,"begin",e,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:e});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,e)}catch(g){l.push(g)}});if(await Promise.all(c),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(u,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const e=Object.assign({},t),i=e.user&&e.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&e.user&&await Yu(this.userStorage,this.storageKey+"-user",{user:e.user});const u=Object.assign({},e);delete u.user;const l=C0(u);await Yu(this.storage,this.storageKey,l)}else{const u=C0(e);await Yu(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),await Hl(this.storage,this.storageKey),await Hl(this.storage,this.storageKey+"-code-verifier"),await Hl(this.storage,this.storageKey+"-user"),this.userStorage&&await Hl(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&rl()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(e){console.error("removing visibilitychange callback failed",e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ju);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async e=>{const{data:{session:i}}=e;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((i.expires_at*1e3-t)/Ju);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${Ju}ms, refresh threshold is ${ld} ticks`),u<=ld&&await this._callRefreshToken(i.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Bm)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!rl()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const e=`#_onVisibilityChanged(${t})`;this._debug(e,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(e,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,e,i){const u=[`provider=${encodeURIComponent(e)}`];if(i?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&u.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[l,c]=await Gu(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});u.push(d.toString())}if(i?.queryParams){const l=new URLSearchParams(i.queryParams);u.push(l.toString())}return i?.skipBrowserRedirect&&u.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${u.join("&")}`}async _unenroll(t){try{return await this._useSession(async e=>{var i;const{data:u,error:l}=e;return l?{data:null,error:l}:await nr(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=u?.session)===null||i===void 0?void 0:i.access_token})})}catch(e){if(qn(e))return{data:null,error:e};throw e}}async _enroll(t){try{return await this._useSession(async e=>{var i,u;const{data:l,error:c}=e;if(c)return{data:null,error:c};const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:g,error:y}=await nr(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token});return y?{data:null,error:y}:(t.factorType==="totp"&&(!((u=g?.totp)===null||u===void 0)&&u.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(e){if(qn(e))return{data:null,error:e};throw e}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async e=>{var i;const{data:u,error:l}=e;if(l)return{data:null,error:l};const{data:c,error:d}=await nr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(i=u?.session)===null||i===void 0?void 0:i.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:d})})}catch(e){if(qn(e))return{data:null,error:e};throw e}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async e=>{var i;const{data:u,error:l}=e;return l?{data:null,error:l}:await nr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(i=u?.session)===null||i===void 0?void 0:i.access_token})})}catch(e){if(qn(e))return{data:null,error:e};throw e}})}async _challengeAndVerify(t){const{data:e,error:i}=await this._challenge({factorId:t.factorId});return i?{data:null,error:i}:await this._verify({factorId:t.factorId,challengeId:e.id,code:t.code})}async _listFactors(){const{data:{user:t},error:e}=await this.getUser();if(e)return{data:null,error:e};const i=t?.factors||[],u=i.filter(c=>c.factor_type==="totp"&&c.status==="verified"),l=i.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:i,totp:u,phone:l},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var e,i;const{data:{session:u},error:l}=t;if(l)return{data:null,error:l};if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Rf(u.access_token);let d=null;c.aal&&(d=c.aal);let g=d;((i=(e=u.user.factors)===null||e===void 0?void 0:e.filter(E=>E.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(g="aal2");const S=c.amr||[];return{data:{currentLevel:d,nextLevel:g,currentAuthenticationMethods:S},error:null}}))}async fetchJwk(t,e={keys:[]}){let i=e.keys.find(d=>d.kid===t);if(i)return i;const u=Date.now();if(i=this.jwks.keys.find(d=>d.kid===t),i&&this.jwks_cached_at+E1>u)return i;const{data:l,error:c}=await nr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=u,i=l.keys.find(d=>d.kid===t),!i)?null:i}async getClaims(t,e={}){try{let i=t;if(!i){const{data:x,error:R}=await this.getSession();if(R||!x.session)return{data:null,error:R};i=x.session.access_token}const{header:u,payload:l,signature:c,raw:{header:d,payload:g}}=Rf(i);e?.allowExpired||Y1(l.exp);const y=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,e?.keys?{keys:e.keys}:e?.jwks);if(!y){const{error:x}=await this.getUser(i);if(x)throw x;return{data:{claims:l,header:u,signature:c},error:null}}const S=X1(u.alg),E=await crypto.subtle.importKey("jwk",y,S,!0,["verify"]);if(!await crypto.subtle.verify(S,E,c,R1(`${d}.${g}`)))throw new cd("Invalid JWT signature");return{data:{claims:l,header:u,signature:c},error:null}}catch(i){if(qn(i))return{data:null,error:i};throw i}}}Th.nextInstanceID=0;const pv=Th;class mv extends pv{constructor(t){super(t)}}var gv=function(o,t,e,i){function u(l){return l instanceof e?l:new e(function(c){c(l)})}return new(e||(e=Promise))(function(l,c){function d(S){try{y(i.next(S))}catch(E){c(E)}}function g(S){try{y(i.throw(S))}catch(E){c(E)}}function y(S){S.done?l(S.value):u(S.value).then(d,g)}y((i=i.apply(o,t||[])).next())})};class _v{constructor(t,e,i){var u,l,c;if(this.supabaseUrl=t,this.supabaseKey=e,!t)throw new Error("supabaseUrl is required.");if(!e)throw new Error("supabaseKey is required.");const d=b1(t),g=new URL(d);this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);const y=`sb-${g.hostname.split(".")[0]}-auth-token`,S={db:d1,realtime:m1,auth:Object.assign(Object.assign({},p1),{storageKey:y}),global:f1},E=x1(i??{},S);this.storageKey=(u=E.auth.storageKey)!==null&&u!==void 0?u:"",this.headers=(l=E.global.headers)!==null&&l!==void 0?l:{},E.accessToken?(this.accessToken=E.accessToken,this.auth=new Proxy({},{get:(A,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=E.auth)!==null&&c!==void 0?c:{},this.headers,E.global.fetch),this.fetch=y1(e,this._getAccessToken.bind(this),E.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},E.realtime)),this.rest=new N_(new URL("rest/v1",g).href,{headers:this.headers,schema:E.db.schema,fetch:this.fetch}),this.storage=new u1(this.storageUrl.href,this.headers,this.fetch,i?.storage),E.accessToken||this._listenForAuthEvents()}get functions(){return new b_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},i={}){return this.rest.rpc(t,e,i)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,e;return gv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(e=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:i,storage:u,storageKey:l,flowType:c,lock:d,debug:g},y,S){const E={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new mv({url:this.authUrl.href,headers:Object.assign(Object.assign({},E),y),storageKey:l,autoRefreshToken:t,persistSession:e,detectSessionInUrl:i,storage:u,flowType:c,lock:d,debug:g,fetch:S,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new J_(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,i)=>{this._handleTokenChanged(e,"CLIENT",i?.access_token)})}_handleTokenChanged(t,e,i){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const vv=(o,t,e)=>new _v(o,t,e);function yv(){if(typeof window<"u"||typeof process>"u")return!1;const o=process.version;if(o==null)return!1;const t=o.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}yv()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const wv="https://tyftyoexdxrjvxjbdyux.supabase.co",bv="sb_publishable_CUCrsx84syqTmA-uMJyF3g_EnrX-aW6",Aa=vv(wv,bv),xv="/pudumaps/assets/pudulogo-pI67wG3d.png";function Lv(){const[o,t]=ot.useState(""),[e,i]=ot.useState(""),[u,l]=ot.useState(!1),[c,d]=ot.useState(!1),[g,y]=ot.useState(null),S=async A=>{A.preventDefault(),l(!0),y(null);const{error:x}=await Aa.auth.signInWithPassword({email:o,password:e});x&&y(x.message),l(!1)},E=async()=>{d(!0),y(null);const{error:A}=await Aa.auth.signUp({email:o,password:e});A&&y(A.message),d(!1)};return it.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:it.jsxs("div",{className:"card max-w-md w-full",children:[it.jsxs("div",{className:"text-center mb-6",children:[it.jsx("img",{src:xv,alt:"Pudumaps logo",className:"w-16 h-16 mx-auto"}),it.jsx("h1",{className:"text-2xl font-bold mt-2",children:"Pudumaps"}),it.jsx("p",{className:"text-gray-400 text-sm",children:"Inicia sesin en tu cuenta"})]}),it.jsxs("form",{className:"space-y-5",onSubmit:S,children:[it.jsxs("div",{children:[it.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Correo electrnico"}),it.jsx("input",{type:"email",className:"input",value:o,onChange:A=>t(A.target.value),placeholder:"ejemplo@correo.com",required:!0})]}),it.jsxs("div",{children:[it.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Contrasea"}),it.jsx("input",{type:"password",className:"input",value:e,onChange:A=>i(A.target.value),placeholder:"********",required:!0})]}),g&&it.jsx("p",{className:"text-red-400 text-sm",children:g}),it.jsx("button",{type:"submit",className:"btn btn-primary w-full",disabled:u,children:u?"Entrando...":"Entrar"}),it.jsx("button",{type:"button",onClick:E,className:"btn btn-secondary w-full",disabled:c,children:c?"Creando...":"Crear cuenta"})]}),it.jsxs("p",{className:"text-center text-gray-500 text-sm mt-6",children:["Primera vez? ",it.jsx("span",{className:"text-green-400",children:"Crea tu cuenta"})," y revisa tu correo para confirmar."]}),it.jsxs("div",{className:"mt-8 border-t border-gray-700 pt-4 text-sm text-gray-400",children:[it.jsx("h3",{className:"text-gray-200 font-semibold mb-3",children:" Roadmap Pudumaps"}),it.jsxs("div",{className:"space-y-3",children:[it.jsxs("div",{children:[it.jsx("h4",{className:"text-gray-300 font-medium",children:" Ahora"}),it.jsxs("ul",{className:"list-disc list-inside",children:[it.jsx("li",{children:"Gestin de proyectos (crear, editar, eliminar, favoritos)"}),it.jsx("li",{children:"Capas GeoJSON con estilos editables y persistentes"}),it.jsx("li",{children:"Capas externas WMS con consulta GetFeatureInfo"}),it.jsx("li",{children:"Exportacin de mapas a KMZ y PDF"})]})]}),it.jsxs("div",{children:[it.jsx("h4",{className:"text-gray-300 font-medium",children:" Prximo"}),it.jsxs("ul",{className:"list-disc list-inside",children:[it.jsx("li",{children:"Soporte para servicios ArcGIS REST"}),it.jsx("li",{children:"Herramientas de medicin y dibujo en el mapa"}),it.jsx("li",{children:"Compartir proyectos de forma pblica/privada"})]})]}),it.jsxs("div",{children:[it.jsx("h4",{className:"text-gray-300 font-medium",children:" Futuro"}),it.jsxs("ul",{className:"list-disc list-inside",children:[it.jsx("li",{children:"Roles y permisos colaborativos por proyecto"}),it.jsx("li",{children:"Filtros y estadsticas por atributos"}),it.jsx("li",{children:"Optimizacin para grandes volmenes de datos"})]})]})]})]})]})})}/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var M0="popstate";function kv(o={}){function t(i,u){let{pathname:l,search:c,hash:d}=i.location;return fd("",{pathname:l,search:c,hash:d},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function e(i,u){return typeof u=="string"?u:Nh(u)}return Sv(t,e,null,o)}function mi(o,t){if(o===!1||o===null||typeof o>"u")throw new Error(t)}function gl(o,t){if(!o){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Cv(){return Math.random().toString(36).substring(2,10)}function B0(o,t){return{usr:o.state,key:o.key,idx:t}}function fd(o,t,e=null,i){return{pathname:typeof o=="string"?o:o.pathname,search:"",hash:"",...typeof t=="string"?lh(t):t,state:e,key:t&&t.key||i||Cv()}}function Nh({pathname:o="/",search:t="",hash:e=""}){return t&&t!=="?"&&(o+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(o+=e.charAt(0)==="#"?e:"#"+e),o}function lh(o){let t={};if(o){let e=o.indexOf("#");e>=0&&(t.hash=o.substring(e),o=o.substring(0,e));let i=o.indexOf("?");i>=0&&(t.search=o.substring(i),o=o.substring(0,i)),o&&(t.pathname=o)}return t}function Sv(o,t,e,i={}){let{window:u=document.defaultView,v5Compat:l=!1}=i,c=u.history,d="POP",g=null,y=S();y==null&&(y=0,c.replaceState({...c.state,idx:y},""));function S(){return(c.state||{idx:null}).idx}function E(){d="POP";let I=S(),O=I==null?null:I-y;y=I,g&&g({action:d,location:M.location,delta:O})}function A(I,O){d="PUSH";let W=fd(M.location,I,O);y=S()+1;let K=B0(W,y),de=M.createHref(W);try{c.pushState(K,"",de)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;u.location.assign(de)}l&&g&&g({action:d,location:M.location,delta:1})}function x(I,O){d="REPLACE";let W=fd(M.location,I,O);y=S();let K=B0(W,y),de=M.createHref(W);c.replaceState(K,"",de),l&&g&&g({action:d,location:M.location,delta:0})}function R(I){return Ev(I)}let M={get action(){return d},get location(){return o(u,c)},listen(I){if(g)throw new Error("A history only accepts one active listener");return u.addEventListener(M0,E),g=I,()=>{u.removeEventListener(M0,E),g=null}},createHref(I){return t(u,I)},createURL:R,encodeLocation(I){let O=R(I);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:A,replace:x,go(I){return c.go(I)}};return M}function Ev(o,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),mi(e,"No window.location.(origin|href) available to create URL");let i=typeof o=="string"?o:Nh(o);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function Tm(o,t,e="/"){return Pv(o,t,e,!1)}function Pv(o,t,e,i){let u=typeof t=="string"?lh(t):t,l=Bl(u.pathname||"/",e);if(l==null)return null;let c=Nm(o);Av(c);let d=null;for(let g=0;d==null&&g<c.length;++g){let y=zv(l);d=Fv(c[g],y,i)}return d}function Nm(o,t=[],e=[],i=""){let u=(l,c,d)=>{let g={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};g.relativePath.startsWith("/")&&(mi(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length));let y=Ml([i,g.relativePath]),S=e.concat(g);l.children&&l.children.length>0&&(mi(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Nm(l.children,t,S,y)),!(l.path==null&&!l.index)&&t.push({path:y,score:Iv(y,l.index),routesMeta:S})};return o.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))u(l,c);else for(let d of Om(l.path))u(l,c,d)}),t}function Om(o){let t=o.split("/");if(t.length===0)return[];let[e,...i]=t,u=e.endsWith("?"),l=e.replace(/\?$/,"");if(i.length===0)return u?[l,""]:[l];let c=Om(i.join("/")),d=[];return d.push(...c.map(g=>g===""?l:[l,g].join("/"))),u&&d.push(...c),d.map(g=>o.startsWith("/")&&g===""?"/":g)}function Av(o){o.sort((t,e)=>t.score!==e.score?e.score-t.score:Rv(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var Mv=/^:[\w-]+$/,Bv=3,Tv=2,Nv=1,Ov=10,Dv=-2,T0=o=>o==="*";function Iv(o,t){let e=o.split("/"),i=e.length;return e.some(T0)&&(i+=Dv),t&&(i+=Tv),e.filter(u=>!T0(u)).reduce((u,l)=>u+(Mv.test(l)?Bv:l===""?Nv:Ov),i)}function Rv(o,t){return o.length===t.length&&o.slice(0,-1).every((i,u)=>i===t[u])?o[o.length-1]-t[t.length-1]:0}function Fv(o,t,e=!1){let{routesMeta:i}=o,u={},l="/",c=[];for(let d=0;d<i.length;++d){let g=i[d],y=d===i.length-1,S=l==="/"?t:t.slice(l.length)||"/",E=Oc({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},S),A=g.route;if(!E&&y&&e&&!i[i.length-1].route.index&&(E=Oc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},S)),!E)return null;Object.assign(u,E.params),c.push({params:u,pathname:Ml([l,E.pathname]),pathnameBase:Hv(Ml([l,E.pathnameBase])),route:A}),E.pathnameBase!=="/"&&(l=Ml([l,E.pathnameBase]))}return c}function Oc(o,t){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[e,i]=jv(o.path,o.caseSensitive,o.end),u=t.match(e);if(!u)return null;let l=u[0],c=l.replace(/(.)\/+$/,"$1"),d=u.slice(1);return{params:i.reduce((y,{paramName:S,isOptional:E},A)=>{if(S==="*"){let R=d[A]||"";c=l.slice(0,l.length-R.length).replace(/(.)\/+$/,"$1")}const x=d[A];return E&&!x?y[S]=void 0:y[S]=(x||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:c,pattern:o}}function jv(o,t=!1,e=!0){gl(o==="*"||!o.endsWith("*")||o.endsWith("/*"),`Route path "${o}" will be treated as if it were "${o.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${o.replace(/\*$/,"/*")}".`);let i=[],u="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,g)=>(i.push({paramName:d,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return o.endsWith("*")?(i.push({paramName:"*"}),u+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?u+="\\/*$":o!==""&&o!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,t?void 0:"i"),i]}function zv(o){try{return o.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return gl(!1,`The URL path "${o}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),o}}function Bl(o,t){if(t==="/")return o;if(!o.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=o.charAt(e);return i&&i!=="/"?null:o.slice(e)||"/"}function Uv(o,t="/"){let{pathname:e,search:i="",hash:u=""}=typeof o=="string"?lh(o):o;return{pathname:e?e.startsWith("/")?e:qv(e,t):t,search:Wv(i),hash:Vv(u)}}function qv(o,t){let e=t.replace(/\/+$/,"").split("/");return o.split("/").forEach(u=>{u===".."?e.length>1&&e.pop():u!=="."&&e.push(u)}),e.length>1?e.join("/"):"/"}function zf(o,t,e,i){return`Cannot include a '${o}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Gv(o){return o.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function Dm(o){let t=Gv(o);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function Im(o,t,e,i=!1){let u;typeof o=="string"?u=lh(o):(u={...o},mi(!u.pathname||!u.pathname.includes("?"),zf("?","pathname","search",u)),mi(!u.pathname||!u.pathname.includes("#"),zf("#","pathname","hash",u)),mi(!u.search||!u.search.includes("#"),zf("#","search","hash",u)));let l=o===""||u.pathname==="",c=l?"/":u.pathname,d;if(c==null)d=e;else{let E=t.length-1;if(!i&&c.startsWith("..")){let A=c.split("/");for(;A[0]==="..";)A.shift(),E-=1;u.pathname=A.join("/")}d=E>=0?t[E]:"/"}let g=Uv(u,d),y=c&&c!=="/"&&c.endsWith("/"),S=(l||c===".")&&e.endsWith("/");return!g.pathname.endsWith("/")&&(y||S)&&(g.pathname+="/"),g}var Ml=o=>o.join("/").replace(/\/\/+/g,"/"),Hv=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),Wv=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,Vv=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o;function $v(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}var Rm=["POST","PUT","PATCH","DELETE"];new Set(Rm);var Zv=["GET",...Rm];new Set(Zv);var uh=ot.createContext(null);uh.displayName="DataRouter";var jc=ot.createContext(null);jc.displayName="DataRouterState";ot.createContext(!1);var Fm=ot.createContext({isTransitioning:!1});Fm.displayName="ViewTransition";var Kv=ot.createContext(new Map);Kv.displayName="Fetchers";var Jv=ot.createContext(null);Jv.displayName="Await";var _l=ot.createContext(null);_l.displayName="Navigation";var Ih=ot.createContext(null);Ih.displayName="Location";var vl=ot.createContext({outlet:null,matches:[],isDataRoute:!1});vl.displayName="Route";var Dd=ot.createContext(null);Dd.displayName="RouteError";function Yv(o,{relative:t}={}){mi(Rh(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=ot.useContext(_l),{hash:u,pathname:l,search:c}=Fh(o,{relative:t}),d=l;return e!=="/"&&(d=l==="/"?e:Ml([e,l])),i.createHref({pathname:d,search:c,hash:u})}function Rh(){return ot.useContext(Ih)!=null}function Lu(){return mi(Rh(),"useLocation() may be used only in the context of a <Router> component."),ot.useContext(Ih).location}var jm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zm(o){ot.useContext(_l).static||ot.useLayoutEffect(o)}function Xv(){let{isDataRoute:o}=ot.useContext(vl);return o?fy():Qv()}function Qv(){mi(Rh(),"useNavigate() may be used only in the context of a <Router> component.");let o=ot.useContext(uh),{basename:t,navigator:e}=ot.useContext(_l),{matches:i}=ot.useContext(vl),{pathname:u}=Lu(),l=JSON.stringify(Dm(i)),c=ot.useRef(!1);return zm(()=>{c.current=!0}),ot.useCallback((g,y={})=>{if(gl(c.current,jm),!c.current)return;if(typeof g=="number"){e.go(g);return}let S=Im(g,JSON.parse(l),u,y.relative==="path");o==null&&t!=="/"&&(S.pathname=S.pathname==="/"?t:Ml([t,S.pathname])),(y.replace?e.replace:e.push)(S,y.state,y)},[t,e,l,u,o])}ot.createContext(null);function ey(){let{matches:o}=ot.useContext(vl),t=o[o.length-1];return t?t.params:{}}function Fh(o,{relative:t}={}){let{matches:e}=ot.useContext(vl),{pathname:i}=Lu(),u=JSON.stringify(Dm(e));return ot.useMemo(()=>Im(o,JSON.parse(u),i,t==="path"),[o,u,i,t])}function ty(o,t){return Um(o,t)}function Um(o,t,e,i){mi(Rh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=ot.useContext(_l),{matches:l}=ot.useContext(vl),c=l[l.length-1],d=c?c.params:{},g=c?c.pathname:"/",y=c?c.pathnameBase:"/",S=c&&c.route;{let O=S&&S.path||"";qm(g,!S||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let E=Lu(),A;if(t){let O=typeof t=="string"?lh(t):t;mi(y==="/"||O.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${O.pathname}" was given in the \`location\` prop.`),A=O}else A=E;let x=A.pathname||"/",R=x;if(y!=="/"){let O=y.replace(/^\//,"").split("/");R="/"+x.replace(/^\//,"").split("/").slice(O.length).join("/")}let M=Tm(o,{pathname:R});gl(S||M!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),gl(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=ay(M&&M.map(O=>Object.assign({},O,{params:Object.assign({},d,O.params),pathname:Ml([y,u.encodeLocation?u.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?y:Ml([y,u.encodeLocation?u.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),l,e,i);return t&&I?ot.createElement(Ih.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},I):I}function ny(){let o=cy(),t=$v(o)?`${o.status} ${o.statusText}`:o instanceof Error?o.message:JSON.stringify(o),e=o instanceof Error?o.stack:null,i="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",o),c=ot.createElement(ot.Fragment,null,ot.createElement("p",null," Hey developer "),ot.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ot.createElement("code",{style:l},"ErrorBoundary")," or"," ",ot.createElement("code",{style:l},"errorElement")," prop on your route.")),ot.createElement(ot.Fragment,null,ot.createElement("h2",null,"Unexpected Application Error!"),ot.createElement("h3",{style:{fontStyle:"italic"}},t),e?ot.createElement("pre",{style:u},e):null,c)}var ry=ot.createElement(ny,null),iy=class extends ot.Component{constructor(o){super(o),this.state={location:o.location,revalidation:o.revalidation,error:o.error}}static getDerivedStateFromError(o){return{error:o}}static getDerivedStateFromProps(o,t){return t.location!==o.location||t.revalidation!=="idle"&&o.revalidation==="idle"?{error:o.error,location:o.location,revalidation:o.revalidation}:{error:o.error!==void 0?o.error:t.error,location:t.location,revalidation:o.revalidation||t.revalidation}}componentDidCatch(o,t){console.error("React Router caught the following error during render",o,t)}render(){return this.state.error!==void 0?ot.createElement(vl.Provider,{value:this.props.routeContext},ot.createElement(Dd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sy({routeContext:o,match:t,children:e}){let i=ot.useContext(uh);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),ot.createElement(vl.Provider,{value:o},e)}function ay(o,t=[],e=null,i=null){if(o==null){if(!e)return null;if(e.errors)o=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)o=e.matches;else return null}let u=o,l=e?.errors;if(l!=null){let g=u.findIndex(y=>y.route.id&&l?.[y.route.id]!==void 0);mi(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let c=!1,d=-1;if(e)for(let g=0;g<u.length;g++){let y=u[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=g),y.route.id){let{loaderData:S,errors:E}=e,A=y.route.loader&&!S.hasOwnProperty(y.route.id)&&(!E||E[y.route.id]===void 0);if(y.route.lazy||A){c=!0,d>=0?u=u.slice(0,d+1):u=[u[0]];break}}}return u.reduceRight((g,y,S)=>{let E,A=!1,x=null,R=null;e&&(E=l&&y.route.id?l[y.route.id]:void 0,x=y.route.errorElement||ry,c&&(d<0&&S===0?(qm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,R=null):d===S&&(A=!0,R=y.route.hydrateFallbackElement||null)));let M=t.concat(u.slice(0,S+1)),I=()=>{let O;return E?O=x:A?O=R:y.route.Component?O=ot.createElement(y.route.Component,null):y.route.element?O=y.route.element:O=g,ot.createElement(sy,{match:y,routeContext:{outlet:g,matches:M,isDataRoute:e!=null},children:O})};return e&&(y.route.ErrorBoundary||y.route.errorElement||S===0)?ot.createElement(iy,{location:e.location,revalidation:e.revalidation,component:x,error:E,children:I(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):I()},null)}function Id(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oy(o){let t=ot.useContext(uh);return mi(t,Id(o)),t}function ly(o){let t=ot.useContext(jc);return mi(t,Id(o)),t}function uy(o){let t=ot.useContext(vl);return mi(t,Id(o)),t}function Rd(o){let t=uy(o),e=t.matches[t.matches.length-1];return mi(e.route.id,`${o} can only be used on routes that contain a unique "id"`),e.route.id}function hy(){return Rd("useRouteId")}function cy(){let o=ot.useContext(Dd),t=ly("useRouteError"),e=Rd("useRouteError");return o!==void 0?o:t.errors?.[e]}function fy(){let{router:o}=oy("useNavigate"),t=Rd("useNavigate"),e=ot.useRef(!1);return zm(()=>{e.current=!0}),ot.useCallback(async(u,l={})=>{gl(e.current,jm),e.current&&(typeof u=="number"?o.navigate(u):await o.navigate(u,{fromRouteId:t,...l}))},[o,t])}var N0={};function qm(o,t,e){!t&&!N0[o]&&(N0[o]=!0,gl(!1,e))}ot.memo(dy);function dy({routes:o,future:t,state:e}){return Um(o,void 0,e,t)}function dd(o){mi(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function py({basename:o="/",children:t=null,location:e,navigationType:i="POP",navigator:u,static:l=!1}){mi(!Rh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=o.replace(/^\/*/,"/"),d=ot.useMemo(()=>({basename:c,navigator:u,static:l,future:{}}),[c,u,l]);typeof e=="string"&&(e=lh(e));let{pathname:g="/",search:y="",hash:S="",state:E=null,key:A="default"}=e,x=ot.useMemo(()=>{let R=Bl(g,c);return R==null?null:{location:{pathname:R,search:y,hash:S,state:E,key:A},navigationType:i}},[c,g,y,S,E,A,i]);return gl(x!=null,`<Router basename="${c}"> is not able to match the URL "${g}${y}${S}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:ot.createElement(_l.Provider,{value:d},ot.createElement(Ih.Provider,{children:t,value:x}))}function my({children:o,location:t}){return ty(pd(o),t)}function pd(o,t=[]){let e=[];return ot.Children.forEach(o,(i,u)=>{if(!ot.isValidElement(i))return;let l=[...t,u];if(i.type===ot.Fragment){e.push.apply(e,pd(i.props.children,l));return}mi(i.type===dd,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mi(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=pd(i.props.children,l)),e.push(c)}),e}var Cc="get",Sc="application/x-www-form-urlencoded";function zc(o){return o!=null&&typeof o.tagName=="string"}function gy(o){return zc(o)&&o.tagName.toLowerCase()==="button"}function _y(o){return zc(o)&&o.tagName.toLowerCase()==="form"}function vy(o){return zc(o)&&o.tagName.toLowerCase()==="input"}function yy(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}function wy(o,t){return o.button===0&&(!t||t==="_self")&&!yy(o)}var yc=null;function by(){if(yc===null)try{new FormData(document.createElement("form"),0),yc=!1}catch{yc=!0}return yc}var xy=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Uf(o){return o!=null&&!xy.has(o)?(gl(!1,`"${o}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sc}"`),null):o}function Ly(o,t){let e,i,u,l,c;if(_y(o)){let d=o.getAttribute("action");i=d?Bl(d,t):null,e=o.getAttribute("method")||Cc,u=Uf(o.getAttribute("enctype"))||Sc,l=new FormData(o)}else if(gy(o)||vy(o)&&(o.type==="submit"||o.type==="image")){let d=o.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=o.getAttribute("formaction")||d.getAttribute("action");if(i=g?Bl(g,t):null,e=o.getAttribute("formmethod")||d.getAttribute("method")||Cc,u=Uf(o.getAttribute("formenctype"))||Uf(d.getAttribute("enctype"))||Sc,l=new FormData(d,o),!by()){let{name:y,type:S,value:E}=o;if(S==="image"){let A=y?`${y}.`:"";l.append(`${A}x`,"0"),l.append(`${A}y`,"0")}else y&&l.append(y,E)}}else{if(zc(o))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Cc,i=null,u=Sc,c=o}return l&&u==="text/plain"&&(c=l,l=void 0),{action:i,method:e.toLowerCase(),encType:u,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Fd(o,t){if(o===!1||o===null||typeof o>"u")throw new Error(t)}function ky(o,t,e){let i=typeof o=="string"?new URL(o,typeof window>"u"?"server://singlefetch/":window.location.origin):o;return i.pathname==="/"?i.pathname=`_root.${e}`:t&&Bl(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${e}`,i}async function Cy(o,t){if(o.id in t)return t[o.id];try{let e=await import(o.module);return t[o.id]=e,e}catch(e){return console.error(`Error loading route module \`${o.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Sy(o){return o==null?!1:o.href==null?o.rel==="preload"&&typeof o.imageSrcSet=="string"&&typeof o.imageSizes=="string":typeof o.rel=="string"&&typeof o.href=="string"}async function Ey(o,t,e){let i=await Promise.all(o.map(async u=>{let l=t.routes[u.route.id];if(l){let c=await Cy(l,e);return c.links?c.links():[]}return[]}));return By(i.flat(1).filter(Sy).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function O0(o,t,e,i,u,l){let c=(g,y)=>e[y]?g.route.id!==e[y].route.id:!0,d=(g,y)=>e[y].pathname!==g.pathname||e[y].route.path?.endsWith("*")&&e[y].params["*"]!==g.params["*"];return l==="assets"?t.filter((g,y)=>c(g,y)||d(g,y)):l==="data"?t.filter((g,y)=>{let S=i.routes[g.route.id];if(!S||!S.hasLoader)return!1;if(c(g,y)||d(g,y))return!0;if(g.route.shouldRevalidate){let E=g.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(o,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function Py(o,t,{includeHydrateFallback:e}={}){return Ay(o.map(i=>{let u=t.routes[i.route.id];if(!u)return[];let l=[u.module];return u.clientActionModule&&(l=l.concat(u.clientActionModule)),u.clientLoaderModule&&(l=l.concat(u.clientLoaderModule)),e&&u.hydrateFallbackModule&&(l=l.concat(u.hydrateFallbackModule)),u.imports&&(l=l.concat(u.imports)),l}).flat(1))}function Ay(o){return[...new Set(o)]}function My(o){let t={},e=Object.keys(o).sort();for(let i of e)t[i]=o[i];return t}function By(o,t){let e=new Set;return new Set(t),o.reduce((i,u)=>{let l=JSON.stringify(My(u));return e.has(l)||(e.add(l),i.push({key:l,link:u})),i},[])}function Gm(){let o=ot.useContext(uh);return Fd(o,"You must render this element inside a <DataRouterContext.Provider> element"),o}function Ty(){let o=ot.useContext(jc);return Fd(o,"You must render this element inside a <DataRouterStateContext.Provider> element"),o}var jd=ot.createContext(void 0);jd.displayName="FrameworkContext";function Hm(){let o=ot.useContext(jd);return Fd(o,"You must render this element inside a <HydratedRouter> element"),o}function Ny(o,t){let e=ot.useContext(jd),[i,u]=ot.useState(!1),[l,c]=ot.useState(!1),{onFocus:d,onBlur:g,onMouseEnter:y,onMouseLeave:S,onTouchStart:E}=t,A=ot.useRef(null);ot.useEffect(()=>{if(o==="render"&&c(!0),o==="viewport"){let M=O=>{O.forEach(W=>{c(W.isIntersecting)})},I=new IntersectionObserver(M,{threshold:.5});return A.current&&I.observe(A.current),()=>{I.disconnect()}}},[o]),ot.useEffect(()=>{if(i){let M=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(M)}}},[i]);let x=()=>{u(!0)},R=()=>{u(!1),c(!1)};return e?o!=="intent"?[l,A,{}]:[l,A,{onFocus:bh(d,x),onBlur:bh(g,R),onMouseEnter:bh(y,x),onMouseLeave:bh(S,R),onTouchStart:bh(E,x)}]:[!1,A,{}]}function bh(o,t){return e=>{o&&o(e),e.defaultPrevented||t(e)}}function Oy({page:o,...t}){let{router:e}=Gm(),i=ot.useMemo(()=>Tm(e.routes,o,e.basename),[e.routes,o,e.basename]);return i?ot.createElement(Iy,{page:o,matches:i,...t}):null}function Dy(o){let{manifest:t,routeModules:e}=Hm(),[i,u]=ot.useState([]);return ot.useEffect(()=>{let l=!1;return Ey(o,t,e).then(c=>{l||u(c)}),()=>{l=!0}},[o,t,e]),i}function Iy({page:o,matches:t,...e}){let i=Lu(),{manifest:u,routeModules:l}=Hm(),{basename:c}=Gm(),{loaderData:d,matches:g}=Ty(),y=ot.useMemo(()=>O0(o,t,g,u,i,"data"),[o,t,g,u,i]),S=ot.useMemo(()=>O0(o,t,g,u,i,"assets"),[o,t,g,u,i]),E=ot.useMemo(()=>{if(o===i.pathname+i.search+i.hash)return[];let R=new Set,M=!1;if(t.forEach(O=>{let W=u.routes[O.route.id];!W||!W.hasLoader||(!y.some(K=>K.route.id===O.route.id)&&O.route.id in d&&l[O.route.id]?.shouldRevalidate||W.hasClientLoader?M=!0:R.add(O.route.id))}),R.size===0)return[];let I=ky(o,c,"data");return M&&R.size>0&&I.searchParams.set("_routes",t.filter(O=>R.has(O.route.id)).map(O=>O.route.id).join(",")),[I.pathname+I.search]},[c,d,i,u,y,t,o,l]),A=ot.useMemo(()=>Py(S,u),[S,u]),x=Dy(S);return ot.createElement(ot.Fragment,null,E.map(R=>ot.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...e})),A.map(R=>ot.createElement("link",{key:R,rel:"modulepreload",href:R,...e})),x.map(({key:R,link:M})=>ot.createElement("link",{key:R,nonce:e.nonce,...M})))}function Ry(...o){return t=>{o.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var Wm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Wm&&(window.__reactRouterVersion="7.8.0")}catch{}function Fy({basename:o,children:t,window:e}){let i=ot.useRef();i.current==null&&(i.current=kv({window:e,v5Compat:!0}));let u=i.current,[l,c]=ot.useState({action:u.action,location:u.location}),d=ot.useCallback(g=>{ot.startTransition(()=>c(g))},[c]);return ot.useLayoutEffect(()=>u.listen(d),[u,d]),ot.createElement(py,{basename:o,children:t,location:l.location,navigationType:l.action,navigator:u})}var Vm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Uc=ot.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:u,reloadDocument:l,replace:c,state:d,target:g,to:y,preventScrollReset:S,viewTransition:E,...A},x){let{basename:R}=ot.useContext(_l),M=typeof y=="string"&&Vm.test(y),I,O=!1;if(typeof y=="string"&&M&&(I=y,Wm))try{let me=new URL(window.location.href),Ne=y.startsWith("//")?new URL(me.protocol+y):new URL(y),te=Bl(Ne.pathname,R);Ne.origin===me.origin&&te!=null?y=te+Ne.search+Ne.hash:O=!0}catch{gl(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=Yv(y,{relative:u}),[K,de,ie]=Ny(i,A),xe=qy(y,{replace:c,state:d,target:g,preventScrollReset:S,relative:u,viewTransition:E});function Z(me){t&&t(me),me.defaultPrevented||xe(me)}let Y=ot.createElement("a",{...A,...ie,href:I||W,onClick:O||l?t:Z,ref:Ry(x,de),target:g,"data-discover":!M&&e==="render"?"true":void 0});return K&&!M?ot.createElement(ot.Fragment,null,Y,ot.createElement(Oy,{page:W})):Y});Uc.displayName="Link";var jy=ot.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:u=!1,style:l,to:c,viewTransition:d,children:g,...y},S){let E=Fh(c,{relative:y.relative}),A=Lu(),x=ot.useContext(jc),{navigator:R,basename:M}=ot.useContext(_l),I=x!=null&&$y(E)&&d===!0,O=R.encodeLocation?R.encodeLocation(E).pathname:E.pathname,W=A.pathname,K=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;e||(W=W.toLowerCase(),K=K?K.toLowerCase():null,O=O.toLowerCase()),K&&M&&(K=Bl(K,M)||K);const de=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let ie=W===O||!u&&W.startsWith(O)&&W.charAt(de)==="/",xe=K!=null&&(K===O||!u&&K.startsWith(O)&&K.charAt(O.length)==="/"),Z={isActive:ie,isPending:xe,isTransitioning:I},Y=ie?t:void 0,me;typeof i=="function"?me=i(Z):me=[i,ie?"active":null,xe?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let Ne=typeof l=="function"?l(Z):l;return ot.createElement(Uc,{...y,"aria-current":Y,className:me,ref:S,style:Ne,to:c,viewTransition:d},typeof g=="function"?g(Z):g)});jy.displayName="NavLink";var zy=ot.forwardRef(({discover:o="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:u,state:l,method:c=Cc,action:d,onSubmit:g,relative:y,preventScrollReset:S,viewTransition:E,...A},x)=>{let R=Wy(),M=Vy(d,{relative:y}),I=c.toLowerCase()==="get"?"get":"post",O=typeof d=="string"&&Vm.test(d),W=K=>{if(g&&g(K),K.defaultPrevented)return;K.preventDefault();let de=K.nativeEvent.submitter,ie=de?.getAttribute("formmethod")||c;R(de||K.currentTarget,{fetcherKey:t,method:ie,navigate:e,replace:u,state:l,relative:y,preventScrollReset:S,viewTransition:E})};return ot.createElement("form",{ref:x,method:I,action:M,onSubmit:i?g:W,...A,"data-discover":!O&&o==="render"?"true":void 0})});zy.displayName="Form";function Uy(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $m(o){let t=ot.useContext(uh);return mi(t,Uy(o)),t}function qy(o,{target:t,replace:e,state:i,preventScrollReset:u,relative:l,viewTransition:c}={}){let d=Xv(),g=Lu(),y=Fh(o,{relative:l});return ot.useCallback(S=>{if(wy(S,t)){S.preventDefault();let E=e!==void 0?e:Nh(g)===Nh(y);d(o,{replace:E,state:i,preventScrollReset:u,relative:l,viewTransition:c})}},[g,d,y,e,i,t,o,u,l,c])}var Gy=0,Hy=()=>`__${String(++Gy)}__`;function Wy(){let{router:o}=$m("useSubmit"),{basename:t}=ot.useContext(_l),e=hy();return ot.useCallback(async(i,u={})=>{let{action:l,method:c,encType:d,formData:g,body:y}=Ly(i,t);if(u.navigate===!1){let S=u.fetcherKey||Hy();await o.fetch(S,e,u.action||l,{preventScrollReset:u.preventScrollReset,formData:g,body:y,formMethod:u.method||c,formEncType:u.encType||d,flushSync:u.flushSync})}else await o.navigate(u.action||l,{preventScrollReset:u.preventScrollReset,formData:g,body:y,formMethod:u.method||c,formEncType:u.encType||d,replace:u.replace,state:u.state,fromRouteId:e,flushSync:u.flushSync,viewTransition:u.viewTransition})},[o,t,e])}function Vy(o,{relative:t}={}){let{basename:e}=ot.useContext(_l),i=ot.useContext(vl);mi(i,"useFormAction must be used inside a RouteContext");let[u]=i.matches.slice(-1),l={...Fh(o||".",{relative:t})},c=Lu();if(o==null){l.search=c.search;let d=new URLSearchParams(l.search),g=d.getAll("index");if(g.some(S=>S==="")){d.delete("index"),g.filter(E=>E).forEach(E=>d.append("index",E));let S=d.toString();l.search=S?`?${S}`:""}}return(!o||o===".")&&u.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(l.pathname=l.pathname==="/"?e:Ml([e,l.pathname])),Nh(l)}function $y(o,{relative:t}={}){let e=ot.useContext(Fm);mi(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=$m("useViewTransitionState"),u=Fh(o,{relative:t});if(!e.isTransitioning)return!1;let l=Bl(e.currentLocation.pathname,i)||e.currentLocation.pathname,c=Bl(e.nextLocation.pathname,i)||e.nextLocation.pathname;return Oc(u.pathname,c)!=null||Oc(u.pathname,l)!=null}dm();function Zy({id:o,initialName:t,initialDescription:e,onClose:i,onUpdated:u,onNotify:l}){const[c,d]=ot.useState(t),[g,y]=ot.useState(e||""),[S,E]=ot.useState(!1);async function A(){if(!c){l?.(" El proyecto debe tener un nombre","error");return}E(!0);const{error:x}=await Aa.from("projects").update({name:c,description:g}).eq("id",o);if(E(!1),x){l?.(" No se pudo actualizar el proyecto","error");return}u(),i(),l?.(" Proyecto actualizado","success")}return it.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-60 z-50",children:it.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-md p-6 space-y-4",children:[it.jsx("h2",{className:"text-lg font-semibold text-white",children:" Editar proyecto"}),it.jsxs("div",{className:"space-y-3",children:[it.jsxs("div",{children:[it.jsx("label",{className:"block text-sm text-gray-300",children:"Nombre"}),it.jsx("input",{type:"text",className:"input w-full",value:c,onChange:x=>d(x.target.value)})]}),it.jsxs("div",{children:[it.jsx("label",{className:"block text-sm text-gray-300",children:"Descripcin"}),it.jsx("input",{type:"text",className:"input w-full",value:g,onChange:x=>y(x.target.value)})]})]}),it.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[it.jsx("button",{onClick:i,className:"px-3 py-1.5 rounded-md bg-gray-600 hover:bg-gray-500 text-white transition",children:"Cancelar"}),it.jsx("button",{onClick:A,disabled:S,className:"px-3 py-1.5 rounded-md bg-green-600 hover:bg-green-700 text-white transition disabled:opacity-60",children:S?"Guardando":"Guardar"})]})]})})}function Ky({id:o,name:t,description:e,isFavorite:i,onDelete:u,onUpdated:l,onToggleFavorite:c,onNotify:d}){const[g,y]=ot.useState(!1);return it.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-md p-5 flex justify-between items-center hover:bg-gray-750 transition",children:[it.jsxs("div",{children:[it.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[" ",t,it.jsx("button",{onClick:c,className:"ml-2 text-lg focus:outline-none hover:scale-110 transition",title:i?"Quitar de favoritos":"Marcar como favorito",children:i?"":""})]}),e?it.jsx("p",{className:"text-sm text-gray-400",children:e}):it.jsx("p",{className:"text-sm text-gray-600 italic",children:"Sin descripcin"})]}),it.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[it.jsx(Uc,{to:`/project/${o}`,className:"px-3 py-1.5 text-sm font-medium rounded-md bg-blue-600 hover:bg-blue-700 text-white transition",children:"Abrir"}),it.jsx("button",{onClick:()=>y(!0),className:"px-3 py-1.5 text-sm font-medium rounded-md border border-yellow-500 text-yellow-500 hover:bg-yellow-500 hover:text-white transition",children:" Editar"}),it.jsx("button",{onClick:()=>u(o),className:"px-3 py-1.5 text-sm font-medium rounded-md border border-red-500 text-red-500 hover:bg-red-500 hover:text-white transition",children:" Eliminar"})]}),g&&it.jsx(Zy,{id:o,initialName:t,initialDescription:e,onClose:()=>y(!1),onUpdated:l,onNotify:d})]})}function Jy({onProjectCreated:o,onNotify:t}){const[e,i]=ot.useState(""),[u,l]=ot.useState(""),[c,d]=ot.useState(!1);async function g(){if(!e){t?.(" El proyecto debe tener un nombre","error");return}d(!0);const{data:{user:y}}=await Aa.auth.getUser(),{error:S}=await Aa.from("projects").insert([{name:e,description:u,owner_id:y?.id}]);if(d(!1),S){t?.(" No se pudo crear el proyecto","error");return}i(""),l(""),o(),t?.(" Proyecto creado","success")}return it.jsxs("div",{className:"card space-y-4",children:[it.jsx("h2",{className:"subtitle",children:"Tus proyectos"}),it.jsx("input",{type:"text",placeholder:"Nombre del proyecto",value:e,onChange:y=>i(y.target.value),className:"input"}),it.jsx("input",{type:"text",placeholder:"Descripcin (ej: Capas base de Chile)",value:u,onChange:y=>l(y.target.value),className:"input"}),it.jsx("div",{className:"flex gap-3",children:it.jsx("button",{onClick:g,disabled:c,className:"btn btn-primary disabled:opacity-60",children:c?"Creando":"Crear y abrir"})})]})}function Yy({message:o,type:t="info",duration:e=3e3,onClose:i}){const[u,l]=ot.useState(!0);if(ot.useEffect(()=>{const y=setTimeout(()=>l(!1),e-300),S=setTimeout(()=>i&&i(),e);return()=>{clearTimeout(y),clearTimeout(S)}},[e,i]),!u)return null;const c="px-4 py-2 rounded-md shadow-md text-sm font-medium flex items-center gap-2 transition-opacity duration-300",d={success:"bg-green-600 text-white",error:"bg-red-600 text-white",info:"bg-blue-600 text-white"},g={success:"",error:"",info:""};return it.jsxs("div",{className:`${c} ${d[t]}`,children:[it.jsx("span",{children:g[t]}),it.jsx("span",{children:o})]})}function Xy({message:o,onConfirm:t,onCancel:e}){return it.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-60 z-50",children:it.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-sm p-6 space-y-4",children:[it.jsx("h2",{className:"text-lg font-semibold text-white",children:" Confirmar accin"}),it.jsx("p",{className:"text-gray-300",children:o}),it.jsxs("div",{className:"flex justify-end gap-3",children:[it.jsx("button",{onClick:e,className:"px-3 py-1.5 rounded-md bg-gray-600 hover:bg-gray-500 text-white transition",children:"Cancelar"}),it.jsx("button",{onClick:t,className:"px-3 py-1.5 rounded-md bg-red-600 hover:bg-red-700 text-white transition",children:"Eliminar"})]})]})})}function Qy({email:o}){const[t,e]=ot.useState([]),[i,u]=ot.useState(null),[l,c]=ot.useState(null),[d,g]=ot.useState("");function y(M,I="info"){u({msg:M,type:I})}async function S(){const{data:M,error:I}=await Aa.from("projects").select("id, name, description, owner_id, is_favorite").order("is_favorite",{ascending:!1}).order("created_at",{ascending:!1});if(I){y(" No se pudieron cargar los proyectos","error");return}M&&e(M)}async function E(M,I=!1){const{error:O}=await Aa.from("projects").update({is_favorite:!I}).eq("id",M);if(O){y(" No se pudo actualizar favorito","error");return}S(),y(I?" Proyecto quitado de favoritos":" Proyecto marcado como favorito","success")}async function A(M){const{error:I}=await Aa.from("projects").delete().eq("id",M);if(I){y(" Error al eliminar proyecto","error");return}e(O=>O.filter(W=>W.id!==M)),y(" Proyecto eliminado","success")}async function x(){await Aa.auth.signOut(),y(" Sesin cerrada","info"),setTimeout(()=>window.location.reload(),1e3)}ot.useEffect(()=>{S()},[]);const R=t.filter(M=>M.name.toLowerCase().includes(d.toLowerCase())||(M.description?.toLowerCase()||"").includes(d.toLowerCase()));return it.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-100 p-6 relative",children:[i&&it.jsx("div",{className:"fixed top-4 right-4 z-50",children:it.jsx(Yy,{message:i.msg,type:i.type,duration:3e3,onClose:()=>u(null)})}),it.jsxs("div",{className:"max-w-3xl mx-auto space-y-8",children:[it.jsxs("div",{className:"flex items-center justify-between",children:[it.jsxs("div",{children:[it.jsx("h1",{className:"title",children:"Sesin iniciada en Pudumaps"}),it.jsx("p",{className:"text-muted",children:o})]}),it.jsx("button",{onClick:x,className:"btn btn-danger",children:"Cerrar sesin"})]}),it.jsx(Jy,{onProjectCreated:()=>{S(),y(" Proyecto creado","success")},onNotify:y}),it.jsx("div",{children:it.jsx("input",{type:"text",placeholder:" Buscar proyectos...",value:d,onChange:M=>g(M.target.value),className:"input w-full"})}),it.jsxs("div",{className:"space-y-3",children:[R.map(M=>it.jsx(Ky,{id:M.id,name:M.name,description:M.description,isFavorite:M.is_favorite??!1,onDelete:I=>c(I),onUpdated:()=>{S(),y(" Proyecto actualizado","success")},onToggleFavorite:()=>E(M.id,M.is_favorite??!1),onNotify:y},M.id)),R.length===0&&it.jsx("p",{className:"text-muted text-center",children:"No se encontraron proyectos."})]})]}),l&&it.jsx(Xy,{message:"Seguro que deseas eliminar este proyecto?",onCancel:()=>c(null),onConfirm:()=>{A(l),c(null)}})]})}function e2({children:o,fallback:t}){const[e,i]=ot.useState(null),[u,l]=ot.useState(!0);return ot.useEffect(()=>{Aa.auth.getSession().then(({data:d})=>{i(d.session),l(!1)});const{data:{subscription:c}}=Aa.auth.onAuthStateChange((d,g)=>{i(g)});return()=>c.unsubscribe()},[]),u?it.jsx("div",{className:"flex min-h-screen items-center justify-center",children:it.jsx("div",{className:"bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-100 rounded-xl shadow p-6",children:"Cargando"})}):e?it.jsx(it.Fragment,{children:o(e)}):it.jsx(it.Fragment,{children:t})}function t2({projectId:o,onLayerAdded:t,onError:e}){const i=ot.useRef(null),[u,l]=ot.useState(!1);async function c(d){if(!d||d.length===0)return;const g=d[0];l(!0);try{const y=await g.text(),S=JSON.parse(y),{data:E,error:A}=await Aa.from("project_layers").insert({project_id:o,name:g.name.replace(/\.[^.]+$/,""),geojson:S}).select().single();if(A)throw A;const x={layer_id:E.id,color:"#3388ff",weight:2,opacity:1,fillColor:"#3388ff",fillOpacity:.2,radius:6};t?.(E,x)}catch(y){console.error(y),e?.(y.message||"No se pudo subir el archivo")}finally{l(!1)}}return it.jsxs("div",{className:"flex items-center gap-2",children:[it.jsx("input",{ref:i,type:"file",accept:".geojson,.json",className:"hidden",onChange:d=>c(d.target.files)}),it.jsx("button",{type:"button",onClick:()=>i.current?.click(),disabled:u,className:"w-full sm:w-auto px-3 sm:px-4 py-2 text-xs sm:text-sm bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium shadow disabled:opacity-60 transition",children:u?"Subiendo":" Subir GeoJSON/KMZ/KML"})]})}function n2({layers:o,visible:t,onToggleVisible:e,onZoom:i,onDelete:u}){return o.length===0?it.jsx("div",{className:"hint",children:"No hay capas todava. Sube una para empezar."}):it.jsx("div",{className:"layer-list",children:o.map(l=>it.jsxs("div",{className:"layer-item",children:[it.jsxs("label",{children:[it.jsx("input",{type:"checkbox",checked:t[l.id],onChange:()=>e(l.id)}),l.name]}),it.jsx("button",{onClick:()=>i(l),children:""}),it.jsx("button",{onClick:()=>u(l),children:""})]},l.id))})}function r2(o,t){const e=ot.useRef(t);ot.useEffect(function(){t!==e.current&&o.attributionControl!=null&&(e.current!=null&&o.attributionControl.removeAttribution(e.current),t!=null&&o.attributionControl.addAttribution(t)),e.current=t},[o,t])}const i2=1;function s2(o){return Object.freeze({__version:i2,map:o})}function zd(o,t){return Object.freeze({...o,...t})}const Zm=ot.createContext(null),Ud=Zm.Provider;function jh(){const o=ot.useContext(Zm);if(o==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return o}function Km(o){function t(e,i){const{instance:u,context:l}=o(e).current;return ot.useImperativeHandle(i,()=>u),e.children==null?null:Bh.createElement(Ud,{value:l},e.children)}return ot.forwardRef(t)}function Jm(o){function t(e,i){const{instance:u}=o(e).current;return ot.useImperativeHandle(i,()=>u),null}return ot.forwardRef(t)}function Ym(o){return function(e){const i=jh(),u=o(e,i),{instance:l}=u.current,c=ot.useRef(e.position),{position:d}=e;return ot.useEffect(function(){return l.addTo(i.map),function(){l.remove()}},[i.map,l]),ot.useEffect(function(){d!=null&&d!==c.current&&(l.setPosition(d),c.current=d)},[l,d]),u}}function Xm(o,t){const e=ot.useRef();ot.useEffect(function(){return t!=null&&o.instance.on(t),e.current=t,function(){e.current!=null&&o.instance.off(e.current),e.current=null}},[o,t])}function qc(o,t){const e=o.pane??t.pane;return e?{...o,pane:e}:o}var Ch={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var a2=Ch.exports,D0;function Qm(){return D0||(D0=1,(function(o,t){(function(e,i){i(t)})(a2,(function(e){var i="1.9.4";function u(r){var f,w,T,V;for(w=1,T=arguments.length;w<T;w++){V=arguments[w];for(f in V)r[f]=V[f]}return r}var l=Object.create||(function(){function r(){}return function(f){return r.prototype=f,new r}})();function c(r,f){var w=Array.prototype.slice;if(r.bind)return r.bind.apply(r,w.call(arguments,1));var T=w.call(arguments,2);return function(){return r.apply(f,T.length?T.concat(w.call(arguments)):arguments)}}var d=0;function g(r){return"_leaflet_id"in r||(r._leaflet_id=++d),r._leaflet_id}function y(r,f,w){var T,V,le,He;return He=function(){T=!1,V&&(le.apply(w,V),V=!1)},le=function(){T?V=arguments:(r.apply(w,arguments),setTimeout(He,f),T=!0)},le}function S(r,f,w){var T=f[1],V=f[0],le=T-V;return r===T&&w?r:((r-V)%le+le)%le+V}function E(){return!1}function A(r,f){if(f===!1)return r;var w=Math.pow(10,f===void 0?6:f);return Math.round(r*w)/w}function x(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function R(r){return x(r).split(/\s+/)}function M(r,f){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?l(r.options):{});for(var w in f)r.options[w]=f[w];return r.options}function I(r,f,w){var T=[];for(var V in r)T.push(encodeURIComponent(w?V.toUpperCase():V)+"="+encodeURIComponent(r[V]));return(!f||f.indexOf("?")===-1?"?":"&")+T.join("&")}var O=/\{ *([\w_ -]+) *\}/g;function W(r,f){return r.replace(O,function(w,T){var V=f[T];if(V===void 0)throw new Error("No value provided for variable "+w);return typeof V=="function"&&(V=V(f)),V})}var K=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function de(r,f){for(var w=0;w<r.length;w++)if(r[w]===f)return w;return-1}var ie="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function xe(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var Z=0;function Y(r){var f=+new Date,w=Math.max(0,16-(f-Z));return Z=f+w,window.setTimeout(r,w)}var me=window.requestAnimationFrame||xe("RequestAnimationFrame")||Y,Ne=window.cancelAnimationFrame||xe("CancelAnimationFrame")||xe("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function te(r,f,w){if(w&&me===Y)r.call(f);else return me.call(window,c(r,f))}function G(r){r&&Ne.call(window,r)}var ve={__proto__:null,extend:u,create:l,bind:c,get lastId(){return d},stamp:g,throttle:y,wrapNum:S,falseFn:E,formatNum:A,trim:x,splitWords:R,setOptions:M,getParamString:I,template:W,isArray:K,indexOf:de,emptyImageUrl:ie,requestFn:me,cancelFn:Ne,requestAnimFrame:te,cancelAnimFrame:G};function j(){}j.extend=function(r){var f=function(){M(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},w=f.__super__=this.prototype,T=l(w);T.constructor=f,f.prototype=T;for(var V in this)Object.prototype.hasOwnProperty.call(this,V)&&V!=="prototype"&&V!=="__super__"&&(f[V]=this[V]);return r.statics&&u(f,r.statics),r.includes&&(Ie(r.includes),u.apply(null,[T].concat(r.includes))),u(T,r),delete T.statics,delete T.includes,T.options&&(T.options=w.options?l(w.options):{},u(T.options,r.options)),T._initHooks=[],T.callInitHooks=function(){if(!this._initHooksCalled){w.callInitHooks&&w.callInitHooks.call(this),this._initHooksCalled=!0;for(var le=0,He=T._initHooks.length;le<He;le++)T._initHooks[le].call(this)}},f},j.include=function(r){var f=this.prototype.options;return u(this.prototype,r),r.options&&(this.prototype.options=f,this.mergeOptions(r.options)),this},j.mergeOptions=function(r){return u(this.prototype.options,r),this},j.addInitHook=function(r){var f=Array.prototype.slice.call(arguments,1),w=typeof r=="function"?r:function(){this[r].apply(this,f)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(w),this};function Ie(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=K(r)?r:[r];for(var f=0;f<r.length;f++)r[f]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ve={on:function(r,f,w){if(typeof r=="object")for(var T in r)this._on(T,r[T],f);else{r=R(r);for(var V=0,le=r.length;V<le;V++)this._on(r[V],f,w)}return this},off:function(r,f,w){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var T in r)this._off(T,r[T],f);else{r=R(r);for(var V=arguments.length===1,le=0,He=r.length;le<He;le++)V?this._off(r[le]):this._off(r[le],f,w)}return this},_on:function(r,f,w,T){if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}if(this._listens(r,f,w)===!1){w===this&&(w=void 0);var V={fn:f,ctx:w};T&&(V.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(V)}},_off:function(r,f,w){var T,V,le;if(this._events&&(T=this._events[r],!!T)){if(arguments.length===1){if(this._firingCount)for(V=0,le=T.length;V<le;V++)T[V].fn=E;delete this._events[r];return}if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}var He=this._listens(r,f,w);if(He!==!1){var mt=T[He];this._firingCount&&(mt.fn=E,this._events[r]=T=T.slice()),T.splice(He,1)}}},fire:function(r,f,w){if(!this.listens(r,w))return this;var T=u({},f,{type:r,target:this,sourceTarget:f&&f.sourceTarget||this});if(this._events){var V=this._events[r];if(V){this._firingCount=this._firingCount+1||1;for(var le=0,He=V.length;le<He;le++){var mt=V[le],xt=mt.fn;mt.once&&this.off(r,xt,mt.ctx),xt.call(mt.ctx||this,T)}this._firingCount--}}return w&&this._propagateEvent(T),this},listens:function(r,f,w,T){typeof r!="string"&&console.warn('"string" type argument expected');var V=f;typeof f!="function"&&(T=!!f,V=void 0,w=void 0);var le=this._events&&this._events[r];if(le&&le.length&&this._listens(r,V,w)!==!1)return!0;if(T){for(var He in this._eventParents)if(this._eventParents[He].listens(r,f,w,T))return!0}return!1},_listens:function(r,f,w){if(!this._events)return!1;var T=this._events[r]||[];if(!f)return!!T.length;w===this&&(w=void 0);for(var V=0,le=T.length;V<le;V++)if(T[V].fn===f&&T[V].ctx===w)return V;return!1},once:function(r,f,w){if(typeof r=="object")for(var T in r)this._on(T,r[T],f,!0);else{r=R(r);for(var V=0,le=r.length;V<le;V++)this._on(r[V],f,w,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[g(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[g(r)],this},_propagateEvent:function(r){for(var f in this._eventParents)this._eventParents[f].fire(r.type,u({layer:r.target,propagatedFrom:r.target},r),!0)}};Ve.addEventListener=Ve.on,Ve.removeEventListener=Ve.clearAllEventListeners=Ve.off,Ve.addOneTimeEventListener=Ve.once,Ve.fireEvent=Ve.fire,Ve.hasEventListeners=Ve.listens;var Fe=j.extend(Ve);function Le(r,f,w){this.x=w?Math.round(r):r,this.y=w?Math.round(f):f}var Ae=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};Le.prototype={clone:function(){return new Le(this.x,this.y)},add:function(r){return this.clone()._add(Pe(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(Pe(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new Le(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new Le(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ae(this.x),this.y=Ae(this.y),this},distanceTo:function(r){r=Pe(r);var f=r.x-this.x,w=r.y-this.y;return Math.sqrt(f*f+w*w)},equals:function(r){return r=Pe(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=Pe(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+A(this.x)+", "+A(this.y)+")"}};function Pe(r,f,w){return r instanceof Le?r:K(r)?new Le(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new Le(r.x,r.y):new Le(r,f,w)}function re(r,f){if(r)for(var w=f?[r,f]:r,T=0,V=w.length;T<V;T++)this.extend(w[T])}re.prototype={extend:function(r){var f,w;if(!r)return this;if(r instanceof Le||typeof r[0]=="number"||"x"in r)f=w=Pe(r);else if(r=F(r),f=r.min,w=r.max,!f||!w)return this;return!this.min&&!this.max?(this.min=f.clone(),this.max=w.clone()):(this.min.x=Math.min(f.x,this.min.x),this.max.x=Math.max(w.x,this.max.x),this.min.y=Math.min(f.y,this.min.y),this.max.y=Math.max(w.y,this.max.y)),this},getCenter:function(r){return Pe((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return Pe(this.min.x,this.max.y)},getTopRight:function(){return Pe(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var f,w;return typeof r[0]=="number"||r instanceof Le?r=Pe(r):r=F(r),r instanceof re?(f=r.min,w=r.max):f=w=r,f.x>=this.min.x&&w.x<=this.max.x&&f.y>=this.min.y&&w.y<=this.max.y},intersects:function(r){r=F(r);var f=this.min,w=this.max,T=r.min,V=r.max,le=V.x>=f.x&&T.x<=w.x,He=V.y>=f.y&&T.y<=w.y;return le&&He},overlaps:function(r){r=F(r);var f=this.min,w=this.max,T=r.min,V=r.max,le=V.x>f.x&&T.x<w.x,He=V.y>f.y&&T.y<w.y;return le&&He},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var f=this.min,w=this.max,T=Math.abs(f.x-w.x)*r,V=Math.abs(f.y-w.y)*r;return F(Pe(f.x-T,f.y-V),Pe(w.x+T,w.y+V))},equals:function(r){return r?(r=F(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function F(r,f){return!r||r instanceof re?r:new re(r,f)}function he(r,f){if(r)for(var w=f?[r,f]:r,T=0,V=w.length;T<V;T++)this.extend(w[T])}he.prototype={extend:function(r){var f=this._southWest,w=this._northEast,T,V;if(r instanceof pe)T=r,V=r;else if(r instanceof he){if(T=r._southWest,V=r._northEast,!T||!V)return this}else return r?this.extend(Be(r)||fe(r)):this;return!f&&!w?(this._southWest=new pe(T.lat,T.lng),this._northEast=new pe(V.lat,V.lng)):(f.lat=Math.min(T.lat,f.lat),f.lng=Math.min(T.lng,f.lng),w.lat=Math.max(V.lat,w.lat),w.lng=Math.max(V.lng,w.lng)),this},pad:function(r){var f=this._southWest,w=this._northEast,T=Math.abs(f.lat-w.lat)*r,V=Math.abs(f.lng-w.lng)*r;return new he(new pe(f.lat-T,f.lng-V),new pe(w.lat+T,w.lng+V))},getCenter:function(){return new pe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new pe(this.getNorth(),this.getWest())},getSouthEast:function(){return new pe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof pe||"lat"in r?r=Be(r):r=fe(r);var f=this._southWest,w=this._northEast,T,V;return r instanceof he?(T=r.getSouthWest(),V=r.getNorthEast()):T=V=r,T.lat>=f.lat&&V.lat<=w.lat&&T.lng>=f.lng&&V.lng<=w.lng},intersects:function(r){r=fe(r);var f=this._southWest,w=this._northEast,T=r.getSouthWest(),V=r.getNorthEast(),le=V.lat>=f.lat&&T.lat<=w.lat,He=V.lng>=f.lng&&T.lng<=w.lng;return le&&He},overlaps:function(r){r=fe(r);var f=this._southWest,w=this._northEast,T=r.getSouthWest(),V=r.getNorthEast(),le=V.lat>f.lat&&T.lat<w.lat,He=V.lng>f.lng&&T.lng<w.lng;return le&&He},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,f){return r?(r=fe(r),this._southWest.equals(r.getSouthWest(),f)&&this._northEast.equals(r.getNorthEast(),f)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function fe(r,f){return r instanceof he?r:new he(r,f)}function pe(r,f,w){if(isNaN(r)||isNaN(f))throw new Error("Invalid LatLng object: ("+r+", "+f+")");this.lat=+r,this.lng=+f,w!==void 0&&(this.alt=+w)}pe.prototype={equals:function(r,f){if(!r)return!1;r=Be(r);var w=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return w<=(f===void 0?1e-9:f)},toString:function(r){return"LatLng("+A(this.lat,r)+", "+A(this.lng,r)+")"},distanceTo:function(r){return We.distance(this,Be(r))},wrap:function(){return We.wrapLatLng(this)},toBounds:function(r){var f=180*r/40075017,w=f/Math.cos(Math.PI/180*this.lat);return fe([this.lat-f,this.lng-w],[this.lat+f,this.lng+w])},clone:function(){return new pe(this.lat,this.lng,this.alt)}};function Be(r,f,w){return r instanceof pe?r:K(r)&&typeof r[0]!="object"?r.length===3?new pe(r[0],r[1],r[2]):r.length===2?new pe(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new pe(r.lat,"lng"in r?r.lng:r.lon,r.alt):f===void 0?null:new pe(r,f,w)}var Ke={latLngToPoint:function(r,f){var w=this.projection.project(r),T=this.scale(f);return this.transformation._transform(w,T)},pointToLatLng:function(r,f){var w=this.scale(f),T=this.transformation.untransform(r,w);return this.projection.unproject(T)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var f=this.projection.bounds,w=this.scale(r),T=this.transformation.transform(f.min,w),V=this.transformation.transform(f.max,w);return new re(T,V)},infinite:!1,wrapLatLng:function(r){var f=this.wrapLng?S(r.lng,this.wrapLng,!0):r.lng,w=this.wrapLat?S(r.lat,this.wrapLat,!0):r.lat,T=r.alt;return new pe(w,f,T)},wrapLatLngBounds:function(r){var f=r.getCenter(),w=this.wrapLatLng(f),T=f.lat-w.lat,V=f.lng-w.lng;if(T===0&&V===0)return r;var le=r.getSouthWest(),He=r.getNorthEast(),mt=new pe(le.lat-T,le.lng-V),xt=new pe(He.lat-T,He.lng-V);return new he(mt,xt)}},We=u({},Ke,{wrapLng:[-180,180],R:6371e3,distance:function(r,f){var w=Math.PI/180,T=r.lat*w,V=f.lat*w,le=Math.sin((f.lat-r.lat)*w/2),He=Math.sin((f.lng-r.lng)*w/2),mt=le*le+Math.cos(T)*Math.cos(V)*He*He,xt=2*Math.atan2(Math.sqrt(mt),Math.sqrt(1-mt));return this.R*xt}}),Ye=6378137,Tt={R:Ye,MAX_LATITUDE:85.0511287798,project:function(r){var f=Math.PI/180,w=this.MAX_LATITUDE,T=Math.max(Math.min(w,r.lat),-w),V=Math.sin(T*f);return new Le(this.R*r.lng*f,this.R*Math.log((1+V)/(1-V))/2)},unproject:function(r){var f=180/Math.PI;return new pe((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*f,r.x*f/this.R)},bounds:(function(){var r=Ye*Math.PI;return new re([-r,-r],[r,r])})()};function Ot(r,f,w,T){if(K(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=f,this._c=w,this._d=T}Ot.prototype={transform:function(r,f){return this._transform(r.clone(),f)},_transform:function(r,f){return f=f||1,r.x=f*(this._a*r.x+this._b),r.y=f*(this._c*r.y+this._d),r},untransform:function(r,f){return f=f||1,new Le((r.x/f-this._b)/this._a,(r.y/f-this._d)/this._c)}};function Gt(r,f,w,T){return new Ot(r,f,w,T)}var qt=u({},We,{code:"EPSG:3857",projection:Tt,transformation:(function(){var r=.5/(Math.PI*Tt.R);return Gt(r,.5,-r,.5)})()}),$=u({},qt,{code:"EPSG:900913"});function je(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function oe(r,f){var w="",T,V,le,He,mt,xt;for(T=0,le=r.length;T<le;T++){for(mt=r[T],V=0,He=mt.length;V<He;V++)xt=mt[V],w+=(V?"L":"M")+xt.x+" "+xt.y;w+=f?Kt.svg?"z":"x":""}return w||"M0 0"}var Ee=document.documentElement.style,we="ActiveXObject"in window,Te=we&&!document.addEventListener,st="msLaunchUri"in navigator&&!("documentMode"in document),ht=$n("webkit"),qe=$n("android"),Lt=$n("android 2")||$n("android 3"),It=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Bt=qe&&$n("Google")&&It<537&&!("AudioNode"in window),Ut=!!window.opera,an=!st&&$n("chrome"),tn=$n("gecko")&&!ht&&!Ut&&!we,on=!an&&$n("safari"),wn=$n("phantom"),Vt="OTransition"in Ee,ur=navigator.platform.indexOf("Win")===0,cn=we&&"transition"in Ee,Dr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Lt,zn="MozPerspective"in Ee,jn=!window.L_DISABLE_3D&&(cn||Dr||zn)&&!Vt&&!wn,Ar=typeof orientation<"u"||$n("mobile"),Wn=Ar&&ht,Ps=Ar&&Dr,ar=!window.PointerEvent&&window.MSPointerEvent,Ir=!!(window.PointerEvent||ar),Mr="ontouchstart"in window||!!window.TouchEvent,or=!window.L_NO_TOUCH&&(Mr||Ir),En=Ar&&Ut,Yn=Ar&&tn,ma=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Zr=(function(){var r=!1;try{var f=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",E,f),window.removeEventListener("testPassiveEventSupport",E,f)}catch{}return r})(),cs=(function(){return!!document.createElement("canvas").getContext})(),Zi=!!(document.createElementNS&&je("svg").createSVGRect),dn=!!Zi&&(function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Ki=!Zi&&(function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var f=r.firstChild;return f.style.behavior="url(#default#VML)",f&&typeof f.adj=="object"}catch{return!1}})(),Ii=navigator.platform.indexOf("Mac")===0,Ri=navigator.platform.indexOf("Linux")===0;function $n(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var Kt={ie:we,ielt9:Te,edge:st,webkit:ht,android:qe,android23:Lt,androidStock:Bt,opera:Ut,chrome:an,gecko:tn,safari:on,phantom:wn,opera12:Vt,win:ur,ie3d:cn,webkit3d:Dr,gecko3d:zn,any3d:jn,mobile:Ar,mobileWebkit:Wn,mobileWebkit3d:Ps,msPointer:ar,pointer:Ir,touch:or,touchNative:Mr,mobileOpera:En,mobileGecko:Yn,retina:ma,passiveEvents:Zr,canvas:cs,svg:Zi,vml:Ki,inlineSvg:dn,mac:Ii,linux:Ri},ii=Kt.msPointer?"MSPointerDown":"pointerdown",ga=Kt.msPointer?"MSPointerMove":"pointermove",As=Kt.msPointer?"MSPointerUp":"pointerup",fs=Kt.msPointer?"MSPointerCancel":"pointercancel",Ji={touchstart:ii,touchmove:ga,touchend:As,touchcancel:fs},Kr={touchstart:wr,touchmove:eo,touchend:eo,touchcancel:eo},gi={},Fi=!1;function qs(r,f,w){return f==="touchstart"&&Ba(),Kr[f]?(w=Kr[f].bind(this,w),r.addEventListener(Ji[f],w,!1),w):(console.warn("wrong event specified:",f),E)}function Ma(r,f,w){if(!Ji[f]){console.warn("wrong event specified:",f);return}r.removeEventListener(Ji[f],w,!1)}function Xa(r){gi[r.pointerId]=r}function Qa(r){gi[r.pointerId]&&(gi[r.pointerId]=r)}function Gs(r){delete gi[r.pointerId]}function Ba(){Fi||(document.addEventListener(ii,Xa,!0),document.addEventListener(ga,Qa,!0),document.addEventListener(As,Gs,!0),document.addEventListener(fs,Gs,!0),Fi=!0)}function eo(r,f){if(f.pointerType!==(f.MSPOINTER_TYPE_MOUSE||"mouse")){f.touches=[];for(var w in gi)f.touches.push(gi[w]);f.changedTouches=[f],r(f)}}function wr(r,f){f.MSPOINTER_TYPE_TOUCH&&f.pointerType===f.MSPOINTER_TYPE_TOUCH&&gr(f),eo(r,f)}function wl(r){var f={},w,T;for(T in r)w=r[T],f[T]=w&&w.bind?w.bind(r):w;return r=f,f.type="dblclick",f.detail=2,f.isTrusted=!1,f._simulated=!0,f}var Ta=200;function Io(r,f){r.addEventListener("dblclick",f);var w=0,T;function V(le){if(le.detail!==1){T=le.detail;return}if(!(le.pointerType==="mouse"||le.sourceCapabilities&&!le.sourceCapabilities.firesTouchEvents)){var He=zi(le);if(!(He.some(function(xt){return xt instanceof HTMLLabelElement&&xt.attributes.for})&&!He.some(function(xt){return xt instanceof HTMLInputElement||xt instanceof HTMLSelectElement}))){var mt=Date.now();mt-w<=Ta?(T++,T===2&&f(wl(le))):T=1,w=mt}}}return r.addEventListener("click",V),{dblclick:f,simDblclick:V}}function _o(r,f){r.removeEventListener("dblclick",f.dblclick),r.removeEventListener("click",f.simDblclick)}var to=Ra(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Na=Ra(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Oa=Na==="webkitTransition"||Na==="OTransition"?Na+"End":"transitionend";function Yi(r){return typeof r=="string"?document.getElementById(r):r}function Xi(r,f){var w=r.style[f]||r.currentStyle&&r.currentStyle[f];if((!w||w==="auto")&&document.defaultView){var T=document.defaultView.getComputedStyle(r,null);w=T?T[f]:null}return w==="auto"?null:w}function An(r,f,w){var T=document.createElement(r);return T.className=f||"",w&&w.appendChild(T),T}function Mn(r){var f=r.parentNode;f&&f.removeChild(r)}function Da(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function _a(r){var f=r.parentNode;f&&f.lastChild!==r&&f.appendChild(r)}function Qi(r){var f=r.parentNode;f&&f.firstChild!==r&&f.insertBefore(r,f.firstChild)}function Hs(r,f){if(r.classList!==void 0)return r.classList.contains(f);var w=si(r);return w.length>0&&new RegExp("(^|\\s)"+f+"(\\s|$)").test(w)}function Ln(r,f){if(r.classList!==void 0)for(var w=R(f),T=0,V=w.length;T<V;T++)r.classList.add(w[T]);else if(!Hs(r,f)){var le=si(r);Ia(r,(le?le+" ":"")+f)}}function Vn(r,f){r.classList!==void 0?r.classList.remove(f):Ia(r,x((" "+si(r)+" ").replace(" "+f+" "," ")))}function Ia(r,f){r.className.baseVal===void 0?r.className=f:r.className.baseVal=f}function si(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function Jr(r,f){"opacity"in r.style?r.style.opacity=f:"filter"in r.style&&Ro(r,f)}function Ro(r,f){var w=!1,T="DXImageTransform.Microsoft.Alpha";try{w=r.filters.item(T)}catch{if(f===1)return}f=Math.round(f*100),w?(w.Enabled=f!==100,w.Opacity=f):r.style.filter+=" progid:"+T+"(opacity="+f+")"}function Ra(r){for(var f=document.documentElement.style,w=0;w<r.length;w++)if(r[w]in f)return r[w];return!1}function ji(r,f,w){var T=f||new Le(0,0);r.style[to]=(Kt.ie3d?"translate("+T.x+"px,"+T.y+"px)":"translate3d("+T.x+"px,"+T.y+"px,0)")+(w?" scale("+w+")":"")}function kr(r,f){r._leaflet_pos=f,Kt.any3d?ji(r,f):(r.style.left=f.x+"px",r.style.top=f.y+"px")}function ds(r){return r._leaflet_pos||new Le(0,0)}var Gn,Ws,vo;if("onselectstart"in document)Gn=function(){xn(window,"selectstart",gr)},Ws=function(){Hn(window,"selectstart",gr)};else{var Vs=Ra(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Gn=function(){if(Vs){var r=document.documentElement.style;vo=r[Vs],r[Vs]="none"}},Ws=function(){Vs&&(document.documentElement.style[Vs]=vo,vo=void 0)}}function yo(){xn(window,"dragstart",gr)}function ps(){Hn(window,"dragstart",gr)}var $s,Zs;function va(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(dr(),$s=r,Zs=r.style.outlineStyle,r.style.outlineStyle="none",xn(window,"keydown",dr))}function dr(){$s&&($s.style.outlineStyle=Zs,$s=void 0,Zs=void 0,Hn(window,"keydown",dr))}function Ms(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function es(r){var f=r.getBoundingClientRect();return{x:f.width/r.offsetWidth||1,y:f.height/r.offsetHeight||1,boundingClientRect:f}}var bn={__proto__:null,TRANSFORM:to,TRANSITION:Na,TRANSITION_END:Oa,get:Yi,getStyle:Xi,create:An,remove:Mn,empty:Da,toFront:_a,toBack:Qi,hasClass:Hs,addClass:Ln,removeClass:Vn,setClass:Ia,getClass:si,setOpacity:Jr,testProp:Ra,setTransform:ji,setPosition:kr,getPosition:ds,get disableTextSelection(){return Gn},get enableTextSelection(){return Ws},disableImageDrag:yo,enableImageDrag:ps,preventOutline:va,restoreOutline:dr,getSizedParentNode:Ms,getScale:es};function xn(r,f,w,T){if(f&&typeof f=="object")for(var V in f)Fa(r,V,f[V],w);else{f=R(f);for(var le=0,He=f.length;le<He;le++)Fa(r,f[le],w,T)}return this}var zr="_leaflet_events";function Hn(r,f,w,T){if(arguments.length===1)wo(r),delete r[zr];else if(f&&typeof f=="object")for(var V in f)ts(r,V,f[V],w);else if(f=R(f),arguments.length===2)wo(r,function(mt){return de(f,mt)!==-1});else for(var le=0,He=f.length;le<He;le++)ts(r,f[le],w,T);return this}function wo(r,f){for(var w in r[zr]){var T=w.split(/\d/)[0];(!f||f(T))&&ts(r,T,null,null,w)}}var Ks={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Fa(r,f,w,T){var V=f+g(w)+(T?"_"+g(T):"");if(r[zr]&&r[zr][V])return this;var le=function(mt){return w.call(T||r,mt||window.event)},He=le;!Kt.touchNative&&Kt.pointer&&f.indexOf("touch")===0?le=qs(r,f,le):Kt.touch&&f==="dblclick"?le=Io(r,le):"addEventListener"in r?f==="touchstart"||f==="touchmove"||f==="wheel"||f==="mousewheel"?r.addEventListener(Ks[f]||f,le,Kt.passiveEvents?{passive:!1}:!1):f==="mouseenter"||f==="mouseleave"?(le=function(mt){mt=mt||window.event,Js(r,mt)&&He(mt)},r.addEventListener(Ks[f],le,!1)):r.addEventListener(f,He,!1):r.attachEvent("on"+f,le),r[zr]=r[zr]||{},r[zr][V]=le}function ts(r,f,w,T,V){V=V||f+g(w)+(T?"_"+g(T):"");var le=r[zr]&&r[zr][V];if(!le)return this;!Kt.touchNative&&Kt.pointer&&f.indexOf("touch")===0?Ma(r,f,le):Kt.touch&&f==="dblclick"?_o(r,le):"removeEventListener"in r?r.removeEventListener(Ks[f]||f,le,!1):r.detachEvent("on"+f,le),r[zr][V]=null}function ms(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function bo(r){return Fa(r,"wheel",ms),this}function no(r){return xn(r,"mousedown touchstart dblclick contextmenu",ms),r._leaflet_disable_click=!0,this}function gr(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function ai(r){return gr(r),ms(r),this}function zi(r){if(r.composedPath)return r.composedPath();for(var f=[],w=r.target;w;)f.push(w),w=w.parentNode;return f}function ro(r,f){if(!f)return new Le(r.clientX,r.clientY);var w=es(f),T=w.boundingClientRect;return new Le((r.clientX-T.left)/w.x-f.clientLeft,(r.clientY-T.top)/w.y-f.clientTop)}var io=Kt.linux&&Kt.chrome?window.devicePixelRatio:Kt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function xo(r){return Kt.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/io:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function Js(r,f){var w=f.relatedTarget;if(!w)return!0;try{for(;w&&w!==r;)w=w.parentNode}catch{return!1}return w!==r}var Ys={__proto__:null,on:xn,off:Hn,stopPropagation:ms,disableScrollPropagation:bo,disableClickPropagation:no,preventDefault:gr,stop:ai,getPropagationPath:zi,getMousePosition:ro,getWheelDelta:xo,isExternalTarget:Js,addListener:xn,removeListener:Hn},so=Fe.extend({run:function(r,f,w,T){this.stop(),this._el=r,this._inProgress=!0,this._duration=w||.25,this._easeOutPower=1/Math.max(T||.5,.2),this._startPos=ds(r),this._offset=f.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=te(this._animate,this),this._step()},_step:function(r){var f=+new Date-this._startTime,w=this._duration*1e3;f<w?this._runFrame(this._easeOut(f/w),r):(this._runFrame(1),this._complete())},_runFrame:function(r,f){var w=this._startPos.add(this._offset.multiplyBy(r));f&&w._round(),kr(this._el,w),this.fire("step")},_complete:function(){G(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),In=Fe.extend({options:{crs:qt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,f){f=M(this,f),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),f.maxBounds&&this.setMaxBounds(f.maxBounds),f.zoom!==void 0&&(this._zoom=this._limitZoom(f.zoom)),f.center&&f.zoom!==void 0&&this.setView(Be(f.center),f.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Na&&Kt.any3d&&!Kt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),xn(this._proxy,Oa,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,f,w){if(f=f===void 0?this._zoom:this._limitZoom(f),r=this._limitCenter(Be(r),f,this.options.maxBounds),w=w||{},this._stop(),this._loaded&&!w.reset&&w!==!0){w.animate!==void 0&&(w.zoom=u({animate:w.animate},w.zoom),w.pan=u({animate:w.animate,duration:w.duration},w.pan));var T=this._zoom!==f?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,f,w.zoom):this._tryAnimatedPan(r,w.pan);if(T)return clearTimeout(this._sizeTimer),this}return this._resetView(r,f,w.pan&&w.pan.noMoveStart),this},setZoom:function(r,f){return this._loaded?this.setView(this.getCenter(),r,{zoom:f}):(this._zoom=r,this)},zoomIn:function(r,f){return r=r||(Kt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,f)},zoomOut:function(r,f){return r=r||(Kt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,f)},setZoomAround:function(r,f,w){var T=this.getZoomScale(f),V=this.getSize().divideBy(2),le=r instanceof Le?r:this.latLngToContainerPoint(r),He=le.subtract(V).multiplyBy(1-1/T),mt=this.containerPointToLatLng(V.add(He));return this.setView(mt,f,{zoom:w})},_getBoundsCenterZoom:function(r,f){f=f||{},r=r.getBounds?r.getBounds():fe(r);var w=Pe(f.paddingTopLeft||f.padding||[0,0]),T=Pe(f.paddingBottomRight||f.padding||[0,0]),V=this.getBoundsZoom(r,!1,w.add(T));if(V=typeof f.maxZoom=="number"?Math.min(f.maxZoom,V):V,V===1/0)return{center:r.getCenter(),zoom:V};var le=T.subtract(w).divideBy(2),He=this.project(r.getSouthWest(),V),mt=this.project(r.getNorthEast(),V),xt=this.unproject(He.add(mt).divideBy(2).add(le),V);return{center:xt,zoom:V}},fitBounds:function(r,f){if(r=fe(r),!r.isValid())throw new Error("Bounds are not valid.");var w=this._getBoundsCenterZoom(r,f);return this.setView(w.center,w.zoom,f)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,f){return this.setView(r,this._zoom,{pan:f})},panBy:function(r,f){if(r=Pe(r).round(),f=f||{},!r.x&&!r.y)return this.fire("moveend");if(f.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new so,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),f.noMoveStart||this.fire("movestart"),f.animate!==!1){Ln(this._mapPane,"leaflet-pan-anim");var w=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,w,f.duration||.25,f.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,f,w){if(w=w||{},w.animate===!1||!Kt.any3d)return this.setView(r,f,w);this._stop();var T=this.project(this.getCenter()),V=this.project(r),le=this.getSize(),He=this._zoom;r=Be(r),f=f===void 0?He:f;var mt=Math.max(le.x,le.y),xt=mt*this.getZoomScale(He,f),Rt=V.distanceTo(T)||1,Yt=1.42,pn=Yt*Yt;function On(Un){var ni=Un?-1:1,nu=Un?xt:mt,aa=xt*xt-mt*mt+ni*pn*pn*Rt*Rt,Wa=2*nu*pn*Rt,js=aa/Wa,La=Math.sqrt(js*js+1)-js,Ho=La<1e-9?-18:Math.log(La);return Ho}function di(Un){return(Math.exp(Un)-Math.exp(-Un))/2}function Wr(Un){return(Math.exp(Un)+Math.exp(-Un))/2}function Pi(Un){return di(Un)/Wr(Un)}var Pr=On(0);function ia(Un){return mt*(Wr(Pr)/Wr(Pr+Yt*Un))}function Go(Un){return mt*(Wr(Pr)*Pi(Pr+Yt*Un)-di(Pr))/pn}function ei(Un){return 1-Math.pow(1-Un,1.5)}var os=Date.now(),ti=(On(1)-Pr)/Yt,sa=w.duration?1e3*w.duration:1e3*ti*.8;function ho(){var Un=(Date.now()-os)/sa,ni=ei(Un)*ti;Un<=1?(this._flyToFrame=te(ho,this),this._move(this.unproject(T.add(V.subtract(T).multiplyBy(Go(ni)/Rt)),He),this.getScaleZoom(mt/ia(ni),He),{flyTo:!0})):this._move(r,f)._moveEnd(!0)}return this._moveStart(!0,w.noMoveStart),ho.call(this),this},flyToBounds:function(r,f){var w=this._getBoundsCenterZoom(r,f);return this.flyTo(w.center,w.zoom,f)},setMaxBounds:function(r){return r=fe(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var f=this.options.minZoom;return this.options.minZoom=r,this._loaded&&f!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var f=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&f!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,f){this._enforcingBounds=!0;var w=this.getCenter(),T=this._limitCenter(w,this._zoom,fe(r));return w.equals(T)||this.panTo(T,f),this._enforcingBounds=!1,this},panInside:function(r,f){f=f||{};var w=Pe(f.paddingTopLeft||f.padding||[0,0]),T=Pe(f.paddingBottomRight||f.padding||[0,0]),V=this.project(this.getCenter()),le=this.project(r),He=this.getPixelBounds(),mt=F([He.min.add(w),He.max.subtract(T)]),xt=mt.getSize();if(!mt.contains(le)){this._enforcingBounds=!0;var Rt=le.subtract(mt.getCenter()),Yt=mt.extend(le).getSize().subtract(xt);V.x+=Rt.x<0?-Yt.x:Yt.x,V.y+=Rt.y<0?-Yt.y:Yt.y,this.panTo(this.unproject(V),f),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=u({animate:!1,pan:!0},r===!0?{animate:!0}:r);var f=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var w=this.getSize(),T=f.divideBy(2).round(),V=w.divideBy(2).round(),le=T.subtract(V);return!le.x&&!le.y?this:(r.animate&&r.pan?this.panBy(le):(r.pan&&this._rawPanBy(le),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:f,newSize:w}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=u({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var f=c(this._handleGeolocationResponse,this),w=c(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(f,w,r):navigator.geolocation.getCurrentPosition(f,w,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var f=r.code,w=r.message||(f===1?"permission denied":f===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:f,message:"Geolocation error: "+w+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var f=r.coords.latitude,w=r.coords.longitude,T=new pe(f,w),V=T.toBounds(r.coords.accuracy*2),le=this._locateOptions;if(le.setView){var He=this.getBoundsZoom(V);this.setView(T,le.maxZoom?Math.min(He,le.maxZoom):He)}var mt={latlng:T,bounds:V,timestamp:r.timestamp};for(var xt in r.coords)typeof r.coords[xt]=="number"&&(mt[xt]=r.coords[xt]);this.fire("locationfound",mt)}},addHandler:function(r,f){if(!f)return this;var w=this[r]=new f(this);return this._handlers.push(w),this.options[r]&&w.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Mn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(G(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)Mn(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,f){var w="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),T=An("div",w,f||this._mapPane);return r&&(this._panes[r]=T),T},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),f=this.unproject(r.getBottomLeft()),w=this.unproject(r.getTopRight());return new he(f,w)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,f,w){r=fe(r),w=Pe(w||[0,0]);var T=this.getZoom()||0,V=this.getMinZoom(),le=this.getMaxZoom(),He=r.getNorthWest(),mt=r.getSouthEast(),xt=this.getSize().subtract(w),Rt=F(this.project(mt,T),this.project(He,T)).getSize(),Yt=Kt.any3d?this.options.zoomSnap:1,pn=xt.x/Rt.x,On=xt.y/Rt.y,di=f?Math.max(pn,On):Math.min(pn,On);return T=this.getScaleZoom(di,T),Yt&&(T=Math.round(T/(Yt/100))*(Yt/100),T=f?Math.ceil(T/Yt)*Yt:Math.floor(T/Yt)*Yt),Math.max(V,Math.min(le,T))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Le(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,f){var w=this._getTopLeftPoint(r,f);return new re(w,w.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,f){var w=this.options.crs;return f=f===void 0?this._zoom:f,w.scale(r)/w.scale(f)},getScaleZoom:function(r,f){var w=this.options.crs;f=f===void 0?this._zoom:f;var T=w.zoom(r*w.scale(f));return isNaN(T)?1/0:T},project:function(r,f){return f=f===void 0?this._zoom:f,this.options.crs.latLngToPoint(Be(r),f)},unproject:function(r,f){return f=f===void 0?this._zoom:f,this.options.crs.pointToLatLng(Pe(r),f)},layerPointToLatLng:function(r){var f=Pe(r).add(this.getPixelOrigin());return this.unproject(f)},latLngToLayerPoint:function(r){var f=this.project(Be(r))._round();return f._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(Be(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(fe(r))},distance:function(r,f){return this.options.crs.distance(Be(r),Be(f))},containerPointToLayerPoint:function(r){return Pe(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return Pe(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var f=this.containerPointToLayerPoint(Pe(r));return this.layerPointToLatLng(f)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Be(r)))},mouseEventToContainerPoint:function(r){return ro(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var f=this._container=Yi(r);if(f){if(f._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");xn(f,"scroll",this._onScroll,this),this._containerId=g(f)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&Kt.any3d,Ln(r,"leaflet-container"+(Kt.touch?" leaflet-touch":"")+(Kt.retina?" leaflet-retina":"")+(Kt.ielt9?" leaflet-oldie":"")+(Kt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var f=Xi(r,"position");f!=="absolute"&&f!=="relative"&&f!=="fixed"&&f!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),kr(this._mapPane,new Le(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ln(r.markerPane,"leaflet-zoom-hide"),Ln(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,f,w){kr(this._mapPane,new Le(0,0));var T=!this._loaded;this._loaded=!0,f=this._limitZoom(f),this.fire("viewprereset");var V=this._zoom!==f;this._moveStart(V,w)._move(r,f)._moveEnd(V),this.fire("viewreset"),T&&this.fire("load")},_moveStart:function(r,f){return r&&this.fire("zoomstart"),f||this.fire("movestart"),this},_move:function(r,f,w,T){f===void 0&&(f=this._zoom);var V=this._zoom!==f;return this._zoom=f,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),T?w&&w.pinch&&this.fire("zoom",w):((V||w&&w.pinch)&&this.fire("zoom",w),this.fire("move",w)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return G(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){kr(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[g(this._container)]=this;var f=r?Hn:xn;f(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&f(window,"resize",this._onResize,this),Kt.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){G(this._resizeRequest),this._resizeRequest=te(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,f){for(var w=[],T,V=f==="mouseout"||f==="mouseover",le=r.target||r.srcElement,He=!1;le;){if(T=this._targets[g(le)],T&&(f==="click"||f==="preclick")&&this._draggableMoved(T)){He=!0;break}if(T&&T.listens(f,!0)&&(V&&!Js(le,r)||(w.push(T),V))||le===this._container)break;le=le.parentNode}return!w.length&&!He&&!V&&this.listens(f,!0)&&(w=[this]),w},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var f=r.target||r.srcElement;if(!(!this._loaded||f._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(f))){var w=r.type;w==="mousedown"&&va(f),this._fireDOMEvent(r,w)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,f,w){if(r.type==="click"){var T=u({},r);T.type="preclick",this._fireDOMEvent(T,T.type,w)}var V=this._findEventTargets(r,f);if(w){for(var le=[],He=0;He<w.length;He++)w[He].listens(f,!0)&&le.push(w[He]);V=le.concat(V)}if(V.length){f==="contextmenu"&&gr(r);var mt=V[0],xt={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var Rt=mt.getLatLng&&(!mt._radius||mt._radius<=10);xt.containerPoint=Rt?this.latLngToContainerPoint(mt.getLatLng()):this.mouseEventToContainerPoint(r),xt.layerPoint=this.containerPointToLayerPoint(xt.containerPoint),xt.latlng=Rt?mt.getLatLng():this.layerPointToLatLng(xt.layerPoint)}for(He=0;He<V.length;He++)if(V[He].fire(f,xt,!0),xt.originalEvent._stopped||V[He].options.bubblingMouseEvents===!1&&de(this._mouseEvents,f)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,f=this._handlers.length;r<f;r++)this._handlers[r].disable()},whenReady:function(r,f){return this._loaded?r.call(f||this,{target:this}):this.on("load",r,f),this},_getMapPanePos:function(){return ds(this._mapPane)||new Le(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,f){var w=r&&f!==void 0?this._getNewPixelOrigin(r,f):this.getPixelOrigin();return w.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,f){var w=this.getSize()._divideBy(2);return this.project(r,f)._subtract(w)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,f,w){var T=this._getNewPixelOrigin(w,f);return this.project(r,f)._subtract(T)},_latLngBoundsToNewLayerBounds:function(r,f,w){var T=this._getNewPixelOrigin(w,f);return F([this.project(r.getSouthWest(),f)._subtract(T),this.project(r.getNorthWest(),f)._subtract(T),this.project(r.getSouthEast(),f)._subtract(T),this.project(r.getNorthEast(),f)._subtract(T)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,f,w){if(!w)return r;var T=this.project(r,f),V=this.getSize().divideBy(2),le=new re(T.subtract(V),T.add(V)),He=this._getBoundsOffset(le,w,f);return Math.abs(He.x)<=1&&Math.abs(He.y)<=1?r:this.unproject(T.add(He),f)},_limitOffset:function(r,f){if(!f)return r;var w=this.getPixelBounds(),T=new re(w.min.add(r),w.max.add(r));return r.add(this._getBoundsOffset(T,f))},_getBoundsOffset:function(r,f,w){var T=F(this.project(f.getNorthEast(),w),this.project(f.getSouthWest(),w)),V=T.min.subtract(r.min),le=T.max.subtract(r.max),He=this._rebound(V.x,-le.x),mt=this._rebound(V.y,-le.y);return new Le(He,mt)},_rebound:function(r,f){return r+f>0?Math.round(r-f)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(f))},_limitZoom:function(r){var f=this.getMinZoom(),w=this.getMaxZoom(),T=Kt.any3d?this.options.zoomSnap:1;return T&&(r=Math.round(r/T)*T),Math.max(f,Math.min(w,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Vn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,f){var w=this._getCenterOffset(r)._trunc();return(f&&f.animate)!==!0&&!this.getSize().contains(w)?!1:(this.panBy(w,f),!0)},_createAnimProxy:function(){var r=this._proxy=An("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(f){var w=to,T=this._proxy.style[w];ji(this._proxy,this.project(f.center,f.zoom),this.getZoomScale(f.zoom,1)),T===this._proxy.style[w]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Mn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),f=this.getZoom();ji(this._proxy,this.project(r,f),this.getZoomScale(f,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,f,w){if(this._animatingZoom)return!0;if(w=w||{},!this._zoomAnimated||w.animate===!1||this._nothingToAnimate()||Math.abs(f-this._zoom)>this.options.zoomAnimationThreshold)return!1;var T=this.getZoomScale(f),V=this._getCenterOffset(r)._divideBy(1-1/T);return w.animate!==!0&&!this.getSize().contains(V)?!1:(te(function(){this._moveStart(!0,w.noMoveStart||!1)._animateZoom(r,f,!0)},this),!0)},_animateZoom:function(r,f,w,T){this._mapPane&&(w&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=f,Ln(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:f,noUpdate:T}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Vn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function gs(r,f){return new In(r,f)}var gn=j.extend({options:{position:"topright"},initialize:function(r){M(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var f=this._map;return f&&f.removeControl(this),this.options.position=r,f&&f.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var f=this._container=this.onAdd(r),w=this.getPosition(),T=r._controlCorners[w];return Ln(f,"leaflet-control"),w.indexOf("bottom")!==-1?T.insertBefore(f,T.firstChild):T.appendChild(f),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Mn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),Yr=function(r){return new gn(r)};In.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},f="leaflet-",w=this._controlContainer=An("div",f+"control-container",this._container);function T(V,le){var He=f+V+" "+f+le;r[V+le]=An("div",He,w)}T("top","left"),T("top","right"),T("bottom","left"),T("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)Mn(this._controlCorners[r]);Mn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ja=gn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,f,w,T){return w<T?-1:T<w?1:0}},initialize:function(r,f,w){M(this,w),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var T in r)this._addLayer(r[T],T);for(T in f)this._addLayer(f[T],T,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return gn.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,f){return this._addLayer(r,f),this._map?this._update():this},addOverlay:function(r,f){return this._addLayer(r,f,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var f=this._getLayer(g(r));return f&&this._layers.splice(this._layers.indexOf(f),1),this._map?this._update():this},expand:function(){Ln(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(Ln(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):Vn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Vn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",f=this._container=An("div",r),w=this.options.collapsed;f.setAttribute("aria-haspopup",!0),no(f),bo(f);var T=this._section=An("section",r+"-list");w&&(this._map.on("click",this.collapse,this),xn(f,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var V=this._layersLink=An("a",r+"-toggle",f);V.href="#",V.title="Layers",V.setAttribute("role","button"),xn(V,{keydown:function(le){le.keyCode===13&&this._expandSafely()},click:function(le){gr(le),this._expandSafely()}},this),w||this.expand(),this._baseLayersList=An("div",r+"-base",T),this._separator=An("div",r+"-separator",T),this._overlaysList=An("div",r+"-overlays",T),f.appendChild(T)},_getLayer:function(r){for(var f=0;f<this._layers.length;f++)if(this._layers[f]&&g(this._layers[f].layer)===r)return this._layers[f]},_addLayer:function(r,f,w){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:f,overlay:w}),this.options.sortLayers&&this._layers.sort(c(function(T,V){return this.options.sortFunction(T.layer,V.layer,T.name,V.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Da(this._baseLayersList),Da(this._overlaysList),this._layerControlInputs=[];var r,f,w,T,V=0;for(w=0;w<this._layers.length;w++)T=this._layers[w],this._addItem(T),f=f||T.overlay,r=r||!T.overlay,V+=T.overlay?0:1;return this.options.hideSingleBase&&(r=r&&V>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=f&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var f=this._getLayer(g(r.target)),w=f.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;w&&this._map.fire(w,f)},_createRadioElement:function(r,f){var w='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(f?' checked="checked"':"")+"/>",T=document.createElement("div");return T.innerHTML=w,T.firstChild},_addItem:function(r){var f=document.createElement("label"),w=this._map.hasLayer(r.layer),T;r.overlay?(T=document.createElement("input"),T.type="checkbox",T.className="leaflet-control-layers-selector",T.defaultChecked=w):T=this._createRadioElement("leaflet-base-layers_"+g(this),w),this._layerControlInputs.push(T),T.layerId=g(r.layer),xn(T,"click",this._onInputClick,this);var V=document.createElement("span");V.innerHTML=" "+r.name;var le=document.createElement("span");f.appendChild(le),le.appendChild(T),le.appendChild(V);var He=r.overlay?this._overlaysList:this._baseLayersList;return He.appendChild(f),this._checkDisabledLayers(),f},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,f,w,T=[],V=[];this._handlingClick=!0;for(var le=r.length-1;le>=0;le--)f=r[le],w=this._getLayer(f.layerId).layer,f.checked?T.push(w):f.checked||V.push(w);for(le=0;le<V.length;le++)this._map.hasLayer(V[le])&&this._map.removeLayer(V[le]);for(le=0;le<T.length;le++)this._map.hasLayer(T[le])||this._map.addLayer(T[le]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,f,w,T=this._map.getZoom(),V=r.length-1;V>=0;V--)f=r[V],w=this._getLayer(f.layerId).layer,f.disabled=w.options.minZoom!==void 0&&T<w.options.minZoom||w.options.maxZoom!==void 0&&T>w.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,xn(r,"click",gr),this.expand();var f=this;setTimeout(function(){Hn(r,"click",gr),f._preventClick=!1})}}),Bs=function(r,f,w){return new ja(r,f,w)},oi=gn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var f="leaflet-control-zoom",w=An("div",f+" leaflet-bar"),T=this.options;return this._zoomInButton=this._createButton(T.zoomInText,T.zoomInTitle,f+"-in",w,this._zoomIn),this._zoomOutButton=this._createButton(T.zoomOutText,T.zoomOutTitle,f+"-out",w,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),w},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,f,w,T,V){var le=An("a",w,T);return le.innerHTML=r,le.href="#",le.title=f,le.setAttribute("role","button"),le.setAttribute("aria-label",f),no(le),xn(le,"click",ai),xn(le,"click",V,this),xn(le,"click",this._refocusOnMap,this),le},_updateDisabled:function(){var r=this._map,f="leaflet-disabled";Vn(this._zoomInButton,f),Vn(this._zoomOutButton,f),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(Ln(this._zoomOutButton,f),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(Ln(this._zoomInButton,f),this._zoomInButton.setAttribute("aria-disabled","true"))}});In.mergeOptions({zoomControl:!0}),In.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new oi,this.addControl(this.zoomControl))});var Lo=function(r){return new oi(r)},Cr=gn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var f="leaflet-control-scale",w=An("div",f),T=this.options;return this._addScales(T,f+"-line",w),r.on(T.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),w},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,f,w){r.metric&&(this._mScale=An("div",f,w)),r.imperial&&(this._iScale=An("div",f,w))},_update:function(){var r=this._map,f=r.getSize().y/2,w=r.distance(r.containerPointToLatLng([0,f]),r.containerPointToLatLng([this.options.maxWidth,f]));this._updateScales(w)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var f=this._getRoundNum(r),w=f<1e3?f+" m":f/1e3+" km";this._updateScale(this._mScale,w,f/r)},_updateImperial:function(r){var f=r*3.2808399,w,T,V;f>5280?(w=f/5280,T=this._getRoundNum(w),this._updateScale(this._iScale,T+" mi",T/w)):(V=this._getRoundNum(f),this._updateScale(this._iScale,V+" ft",V/f))},_updateScale:function(r,f,w){r.style.width=Math.round(this.options.maxWidth*w)+"px",r.innerHTML=f},_getRoundNum:function(r){var f=Math.pow(10,(Math.floor(r)+"").length-1),w=r/f;return w=w>=10?10:w>=5?5:w>=3?3:w>=2?2:1,f*w}}),Ts=function(r){return new Cr(r)},za='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',_i=gn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Kt.inlineSvg?za+" ":"")+"Leaflet</a>"},initialize:function(r){M(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=An("div","leaflet-control-attribution"),no(this._container);for(var f in r._layers)r._layers[f].getAttribution&&this.addAttribution(r._layers[f].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var f in this._attributions)this._attributions[f]&&r.push(f);var w=[];this.options.prefix&&w.push(this.options.prefix),r.length&&w.push(r.join(", ")),this._container.innerHTML=w.join(' <span aria-hidden="true">|</span> ')}}});In.mergeOptions({attributionControl:!0}),In.addInitHook(function(){this.options.attributionControl&&new _i().addTo(this)});var ko=function(r){return new _i(r)};gn.Layers=ja,gn.Zoom=oi,gn.Scale=Cr,gn.Attribution=_i,Yr.layers=Bs,Yr.zoom=Lo,Yr.scale=Ts,Yr.attribution=ko;var Br=j.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Br.addTo=function(r,f){return r.addHandler(f,this),this};var Co={Events:Ve},Ns=Kt.touch?"touchstart mousedown":"mousedown",ki=Fe.extend({options:{clickTolerance:3},initialize:function(r,f,w,T){M(this,T),this._element=r,this._dragStartTarget=f||r,this._preventOutline=w},enable:function(){this._enabled||(xn(this._dragStartTarget,Ns,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ki._dragging===this&&this.finishDrag(!0),Hn(this._dragStartTarget,Ns,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!Hs(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){ki._dragging===this&&this.finishDrag();return}if(!(ki._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(ki._dragging=this,this._preventOutline&&va(this._element),yo(),Gn(),!this._moving)){this.fire("down");var f=r.touches?r.touches[0]:r,w=Ms(this._element);this._startPoint=new Le(f.clientX,f.clientY),this._startPos=ds(this._element),this._parentScale=es(w);var T=r.type==="mousedown";xn(document,T?"mousemove":"touchmove",this._onMove,this),xn(document,T?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var f=r.touches&&r.touches.length===1?r.touches[0]:r,w=new Le(f.clientX,f.clientY)._subtract(this._startPoint);!w.x&&!w.y||Math.abs(w.x)+Math.abs(w.y)<this.options.clickTolerance||(w.x/=this._parentScale.x,w.y/=this._parentScale.y,gr(r),this._moved||(this.fire("dragstart"),this._moved=!0,Ln(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ln(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(w),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),kr(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){Vn(document.body,"leaflet-dragging"),this._lastTarget&&(Vn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Hn(document,"mousemove touchmove",this._onMove,this),Hn(document,"mouseup touchend touchcancel",this._onUp,this),ps(),Ws();var f=this._moved&&this._moving;this._moving=!1,ki._dragging=!1,f&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function ao(r,f,w){var T,V=[1,4,2,8],le,He,mt,xt,Rt,Yt,pn,On;for(le=0,Yt=r.length;le<Yt;le++)r[le]._code=kt(r[le],f);for(mt=0;mt<4;mt++){for(pn=V[mt],T=[],le=0,Yt=r.length,He=Yt-1;le<Yt;He=le++)xt=r[le],Rt=r[He],xt._code&pn?Rt._code&pn||(On=ft(Rt,xt,pn,f,w),On._code=kt(On,f),T.push(On)):(Rt._code&pn&&(On=ft(Rt,xt,pn,f,w),On._code=kt(On,f),T.push(On)),T.push(xt));r=T}return r}function Fo(r,f){var w,T,V,le,He,mt,xt,Rt,Yt;if(!r||r.length===0)throw new Error("latlngs not passed");en(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var pn=Be([0,0]),On=fe(r),di=On.getNorthWest().distanceTo(On.getSouthWest())*On.getNorthEast().distanceTo(On.getNorthWest());di<1700&&(pn=jo(r));var Wr=r.length,Pi=[];for(w=0;w<Wr;w++){var Pr=Be(r[w]);Pi.push(f.project(Be([Pr.lat-pn.lat,Pr.lng-pn.lng])))}for(mt=xt=Rt=0,w=0,T=Wr-1;w<Wr;T=w++)V=Pi[w],le=Pi[T],He=V.y*le.x-le.y*V.x,xt+=(V.x+le.x)*He,Rt+=(V.y+le.y)*He,mt+=He*3;mt===0?Yt=Pi[0]:Yt=[xt/mt,Rt/mt];var ia=f.unproject(Pe(Yt));return Be([ia.lat+pn.lat,ia.lng+pn.lng])}function jo(r){for(var f=0,w=0,T=0,V=0;V<r.length;V++){var le=Be(r[V]);f+=le.lat,w+=le.lng,T++}return Be([f/T,w/T])}var So={__proto__:null,clipPolygon:ao,polygonCenter:Fo,centroid:jo};function Xs(r,f){if(!f||!r.length)return r.slice();var w=f*f;return r=ne(r,w),r=Tr(r,w),r}function oo(r,f,w){return Math.sqrt(Jt(r,f,w,!0))}function Ua(r,f,w){return Jt(r,f,w)}function Tr(r,f){var w=r.length,T=typeof Uint8Array<"u"?Uint8Array:Array,V=new T(w);V[0]=V[w-1]=1,P(r,V,f,0,w-1);var le,He=[];for(le=0;le<w;le++)V[le]&&He.push(r[le]);return He}function P(r,f,w,T,V){var le=0,He,mt,xt;for(mt=T+1;mt<=V-1;mt++)xt=Jt(r[mt],r[T],r[V],!0),xt>le&&(He=mt,le=xt);le>w&&(f[He]=1,P(r,f,w,T,He),P(r,f,w,He,V))}function ne(r,f){for(var w=[r[0]],T=1,V=0,le=r.length;T<le;T++)Ft(r[T],r[V])>f&&(w.push(r[T]),V=T);return V<le-1&&w.push(r[le-1]),w}var De;function $e(r,f,w,T,V){var le=T?De:kt(r,w),He=kt(f,w),mt,xt,Rt;for(De=He;;){if(!(le|He))return[r,f];if(le&He)return!1;mt=le||He,xt=ft(r,f,mt,w,V),Rt=kt(xt,w),mt===le?(r=xt,le=Rt):(f=xt,He=Rt)}}function ft(r,f,w,T,V){var le=f.x-r.x,He=f.y-r.y,mt=T.min,xt=T.max,Rt,Yt;return w&8?(Rt=r.x+le*(xt.y-r.y)/He,Yt=xt.y):w&4?(Rt=r.x+le*(mt.y-r.y)/He,Yt=mt.y):w&2?(Rt=xt.x,Yt=r.y+He*(xt.x-r.x)/le):w&1&&(Rt=mt.x,Yt=r.y+He*(mt.x-r.x)/le),new Le(Rt,Yt,V)}function kt(r,f){var w=0;return r.x<f.min.x?w|=1:r.x>f.max.x&&(w|=2),r.y<f.min.y?w|=4:r.y>f.max.y&&(w|=8),w}function Ft(r,f){var w=f.x-r.x,T=f.y-r.y;return w*w+T*T}function Jt(r,f,w,T){var V=f.x,le=f.y,He=w.x-V,mt=w.y-le,xt=He*He+mt*mt,Rt;return xt>0&&(Rt=((r.x-V)*He+(r.y-le)*mt)/xt,Rt>1?(V=w.x,le=w.y):Rt>0&&(V+=He*Rt,le+=mt*Rt)),He=r.x-V,mt=r.y-le,T?He*He+mt*mt:new Le(V,le)}function en(r){return!K(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function _n(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),en(r)}function kn(r,f){var w,T,V,le,He,mt,xt,Rt;if(!r||r.length===0)throw new Error("latlngs not passed");en(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Yt=Be([0,0]),pn=fe(r),On=pn.getNorthWest().distanceTo(pn.getSouthWest())*pn.getNorthEast().distanceTo(pn.getNorthWest());On<1700&&(Yt=jo(r));var di=r.length,Wr=[];for(w=0;w<di;w++){var Pi=Be(r[w]);Wr.push(f.project(Be([Pi.lat-Yt.lat,Pi.lng-Yt.lng])))}for(w=0,T=0;w<di-1;w++)T+=Wr[w].distanceTo(Wr[w+1])/2;if(T===0)Rt=Wr[0];else for(w=0,le=0;w<di-1;w++)if(He=Wr[w],mt=Wr[w+1],V=He.distanceTo(mt),le+=V,le>T){xt=(le-T)/V,Rt=[mt.x-xt*(mt.x-He.x),mt.y-xt*(mt.y-He.y)];break}var Pr=f.unproject(Pe(Rt));return Be([Pr.lat+Yt.lat,Pr.lng+Yt.lng])}var Rn={__proto__:null,simplify:Xs,pointToSegmentDistance:oo,closestPointOnSegment:Ua,clipSegment:$e,_getEdgeIntersection:ft,_getBitCode:kt,_sqClosestPointOnSegment:Jt,isFlat:en,_flat:_n,polylineCenter:kn},_r={project:function(r){return new Le(r.lng,r.lat)},unproject:function(r){return new pe(r.y,r.x)},bounds:new re([-180,-90],[180,90])},Zn={R:6378137,R_MINOR:6356752314245179e-9,bounds:new re([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var f=Math.PI/180,w=this.R,T=r.lat*f,V=this.R_MINOR/w,le=Math.sqrt(1-V*V),He=le*Math.sin(T),mt=Math.tan(Math.PI/4-T/2)/Math.pow((1-He)/(1+He),le/2);return T=-w*Math.log(Math.max(mt,1e-10)),new Le(r.lng*f*w,T)},unproject:function(r){for(var f=180/Math.PI,w=this.R,T=this.R_MINOR/w,V=Math.sqrt(1-T*T),le=Math.exp(-r.y/w),He=Math.PI/2-2*Math.atan(le),mt=0,xt=.1,Rt;mt<15&&Math.abs(xt)>1e-7;mt++)Rt=V*Math.sin(He),Rt=Math.pow((1-Rt)/(1+Rt),V/2),xt=Math.PI/2-2*Math.atan(le*Rt)-He,He+=xt;return new pe(He*f,r.x*f/w)}},rr={__proto__:null,LonLat:_r,Mercator:Zn,SphericalMercator:Tt},Ur=u({},We,{code:"EPSG:3395",projection:Zn,transformation:(function(){var r=.5/(Math.PI*Zn.R);return Gt(r,.5,-r,.5)})()}),Rr=u({},We,{code:"EPSG:4326",projection:_r,transformation:Gt(1/180,1,-1/180,.5)}),ns=u({},Ke,{projection:_r,transformation:Gt(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,f){var w=f.lng-r.lng,T=f.lat-r.lat;return Math.sqrt(w*w+T*T)},infinite:!0});Ke.Earth=We,Ke.EPSG3395=Ur,Ke.EPSG3857=qt,Ke.EPSG900913=$,Ke.EPSG4326=Rr,Ke.Simple=ns;var hr=Fe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[g(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[g(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var f=r.target;if(f.hasLayer(this)){if(this._map=f,this._zoomAnimated=f._zoomAnimated,this.getEvents){var w=this.getEvents();f.on(w,this),this.once("remove",function(){f.off(w,this)},this)}this.onAdd(f),this.fire("add"),f.fire("layeradd",{layer:this})}}});In.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var f=g(r);return this._layers[f]?this:(this._layers[f]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var f=g(r);return this._layers[f]?(this._loaded&&r.onRemove(this),delete this._layers[f],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return g(r)in this._layers},eachLayer:function(r,f){for(var w in this._layers)r.call(f,this._layers[w]);return this},_addLayers:function(r){r=r?K(r)?r:[r]:[];for(var f=0,w=r.length;f<w;f++)this.addLayer(r[f])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[g(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var f=g(r);this._zoomBoundLayers[f]&&(delete this._zoomBoundLayers[f],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,f=-1/0,w=this._getZoomSpan();for(var T in this._zoomBoundLayers){var V=this._zoomBoundLayers[T].options;r=V.minZoom===void 0?r:Math.min(r,V.minZoom),f=V.maxZoom===void 0?f:Math.max(f,V.maxZoom)}this._layersMaxZoom=f===-1/0?void 0:f,this._layersMinZoom=r===1/0?void 0:r,w!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var li=hr.extend({initialize:function(r,f){M(this,f),this._layers={};var w,T;if(r)for(w=0,T=r.length;w<T;w++)this.addLayer(r[w])},addLayer:function(r){var f=this.getLayerId(r);return this._layers[f]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var f=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[f]&&this._map.removeLayer(this._layers[f]),delete this._layers[f],this},hasLayer:function(r){var f=typeof r=="number"?r:this.getLayerId(r);return f in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var f=Array.prototype.slice.call(arguments,1),w,T;for(w in this._layers)T=this._layers[w],T[r]&&T[r].apply(T,f);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,f){for(var w in this._layers)r.call(f,this._layers[w]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return g(r)}}),qa=function(r,f){return new li(r,f)},Ci=li.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),li.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),li.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new he;for(var f in this._layers){var w=this._layers[f];r.extend(w.getBounds?w.getBounds():w.getLatLng())}return r}}),Eo=function(r,f){return new Ci(r,f)},_s=j.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){M(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,f){var w=this._getIconUrl(r);if(!w){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var T=this._createImg(w,f&&f.tagName==="IMG"?f:null);return this._setIconStyles(T,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(T.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),T},_setIconStyles:function(r,f){var w=this.options,T=w[f+"Size"];typeof T=="number"&&(T=[T,T]);var V=Pe(T),le=Pe(f==="shadow"&&w.shadowAnchor||w.iconAnchor||V&&V.divideBy(2,!0));r.className="leaflet-marker-"+f+" "+(w.className||""),le&&(r.style.marginLeft=-le.x+"px",r.style.marginTop=-le.y+"px"),V&&(r.style.width=V.x+"px",r.style.height=V.y+"px")},_createImg:function(r,f){return f=f||document.createElement("img"),f.src=r,f},_getIconUrl:function(r){return Kt.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function Po(r){return new _s(r)}var Qs=_s.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof Qs.imagePath!="string"&&(Qs.imagePath=this._detectIconPath()),(this.options.imagePath||Qs.imagePath)+_s.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var f=function(w,T,V){var le=T.exec(w);return le&&le[V]};return r=f(r,/^url\((['"])?(.+)\1\)$/,2),r&&f(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=An("div","leaflet-default-icon-path",document.body),f=Xi(r,"background-image")||Xi(r,"backgroundImage");if(document.body.removeChild(r),f=this._stripUrl(f),f)return f;var w=document.querySelector('link[href$="leaflet.css"]');return w?w.href.substring(0,w.href.length-11-1):""}}),ea=Br.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new ki(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ln(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Vn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var f=this._marker,w=f._map,T=this._marker.options.autoPanSpeed,V=this._marker.options.autoPanPadding,le=ds(f._icon),He=w.getPixelBounds(),mt=w.getPixelOrigin(),xt=F(He.min._subtract(mt).add(V),He.max._subtract(mt).subtract(V));if(!xt.contains(le)){var Rt=Pe((Math.max(xt.max.x,le.x)-xt.max.x)/(He.max.x-xt.max.x)-(Math.min(xt.min.x,le.x)-xt.min.x)/(He.min.x-xt.min.x),(Math.max(xt.max.y,le.y)-xt.max.y)/(He.max.y-xt.max.y)-(Math.min(xt.min.y,le.y)-xt.min.y)/(He.min.y-xt.min.y)).multiplyBy(T);w.panBy(Rt,{animate:!1}),this._draggable._newPos._add(Rt),this._draggable._startPos._add(Rt),kr(f._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=te(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(G(this._panRequest),this._panRequest=te(this._adjustPan.bind(this,r)))},_onDrag:function(r){var f=this._marker,w=f._shadow,T=ds(f._icon),V=f._map.layerPointToLatLng(T);w&&kr(w,T),f._latlng=V,r.latlng=V,r.oldLatLng=this._oldLatLng,f.fire("move",r).fire("drag",r)},_onDragEnd:function(r){G(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),vr=hr.extend({options:{icon:new Qs,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,f){M(this,f),this._latlng=Be(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var f=this._latlng;return this._latlng=Be(r),this.update(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,f="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),w=r.icon.createIcon(this._icon),T=!1;w!==this._icon&&(this._icon&&this._removeIcon(),T=!0,r.title&&(w.title=r.title),w.tagName==="IMG"&&(w.alt=r.alt||"")),Ln(w,f),r.keyboard&&(w.tabIndex="0",w.setAttribute("role","button")),this._icon=w,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&xn(w,"focus",this._panOnFocus,this);var V=r.icon.createShadow(this._shadow),le=!1;V!==this._shadow&&(this._removeShadow(),le=!0),V&&(Ln(V,f),V.alt=""),this._shadow=V,r.opacity<1&&this._updateOpacity(),T&&this.getPane().appendChild(this._icon),this._initInteraction(),V&&le&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Hn(this._icon,"focus",this._panOnFocus,this),Mn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Mn(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&kr(this._icon,r),this._shadow&&kr(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var f=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(f)},_initInteraction:function(){if(this.options.interactive&&(Ln(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ea)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ea(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&Jr(this._icon,r),this._shadow&&Jr(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var f=this.options.icon.options,w=f.iconSize?Pe(f.iconSize):Pe(0,0),T=f.iconAnchor?Pe(f.iconAnchor):Pe(0,0);r.panInside(this._latlng,{paddingTopLeft:T,paddingBottomRight:w.subtract(T)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Ao(r,f){return new vr(r,f)}var Ui=hr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return M(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Si=Ui.extend({options:{fill:!0,radius:10},initialize:function(r,f){M(this,f),this._latlng=Be(r),this._radius=this.options.radius},setLatLng:function(r){var f=this._latlng;return this._latlng=Be(r),this.redraw(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var f=r&&r.radius||this._radius;return Ui.prototype.setStyle.call(this,r),this.setRadius(f),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,f=this._radiusY||r,w=this._clickTolerance(),T=[r+w,f+w];this._pxBounds=new re(this._point.subtract(T),this._point.add(T))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function lo(r,f){return new Si(r,f)}var ui=Si.extend({initialize:function(r,f,w){if(typeof f=="number"&&(f=u({},w,{radius:f})),M(this,f),this._latlng=Be(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new he(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:Ui.prototype.setStyle,_project:function(){var r=this._latlng.lng,f=this._latlng.lat,w=this._map,T=w.options.crs;if(T.distance===We.distance){var V=Math.PI/180,le=this._mRadius/We.R/V,He=w.project([f+le,r]),mt=w.project([f-le,r]),xt=He.add(mt).divideBy(2),Rt=w.unproject(xt).lat,Yt=Math.acos((Math.cos(le*V)-Math.sin(f*V)*Math.sin(Rt*V))/(Math.cos(f*V)*Math.cos(Rt*V)))/V;(isNaN(Yt)||Yt===0)&&(Yt=le/Math.cos(Math.PI/180*f)),this._point=xt.subtract(w.getPixelOrigin()),this._radius=isNaN(Yt)?0:xt.x-w.project([Rt,r-Yt]).x,this._radiusY=xt.y-He.y}else{var pn=T.unproject(T.project(this._latlng).subtract([this._mRadius,0]));this._point=w.latLngToLayerPoint(this._latlng),this._radius=this._point.x-w.latLngToLayerPoint(pn).x}this._updateBounds()}});function rs(r,f,w){return new ui(r,f,w)}var hi=Ui.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,f){M(this,f),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var f=1/0,w=null,T=Jt,V,le,He=0,mt=this._parts.length;He<mt;He++)for(var xt=this._parts[He],Rt=1,Yt=xt.length;Rt<Yt;Rt++){V=xt[Rt-1],le=xt[Rt];var pn=T(r,V,le,!0);pn<f&&(f=pn,w=T(r,V,le))}return w&&(w.distance=Math.sqrt(f)),w},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return kn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,f){return f=f||this._defaultShape(),r=Be(r),f.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new he,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return en(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var f=[],w=en(r),T=0,V=r.length;T<V;T++)w?(f[T]=Be(r[T]),this._bounds.extend(f[T])):f[T]=this._convertLatLngs(r[T]);return f},_project:function(){var r=new re;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),f=new Le(r,r);this._rawPxBounds&&(this._pxBounds=new re([this._rawPxBounds.min.subtract(f),this._rawPxBounds.max.add(f)]))},_projectLatlngs:function(r,f,w){var T=r[0]instanceof pe,V=r.length,le,He;if(T){for(He=[],le=0;le<V;le++)He[le]=this._map.latLngToLayerPoint(r[le]),w.extend(He[le]);f.push(He)}else for(le=0;le<V;le++)this._projectLatlngs(r[le],f,w)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var f=this._parts,w,T,V,le,He,mt,xt;for(w=0,V=0,le=this._rings.length;w<le;w++)for(xt=this._rings[w],T=0,He=xt.length;T<He-1;T++)mt=$e(xt[T],xt[T+1],r,T,!0),mt&&(f[V]=f[V]||[],f[V].push(mt[0]),(mt[1]!==xt[T+1]||T===He-2)&&(f[V].push(mt[1]),V++))}},_simplifyPoints:function(){for(var r=this._parts,f=this.options.smoothFactor,w=0,T=r.length;w<T;w++)r[w]=Xs(r[w],f)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,f){var w,T,V,le,He,mt,xt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(w=0,le=this._parts.length;w<le;w++)for(mt=this._parts[w],T=0,He=mt.length,V=He-1;T<He;V=T++)if(!(!f&&T===0)&&oo(r,mt[V],mt[T])<=xt)return!0;return!1}});function ll(r,f){return new hi(r,f)}hi._flat=_n;var Sr=hi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Fo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var f=hi.prototype._convertLatLngs.call(this,r),w=f.length;return w>=2&&f[0]instanceof pe&&f[0].equals(f[w-1])&&f.pop(),f},_setLatLngs:function(r){hi.prototype._setLatLngs.call(this,r),en(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return en(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,f=this.options.weight,w=new Le(f,f);if(r=new re(r.min.subtract(w),r.max.add(w)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var T=0,V=this._rings.length,le;T<V;T++)le=ao(this._rings[T],r,!0),le.length&&this._parts.push(le)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var f=!1,w,T,V,le,He,mt,xt,Rt;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(le=0,xt=this._parts.length;le<xt;le++)for(w=this._parts[le],He=0,Rt=w.length,mt=Rt-1;He<Rt;mt=He++)T=w[He],V=w[mt],T.y>r.y!=V.y>r.y&&r.x<(V.x-T.x)*(r.y-T.y)/(V.y-T.y)+T.x&&(f=!f);return f||hi.prototype._containsPoint.call(this,r,!0)}});function ta(r,f){return new Sr(r,f)}var is=Ci.extend({initialize:function(r,f){M(this,f),this._layers={},r&&this.addData(r)},addData:function(r){var f=K(r)?r:r.features,w,T,V;if(f){for(w=0,T=f.length;w<T;w++)V=f[w],(V.geometries||V.geometry||V.features||V.coordinates)&&this.addData(V);return this}var le=this.options;if(le.filter&&!le.filter(r))return this;var He=ya(r,le);return He?(He.feature=vs(r),He.defaultOptions=He.options,this.resetStyle(He),le.onEachFeature&&le.onEachFeature(r,He),this.addLayer(He)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=u({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(f){this._setLayerStyle(f,r)},this)},_setLayerStyle:function(r,f){r.setStyle&&(typeof f=="function"&&(f=f(r.feature)),r.setStyle(f))}});function ya(r,f){var w=r.type==="Feature"?r.geometry:r,T=w?w.coordinates:null,V=[],le=f&&f.pointToLayer,He=f&&f.coordsToLatLng||Ds,mt,xt,Rt,Yt;if(!T&&!w)return null;switch(w.type){case"Point":return mt=He(T),Os(le,r,mt,f);case"MultiPoint":for(Rt=0,Yt=T.length;Rt<Yt;Rt++)mt=He(T[Rt]),V.push(Os(le,r,mt,f));return new Ci(V);case"LineString":case"MultiLineString":return xt=Xr(T,w.type==="LineString"?0:1,He),new hi(xt,f);case"Polygon":case"MultiPolygon":return xt=Xr(T,w.type==="Polygon"?1:2,He),new Sr(xt,f);case"GeometryCollection":for(Rt=0,Yt=w.geometries.length;Rt<Yt;Rt++){var pn=ya({geometry:w.geometries[Rt],type:"Feature",properties:r.properties},f);pn&&V.push(pn)}return new Ci(V);case"FeatureCollection":for(Rt=0,Yt=w.features.length;Rt<Yt;Rt++){var On=ya(w.features[Rt],f);On&&V.push(On)}return new Ci(V);default:throw new Error("Invalid GeoJSON object.")}}function Os(r,f,w,T){return r?r(f,w):new vr(w,T&&T.markersInheritOptions&&T)}function Ds(r){return new pe(r[1],r[0],r[2])}function Xr(r,f,w){for(var T=[],V=0,le=r.length,He;V<le;V++)He=f?Xr(r[V],f-1,w):(w||Ds)(r[V]),T.push(He);return T}function qr(r,f){return r=Be(r),r.alt!==void 0?[A(r.lng,f),A(r.lat,f),A(r.alt,f)]:[A(r.lng,f),A(r.lat,f)]}function Is(r,f,w,T){for(var V=[],le=0,He=r.length;le<He;le++)V.push(f?Is(r[le],en(r[le])?0:f-1,w,T):qr(r[le],T));return!f&&w&&V.length>0&&V.push(V[0].slice()),V}function qi(r,f){return r.feature?u({},r.feature,{geometry:f}):vs(f)}function vs(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var wa={toGeoJSON:function(r){return qi(this,{type:"Point",coordinates:qr(this.getLatLng(),r)})}};vr.include(wa),ui.include(wa),Si.include(wa),hi.include({toGeoJSON:function(r){var f=!en(this._latlngs),w=Is(this._latlngs,f?1:0,!1,r);return qi(this,{type:(f?"Multi":"")+"LineString",coordinates:w})}}),Sr.include({toGeoJSON:function(r){var f=!en(this._latlngs),w=f&&!en(this._latlngs[0]),T=Is(this._latlngs,w?2:f?1:0,!0,r);return f||(T=[T]),qi(this,{type:(w?"Multi":"")+"Polygon",coordinates:T})}}),li.include({toMultiPoint:function(r){var f=[];return this.eachLayer(function(w){f.push(w.toGeoJSON(r).geometry.coordinates)}),qi(this,{type:"MultiPoint",coordinates:f})},toGeoJSON:function(r){var f=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(f==="MultiPoint")return this.toMultiPoint(r);var w=f==="GeometryCollection",T=[];return this.eachLayer(function(V){if(V.toGeoJSON){var le=V.toGeoJSON(r);if(w)T.push(le.geometry);else{var He=vs(le);He.type==="FeatureCollection"?T.push.apply(T,He.features):T.push(He)}}}),w?qi(this,{geometries:T,type:"GeometryCollection"}):{type:"FeatureCollection",features:T}}});function ys(r,f){return new is(r,f)}var Xn=ys,Gi=hr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,f,w){this._url=r,this._bounds=fe(f),M(this,w)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ln(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Mn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&_a(this._image),this},bringToBack:function(){return this._map&&Qi(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=fe(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",f=this._image=r?this._url:An("img");if(Ln(f,"leaflet-image-layer"),this._zoomAnimated&&Ln(f,"leaflet-zoom-animated"),this.options.className&&Ln(f,this.options.className),f.onselectstart=E,f.onmousemove=E,f.onload=c(this.fire,this,"load"),f.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=f.src;return}f.src=this._url,f.alt=this.options.alt},_animateZoom:function(r){var f=this._map.getZoomScale(r.zoom),w=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;ji(this._image,w,f)},_reset:function(){var r=this._image,f=new re(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),w=f.getSize();kr(r,f.min),r.style.width=w.x+"px",r.style.height=w.y+"px"},_updateOpacity:function(){Jr(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),vi=function(r,f,w){return new Gi(r,f,w)},ci=Gi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",f=this._image=r?this._url:An("video");if(Ln(f,"leaflet-image-layer"),this._zoomAnimated&&Ln(f,"leaflet-zoom-animated"),this.options.className&&Ln(f,this.options.className),f.onselectstart=E,f.onmousemove=E,f.onloadeddata=c(this.fire,this,"load"),r){for(var w=f.getElementsByTagName("source"),T=[],V=0;V<w.length;V++)T.push(w[V].src);this._url=w.length>0?T:[f.src];return}K(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(f.style,"objectFit")&&(f.style.objectFit="fill"),f.autoplay=!!this.options.autoplay,f.loop=!!this.options.loop,f.muted=!!this.options.muted,f.playsInline=!!this.options.playsInline;for(var le=0;le<this._url.length;le++){var He=An("source");He.src=this._url[le],f.appendChild(He)}}});function Ga(r,f,w){return new ci(r,f,w)}var Mo=Gi.extend({_initImage:function(){var r=this._image=this._url;Ln(r,"leaflet-image-layer"),this._zoomAnimated&&Ln(r,"leaflet-zoom-animated"),this.options.className&&Ln(r,this.options.className),r.onselectstart=E,r.onmousemove=E}});function uo(r,f,w){return new Mo(r,f,w)}var yi=hr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,f){r&&(r instanceof pe||K(r))?(this._latlng=Be(r),M(this,f)):(M(this,r),this._source=f),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&Jr(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&Jr(this._container,1),this.bringToFront(),this.options.interactive&&(Ln(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(Jr(this._container,0),this._removeTimeout=setTimeout(c(Mn,void 0,this._container),200)):Mn(this._container),this.options.interactive&&(Vn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=Be(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&_a(this._container),this},bringToBack:function(){return this._map&&Qi(this._container),this},_prepareOpen:function(r){var f=this._source;if(!f._map)return!1;if(f instanceof Ci){f=null;var w=this._source._layers;for(var T in w)if(w[T]._map){f=w[T];break}if(!f)return!1;this._source=f}if(!r)if(f.getCenter)r=f.getCenter();else if(f.getLatLng)r=f.getLatLng();else if(f.getBounds)r=f.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,f=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof f=="string")r.innerHTML=f;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(f)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),f=Pe(this.options.offset),w=this._getAnchor();this._zoomAnimated?kr(this._container,r.add(w)):f=f.add(r).add(w);var T=this._containerBottom=-f.y,V=this._containerLeft=-Math.round(this._containerWidth/2)+f.x;this._container.style.bottom=T+"px",this._container.style.left=V+"px"}},_getAnchor:function(){return[0,0]}});In.include({_initOverlay:function(r,f,w,T){var V=f;return V instanceof r||(V=new r(T).setContent(f)),w&&V.setLatLng(w),V}}),hr.include({_initOverlay:function(r,f,w,T){var V=w;return V instanceof r?(M(V,T),V._source=this):(V=f&&!T?f:new r(T,this),V.setContent(w)),V}});var Hi=yi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,yi.prototype.openOn.call(this,r)},onAdd:function(r){yi.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ui||this._source.on("preclick",ms))},onRemove:function(r){yi.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ui||this._source.off("preclick",ms))},getEvents:function(){var r=yi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",f=this._container=An("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),w=this._wrapper=An("div",r+"-content-wrapper",f);if(this._contentNode=An("div",r+"-content",w),no(f),bo(this._contentNode),xn(f,"contextmenu",ms),this._tipContainer=An("div",r+"-tip-container",f),this._tip=An("div",r+"-tip",this._tipContainer),this.options.closeButton){var T=this._closeButton=An("a",r+"-close-button",f);T.setAttribute("role","button"),T.setAttribute("aria-label","Close popup"),T.href="#close",T.innerHTML='<span aria-hidden="true">&#215;</span>',xn(T,"click",function(V){gr(V),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,f=r.style;f.width="",f.whiteSpace="nowrap";var w=r.offsetWidth;w=Math.min(w,this.options.maxWidth),w=Math.max(w,this.options.minWidth),f.width=w+1+"px",f.whiteSpace="",f.height="";var T=r.offsetHeight,V=this.options.maxHeight,le="leaflet-popup-scrolled";V&&T>V?(f.height=V+"px",Ln(r,le)):Vn(r,le),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var f=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),w=this._getAnchor();kr(this._container,f.add(w))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,f=parseInt(Xi(this._container,"marginBottom"),10)||0,w=this._container.offsetHeight+f,T=this._containerWidth,V=new Le(this._containerLeft,-w-this._containerBottom);V._add(ds(this._container));var le=r.layerPointToContainerPoint(V),He=Pe(this.options.autoPanPadding),mt=Pe(this.options.autoPanPaddingTopLeft||He),xt=Pe(this.options.autoPanPaddingBottomRight||He),Rt=r.getSize(),Yt=0,pn=0;le.x+T+xt.x>Rt.x&&(Yt=le.x+T-Rt.x+xt.x),le.x-Yt-mt.x<0&&(Yt=le.x-mt.x),le.y+w+xt.y>Rt.y&&(pn=le.y+w-Rt.y+xt.y),le.y-pn-mt.y<0&&(pn=le.y-mt.y),(Yt||pn)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([Yt,pn]))}},_getAnchor:function(){return Pe(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ss=function(r,f){return new Hi(r,f)};In.mergeOptions({closePopupOnClick:!0}),In.include({openPopup:function(r,f,w){return this._initOverlay(Hi,r,f,w).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),hr.include({bindPopup:function(r,f){return this._popup=this._initOverlay(Hi,this._popup,r,f),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof Ci||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){ai(r);var f=r.layer||r.target;if(this._popup._source===f&&!(f instanceof Ui)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=f,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var ws=yi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){yi.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){yi.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=yi.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",f=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=An("div",f),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+g(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var f,w,T=this._map,V=this._container,le=T.latLngToContainerPoint(T.getCenter()),He=T.layerPointToContainerPoint(r),mt=this.options.direction,xt=V.offsetWidth,Rt=V.offsetHeight,Yt=Pe(this.options.offset),pn=this._getAnchor();mt==="top"?(f=xt/2,w=Rt):mt==="bottom"?(f=xt/2,w=0):mt==="center"?(f=xt/2,w=Rt/2):mt==="right"?(f=0,w=Rt/2):mt==="left"?(f=xt,w=Rt/2):He.x<le.x?(mt="right",f=0,w=Rt/2):(mt="left",f=xt+(Yt.x+pn.x)*2,w=Rt/2),r=r.subtract(Pe(f,w,!0)).add(Yt).add(pn),Vn(V,"leaflet-tooltip-right"),Vn(V,"leaflet-tooltip-left"),Vn(V,"leaflet-tooltip-top"),Vn(V,"leaflet-tooltip-bottom"),Ln(V,"leaflet-tooltip-"+mt),kr(V,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&Jr(this._container,r)},_animateZoom:function(r){var f=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(f)},_getAnchor:function(){return Pe(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),na=function(r,f){return new ws(r,f)};In.include({openTooltip:function(r,f,w){return this._initOverlay(ws,r,f,w).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),hr.include({bindTooltip:function(r,f){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ws,this._tooltip,r,f),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var f=r?"off":"on",w={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?w.add=this._openTooltip:(w.mouseover=this._openTooltip,w.mouseout=this.closeTooltip,w.click=this._openTooltip,this._map?this._addFocusListeners():w.add=this._addFocusListeners),this._tooltip.options.sticky&&(w.mousemove=this._moveTooltip),this[f](w),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof Ci||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var f=typeof r.getElement=="function"&&r.getElement();f&&(xn(f,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),xn(f,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var f=typeof r.getElement=="function"&&r.getElement();f&&f.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var f=this;this._map.once("moveend",function(){f._openOnceFlag=!1,f._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var f=r.latlng,w,T;this._tooltip.options.sticky&&r.originalEvent&&(w=this._map.mouseEventToContainerPoint(r.originalEvent),T=this._map.containerPointToLayerPoint(w),f=this._map.layerPointToLatLng(T)),this._tooltip.setLatLng(f)}});var ra=_s.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var f=r&&r.tagName==="DIV"?r:document.createElement("div"),w=this.options;if(w.html instanceof Element?(Da(f),f.appendChild(w.html)):f.innerHTML=w.html!==!1?w.html:"",w.bgPos){var T=Pe(w.bgPos);f.style.backgroundPosition=-T.x+"px "+-T.y+"px"}return this._setIconStyles(f,"icon"),f},createShadow:function(){return null}});function ba(r){return new ra(r)}_s.Default=Qs;var bs=hr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Kt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){M(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),Mn(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(_a(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Qi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=y(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof Le?r:new Le(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var f=this.getPane().children,w=-r(-1/0,1/0),T=0,V=f.length,le;T<V;T++)le=f[T].style.zIndex,f[T]!==this._container&&le&&(w=r(w,+le));isFinite(w)&&(this.options.zIndex=w+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Kt.ielt9){Jr(this._container,this.options.opacity);var r=+new Date,f=!1,w=!1;for(var T in this._tiles){var V=this._tiles[T];if(!(!V.current||!V.loaded)){var le=Math.min(1,(r-V.loaded)/200);Jr(V.el,le),le<1?f=!0:(V.active?w=!0:this._onOpaqueTile(V),V.active=!0)}}w&&!this._noPrune&&this._pruneTiles(),f&&(G(this._fadeFrame),this._fadeFrame=te(this._updateOpacity,this))}},_onOpaqueTile:E,_initContainer:function(){this._container||(this._container=An("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,f=this.options.maxZoom;if(r!==void 0){for(var w in this._levels)w=Number(w),this._levels[w].el.children.length||w===r?(this._levels[w].el.style.zIndex=f-Math.abs(r-w),this._onUpdateLevel(w)):(Mn(this._levels[w].el),this._removeTilesAtZoom(w),this._onRemoveLevel(w),delete this._levels[w]);var T=this._levels[r],V=this._map;return T||(T=this._levels[r]={},T.el=An("div","leaflet-tile-container leaflet-zoom-animated",this._container),T.el.style.zIndex=f,T.origin=V.project(V.unproject(V.getPixelOrigin()),r).round(),T.zoom=r,this._setZoomTransform(T,V.getCenter(),V.getZoom()),E(T.el.offsetWidth),this._onCreateLevel(T)),this._level=T,T}},_onUpdateLevel:E,_onRemoveLevel:E,_onCreateLevel:E,_pruneTiles:function(){if(this._map){var r,f,w=this._map.getZoom();if(w>this.options.maxZoom||w<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)f=this._tiles[r],f.retain=f.current;for(r in this._tiles)if(f=this._tiles[r],f.current&&!f.active){var T=f.coords;this._retainParent(T.x,T.y,T.z,T.z-5)||this._retainChildren(T.x,T.y,T.z,T.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var f in this._tiles)this._tiles[f].coords.z===r&&this._removeTile(f)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)Mn(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,f,w,T){var V=Math.floor(r/2),le=Math.floor(f/2),He=w-1,mt=new Le(+V,+le);mt.z=+He;var xt=this._tileCoordsToKey(mt),Rt=this._tiles[xt];return Rt&&Rt.active?(Rt.retain=!0,!0):(Rt&&Rt.loaded&&(Rt.retain=!0),He>T?this._retainParent(V,le,He,T):!1)},_retainChildren:function(r,f,w,T){for(var V=2*r;V<2*r+2;V++)for(var le=2*f;le<2*f+2;le++){var He=new Le(V,le);He.z=w+1;var mt=this._tileCoordsToKey(He),xt=this._tiles[mt];if(xt&&xt.active){xt.retain=!0;continue}else xt&&xt.loaded&&(xt.retain=!0);w+1<T&&this._retainChildren(V,le,w+1,T)}},_resetView:function(r){var f=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),f,f)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var f=this.options;return f.minNativeZoom!==void 0&&r<f.minNativeZoom?f.minNativeZoom:f.maxNativeZoom!==void 0&&f.maxNativeZoom<r?f.maxNativeZoom:r},_setView:function(r,f,w,T){var V=Math.round(f);this.options.maxZoom!==void 0&&V>this.options.maxZoom||this.options.minZoom!==void 0&&V<this.options.minZoom?V=void 0:V=this._clampZoom(V);var le=this.options.updateWhenZooming&&V!==this._tileZoom;(!T||le)&&(this._tileZoom=V,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),V!==void 0&&this._update(r),w||this._pruneTiles(),this._noPrune=!!w),this._setZoomTransforms(r,f)},_setZoomTransforms:function(r,f){for(var w in this._levels)this._setZoomTransform(this._levels[w],r,f)},_setZoomTransform:function(r,f,w){var T=this._map.getZoomScale(w,r.zoom),V=r.origin.multiplyBy(T).subtract(this._map._getNewPixelOrigin(f,w)).round();Kt.any3d?ji(r.el,V,T):kr(r.el,V)},_resetGrid:function(){var r=this._map,f=r.options.crs,w=this._tileSize=this.getTileSize(),T=this._tileZoom,V=this._map.getPixelWorldBounds(this._tileZoom);V&&(this._globalTileRange=this._pxBoundsToTileRange(V)),this._wrapX=f.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,f.wrapLng[0]],T).x/w.x),Math.ceil(r.project([0,f.wrapLng[1]],T).x/w.y)],this._wrapY=f.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([f.wrapLat[0],0],T).y/w.x),Math.ceil(r.project([f.wrapLat[1],0],T).y/w.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var f=this._map,w=f._animatingZoom?Math.max(f._animateToZoom,f.getZoom()):f.getZoom(),T=f.getZoomScale(w,this._tileZoom),V=f.project(r,this._tileZoom).floor(),le=f.getSize().divideBy(T*2);return new re(V.subtract(le),V.add(le))},_update:function(r){var f=this._map;if(f){var w=this._clampZoom(f.getZoom());if(r===void 0&&(r=f.getCenter()),this._tileZoom!==void 0){var T=this._getTiledPixelBounds(r),V=this._pxBoundsToTileRange(T),le=V.getCenter(),He=[],mt=this.options.keepBuffer,xt=new re(V.getBottomLeft().subtract([mt,-mt]),V.getTopRight().add([mt,-mt]));if(!(isFinite(V.min.x)&&isFinite(V.min.y)&&isFinite(V.max.x)&&isFinite(V.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Rt in this._tiles){var Yt=this._tiles[Rt].coords;(Yt.z!==this._tileZoom||!xt.contains(new Le(Yt.x,Yt.y)))&&(this._tiles[Rt].current=!1)}if(Math.abs(w-this._tileZoom)>1){this._setView(r,w);return}for(var pn=V.min.y;pn<=V.max.y;pn++)for(var On=V.min.x;On<=V.max.x;On++){var di=new Le(On,pn);if(di.z=this._tileZoom,!!this._isValidTile(di)){var Wr=this._tiles[this._tileCoordsToKey(di)];Wr?Wr.current=!0:He.push(di)}}if(He.sort(function(Pr,ia){return Pr.distanceTo(le)-ia.distanceTo(le)}),He.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Pi=document.createDocumentFragment();for(On=0;On<He.length;On++)this._addTile(He[On],Pi);this._level.el.appendChild(Pi)}}}},_isValidTile:function(r){var f=this._map.options.crs;if(!f.infinite){var w=this._globalTileRange;if(!f.wrapLng&&(r.x<w.min.x||r.x>w.max.x)||!f.wrapLat&&(r.y<w.min.y||r.y>w.max.y))return!1}if(!this.options.bounds)return!0;var T=this._tileCoordsToBounds(r);return fe(this.options.bounds).overlaps(T)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var f=this._map,w=this.getTileSize(),T=r.scaleBy(w),V=T.add(w),le=f.unproject(T,r.z),He=f.unproject(V,r.z);return[le,He]},_tileCoordsToBounds:function(r){var f=this._tileCoordsToNwSe(r),w=new he(f[0],f[1]);return this.options.noWrap||(w=this._map.wrapLatLngBounds(w)),w},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var f=r.split(":"),w=new Le(+f[0],+f[1]);return w.z=+f[2],w},_removeTile:function(r){var f=this._tiles[r];f&&(Mn(f.el),delete this._tiles[r],this.fire("tileunload",{tile:f.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){Ln(r,"leaflet-tile");var f=this.getTileSize();r.style.width=f.x+"px",r.style.height=f.y+"px",r.onselectstart=E,r.onmousemove=E,Kt.ielt9&&this.options.opacity<1&&Jr(r,this.options.opacity)},_addTile:function(r,f){var w=this._getTilePos(r),T=this._tileCoordsToKey(r),V=this.createTile(this._wrapCoords(r),c(this._tileReady,this,r));this._initTile(V),this.createTile.length<2&&te(c(this._tileReady,this,r,null,V)),kr(V,w),this._tiles[T]={el:V,coords:r,current:!0},f.appendChild(V),this.fire("tileloadstart",{tile:V,coords:r})},_tileReady:function(r,f,w){f&&this.fire("tileerror",{error:f,tile:w,coords:r});var T=this._tileCoordsToKey(r);w=this._tiles[T],w&&(w.loaded=+new Date,this._map._fadeAnimated?(Jr(w.el,0),G(this._fadeFrame),this._fadeFrame=te(this._updateOpacity,this)):(w.active=!0,this._pruneTiles()),f||(Ln(w.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:w.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Kt.ielt9||!this._map._fadeAnimated?te(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var f=new Le(this._wrapX?S(r.x,this._wrapX):r.x,this._wrapY?S(r.y,this._wrapY):r.y);return f.z=r.z,f},_pxBoundsToTileRange:function(r){var f=this.getTileSize();return new re(r.min.unscaleBy(f).floor(),r.max.unscaleBy(f).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function fi(r){return new bs(r)}var Gr=bs.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,f){this._url=r,f=M(this,f),f.detectRetina&&Kt.retina&&f.maxZoom>0?(f.tileSize=Math.floor(f.tileSize/2),f.zoomReverse?(f.zoomOffset--,f.minZoom=Math.min(f.maxZoom,f.minZoom+1)):(f.zoomOffset++,f.maxZoom=Math.max(f.minZoom,f.maxZoom-1)),f.minZoom=Math.max(0,f.minZoom)):f.zoomReverse?f.minZoom=Math.min(f.maxZoom,f.minZoom):f.maxZoom=Math.max(f.minZoom,f.maxZoom),typeof f.subdomains=="string"&&(f.subdomains=f.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,f){return this._url===r&&f===void 0&&(f=!0),this._url=r,f||this.redraw(),this},createTile:function(r,f){var w=document.createElement("img");return xn(w,"load",c(this._tileOnLoad,this,f,w)),xn(w,"error",c(this._tileOnError,this,f,w)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(w.referrerPolicy=this.options.referrerPolicy),w.alt="",w.src=this.getTileUrl(r),w},getTileUrl:function(r){var f={r:Kt.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var w=this._globalTileRange.max.y-r.y;this.options.tms&&(f.y=w),f["-y"]=w}return W(this._url,u(f,this.options))},_tileOnLoad:function(r,f){Kt.ielt9?setTimeout(c(r,this,null,f),0):r(null,f)},_tileOnError:function(r,f,w){var T=this.options.errorTileUrl;T&&f.getAttribute("src")!==T&&(f.src=T),r(w,f)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,f=this.options.maxZoom,w=this.options.zoomReverse,T=this.options.zoomOffset;return w&&(r=f-r),r+T},_getSubdomain:function(r){var f=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[f]},_abortLoading:function(){var r,f;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(f=this._tiles[r].el,f.onload=E,f.onerror=E,!f.complete)){f.src=ie;var w=this._tiles[r].coords;Mn(f),delete this._tiles[r],this.fire("tileabort",{tile:f,coords:w})}},_removeTile:function(r){var f=this._tiles[r];if(f)return f.el.setAttribute("src",ie),bs.prototype._removeTile.call(this,r)},_tileReady:function(r,f,w){if(!(!this._map||w&&w.getAttribute("src")===ie))return bs.prototype._tileReady.call(this,r,f,w)}});function ir(r,f){return new Gr(r,f)}var Qn=Gr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,f){this._url=r;var w=u({},this.defaultWmsParams);for(var T in f)T in this.options||(w[T]=f[T]);f=M(this,f);var V=f.detectRetina&&Kt.retina?2:1,le=this.getTileSize();w.width=le.x*V,w.height=le.y*V,this.wmsParams=w},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var f=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[f]=this._crs.code,Gr.prototype.onAdd.call(this,r)},getTileUrl:function(r){var f=this._tileCoordsToNwSe(r),w=this._crs,T=F(w.project(f[0]),w.project(f[1])),V=T.min,le=T.max,He=(this._wmsVersion>=1.3&&this._crs===Rr?[V.y,V.x,le.y,le.x]:[V.x,V.y,le.x,le.y]).join(","),mt=Gr.prototype.getTileUrl.call(this,r);return mt+I(this.wmsParams,mt,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+He},setParams:function(r,f){return u(this.wmsParams,r),f||this.redraw(),this}});function Er(r,f){return new Qn(r,f)}Gr.WMS=Qn,ir.wms=Er;var lr=hr.extend({options:{padding:.1},initialize:function(r){M(this,r),g(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ln(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,f){var w=this._map.getZoomScale(f,this._zoom),T=this._map.getSize().multiplyBy(.5+this.options.padding),V=this._map.project(this._center,f),le=T.multiplyBy(-w).add(V).subtract(this._map._getNewPixelOrigin(r,f));Kt.any3d?ji(this._container,le,w):kr(this._container,le)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,f=this._map.getSize(),w=this._map.containerPointToLayerPoint(f.multiplyBy(-r)).round();this._bounds=new re(w,w.add(f.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),xs=lr.extend({options:{tolerance:0},getEvents:function(){var r=lr.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){lr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");xn(r,"mousemove",this._onMouseMove,this),xn(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),xn(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){G(this._redrawRequest),delete this._ctx,Mn(this._container),Hn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var f in this._layers)r=this._layers[f],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){lr.prototype._update.call(this);var r=this._bounds,f=this._container,w=r.getSize(),T=Kt.retina?2:1;kr(f,r.min),f.width=T*w.x,f.height=T*w.y,f.style.width=w.x+"px",f.style.height=w.y+"px",Kt.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){lr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[g(r)]=r;var f=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=f),this._drawLast=f,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var f=r._order,w=f.next,T=f.prev;w?w.prev=T:this._drawLast=T,T?T.next=w:this._drawFirst=w,delete r._order,delete this._layers[g(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var f=r.options.dashArray.split(/[, ]+/),w=[],T,V;for(V=0;V<f.length;V++){if(T=Number(f[V]),isNaN(T))return;w.push(T)}r.options._dashArray=w}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||te(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var f=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new re,this._redrawBounds.extend(r._pxBounds.min.subtract([f,f])),this._redrawBounds.extend(r._pxBounds.max.add([f,f]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var f=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,f.x,f.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,f=this._redrawBounds;if(this._ctx.save(),f){var w=f.getSize();this._ctx.beginPath(),this._ctx.rect(f.min.x,f.min.y,w.x,w.y),this._ctx.clip()}this._drawing=!0;for(var T=this._drawFirst;T;T=T.next)r=T.layer,(!f||r._pxBounds&&r._pxBounds.intersects(f))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,f){if(this._drawing){var w,T,V,le,He=r._parts,mt=He.length,xt=this._ctx;if(mt){for(xt.beginPath(),w=0;w<mt;w++){for(T=0,V=He[w].length;T<V;T++)le=He[w][T],xt[T?"lineTo":"moveTo"](le.x,le.y);f&&xt.closePath()}this._fillStroke(xt,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var f=r._point,w=this._ctx,T=Math.max(Math.round(r._radius),1),V=(Math.max(Math.round(r._radiusY),1)||T)/T;V!==1&&(w.save(),w.scale(1,V)),w.beginPath(),w.arc(f.x,f.y/V,T,0,Math.PI*2,!1),V!==1&&w.restore(),this._fillStroke(w,r)}},_fillStroke:function(r,f){var w=f.options;w.fill&&(r.globalAlpha=w.fillOpacity,r.fillStyle=w.fillColor||w.color,r.fill(w.fillRule||"evenodd")),w.stroke&&w.weight!==0&&(r.setLineDash&&r.setLineDash(f.options&&f.options._dashArray||[]),r.globalAlpha=w.opacity,r.lineWidth=w.weight,r.strokeStyle=w.color,r.lineCap=w.lineCap,r.lineJoin=w.lineJoin,r.stroke())},_onClick:function(r){for(var f=this._map.mouseEventToLayerPoint(r),w,T,V=this._drawFirst;V;V=V.next)w=V.layer,w.options.interactive&&w._containsPoint(f)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(w))&&(T=w);this._fireEvent(T?[T]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var f=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,f)}},_handleMouseOut:function(r){var f=this._hoveredLayer;f&&(Vn(this._container,"leaflet-interactive"),this._fireEvent([f],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,f){if(!this._mouseHoverThrottled){for(var w,T,V=this._drawFirst;V;V=V.next)w=V.layer,w.options.interactive&&w._containsPoint(f)&&(T=w);T!==this._hoveredLayer&&(this._handleMouseOut(r),T&&(Ln(this._container,"leaflet-interactive"),this._fireEvent([T],r,"mouseover"),this._hoveredLayer=T)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,f,w){this._map._fireDOMEvent(f,w||f.type,r)},_bringToFront:function(r){var f=r._order;if(f){var w=f.next,T=f.prev;if(w)w.prev=T;else return;T?T.next=w:w&&(this._drawFirst=w),f.prev=this._drawLast,this._drawLast.next=f,f.next=null,this._drawLast=f,this._requestRedraw(r)}},_bringToBack:function(r){var f=r._order;if(f){var w=f.next,T=f.prev;if(T)T.next=w;else return;w?w.prev=T:T&&(this._drawLast=T),f.prev=null,f.next=this._drawFirst,this._drawFirst.prev=f,this._drawFirst=f,this._requestRedraw(r)}}});function xa(r){return Kt.canvas?new xs(r):null}var Rs=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),zo={_initContainer:function(){this._container=An("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(lr.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var f=r._container=Rs("shape");Ln(f,"leaflet-vml-shape "+(this.options.className||"")),f.coordsize="1 1",r._path=Rs("path"),f.appendChild(r._path),this._updateStyle(r),this._layers[g(r)]=r},_addPath:function(r){var f=r._container;this._container.appendChild(f),r.options.interactive&&r.addInteractiveTarget(f)},_removePath:function(r){var f=r._container;Mn(f),r.removeInteractiveTarget(f),delete this._layers[g(r)]},_updateStyle:function(r){var f=r._stroke,w=r._fill,T=r.options,V=r._container;V.stroked=!!T.stroke,V.filled=!!T.fill,T.stroke?(f||(f=r._stroke=Rs("stroke")),V.appendChild(f),f.weight=T.weight+"px",f.color=T.color,f.opacity=T.opacity,T.dashArray?f.dashStyle=K(T.dashArray)?T.dashArray.join(" "):T.dashArray.replace(/( *, *)/g," "):f.dashStyle="",f.endcap=T.lineCap.replace("butt","flat"),f.joinstyle=T.lineJoin):f&&(V.removeChild(f),r._stroke=null),T.fill?(w||(w=r._fill=Rs("fill")),V.appendChild(w),w.color=T.fillColor||T.color,w.opacity=T.fillOpacity):w&&(V.removeChild(w),r._fill=null)},_updateCircle:function(r){var f=r._point.round(),w=Math.round(r._radius),T=Math.round(r._radiusY||w);this._setPath(r,r._empty()?"M0 0":"AL "+f.x+","+f.y+" "+w+","+T+" 0,"+65535*360)},_setPath:function(r,f){r._path.v=f},_bringToFront:function(r){_a(r._container)},_bringToBack:function(r){Qi(r._container)}},Ei=Kt.vml?Rs:je,Nr=lr.extend({_initContainer:function(){this._container=Ei("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ei("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Mn(this._container),Hn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){lr.prototype._update.call(this);var r=this._bounds,f=r.getSize(),w=this._container;(!this._svgSize||!this._svgSize.equals(f))&&(this._svgSize=f,w.setAttribute("width",f.x),w.setAttribute("height",f.y)),kr(w,r.min),w.setAttribute("viewBox",[r.min.x,r.min.y,f.x,f.y].join(" ")),this.fire("update")}},_initPath:function(r){var f=r._path=Ei("path");r.options.className&&Ln(f,r.options.className),r.options.interactive&&Ln(f,"leaflet-interactive"),this._updateStyle(r),this._layers[g(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){Mn(r._path),r.removeInteractiveTarget(r._path),delete this._layers[g(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var f=r._path,w=r.options;f&&(w.stroke?(f.setAttribute("stroke",w.color),f.setAttribute("stroke-opacity",w.opacity),f.setAttribute("stroke-width",w.weight),f.setAttribute("stroke-linecap",w.lineCap),f.setAttribute("stroke-linejoin",w.lineJoin),w.dashArray?f.setAttribute("stroke-dasharray",w.dashArray):f.removeAttribute("stroke-dasharray"),w.dashOffset?f.setAttribute("stroke-dashoffset",w.dashOffset):f.removeAttribute("stroke-dashoffset")):f.setAttribute("stroke","none"),w.fill?(f.setAttribute("fill",w.fillColor||w.color),f.setAttribute("fill-opacity",w.fillOpacity),f.setAttribute("fill-rule",w.fillRule||"evenodd")):f.setAttribute("fill","none"))},_updatePoly:function(r,f){this._setPath(r,oe(r._parts,f))},_updateCircle:function(r){var f=r._point,w=Math.max(Math.round(r._radius),1),T=Math.max(Math.round(r._radiusY),1)||w,V="a"+w+","+T+" 0 1,0 ",le=r._empty()?"M0 0":"M"+(f.x-w)+","+f.y+V+w*2+",0 "+V+-w*2+",0 ";this._setPath(r,le)},_setPath:function(r,f){r._path.setAttribute("d",f)},_bringToFront:function(r){_a(r._path)},_bringToBack:function(r){Qi(r._path)}});Kt.vml&&Nr.include(zo);function sr(r){return Kt.svg||Kt.vml?new Nr(r):null}In.include({getRenderer:function(r){var f=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return f||(f=this._renderer=this._createRenderer()),this.hasLayer(f)||this.addLayer(f),f},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var f=this._paneRenderers[r];return f===void 0&&(f=this._createRenderer({pane:r}),this._paneRenderers[r]=f),f},_createRenderer:function(r){return this.options.preferCanvas&&xa(r)||sr(r)}});var Wi=Sr.extend({initialize:function(r,f){Sr.prototype.initialize.call(this,this._boundsToLatLngs(r),f)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=fe(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function Vi(r,f){return new Wi(r,f)}Nr.create=Ei,Nr.pointsToPath=oe,is.geometryToLayer=ya,is.coordsToLatLng=Ds,is.coordsToLatLngs=Xr,is.latLngToCoords=qr,is.latLngsToCoords=Is,is.getFeature=qi,is.asFeature=vs,In.mergeOptions({boxZoom:!0});var yn=Br.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){xn(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Hn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Mn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Gn(),yo(),this._startPoint=this._map.mouseEventToContainerPoint(r),xn(document,{contextmenu:ai,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=An("div","leaflet-zoom-box",this._container),Ln(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var f=new re(this._point,this._startPoint),w=f.getSize();kr(this._box,f.min),this._box.style.width=w.x+"px",this._box.style.height=w.y+"px"},_finish:function(){this._moved&&(Mn(this._box),Vn(this._container,"leaflet-crosshair")),Ws(),ps(),Hn(document,{contextmenu:ai,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var f=new he(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(f).fire("boxzoomend",{boxZoomBounds:f})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});In.addInitHook("addHandler","boxZoom",yn),In.mergeOptions({doubleClickZoom:!0});var Uo=Br.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var f=this._map,w=f.getZoom(),T=f.options.zoomDelta,V=r.originalEvent.shiftKey?w-T:w+T;f.options.doubleClickZoom==="center"?f.setZoom(V):f.setZoomAround(r.containerPoint,V)}});In.addInitHook("addHandler","doubleClickZoom",Uo),In.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ha=Br.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new ki(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}Ln(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Vn(this._map._container,"leaflet-grab"),Vn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var f=fe(this._map.options.maxBounds);this._offsetLimit=F(this._map.latLngToContainerPoint(f.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(f.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var f=this._lastTime=+new Date,w=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(w),this._times.push(f),this._prunePositions(f)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),f=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=f.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,f){return r-(r-f)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),f=this._offsetLimit;r.x<f.min.x&&(r.x=this._viscousLimit(r.x,f.min.x)),r.y<f.min.y&&(r.y=this._viscousLimit(r.y,f.min.y)),r.x>f.max.x&&(r.x=this._viscousLimit(r.x,f.max.x)),r.y>f.max.y&&(r.y=this._viscousLimit(r.y,f.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,f=Math.round(r/2),w=this._initialWorldOffset,T=this._draggable._newPos.x,V=(T-f+w)%r+f-w,le=(T+f+w)%r-f-w,He=Math.abs(V+w)<Math.abs(le+w)?V:le;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=He},_onDragEnd:function(r){var f=this._map,w=f.options,T=!w.inertia||r.noInertia||this._times.length<2;if(f.fire("dragend",r),T)f.fire("moveend");else{this._prunePositions(+new Date);var V=this._lastPos.subtract(this._positions[0]),le=(this._lastTime-this._times[0])/1e3,He=w.easeLinearity,mt=V.multiplyBy(He/le),xt=mt.distanceTo([0,0]),Rt=Math.min(w.inertiaMaxSpeed,xt),Yt=mt.multiplyBy(Rt/xt),pn=Rt/(w.inertiaDeceleration*He),On=Yt.multiplyBy(-pn/2).round();!On.x&&!On.y?f.fire("moveend"):(On=f._limitOffset(On,f.options.maxBounds),te(function(){f.panBy(On,{duration:pn,easeLinearity:He,noMoveStart:!0,animate:!0})}))}}});In.addInitHook("addHandler","dragging",Ha),In.mergeOptions({keyboard:!0,keyboardPanDelta:80});var as=Br.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),xn(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Hn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,f=document.documentElement,w=r.scrollTop||f.scrollTop,T=r.scrollLeft||f.scrollLeft;this._map._container.focus(),window.scrollTo(T,w)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var f=this._panKeys={},w=this.keyCodes,T,V;for(T=0,V=w.left.length;T<V;T++)f[w.left[T]]=[-1*r,0];for(T=0,V=w.right.length;T<V;T++)f[w.right[T]]=[r,0];for(T=0,V=w.down.length;T<V;T++)f[w.down[T]]=[0,r];for(T=0,V=w.up.length;T<V;T++)f[w.up[T]]=[0,-1*r]},_setZoomDelta:function(r){var f=this._zoomKeys={},w=this.keyCodes,T,V;for(T=0,V=w.zoomIn.length;T<V;T++)f[w.zoomIn[T]]=r;for(T=0,V=w.zoomOut.length;T<V;T++)f[w.zoomOut[T]]=-r},_addHooks:function(){xn(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Hn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var f=r.keyCode,w=this._map,T;if(f in this._panKeys){if(!w._panAnim||!w._panAnim._inProgress)if(T=this._panKeys[f],r.shiftKey&&(T=Pe(T).multiplyBy(3)),w.options.maxBounds&&(T=w._limitOffset(Pe(T),w.options.maxBounds)),w.options.worldCopyJump){var V=w.wrapLatLng(w.unproject(w.project(w.getCenter()).add(T)));w.panTo(V)}else w.panBy(T)}else if(f in this._zoomKeys)w.setZoom(w.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[f]);else if(f===27&&w._popup&&w._popup.options.closeOnEscapeKey)w.closePopup();else return;ai(r)}}});In.addInitHook("addHandler","keyboard",as),In.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Pn=Br.extend({addHooks:function(){xn(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Hn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var f=xo(r),w=this._map.options.wheelDebounceTime;this._delta+=f,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var T=Math.max(w-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),T),ai(r)},_performZoom:function(){var r=this._map,f=r.getZoom(),w=this._map.options.zoomSnap||0;r._stop();var T=this._delta/(this._map.options.wheelPxPerZoomLevel*4),V=4*Math.log(2/(1+Math.exp(-Math.abs(T))))/Math.LN2,le=w?Math.ceil(V/w)*w:V,He=r._limitZoom(f+(this._delta>0?le:-le))-f;this._delta=0,this._startTime=null,He&&(r.options.scrollWheelZoom==="center"?r.setZoom(f+He):r.setZoomAround(this._lastMousePos,f+He))}});In.addInitHook("addHandler","scrollWheelZoom",Pn);var qo=600;In.mergeOptions({tapHold:Kt.touchNative&&Kt.safari&&Kt.mobile,tapTolerance:15});var Qr=Br.extend({addHooks:function(){xn(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Hn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var f=r.touches[0];this._startPos=this._newPos=new Le(f.clientX,f.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(xn(document,"touchend",gr),xn(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",f))},this),qo),xn(document,"touchend touchcancel contextmenu",this._cancel,this),xn(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){Hn(document,"touchend",gr),Hn(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),Hn(document,"touchend touchcancel contextmenu",this._cancel,this),Hn(document,"touchmove",this._onMove,this)},_onMove:function(r){var f=r.touches[0];this._newPos=new Le(f.clientX,f.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,f){var w=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:f.screenX,screenY:f.screenY,clientX:f.clientX,clientY:f.clientY});w._simulated=!0,f.target.dispatchEvent(w)}});In.addInitHook("addHandler","tapHold",Qr),In.mergeOptions({touchZoom:Kt.touch,bounceAtZoomLimits:!0});var Hr=Br.extend({addHooks:function(){Ln(this._map._container,"leaflet-touch-zoom"),xn(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Vn(this._map._container,"leaflet-touch-zoom"),Hn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var f=this._map;if(!(!r.touches||r.touches.length!==2||f._animatingZoom||this._zooming)){var w=f.mouseEventToContainerPoint(r.touches[0]),T=f.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=f.getSize()._divideBy(2),this._startLatLng=f.containerPointToLatLng(this._centerPoint),f.options.touchZoom!=="center"&&(this._pinchStartLatLng=f.containerPointToLatLng(w.add(T)._divideBy(2))),this._startDist=w.distanceTo(T),this._startZoom=f.getZoom(),this._moved=!1,this._zooming=!0,f._stop(),xn(document,"touchmove",this._onTouchMove,this),xn(document,"touchend touchcancel",this._onTouchEnd,this),gr(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var f=this._map,w=f.mouseEventToContainerPoint(r.touches[0]),T=f.mouseEventToContainerPoint(r.touches[1]),V=w.distanceTo(T)/this._startDist;if(this._zoom=f.getScaleZoom(V,this._startZoom),!f.options.bounceAtZoomLimits&&(this._zoom<f.getMinZoom()&&V<1||this._zoom>f.getMaxZoom()&&V>1)&&(this._zoom=f._limitZoom(this._zoom)),f.options.touchZoom==="center"){if(this._center=this._startLatLng,V===1)return}else{var le=w._add(T)._divideBy(2)._subtract(this._centerPoint);if(V===1&&le.x===0&&le.y===0)return;this._center=f.unproject(f.project(this._pinchStartLatLng,this._zoom).subtract(le),this._zoom)}this._moved||(f._moveStart(!0,!1),this._moved=!0),G(this._animRequest);var He=c(f._move,f,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=te(He,this,!0),gr(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,G(this._animRequest),Hn(document,"touchmove",this._onTouchMove,this),Hn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});In.addInitHook("addHandler","touchZoom",Hr),In.BoxZoom=yn,In.DoubleClickZoom=Uo,In.Drag=Ha,In.Keyboard=as,In.ScrollWheelZoom=Pn,In.TapHold=Qr,In.TouchZoom=Hr,e.Bounds=re,e.Browser=Kt,e.CRS=Ke,e.Canvas=xs,e.Circle=ui,e.CircleMarker=Si,e.Class=j,e.Control=gn,e.DivIcon=ra,e.DivOverlay=yi,e.DomEvent=Ys,e.DomUtil=bn,e.Draggable=ki,e.Evented=Fe,e.FeatureGroup=Ci,e.GeoJSON=is,e.GridLayer=bs,e.Handler=Br,e.Icon=_s,e.ImageOverlay=Gi,e.LatLng=pe,e.LatLngBounds=he,e.Layer=hr,e.LayerGroup=li,e.LineUtil=Rn,e.Map=In,e.Marker=vr,e.Mixin=Co,e.Path=Ui,e.Point=Le,e.PolyUtil=So,e.Polygon=Sr,e.Polyline=hi,e.Popup=Hi,e.PosAnimation=so,e.Projection=rr,e.Rectangle=Wi,e.Renderer=lr,e.SVG=Nr,e.SVGOverlay=Mo,e.TileLayer=Gr,e.Tooltip=ws,e.Transformation=Ot,e.Util=ve,e.VideoOverlay=ci,e.bind=c,e.bounds=F,e.canvas=xa,e.circle=rs,e.circleMarker=lo,e.control=Yr,e.divIcon=ba,e.extend=u,e.featureGroup=Eo,e.geoJSON=ys,e.geoJson=Xn,e.gridLayer=fi,e.icon=Po,e.imageOverlay=vi,e.latLng=Be,e.latLngBounds=fe,e.layerGroup=qa,e.map=gs,e.marker=Ao,e.point=Pe,e.polygon=ta,e.polyline=ll,e.popup=ss,e.rectangle=Vi,e.setOptions=M,e.stamp=g,e.svg=sr,e.svgOverlay=uo,e.tileLayer=ir,e.tooltip=na,e.transformation=Gt,e.version=i,e.videoOverlay=Ga;var Fs=window.L;e.noConflict=function(){return window.L=Fs,this},window.L=e}))})(Ch,Ch.exports)),Ch.exports}var Tl=Qm();const Kl=bu(Tl);function zh(o,t,e){return Object.freeze({instance:o,context:t,container:e})}function Gc(o,t){return t==null?function(i,u){const l=ot.useRef();return l.current||(l.current=o(i,u)),l}:function(i,u){const l=ot.useRef();l.current||(l.current=o(i,u));const c=ot.useRef(i),{instance:d}=l.current;return ot.useEffect(function(){c.current!==i&&(t(d,i,c.current),c.current=i)},[d,i,u]),l}}function eg(o,t){ot.useEffect(function(){return(t.layerContainer??t.map).addLayer(o.instance),function(){t.layerContainer?.removeLayer(o.instance),t.map.removeLayer(o.instance)}},[t,o])}function o2(o){return function(e){const i=jh(),u=o(qc(e,i),i);return r2(i.map,e.attribution),Xm(u.current,e.eventHandlers),eg(u.current,i),u}}function l2(o,t){const e=ot.useRef();ot.useEffect(function(){if(t.pathOptions!==e.current){const u=t.pathOptions??{};o.instance.setStyle(u),e.current=u}},[o,t])}function u2(o){return function(e){const i=jh(),u=o(qc(e,i),i);return Xm(u.current,e.eventHandlers),eg(u.current,i),l2(u.current,e),u}}function tg(o){function t(u,l){return zh(o(u),l)}const e=Gc(t),i=Ym(e);return Jm(i)}function h2(o,t){const e=Gc(o,t),i=u2(e);return Km(i)}function ng(o,t){const e=Gc(o,t),i=o2(e);return Jm(i)}function rg(o,t,e){const{opacity:i,zIndex:u}=t;i!=null&&i!==e.opacity&&o.setOpacity(i),u!=null&&u!==e.zIndex&&o.setZIndex(u)}function c2(){return jh().map}function f2(o){const t=c2();return ot.useEffect(function(){return t.on(o),function(){t.off(o)}},[t,o]),t}const d2=h2(function({data:t,...e},i){const u=new Tl.GeoJSON(t,e);return zh(u,zd(i,{overlayContainer:u}))},function(t,e,i){e.style!==i.style&&(e.style==null?t.resetStyle():t.setStyle(e.style))}),p2=Gc(function({children:t,...e},i){const u=new Tl.Control.Layers(void 0,void 0,e);return zh(u,zd(i,{layersControl:u}))},function(t,e,i){e.collapsed!==i.collapsed&&(e.collapsed===!0?t.collapse():t.expand())}),m2=Ym(p2),eh=Km(m2);function ig(o){return function(e){const i=jh(),u=ot.useRef(e),[l,c]=ot.useState(null),{layersControl:d,map:g}=i,y=ot.useCallback(A=>{d!=null&&(u.current.checked&&g.addLayer(A),o(d,A,u.current.name),c(A))},[d,g]),S=ot.useCallback(A=>{d?.removeLayer(A),c(null)},[d]),E=ot.useMemo(()=>zd(i,{layerContainer:{addLayer:y,removeLayer:S}}),[i,y,S]);return ot.useEffect(()=>{l!==null&&u.current!==e&&(e.checked===!0&&(u.current.checked==null||u.current.checked===!1)?g.addLayer(l):u.current.checked===!0&&(e.checked==null||e.checked===!1)&&g.removeLayer(l),u.current=e)}),e.children?Bh.createElement(Ud,{value:E},e.children):null}}eh.BaseLayer=ig(function(t,e,i){t.addBaseLayer(e,i)});eh.Overlay=ig(function(t,e,i){t.addOverlay(e,i)});function md(){return md=Object.assign||function(o){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(o[i]=e[i])}return o},md.apply(this,arguments)}function g2({bounds:o,boundsOptions:t,center:e,children:i,className:u,id:l,placeholder:c,style:d,whenReady:g,zoom:y,...S},E){const[A]=ot.useState({className:u,id:l,style:d}),[x,R]=ot.useState(null);ot.useImperativeHandle(E,()=>x?.map??null,[x]);const M=ot.useCallback(O=>{if(O!==null&&x===null){const W=new Tl.Map(O,S);e!=null&&y!=null?W.setView(e,y):o!=null&&W.fitBounds(o,t),g!=null&&W.whenReady(g),R(s2(W))}},[]);ot.useEffect(()=>()=>{x?.map.remove()},[x]);const I=x?Bh.createElement(Ud,{value:x},i):c??null;return Bh.createElement("div",md({},A,{ref:M}),I)}const _2=ot.forwardRef(g2),v2=tg(function(t){return new Tl.Control.Scale(t)}),I0=ng(function({url:t,...e},i){const u=new Tl.TileLayer(t,qc(e,i));return zh(u,i)},function(t,e,i){rg(t,e,i);const{url:u}=e;u!=null&&u!==i.url&&t.setUrl(u)}),y2=ng(function({eventHandlers:t,params:e={},url:i,...u},l){const c=new Tl.TileLayer.WMS(i,{...e,...qc(u,l)});return zh(c,l)},function(t,e,i){rg(t,e,i),e.params!=null&&e.params!==i.params&&t.setParams(e.params)}),w2=tg(function(t){return new Tl.Control.Zoom(t)});function wc(o){throw new Error('Could not dynamically require "'+o+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var qf={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var R0;function b2(){return R0||(R0=1,(function(o,t){(function(e){o.exports=e()})(function(){return(function e(i,u,l){function c(y,S){if(!u[y]){if(!i[y]){var E=typeof wc=="function"&&wc;if(!S&&E)return E(y,!0);if(d)return d(y,!0);var A=new Error("Cannot find module '"+y+"'");throw A.code="MODULE_NOT_FOUND",A}var x=u[y]={exports:{}};i[y][0].call(x.exports,function(R){var M=i[y][1][R];return c(M||R)},x,x.exports,e,i,u,l)}return u[y].exports}for(var d=typeof wc=="function"&&wc,g=0;g<l.length;g++)c(l[g]);return c})({1:[function(e,i,u){var l=e("./utils"),c=e("./support"),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";u.encode=function(g){for(var y,S,E,A,x,R,M,I=[],O=0,W=g.length,K=W,de=l.getTypeOf(g)!=="string";O<g.length;)K=W-O,E=de?(y=g[O++],S=O<W?g[O++]:0,O<W?g[O++]:0):(y=g.charCodeAt(O++),S=O<W?g.charCodeAt(O++):0,O<W?g.charCodeAt(O++):0),A=y>>2,x=(3&y)<<4|S>>4,R=1<K?(15&S)<<2|E>>6:64,M=2<K?63&E:64,I.push(d.charAt(A)+d.charAt(x)+d.charAt(R)+d.charAt(M));return I.join("")},u.decode=function(g){var y,S,E,A,x,R,M=0,I=0,O="data:";if(g.substr(0,O.length)===O)throw new Error("Invalid base64 input, it looks like a data url.");var W,K=3*(g=g.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(g.charAt(g.length-1)===d.charAt(64)&&K--,g.charAt(g.length-2)===d.charAt(64)&&K--,K%1!=0)throw new Error("Invalid base64 input, bad content length.");for(W=c.uint8array?new Uint8Array(0|K):new Array(0|K);M<g.length;)y=d.indexOf(g.charAt(M++))<<2|(A=d.indexOf(g.charAt(M++)))>>4,S=(15&A)<<4|(x=d.indexOf(g.charAt(M++)))>>2,E=(3&x)<<6|(R=d.indexOf(g.charAt(M++))),W[I++]=y,x!==64&&(W[I++]=S),R!==64&&(W[I++]=E);return W}},{"./support":30,"./utils":32}],2:[function(e,i,u){var l=e("./external"),c=e("./stream/DataWorker"),d=e("./stream/Crc32Probe"),g=e("./stream/DataLengthProbe");function y(S,E,A,x,R){this.compressedSize=S,this.uncompressedSize=E,this.crc32=A,this.compression=x,this.compressedContent=R}y.prototype={getContentWorker:function(){var S=new c(l.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new g("data_length")),E=this;return S.on("end",function(){if(this.streamInfo.data_length!==E.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),S},getCompressedWorker:function(){return new c(l.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},y.createWorkerFrom=function(S,E,A){return S.pipe(new d).pipe(new g("uncompressedSize")).pipe(E.compressWorker(A)).pipe(new g("compressedSize")).withStreamInfo("compression",E)},i.exports=y},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,i,u){var l=e("./stream/GenericWorker");u.STORE={magic:"\0\0",compressWorker:function(){return new l("STORE compression")},uncompressWorker:function(){return new l("STORE decompression")}},u.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,i,u){var l=e("./utils"),c=(function(){for(var d,g=[],y=0;y<256;y++){d=y;for(var S=0;S<8;S++)d=1&d?3988292384^d>>>1:d>>>1;g[y]=d}return g})();i.exports=function(d,g){return d!==void 0&&d.length?l.getTypeOf(d)!=="string"?(function(y,S,E,A){var x=c,R=A+E;y^=-1;for(var M=A;M<R;M++)y=y>>>8^x[255&(y^S[M])];return-1^y})(0|g,d,d.length,0):(function(y,S,E,A){var x=c,R=A+E;y^=-1;for(var M=A;M<R;M++)y=y>>>8^x[255&(y^S.charCodeAt(M))];return-1^y})(0|g,d,d.length,0):0}},{"./utils":32}],5:[function(e,i,u){u.base64=!1,u.binary=!1,u.dir=!1,u.createFolders=!0,u.date=null,u.compression=null,u.compressionOptions=null,u.comment=null,u.unixPermissions=null,u.dosPermissions=null},{}],6:[function(e,i,u){var l=null;l=typeof Promise<"u"?Promise:e("lie"),i.exports={Promise:l}},{lie:37}],7:[function(e,i,u){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",c=e("pako"),d=e("./utils"),g=e("./stream/GenericWorker"),y=l?"uint8array":"array";function S(E,A){g.call(this,"FlateWorker/"+E),this._pako=null,this._pakoAction=E,this._pakoOptions=A,this.meta={}}u.magic="\b\0",d.inherits(S,g),S.prototype.processChunk=function(E){this.meta=E.meta,this._pako===null&&this._createPako(),this._pako.push(d.transformTo(y,E.data),!1)},S.prototype.flush=function(){g.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},S.prototype.cleanUp=function(){g.prototype.cleanUp.call(this),this._pako=null},S.prototype._createPako=function(){this._pako=new c[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var E=this;this._pako.onData=function(A){E.push({data:A,meta:E.meta})}},u.compressWorker=function(E){return new S("Deflate",E)},u.uncompressWorker=function(){return new S("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,i,u){function l(x,R){var M,I="";for(M=0;M<R;M++)I+=String.fromCharCode(255&x),x>>>=8;return I}function c(x,R,M,I,O,W){var K,de,ie=x.file,xe=x.compression,Z=W!==y.utf8encode,Y=d.transformTo("string",W(ie.name)),me=d.transformTo("string",y.utf8encode(ie.name)),Ne=ie.comment,te=d.transformTo("string",W(Ne)),G=d.transformTo("string",y.utf8encode(Ne)),ve=me.length!==ie.name.length,j=G.length!==Ne.length,Ie="",Ve="",Fe="",Le=ie.dir,Ae=ie.date,Pe={crc32:0,compressedSize:0,uncompressedSize:0};R&&!M||(Pe.crc32=x.crc32,Pe.compressedSize=x.compressedSize,Pe.uncompressedSize=x.uncompressedSize);var re=0;R&&(re|=8),Z||!ve&&!j||(re|=2048);var F=0,he=0;Le&&(F|=16),O==="UNIX"?(he=798,F|=(function(pe,Be){var Ke=pe;return pe||(Ke=Be?16893:33204),(65535&Ke)<<16})(ie.unixPermissions,Le)):(he=20,F|=(function(pe){return 63&(pe||0)})(ie.dosPermissions)),K=Ae.getUTCHours(),K<<=6,K|=Ae.getUTCMinutes(),K<<=5,K|=Ae.getUTCSeconds()/2,de=Ae.getUTCFullYear()-1980,de<<=4,de|=Ae.getUTCMonth()+1,de<<=5,de|=Ae.getUTCDate(),ve&&(Ve=l(1,1)+l(S(Y),4)+me,Ie+="up"+l(Ve.length,2)+Ve),j&&(Fe=l(1,1)+l(S(te),4)+G,Ie+="uc"+l(Fe.length,2)+Fe);var fe="";return fe+=`
\0`,fe+=l(re,2),fe+=xe.magic,fe+=l(K,2),fe+=l(de,2),fe+=l(Pe.crc32,4),fe+=l(Pe.compressedSize,4),fe+=l(Pe.uncompressedSize,4),fe+=l(Y.length,2),fe+=l(Ie.length,2),{fileRecord:E.LOCAL_FILE_HEADER+fe+Y+Ie,dirRecord:E.CENTRAL_FILE_HEADER+l(he,2)+fe+l(te.length,2)+"\0\0\0\0"+l(F,4)+l(I,4)+Y+Ie+te}}var d=e("../utils"),g=e("../stream/GenericWorker"),y=e("../utf8"),S=e("../crc32"),E=e("../signature");function A(x,R,M,I){g.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=R,this.zipPlatform=M,this.encodeFileName=I,this.streamFiles=x,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}d.inherits(A,g),A.prototype.push=function(x){var R=x.meta.percent||0,M=this.entriesCount,I=this._sources.length;this.accumulate?this.contentBuffer.push(x):(this.bytesWritten+=x.data.length,g.prototype.push.call(this,{data:x.data,meta:{currentFile:this.currentFile,percent:M?(R+100*(M-I-1))/M:100}}))},A.prototype.openedSource=function(x){this.currentSourceOffset=this.bytesWritten,this.currentFile=x.file.name;var R=this.streamFiles&&!x.file.dir;if(R){var M=c(x,R,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:M.fileRecord,meta:{percent:0}})}else this.accumulate=!0},A.prototype.closedSource=function(x){this.accumulate=!1;var R=this.streamFiles&&!x.file.dir,M=c(x,R,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(M.dirRecord),R)this.push({data:(function(I){return E.DATA_DESCRIPTOR+l(I.crc32,4)+l(I.compressedSize,4)+l(I.uncompressedSize,4)})(x),meta:{percent:100}});else for(this.push({data:M.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},A.prototype.flush=function(){for(var x=this.bytesWritten,R=0;R<this.dirRecords.length;R++)this.push({data:this.dirRecords[R],meta:{percent:100}});var M=this.bytesWritten-x,I=(function(O,W,K,de,ie){var xe=d.transformTo("string",ie(de));return E.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(O,2)+l(O,2)+l(W,4)+l(K,4)+l(xe.length,2)+xe})(this.dirRecords.length,M,x,this.zipComment,this.encodeFileName);this.push({data:I,meta:{percent:100}})},A.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},A.prototype.registerPrevious=function(x){this._sources.push(x);var R=this;return x.on("data",function(M){R.processChunk(M)}),x.on("end",function(){R.closedSource(R.previous.streamInfo),R._sources.length?R.prepareNextSource():R.end()}),x.on("error",function(M){R.error(M)}),this},A.prototype.resume=function(){return!!g.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},A.prototype.error=function(x){var R=this._sources;if(!g.prototype.error.call(this,x))return!1;for(var M=0;M<R.length;M++)try{R[M].error(x)}catch{}return!0},A.prototype.lock=function(){g.prototype.lock.call(this);for(var x=this._sources,R=0;R<x.length;R++)x[R].lock()},i.exports=A},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,i,u){var l=e("../compressions"),c=e("./ZipFileWorker");u.generateWorker=function(d,g,y){var S=new c(g.streamFiles,y,g.platform,g.encodeFileName),E=0;try{d.forEach(function(A,x){E++;var R=(function(W,K){var de=W||K,ie=l[de];if(!ie)throw new Error(de+" is not a valid compression method !");return ie})(x.options.compression,g.compression),M=x.options.compressionOptions||g.compressionOptions||{},I=x.dir,O=x.date;x._compressWorker(R,M).withStreamInfo("file",{name:A,dir:I,date:O,comment:x.comment||"",unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions}).pipe(S)}),S.entriesCount=E}catch(A){S.error(A)}return S}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,i,u){function l(){if(!(this instanceof l))return new l;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var c=new l;for(var d in this)typeof this[d]!="function"&&(c[d]=this[d]);return c}}(l.prototype=e("./object")).loadAsync=e("./load"),l.support=e("./support"),l.defaults=e("./defaults"),l.version="3.10.1",l.loadAsync=function(c,d){return new l().loadAsync(c,d)},l.external=e("./external"),i.exports=l},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,i,u){var l=e("./utils"),c=e("./external"),d=e("./utf8"),g=e("./zipEntries"),y=e("./stream/Crc32Probe"),S=e("./nodejsUtils");function E(A){return new c.Promise(function(x,R){var M=A.decompressed.getContentWorker().pipe(new y);M.on("error",function(I){R(I)}).on("end",function(){M.streamInfo.crc32!==A.decompressed.crc32?R(new Error("Corrupted zip : CRC32 mismatch")):x()}).resume()})}i.exports=function(A,x){var R=this;return x=l.extend(x||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:d.utf8decode}),S.isNode&&S.isStream(A)?c.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):l.prepareContent("the loaded zip file",A,!0,x.optimizedBinaryString,x.base64).then(function(M){var I=new g(x);return I.load(M),I}).then(function(M){var I=[c.Promise.resolve(M)],O=M.files;if(x.checkCRC32)for(var W=0;W<O.length;W++)I.push(E(O[W]));return c.Promise.all(I)}).then(function(M){for(var I=M.shift(),O=I.files,W=0;W<O.length;W++){var K=O[W],de=K.fileNameStr,ie=l.resolve(K.fileNameStr);R.file(ie,K.decompressed,{binary:!0,optimizedBinaryString:!0,date:K.date,dir:K.dir,comment:K.fileCommentStr.length?K.fileCommentStr:null,unixPermissions:K.unixPermissions,dosPermissions:K.dosPermissions,createFolders:x.createFolders}),K.dir||(R.file(ie).unsafeOriginalName=de)}return I.zipComment.length&&(R.comment=I.zipComment),R})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,i,u){var l=e("../utils"),c=e("../stream/GenericWorker");function d(g,y){c.call(this,"Nodejs stream input adapter for "+g),this._upstreamEnded=!1,this._bindStream(y)}l.inherits(d,c),d.prototype._bindStream=function(g){var y=this;(this._stream=g).pause(),g.on("data",function(S){y.push({data:S,meta:{percent:0}})}).on("error",function(S){y.isPaused?this.generatedError=S:y.error(S)}).on("end",function(){y.isPaused?y._upstreamEnded=!0:y.end()})},d.prototype.pause=function(){return!!c.prototype.pause.call(this)&&(this._stream.pause(),!0)},d.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},i.exports=d},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,i,u){var l=e("readable-stream").Readable;function c(d,g,y){l.call(this,g),this._helper=d;var S=this;d.on("data",function(E,A){S.push(E)||S._helper.pause(),y&&y(A)}).on("error",function(E){S.emit("error",E)}).on("end",function(){S.push(null)})}e("../utils").inherits(c,l),c.prototype._read=function(){this._helper.resume()},i.exports=c},{"../utils":32,"readable-stream":16}],14:[function(e,i,u){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(l,c){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(l,c);if(typeof l=="number")throw new Error('The "data" argument must not be a number');return new Buffer(l,c)},allocBuffer:function(l){if(Buffer.alloc)return Buffer.alloc(l);var c=new Buffer(l);return c.fill(0),c},isBuffer:function(l){return Buffer.isBuffer(l)},isStream:function(l){return l&&typeof l.on=="function"&&typeof l.pause=="function"&&typeof l.resume=="function"}}},{}],15:[function(e,i,u){function l(ie,xe,Z){var Y,me=d.getTypeOf(xe),Ne=d.extend(Z||{},S);Ne.date=Ne.date||new Date,Ne.compression!==null&&(Ne.compression=Ne.compression.toUpperCase()),typeof Ne.unixPermissions=="string"&&(Ne.unixPermissions=parseInt(Ne.unixPermissions,8)),Ne.unixPermissions&&16384&Ne.unixPermissions&&(Ne.dir=!0),Ne.dosPermissions&&16&Ne.dosPermissions&&(Ne.dir=!0),Ne.dir&&(ie=O(ie)),Ne.createFolders&&(Y=I(ie))&&W.call(this,Y,!0);var te=me==="string"&&Ne.binary===!1&&Ne.base64===!1;Z&&Z.binary!==void 0||(Ne.binary=!te),(xe instanceof E&&xe.uncompressedSize===0||Ne.dir||!xe||xe.length===0)&&(Ne.base64=!1,Ne.binary=!0,xe="",Ne.compression="STORE",me="string");var G=null;G=xe instanceof E||xe instanceof g?xe:R.isNode&&R.isStream(xe)?new M(ie,xe):d.prepareContent(ie,xe,Ne.binary,Ne.optimizedBinaryString,Ne.base64);var ve=new A(ie,G,Ne);this.files[ie]=ve}var c=e("./utf8"),d=e("./utils"),g=e("./stream/GenericWorker"),y=e("./stream/StreamHelper"),S=e("./defaults"),E=e("./compressedObject"),A=e("./zipObject"),x=e("./generate"),R=e("./nodejsUtils"),M=e("./nodejs/NodejsStreamInputAdapter"),I=function(ie){ie.slice(-1)==="/"&&(ie=ie.substring(0,ie.length-1));var xe=ie.lastIndexOf("/");return 0<xe?ie.substring(0,xe):""},O=function(ie){return ie.slice(-1)!=="/"&&(ie+="/"),ie},W=function(ie,xe){return xe=xe!==void 0?xe:S.createFolders,ie=O(ie),this.files[ie]||l.call(this,ie,null,{dir:!0,createFolders:xe}),this.files[ie]};function K(ie){return Object.prototype.toString.call(ie)==="[object RegExp]"}var de={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(ie){var xe,Z,Y;for(xe in this.files)Y=this.files[xe],(Z=xe.slice(this.root.length,xe.length))&&xe.slice(0,this.root.length)===this.root&&ie(Z,Y)},filter:function(ie){var xe=[];return this.forEach(function(Z,Y){ie(Z,Y)&&xe.push(Y)}),xe},file:function(ie,xe,Z){if(arguments.length!==1)return ie=this.root+ie,l.call(this,ie,xe,Z),this;if(K(ie)){var Y=ie;return this.filter(function(Ne,te){return!te.dir&&Y.test(Ne)})}var me=this.files[this.root+ie];return me&&!me.dir?me:null},folder:function(ie){if(!ie)return this;if(K(ie))return this.filter(function(me,Ne){return Ne.dir&&ie.test(me)});var xe=this.root+ie,Z=W.call(this,xe),Y=this.clone();return Y.root=Z.name,Y},remove:function(ie){ie=this.root+ie;var xe=this.files[ie];if(xe||(ie.slice(-1)!=="/"&&(ie+="/"),xe=this.files[ie]),xe&&!xe.dir)delete this.files[ie];else for(var Z=this.filter(function(me,Ne){return Ne.name.slice(0,ie.length)===ie}),Y=0;Y<Z.length;Y++)delete this.files[Z[Y].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(ie){var xe,Z={};try{if((Z=d.extend(ie||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:c.utf8encode})).type=Z.type.toLowerCase(),Z.compression=Z.compression.toUpperCase(),Z.type==="binarystring"&&(Z.type="string"),!Z.type)throw new Error("No output type specified.");d.checkSupport(Z.type),Z.platform!=="darwin"&&Z.platform!=="freebsd"&&Z.platform!=="linux"&&Z.platform!=="sunos"||(Z.platform="UNIX"),Z.platform==="win32"&&(Z.platform="DOS");var Y=Z.comment||this.comment||"";xe=x.generateWorker(this,Z,Y)}catch(me){(xe=new g("error")).error(me)}return new y(xe,Z.type||"string",Z.mimeType)},generateAsync:function(ie,xe){return this.generateInternalStream(ie).accumulate(xe)},generateNodeStream:function(ie,xe){return(ie=ie||{}).type||(ie.type="nodebuffer"),this.generateInternalStream(ie).toNodejsStream(xe)}};i.exports=de},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,i,u){i.exports=e("stream")},{stream:void 0}],17:[function(e,i,u){var l=e("./DataReader");function c(d){l.call(this,d);for(var g=0;g<this.data.length;g++)d[g]=255&d[g]}e("../utils").inherits(c,l),c.prototype.byteAt=function(d){return this.data[this.zero+d]},c.prototype.lastIndexOfSignature=function(d){for(var g=d.charCodeAt(0),y=d.charCodeAt(1),S=d.charCodeAt(2),E=d.charCodeAt(3),A=this.length-4;0<=A;--A)if(this.data[A]===g&&this.data[A+1]===y&&this.data[A+2]===S&&this.data[A+3]===E)return A-this.zero;return-1},c.prototype.readAndCheckSignature=function(d){var g=d.charCodeAt(0),y=d.charCodeAt(1),S=d.charCodeAt(2),E=d.charCodeAt(3),A=this.readData(4);return g===A[0]&&y===A[1]&&S===A[2]&&E===A[3]},c.prototype.readData=function(d){if(this.checkOffset(d),d===0)return[];var g=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,g},i.exports=c},{"../utils":32,"./DataReader":18}],18:[function(e,i,u){var l=e("../utils");function c(d){this.data=d,this.length=d.length,this.index=0,this.zero=0}c.prototype={checkOffset:function(d){this.checkIndex(this.index+d)},checkIndex:function(d){if(this.length<this.zero+d||d<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+d+"). Corrupted zip ?")},setIndex:function(d){this.checkIndex(d),this.index=d},skip:function(d){this.setIndex(this.index+d)},byteAt:function(){},readInt:function(d){var g,y=0;for(this.checkOffset(d),g=this.index+d-1;g>=this.index;g--)y=(y<<8)+this.byteAt(g);return this.index+=d,y},readString:function(d){return l.transformTo("string",this.readData(d))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var d=this.readInt(4);return new Date(Date.UTC(1980+(d>>25&127),(d>>21&15)-1,d>>16&31,d>>11&31,d>>5&63,(31&d)<<1))}},i.exports=c},{"../utils":32}],19:[function(e,i,u){var l=e("./Uint8ArrayReader");function c(d){l.call(this,d)}e("../utils").inherits(c,l),c.prototype.readData=function(d){this.checkOffset(d);var g=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,g},i.exports=c},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,i,u){var l=e("./DataReader");function c(d){l.call(this,d)}e("../utils").inherits(c,l),c.prototype.byteAt=function(d){return this.data.charCodeAt(this.zero+d)},c.prototype.lastIndexOfSignature=function(d){return this.data.lastIndexOf(d)-this.zero},c.prototype.readAndCheckSignature=function(d){return d===this.readData(4)},c.prototype.readData=function(d){this.checkOffset(d);var g=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,g},i.exports=c},{"../utils":32,"./DataReader":18}],21:[function(e,i,u){var l=e("./ArrayReader");function c(d){l.call(this,d)}e("../utils").inherits(c,l),c.prototype.readData=function(d){if(this.checkOffset(d),d===0)return new Uint8Array(0);var g=this.data.subarray(this.zero+this.index,this.zero+this.index+d);return this.index+=d,g},i.exports=c},{"../utils":32,"./ArrayReader":17}],22:[function(e,i,u){var l=e("../utils"),c=e("../support"),d=e("./ArrayReader"),g=e("./StringReader"),y=e("./NodeBufferReader"),S=e("./Uint8ArrayReader");i.exports=function(E){var A=l.getTypeOf(E);return l.checkSupport(A),A!=="string"||c.uint8array?A==="nodebuffer"?new y(E):c.uint8array?new S(l.transformTo("uint8array",E)):new d(l.transformTo("array",E)):new g(E)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,i,u){u.LOCAL_FILE_HEADER="PK",u.CENTRAL_FILE_HEADER="PK",u.CENTRAL_DIRECTORY_END="PK",u.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",u.ZIP64_CENTRAL_DIRECTORY_END="PK",u.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,i,u){var l=e("./GenericWorker"),c=e("../utils");function d(g){l.call(this,"ConvertWorker to "+g),this.destType=g}c.inherits(d,l),d.prototype.processChunk=function(g){this.push({data:c.transformTo(this.destType,g.data),meta:g.meta})},i.exports=d},{"../utils":32,"./GenericWorker":28}],25:[function(e,i,u){var l=e("./GenericWorker"),c=e("../crc32");function d(){l.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(d,l),d.prototype.processChunk=function(g){this.streamInfo.crc32=c(g.data,this.streamInfo.crc32||0),this.push(g)},i.exports=d},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,i,u){var l=e("../utils"),c=e("./GenericWorker");function d(g){c.call(this,"DataLengthProbe for "+g),this.propName=g,this.withStreamInfo(g,0)}l.inherits(d,c),d.prototype.processChunk=function(g){if(g){var y=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=y+g.data.length}c.prototype.processChunk.call(this,g)},i.exports=d},{"../utils":32,"./GenericWorker":28}],27:[function(e,i,u){var l=e("../utils"),c=e("./GenericWorker");function d(g){c.call(this,"DataWorker");var y=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,g.then(function(S){y.dataIsReady=!0,y.data=S,y.max=S&&S.length||0,y.type=l.getTypeOf(S),y.isPaused||y._tickAndRepeat()},function(S){y.error(S)})}l.inherits(d,c),d.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this.data=null},d.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,l.delay(this._tickAndRepeat,[],this)),!0)},d.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(l.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},d.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var g=null,y=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":g=this.data.substring(this.index,y);break;case"uint8array":g=this.data.subarray(this.index,y);break;case"array":case"nodebuffer":g=this.data.slice(this.index,y)}return this.index=y,this.push({data:g,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=d},{"../utils":32,"./GenericWorker":28}],28:[function(e,i,u){function l(c){this.name=c||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}l.prototype={push:function(c){this.emit("data",c)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(c){this.emit("error",c)}return!0},error:function(c){return!this.isFinished&&(this.isPaused?this.generatedError=c:(this.isFinished=!0,this.emit("error",c),this.previous&&this.previous.error(c),this.cleanUp()),!0)},on:function(c,d){return this._listeners[c].push(d),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(c,d){if(this._listeners[c])for(var g=0;g<this._listeners[c].length;g++)this._listeners[c][g].call(this,d)},pipe:function(c){return c.registerPrevious(this)},registerPrevious:function(c){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=c.streamInfo,this.mergeStreamInfo(),this.previous=c;var d=this;return c.on("data",function(g){d.processChunk(g)}),c.on("end",function(){d.end()}),c.on("error",function(g){d.error(g)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var c=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),c=!0),this.previous&&this.previous.resume(),!c},flush:function(){},processChunk:function(c){this.push(c)},withStreamInfo:function(c,d){return this.extraStreamInfo[c]=d,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var c in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,c)&&(this.streamInfo[c]=this.extraStreamInfo[c])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var c="Worker "+this.name;return this.previous?this.previous+" -> "+c:c}},i.exports=l},{}],29:[function(e,i,u){var l=e("../utils"),c=e("./ConvertWorker"),d=e("./GenericWorker"),g=e("../base64"),y=e("../support"),S=e("../external"),E=null;if(y.nodestream)try{E=e("../nodejs/NodejsStreamOutputAdapter")}catch{}function A(R,M){return new S.Promise(function(I,O){var W=[],K=R._internalType,de=R._outputType,ie=R._mimeType;R.on("data",function(xe,Z){W.push(xe),M&&M(Z)}).on("error",function(xe){W=[],O(xe)}).on("end",function(){try{var xe=(function(Z,Y,me){switch(Z){case"blob":return l.newBlob(l.transformTo("arraybuffer",Y),me);case"base64":return g.encode(Y);default:return l.transformTo(Z,Y)}})(de,(function(Z,Y){var me,Ne=0,te=null,G=0;for(me=0;me<Y.length;me++)G+=Y[me].length;switch(Z){case"string":return Y.join("");case"array":return Array.prototype.concat.apply([],Y);case"uint8array":for(te=new Uint8Array(G),me=0;me<Y.length;me++)te.set(Y[me],Ne),Ne+=Y[me].length;return te;case"nodebuffer":return Buffer.concat(Y);default:throw new Error("concat : unsupported type '"+Z+"'")}})(K,W),ie);I(xe)}catch(Z){O(Z)}W=[]}).resume()})}function x(R,M,I){var O=M;switch(M){case"blob":case"arraybuffer":O="uint8array";break;case"base64":O="string"}try{this._internalType=O,this._outputType=M,this._mimeType=I,l.checkSupport(O),this._worker=R.pipe(new c(O)),R.lock()}catch(W){this._worker=new d("error"),this._worker.error(W)}}x.prototype={accumulate:function(R){return A(this,R)},on:function(R,M){var I=this;return R==="data"?this._worker.on(R,function(O){M.call(I,O.data,O.meta)}):this._worker.on(R,function(){l.delay(M,arguments,I)}),this},resume:function(){return l.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(R){if(l.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new E(this,{objectMode:this._outputType!=="nodebuffer"},R)}},i.exports=x},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,i,u){if(u.base64=!0,u.array=!0,u.string=!0,u.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",u.nodebuffer=typeof Buffer<"u",u.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")u.blob=!1;else{var l=new ArrayBuffer(0);try{u.blob=new Blob([l],{type:"application/zip"}).size===0}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);c.append(l),u.blob=c.getBlob("application/zip").size===0}catch{u.blob=!1}}}try{u.nodestream=!!e("readable-stream").Readable}catch{u.nodestream=!1}},{"readable-stream":16}],31:[function(e,i,u){for(var l=e("./utils"),c=e("./support"),d=e("./nodejsUtils"),g=e("./stream/GenericWorker"),y=new Array(256),S=0;S<256;S++)y[S]=252<=S?6:248<=S?5:240<=S?4:224<=S?3:192<=S?2:1;y[254]=y[254]=1;function E(){g.call(this,"utf-8 decode"),this.leftOver=null}function A(){g.call(this,"utf-8 encode")}u.utf8encode=function(x){return c.nodebuffer?d.newBufferFrom(x,"utf-8"):(function(R){var M,I,O,W,K,de=R.length,ie=0;for(W=0;W<de;W++)(64512&(I=R.charCodeAt(W)))==55296&&W+1<de&&(64512&(O=R.charCodeAt(W+1)))==56320&&(I=65536+(I-55296<<10)+(O-56320),W++),ie+=I<128?1:I<2048?2:I<65536?3:4;for(M=c.uint8array?new Uint8Array(ie):new Array(ie),W=K=0;K<ie;W++)(64512&(I=R.charCodeAt(W)))==55296&&W+1<de&&(64512&(O=R.charCodeAt(W+1)))==56320&&(I=65536+(I-55296<<10)+(O-56320),W++),I<128?M[K++]=I:(I<2048?M[K++]=192|I>>>6:(I<65536?M[K++]=224|I>>>12:(M[K++]=240|I>>>18,M[K++]=128|I>>>12&63),M[K++]=128|I>>>6&63),M[K++]=128|63&I);return M})(x)},u.utf8decode=function(x){return c.nodebuffer?l.transformTo("nodebuffer",x).toString("utf-8"):(function(R){var M,I,O,W,K=R.length,de=new Array(2*K);for(M=I=0;M<K;)if((O=R[M++])<128)de[I++]=O;else if(4<(W=y[O]))de[I++]=65533,M+=W-1;else{for(O&=W===2?31:W===3?15:7;1<W&&M<K;)O=O<<6|63&R[M++],W--;1<W?de[I++]=65533:O<65536?de[I++]=O:(O-=65536,de[I++]=55296|O>>10&1023,de[I++]=56320|1023&O)}return de.length!==I&&(de.subarray?de=de.subarray(0,I):de.length=I),l.applyFromCharCode(de)})(x=l.transformTo(c.uint8array?"uint8array":"array",x))},l.inherits(E,g),E.prototype.processChunk=function(x){var R=l.transformTo(c.uint8array?"uint8array":"array",x.data);if(this.leftOver&&this.leftOver.length){if(c.uint8array){var M=R;(R=new Uint8Array(M.length+this.leftOver.length)).set(this.leftOver,0),R.set(M,this.leftOver.length)}else R=this.leftOver.concat(R);this.leftOver=null}var I=(function(W,K){var de;for((K=K||W.length)>W.length&&(K=W.length),de=K-1;0<=de&&(192&W[de])==128;)de--;return de<0||de===0?K:de+y[W[de]]>K?de:K})(R),O=R;I!==R.length&&(c.uint8array?(O=R.subarray(0,I),this.leftOver=R.subarray(I,R.length)):(O=R.slice(0,I),this.leftOver=R.slice(I,R.length))),this.push({data:u.utf8decode(O),meta:x.meta})},E.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:u.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},u.Utf8DecodeWorker=E,l.inherits(A,g),A.prototype.processChunk=function(x){this.push({data:u.utf8encode(x.data),meta:x.meta})},u.Utf8EncodeWorker=A},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,i,u){var l=e("./support"),c=e("./base64"),d=e("./nodejsUtils"),g=e("./external");function y(M){return M}function S(M,I){for(var O=0;O<M.length;++O)I[O]=255&M.charCodeAt(O);return I}e("setimmediate"),u.newBlob=function(M,I){u.checkSupport("blob");try{return new Blob([M],{type:I})}catch{try{var O=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return O.append(M),O.getBlob(I)}catch{throw new Error("Bug : can't construct the Blob.")}}};var E={stringifyByChunk:function(M,I,O){var W=[],K=0,de=M.length;if(de<=O)return String.fromCharCode.apply(null,M);for(;K<de;)I==="array"||I==="nodebuffer"?W.push(String.fromCharCode.apply(null,M.slice(K,Math.min(K+O,de)))):W.push(String.fromCharCode.apply(null,M.subarray(K,Math.min(K+O,de)))),K+=O;return W.join("")},stringifyByChar:function(M){for(var I="",O=0;O<M.length;O++)I+=String.fromCharCode(M[O]);return I},applyCanBeUsed:{uint8array:(function(){try{return l.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return l.nodebuffer&&String.fromCharCode.apply(null,d.allocBuffer(1)).length===1}catch{return!1}})()}};function A(M){var I=65536,O=u.getTypeOf(M),W=!0;if(O==="uint8array"?W=E.applyCanBeUsed.uint8array:O==="nodebuffer"&&(W=E.applyCanBeUsed.nodebuffer),W)for(;1<I;)try{return E.stringifyByChunk(M,O,I)}catch{I=Math.floor(I/2)}return E.stringifyByChar(M)}function x(M,I){for(var O=0;O<M.length;O++)I[O]=M[O];return I}u.applyFromCharCode=A;var R={};R.string={string:y,array:function(M){return S(M,new Array(M.length))},arraybuffer:function(M){return R.string.uint8array(M).buffer},uint8array:function(M){return S(M,new Uint8Array(M.length))},nodebuffer:function(M){return S(M,d.allocBuffer(M.length))}},R.array={string:A,array:y,arraybuffer:function(M){return new Uint8Array(M).buffer},uint8array:function(M){return new Uint8Array(M)},nodebuffer:function(M){return d.newBufferFrom(M)}},R.arraybuffer={string:function(M){return A(new Uint8Array(M))},array:function(M){return x(new Uint8Array(M),new Array(M.byteLength))},arraybuffer:y,uint8array:function(M){return new Uint8Array(M)},nodebuffer:function(M){return d.newBufferFrom(new Uint8Array(M))}},R.uint8array={string:A,array:function(M){return x(M,new Array(M.length))},arraybuffer:function(M){return M.buffer},uint8array:y,nodebuffer:function(M){return d.newBufferFrom(M)}},R.nodebuffer={string:A,array:function(M){return x(M,new Array(M.length))},arraybuffer:function(M){return R.nodebuffer.uint8array(M).buffer},uint8array:function(M){return x(M,new Uint8Array(M.length))},nodebuffer:y},u.transformTo=function(M,I){if(I=I||"",!M)return I;u.checkSupport(M);var O=u.getTypeOf(I);return R[O][M](I)},u.resolve=function(M){for(var I=M.split("/"),O=[],W=0;W<I.length;W++){var K=I[W];K==="."||K===""&&W!==0&&W!==I.length-1||(K===".."?O.pop():O.push(K))}return O.join("/")},u.getTypeOf=function(M){return typeof M=="string"?"string":Object.prototype.toString.call(M)==="[object Array]"?"array":l.nodebuffer&&d.isBuffer(M)?"nodebuffer":l.uint8array&&M instanceof Uint8Array?"uint8array":l.arraybuffer&&M instanceof ArrayBuffer?"arraybuffer":void 0},u.checkSupport=function(M){if(!l[M.toLowerCase()])throw new Error(M+" is not supported by this platform")},u.MAX_VALUE_16BITS=65535,u.MAX_VALUE_32BITS=-1,u.pretty=function(M){var I,O,W="";for(O=0;O<(M||"").length;O++)W+="\\x"+((I=M.charCodeAt(O))<16?"0":"")+I.toString(16).toUpperCase();return W},u.delay=function(M,I,O){setImmediate(function(){M.apply(O||null,I||[])})},u.inherits=function(M,I){function O(){}O.prototype=I.prototype,M.prototype=new O},u.extend=function(){var M,I,O={};for(M=0;M<arguments.length;M++)for(I in arguments[M])Object.prototype.hasOwnProperty.call(arguments[M],I)&&O[I]===void 0&&(O[I]=arguments[M][I]);return O},u.prepareContent=function(M,I,O,W,K){return g.Promise.resolve(I).then(function(de){return l.blob&&(de instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(de))!==-1)&&typeof FileReader<"u"?new g.Promise(function(ie,xe){var Z=new FileReader;Z.onload=function(Y){ie(Y.target.result)},Z.onerror=function(Y){xe(Y.target.error)},Z.readAsArrayBuffer(de)}):de}).then(function(de){var ie=u.getTypeOf(de);return ie?(ie==="arraybuffer"?de=u.transformTo("uint8array",de):ie==="string"&&(K?de=c.decode(de):O&&W!==!0&&(de=(function(xe){return S(xe,l.uint8array?new Uint8Array(xe.length):new Array(xe.length))})(de))),de):g.Promise.reject(new Error("Can't read the data of '"+M+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,i,u){var l=e("./reader/readerFor"),c=e("./utils"),d=e("./signature"),g=e("./zipEntry"),y=e("./support");function S(E){this.files=[],this.loadOptions=E}S.prototype={checkSignature:function(E){if(!this.reader.readAndCheckSignature(E)){this.reader.index-=4;var A=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+c.pretty(A)+", expected "+c.pretty(E)+")")}},isSignature:function(E,A){var x=this.reader.index;this.reader.setIndex(E);var R=this.reader.readString(4)===A;return this.reader.setIndex(x),R},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var E=this.reader.readData(this.zipCommentLength),A=y.uint8array?"uint8array":"array",x=c.transformTo(A,E);this.zipComment=this.loadOptions.decodeFileName(x)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var E,A,x,R=this.zip64EndOfCentralSize-44;0<R;)E=this.reader.readInt(2),A=this.reader.readInt(4),x=this.reader.readData(A),this.zip64ExtensibleData[E]={id:E,length:A,value:x}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var E,A;for(E=0;E<this.files.length;E++)A=this.files[E],this.reader.setIndex(A.localHeaderOffset),this.checkSignature(d.LOCAL_FILE_HEADER),A.readLocalPart(this.reader),A.handleUTF8(),A.processAttributes()},readCentralDir:function(){var E;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(d.CENTRAL_FILE_HEADER);)(E=new g({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(E);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var E=this.reader.lastIndexOfSignature(d.CENTRAL_DIRECTORY_END);if(E<0)throw this.isSignature(0,d.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(E);var A=E;if(this.checkSignature(d.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===c.MAX_VALUE_16BITS||this.diskWithCentralDirStart===c.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===c.MAX_VALUE_16BITS||this.centralDirRecords===c.MAX_VALUE_16BITS||this.centralDirSize===c.MAX_VALUE_32BITS||this.centralDirOffset===c.MAX_VALUE_32BITS){if(this.zip64=!0,(E=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(E),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,d.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var x=this.centralDirOffset+this.centralDirSize;this.zip64&&(x+=20,x+=12+this.zip64EndOfCentralSize);var R=A-x;if(0<R)this.isSignature(A,d.CENTRAL_FILE_HEADER)||(this.reader.zero=R);else if(R<0)throw new Error("Corrupted zip: missing "+Math.abs(R)+" bytes.")},prepareReader:function(E){this.reader=l(E)},load:function(E){this.prepareReader(E),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=S},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,i,u){var l=e("./reader/readerFor"),c=e("./utils"),d=e("./compressedObject"),g=e("./crc32"),y=e("./utf8"),S=e("./compressions"),E=e("./support");function A(x,R){this.options=x,this.loadOptions=R}A.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(x){var R,M;if(x.skip(22),this.fileNameLength=x.readInt(2),M=x.readInt(2),this.fileName=x.readData(this.fileNameLength),x.skip(M),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((R=(function(I){for(var O in S)if(Object.prototype.hasOwnProperty.call(S,O)&&S[O].magic===I)return S[O];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+c.pretty(this.compressionMethod)+" unknown (inner file : "+c.transformTo("string",this.fileName)+")");this.decompressed=new d(this.compressedSize,this.uncompressedSize,this.crc32,R,x.readData(this.compressedSize))},readCentralPart:function(x){this.versionMadeBy=x.readInt(2),x.skip(2),this.bitFlag=x.readInt(2),this.compressionMethod=x.readString(2),this.date=x.readDate(),this.crc32=x.readInt(4),this.compressedSize=x.readInt(4),this.uncompressedSize=x.readInt(4);var R=x.readInt(2);if(this.extraFieldsLength=x.readInt(2),this.fileCommentLength=x.readInt(2),this.diskNumberStart=x.readInt(2),this.internalFileAttributes=x.readInt(2),this.externalFileAttributes=x.readInt(4),this.localHeaderOffset=x.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");x.skip(R),this.readExtraFields(x),this.parseZIP64ExtraField(x),this.fileComment=x.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var x=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),x==0&&(this.dosPermissions=63&this.externalFileAttributes),x==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var x=l(this.extraFields[1].value);this.uncompressedSize===c.MAX_VALUE_32BITS&&(this.uncompressedSize=x.readInt(8)),this.compressedSize===c.MAX_VALUE_32BITS&&(this.compressedSize=x.readInt(8)),this.localHeaderOffset===c.MAX_VALUE_32BITS&&(this.localHeaderOffset=x.readInt(8)),this.diskNumberStart===c.MAX_VALUE_32BITS&&(this.diskNumberStart=x.readInt(4))}},readExtraFields:function(x){var R,M,I,O=x.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});x.index+4<O;)R=x.readInt(2),M=x.readInt(2),I=x.readData(M),this.extraFields[R]={id:R,length:M,value:I};x.setIndex(O)},handleUTF8:function(){var x=E.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=y.utf8decode(this.fileName),this.fileCommentStr=y.utf8decode(this.fileComment);else{var R=this.findExtraFieldUnicodePath();if(R!==null)this.fileNameStr=R;else{var M=c.transformTo(x,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(M)}var I=this.findExtraFieldUnicodeComment();if(I!==null)this.fileCommentStr=I;else{var O=c.transformTo(x,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(O)}}},findExtraFieldUnicodePath:function(){var x=this.extraFields[28789];if(x){var R=l(x.value);return R.readInt(1)!==1||g(this.fileName)!==R.readInt(4)?null:y.utf8decode(R.readData(x.length-5))}return null},findExtraFieldUnicodeComment:function(){var x=this.extraFields[25461];if(x){var R=l(x.value);return R.readInt(1)!==1||g(this.fileComment)!==R.readInt(4)?null:y.utf8decode(R.readData(x.length-5))}return null}},i.exports=A},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,i,u){function l(R,M,I){this.name=R,this.dir=I.dir,this.date=I.date,this.comment=I.comment,this.unixPermissions=I.unixPermissions,this.dosPermissions=I.dosPermissions,this._data=M,this._dataBinary=I.binary,this.options={compression:I.compression,compressionOptions:I.compressionOptions}}var c=e("./stream/StreamHelper"),d=e("./stream/DataWorker"),g=e("./utf8"),y=e("./compressedObject"),S=e("./stream/GenericWorker");l.prototype={internalStream:function(R){var M=null,I="string";try{if(!R)throw new Error("No output type specified.");var O=(I=R.toLowerCase())==="string"||I==="text";I!=="binarystring"&&I!=="text"||(I="string"),M=this._decompressWorker();var W=!this._dataBinary;W&&!O&&(M=M.pipe(new g.Utf8EncodeWorker)),!W&&O&&(M=M.pipe(new g.Utf8DecodeWorker))}catch(K){(M=new S("error")).error(K)}return new c(M,I,"")},async:function(R,M){return this.internalStream(R).accumulate(M)},nodeStream:function(R,M){return this.internalStream(R||"nodebuffer").toNodejsStream(M)},_compressWorker:function(R,M){if(this._data instanceof y&&this._data.compression.magic===R.magic)return this._data.getCompressedWorker();var I=this._decompressWorker();return this._dataBinary||(I=I.pipe(new g.Utf8EncodeWorker)),y.createWorkerFrom(I,R,M)},_decompressWorker:function(){return this._data instanceof y?this._data.getContentWorker():this._data instanceof S?this._data:new d(this._data)}};for(var E=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],A=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},x=0;x<E.length;x++)l.prototype[E[x]]=A;i.exports=l},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,i,u){(function(l){var c,d,g=l.MutationObserver||l.WebKitMutationObserver;if(g){var y=0,S=new g(R),E=l.document.createTextNode("");S.observe(E,{characterData:!0}),c=function(){E.data=y=++y%2}}else if(l.setImmediate||l.MessageChannel===void 0)c="document"in l&&"onreadystatechange"in l.document.createElement("script")?function(){var M=l.document.createElement("script");M.onreadystatechange=function(){R(),M.onreadystatechange=null,M.parentNode.removeChild(M),M=null},l.document.documentElement.appendChild(M)}:function(){setTimeout(R,0)};else{var A=new l.MessageChannel;A.port1.onmessage=R,c=function(){A.port2.postMessage(0)}}var x=[];function R(){var M,I;d=!0;for(var O=x.length;O;){for(I=x,x=[],M=-1;++M<O;)I[M]();O=x.length}d=!1}i.exports=function(M){x.push(M)!==1||d||c()}}).call(this,typeof Jl<"u"?Jl:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(e,i,u){var l=e("immediate");function c(){}var d={},g=["REJECTED"],y=["FULFILLED"],S=["PENDING"];function E(O){if(typeof O!="function")throw new TypeError("resolver must be a function");this.state=S,this.queue=[],this.outcome=void 0,O!==c&&M(this,O)}function A(O,W,K){this.promise=O,typeof W=="function"&&(this.onFulfilled=W,this.callFulfilled=this.otherCallFulfilled),typeof K=="function"&&(this.onRejected=K,this.callRejected=this.otherCallRejected)}function x(O,W,K){l(function(){var de;try{de=W(K)}catch(ie){return d.reject(O,ie)}de===O?d.reject(O,new TypeError("Cannot resolve promise with itself")):d.resolve(O,de)})}function R(O){var W=O&&O.then;if(O&&(typeof O=="object"||typeof O=="function")&&typeof W=="function")return function(){W.apply(O,arguments)}}function M(O,W){var K=!1;function de(Z){K||(K=!0,d.reject(O,Z))}function ie(Z){K||(K=!0,d.resolve(O,Z))}var xe=I(function(){W(ie,de)});xe.status==="error"&&de(xe.value)}function I(O,W){var K={};try{K.value=O(W),K.status="success"}catch(de){K.status="error",K.value=de}return K}(i.exports=E).prototype.finally=function(O){if(typeof O!="function")return this;var W=this.constructor;return this.then(function(K){return W.resolve(O()).then(function(){return K})},function(K){return W.resolve(O()).then(function(){throw K})})},E.prototype.catch=function(O){return this.then(null,O)},E.prototype.then=function(O,W){if(typeof O!="function"&&this.state===y||typeof W!="function"&&this.state===g)return this;var K=new this.constructor(c);return this.state!==S?x(K,this.state===y?O:W,this.outcome):this.queue.push(new A(K,O,W)),K},A.prototype.callFulfilled=function(O){d.resolve(this.promise,O)},A.prototype.otherCallFulfilled=function(O){x(this.promise,this.onFulfilled,O)},A.prototype.callRejected=function(O){d.reject(this.promise,O)},A.prototype.otherCallRejected=function(O){x(this.promise,this.onRejected,O)},d.resolve=function(O,W){var K=I(R,W);if(K.status==="error")return d.reject(O,K.value);var de=K.value;if(de)M(O,de);else{O.state=y,O.outcome=W;for(var ie=-1,xe=O.queue.length;++ie<xe;)O.queue[ie].callFulfilled(W)}return O},d.reject=function(O,W){O.state=g,O.outcome=W;for(var K=-1,de=O.queue.length;++K<de;)O.queue[K].callRejected(W);return O},E.resolve=function(O){return O instanceof this?O:d.resolve(new this(c),O)},E.reject=function(O){var W=new this(c);return d.reject(W,O)},E.all=function(O){var W=this;if(Object.prototype.toString.call(O)!=="[object Array]")return this.reject(new TypeError("must be an array"));var K=O.length,de=!1;if(!K)return this.resolve([]);for(var ie=new Array(K),xe=0,Z=-1,Y=new this(c);++Z<K;)me(O[Z],Z);return Y;function me(Ne,te){W.resolve(Ne).then(function(G){ie[te]=G,++xe!==K||de||(de=!0,d.resolve(Y,ie))},function(G){de||(de=!0,d.reject(Y,G))})}},E.race=function(O){var W=this;if(Object.prototype.toString.call(O)!=="[object Array]")return this.reject(new TypeError("must be an array"));var K=O.length,de=!1;if(!K)return this.resolve([]);for(var ie=-1,xe=new this(c);++ie<K;)Z=O[ie],W.resolve(Z).then(function(Y){de||(de=!0,d.resolve(xe,Y))},function(Y){de||(de=!0,d.reject(xe,Y))});var Z;return xe}},{immediate:36}],38:[function(e,i,u){var l={};(0,e("./lib/utils/common").assign)(l,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),i.exports=l},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,i,u){var l=e("./zlib/deflate"),c=e("./utils/common"),d=e("./utils/strings"),g=e("./zlib/messages"),y=e("./zlib/zstream"),S=Object.prototype.toString,E=0,A=-1,x=0,R=8;function M(O){if(!(this instanceof M))return new M(O);this.options=c.assign({level:A,method:R,chunkSize:16384,windowBits:15,memLevel:8,strategy:x,to:""},O||{});var W=this.options;W.raw&&0<W.windowBits?W.windowBits=-W.windowBits:W.gzip&&0<W.windowBits&&W.windowBits<16&&(W.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var K=l.deflateInit2(this.strm,W.level,W.method,W.windowBits,W.memLevel,W.strategy);if(K!==E)throw new Error(g[K]);if(W.header&&l.deflateSetHeader(this.strm,W.header),W.dictionary){var de;if(de=typeof W.dictionary=="string"?d.string2buf(W.dictionary):S.call(W.dictionary)==="[object ArrayBuffer]"?new Uint8Array(W.dictionary):W.dictionary,(K=l.deflateSetDictionary(this.strm,de))!==E)throw new Error(g[K]);this._dict_set=!0}}function I(O,W){var K=new M(W);if(K.push(O,!0),K.err)throw K.msg||g[K.err];return K.result}M.prototype.push=function(O,W){var K,de,ie=this.strm,xe=this.options.chunkSize;if(this.ended)return!1;de=W===~~W?W:W===!0?4:0,typeof O=="string"?ie.input=d.string2buf(O):S.call(O)==="[object ArrayBuffer]"?ie.input=new Uint8Array(O):ie.input=O,ie.next_in=0,ie.avail_in=ie.input.length;do{if(ie.avail_out===0&&(ie.output=new c.Buf8(xe),ie.next_out=0,ie.avail_out=xe),(K=l.deflate(ie,de))!==1&&K!==E)return this.onEnd(K),!(this.ended=!0);ie.avail_out!==0&&(ie.avail_in!==0||de!==4&&de!==2)||(this.options.to==="string"?this.onData(d.buf2binstring(c.shrinkBuf(ie.output,ie.next_out))):this.onData(c.shrinkBuf(ie.output,ie.next_out)))}while((0<ie.avail_in||ie.avail_out===0)&&K!==1);return de===4?(K=l.deflateEnd(this.strm),this.onEnd(K),this.ended=!0,K===E):de!==2||(this.onEnd(E),!(ie.avail_out=0))},M.prototype.onData=function(O){this.chunks.push(O)},M.prototype.onEnd=function(O){O===E&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=O,this.msg=this.strm.msg},u.Deflate=M,u.deflate=I,u.deflateRaw=function(O,W){return(W=W||{}).raw=!0,I(O,W)},u.gzip=function(O,W){return(W=W||{}).gzip=!0,I(O,W)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,i,u){var l=e("./zlib/inflate"),c=e("./utils/common"),d=e("./utils/strings"),g=e("./zlib/constants"),y=e("./zlib/messages"),S=e("./zlib/zstream"),E=e("./zlib/gzheader"),A=Object.prototype.toString;function x(M){if(!(this instanceof x))return new x(M);this.options=c.assign({chunkSize:16384,windowBits:0,to:""},M||{});var I=this.options;I.raw&&0<=I.windowBits&&I.windowBits<16&&(I.windowBits=-I.windowBits,I.windowBits===0&&(I.windowBits=-15)),!(0<=I.windowBits&&I.windowBits<16)||M&&M.windowBits||(I.windowBits+=32),15<I.windowBits&&I.windowBits<48&&(15&I.windowBits)==0&&(I.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new S,this.strm.avail_out=0;var O=l.inflateInit2(this.strm,I.windowBits);if(O!==g.Z_OK)throw new Error(y[O]);this.header=new E,l.inflateGetHeader(this.strm,this.header)}function R(M,I){var O=new x(I);if(O.push(M,!0),O.err)throw O.msg||y[O.err];return O.result}x.prototype.push=function(M,I){var O,W,K,de,ie,xe,Z=this.strm,Y=this.options.chunkSize,me=this.options.dictionary,Ne=!1;if(this.ended)return!1;W=I===~~I?I:I===!0?g.Z_FINISH:g.Z_NO_FLUSH,typeof M=="string"?Z.input=d.binstring2buf(M):A.call(M)==="[object ArrayBuffer]"?Z.input=new Uint8Array(M):Z.input=M,Z.next_in=0,Z.avail_in=Z.input.length;do{if(Z.avail_out===0&&(Z.output=new c.Buf8(Y),Z.next_out=0,Z.avail_out=Y),(O=l.inflate(Z,g.Z_NO_FLUSH))===g.Z_NEED_DICT&&me&&(xe=typeof me=="string"?d.string2buf(me):A.call(me)==="[object ArrayBuffer]"?new Uint8Array(me):me,O=l.inflateSetDictionary(this.strm,xe)),O===g.Z_BUF_ERROR&&Ne===!0&&(O=g.Z_OK,Ne=!1),O!==g.Z_STREAM_END&&O!==g.Z_OK)return this.onEnd(O),!(this.ended=!0);Z.next_out&&(Z.avail_out!==0&&O!==g.Z_STREAM_END&&(Z.avail_in!==0||W!==g.Z_FINISH&&W!==g.Z_SYNC_FLUSH)||(this.options.to==="string"?(K=d.utf8border(Z.output,Z.next_out),de=Z.next_out-K,ie=d.buf2string(Z.output,K),Z.next_out=de,Z.avail_out=Y-de,de&&c.arraySet(Z.output,Z.output,K,de,0),this.onData(ie)):this.onData(c.shrinkBuf(Z.output,Z.next_out)))),Z.avail_in===0&&Z.avail_out===0&&(Ne=!0)}while((0<Z.avail_in||Z.avail_out===0)&&O!==g.Z_STREAM_END);return O===g.Z_STREAM_END&&(W=g.Z_FINISH),W===g.Z_FINISH?(O=l.inflateEnd(this.strm),this.onEnd(O),this.ended=!0,O===g.Z_OK):W!==g.Z_SYNC_FLUSH||(this.onEnd(g.Z_OK),!(Z.avail_out=0))},x.prototype.onData=function(M){this.chunks.push(M)},x.prototype.onEnd=function(M){M===g.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=M,this.msg=this.strm.msg},u.Inflate=x,u.inflate=R,u.inflateRaw=function(M,I){return(I=I||{}).raw=!0,R(M,I)},u.ungzip=R},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,i,u){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";u.assign=function(g){for(var y=Array.prototype.slice.call(arguments,1);y.length;){var S=y.shift();if(S){if(typeof S!="object")throw new TypeError(S+"must be non-object");for(var E in S)S.hasOwnProperty(E)&&(g[E]=S[E])}}return g},u.shrinkBuf=function(g,y){return g.length===y?g:g.subarray?g.subarray(0,y):(g.length=y,g)};var c={arraySet:function(g,y,S,E,A){if(y.subarray&&g.subarray)g.set(y.subarray(S,S+E),A);else for(var x=0;x<E;x++)g[A+x]=y[S+x]},flattenChunks:function(g){var y,S,E,A,x,R;for(y=E=0,S=g.length;y<S;y++)E+=g[y].length;for(R=new Uint8Array(E),y=A=0,S=g.length;y<S;y++)x=g[y],R.set(x,A),A+=x.length;return R}},d={arraySet:function(g,y,S,E,A){for(var x=0;x<E;x++)g[A+x]=y[S+x]},flattenChunks:function(g){return[].concat.apply([],g)}};u.setTyped=function(g){g?(u.Buf8=Uint8Array,u.Buf16=Uint16Array,u.Buf32=Int32Array,u.assign(u,c)):(u.Buf8=Array,u.Buf16=Array,u.Buf32=Array,u.assign(u,d))},u.setTyped(l)},{}],42:[function(e,i,u){var l=e("./common"),c=!0,d=!0;try{String.fromCharCode.apply(null,[0])}catch{c=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{d=!1}for(var g=new l.Buf8(256),y=0;y<256;y++)g[y]=252<=y?6:248<=y?5:240<=y?4:224<=y?3:192<=y?2:1;function S(E,A){if(A<65537&&(E.subarray&&d||!E.subarray&&c))return String.fromCharCode.apply(null,l.shrinkBuf(E,A));for(var x="",R=0;R<A;R++)x+=String.fromCharCode(E[R]);return x}g[254]=g[254]=1,u.string2buf=function(E){var A,x,R,M,I,O=E.length,W=0;for(M=0;M<O;M++)(64512&(x=E.charCodeAt(M)))==55296&&M+1<O&&(64512&(R=E.charCodeAt(M+1)))==56320&&(x=65536+(x-55296<<10)+(R-56320),M++),W+=x<128?1:x<2048?2:x<65536?3:4;for(A=new l.Buf8(W),M=I=0;I<W;M++)(64512&(x=E.charCodeAt(M)))==55296&&M+1<O&&(64512&(R=E.charCodeAt(M+1)))==56320&&(x=65536+(x-55296<<10)+(R-56320),M++),x<128?A[I++]=x:(x<2048?A[I++]=192|x>>>6:(x<65536?A[I++]=224|x>>>12:(A[I++]=240|x>>>18,A[I++]=128|x>>>12&63),A[I++]=128|x>>>6&63),A[I++]=128|63&x);return A},u.buf2binstring=function(E){return S(E,E.length)},u.binstring2buf=function(E){for(var A=new l.Buf8(E.length),x=0,R=A.length;x<R;x++)A[x]=E.charCodeAt(x);return A},u.buf2string=function(E,A){var x,R,M,I,O=A||E.length,W=new Array(2*O);for(x=R=0;x<O;)if((M=E[x++])<128)W[R++]=M;else if(4<(I=g[M]))W[R++]=65533,x+=I-1;else{for(M&=I===2?31:I===3?15:7;1<I&&x<O;)M=M<<6|63&E[x++],I--;1<I?W[R++]=65533:M<65536?W[R++]=M:(M-=65536,W[R++]=55296|M>>10&1023,W[R++]=56320|1023&M)}return S(W,R)},u.utf8border=function(E,A){var x;for((A=A||E.length)>E.length&&(A=E.length),x=A-1;0<=x&&(192&E[x])==128;)x--;return x<0||x===0?A:x+g[E[x]]>A?x:A}},{"./common":41}],43:[function(e,i,u){i.exports=function(l,c,d,g){for(var y=65535&l|0,S=l>>>16&65535|0,E=0;d!==0;){for(d-=E=2e3<d?2e3:d;S=S+(y=y+c[g++]|0)|0,--E;);y%=65521,S%=65521}return y|S<<16|0}},{}],44:[function(e,i,u){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,i,u){var l=(function(){for(var c,d=[],g=0;g<256;g++){c=g;for(var y=0;y<8;y++)c=1&c?3988292384^c>>>1:c>>>1;d[g]=c}return d})();i.exports=function(c,d,g,y){var S=l,E=y+g;c^=-1;for(var A=y;A<E;A++)c=c>>>8^S[255&(c^d[A])];return-1^c}},{}],46:[function(e,i,u){var l,c=e("../utils/common"),d=e("./trees"),g=e("./adler32"),y=e("./crc32"),S=e("./messages"),E=0,A=4,x=0,R=-2,M=-1,I=4,O=2,W=8,K=9,de=286,ie=30,xe=19,Z=2*de+1,Y=15,me=3,Ne=258,te=Ne+me+1,G=42,ve=113,j=1,Ie=2,Ve=3,Fe=4;function Le($,je){return $.msg=S[je],je}function Ae($){return($<<1)-(4<$?9:0)}function Pe($){for(var je=$.length;0<=--je;)$[je]=0}function re($){var je=$.state,oe=je.pending;oe>$.avail_out&&(oe=$.avail_out),oe!==0&&(c.arraySet($.output,je.pending_buf,je.pending_out,oe,$.next_out),$.next_out+=oe,je.pending_out+=oe,$.total_out+=oe,$.avail_out-=oe,je.pending-=oe,je.pending===0&&(je.pending_out=0))}function F($,je){d._tr_flush_block($,0<=$.block_start?$.block_start:-1,$.strstart-$.block_start,je),$.block_start=$.strstart,re($.strm)}function he($,je){$.pending_buf[$.pending++]=je}function fe($,je){$.pending_buf[$.pending++]=je>>>8&255,$.pending_buf[$.pending++]=255&je}function pe($,je){var oe,Ee,we=$.max_chain_length,Te=$.strstart,st=$.prev_length,ht=$.nice_match,qe=$.strstart>$.w_size-te?$.strstart-($.w_size-te):0,Lt=$.window,It=$.w_mask,Bt=$.prev,Ut=$.strstart+Ne,an=Lt[Te+st-1],tn=Lt[Te+st];$.prev_length>=$.good_match&&(we>>=2),ht>$.lookahead&&(ht=$.lookahead);do if(Lt[(oe=je)+st]===tn&&Lt[oe+st-1]===an&&Lt[oe]===Lt[Te]&&Lt[++oe]===Lt[Te+1]){Te+=2,oe++;do;while(Lt[++Te]===Lt[++oe]&&Lt[++Te]===Lt[++oe]&&Lt[++Te]===Lt[++oe]&&Lt[++Te]===Lt[++oe]&&Lt[++Te]===Lt[++oe]&&Lt[++Te]===Lt[++oe]&&Lt[++Te]===Lt[++oe]&&Lt[++Te]===Lt[++oe]&&Te<Ut);if(Ee=Ne-(Ut-Te),Te=Ut-Ne,st<Ee){if($.match_start=je,ht<=(st=Ee))break;an=Lt[Te+st-1],tn=Lt[Te+st]}}while((je=Bt[je&It])>qe&&--we!=0);return st<=$.lookahead?st:$.lookahead}function Be($){var je,oe,Ee,we,Te,st,ht,qe,Lt,It,Bt=$.w_size;do{if(we=$.window_size-$.lookahead-$.strstart,$.strstart>=Bt+(Bt-te)){for(c.arraySet($.window,$.window,Bt,Bt,0),$.match_start-=Bt,$.strstart-=Bt,$.block_start-=Bt,je=oe=$.hash_size;Ee=$.head[--je],$.head[je]=Bt<=Ee?Ee-Bt:0,--oe;);for(je=oe=Bt;Ee=$.prev[--je],$.prev[je]=Bt<=Ee?Ee-Bt:0,--oe;);we+=Bt}if($.strm.avail_in===0)break;if(st=$.strm,ht=$.window,qe=$.strstart+$.lookahead,Lt=we,It=void 0,It=st.avail_in,Lt<It&&(It=Lt),oe=It===0?0:(st.avail_in-=It,c.arraySet(ht,st.input,st.next_in,It,qe),st.state.wrap===1?st.adler=g(st.adler,ht,It,qe):st.state.wrap===2&&(st.adler=y(st.adler,ht,It,qe)),st.next_in+=It,st.total_in+=It,It),$.lookahead+=oe,$.lookahead+$.insert>=me)for(Te=$.strstart-$.insert,$.ins_h=$.window[Te],$.ins_h=($.ins_h<<$.hash_shift^$.window[Te+1])&$.hash_mask;$.insert&&($.ins_h=($.ins_h<<$.hash_shift^$.window[Te+me-1])&$.hash_mask,$.prev[Te&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=Te,Te++,$.insert--,!($.lookahead+$.insert<me)););}while($.lookahead<te&&$.strm.avail_in!==0)}function Ke($,je){for(var oe,Ee;;){if($.lookahead<te){if(Be($),$.lookahead<te&&je===E)return j;if($.lookahead===0)break}if(oe=0,$.lookahead>=me&&($.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+me-1])&$.hash_mask,oe=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart),oe!==0&&$.strstart-oe<=$.w_size-te&&($.match_length=pe($,oe)),$.match_length>=me)if(Ee=d._tr_tally($,$.strstart-$.match_start,$.match_length-me),$.lookahead-=$.match_length,$.match_length<=$.max_lazy_match&&$.lookahead>=me){for($.match_length--;$.strstart++,$.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+me-1])&$.hash_mask,oe=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart,--$.match_length!=0;);$.strstart++}else $.strstart+=$.match_length,$.match_length=0,$.ins_h=$.window[$.strstart],$.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+1])&$.hash_mask;else Ee=d._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++;if(Ee&&(F($,!1),$.strm.avail_out===0))return j}return $.insert=$.strstart<me-1?$.strstart:me-1,je===A?(F($,!0),$.strm.avail_out===0?Ve:Fe):$.last_lit&&(F($,!1),$.strm.avail_out===0)?j:Ie}function We($,je){for(var oe,Ee,we;;){if($.lookahead<te){if(Be($),$.lookahead<te&&je===E)return j;if($.lookahead===0)break}if(oe=0,$.lookahead>=me&&($.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+me-1])&$.hash_mask,oe=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart),$.prev_length=$.match_length,$.prev_match=$.match_start,$.match_length=me-1,oe!==0&&$.prev_length<$.max_lazy_match&&$.strstart-oe<=$.w_size-te&&($.match_length=pe($,oe),$.match_length<=5&&($.strategy===1||$.match_length===me&&4096<$.strstart-$.match_start)&&($.match_length=me-1)),$.prev_length>=me&&$.match_length<=$.prev_length){for(we=$.strstart+$.lookahead-me,Ee=d._tr_tally($,$.strstart-1-$.prev_match,$.prev_length-me),$.lookahead-=$.prev_length-1,$.prev_length-=2;++$.strstart<=we&&($.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+me-1])&$.hash_mask,oe=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart),--$.prev_length!=0;);if($.match_available=0,$.match_length=me-1,$.strstart++,Ee&&(F($,!1),$.strm.avail_out===0))return j}else if($.match_available){if((Ee=d._tr_tally($,0,$.window[$.strstart-1]))&&F($,!1),$.strstart++,$.lookahead--,$.strm.avail_out===0)return j}else $.match_available=1,$.strstart++,$.lookahead--}return $.match_available&&(Ee=d._tr_tally($,0,$.window[$.strstart-1]),$.match_available=0),$.insert=$.strstart<me-1?$.strstart:me-1,je===A?(F($,!0),$.strm.avail_out===0?Ve:Fe):$.last_lit&&(F($,!1),$.strm.avail_out===0)?j:Ie}function Ye($,je,oe,Ee,we){this.good_length=$,this.max_lazy=je,this.nice_length=oe,this.max_chain=Ee,this.func=we}function Tt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=W,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c.Buf16(2*Z),this.dyn_dtree=new c.Buf16(2*(2*ie+1)),this.bl_tree=new c.Buf16(2*(2*xe+1)),Pe(this.dyn_ltree),Pe(this.dyn_dtree),Pe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c.Buf16(Y+1),this.heap=new c.Buf16(2*de+1),Pe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c.Buf16(2*de+1),Pe(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ot($){var je;return $&&$.state?($.total_in=$.total_out=0,$.data_type=O,(je=$.state).pending=0,je.pending_out=0,je.wrap<0&&(je.wrap=-je.wrap),je.status=je.wrap?G:ve,$.adler=je.wrap===2?0:1,je.last_flush=E,d._tr_init(je),x):Le($,R)}function Gt($){var je=Ot($);return je===x&&(function(oe){oe.window_size=2*oe.w_size,Pe(oe.head),oe.max_lazy_match=l[oe.level].max_lazy,oe.good_match=l[oe.level].good_length,oe.nice_match=l[oe.level].nice_length,oe.max_chain_length=l[oe.level].max_chain,oe.strstart=0,oe.block_start=0,oe.lookahead=0,oe.insert=0,oe.match_length=oe.prev_length=me-1,oe.match_available=0,oe.ins_h=0})($.state),je}function qt($,je,oe,Ee,we,Te){if(!$)return R;var st=1;if(je===M&&(je=6),Ee<0?(st=0,Ee=-Ee):15<Ee&&(st=2,Ee-=16),we<1||K<we||oe!==W||Ee<8||15<Ee||je<0||9<je||Te<0||I<Te)return Le($,R);Ee===8&&(Ee=9);var ht=new Tt;return($.state=ht).strm=$,ht.wrap=st,ht.gzhead=null,ht.w_bits=Ee,ht.w_size=1<<ht.w_bits,ht.w_mask=ht.w_size-1,ht.hash_bits=we+7,ht.hash_size=1<<ht.hash_bits,ht.hash_mask=ht.hash_size-1,ht.hash_shift=~~((ht.hash_bits+me-1)/me),ht.window=new c.Buf8(2*ht.w_size),ht.head=new c.Buf16(ht.hash_size),ht.prev=new c.Buf16(ht.w_size),ht.lit_bufsize=1<<we+6,ht.pending_buf_size=4*ht.lit_bufsize,ht.pending_buf=new c.Buf8(ht.pending_buf_size),ht.d_buf=1*ht.lit_bufsize,ht.l_buf=3*ht.lit_bufsize,ht.level=je,ht.strategy=Te,ht.method=oe,Gt($)}l=[new Ye(0,0,0,0,function($,je){var oe=65535;for(oe>$.pending_buf_size-5&&(oe=$.pending_buf_size-5);;){if($.lookahead<=1){if(Be($),$.lookahead===0&&je===E)return j;if($.lookahead===0)break}$.strstart+=$.lookahead,$.lookahead=0;var Ee=$.block_start+oe;if(($.strstart===0||$.strstart>=Ee)&&($.lookahead=$.strstart-Ee,$.strstart=Ee,F($,!1),$.strm.avail_out===0)||$.strstart-$.block_start>=$.w_size-te&&(F($,!1),$.strm.avail_out===0))return j}return $.insert=0,je===A?(F($,!0),$.strm.avail_out===0?Ve:Fe):($.strstart>$.block_start&&(F($,!1),$.strm.avail_out),j)}),new Ye(4,4,8,4,Ke),new Ye(4,5,16,8,Ke),new Ye(4,6,32,32,Ke),new Ye(4,4,16,16,We),new Ye(8,16,32,32,We),new Ye(8,16,128,128,We),new Ye(8,32,128,256,We),new Ye(32,128,258,1024,We),new Ye(32,258,258,4096,We)],u.deflateInit=function($,je){return qt($,je,W,15,8,0)},u.deflateInit2=qt,u.deflateReset=Gt,u.deflateResetKeep=Ot,u.deflateSetHeader=function($,je){return $&&$.state?$.state.wrap!==2?R:($.state.gzhead=je,x):R},u.deflate=function($,je){var oe,Ee,we,Te;if(!$||!$.state||5<je||je<0)return $?Le($,R):R;if(Ee=$.state,!$.output||!$.input&&$.avail_in!==0||Ee.status===666&&je!==A)return Le($,$.avail_out===0?-5:R);if(Ee.strm=$,oe=Ee.last_flush,Ee.last_flush=je,Ee.status===G)if(Ee.wrap===2)$.adler=0,he(Ee,31),he(Ee,139),he(Ee,8),Ee.gzhead?(he(Ee,(Ee.gzhead.text?1:0)+(Ee.gzhead.hcrc?2:0)+(Ee.gzhead.extra?4:0)+(Ee.gzhead.name?8:0)+(Ee.gzhead.comment?16:0)),he(Ee,255&Ee.gzhead.time),he(Ee,Ee.gzhead.time>>8&255),he(Ee,Ee.gzhead.time>>16&255),he(Ee,Ee.gzhead.time>>24&255),he(Ee,Ee.level===9?2:2<=Ee.strategy||Ee.level<2?4:0),he(Ee,255&Ee.gzhead.os),Ee.gzhead.extra&&Ee.gzhead.extra.length&&(he(Ee,255&Ee.gzhead.extra.length),he(Ee,Ee.gzhead.extra.length>>8&255)),Ee.gzhead.hcrc&&($.adler=y($.adler,Ee.pending_buf,Ee.pending,0)),Ee.gzindex=0,Ee.status=69):(he(Ee,0),he(Ee,0),he(Ee,0),he(Ee,0),he(Ee,0),he(Ee,Ee.level===9?2:2<=Ee.strategy||Ee.level<2?4:0),he(Ee,3),Ee.status=ve);else{var st=W+(Ee.w_bits-8<<4)<<8;st|=(2<=Ee.strategy||Ee.level<2?0:Ee.level<6?1:Ee.level===6?2:3)<<6,Ee.strstart!==0&&(st|=32),st+=31-st%31,Ee.status=ve,fe(Ee,st),Ee.strstart!==0&&(fe(Ee,$.adler>>>16),fe(Ee,65535&$.adler)),$.adler=1}if(Ee.status===69)if(Ee.gzhead.extra){for(we=Ee.pending;Ee.gzindex<(65535&Ee.gzhead.extra.length)&&(Ee.pending!==Ee.pending_buf_size||(Ee.gzhead.hcrc&&Ee.pending>we&&($.adler=y($.adler,Ee.pending_buf,Ee.pending-we,we)),re($),we=Ee.pending,Ee.pending!==Ee.pending_buf_size));)he(Ee,255&Ee.gzhead.extra[Ee.gzindex]),Ee.gzindex++;Ee.gzhead.hcrc&&Ee.pending>we&&($.adler=y($.adler,Ee.pending_buf,Ee.pending-we,we)),Ee.gzindex===Ee.gzhead.extra.length&&(Ee.gzindex=0,Ee.status=73)}else Ee.status=73;if(Ee.status===73)if(Ee.gzhead.name){we=Ee.pending;do{if(Ee.pending===Ee.pending_buf_size&&(Ee.gzhead.hcrc&&Ee.pending>we&&($.adler=y($.adler,Ee.pending_buf,Ee.pending-we,we)),re($),we=Ee.pending,Ee.pending===Ee.pending_buf_size)){Te=1;break}Te=Ee.gzindex<Ee.gzhead.name.length?255&Ee.gzhead.name.charCodeAt(Ee.gzindex++):0,he(Ee,Te)}while(Te!==0);Ee.gzhead.hcrc&&Ee.pending>we&&($.adler=y($.adler,Ee.pending_buf,Ee.pending-we,we)),Te===0&&(Ee.gzindex=0,Ee.status=91)}else Ee.status=91;if(Ee.status===91)if(Ee.gzhead.comment){we=Ee.pending;do{if(Ee.pending===Ee.pending_buf_size&&(Ee.gzhead.hcrc&&Ee.pending>we&&($.adler=y($.adler,Ee.pending_buf,Ee.pending-we,we)),re($),we=Ee.pending,Ee.pending===Ee.pending_buf_size)){Te=1;break}Te=Ee.gzindex<Ee.gzhead.comment.length?255&Ee.gzhead.comment.charCodeAt(Ee.gzindex++):0,he(Ee,Te)}while(Te!==0);Ee.gzhead.hcrc&&Ee.pending>we&&($.adler=y($.adler,Ee.pending_buf,Ee.pending-we,we)),Te===0&&(Ee.status=103)}else Ee.status=103;if(Ee.status===103&&(Ee.gzhead.hcrc?(Ee.pending+2>Ee.pending_buf_size&&re($),Ee.pending+2<=Ee.pending_buf_size&&(he(Ee,255&$.adler),he(Ee,$.adler>>8&255),$.adler=0,Ee.status=ve)):Ee.status=ve),Ee.pending!==0){if(re($),$.avail_out===0)return Ee.last_flush=-1,x}else if($.avail_in===0&&Ae(je)<=Ae(oe)&&je!==A)return Le($,-5);if(Ee.status===666&&$.avail_in!==0)return Le($,-5);if($.avail_in!==0||Ee.lookahead!==0||je!==E&&Ee.status!==666){var ht=Ee.strategy===2?(function(qe,Lt){for(var It;;){if(qe.lookahead===0&&(Be(qe),qe.lookahead===0)){if(Lt===E)return j;break}if(qe.match_length=0,It=d._tr_tally(qe,0,qe.window[qe.strstart]),qe.lookahead--,qe.strstart++,It&&(F(qe,!1),qe.strm.avail_out===0))return j}return qe.insert=0,Lt===A?(F(qe,!0),qe.strm.avail_out===0?Ve:Fe):qe.last_lit&&(F(qe,!1),qe.strm.avail_out===0)?j:Ie})(Ee,je):Ee.strategy===3?(function(qe,Lt){for(var It,Bt,Ut,an,tn=qe.window;;){if(qe.lookahead<=Ne){if(Be(qe),qe.lookahead<=Ne&&Lt===E)return j;if(qe.lookahead===0)break}if(qe.match_length=0,qe.lookahead>=me&&0<qe.strstart&&(Bt=tn[Ut=qe.strstart-1])===tn[++Ut]&&Bt===tn[++Ut]&&Bt===tn[++Ut]){an=qe.strstart+Ne;do;while(Bt===tn[++Ut]&&Bt===tn[++Ut]&&Bt===tn[++Ut]&&Bt===tn[++Ut]&&Bt===tn[++Ut]&&Bt===tn[++Ut]&&Bt===tn[++Ut]&&Bt===tn[++Ut]&&Ut<an);qe.match_length=Ne-(an-Ut),qe.match_length>qe.lookahead&&(qe.match_length=qe.lookahead)}if(qe.match_length>=me?(It=d._tr_tally(qe,1,qe.match_length-me),qe.lookahead-=qe.match_length,qe.strstart+=qe.match_length,qe.match_length=0):(It=d._tr_tally(qe,0,qe.window[qe.strstart]),qe.lookahead--,qe.strstart++),It&&(F(qe,!1),qe.strm.avail_out===0))return j}return qe.insert=0,Lt===A?(F(qe,!0),qe.strm.avail_out===0?Ve:Fe):qe.last_lit&&(F(qe,!1),qe.strm.avail_out===0)?j:Ie})(Ee,je):l[Ee.level].func(Ee,je);if(ht!==Ve&&ht!==Fe||(Ee.status=666),ht===j||ht===Ve)return $.avail_out===0&&(Ee.last_flush=-1),x;if(ht===Ie&&(je===1?d._tr_align(Ee):je!==5&&(d._tr_stored_block(Ee,0,0,!1),je===3&&(Pe(Ee.head),Ee.lookahead===0&&(Ee.strstart=0,Ee.block_start=0,Ee.insert=0))),re($),$.avail_out===0))return Ee.last_flush=-1,x}return je!==A?x:Ee.wrap<=0?1:(Ee.wrap===2?(he(Ee,255&$.adler),he(Ee,$.adler>>8&255),he(Ee,$.adler>>16&255),he(Ee,$.adler>>24&255),he(Ee,255&$.total_in),he(Ee,$.total_in>>8&255),he(Ee,$.total_in>>16&255),he(Ee,$.total_in>>24&255)):(fe(Ee,$.adler>>>16),fe(Ee,65535&$.adler)),re($),0<Ee.wrap&&(Ee.wrap=-Ee.wrap),Ee.pending!==0?x:1)},u.deflateEnd=function($){var je;return $&&$.state?(je=$.state.status)!==G&&je!==69&&je!==73&&je!==91&&je!==103&&je!==ve&&je!==666?Le($,R):($.state=null,je===ve?Le($,-3):x):R},u.deflateSetDictionary=function($,je){var oe,Ee,we,Te,st,ht,qe,Lt,It=je.length;if(!$||!$.state||(Te=(oe=$.state).wrap)===2||Te===1&&oe.status!==G||oe.lookahead)return R;for(Te===1&&($.adler=g($.adler,je,It,0)),oe.wrap=0,It>=oe.w_size&&(Te===0&&(Pe(oe.head),oe.strstart=0,oe.block_start=0,oe.insert=0),Lt=new c.Buf8(oe.w_size),c.arraySet(Lt,je,It-oe.w_size,oe.w_size,0),je=Lt,It=oe.w_size),st=$.avail_in,ht=$.next_in,qe=$.input,$.avail_in=It,$.next_in=0,$.input=je,Be(oe);oe.lookahead>=me;){for(Ee=oe.strstart,we=oe.lookahead-(me-1);oe.ins_h=(oe.ins_h<<oe.hash_shift^oe.window[Ee+me-1])&oe.hash_mask,oe.prev[Ee&oe.w_mask]=oe.head[oe.ins_h],oe.head[oe.ins_h]=Ee,Ee++,--we;);oe.strstart=Ee,oe.lookahead=me-1,Be(oe)}return oe.strstart+=oe.lookahead,oe.block_start=oe.strstart,oe.insert=oe.lookahead,oe.lookahead=0,oe.match_length=oe.prev_length=me-1,oe.match_available=0,$.next_in=ht,$.input=qe,$.avail_in=st,oe.wrap=Te,x},u.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,i,u){i.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,i,u){i.exports=function(l,c){var d,g,y,S,E,A,x,R,M,I,O,W,K,de,ie,xe,Z,Y,me,Ne,te,G,ve,j,Ie;d=l.state,g=l.next_in,j=l.input,y=g+(l.avail_in-5),S=l.next_out,Ie=l.output,E=S-(c-l.avail_out),A=S+(l.avail_out-257),x=d.dmax,R=d.wsize,M=d.whave,I=d.wnext,O=d.window,W=d.hold,K=d.bits,de=d.lencode,ie=d.distcode,xe=(1<<d.lenbits)-1,Z=(1<<d.distbits)-1;e:do{K<15&&(W+=j[g++]<<K,K+=8,W+=j[g++]<<K,K+=8),Y=de[W&xe];t:for(;;){if(W>>>=me=Y>>>24,K-=me,(me=Y>>>16&255)===0)Ie[S++]=65535&Y;else{if(!(16&me)){if((64&me)==0){Y=de[(65535&Y)+(W&(1<<me)-1)];continue t}if(32&me){d.mode=12;break e}l.msg="invalid literal/length code",d.mode=30;break e}Ne=65535&Y,(me&=15)&&(K<me&&(W+=j[g++]<<K,K+=8),Ne+=W&(1<<me)-1,W>>>=me,K-=me),K<15&&(W+=j[g++]<<K,K+=8,W+=j[g++]<<K,K+=8),Y=ie[W&Z];n:for(;;){if(W>>>=me=Y>>>24,K-=me,!(16&(me=Y>>>16&255))){if((64&me)==0){Y=ie[(65535&Y)+(W&(1<<me)-1)];continue n}l.msg="invalid distance code",d.mode=30;break e}if(te=65535&Y,K<(me&=15)&&(W+=j[g++]<<K,(K+=8)<me&&(W+=j[g++]<<K,K+=8)),x<(te+=W&(1<<me)-1)){l.msg="invalid distance too far back",d.mode=30;break e}if(W>>>=me,K-=me,(me=S-E)<te){if(M<(me=te-me)&&d.sane){l.msg="invalid distance too far back",d.mode=30;break e}if(ve=O,(G=0)===I){if(G+=R-me,me<Ne){for(Ne-=me;Ie[S++]=O[G++],--me;);G=S-te,ve=Ie}}else if(I<me){if(G+=R+I-me,(me-=I)<Ne){for(Ne-=me;Ie[S++]=O[G++],--me;);if(G=0,I<Ne){for(Ne-=me=I;Ie[S++]=O[G++],--me;);G=S-te,ve=Ie}}}else if(G+=I-me,me<Ne){for(Ne-=me;Ie[S++]=O[G++],--me;);G=S-te,ve=Ie}for(;2<Ne;)Ie[S++]=ve[G++],Ie[S++]=ve[G++],Ie[S++]=ve[G++],Ne-=3;Ne&&(Ie[S++]=ve[G++],1<Ne&&(Ie[S++]=ve[G++]))}else{for(G=S-te;Ie[S++]=Ie[G++],Ie[S++]=Ie[G++],Ie[S++]=Ie[G++],2<(Ne-=3););Ne&&(Ie[S++]=Ie[G++],1<Ne&&(Ie[S++]=Ie[G++]))}break}}break}}while(g<y&&S<A);g-=Ne=K>>3,W&=(1<<(K-=Ne<<3))-1,l.next_in=g,l.next_out=S,l.avail_in=g<y?y-g+5:5-(g-y),l.avail_out=S<A?A-S+257:257-(S-A),d.hold=W,d.bits=K}},{}],49:[function(e,i,u){var l=e("../utils/common"),c=e("./adler32"),d=e("./crc32"),g=e("./inffast"),y=e("./inftrees"),S=1,E=2,A=0,x=-2,R=1,M=852,I=592;function O(G){return(G>>>24&255)+(G>>>8&65280)+((65280&G)<<8)+((255&G)<<24)}function W(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new l.Buf16(320),this.work=new l.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function K(G){var ve;return G&&G.state?(ve=G.state,G.total_in=G.total_out=ve.total=0,G.msg="",ve.wrap&&(G.adler=1&ve.wrap),ve.mode=R,ve.last=0,ve.havedict=0,ve.dmax=32768,ve.head=null,ve.hold=0,ve.bits=0,ve.lencode=ve.lendyn=new l.Buf32(M),ve.distcode=ve.distdyn=new l.Buf32(I),ve.sane=1,ve.back=-1,A):x}function de(G){var ve;return G&&G.state?((ve=G.state).wsize=0,ve.whave=0,ve.wnext=0,K(G)):x}function ie(G,ve){var j,Ie;return G&&G.state?(Ie=G.state,ve<0?(j=0,ve=-ve):(j=1+(ve>>4),ve<48&&(ve&=15)),ve&&(ve<8||15<ve)?x:(Ie.window!==null&&Ie.wbits!==ve&&(Ie.window=null),Ie.wrap=j,Ie.wbits=ve,de(G))):x}function xe(G,ve){var j,Ie;return G?(Ie=new W,(G.state=Ie).window=null,(j=ie(G,ve))!==A&&(G.state=null),j):x}var Z,Y,me=!0;function Ne(G){if(me){var ve;for(Z=new l.Buf32(512),Y=new l.Buf32(32),ve=0;ve<144;)G.lens[ve++]=8;for(;ve<256;)G.lens[ve++]=9;for(;ve<280;)G.lens[ve++]=7;for(;ve<288;)G.lens[ve++]=8;for(y(S,G.lens,0,288,Z,0,G.work,{bits:9}),ve=0;ve<32;)G.lens[ve++]=5;y(E,G.lens,0,32,Y,0,G.work,{bits:5}),me=!1}G.lencode=Z,G.lenbits=9,G.distcode=Y,G.distbits=5}function te(G,ve,j,Ie){var Ve,Fe=G.state;return Fe.window===null&&(Fe.wsize=1<<Fe.wbits,Fe.wnext=0,Fe.whave=0,Fe.window=new l.Buf8(Fe.wsize)),Ie>=Fe.wsize?(l.arraySet(Fe.window,ve,j-Fe.wsize,Fe.wsize,0),Fe.wnext=0,Fe.whave=Fe.wsize):(Ie<(Ve=Fe.wsize-Fe.wnext)&&(Ve=Ie),l.arraySet(Fe.window,ve,j-Ie,Ve,Fe.wnext),(Ie-=Ve)?(l.arraySet(Fe.window,ve,j-Ie,Ie,0),Fe.wnext=Ie,Fe.whave=Fe.wsize):(Fe.wnext+=Ve,Fe.wnext===Fe.wsize&&(Fe.wnext=0),Fe.whave<Fe.wsize&&(Fe.whave+=Ve))),0}u.inflateReset=de,u.inflateReset2=ie,u.inflateResetKeep=K,u.inflateInit=function(G){return xe(G,15)},u.inflateInit2=xe,u.inflate=function(G,ve){var j,Ie,Ve,Fe,Le,Ae,Pe,re,F,he,fe,pe,Be,Ke,We,Ye,Tt,Ot,Gt,qt,$,je,oe,Ee,we=0,Te=new l.Buf8(4),st=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!G||!G.state||!G.output||!G.input&&G.avail_in!==0)return x;(j=G.state).mode===12&&(j.mode=13),Le=G.next_out,Ve=G.output,Pe=G.avail_out,Fe=G.next_in,Ie=G.input,Ae=G.avail_in,re=j.hold,F=j.bits,he=Ae,fe=Pe,je=A;e:for(;;)switch(j.mode){case R:if(j.wrap===0){j.mode=13;break}for(;F<16;){if(Ae===0)break e;Ae--,re+=Ie[Fe++]<<F,F+=8}if(2&j.wrap&&re===35615){Te[j.check=0]=255&re,Te[1]=re>>>8&255,j.check=d(j.check,Te,2,0),F=re=0,j.mode=2;break}if(j.flags=0,j.head&&(j.head.done=!1),!(1&j.wrap)||(((255&re)<<8)+(re>>8))%31){G.msg="incorrect header check",j.mode=30;break}if((15&re)!=8){G.msg="unknown compression method",j.mode=30;break}if(F-=4,$=8+(15&(re>>>=4)),j.wbits===0)j.wbits=$;else if($>j.wbits){G.msg="invalid window size",j.mode=30;break}j.dmax=1<<$,G.adler=j.check=1,j.mode=512&re?10:12,F=re=0;break;case 2:for(;F<16;){if(Ae===0)break e;Ae--,re+=Ie[Fe++]<<F,F+=8}if(j.flags=re,(255&j.flags)!=8){G.msg="unknown compression method",j.mode=30;break}if(57344&j.flags){G.msg="unknown header flags set",j.mode=30;break}j.head&&(j.head.text=re>>8&1),512&j.flags&&(Te[0]=255&re,Te[1]=re>>>8&255,j.check=d(j.check,Te,2,0)),F=re=0,j.mode=3;case 3:for(;F<32;){if(Ae===0)break e;Ae--,re+=Ie[Fe++]<<F,F+=8}j.head&&(j.head.time=re),512&j.flags&&(Te[0]=255&re,Te[1]=re>>>8&255,Te[2]=re>>>16&255,Te[3]=re>>>24&255,j.check=d(j.check,Te,4,0)),F=re=0,j.mode=4;case 4:for(;F<16;){if(Ae===0)break e;Ae--,re+=Ie[Fe++]<<F,F+=8}j.head&&(j.head.xflags=255&re,j.head.os=re>>8),512&j.flags&&(Te[0]=255&re,Te[1]=re>>>8&255,j.check=d(j.check,Te,2,0)),F=re=0,j.mode=5;case 5:if(1024&j.flags){for(;F<16;){if(Ae===0)break e;Ae--,re+=Ie[Fe++]<<F,F+=8}j.length=re,j.head&&(j.head.extra_len=re),512&j.flags&&(Te[0]=255&re,Te[1]=re>>>8&255,j.check=d(j.check,Te,2,0)),F=re=0}else j.head&&(j.head.extra=null);j.mode=6;case 6:if(1024&j.flags&&(Ae<(pe=j.length)&&(pe=Ae),pe&&(j.head&&($=j.head.extra_len-j.length,j.head.extra||(j.head.extra=new Array(j.head.extra_len)),l.arraySet(j.head.extra,Ie,Fe,pe,$)),512&j.flags&&(j.check=d(j.check,Ie,pe,Fe)),Ae-=pe,Fe+=pe,j.length-=pe),j.length))break e;j.length=0,j.mode=7;case 7:if(2048&j.flags){if(Ae===0)break e;for(pe=0;$=Ie[Fe+pe++],j.head&&$&&j.length<65536&&(j.head.name+=String.fromCharCode($)),$&&pe<Ae;);if(512&j.flags&&(j.check=d(j.check,Ie,pe,Fe)),Ae-=pe,Fe+=pe,$)break e}else j.head&&(j.head.name=null);j.length=0,j.mode=8;case 8:if(4096&j.flags){if(Ae===0)break e;for(pe=0;$=Ie[Fe+pe++],j.head&&$&&j.length<65536&&(j.head.comment+=String.fromCharCode($)),$&&pe<Ae;);if(512&j.flags&&(j.check=d(j.check,Ie,pe,Fe)),Ae-=pe,Fe+=pe,$)break e}else j.head&&(j.head.comment=null);j.mode=9;case 9:if(512&j.flags){for(;F<16;){if(Ae===0)break e;Ae--,re+=Ie[Fe++]<<F,F+=8}if(re!==(65535&j.check)){G.msg="header crc mismatch",j.mode=30;break}F=re=0}j.head&&(j.head.hcrc=j.flags>>9&1,j.head.done=!0),G.adler=j.check=0,j.mode=12;break;case 10:for(;F<32;){if(Ae===0)break e;Ae--,re+=Ie[Fe++]<<F,F+=8}G.adler=j.check=O(re),F=re=0,j.mode=11;case 11:if(j.havedict===0)return G.next_out=Le,G.avail_out=Pe,G.next_in=Fe,G.avail_in=Ae,j.hold=re,j.bits=F,2;G.adler=j.check=1,j.mode=12;case 12:if(ve===5||ve===6)break e;case 13:if(j.last){re>>>=7&F,F-=7&F,j.mode=27;break}for(;F<3;){if(Ae===0)break e;Ae--,re+=Ie[Fe++]<<F,F+=8}switch(j.last=1&re,F-=1,3&(re>>>=1)){case 0:j.mode=14;break;case 1:if(Ne(j),j.mode=20,ve!==6)break;re>>>=2,F-=2;break e;case 2:j.mode=17;break;case 3:G.msg="invalid block type",j.mode=30}re>>>=2,F-=2;break;case 14:for(re>>>=7&F,F-=7&F;F<32;){if(Ae===0)break e;Ae--,re+=Ie[Fe++]<<F,F+=8}if((65535&re)!=(re>>>16^65535)){G.msg="invalid stored block lengths",j.mode=30;break}if(j.length=65535&re,F=re=0,j.mode=15,ve===6)break e;case 15:j.mode=16;case 16:if(pe=j.length){if(Ae<pe&&(pe=Ae),Pe<pe&&(pe=Pe),pe===0)break e;l.arraySet(Ve,Ie,Fe,pe,Le),Ae-=pe,Fe+=pe,Pe-=pe,Le+=pe,j.length-=pe;break}j.mode=12;break;case 17:for(;F<14;){if(Ae===0)break e;Ae--,re+=Ie[Fe++]<<F,F+=8}if(j.nlen=257+(31&re),re>>>=5,F-=5,j.ndist=1+(31&re),re>>>=5,F-=5,j.ncode=4+(15&re),re>>>=4,F-=4,286<j.nlen||30<j.ndist){G.msg="too many length or distance symbols",j.mode=30;break}j.have=0,j.mode=18;case 18:for(;j.have<j.ncode;){for(;F<3;){if(Ae===0)break e;Ae--,re+=Ie[Fe++]<<F,F+=8}j.lens[st[j.have++]]=7&re,re>>>=3,F-=3}for(;j.have<19;)j.lens[st[j.have++]]=0;if(j.lencode=j.lendyn,j.lenbits=7,oe={bits:j.lenbits},je=y(0,j.lens,0,19,j.lencode,0,j.work,oe),j.lenbits=oe.bits,je){G.msg="invalid code lengths set",j.mode=30;break}j.have=0,j.mode=19;case 19:for(;j.have<j.nlen+j.ndist;){for(;Ye=(we=j.lencode[re&(1<<j.lenbits)-1])>>>16&255,Tt=65535&we,!((We=we>>>24)<=F);){if(Ae===0)break e;Ae--,re+=Ie[Fe++]<<F,F+=8}if(Tt<16)re>>>=We,F-=We,j.lens[j.have++]=Tt;else{if(Tt===16){for(Ee=We+2;F<Ee;){if(Ae===0)break e;Ae--,re+=Ie[Fe++]<<F,F+=8}if(re>>>=We,F-=We,j.have===0){G.msg="invalid bit length repeat",j.mode=30;break}$=j.lens[j.have-1],pe=3+(3&re),re>>>=2,F-=2}else if(Tt===17){for(Ee=We+3;F<Ee;){if(Ae===0)break e;Ae--,re+=Ie[Fe++]<<F,F+=8}F-=We,$=0,pe=3+(7&(re>>>=We)),re>>>=3,F-=3}else{for(Ee=We+7;F<Ee;){if(Ae===0)break e;Ae--,re+=Ie[Fe++]<<F,F+=8}F-=We,$=0,pe=11+(127&(re>>>=We)),re>>>=7,F-=7}if(j.have+pe>j.nlen+j.ndist){G.msg="invalid bit length repeat",j.mode=30;break}for(;pe--;)j.lens[j.have++]=$}}if(j.mode===30)break;if(j.lens[256]===0){G.msg="invalid code -- missing end-of-block",j.mode=30;break}if(j.lenbits=9,oe={bits:j.lenbits},je=y(S,j.lens,0,j.nlen,j.lencode,0,j.work,oe),j.lenbits=oe.bits,je){G.msg="invalid literal/lengths set",j.mode=30;break}if(j.distbits=6,j.distcode=j.distdyn,oe={bits:j.distbits},je=y(E,j.lens,j.nlen,j.ndist,j.distcode,0,j.work,oe),j.distbits=oe.bits,je){G.msg="invalid distances set",j.mode=30;break}if(j.mode=20,ve===6)break e;case 20:j.mode=21;case 21:if(6<=Ae&&258<=Pe){G.next_out=Le,G.avail_out=Pe,G.next_in=Fe,G.avail_in=Ae,j.hold=re,j.bits=F,g(G,fe),Le=G.next_out,Ve=G.output,Pe=G.avail_out,Fe=G.next_in,Ie=G.input,Ae=G.avail_in,re=j.hold,F=j.bits,j.mode===12&&(j.back=-1);break}for(j.back=0;Ye=(we=j.lencode[re&(1<<j.lenbits)-1])>>>16&255,Tt=65535&we,!((We=we>>>24)<=F);){if(Ae===0)break e;Ae--,re+=Ie[Fe++]<<F,F+=8}if(Ye&&(240&Ye)==0){for(Ot=We,Gt=Ye,qt=Tt;Ye=(we=j.lencode[qt+((re&(1<<Ot+Gt)-1)>>Ot)])>>>16&255,Tt=65535&we,!(Ot+(We=we>>>24)<=F);){if(Ae===0)break e;Ae--,re+=Ie[Fe++]<<F,F+=8}re>>>=Ot,F-=Ot,j.back+=Ot}if(re>>>=We,F-=We,j.back+=We,j.length=Tt,Ye===0){j.mode=26;break}if(32&Ye){j.back=-1,j.mode=12;break}if(64&Ye){G.msg="invalid literal/length code",j.mode=30;break}j.extra=15&Ye,j.mode=22;case 22:if(j.extra){for(Ee=j.extra;F<Ee;){if(Ae===0)break e;Ae--,re+=Ie[Fe++]<<F,F+=8}j.length+=re&(1<<j.extra)-1,re>>>=j.extra,F-=j.extra,j.back+=j.extra}j.was=j.length,j.mode=23;case 23:for(;Ye=(we=j.distcode[re&(1<<j.distbits)-1])>>>16&255,Tt=65535&we,!((We=we>>>24)<=F);){if(Ae===0)break e;Ae--,re+=Ie[Fe++]<<F,F+=8}if((240&Ye)==0){for(Ot=We,Gt=Ye,qt=Tt;Ye=(we=j.distcode[qt+((re&(1<<Ot+Gt)-1)>>Ot)])>>>16&255,Tt=65535&we,!(Ot+(We=we>>>24)<=F);){if(Ae===0)break e;Ae--,re+=Ie[Fe++]<<F,F+=8}re>>>=Ot,F-=Ot,j.back+=Ot}if(re>>>=We,F-=We,j.back+=We,64&Ye){G.msg="invalid distance code",j.mode=30;break}j.offset=Tt,j.extra=15&Ye,j.mode=24;case 24:if(j.extra){for(Ee=j.extra;F<Ee;){if(Ae===0)break e;Ae--,re+=Ie[Fe++]<<F,F+=8}j.offset+=re&(1<<j.extra)-1,re>>>=j.extra,F-=j.extra,j.back+=j.extra}if(j.offset>j.dmax){G.msg="invalid distance too far back",j.mode=30;break}j.mode=25;case 25:if(Pe===0)break e;if(pe=fe-Pe,j.offset>pe){if((pe=j.offset-pe)>j.whave&&j.sane){G.msg="invalid distance too far back",j.mode=30;break}Be=pe>j.wnext?(pe-=j.wnext,j.wsize-pe):j.wnext-pe,pe>j.length&&(pe=j.length),Ke=j.window}else Ke=Ve,Be=Le-j.offset,pe=j.length;for(Pe<pe&&(pe=Pe),Pe-=pe,j.length-=pe;Ve[Le++]=Ke[Be++],--pe;);j.length===0&&(j.mode=21);break;case 26:if(Pe===0)break e;Ve[Le++]=j.length,Pe--,j.mode=21;break;case 27:if(j.wrap){for(;F<32;){if(Ae===0)break e;Ae--,re|=Ie[Fe++]<<F,F+=8}if(fe-=Pe,G.total_out+=fe,j.total+=fe,fe&&(G.adler=j.check=j.flags?d(j.check,Ve,fe,Le-fe):c(j.check,Ve,fe,Le-fe)),fe=Pe,(j.flags?re:O(re))!==j.check){G.msg="incorrect data check",j.mode=30;break}F=re=0}j.mode=28;case 28:if(j.wrap&&j.flags){for(;F<32;){if(Ae===0)break e;Ae--,re+=Ie[Fe++]<<F,F+=8}if(re!==(4294967295&j.total)){G.msg="incorrect length check",j.mode=30;break}F=re=0}j.mode=29;case 29:je=1;break e;case 30:je=-3;break e;case 31:return-4;case 32:default:return x}return G.next_out=Le,G.avail_out=Pe,G.next_in=Fe,G.avail_in=Ae,j.hold=re,j.bits=F,(j.wsize||fe!==G.avail_out&&j.mode<30&&(j.mode<27||ve!==4))&&te(G,G.output,G.next_out,fe-G.avail_out)?(j.mode=31,-4):(he-=G.avail_in,fe-=G.avail_out,G.total_in+=he,G.total_out+=fe,j.total+=fe,j.wrap&&fe&&(G.adler=j.check=j.flags?d(j.check,Ve,fe,G.next_out-fe):c(j.check,Ve,fe,G.next_out-fe)),G.data_type=j.bits+(j.last?64:0)+(j.mode===12?128:0)+(j.mode===20||j.mode===15?256:0),(he==0&&fe===0||ve===4)&&je===A&&(je=-5),je)},u.inflateEnd=function(G){if(!G||!G.state)return x;var ve=G.state;return ve.window&&(ve.window=null),G.state=null,A},u.inflateGetHeader=function(G,ve){var j;return G&&G.state?(2&(j=G.state).wrap)==0?x:((j.head=ve).done=!1,A):x},u.inflateSetDictionary=function(G,ve){var j,Ie=ve.length;return G&&G.state?(j=G.state).wrap!==0&&j.mode!==11?x:j.mode===11&&c(1,ve,Ie,0)!==j.check?-3:te(G,ve,Ie,Ie)?(j.mode=31,-4):(j.havedict=1,A):x},u.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,i,u){var l=e("../utils/common"),c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],g=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],y=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(S,E,A,x,R,M,I,O){var W,K,de,ie,xe,Z,Y,me,Ne,te=O.bits,G=0,ve=0,j=0,Ie=0,Ve=0,Fe=0,Le=0,Ae=0,Pe=0,re=0,F=null,he=0,fe=new l.Buf16(16),pe=new l.Buf16(16),Be=null,Ke=0;for(G=0;G<=15;G++)fe[G]=0;for(ve=0;ve<x;ve++)fe[E[A+ve]]++;for(Ve=te,Ie=15;1<=Ie&&fe[Ie]===0;Ie--);if(Ie<Ve&&(Ve=Ie),Ie===0)return R[M++]=20971520,R[M++]=20971520,O.bits=1,0;for(j=1;j<Ie&&fe[j]===0;j++);for(Ve<j&&(Ve=j),G=Ae=1;G<=15;G++)if(Ae<<=1,(Ae-=fe[G])<0)return-1;if(0<Ae&&(S===0||Ie!==1))return-1;for(pe[1]=0,G=1;G<15;G++)pe[G+1]=pe[G]+fe[G];for(ve=0;ve<x;ve++)E[A+ve]!==0&&(I[pe[E[A+ve]]++]=ve);if(Z=S===0?(F=Be=I,19):S===1?(F=c,he-=257,Be=d,Ke-=257,256):(F=g,Be=y,-1),G=j,xe=M,Le=ve=re=0,de=-1,ie=(Pe=1<<(Fe=Ve))-1,S===1&&852<Pe||S===2&&592<Pe)return 1;for(;;){for(Y=G-Le,Ne=I[ve]<Z?(me=0,I[ve]):I[ve]>Z?(me=Be[Ke+I[ve]],F[he+I[ve]]):(me=96,0),W=1<<G-Le,j=K=1<<Fe;R[xe+(re>>Le)+(K-=W)]=Y<<24|me<<16|Ne|0,K!==0;);for(W=1<<G-1;re&W;)W>>=1;if(W!==0?(re&=W-1,re+=W):re=0,ve++,--fe[G]==0){if(G===Ie)break;G=E[A+I[ve]]}if(Ve<G&&(re&ie)!==de){for(Le===0&&(Le=Ve),xe+=j,Ae=1<<(Fe=G-Le);Fe+Le<Ie&&!((Ae-=fe[Fe+Le])<=0);)Fe++,Ae<<=1;if(Pe+=1<<Fe,S===1&&852<Pe||S===2&&592<Pe)return 1;R[de=re&ie]=Ve<<24|Fe<<16|xe-M|0}}return re!==0&&(R[xe+re]=G-Le<<24|64<<16|0),O.bits=Ve,0}},{"../utils/common":41}],51:[function(e,i,u){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,i,u){var l=e("../utils/common"),c=0,d=1;function g(we){for(var Te=we.length;0<=--Te;)we[Te]=0}var y=0,S=29,E=256,A=E+1+S,x=30,R=19,M=2*A+1,I=15,O=16,W=7,K=256,de=16,ie=17,xe=18,Z=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Y=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],me=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],te=new Array(2*(A+2));g(te);var G=new Array(2*x);g(G);var ve=new Array(512);g(ve);var j=new Array(256);g(j);var Ie=new Array(S);g(Ie);var Ve,Fe,Le,Ae=new Array(x);function Pe(we,Te,st,ht,qe){this.static_tree=we,this.extra_bits=Te,this.extra_base=st,this.elems=ht,this.max_length=qe,this.has_stree=we&&we.length}function re(we,Te){this.dyn_tree=we,this.max_code=0,this.stat_desc=Te}function F(we){return we<256?ve[we]:ve[256+(we>>>7)]}function he(we,Te){we.pending_buf[we.pending++]=255&Te,we.pending_buf[we.pending++]=Te>>>8&255}function fe(we,Te,st){we.bi_valid>O-st?(we.bi_buf|=Te<<we.bi_valid&65535,he(we,we.bi_buf),we.bi_buf=Te>>O-we.bi_valid,we.bi_valid+=st-O):(we.bi_buf|=Te<<we.bi_valid&65535,we.bi_valid+=st)}function pe(we,Te,st){fe(we,st[2*Te],st[2*Te+1])}function Be(we,Te){for(var st=0;st|=1&we,we>>>=1,st<<=1,0<--Te;);return st>>>1}function Ke(we,Te,st){var ht,qe,Lt=new Array(I+1),It=0;for(ht=1;ht<=I;ht++)Lt[ht]=It=It+st[ht-1]<<1;for(qe=0;qe<=Te;qe++){var Bt=we[2*qe+1];Bt!==0&&(we[2*qe]=Be(Lt[Bt]++,Bt))}}function We(we){var Te;for(Te=0;Te<A;Te++)we.dyn_ltree[2*Te]=0;for(Te=0;Te<x;Te++)we.dyn_dtree[2*Te]=0;for(Te=0;Te<R;Te++)we.bl_tree[2*Te]=0;we.dyn_ltree[2*K]=1,we.opt_len=we.static_len=0,we.last_lit=we.matches=0}function Ye(we){8<we.bi_valid?he(we,we.bi_buf):0<we.bi_valid&&(we.pending_buf[we.pending++]=we.bi_buf),we.bi_buf=0,we.bi_valid=0}function Tt(we,Te,st,ht){var qe=2*Te,Lt=2*st;return we[qe]<we[Lt]||we[qe]===we[Lt]&&ht[Te]<=ht[st]}function Ot(we,Te,st){for(var ht=we.heap[st],qe=st<<1;qe<=we.heap_len&&(qe<we.heap_len&&Tt(Te,we.heap[qe+1],we.heap[qe],we.depth)&&qe++,!Tt(Te,ht,we.heap[qe],we.depth));)we.heap[st]=we.heap[qe],st=qe,qe<<=1;we.heap[st]=ht}function Gt(we,Te,st){var ht,qe,Lt,It,Bt=0;if(we.last_lit!==0)for(;ht=we.pending_buf[we.d_buf+2*Bt]<<8|we.pending_buf[we.d_buf+2*Bt+1],qe=we.pending_buf[we.l_buf+Bt],Bt++,ht===0?pe(we,qe,Te):(pe(we,(Lt=j[qe])+E+1,Te),(It=Z[Lt])!==0&&fe(we,qe-=Ie[Lt],It),pe(we,Lt=F(--ht),st),(It=Y[Lt])!==0&&fe(we,ht-=Ae[Lt],It)),Bt<we.last_lit;);pe(we,K,Te)}function qt(we,Te){var st,ht,qe,Lt=Te.dyn_tree,It=Te.stat_desc.static_tree,Bt=Te.stat_desc.has_stree,Ut=Te.stat_desc.elems,an=-1;for(we.heap_len=0,we.heap_max=M,st=0;st<Ut;st++)Lt[2*st]!==0?(we.heap[++we.heap_len]=an=st,we.depth[st]=0):Lt[2*st+1]=0;for(;we.heap_len<2;)Lt[2*(qe=we.heap[++we.heap_len]=an<2?++an:0)]=1,we.depth[qe]=0,we.opt_len--,Bt&&(we.static_len-=It[2*qe+1]);for(Te.max_code=an,st=we.heap_len>>1;1<=st;st--)Ot(we,Lt,st);for(qe=Ut;st=we.heap[1],we.heap[1]=we.heap[we.heap_len--],Ot(we,Lt,1),ht=we.heap[1],we.heap[--we.heap_max]=st,we.heap[--we.heap_max]=ht,Lt[2*qe]=Lt[2*st]+Lt[2*ht],we.depth[qe]=(we.depth[st]>=we.depth[ht]?we.depth[st]:we.depth[ht])+1,Lt[2*st+1]=Lt[2*ht+1]=qe,we.heap[1]=qe++,Ot(we,Lt,1),2<=we.heap_len;);we.heap[--we.heap_max]=we.heap[1],(function(tn,on){var wn,Vt,ur,cn,Dr,zn,jn=on.dyn_tree,Ar=on.max_code,Wn=on.stat_desc.static_tree,Ps=on.stat_desc.has_stree,ar=on.stat_desc.extra_bits,Ir=on.stat_desc.extra_base,Mr=on.stat_desc.max_length,or=0;for(cn=0;cn<=I;cn++)tn.bl_count[cn]=0;for(jn[2*tn.heap[tn.heap_max]+1]=0,wn=tn.heap_max+1;wn<M;wn++)Mr<(cn=jn[2*jn[2*(Vt=tn.heap[wn])+1]+1]+1)&&(cn=Mr,or++),jn[2*Vt+1]=cn,Ar<Vt||(tn.bl_count[cn]++,Dr=0,Ir<=Vt&&(Dr=ar[Vt-Ir]),zn=jn[2*Vt],tn.opt_len+=zn*(cn+Dr),Ps&&(tn.static_len+=zn*(Wn[2*Vt+1]+Dr)));if(or!==0){do{for(cn=Mr-1;tn.bl_count[cn]===0;)cn--;tn.bl_count[cn]--,tn.bl_count[cn+1]+=2,tn.bl_count[Mr]--,or-=2}while(0<or);for(cn=Mr;cn!==0;cn--)for(Vt=tn.bl_count[cn];Vt!==0;)Ar<(ur=tn.heap[--wn])||(jn[2*ur+1]!==cn&&(tn.opt_len+=(cn-jn[2*ur+1])*jn[2*ur],jn[2*ur+1]=cn),Vt--)}})(we,Te),Ke(Lt,an,we.bl_count)}function $(we,Te,st){var ht,qe,Lt=-1,It=Te[1],Bt=0,Ut=7,an=4;for(It===0&&(Ut=138,an=3),Te[2*(st+1)+1]=65535,ht=0;ht<=st;ht++)qe=It,It=Te[2*(ht+1)+1],++Bt<Ut&&qe===It||(Bt<an?we.bl_tree[2*qe]+=Bt:qe!==0?(qe!==Lt&&we.bl_tree[2*qe]++,we.bl_tree[2*de]++):Bt<=10?we.bl_tree[2*ie]++:we.bl_tree[2*xe]++,Lt=qe,an=(Bt=0)===It?(Ut=138,3):qe===It?(Ut=6,3):(Ut=7,4))}function je(we,Te,st){var ht,qe,Lt=-1,It=Te[1],Bt=0,Ut=7,an=4;for(It===0&&(Ut=138,an=3),ht=0;ht<=st;ht++)if(qe=It,It=Te[2*(ht+1)+1],!(++Bt<Ut&&qe===It)){if(Bt<an)for(;pe(we,qe,we.bl_tree),--Bt!=0;);else qe!==0?(qe!==Lt&&(pe(we,qe,we.bl_tree),Bt--),pe(we,de,we.bl_tree),fe(we,Bt-3,2)):Bt<=10?(pe(we,ie,we.bl_tree),fe(we,Bt-3,3)):(pe(we,xe,we.bl_tree),fe(we,Bt-11,7));Lt=qe,an=(Bt=0)===It?(Ut=138,3):qe===It?(Ut=6,3):(Ut=7,4)}}g(Ae);var oe=!1;function Ee(we,Te,st,ht){fe(we,(y<<1)+(ht?1:0),3),(function(qe,Lt,It,Bt){Ye(qe),he(qe,It),he(qe,~It),l.arraySet(qe.pending_buf,qe.window,Lt,It,qe.pending),qe.pending+=It})(we,Te,st)}u._tr_init=function(we){oe||((function(){var Te,st,ht,qe,Lt,It=new Array(I+1);for(qe=ht=0;qe<S-1;qe++)for(Ie[qe]=ht,Te=0;Te<1<<Z[qe];Te++)j[ht++]=qe;for(j[ht-1]=qe,qe=Lt=0;qe<16;qe++)for(Ae[qe]=Lt,Te=0;Te<1<<Y[qe];Te++)ve[Lt++]=qe;for(Lt>>=7;qe<x;qe++)for(Ae[qe]=Lt<<7,Te=0;Te<1<<Y[qe]-7;Te++)ve[256+Lt++]=qe;for(st=0;st<=I;st++)It[st]=0;for(Te=0;Te<=143;)te[2*Te+1]=8,Te++,It[8]++;for(;Te<=255;)te[2*Te+1]=9,Te++,It[9]++;for(;Te<=279;)te[2*Te+1]=7,Te++,It[7]++;for(;Te<=287;)te[2*Te+1]=8,Te++,It[8]++;for(Ke(te,A+1,It),Te=0;Te<x;Te++)G[2*Te+1]=5,G[2*Te]=Be(Te,5);Ve=new Pe(te,Z,E+1,A,I),Fe=new Pe(G,Y,0,x,I),Le=new Pe(new Array(0),me,0,R,W)})(),oe=!0),we.l_desc=new re(we.dyn_ltree,Ve),we.d_desc=new re(we.dyn_dtree,Fe),we.bl_desc=new re(we.bl_tree,Le),we.bi_buf=0,we.bi_valid=0,We(we)},u._tr_stored_block=Ee,u._tr_flush_block=function(we,Te,st,ht){var qe,Lt,It=0;0<we.level?(we.strm.data_type===2&&(we.strm.data_type=(function(Bt){var Ut,an=4093624447;for(Ut=0;Ut<=31;Ut++,an>>>=1)if(1&an&&Bt.dyn_ltree[2*Ut]!==0)return c;if(Bt.dyn_ltree[18]!==0||Bt.dyn_ltree[20]!==0||Bt.dyn_ltree[26]!==0)return d;for(Ut=32;Ut<E;Ut++)if(Bt.dyn_ltree[2*Ut]!==0)return d;return c})(we)),qt(we,we.l_desc),qt(we,we.d_desc),It=(function(Bt){var Ut;for($(Bt,Bt.dyn_ltree,Bt.l_desc.max_code),$(Bt,Bt.dyn_dtree,Bt.d_desc.max_code),qt(Bt,Bt.bl_desc),Ut=R-1;3<=Ut&&Bt.bl_tree[2*Ne[Ut]+1]===0;Ut--);return Bt.opt_len+=3*(Ut+1)+5+5+4,Ut})(we),qe=we.opt_len+3+7>>>3,(Lt=we.static_len+3+7>>>3)<=qe&&(qe=Lt)):qe=Lt=st+5,st+4<=qe&&Te!==-1?Ee(we,Te,st,ht):we.strategy===4||Lt===qe?(fe(we,2+(ht?1:0),3),Gt(we,te,G)):(fe(we,4+(ht?1:0),3),(function(Bt,Ut,an,tn){var on;for(fe(Bt,Ut-257,5),fe(Bt,an-1,5),fe(Bt,tn-4,4),on=0;on<tn;on++)fe(Bt,Bt.bl_tree[2*Ne[on]+1],3);je(Bt,Bt.dyn_ltree,Ut-1),je(Bt,Bt.dyn_dtree,an-1)})(we,we.l_desc.max_code+1,we.d_desc.max_code+1,It+1),Gt(we,we.dyn_ltree,we.dyn_dtree)),We(we),ht&&Ye(we)},u._tr_tally=function(we,Te,st){return we.pending_buf[we.d_buf+2*we.last_lit]=Te>>>8&255,we.pending_buf[we.d_buf+2*we.last_lit+1]=255&Te,we.pending_buf[we.l_buf+we.last_lit]=255&st,we.last_lit++,Te===0?we.dyn_ltree[2*st]++:(we.matches++,Te--,we.dyn_ltree[2*(j[st]+E+1)]++,we.dyn_dtree[2*F(Te)]++),we.last_lit===we.lit_bufsize-1},u._tr_align=function(we){fe(we,2,3),pe(we,K,te),(function(Te){Te.bi_valid===16?(he(Te,Te.bi_buf),Te.bi_buf=0,Te.bi_valid=0):8<=Te.bi_valid&&(Te.pending_buf[Te.pending++]=255&Te.bi_buf,Te.bi_buf>>=8,Te.bi_valid-=8)})(we)}},{"../utils/common":41}],53:[function(e,i,u){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,i,u){(function(l){(function(c,d){if(!c.setImmediate){var g,y,S,E,A=1,x={},R=!1,M=c.document,I=Object.getPrototypeOf&&Object.getPrototypeOf(c);I=I&&I.setTimeout?I:c,g={}.toString.call(c.process)==="[object process]"?function(de){process.nextTick(function(){W(de)})}:(function(){if(c.postMessage&&!c.importScripts){var de=!0,ie=c.onmessage;return c.onmessage=function(){de=!1},c.postMessage("","*"),c.onmessage=ie,de}})()?(E="setImmediate$"+Math.random()+"$",c.addEventListener?c.addEventListener("message",K,!1):c.attachEvent("onmessage",K),function(de){c.postMessage(E+de,"*")}):c.MessageChannel?((S=new MessageChannel).port1.onmessage=function(de){W(de.data)},function(de){S.port2.postMessage(de)}):M&&"onreadystatechange"in M.createElement("script")?(y=M.documentElement,function(de){var ie=M.createElement("script");ie.onreadystatechange=function(){W(de),ie.onreadystatechange=null,y.removeChild(ie),ie=null},y.appendChild(ie)}):function(de){setTimeout(W,0,de)},I.setImmediate=function(de){typeof de!="function"&&(de=new Function(""+de));for(var ie=new Array(arguments.length-1),xe=0;xe<ie.length;xe++)ie[xe]=arguments[xe+1];var Z={callback:de,args:ie};return x[A]=Z,g(A),A++},I.clearImmediate=O}function O(de){delete x[de]}function W(de){if(R)setTimeout(W,0,de);else{var ie=x[de];if(ie){R=!0;try{(function(xe){var Z=xe.callback,Y=xe.args;switch(Y.length){case 0:Z();break;case 1:Z(Y[0]);break;case 2:Z(Y[0],Y[1]);break;case 3:Z(Y[0],Y[1],Y[2]);break;default:Z.apply(d,Y)}})(ie)}finally{O(de),R=!1}}}}function K(de){de.source===c&&typeof de.data=="string"&&de.data.indexOf(E)===0&&W(+de.data.slice(E.length))}})(typeof self>"u"?l===void 0?this:l:self)}).call(this,typeof Jl<"u"?Jl:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(qf)),qf.exports}var x2=b2();const L2=bu(x2);var $u={},F0;function k2(){if(F0)return $u;F0=1,$u.attr=o,$u.tagClose=t,$u.tag=e,$u.encode=i;function o(u){return u&&u.length?" "+u.map(function(l){return l[0]+'="'+l[1]+'"'}).join(" "):""}function t(u,l){return"<"+u+o(l)+"/>"}function e(u,l,c){return"<"+u+o(c)+">"+l+"</"+u+">"}function i(u){return(u===null?"":u.toString()).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}return $u}var Gf,j0;function C2(){if(j0)return Gf;j0=1;var o=k2(),t=o.tag,e=o.encode;Gf=function(Y,me){return me=me||{documentName:void 0,documentDescription:void 0,name:"name",description:"description",simplestyle:!1,timestamp:"timestamp"},'<?xml version="1.0" encoding="UTF-8"?>'+t("kml",t("Document",l(me)+c(me)+u(Y,me)),[["xmlns","http://www.opengis.net/kml/2.2"]])};function i(Z,Y){return function(me){if(!me.properties||!S.valid(me.geometry))return"";var Ne=S.any(me.geometry);if(!Ne)return"";var te="",G="";if(Z.simplestyle){var ve=de(me.properties);ve&&(S.isPoint(me.geometry)&&R(me.properties)?(Y.indexOf(ve)===-1&&(te=M(me.properties,ve),Y.push(ve)),G=t("styleUrl","#"+ve)):(S.isPolygon(me.geometry)||S.isLine(me.geometry))&&W(me.properties)&&(Y.indexOf(ve)===-1&&(te=K(me.properties,ve),Y.push(ve)),G=t("styleUrl","#"+ve)))}return te+t("Placemark",d(me.properties,Z)+g(me.properties,Z)+A(me.properties)+y(me.properties,Z)+Ne+G)}}function u(Z,Y){if(!Z.type)return"";var me=[];switch(Z.type){case"FeatureCollection":return Z.features?Z.features.map(i(Y,me)).join(""):"";case"Feature":return i(Y,me)(Z);default:return i(Y,me)({type:"Feature",geometry:Z,properties:{}})}}function l(Z){return Z.documentName!==void 0?t("name",Z.documentName):""}function c(Z){return Z.documentDescription!==void 0?t("description",Z.documentDescription):""}function d(Z,Y){return Z[Y.name]?t("name",e(Z[Y.name])):""}function g(Z,Y){return Z[Y.description]?t("description",e(Z[Y.description])):""}function y(Z,Y){return Z[Y.timestamp]?t("TimeStamp",t("when",e(Z[Y.timestamp]))):""}var S={Point:function(Z){return t("Point",t("coordinates",Z.coordinates.join(",")))},LineString:function(Z){return t("LineString",t("coordinates",E(Z.coordinates)))},Polygon:function(Z){if(!Z.coordinates.length)return"";var Y=Z.coordinates[0],me=Z.coordinates.slice(1),Ne=t("outerBoundaryIs",t("LinearRing",t("coordinates",E(Y)))),te=me.map(function(G){return t("innerBoundaryIs",t("LinearRing",t("coordinates",E(G))))}).join("");return t("Polygon",Ne+te)},MultiPoint:function(Z){return Z.coordinates.length?t("MultiGeometry",Z.coordinates.map(function(Y){return S.Point({coordinates:Y})}).join("")):""},MultiPolygon:function(Z){return Z.coordinates.length?t("MultiGeometry",Z.coordinates.map(function(Y){return S.Polygon({coordinates:Y})}).join("")):""},MultiLineString:function(Z){return Z.coordinates.length?t("MultiGeometry",Z.coordinates.map(function(Y){return S.LineString({coordinates:Y})}).join("")):""},GeometryCollection:function(Z){return t("MultiGeometry",Z.geometries.map(S.any).join(""))},valid:function(Z){return Z&&Z.type&&(Z.coordinates||Z.type==="GeometryCollection"&&Z.geometries&&Z.geometries.every(S.valid))},any:function(Z){return S[Z.type]?S[Z.type](Z):""},isPoint:function(Z){return Z.type==="Point"||Z.type==="MultiPoint"},isPolygon:function(Z){return Z.type==="Polygon"||Z.type==="MultiPolygon"},isLine:function(Z){return Z.type==="LineString"||Z.type==="MultiLineString"}};function E(Z){return Z.map(function(Y){return Y.join(",")}).join(" ")}function A(Z){return t("ExtendedData",xe(Z).map(x).join(""))}function x(Z){return t("Data",t("value",e(Z[1])),[["name",e(Z[0])]])}function R(Z){return!!(Z["marker-size"]||Z["marker-symbol"]||Z["marker-color"])}function M(Z,Y){return t("Style",t("IconStyle",t("Icon",t("href",I(Z))))+O(),[["id",Y]])}function I(Z){var Y=Z["marker-size"]||"medium",me=Z["marker-symbol"]?"-"+Z["marker-symbol"]:"",Ne=(Z["marker-color"]||"7e7e7e").replace("#","");return"https://api.tiles.mapbox.com/v3/marker/pin-"+Y.charAt(0)+me+"+"+Ne+".png"}function O(Z){return t("hotSpot","",[["xunits","fraction"],["yunits","fraction"],["x",.5],["y",.5]])}function W(Z){for(var Y in Z)if({stroke:!0,"stroke-opacity":!0,"stroke-width":!0,fill:!0,"fill-opacity":!0}[Y])return!0}function K(Z,Y){var me=t("LineStyle",[t("color",ie(Z.stroke,Z["stroke-opacity"])||"ff555555")+t("width",Z["stroke-width"]===void 0?2:Z["stroke-width"])]),Ne="";return(Z.fill||Z["fill-opacity"])&&(Ne=t("PolyStyle",[t("color",ie(Z.fill,Z["fill-opacity"])||"88555555")])),t("Style",me+Ne,[["id",Y]])}function de(Z){var Y="";return Z["marker-symbol"]&&(Y=Y+"ms"+Z["marker-symbol"]),Z["marker-color"]&&(Y=Y+"mc"+Z["marker-color"].replace("#","")),Z["marker-size"]&&(Y=Y+"ms"+Z["marker-size"]),Z.stroke&&(Y=Y+"s"+Z.stroke.replace("#","")),Z["stroke-width"]&&(Y=Y+"sw"+Z["stroke-width"].toString().replace(".","")),Z["stroke-opacity"]&&(Y=Y+"mo"+Z["stroke-opacity"].toString().replace(".","")),Z.fill&&(Y=Y+"f"+Z.fill.replace("#","")),Z["fill-opacity"]&&(Y=Y+"fo"+Z["fill-opacity"].toString().replace(".","")),Y}function ie(Z,Y){if(typeof Z!="string")return"";if(Z=Z.replace("#","").toLowerCase(),Z.length===3)Z=Z[0]+Z[0]+Z[1]+Z[1]+Z[2]+Z[2];else if(Z.length!==6)return"";var me=Z[0]+Z[1],Ne=Z[2]+Z[3],te=Z[4]+Z[5],G="ff";return typeof Y=="number"&&Y>=0&&Y<=1&&(G=(Y*255).toString(16),G.indexOf(".")>-1&&(G=G.substr(0,G.indexOf("."))),G.length<2&&(G="0"+G)),G+te+Ne+me}function xe(Z){var Y=[];for(var me in Z)Y.push([me,Z[me]]);return Y}return Gf}var S2=C2();const E2=bu(S2);function Lr(o){"@babel/helpers - typeof";return Lr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lr(o)}var pa=Uint8Array,go=Uint16Array,qd=Int32Array,Hc=new pa([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Wc=new pa([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),gd=new pa([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),sg=function(o,t){for(var e=new go(31),i=0;i<31;++i)e[i]=t+=1<<o[i-1];for(var u=new qd(e[30]),i=1;i<30;++i)for(var l=e[i];l<e[i+1];++l)u[l]=l-e[i]<<5|i;return{b:e,r:u}},ag=sg(Hc,2),og=ag.b,_d=ag.r;og[28]=258,_d[258]=28;var lg=sg(Wc,0),P2=lg.b,z0=lg.r,vd=new go(32768);for(var $r=0;$r<32768;++$r){var Wl=($r&43690)>>1|($r&21845)<<1;Wl=(Wl&52428)>>2|(Wl&13107)<<2,Wl=(Wl&61680)>>4|(Wl&3855)<<4,vd[$r]=((Wl&65280)>>8|(Wl&255)<<8)>>1}var ml=(function(o,t,e){for(var i=o.length,u=0,l=new go(t);u<i;++u)o[u]&&++l[o[u]-1];var c=new go(t);for(u=1;u<t;++u)c[u]=c[u-1]+l[u-1]<<1;var d;if(e){d=new go(1<<t);var g=15-t;for(u=0;u<i;++u)if(o[u])for(var y=u<<4|o[u],S=t-o[u],E=c[o[u]-1]++<<S,A=E|(1<<S)-1;E<=A;++E)d[vd[E]>>g]=y}else for(d=new go(i),u=0;u<i;++u)o[u]&&(d[u]=vd[c[o[u]-1]++]>>15-o[u]);return d}),Ql=new pa(288);for(var $r=0;$r<144;++$r)Ql[$r]=8;for(var $r=144;$r<256;++$r)Ql[$r]=9;for(var $r=256;$r<280;++$r)Ql[$r]=7;for(var $r=280;$r<288;++$r)Ql[$r]=8;var Oh=new pa(32);for(var $r=0;$r<32;++$r)Oh[$r]=5;var A2=ml(Ql,9,0),M2=ml(Ql,9,1),B2=ml(Oh,5,0),T2=ml(Oh,5,1),Hf=function(o){for(var t=o[0],e=1;e<o.length;++e)o[e]>t&&(t=o[e]);return t},tl=function(o,t,e){var i=t/8|0;return(o[i]|o[i+1]<<8)>>(t&7)&e},Wf=function(o,t){var e=t/8|0;return(o[e]|o[e+1]<<8|o[e+2]<<16)>>(t&7)},Gd=function(o){return(o+7)/8|0},ug=function(o,t,e){return(e==null||e>o.length)&&(e=o.length),new pa(o.subarray(t,e))},N2=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],il=function(o,t,e){var i=new Error(t||N2[o]);if(i.code=o,Error.captureStackTrace&&Error.captureStackTrace(i,il),!e)throw i;return i},O2=function(o,t,e,i){var u=o.length,l=0;if(!u||t.f&&!t.l)return e||new pa(0);var c=!e,d=c||t.i!=2,g=t.i;c&&(e=new pa(u*3));var y=function(Ot){var Gt=e.length;if(Ot>Gt){var qt=new pa(Math.max(Gt*2,Ot));qt.set(e),e=qt}},S=t.f||0,E=t.p||0,A=t.b||0,x=t.l,R=t.d,M=t.m,I=t.n,O=u*8;do{if(!x){S=tl(o,E,1);var W=tl(o,E+1,3);if(E+=3,W)if(W==1)x=M2,R=T2,M=9,I=5;else if(W==2){var xe=tl(o,E,31)+257,Z=tl(o,E+10,15)+4,Y=xe+tl(o,E+5,31)+1;E+=14;for(var me=new pa(Y),Ne=new pa(19),te=0;te<Z;++te)Ne[gd[te]]=tl(o,E+te*3,7);E+=Z*3;for(var G=Hf(Ne),ve=(1<<G)-1,j=ml(Ne,G,1),te=0;te<Y;){var Ie=j[tl(o,E,ve)];E+=Ie&15;var K=Ie>>4;if(K<16)me[te++]=K;else{var Ve=0,Fe=0;for(K==16?(Fe=3+tl(o,E,3),E+=2,Ve=me[te-1]):K==17?(Fe=3+tl(o,E,7),E+=3):K==18&&(Fe=11+tl(o,E,127),E+=7);Fe--;)me[te++]=Ve}}var Le=me.subarray(0,xe),Ae=me.subarray(xe);M=Hf(Le),I=Hf(Ae),x=ml(Le,M,1),R=ml(Ae,I,1)}else il(1);else{var K=Gd(E)+4,de=o[K-4]|o[K-3]<<8,ie=K+de;if(ie>u){g&&il(0);break}d&&y(A+de),e.set(o.subarray(K,ie),A),t.b=A+=de,t.p=E=ie*8,t.f=S;continue}if(E>O){g&&il(0);break}}d&&y(A+131072);for(var Pe=(1<<M)-1,re=(1<<I)-1,F=E;;F=E){var Ve=x[Wf(o,E)&Pe],he=Ve>>4;if(E+=Ve&15,E>O){g&&il(0);break}if(Ve||il(2),he<256)e[A++]=he;else if(he==256){F=E,x=null;break}else{var fe=he-254;if(he>264){var te=he-257,pe=Hc[te];fe=tl(o,E,(1<<pe)-1)+og[te],E+=pe}var Be=R[Wf(o,E)&re],Ke=Be>>4;Be||il(3),E+=Be&15;var Ae=P2[Ke];if(Ke>3){var pe=Wc[Ke];Ae+=Wf(o,E)&(1<<pe)-1,E+=pe}if(E>O){g&&il(0);break}d&&y(A+131072);var We=A+fe;if(A<Ae){var Ye=l-Ae,Tt=Math.min(Ae,We);for(Ye+A<0&&il(3);A<Tt;++A)e[A]=i[Ye+A]}for(;A<We;++A)e[A]=e[A-Ae]}}t.l=x,t.p=F,t.b=A,t.f=S,x&&(S=1,t.m=M,t.d=R,t.n=I)}while(!S);return A!=e.length&&c?ug(e,0,A):e.subarray(0,A)},El=function(o,t,e){e<<=t&7;var i=t/8|0;o[i]|=e,o[i+1]|=e>>8},xh=function(o,t,e){e<<=t&7;var i=t/8|0;o[i]|=e,o[i+1]|=e>>8,o[i+2]|=e>>16},Vf=function(o,t){for(var e=[],i=0;i<o.length;++i)o[i]&&e.push({s:i,f:o[i]});var u=e.length,l=e.slice();if(!u)return{t:cg,l:0};if(u==1){var c=new pa(e[0].s+1);return c[e[0].s]=1,{t:c,l:1}}e.sort(function(ie,xe){return ie.f-xe.f}),e.push({s:-1,f:25001});var d=e[0],g=e[1],y=0,S=1,E=2;for(e[0]={s:-1,f:d.f+g.f,l:d,r:g};S!=u-1;)d=e[e[y].f<e[E].f?y++:E++],g=e[y!=S&&e[y].f<e[E].f?y++:E++],e[S++]={s:-1,f:d.f+g.f,l:d,r:g};for(var A=l[0].s,i=1;i<u;++i)l[i].s>A&&(A=l[i].s);var x=new go(A+1),R=yd(e[S-1],x,0);if(R>t){var i=0,M=0,I=R-t,O=1<<I;for(l.sort(function(xe,Z){return x[Z.s]-x[xe.s]||xe.f-Z.f});i<u;++i){var W=l[i].s;if(x[W]>t)M+=O-(1<<R-x[W]),x[W]=t;else break}for(M>>=I;M>0;){var K=l[i].s;x[K]<t?M-=1<<t-x[K]++-1:++i}for(;i>=0&&M;--i){var de=l[i].s;x[de]==t&&(--x[de],++M)}R=t}return{t:new pa(x),l:R}},yd=function(o,t,e){return o.s==-1?Math.max(yd(o.l,t,e+1),yd(o.r,t,e+1)):t[o.s]=e},U0=function(o){for(var t=o.length;t&&!o[--t];);for(var e=new go(++t),i=0,u=o[0],l=1,c=function(g){e[i++]=g},d=1;d<=t;++d)if(o[d]==u&&d!=t)++l;else{if(!u&&l>2){for(;l>138;l-=138)c(32754);l>2&&(c(l>10?l-11<<5|28690:l-3<<5|12305),l=0)}else if(l>3){for(c(u),--l;l>6;l-=6)c(8304);l>2&&(c(l-3<<5|8208),l=0)}for(;l--;)c(u);l=1,u=o[d]}return{c:e.subarray(0,i),n:t}},Lh=function(o,t){for(var e=0,i=0;i<t.length;++i)e+=o[i]*t[i];return e},hg=function(o,t,e){var i=e.length,u=Gd(t+2);o[u]=i&255,o[u+1]=i>>8,o[u+2]=o[u]^255,o[u+3]=o[u+1]^255;for(var l=0;l<i;++l)o[u+l+4]=e[l];return(u+4+i)*8},q0=function(o,t,e,i,u,l,c,d,g,y,S){El(t,S++,e),++u[256];for(var E=Vf(u,15),A=E.t,x=E.l,R=Vf(l,15),M=R.t,I=R.l,O=U0(A),W=O.c,K=O.n,de=U0(M),ie=de.c,xe=de.n,Z=new go(19),Y=0;Y<W.length;++Y)++Z[W[Y]&31];for(var Y=0;Y<ie.length;++Y)++Z[ie[Y]&31];for(var me=Vf(Z,7),Ne=me.t,te=me.l,G=19;G>4&&!Ne[gd[G-1]];--G);var ve=y+5<<3,j=Lh(u,Ql)+Lh(l,Oh)+c,Ie=Lh(u,A)+Lh(l,M)+c+14+3*G+Lh(Z,Ne)+2*Z[16]+3*Z[17]+7*Z[18];if(g>=0&&ve<=j&&ve<=Ie)return hg(t,S,o.subarray(g,g+y));var Ve,Fe,Le,Ae;if(El(t,S,1+(Ie<j)),S+=2,Ie<j){Ve=ml(A,x,0),Fe=A,Le=ml(M,I,0),Ae=M;var Pe=ml(Ne,te,0);El(t,S,K-257),El(t,S+5,xe-1),El(t,S+10,G-4),S+=14;for(var Y=0;Y<G;++Y)El(t,S+3*Y,Ne[gd[Y]]);S+=3*G;for(var re=[W,ie],F=0;F<2;++F)for(var he=re[F],Y=0;Y<he.length;++Y){var fe=he[Y]&31;El(t,S,Pe[fe]),S+=Ne[fe],fe>15&&(El(t,S,he[Y]>>5&127),S+=he[Y]>>12)}}else Ve=A2,Fe=Ql,Le=B2,Ae=Oh;for(var Y=0;Y<d;++Y){var pe=i[Y];if(pe>255){var fe=pe>>18&31;xh(t,S,Ve[fe+257]),S+=Fe[fe+257],fe>7&&(El(t,S,pe>>23&31),S+=Hc[fe]);var Be=pe&31;xh(t,S,Le[Be]),S+=Ae[Be],Be>3&&(xh(t,S,pe>>5&8191),S+=Wc[Be])}else xh(t,S,Ve[pe]),S+=Fe[pe]}return xh(t,S,Ve[256]),S+Fe[256]},D2=new qd([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),cg=new pa(0),I2=function(o,t,e,i,u,l){var c=l.z||o.length,d=new pa(i+c+5*(1+Math.ceil(c/7e3))+u),g=d.subarray(i,d.length-u),y=l.l,S=(l.r||0)&7;if(t){S&&(g[0]=l.r>>3);for(var E=D2[t-1],A=E>>13,x=E&8191,R=(1<<e)-1,M=l.p||new go(32768),I=l.h||new go(R+1),O=Math.ceil(e/3),W=2*O,K=function($){return(o[$]^o[$+1]<<O^o[$+2]<<W)&R},de=new qd(25e3),ie=new go(288),xe=new go(32),Z=0,Y=0,me=l.i||0,Ne=0,te=l.w||0,G=0;me+2<c;++me){var ve=K(me),j=me&32767,Ie=I[ve];if(M[j]=Ie,I[ve]=j,te<=me){var Ve=c-me;if((Z>7e3||Ne>24576)&&(Ve>423||!y)){S=q0(o,g,0,de,ie,xe,Y,Ne,G,me-G,S),Ne=Z=Y=0,G=me;for(var Fe=0;Fe<286;++Fe)ie[Fe]=0;for(var Fe=0;Fe<30;++Fe)xe[Fe]=0}var Le=2,Ae=0,Pe=x,re=j-Ie&32767;if(Ve>2&&ve==K(me-re))for(var F=Math.min(A,Ve)-1,he=Math.min(32767,me),fe=Math.min(258,Ve);re<=he&&--Pe&&j!=Ie;){if(o[me+Le]==o[me+Le-re]){for(var pe=0;pe<fe&&o[me+pe]==o[me+pe-re];++pe);if(pe>Le){if(Le=pe,Ae=re,pe>F)break;for(var Be=Math.min(re,pe-2),Ke=0,Fe=0;Fe<Be;++Fe){var We=me-re+Fe&32767,Ye=M[We],Tt=We-Ye&32767;Tt>Ke&&(Ke=Tt,Ie=We)}}}j=Ie,Ie=M[j],re+=j-Ie&32767}if(Ae){de[Ne++]=268435456|_d[Le]<<18|z0[Ae];var Ot=_d[Le]&31,Gt=z0[Ae]&31;Y+=Hc[Ot]+Wc[Gt],++ie[257+Ot],++xe[Gt],te=me+Le,++Z}else de[Ne++]=o[me],++ie[o[me]]}}for(me=Math.max(me,te);me<c;++me)de[Ne++]=o[me],++ie[o[me]];S=q0(o,g,y,de,ie,xe,Y,Ne,G,me-G,S),y||(l.r=S&7|g[S/8|0]<<3,S-=7,l.h=I,l.p=M,l.i=me,l.w=te)}else{for(var me=l.w||0;me<c+y;me+=65535){var qt=me+65535;qt>=c&&(g[S/8|0]=y,qt=c),S=hg(g,S+1,o.subarray(me,qt))}l.i=c}return ug(d,0,i+Gd(S)+u)},fg=function(){var o=1,t=0;return{p:function(e){for(var i=o,u=t,l=e.length|0,c=0;c!=l;){for(var d=Math.min(c+2655,l);c<d;++c)u+=i+=e[c];i=(i&65535)+15*(i>>16),u=(u&65535)+15*(u>>16)}o=i,t=u},d:function(){return o%=65521,t%=65521,(o&255)<<24|(o&65280)<<8|(t&255)<<8|t>>8}}},R2=function(o,t,e,i,u){if(!u&&(u={l:1},t.dictionary)){var l=t.dictionary.subarray(-32768),c=new pa(l.length+o.length);c.set(l),c.set(o,l.length),o=c,u.w=l.length}return I2(o,t.level==null?6:t.level,t.mem==null?u.l?Math.ceil(Math.max(8,Math.min(13,Math.log(o.length)))*1.5):20:12+t.mem,e,i,u)},dg=function(o,t,e){for(;e;++t)o[t]=e,e>>>=8},F2=function(o,t){var e=t.level,i=e==0?0:e<6?1:e==9?3:2;if(o[0]=120,o[1]=i<<6|(t.dictionary&&32),o[1]|=31-(o[0]<<8|o[1])%31,t.dictionary){var u=fg();u.p(t.dictionary),dg(o,2,u.d())}},j2=function(o,t){return((o[0]&15)!=8||o[0]>>4>7||(o[0]<<8|o[1])%31)&&il(6,"invalid zlib data"),(o[1]>>5&1)==1&&il(6,"invalid zlib data: "+(o[1]&32?"need":"unexpected")+" dictionary"),(o[1]>>3&4)+2};function wd(o,t){t||(t={});var e=fg();e.p(o);var i=R2(o,t,t.dictionary?6:2,4);return F2(i,t),dg(i,i.length-4,e.d()),i}function z2(o,t){return O2(o.subarray(j2(o),-4),{i:2},t,t)}var U2=typeof TextDecoder<"u"&&new TextDecoder,q2=0;try{U2.decode(cg,{stream:!0}),q2=1}catch{}var Tn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function $f(){Tn.console&&typeof Tn.console.log=="function"&&Tn.console.log.apply(Tn.console,arguments)}var Or={log:$f,warn:function(o){Tn.console&&(typeof Tn.console.warn=="function"?Tn.console.warn.apply(Tn.console,arguments):$f.call(null,arguments))},error:function(o){Tn.console&&(typeof Tn.console.error=="function"?Tn.console.error.apply(Tn.console,arguments):$f(o))}};function Zf(o,t,e){var i=new XMLHttpRequest;i.open("GET",o),i.responseType="blob",i.onload=function(){_u(i.response,t,e)},i.onerror=function(){Or.error("could not download file")},i.send()}function G0(o){var t=new XMLHttpRequest;t.open("HEAD",o,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function bc(o){try{o.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),o.dispatchEvent(t)}}var Mh,bd,_u=Tn.saveAs||((typeof window>"u"?"undefined":Lr(window))!=="object"||window!==Tn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(o,t,e){var i=Tn.URL||Tn.webkitURL,u=document.createElement("a");t=t||o.name||"download",u.download=t,u.rel="noopener",typeof o=="string"?(u.href=o,u.origin!==location.origin?G0(u.href)?Zf(o,t,e):bc(u,u.target="_blank"):bc(u)):(u.href=i.createObjectURL(o),setTimeout((function(){i.revokeObjectURL(u.href)}),4e4),setTimeout((function(){bc(u)}),0))}:"msSaveOrOpenBlob"in navigator?function(o,t,e){if(t=t||o.name||"download",typeof o=="string")if(G0(o))Zf(o,t,e);else{var i=document.createElement("a");i.href=o,i.target="_blank",setTimeout((function(){bc(i)}))}else navigator.msSaveOrOpenBlob((function(u,l){return l===void 0?l={autoBom:!1}:Lr(l)!=="object"&&(Or.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u})(o,e),t)}:function(o,t,e,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof o=="string")return Zf(o,t,e);var u=o.type==="application/octet-stream",l=/constructor/i.test(Tn.HTMLElement)||Tn.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||u&&l)&&(typeof FileReader>"u"?"undefined":Lr(FileReader))==="object"){var d=new FileReader;d.onloadend=function(){var S=d.result;S=c?S:S.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=S:location=S,i=null},d.readAsDataURL(o)}else{var g=Tn.URL||Tn.webkitURL,y=g.createObjectURL(o);i?i.location=y:location.href=y,i=null,setTimeout((function(){g.revokeObjectURL(y)}),4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function pg(o){var t;o=o||"",this.ok=!1,o.charAt(0)=="#"&&(o=o.substr(1,6)),o={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[o=(o=o.replace(/ /g,"")).toLowerCase()]||o;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(d){return[parseInt(d[1]),parseInt(d[2]),parseInt(d[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(d){return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(d){return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)]}}],i=0;i<e.length;i++){var u=e[i].re,l=e[i].process,c=u.exec(o);c&&(t=l(c),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var d=this.r.toString(16),g=this.g.toString(16),y=this.b.toString(16);return d.length==1&&(d="0"+d),g.length==1&&(g="0"+g),y.length==1&&(y="0"+y),"#"+d+g+y}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Kf(o,t){var e=o[0],i=o[1],u=o[2],l=o[3];e=ha(e,i,u,l,t[0],7,-680876936),l=ha(l,e,i,u,t[1],12,-389564586),u=ha(u,l,e,i,t[2],17,606105819),i=ha(i,u,l,e,t[3],22,-1044525330),e=ha(e,i,u,l,t[4],7,-176418897),l=ha(l,e,i,u,t[5],12,1200080426),u=ha(u,l,e,i,t[6],17,-1473231341),i=ha(i,u,l,e,t[7],22,-45705983),e=ha(e,i,u,l,t[8],7,1770035416),l=ha(l,e,i,u,t[9],12,-1958414417),u=ha(u,l,e,i,t[10],17,-42063),i=ha(i,u,l,e,t[11],22,-1990404162),e=ha(e,i,u,l,t[12],7,1804603682),l=ha(l,e,i,u,t[13],12,-40341101),u=ha(u,l,e,i,t[14],17,-1502002290),e=ca(e,i=ha(i,u,l,e,t[15],22,1236535329),u,l,t[1],5,-165796510),l=ca(l,e,i,u,t[6],9,-1069501632),u=ca(u,l,e,i,t[11],14,643717713),i=ca(i,u,l,e,t[0],20,-373897302),e=ca(e,i,u,l,t[5],5,-701558691),l=ca(l,e,i,u,t[10],9,38016083),u=ca(u,l,e,i,t[15],14,-660478335),i=ca(i,u,l,e,t[4],20,-405537848),e=ca(e,i,u,l,t[9],5,568446438),l=ca(l,e,i,u,t[14],9,-1019803690),u=ca(u,l,e,i,t[3],14,-187363961),i=ca(i,u,l,e,t[8],20,1163531501),e=ca(e,i,u,l,t[13],5,-1444681467),l=ca(l,e,i,u,t[2],9,-51403784),u=ca(u,l,e,i,t[7],14,1735328473),e=fa(e,i=ca(i,u,l,e,t[12],20,-1926607734),u,l,t[5],4,-378558),l=fa(l,e,i,u,t[8],11,-2022574463),u=fa(u,l,e,i,t[11],16,1839030562),i=fa(i,u,l,e,t[14],23,-35309556),e=fa(e,i,u,l,t[1],4,-1530992060),l=fa(l,e,i,u,t[4],11,1272893353),u=fa(u,l,e,i,t[7],16,-155497632),i=fa(i,u,l,e,t[10],23,-1094730640),e=fa(e,i,u,l,t[13],4,681279174),l=fa(l,e,i,u,t[0],11,-358537222),u=fa(u,l,e,i,t[3],16,-722521979),i=fa(i,u,l,e,t[6],23,76029189),e=fa(e,i,u,l,t[9],4,-640364487),l=fa(l,e,i,u,t[12],11,-421815835),u=fa(u,l,e,i,t[15],16,530742520),e=da(e,i=fa(i,u,l,e,t[2],23,-995338651),u,l,t[0],6,-198630844),l=da(l,e,i,u,t[7],10,1126891415),u=da(u,l,e,i,t[14],15,-1416354905),i=da(i,u,l,e,t[5],21,-57434055),e=da(e,i,u,l,t[12],6,1700485571),l=da(l,e,i,u,t[3],10,-1894986606),u=da(u,l,e,i,t[10],15,-1051523),i=da(i,u,l,e,t[1],21,-2054922799),e=da(e,i,u,l,t[8],6,1873313359),l=da(l,e,i,u,t[15],10,-30611744),u=da(u,l,e,i,t[6],15,-1560198380),i=da(i,u,l,e,t[13],21,1309151649),e=da(e,i,u,l,t[4],6,-145523070),l=da(l,e,i,u,t[11],10,-1120210379),u=da(u,l,e,i,t[2],15,718787259),i=da(i,u,l,e,t[9],21,-343485551),o[0]=Yl(e,o[0]),o[1]=Yl(i,o[1]),o[2]=Yl(u,o[2]),o[3]=Yl(l,o[3])}function Vc(o,t,e,i,u,l){return t=Yl(Yl(t,o),Yl(i,l)),Yl(t<<u|t>>>32-u,e)}function ha(o,t,e,i,u,l,c){return Vc(t&e|~t&i,o,t,u,l,c)}function ca(o,t,e,i,u,l,c){return Vc(t&i|e&~i,o,t,u,l,c)}function fa(o,t,e,i,u,l,c){return Vc(t^e^i,o,t,u,l,c)}function da(o,t,e,i,u,l,c){return Vc(e^(t|~i),o,t,u,l,c)}function mg(o){var t,e=o.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=o.length;t+=64)Kf(i,G2(o.substring(t-64,t)));o=o.substring(t-64);var u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o.length;t++)u[t>>2]|=o.charCodeAt(t)<<(t%4<<3);if(u[t>>2]|=128<<(t%4<<3),t>55)for(Kf(i,u),t=0;t<16;t++)u[t]=0;return u[14]=8*e,Kf(i,u),i}function G2(o){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=o.charCodeAt(t)+(o.charCodeAt(t+1)<<8)+(o.charCodeAt(t+2)<<16)+(o.charCodeAt(t+3)<<24);return e}Mh=Tn.atob.bind(Tn),bd=Tn.btoa.bind(Tn);var H0="0123456789abcdef".split("");function H2(o){for(var t="",e=0;e<4;e++)t+=H0[o>>8*e+4&15]+H0[o>>8*e&15];return t}function W2(o){return String.fromCharCode((255&o)>>0,(65280&o)>>8,(16711680&o)>>16,(4278190080&o)>>24)}function xd(o){return mg(o).map(W2).join("")}var V2=(function(o){for(var t=0;t<o.length;t++)o[t]=H2(o[t]);return o.join("")})(mg("hello"))!="5d41402abc4b2a76b9719d911017c592";function Yl(o,t){if(V2){var e=(65535&o)+(65535&t);return(o>>16)+(t>>16)+(e>>16)<<16|65535&e}return o+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Ld(o,t){var e,i,u,l;if(o!==e){for(var c=(u=o,l=1+(256/o.length>>0),new Array(l+1).join(u)),d=[],g=0;g<256;g++)d[g]=g;var y=0;for(g=0;g<256;g++){var S=d[g];y=(y+S+c.charCodeAt(g))%256,d[g]=d[y],d[y]=S}e=o,i=d}else d=i;var E=t.length,A=0,x=0,R="";for(g=0;g<E;g++)x=(x+(S=d[A=(A+1)%256]))%256,d[A]=d[x],d[x]=S,c=d[(d[A]+d[x])%256],R+=String.fromCharCode(t.charCodeAt(g)^c);return R}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var W0={print:4,modify:8,copy:16,"annot-forms":32};function Xu(o,t,e,i){this.v=1,this.r=2;var u=192;o.forEach((function(d){if(W0.perm!==void 0)throw new Error("Invalid permission: "+d);u+=W0[d]})),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var l=(t+this.padding).substr(0,32),c=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(l,c),this.P=-(1+(255^u)),this.encryptionKey=xd(l+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=Ld(this.encryptionKey,this.padding)}function Qu(o){if(/[^\u0000-\u00ff]/.test(o))throw new Error("Invalid PDF Name Object: "+o+", Only accept ASCII characters.");for(var t="",e=o.length,i=0;i<e;i++){var u=o.charCodeAt(i);u<33||u===35||u===37||u===40||u===41||u===47||u===60||u===62||u===91||u===93||u===123||u===125||u>126?t+="#"+("0"+u.toString(16)).slice(-2):t+=o[i]}return t}function V0(o){if(Lr(o)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,i,u){if(u=u||!1,typeof e!="string"||typeof i!="function"||typeof u!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var l=Math.random().toString(35);return t[e][l]=[i,!!u],l},this.unsubscribe=function(e){for(var i in t)if(t[i][e])return delete t[i][e],Object.keys(t[i]).length===0&&delete t[i],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var i=Array.prototype.slice.call(arguments,1),u=[];for(var l in t[e]){var c=t[e][l];try{c[0].apply(o,i)}catch(d){Tn.console&&Or.error("jsPDF PubSub Error",d.message,d)}c[1]&&u.push(l)}u.length&&u.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Dc(o){if(!(this instanceof Dc))return new Dc(o);var t="opacity,stroke-opacity".split(",");for(var e in o)o.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=o[e]);this.id="",this.objectNumber=-1}function gg(o,t){this.gState=o,this.matrix=t,this.id="",this.objectNumber=-1}function yu(o,t,e,i,u){if(!(this instanceof yu))return new yu(o,t,e,i,u);this.type=o==="axial"?2:3,this.coords=t,this.colors=e,gg.call(this,i,u)}function th(o,t,e,i,u){if(!(this instanceof th))return new th(o,t,e,i,u);this.boundingBox=o,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,gg.call(this,i,u)}function Bn(o){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],u=arguments[2],l=arguments[3],c=[],d=1,g=16,y="S",S=null;Lr(o=o||{})==="object"&&(e=o.orientation,i=o.unit||i,u=o.format||u,l=o.compress||o.compressPdf||l,(S=o.encryption||null)!==null&&(S.userPassword=S.userPassword||"",S.ownerPassword=S.ownerPassword||"",S.userPermissions=S.userPermissions||[]),d=typeof o.userUnit=="number"?Math.abs(o.userUnit):1,o.precision!==void 0&&(t=o.precision),o.floatPrecision!==void 0&&(g=o.floatPrecision),y=o.defaultPathOperation||"S"),c=o.filters||(l===!0?["FlateEncode"]:c),i=i||"mm",e=(""+(e||"P")).toLowerCase();var E=o.putOnlyUsedFonts||!1,A={},x={internal:{},__private__:{}};x.__private__.PubSub=V0;var R="1.3",M=x.__private__.getPdfVersion=function(){return R};x.__private__.setPdfVersion=function(P){R=P};var I={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};x.__private__.getPageFormats=function(){return I};var O=x.__private__.getPageFormat=function(P){return I[P]};u=u||"a4";var W={COMPAT:"compat",ADVANCED:"advanced"},K=W.COMPAT;function de(){this.saveGraphicsState(),oe(new dn(Vt,0,0,-Vt,0,Ua()*Vt).toString()+" cm"),this.setFontSize(this.getFontSize()/Vt),y="n",K=W.ADVANCED}function ie(){this.restoreGraphicsState(),y="S",K=W.COMPAT}var xe=x.__private__.combineFontStyleAndFontWeight=function(P,ne){if(P=="bold"&&ne=="normal"||P=="bold"&&ne==400||P=="normal"&&ne=="italic"||P=="bold"&&ne=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ne&&(P=ne==400||ne==="normal"?P==="italic"?"italic":"normal":ne!=700&&ne!=="bold"||P!=="normal"?(ne==700?"bold":ne)+""+P:"bold"),P};x.advancedAPI=function(P){var ne=K===W.COMPAT;return ne&&de.call(this),typeof P!="function"||(P(this),ne&&ie.call(this)),this},x.compatAPI=function(P){var ne=K===W.ADVANCED;return ne&&ie.call(this),typeof P!="function"||(P(this),ne&&de.call(this)),this},x.isAdvancedAPI=function(){return K===W.ADVANCED};var Z,Y=function(P){if(K!==W.ADVANCED)throw new Error(P+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},me=x.roundToPrecision=x.__private__.roundToPrecision=function(P,ne){var De=t||ne;if(isNaN(P)||isNaN(De))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return P.toFixed(De).replace(/0+$/,"")};Z=x.hpf=x.__private__.hpf=typeof g=="number"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return me(P,g)}:g==="smart"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return me(P,P>-1&&P<1?16:5)}:function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return me(P,16)};var Ne=x.f2=x.__private__.f2=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f2");return me(P,2)},te=x.__private__.f3=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f3");return me(P,3)},G=x.scale=x.__private__.scale=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.scale");return K===W.COMPAT?P*Vt:K===W.ADVANCED?P:void 0},ve=function(P){return K===W.COMPAT?Ua()-P:K===W.ADVANCED?P:void 0},j=function(P){return G(ve(P))};x.__private__.setPrecision=x.setPrecision=function(P){typeof parseInt(P,10)=="number"&&(t=parseInt(P,10))};var Ie,Ve="00000000000000000000000000000000",Fe=x.__private__.getFileId=function(){return Ve},Le=x.__private__.setFileId=function(P){return Ve=P!==void 0&&/^[a-fA-F0-9]{32}$/.test(P)?P.toUpperCase():Ve.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),S!==null&&(dr=new Xu(S.userPermissions,S.userPassword,S.ownerPassword,Ve)),Ve};x.setFileId=function(P){return Le(P),this},x.getFileId=function(){return Fe()};var Ae=x.__private__.convertDateToPDFDate=function(P){var ne=P.getTimezoneOffset(),De=ne<0?"+":"-",$e=Math.floor(Math.abs(ne/60)),ft=Math.abs(ne%60),kt=[De,fe($e),"'",fe(ft),"'"].join("");return["D:",P.getFullYear(),fe(P.getMonth()+1),fe(P.getDate()),fe(P.getHours()),fe(P.getMinutes()),fe(P.getSeconds()),kt].join("")},Pe=x.__private__.convertPDFDateToDate=function(P){var ne=parseInt(P.substr(2,4),10),De=parseInt(P.substr(6,2),10)-1,$e=parseInt(P.substr(8,2),10),ft=parseInt(P.substr(10,2),10),kt=parseInt(P.substr(12,2),10),Ft=parseInt(P.substr(14,2),10);return new Date(ne,De,$e,ft,kt,Ft,0)},re=x.__private__.setCreationDate=function(P){var ne;if(P===void 0&&(P=new Date),P instanceof Date)ne=Ae(P);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(P))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ne=P}return Ie=ne},F=x.__private__.getCreationDate=function(P){var ne=Ie;return P==="jsDate"&&(ne=Pe(Ie)),ne};x.setCreationDate=function(P){return re(P),this},x.getCreationDate=function(P){return F(P)};var he,fe=x.__private__.padd2=function(P){return("0"+parseInt(P)).slice(-2)},pe=x.__private__.padd2Hex=function(P){return("00"+(P=P.toString())).substr(P.length)},Be=0,Ke=[],We=[],Ye=0,Tt=[],Ot=[],Gt=!1,qt=We,$=function(){Be=0,Ye=0,We=[],Ke=[],Tt=[],As=Kt(),fs=Kt()};x.__private__.setCustomOutputDestination=function(P){Gt=!0,qt=P};var je=function(P){Gt||(qt=P)};x.__private__.resetCustomOutputDestination=function(){Gt=!1,qt=We};var oe=x.__private__.out=function(P){return P=P.toString(),Ye+=P.length+1,qt.push(P),qt},Ee=x.__private__.write=function(P){return oe(arguments.length===1?P.toString():Array.prototype.join.call(arguments," "))},we=x.__private__.getArrayBuffer=function(P){for(var ne=P.length,De=new ArrayBuffer(ne),$e=new Uint8Array(De);ne--;)$e[ne]=P.charCodeAt(ne);return De},Te=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];x.__private__.getStandardFonts=function(){return Te};var st=o.fontSize||16;x.__private__.setFontSize=x.setFontSize=function(P){return st=K===W.ADVANCED?P/Vt:P,this};var ht,qe=x.__private__.getFontSize=x.getFontSize=function(){return K===W.COMPAT?st:st*Vt},Lt=o.R2L||!1;x.__private__.setR2L=x.setR2L=function(P){return Lt=P,this},x.__private__.getR2L=x.getR2L=function(){return Lt};var It,Bt=x.__private__.setZoomMode=function(P){var ne=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(P))ht=P;else if(isNaN(P)){if(ne.indexOf(P)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+P+'" is not recognized.');ht=P}else ht=parseInt(P,10)};x.__private__.getZoomMode=function(){return ht};var Ut,an=x.__private__.setPageMode=function(P){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(P)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+P+'" is not recognized.');It=P};x.__private__.getPageMode=function(){return It};var tn=x.__private__.setLayoutMode=function(P){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(P)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+P+'" is not recognized.');Ut=P};x.__private__.getLayoutMode=function(){return Ut},x.__private__.setDisplayMode=x.setDisplayMode=function(P,ne,De){return Bt(P),tn(ne),an(De),this};var on={title:"",subject:"",author:"",keywords:"",creator:""};x.__private__.getDocumentProperty=function(P){if(Object.keys(on).indexOf(P)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return on[P]},x.__private__.getDocumentProperties=function(){return on},x.__private__.setDocumentProperties=x.setProperties=x.setDocumentProperties=function(P){for(var ne in on)on.hasOwnProperty(ne)&&P[ne]&&(on[ne]=P[ne]);return this},x.__private__.setDocumentProperty=function(P,ne){if(Object.keys(on).indexOf(P)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return on[P]=ne};var wn,Vt,ur,cn,Dr,zn={},jn={},Ar=[],Wn={},Ps={},ar={},Ir={},Mr=null,or=0,En=[],Yn=new V0(x),ma=o.hotfixes||[],Zr={},cs={},Zi=[],dn=function P(ne,De,$e,ft,kt,Ft){if(!(this instanceof P))return new P(ne,De,$e,ft,kt,Ft);isNaN(ne)&&(ne=1),isNaN(De)&&(De=0),isNaN($e)&&($e=0),isNaN(ft)&&(ft=1),isNaN(kt)&&(kt=0),isNaN(Ft)&&(Ft=0),this._matrix=[ne,De,$e,ft,kt,Ft]};Object.defineProperty(dn.prototype,"sx",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(dn.prototype,"shy",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(dn.prototype,"shx",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(dn.prototype,"sy",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(dn.prototype,"tx",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(dn.prototype,"ty",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(dn.prototype,"a",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(dn.prototype,"b",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(dn.prototype,"c",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(dn.prototype,"d",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(dn.prototype,"e",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(dn.prototype,"f",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(dn.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(dn.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(dn.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(dn.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),dn.prototype.join=function(P){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Z).join(P)},dn.prototype.multiply=function(P){var ne=P.sx*this.sx+P.shy*this.shx,De=P.sx*this.shy+P.shy*this.sy,$e=P.shx*this.sx+P.sy*this.shx,ft=P.shx*this.shy+P.sy*this.sy,kt=P.tx*this.sx+P.ty*this.shx+this.tx,Ft=P.tx*this.shy+P.ty*this.sy+this.ty;return new dn(ne,De,$e,ft,kt,Ft)},dn.prototype.decompose=function(){var P=this.sx,ne=this.shy,De=this.shx,$e=this.sy,ft=this.tx,kt=this.ty,Ft=Math.sqrt(P*P+ne*ne),Jt=(P/=Ft)*De+(ne/=Ft)*$e;De-=P*Jt,$e-=ne*Jt;var en=Math.sqrt(De*De+$e*$e);return Jt/=en,P*($e/=en)<ne*(De/=en)&&(P=-P,ne=-ne,Jt=-Jt,Ft=-Ft),{scale:new dn(Ft,0,0,en,0,0),translate:new dn(1,0,0,1,ft,kt),rotate:new dn(P,ne,-ne,P,0,0),skew:new dn(1,0,Jt,1,0,0)}},dn.prototype.toString=function(P){return this.join(" ")},dn.prototype.inversed=function(){var P=this.sx,ne=this.shy,De=this.shx,$e=this.sy,ft=this.tx,kt=this.ty,Ft=1/(P*$e-ne*De),Jt=$e*Ft,en=-ne*Ft,_n=-De*Ft,kn=P*Ft;return new dn(Jt,en,_n,kn,-Jt*ft-_n*kt,-en*ft-kn*kt)},dn.prototype.applyToPoint=function(P){var ne=P.x*this.sx+P.y*this.shx+this.tx,De=P.x*this.shy+P.y*this.sy+this.ty;return new Ns(ne,De)},dn.prototype.applyToRectangle=function(P){var ne=this.applyToPoint(P),De=this.applyToPoint(new Ns(P.x+P.w,P.y+P.h));return new ki(ne.x,ne.y,De.x-ne.x,De.y-ne.y)},dn.prototype.clone=function(){var P=this.sx,ne=this.shy,De=this.shx,$e=this.sy,ft=this.tx,kt=this.ty;return new dn(P,ne,De,$e,ft,kt)},x.Matrix=dn;var Ki=x.matrixMult=function(P,ne){return ne.multiply(P)},Ii=new dn(1,0,0,1,0,0);x.unitMatrix=x.identityMatrix=Ii;var Ri=function(P,ne){if(!Ps[P]){var De=(ne instanceof yu?"Sh":"P")+(Object.keys(Wn).length+1).toString(10);ne.id=De,Ps[P]=De,Wn[De]=ne,Yn.publish("addPattern",ne)}};x.ShadingPattern=yu,x.TilingPattern=th,x.addShadingPattern=function(P,ne){return Y("addShadingPattern()"),Ri(P,ne),this},x.beginTilingPattern=function(P){Y("beginTilingPattern()"),Fo(P.boundingBox[0],P.boundingBox[1],P.boundingBox[2]-P.boundingBox[0],P.boundingBox[3]-P.boundingBox[1],P.matrix)},x.endTilingPattern=function(P,ne){Y("endTilingPattern()"),ne.stream=Ot[he].join(`
`),Ri(P,ne),Yn.publish("endTilingPattern",ne),Zi.pop().restore()};var $n=x.__private__.newObject=function(){var P=Kt();return ii(P,!0),P},Kt=x.__private__.newObjectDeferred=function(){return Be++,Ke[Be]=function(){return Ye},Be},ii=function(P,ne){return ne=typeof ne=="boolean"&&ne,Ke[P]=Ye,ne&&oe(P+" 0 obj"),P},ga=x.__private__.newAdditionalObject=function(){var P={objId:Kt(),content:""};return Tt.push(P),P},As=Kt(),fs=Kt(),Ji=x.__private__.decodeColorString=function(P){var ne=P.split(" ");if(ne.length!==2||ne[1]!=="g"&&ne[1]!=="G")ne.length===5&&(ne[4]==="k"||ne[4]==="K")&&(ne=[(1-ne[0])*(1-ne[3]),(1-ne[1])*(1-ne[3]),(1-ne[2])*(1-ne[3]),"r"]);else{var De=parseFloat(ne[0]);ne=[De,De,De,"r"]}for(var $e="#",ft=0;ft<3;ft++)$e+=("0"+Math.floor(255*parseFloat(ne[ft])).toString(16)).slice(-2);return $e},Kr=x.__private__.encodeColorString=function(P){var ne;typeof P=="string"&&(P={ch1:P});var De=P.ch1,$e=P.ch2,ft=P.ch3,kt=P.ch4,Ft=P.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof De=="string"&&De.charAt(0)!=="#"){var Jt=new pg(De);if(Jt.ok)De=Jt.toHex();else if(!/^\d*\.?\d*$/.test(De))throw new Error('Invalid color "'+De+'" passed to jsPDF.encodeColorString.')}if(typeof De=="string"&&/^#[0-9A-Fa-f]{3}$/.test(De)&&(De="#"+De[1]+De[1]+De[2]+De[2]+De[3]+De[3]),typeof De=="string"&&/^#[0-9A-Fa-f]{6}$/.test(De)){var en=parseInt(De.substr(1),16);De=en>>16&255,$e=en>>8&255,ft=255&en}if($e===void 0||kt===void 0&&De===$e&&$e===ft)if(typeof De=="string")ne=De+" "+Ft[0];else switch(P.precision){case 2:ne=Ne(De/255)+" "+Ft[0];break;case 3:default:ne=te(De/255)+" "+Ft[0]}else if(kt===void 0||Lr(kt)==="object"){if(kt&&!isNaN(kt.a)&&kt.a===0)return ne=["1.","1.","1.",Ft[1]].join(" ");if(typeof De=="string")ne=[De,$e,ft,Ft[1]].join(" ");else switch(P.precision){case 2:ne=[Ne(De/255),Ne($e/255),Ne(ft/255),Ft[1]].join(" ");break;default:case 3:ne=[te(De/255),te($e/255),te(ft/255),Ft[1]].join(" ")}}else if(typeof De=="string")ne=[De,$e,ft,kt,Ft[2]].join(" ");else switch(P.precision){case 2:ne=[Ne(De),Ne($e),Ne(ft),Ne(kt),Ft[2]].join(" ");break;case 3:default:ne=[te(De),te($e),te(ft),te(kt),Ft[2]].join(" ")}return ne},gi=x.__private__.getFilters=function(){return c},Fi=x.__private__.putStream=function(P){var ne=(P=P||{}).data||"",De=P.filters||gi(),$e=P.alreadyAppliedFilters||[],ft=P.addLength1||!1,kt=ne.length,Ft=P.objectId,Jt=function(Ur){return Ur};if(S!==null&&Ft===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");S!==null&&(Jt=dr.encryptor(Ft,0));var en={};De===!0&&(De=["FlateEncode"]);var _n=P.additionalKeyValues||[],kn=(en=Bn.API.processDataByFilters!==void 0?Bn.API.processDataByFilters(ne,De):{data:ne,reverseChain:[]}).reverseChain+(Array.isArray($e)?$e.join(" "):$e.toString());if(en.data.length!==0&&(_n.push({key:"Length",value:en.data.length}),ft===!0&&_n.push({key:"Length1",value:kt})),kn.length!=0)if(kn.split("/").length-1==1)_n.push({key:"Filter",value:kn});else{_n.push({key:"Filter",value:"["+kn+"]"});for(var Rn=0;Rn<_n.length;Rn+=1)if(_n[Rn].key==="DecodeParms"){for(var _r=[],Zn=0;Zn<en.reverseChain.split("/").length-1;Zn+=1)_r.push("null");_r.push(_n[Rn].value),_n[Rn].value="["+_r.join(" ")+"]"}}oe("<<");for(var rr=0;rr<_n.length;rr++)oe("/"+_n[rr].key+" "+_n[rr].value);oe(">>"),en.data.length!==0&&(oe("stream"),oe(Jt(en.data)),oe("endstream"))},qs=x.__private__.putPage=function(P){var ne=P.number,De=P.data,$e=P.objId,ft=P.contentsObjId;ii($e,!0),oe("<</Type /Page"),oe("/Parent "+P.rootDictionaryObjId+" 0 R"),oe("/Resources "+P.resourceDictionaryObjId+" 0 R"),oe("/MediaBox ["+parseFloat(Z(P.mediaBox.bottomLeftX))+" "+parseFloat(Z(P.mediaBox.bottomLeftY))+" "+Z(P.mediaBox.topRightX)+" "+Z(P.mediaBox.topRightY)+"]"),P.cropBox!==null&&oe("/CropBox ["+Z(P.cropBox.bottomLeftX)+" "+Z(P.cropBox.bottomLeftY)+" "+Z(P.cropBox.topRightX)+" "+Z(P.cropBox.topRightY)+"]"),P.bleedBox!==null&&oe("/BleedBox ["+Z(P.bleedBox.bottomLeftX)+" "+Z(P.bleedBox.bottomLeftY)+" "+Z(P.bleedBox.topRightX)+" "+Z(P.bleedBox.topRightY)+"]"),P.trimBox!==null&&oe("/TrimBox ["+Z(P.trimBox.bottomLeftX)+" "+Z(P.trimBox.bottomLeftY)+" "+Z(P.trimBox.topRightX)+" "+Z(P.trimBox.topRightY)+"]"),P.artBox!==null&&oe("/ArtBox ["+Z(P.artBox.bottomLeftX)+" "+Z(P.artBox.bottomLeftY)+" "+Z(P.artBox.topRightX)+" "+Z(P.artBox.topRightY)+"]"),typeof P.userUnit=="number"&&P.userUnit!==1&&oe("/UserUnit "+P.userUnit),Yn.publish("putPage",{objId:$e,pageContext:En[ne],pageNumber:ne,page:De}),oe("/Contents "+ft+" 0 R"),oe(">>"),oe("endobj");var kt=De.join(`
`);return K===W.ADVANCED&&(kt+=`
Q`),ii(ft,!0),Fi({data:kt,filters:gi(),objectId:ft}),oe("endobj"),$e},Ma=x.__private__.putPages=function(){var P,ne,De=[];for(P=1;P<=or;P++)En[P].objId=Kt(),En[P].contentsObjId=Kt();for(P=1;P<=or;P++)De.push(qs({number:P,data:Ot[P],objId:En[P].objId,contentsObjId:En[P].contentsObjId,mediaBox:En[P].mediaBox,cropBox:En[P].cropBox,bleedBox:En[P].bleedBox,trimBox:En[P].trimBox,artBox:En[P].artBox,userUnit:En[P].userUnit,rootDictionaryObjId:As,resourceDictionaryObjId:fs}));ii(As,!0),oe("<</Type /Pages");var $e="/Kids [";for(ne=0;ne<or;ne++)$e+=De[ne]+" 0 R ";oe($e+"]"),oe("/Count "+or),oe(">>"),oe("endobj"),Yn.publish("postPutPages")},Xa=function(P){Yn.publish("putFont",{font:P,out:oe,newObject:$n,putStream:Fi}),P.isAlreadyPutted!==!0&&(P.objectNumber=$n(),oe("<<"),oe("/Type /Font"),oe("/BaseFont /"+Qu(P.postScriptName)),oe("/Subtype /Type1"),typeof P.encoding=="string"&&oe("/Encoding /"+P.encoding),oe("/FirstChar 32"),oe("/LastChar 255"),oe(">>"),oe("endobj"))},Qa=function(){for(var P in zn)zn.hasOwnProperty(P)&&(E===!1||E===!0&&A.hasOwnProperty(P))&&Xa(zn[P])},Gs=function(P){P.objectNumber=$n();var ne=[];ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Form"}),ne.push({key:"BBox",value:"["+[Z(P.x),Z(P.y),Z(P.x+P.width),Z(P.y+P.height)].join(" ")+"]"}),ne.push({key:"Matrix",value:"["+P.matrix.toString()+"]"});var De=P.pages[1].join(`
`);Fi({data:De,additionalKeyValues:ne,objectId:P.objectNumber}),oe("endobj")},Ba=function(){for(var P in Zr)Zr.hasOwnProperty(P)&&Gs(Zr[P])},eo=function(P,ne){var De,$e=[],ft=1/(ne-1);for(De=0;De<1;De+=ft)$e.push(De);if($e.push(1),P[0].offset!=0){var kt={offset:0,color:P[0].color};P.unshift(kt)}if(P[P.length-1].offset!=1){var Ft={offset:1,color:P[P.length-1].color};P.push(Ft)}for(var Jt="",en=0,_n=0;_n<$e.length;_n++){for(De=$e[_n];De>P[en+1].offset;)en++;var kn=P[en].offset,Rn=(De-kn)/(P[en+1].offset-kn),_r=P[en].color,Zn=P[en+1].color;Jt+=pe(Math.round((1-Rn)*_r[0]+Rn*Zn[0]).toString(16))+pe(Math.round((1-Rn)*_r[1]+Rn*Zn[1]).toString(16))+pe(Math.round((1-Rn)*_r[2]+Rn*Zn[2]).toString(16))}return Jt.trim()},wr=function(P,ne){ne||(ne=21);var De=$n(),$e=eo(P.colors,ne),ft=[];ft.push({key:"FunctionType",value:"0"}),ft.push({key:"Domain",value:"[0.0 1.0]"}),ft.push({key:"Size",value:"["+ne+"]"}),ft.push({key:"BitsPerSample",value:"8"}),ft.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ft.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Fi({data:$e,additionalKeyValues:ft,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:De}),oe("endobj"),P.objectNumber=$n(),oe("<< /ShadingType "+P.type),oe("/ColorSpace /DeviceRGB");var kt="/Coords ["+Z(parseFloat(P.coords[0]))+" "+Z(parseFloat(P.coords[1]))+" ";P.type===2?kt+=Z(parseFloat(P.coords[2]))+" "+Z(parseFloat(P.coords[3])):kt+=Z(parseFloat(P.coords[2]))+" "+Z(parseFloat(P.coords[3]))+" "+Z(parseFloat(P.coords[4]))+" "+Z(parseFloat(P.coords[5])),oe(kt+="]"),P.matrix&&oe("/Matrix ["+P.matrix.toString()+"]"),oe("/Function "+De+" 0 R"),oe("/Extend [true true]"),oe(">>"),oe("endobj")},wl=function(P,ne){var De=Kt(),$e=$n();ne.push({resourcesOid:De,objectOid:$e}),P.objectNumber=$e;var ft=[];ft.push({key:"Type",value:"/Pattern"}),ft.push({key:"PatternType",value:"1"}),ft.push({key:"PaintType",value:"1"}),ft.push({key:"TilingType",value:"1"}),ft.push({key:"BBox",value:"["+P.boundingBox.map(Z).join(" ")+"]"}),ft.push({key:"XStep",value:Z(P.xStep)}),ft.push({key:"YStep",value:Z(P.yStep)}),ft.push({key:"Resources",value:De+" 0 R"}),P.matrix&&ft.push({key:"Matrix",value:"["+P.matrix.toString()+"]"}),Fi({data:P.stream,additionalKeyValues:ft,objectId:P.objectNumber}),oe("endobj")},Ta=function(P){var ne;for(ne in Wn)Wn.hasOwnProperty(ne)&&(Wn[ne]instanceof yu?wr(Wn[ne]):Wn[ne]instanceof th&&wl(Wn[ne],P))},Io=function(P){for(var ne in P.objectNumber=$n(),oe("<<"),P)switch(ne){case"opacity":oe("/ca "+Ne(P[ne]));break;case"stroke-opacity":oe("/CA "+Ne(P[ne]))}oe(">>"),oe("endobj")},_o=function(){var P;for(P in ar)ar.hasOwnProperty(P)&&Io(ar[P])},to=function(){for(var P in oe("/XObject <<"),Zr)Zr.hasOwnProperty(P)&&Zr[P].objectNumber>=0&&oe("/"+P+" "+Zr[P].objectNumber+" 0 R");Yn.publish("putXobjectDict"),oe(">>")},Na=function(){dr.oid=$n(),oe("<<"),oe("/Filter /Standard"),oe("/V "+dr.v),oe("/R "+dr.r),oe("/U <"+dr.toHexString(dr.U)+">"),oe("/O <"+dr.toHexString(dr.O)+">"),oe("/P "+dr.P),oe(">>"),oe("endobj")},Oa=function(){for(var P in oe("/Font <<"),zn)zn.hasOwnProperty(P)&&(E===!1||E===!0&&A.hasOwnProperty(P))&&oe("/"+P+" "+zn[P].objectNumber+" 0 R");oe(">>")},Yi=function(){if(Object.keys(Wn).length>0){for(var P in oe("/Shading <<"),Wn)Wn.hasOwnProperty(P)&&Wn[P]instanceof yu&&Wn[P].objectNumber>=0&&oe("/"+P+" "+Wn[P].objectNumber+" 0 R");Yn.publish("putShadingPatternDict"),oe(">>")}},Xi=function(P){if(Object.keys(Wn).length>0){for(var ne in oe("/Pattern <<"),Wn)Wn.hasOwnProperty(ne)&&Wn[ne]instanceof x.TilingPattern&&Wn[ne].objectNumber>=0&&Wn[ne].objectNumber<P&&oe("/"+ne+" "+Wn[ne].objectNumber+" 0 R");Yn.publish("putTilingPatternDict"),oe(">>")}},An=function(){if(Object.keys(ar).length>0){var P;for(P in oe("/ExtGState <<"),ar)ar.hasOwnProperty(P)&&ar[P].objectNumber>=0&&oe("/"+P+" "+ar[P].objectNumber+" 0 R");Yn.publish("putGStateDict"),oe(">>")}},Mn=function(P){ii(P.resourcesOid,!0),oe("<<"),oe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Oa(),Yi(),Xi(P.objectOid),An(),to(),oe(">>"),oe("endobj")},Da=function(){var P=[];Qa(),_o(),Ba(),Ta(P),Yn.publish("putResources"),P.forEach(Mn),Mn({resourcesOid:fs,objectOid:Number.MAX_SAFE_INTEGER}),Yn.publish("postPutResources")},_a=function(){Yn.publish("putAdditionalObjects");for(var P=0;P<Tt.length;P++){var ne=Tt[P];ii(ne.objId,!0),oe(ne.content),oe("endobj")}Yn.publish("postPutAdditionalObjects")},Qi=function(P){jn[P.fontName]=jn[P.fontName]||{},jn[P.fontName][P.fontStyle]=P.id},Hs=function(P,ne,De,$e,ft){var kt={id:"F"+(Object.keys(zn).length+1).toString(10),postScriptName:P,fontName:ne,fontStyle:De,encoding:$e,isStandardFont:ft||!1,metadata:{}};return Yn.publish("addFont",{font:kt,instance:this}),zn[kt.id]=kt,Qi(kt),kt.id},Ln=function(P){for(var ne=0,De=Te.length;ne<De;ne++){var $e=Hs.call(this,P[ne][0],P[ne][1],P[ne][2],Te[ne][3],!0);E===!1&&(A[$e]=!0);var ft=P[ne][0].split("-");Qi({id:$e,fontName:ft[0],fontStyle:ft[1]||""})}Yn.publish("addFonts",{fonts:zn,dictionary:jn})},Vn=function(P){return P.foo=function(){try{return P.apply(this,arguments)}catch($e){var ne=$e.stack||"";~ne.indexOf(" at ")&&(ne=ne.split(" at ")[1]);var De="Error in function "+ne.split(`
`)[0].split("<")[0]+": "+$e.message;if(!Tn.console)throw new Error(De);Tn.console.error(De,$e),Tn.alert&&alert(De)}},P.foo.bar=P,P.foo},Ia=function(P,ne){var De,$e,ft,kt,Ft,Jt,en,_n,kn;if(ft=(ne=ne||{}).sourceEncoding||"Unicode",Ft=ne.outputEncoding,(ne.autoencode||Ft)&&zn[wn].metadata&&zn[wn].metadata[ft]&&zn[wn].metadata[ft].encoding&&(kt=zn[wn].metadata[ft].encoding,!Ft&&zn[wn].encoding&&(Ft=zn[wn].encoding),!Ft&&kt.codePages&&(Ft=kt.codePages[0]),typeof Ft=="string"&&(Ft=kt[Ft]),Ft)){for(en=!1,Jt=[],De=0,$e=P.length;De<$e;De++)(_n=Ft[P.charCodeAt(De)])?Jt.push(String.fromCharCode(_n)):Jt.push(P[De]),Jt[De].charCodeAt(0)>>8&&(en=!0);P=Jt.join("")}for(De=P.length;en===void 0&&De!==0;)P.charCodeAt(De-1)>>8&&(en=!0),De--;if(!en)return P;for(Jt=ne.noBOM?[]:[254,255],De=0,$e=P.length;De<$e;De++){if((kn=(_n=P.charCodeAt(De))>>8)>>8)throw new Error("Character at position "+De+" of string '"+P+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Jt.push(kn),Jt.push(_n-(kn<<8))}return String.fromCharCode.apply(void 0,Jt)},si=x.__private__.pdfEscape=x.pdfEscape=function(P,ne){return Ia(P,ne).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Jr=x.__private__.beginPage=function(P){Ot[++or]=[],En[or]={objId:0,contentsObjId:0,userUnit:Number(d),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(P[0]),topRightY:Number(P[1])}},ji(or),je(Ot[he])},Ro=function(P,ne){var De,$e,ft;switch(e=ne||e,typeof P=="string"&&(De=O(P.toLowerCase()),Array.isArray(De)&&($e=De[0],ft=De[1])),Array.isArray(P)&&($e=P[0]*Vt,ft=P[1]*Vt),isNaN($e)&&($e=u[0],ft=u[1]),($e>14400||ft>14400)&&(Or.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),$e=Math.min(14400,$e),ft=Math.min(14400,ft)),u=[$e,ft],e.substr(0,1)){case"l":ft>$e&&(u=[ft,$e]);break;case"p":$e>ft&&(u=[ft,$e])}Jr(u),Ys(xo),oe(oi),ko!==0&&oe(ko+" J"),Br!==0&&oe(Br+" j"),Yn.publish("addPage",{pageNumber:or})},Ra=function(P){P>0&&P<=or&&(Ot.splice(P,1),En.splice(P,1),or--,he>or&&(he=or),this.setPage(he))},ji=function(P){P>0&&P<=or&&(he=P)},kr=x.__private__.getNumberOfPages=x.getNumberOfPages=function(){return Ot.length-1},ds=function(P,ne,De){var $e,ft=void 0;return De=De||{},P=P!==void 0?P:zn[wn].fontName,ne=ne!==void 0?ne:zn[wn].fontStyle,$e=P.toLowerCase(),jn[$e]!==void 0&&jn[$e][ne]!==void 0?ft=jn[$e][ne]:jn[P]!==void 0&&jn[P][ne]!==void 0?ft=jn[P][ne]:De.disableWarning===!1&&Or.warn("Unable to look up font label for font '"+P+"', '"+ne+"'. Refer to getFontList() for available fonts."),ft||De.noFallback||(ft=jn.times[ne])==null&&(ft=jn.times.normal),ft},Gn=x.__private__.putInfo=function(){var P=$n(),ne=function($e){return $e};for(var De in S!==null&&(ne=dr.encryptor(P,0)),oe("<<"),oe("/Producer ("+si(ne("jsPDF "+Bn.version))+")"),on)on.hasOwnProperty(De)&&on[De]&&oe("/"+De.substr(0,1).toUpperCase()+De.substr(1)+" ("+si(ne(on[De]))+")");oe("/CreationDate ("+si(ne(Ie))+")"),oe(">>"),oe("endobj")},Ws=x.__private__.putCatalog=function(P){var ne=(P=P||{}).rootDictionaryObjId||As;switch($n(),oe("<<"),oe("/Type /Catalog"),oe("/Pages "+ne+" 0 R"),ht||(ht="fullwidth"),ht){case"fullwidth":oe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":oe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":oe("/OpenAction [3 0 R /Fit]");break;case"original":oe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var De=""+ht;De.substr(De.length-1)==="%"&&(ht=parseInt(ht)/100),typeof ht=="number"&&oe("/OpenAction [3 0 R /XYZ null null "+Ne(ht)+"]")}switch(Ut||(Ut="continuous"),Ut){case"continuous":oe("/PageLayout /OneColumn");break;case"single":oe("/PageLayout /SinglePage");break;case"two":case"twoleft":oe("/PageLayout /TwoColumnLeft");break;case"tworight":oe("/PageLayout /TwoColumnRight")}It&&oe("/PageMode /"+It),Yn.publish("putCatalog"),oe(">>"),oe("endobj")},vo=x.__private__.putTrailer=function(){oe("trailer"),oe("<<"),oe("/Size "+(Be+1)),oe("/Root "+Be+" 0 R"),oe("/Info "+(Be-1)+" 0 R"),S!==null&&oe("/Encrypt "+dr.oid+" 0 R"),oe("/ID [ <"+Ve+"> <"+Ve+"> ]"),oe(">>")},Vs=x.__private__.putHeader=function(){oe("%PDF-"+R),oe("%")},yo=x.__private__.putXRef=function(){var P="0000000000";oe("xref"),oe("0 "+(Be+1)),oe("0000000000 65535 f ");for(var ne=1;ne<=Be;ne++)typeof Ke[ne]=="function"?oe((P+Ke[ne]()).slice(-10)+" 00000 n "):Ke[ne]!==void 0?oe((P+Ke[ne]).slice(-10)+" 00000 n "):oe("0000000000 00000 n ")},ps=x.__private__.buildDocument=function(){$(),je(We),Yn.publish("buildDocument"),Vs(),Ma(),_a(),Da(),S!==null&&Na(),Gn(),Ws();var P=Ye;return yo(),vo(),oe("startxref"),oe(""+P),oe("%%EOF"),je(Ot[he]),We.join(`
`)},$s=x.__private__.getBlob=function(P){return new Blob([we(P)],{type:"application/pdf"})},Zs=x.output=x.__private__.output=Vn((function(P,ne){switch(typeof(ne=ne||{})=="string"?ne={filename:ne}:ne.filename=ne.filename||"generated.pdf",P){case void 0:return ps();case"save":x.save(ne.filename);break;case"arraybuffer":return we(ps());case"blob":return $s(ps());case"bloburi":case"bloburl":if(Tn.URL!==void 0&&typeof Tn.URL.createObjectURL=="function")return Tn.URL&&Tn.URL.createObjectURL($s(ps()))||void 0;Or.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var De="",$e=ps();try{De=bd($e)}catch{De=bd(unescape(encodeURIComponent($e)))}return"data:application/pdf;filename="+ne.filename+";base64,"+De;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Tn)==="[object Window]"){var ft="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",kt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ne.pdfObjectUrl&&(ft=ne.pdfObjectUrl,kt="");var Ft='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ft+'"'+kt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ne)+");<\/script></body></html>",Jt=Tn.open();return Jt!==null&&Jt.document.write(Ft),Jt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Tn)==="[object Window]"){var en='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ne.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ne.filename+'" width="500px" height="400px" /></body></html>',_n=Tn.open();if(_n!==null){_n.document.write(en);var kn=this;_n.document.documentElement.querySelector("#pdfViewer").onload=function(){_n.document.title=ne.filename,_n.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(kn.output("bloburl"))}}return _n}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Tn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Rn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ne)+'"></iframe></body></html>',_r=Tn.open();if(_r!==null&&(_r.document.write(Rn),_r.document.title=ne.filename),_r||typeof safari>"u")return _r;break;case"datauri":case"dataurl":return Tn.document.location.href=this.output("datauristring",ne);default:return null}})),va=function(P){return Array.isArray(ma)===!0&&ma.indexOf(P)>-1};switch(i){case"pt":Vt=1;break;case"mm":Vt=72/25.4;break;case"cm":Vt=72/2.54;break;case"in":Vt=72;break;case"px":Vt=va("px_scaling")==1?.75:96/72;break;case"pc":case"em":Vt=12;break;case"ex":Vt=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);Vt=i}var dr=null;re(),Le();var Ms=function(P){return S!==null?dr.encryptor(P,0):function(ne){return ne}},es=x.__private__.getPageInfo=x.getPageInfo=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:En[P].objId,pageNumber:P,pageContext:En[P]}},bn=x.__private__.getPageInfoByObjId=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ne in En)if(En[ne].objId===P)break;return es(ne)},xn=x.__private__.getCurrentPageInfo=x.getCurrentPageInfo=function(){return{objId:En[he].objId,pageNumber:he,pageContext:En[he]}};x.addPage=function(){return Ro.apply(this,arguments),this},x.setPage=function(){return ji.apply(this,arguments),je.call(this,Ot[he]),this},x.insertPage=function(P){return this.addPage(),this.movePage(he,P),this},x.movePage=function(P,ne){var De,$e;if(P>ne){De=Ot[P],$e=En[P];for(var ft=P;ft>ne;ft--)Ot[ft]=Ot[ft-1],En[ft]=En[ft-1];Ot[ne]=De,En[ne]=$e,this.setPage(ne)}else if(P<ne){De=Ot[P],$e=En[P];for(var kt=P;kt<ne;kt++)Ot[kt]=Ot[kt+1],En[kt]=En[kt+1];Ot[ne]=De,En[ne]=$e,this.setPage(ne)}return this},x.deletePage=function(){return Ra.apply(this,arguments),this},x.__private__.text=x.text=function(P,ne,De,$e,ft){var kt,Ft,Jt,en,_n,kn,Rn,_r,Zn,rr=($e=$e||{}).scope||this;if(typeof P=="number"&&typeof ne=="number"&&(typeof De=="string"||Array.isArray(De))){var Ur=De;De=ne,ne=P,P=Ur}if(arguments[3]instanceof dn?(Y("The transform parameter of text() with a Matrix value"),Zn=ft):(Jt=arguments[4],en=arguments[5],Lr(Rn=arguments[3])==="object"&&Rn!==null||(typeof Jt=="string"&&(en=Jt,Jt=null),typeof Rn=="string"&&(en=Rn,Rn=null),typeof Rn=="number"&&(Jt=Rn,Rn=null),$e={flags:Rn,angle:Jt,align:en})),isNaN(ne)||isNaN(De)||P==null)throw new Error("Invalid arguments passed to jsPDF.text");if(P.length===0)return rr;var Rr="",ns=!1,hr=typeof $e.lineHeightFactor=="number"?$e.lineHeightFactor:io,li=rr.internal.scaleFactor;function qa(ir){return ir=ir.split("	").join(Array($e.TabLen||9).join(" ")),si(ir,Rn)}function Ci(ir){for(var Qn,Er=ir.concat(),lr=[],xs=Er.length;xs--;)typeof(Qn=Er.shift())=="string"?lr.push(Qn):Array.isArray(ir)&&(Qn.length===1||Qn[1]===void 0&&Qn[2]===void 0)?lr.push(Qn[0]):lr.push([Qn[0],Qn[1],Qn[2]]);return lr}function Eo(ir,Qn){var Er;if(typeof ir=="string")Er=Qn(ir)[0];else if(Array.isArray(ir)){for(var lr,xs,xa=ir.concat(),Rs=[],zo=xa.length;zo--;)typeof(lr=xa.shift())=="string"?Rs.push(Qn(lr)[0]):Array.isArray(lr)&&typeof lr[0]=="string"&&(xs=Qn(lr[0],lr[1],lr[2]),Rs.push([xs[0],xs[1],xs[2]]));Er=Rs}return Er}var _s=!1,Po=!0;if(typeof P=="string")_s=!0;else if(Array.isArray(P)){var Qs=P.concat();Ft=[];for(var ea,vr=Qs.length;vr--;)(typeof(ea=Qs.shift())!="string"||Array.isArray(ea)&&typeof ea[0]!="string")&&(Po=!1);_s=Po}if(_s===!1)throw new Error('Type of text must be string or Array. "'+P+'" is not recognized.');typeof P=="string"&&(P=P.match(/[\r?\n]/)?P.split(/\r\n|\r|\n/g):[P]);var Ao=st/rr.internal.scaleFactor,Ui=Ao*(hr-1);switch($e.baseline){case"bottom":De-=Ui;break;case"top":De+=Ao-Ui;break;case"hanging":De+=Ao-2*Ui;break;case"middle":De+=Ao/2-Ui}if((kn=$e.maxWidth||0)>0&&(typeof P=="string"?P=rr.splitTextToSize(P,kn):Object.prototype.toString.call(P)==="[object Array]"&&(P=P.reduce((function(ir,Qn){return ir.concat(rr.splitTextToSize(Qn,kn))}),[]))),kt={text:P,x:ne,y:De,options:$e,mutex:{pdfEscape:si,activeFontKey:wn,fonts:zn,activeFontSize:st}},Yn.publish("preProcessText",kt),P=kt.text,Jt=($e=kt.options).angle,!(Zn instanceof dn)&&Jt&&typeof Jt=="number"){Jt*=Math.PI/180,$e.rotationDirection===0&&(Jt=-Jt),K===W.ADVANCED&&(Jt=-Jt);var Si=Math.cos(Jt),lo=Math.sin(Jt);Zn=new dn(Si,lo,-lo,Si,0,0)}else Jt&&Jt instanceof dn&&(Zn=Jt);K!==W.ADVANCED||Zn||(Zn=Ii),(_n=$e.charSpace||za)!==void 0&&(Rr+=Z(G(_n))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(_r=$e.horizontalScale)!==void 0&&(Rr+=Z(100*_r)+` Tz
`),$e.lang;var ui=-1,rs=$e.renderingMode!==void 0?$e.renderingMode:$e.stroke,hi=rr.internal.getCurrentPageInfo().pageContext;switch(rs){case 0:case!1:case"fill":ui=0;break;case 1:case!0:case"stroke":ui=1;break;case 2:case"fillThenStroke":ui=2;break;case 3:case"invisible":ui=3;break;case 4:case"fillAndAddForClipping":ui=4;break;case 5:case"strokeAndAddPathForClipping":ui=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ui=6;break;case 7:case"addToPathForClipping":ui=7}var ll=hi.usedRenderingMode!==void 0?hi.usedRenderingMode:-1;ui!==-1?Rr+=ui+` Tr
`:ll!==-1&&(Rr+=`0 Tr
`),ui!==-1&&(hi.usedRenderingMode=ui),en=$e.align||"left";var Sr,ta=st*hr,is=rr.internal.pageSize.getWidth(),ya=zn[wn];_n=$e.charSpace||za,kn=$e.maxWidth||0,Rn=Object.assign({autoencode:!0,noBOM:!0},$e.flags);var Os=[],Ds=function(ir){return rr.getStringUnitWidth(ir,{font:ya,charSpace:_n,fontSize:st,doKerning:!1})*st/li};if(Object.prototype.toString.call(P)==="[object Array]"){var Xr;Ft=Ci(P),en!=="left"&&(Sr=Ft.map(Ds));var qr,Is=0;if(en==="right"){ne-=Sr[0],P=[],vr=Ft.length;for(var qi=0;qi<vr;qi++)qi===0?(qr=gn(ne),Xr=Yr(De)):(qr=G(Is-Sr[qi]),Xr=-ta),P.push([Ft[qi],qr,Xr]),Is=Sr[qi]}else if(en==="center"){ne-=Sr[0]/2,P=[],vr=Ft.length;for(var vs=0;vs<vr;vs++)vs===0?(qr=gn(ne),Xr=Yr(De)):(qr=G((Is-Sr[vs])/2),Xr=-ta),P.push([Ft[vs],qr,Xr]),Is=Sr[vs]}else if(en==="left"){P=[],vr=Ft.length;for(var wa=0;wa<vr;wa++)P.push(Ft[wa])}else if(en==="justify"&&ya.encoding==="Identity-H"){P=[],vr=Ft.length,kn=kn!==0?kn:is;for(var ys=0,Xn=0;Xn<vr;Xn++)if(Xr=Xn===0?Yr(De):-ta,qr=Xn===0?gn(ne):ys,Xn<vr-1){var Gi=G((kn-Sr[Xn])/(Ft[Xn].split(" ").length-1)),vi=Ft[Xn].split(" ");P.push([vi[0]+" ",qr,Xr]),ys=0;for(var ci=1;ci<vi.length;ci++){var Ga=(Ds(vi[ci-1]+" "+vi[ci])-Ds(vi[ci]))*li+Gi;ci==vi.length-1?P.push([vi[ci],Ga,0]):P.push([vi[ci]+" ",Ga,0]),ys-=Ga}}else P.push([Ft[Xn],qr,Xr]);P.push(["",ys,0])}else{if(en!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(P=[],vr=Ft.length,kn=kn!==0?kn:is,Xn=0;Xn<vr;Xn++)Xr=Xn===0?Yr(De):-ta,qr=Xn===0?gn(ne):0,Xn<vr-1?Os.push(Z(G((kn-Sr[Xn])/(Ft[Xn].split(" ").length-1)))):Os.push(0),P.push([Ft[Xn],qr,Xr])}}var Mo=typeof $e.R2L=="boolean"?$e.R2L:Lt;Mo===!0&&(P=Eo(P,(function(ir,Qn,Er){return[ir.split("").reverse().join(""),Qn,Er]}))),kt={text:P,x:ne,y:De,options:$e,mutex:{pdfEscape:si,activeFontKey:wn,fonts:zn,activeFontSize:st}},Yn.publish("postProcessText",kt),P=kt.text,ns=kt.mutex.isHex||!1;var uo=zn[wn].encoding;uo!=="WinAnsiEncoding"&&uo!=="StandardEncoding"||(P=Eo(P,(function(ir,Qn,Er){return[qa(ir),Qn,Er]}))),Ft=Ci(P),P=[];for(var yi,Hi,ss,ws=0,na=1,ra=Array.isArray(Ft[0])?na:ws,ba="",bs=function(ir,Qn,Er){var lr="";return Er instanceof dn?(Er=typeof $e.angle=="number"?Ki(Er,new dn(1,0,0,1,ir,Qn)):Ki(new dn(1,0,0,1,ir,Qn),Er),K===W.ADVANCED&&(Er=Ki(new dn(1,0,0,-1,0,0),Er)),lr=Er.join(" ")+` Tm
`):lr=Z(ir)+" "+Z(Qn)+` Td
`,lr},fi=0;fi<Ft.length;fi++){switch(ba="",ra){case na:ss=(ns?"<":"(")+Ft[fi][0]+(ns?">":")"),yi=parseFloat(Ft[fi][1]),Hi=parseFloat(Ft[fi][2]);break;case ws:ss=(ns?"<":"(")+Ft[fi]+(ns?">":")"),yi=gn(ne),Hi=Yr(De)}Os!==void 0&&Os[fi]!==void 0&&(ba=Os[fi]+` Tw
`),fi===0?P.push(ba+bs(yi,Hi,Zn)+ss):ra===ws?P.push(ba+ss):ra===na&&P.push(ba+bs(yi,Hi,Zn)+ss)}P=ra===ws?P.join(` Tj
T* `):P.join(` Tj
`),P+=` Tj
`;var Gr=`BT
/`;return Gr+=wn+" "+st+` Tf
`,Gr+=Z(st*hr)+` TL
`,Gr+=Cr+`
`,Gr+=Rr,Gr+=P,oe(Gr+="ET"),A[wn]=!0,rr};var zr=x.__private__.clip=x.clip=function(P){return oe(P==="evenodd"?"W*":"W"),this};x.clipEvenOdd=function(){return zr("evenodd")},x.__private__.discardPath=x.discardPath=function(){return oe("n"),this};var Hn=x.__private__.isValidStyle=function(P){var ne=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(P)!==-1&&(ne=!0),ne};x.__private__.setDefaultPathOperation=x.setDefaultPathOperation=function(P){return Hn(P)&&(y=P),this};var wo=x.__private__.getStyle=x.getStyle=function(P){var ne=y;switch(P){case"D":case"S":ne="S";break;case"F":ne="f";break;case"FD":case"DF":ne="B";break;case"f":case"f*":case"B":case"B*":ne=P}return ne},Ks=x.close=function(){return oe("h"),this};x.stroke=function(){return oe("S"),this},x.fill=function(P){return Fa("f",P),this},x.fillEvenOdd=function(P){return Fa("f*",P),this},x.fillStroke=function(P){return Fa("B",P),this},x.fillStrokeEvenOdd=function(P){return Fa("B*",P),this};var Fa=function(P,ne){Lr(ne)==="object"?bo(ne,P):oe(P)},ts=function(P){P===null||K===W.ADVANCED&&P===void 0||(P=wo(P),oe(P))};function ms(P,ne,De,$e,ft){var kt=new th(ne||this.boundingBox,De||this.xStep,$e||this.yStep,this.gState,ft||this.matrix);kt.stream=this.stream;var Ft=P+"$$"+this.cloneIndex+++"$$";return Ri(Ft,kt),kt}var bo=function(P,ne){var De=Ps[P.key],$e=Wn[De];if($e instanceof yu)oe("q"),oe(no(ne)),$e.gState&&x.setGState($e.gState),oe(P.matrix.toString()+" cm"),oe("/"+De+" sh"),oe("Q");else if($e instanceof th){var ft=new dn(1,0,0,-1,0,Ua());P.matrix&&(ft=ft.multiply(P.matrix||Ii),De=ms.call($e,P.key,P.boundingBox,P.xStep,P.yStep,ft).id),oe("q"),oe("/Pattern cs"),oe("/"+De+" scn"),$e.gState&&x.setGState($e.gState),oe(ne),oe("Q")}},no=function(P){switch(P){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},gr=x.moveTo=function(P,ne){return oe(Z(G(P))+" "+Z(j(ne))+" m"),this},ai=x.lineTo=function(P,ne){return oe(Z(G(P))+" "+Z(j(ne))+" l"),this},zi=x.curveTo=function(P,ne,De,$e,ft,kt){return oe([Z(G(P)),Z(j(ne)),Z(G(De)),Z(j($e)),Z(G(ft)),Z(j(kt)),"c"].join(" ")),this};x.__private__.line=x.line=function(P,ne,De,$e,ft){if(isNaN(P)||isNaN(ne)||isNaN(De)||isNaN($e)||!Hn(ft))throw new Error("Invalid arguments passed to jsPDF.line");return K===W.COMPAT?this.lines([[De-P,$e-ne]],P,ne,[1,1],ft||"S"):this.lines([[De-P,$e-ne]],P,ne,[1,1]).stroke()},x.__private__.lines=x.lines=function(P,ne,De,$e,ft,kt){var Ft,Jt,en,_n,kn,Rn,_r,Zn,rr,Ur,Rr,ns;if(typeof P=="number"&&(ns=De,De=ne,ne=P,P=ns),$e=$e||[1,1],kt=kt||!1,isNaN(ne)||isNaN(De)||!Array.isArray(P)||!Array.isArray($e)||!Hn(ft)||typeof kt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(gr(ne,De),Ft=$e[0],Jt=$e[1],_n=P.length,Ur=ne,Rr=De,en=0;en<_n;en++)(kn=P[en]).length===2?(Ur=kn[0]*Ft+Ur,Rr=kn[1]*Jt+Rr,ai(Ur,Rr)):(Rn=kn[0]*Ft+Ur,_r=kn[1]*Jt+Rr,Zn=kn[2]*Ft+Ur,rr=kn[3]*Jt+Rr,Ur=kn[4]*Ft+Ur,Rr=kn[5]*Jt+Rr,zi(Rn,_r,Zn,rr,Ur,Rr));return kt&&Ks(),ts(ft),this},x.path=function(P){for(var ne=0;ne<P.length;ne++){var De=P[ne],$e=De.c;switch(De.op){case"m":gr($e[0],$e[1]);break;case"l":ai($e[0],$e[1]);break;case"c":zi.apply(this,$e);break;case"h":Ks()}}return this},x.__private__.rect=x.rect=function(P,ne,De,$e,ft){if(isNaN(P)||isNaN(ne)||isNaN(De)||isNaN($e)||!Hn(ft))throw new Error("Invalid arguments passed to jsPDF.rect");return K===W.COMPAT&&($e=-$e),oe([Z(G(P)),Z(j(ne)),Z(G(De)),Z(G($e)),"re"].join(" ")),ts(ft),this},x.__private__.triangle=x.triangle=function(P,ne,De,$e,ft,kt,Ft){if(isNaN(P)||isNaN(ne)||isNaN(De)||isNaN($e)||isNaN(ft)||isNaN(kt)||!Hn(Ft))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[De-P,$e-ne],[ft-De,kt-$e],[P-ft,ne-kt]],P,ne,[1,1],Ft,!0),this},x.__private__.roundedRect=x.roundedRect=function(P,ne,De,$e,ft,kt,Ft){if(isNaN(P)||isNaN(ne)||isNaN(De)||isNaN($e)||isNaN(ft)||isNaN(kt)||!Hn(Ft))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Jt=4/3*(Math.SQRT2-1);return ft=Math.min(ft,.5*De),kt=Math.min(kt,.5*$e),this.lines([[De-2*ft,0],[ft*Jt,0,ft,kt-kt*Jt,ft,kt],[0,$e-2*kt],[0,kt*Jt,-ft*Jt,kt,-ft,kt],[2*ft-De,0],[-ft*Jt,0,-ft,-kt*Jt,-ft,-kt],[0,2*kt-$e],[0,-kt*Jt,ft*Jt,-kt,ft,-kt]],P+ft,ne,[1,1],Ft,!0),this},x.__private__.ellipse=x.ellipse=function(P,ne,De,$e,ft){if(isNaN(P)||isNaN(ne)||isNaN(De)||isNaN($e)||!Hn(ft))throw new Error("Invalid arguments passed to jsPDF.ellipse");var kt=4/3*(Math.SQRT2-1)*De,Ft=4/3*(Math.SQRT2-1)*$e;return gr(P+De,ne),zi(P+De,ne-Ft,P+kt,ne-$e,P,ne-$e),zi(P-kt,ne-$e,P-De,ne-Ft,P-De,ne),zi(P-De,ne+Ft,P-kt,ne+$e,P,ne+$e),zi(P+kt,ne+$e,P+De,ne+Ft,P+De,ne),ts(ft),this},x.__private__.circle=x.circle=function(P,ne,De,$e){if(isNaN(P)||isNaN(ne)||isNaN(De)||!Hn($e))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(P,ne,De,De,$e)},x.setFont=function(P,ne,De){return De&&(ne=xe(ne,De)),wn=ds(P,ne,{disableWarning:!1}),this};var ro=x.__private__.getFont=x.getFont=function(){return zn[ds.apply(x,arguments)]};x.__private__.getFontList=x.getFontList=function(){var P,ne,De={};for(P in jn)if(jn.hasOwnProperty(P))for(ne in De[P]=[],jn[P])jn[P].hasOwnProperty(ne)&&De[P].push(ne);return De},x.addFont=function(P,ne,De,$e,ft){var kt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&kt.indexOf(arguments[3])!==-1?ft=arguments[3]:arguments[3]&&kt.indexOf(arguments[3])==-1&&(De=xe(De,$e)),ft=ft||"Identity-H",Hs.call(this,P,ne,De,ft)};var io,xo=o.lineWidth||.200025,Js=x.__private__.getLineWidth=x.getLineWidth=function(){return xo},Ys=x.__private__.setLineWidth=x.setLineWidth=function(P){return xo=P,oe(Z(G(P))+" w"),this};x.__private__.setLineDash=Bn.API.setLineDash=Bn.API.setLineDashPattern=function(P,ne){if(P=P||[],ne=ne||0,isNaN(ne)||!Array.isArray(P))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return P=P.map((function(De){return Z(G(De))})).join(" "),ne=Z(G(ne)),oe("["+P+"] "+ne+" d"),this};var so=x.__private__.getLineHeight=x.getLineHeight=function(){return st*io};x.__private__.getLineHeight=x.getLineHeight=function(){return st*io};var In=x.__private__.setLineHeightFactor=x.setLineHeightFactor=function(P){return typeof(P=P||1.15)=="number"&&(io=P),this},gs=x.__private__.getLineHeightFactor=x.getLineHeightFactor=function(){return io};In(o.lineHeight);var gn=x.__private__.getHorizontalCoordinate=function(P){return G(P)},Yr=x.__private__.getVerticalCoordinate=function(P){return K===W.ADVANCED?P:En[he].mediaBox.topRightY-En[he].mediaBox.bottomLeftY-G(P)},ja=x.__private__.getHorizontalCoordinateString=x.getHorizontalCoordinateString=function(P){return Z(gn(P))},Bs=x.__private__.getVerticalCoordinateString=x.getVerticalCoordinateString=function(P){return Z(Yr(P))},oi=o.strokeColor||"0 G";x.__private__.getStrokeColor=x.getDrawColor=function(){return Ji(oi)},x.__private__.setStrokeColor=x.setDrawColor=function(P,ne,De,$e){return oi=Kr({ch1:P,ch2:ne,ch3:De,ch4:$e,pdfColorType:"draw",precision:2}),oe(oi),this};var Lo=o.fillColor||"0 g";x.__private__.getFillColor=x.getFillColor=function(){return Ji(Lo)},x.__private__.setFillColor=x.setFillColor=function(P,ne,De,$e){return Lo=Kr({ch1:P,ch2:ne,ch3:De,ch4:$e,pdfColorType:"fill",precision:2}),oe(Lo),this};var Cr=o.textColor||"0 g",Ts=x.__private__.getTextColor=x.getTextColor=function(){return Ji(Cr)};x.__private__.setTextColor=x.setTextColor=function(P,ne,De,$e){return Cr=Kr({ch1:P,ch2:ne,ch3:De,ch4:$e,pdfColorType:"text",precision:3}),this};var za=o.charSpace,_i=x.__private__.getCharSpace=x.getCharSpace=function(){return parseFloat(za||0)};x.__private__.setCharSpace=x.setCharSpace=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return za=P,this};var ko=0;x.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},x.__private__.setLineCap=x.setLineCap=function(P){var ne=x.CapJoinStyles[P];if(ne===void 0)throw new Error("Line cap style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ko=ne,oe(ne+" J"),this};var Br=0;x.__private__.setLineJoin=x.setLineJoin=function(P){var ne=x.CapJoinStyles[P];if(ne===void 0)throw new Error("Line join style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Br=ne,oe(ne+" j"),this},x.__private__.setLineMiterLimit=x.__private__.setMiterLimit=x.setLineMiterLimit=x.setMiterLimit=function(P){if(P=P||0,isNaN(P))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return oe(Z(G(P))+" M"),this},x.GState=Dc,x.setGState=function(P){(P=typeof P=="string"?ar[Ir[P]]:Co(null,P)).equals(Mr)||(oe("/"+P.id+" gs"),Mr=P)};var Co=function(P,ne){if(!P||!Ir[P]){var De=!1;for(var $e in ar)if(ar.hasOwnProperty($e)&&ar[$e].equals(ne)){De=!0;break}if(De)ne=ar[$e];else{var ft="GS"+(Object.keys(ar).length+1).toString(10);ar[ft]=ne,ne.id=ft}return P&&(Ir[P]=ne.id),Yn.publish("addGState",ne),ne}};x.addGState=function(P,ne){return Co(P,ne),this},x.saveGraphicsState=function(){return oe("q"),Ar.push({key:wn,size:st,color:Cr}),this},x.restoreGraphicsState=function(){oe("Q");var P=Ar.pop();return wn=P.key,st=P.size,Cr=P.color,Mr=null,this},x.setCurrentTransformationMatrix=function(P){return oe(P.toString()+" cm"),this},x.comment=function(P){return oe("#"+P),this};var Ns=function(P,ne){var De=P||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return De},set:function(kt){isNaN(kt)||(De=parseFloat(kt))}});var $e=ne||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return $e},set:function(kt){isNaN(kt)||($e=parseFloat(kt))}});var ft="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ft},set:function(kt){ft=kt.toString()}}),this},ki=function(P,ne,De,$e){Ns.call(this,P,ne),this.type="rect";var ft=De||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ft},set:function(Ft){isNaN(Ft)||(ft=parseFloat(Ft))}});var kt=$e||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return kt},set:function(Ft){isNaN(Ft)||(kt=parseFloat(Ft))}}),this},ao=function(){this.page=or,this.currentPage=he,this.pages=Ot.slice(0),this.pagesContext=En.slice(0),this.x=ur,this.y=cn,this.matrix=Dr,this.width=Xs(he),this.height=Ua(he),this.outputDestination=qt,this.id="",this.objectNumber=-1};ao.prototype.restore=function(){or=this.page,he=this.currentPage,En=this.pagesContext,Ot=this.pages,ur=this.x,cn=this.y,Dr=this.matrix,oo(he,this.width),Tr(he,this.height),qt=this.outputDestination};var Fo=function(P,ne,De,$e,ft){Zi.push(new ao),or=he=0,Ot=[],ur=P,cn=ne,Dr=ft,Jr([De,$e])},jo=function(P){if(cs[P])Zi.pop().restore();else{var ne=new ao,De="Xo"+(Object.keys(Zr).length+1).toString(10);ne.id=De,cs[P]=De,Zr[De]=ne,Yn.publish("addFormObject",ne),Zi.pop().restore()}};for(var So in x.beginFormObject=function(P,ne,De,$e,ft){return Fo(P,ne,De,$e,ft),this},x.endFormObject=function(P){return jo(P),this},x.doFormObject=function(P,ne){var De=Zr[cs[P]];return oe("q"),oe(ne.toString()+" cm"),oe("/"+De.id+" Do"),oe("Q"),this},x.getFormObject=function(P){var ne=Zr[cs[P]];return{x:ne.x,y:ne.y,width:ne.width,height:ne.height,matrix:ne.matrix}},x.save=function(P,ne){return P=P||"generated.pdf",(ne=ne||{}).returnPromise=ne.returnPromise||!1,ne.returnPromise===!1?(_u($s(ps()),P),typeof _u.unload=="function"&&Tn.setTimeout&&setTimeout(_u.unload,911),this):new Promise((function(De,$e){try{var ft=_u($s(ps()),P);typeof _u.unload=="function"&&Tn.setTimeout&&setTimeout(_u.unload,911),De(ft)}catch(kt){$e(kt.message)}}))},Bn.API)Bn.API.hasOwnProperty(So)&&(So==="events"&&Bn.API.events.length?(function(P,ne){var De,$e,ft;for(ft=ne.length-1;ft!==-1;ft--)De=ne[ft][0],$e=ne[ft][1],P.subscribe.apply(P,[De].concat(typeof $e=="function"?[$e]:$e))})(Yn,Bn.API.events):x[So]=Bn.API[So]);var Xs=x.getPageWidth=function(P){return(En[P=P||he].mediaBox.topRightX-En[P].mediaBox.bottomLeftX)/Vt},oo=x.setPageWidth=function(P,ne){En[P].mediaBox.topRightX=ne*Vt+En[P].mediaBox.bottomLeftX},Ua=x.getPageHeight=function(P){return(En[P=P||he].mediaBox.topRightY-En[P].mediaBox.bottomLeftY)/Vt},Tr=x.setPageHeight=function(P,ne){En[P].mediaBox.topRightY=ne*Vt+En[P].mediaBox.bottomLeftY};return x.internal={pdfEscape:si,getStyle:wo,getFont:ro,getFontSize:qe,getCharSpace:_i,getTextColor:Ts,getLineHeight:so,getLineHeightFactor:gs,getLineWidth:Js,write:Ee,getHorizontalCoordinate:gn,getVerticalCoordinate:Yr,getCoordinateString:ja,getVerticalCoordinateString:Bs,collections:{},newObject:$n,newAdditionalObject:ga,newObjectDeferred:Kt,newObjectDeferredBegin:ii,getFilters:gi,putStream:Fi,events:Yn,scaleFactor:Vt,pageSize:{getWidth:function(){return Xs(he)},setWidth:function(P){oo(he,P)},getHeight:function(){return Ua(he)},setHeight:function(P){Tr(he,P)}},encryptionOptions:S,encryption:dr,getEncryptor:Ms,output:Zs,getNumberOfPages:kr,pages:Ot,out:oe,f2:Ne,f3:te,getPageInfo:es,getPageInfoByObjId:bn,getCurrentPageInfo:xn,getPDFVersion:M,Point:Ns,Rectangle:ki,Matrix:dn,hasHotfix:va},Object.defineProperty(x.internal.pageSize,"width",{get:function(){return Xs(he)},set:function(P){oo(he,P)},enumerable:!0,configurable:!0}),Object.defineProperty(x.internal.pageSize,"height",{get:function(){return Ua(he)},set:function(P){Tr(he,P)},enumerable:!0,configurable:!0}),Ln.call(x,Te),wn="F1",Ro(u,e),Yn.publish("initialized"),x}Xu.prototype.lsbFirstWord=function(o){return String.fromCharCode(o>>0&255,o>>8&255,o>>16&255,o>>24&255)},Xu.prototype.toHexString=function(o){return o.split("").map((function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)})).join("")},Xu.prototype.hexToBytes=function(o){for(var t=[],e=0;e<o.length;e+=2)t.push(String.fromCharCode(parseInt(o.substr(e,2),16)));return t.join("")},Xu.prototype.processOwnerPassword=function(o,t){return Ld(xd(t).substr(0,5),o)},Xu.prototype.encryptor=function(o,t){var e=xd(this.encryptionKey+String.fromCharCode(255&o,o>>8&255,o>>16&255,255&t,t>>8&255)).substr(0,10);return function(i){return Ld(e,i)}},Dc.prototype.equals=function(o){var t,e="id,objectNumber,equals";if(!o||Lr(o)!==Lr(this))return!1;var i=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!o.hasOwnProperty(t)||this[t]!==o[t])return!1;i++}for(t in o)o.hasOwnProperty(t)&&e.indexOf(t)<0&&i--;return i===0},Bn.API={events:[]},Bn.version="3.0.1";var Li=Bn.API,Hd=1,ku=function(o){return o.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Zu=function(o){return o.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Fn=function(o){return o.toFixed(2)},Vl=function(o){return o.toFixed(5)};Li.__acroform__={};var Ya=function(o,t){o.prototype=Object.create(t.prototype),o.prototype.constructor=o},$0=function(o){return o*Hd},fl=function(o){var t=new vg,e=hn.internal.getHeight(o)||0,i=hn.internal.getWidth(o)||0;return t.BBox=[0,0,Number(Fn(i)),Number(Fn(e))],t},$2=Li.__acroform__.setBit=function(o,t){if(o=o||0,t=t||0,isNaN(o)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return o|=1<<t},Z2=Li.__acroform__.clearBit=function(o,t){if(o=o||0,t=t||0,isNaN(o)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return o&=~(1<<t)},K2=Li.__acroform__.getBit=function(o,t){if(isNaN(o)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(o&1<<t)==0?0:1},Ni=Li.__acroform__.getBitForPdf=function(o,t){if(isNaN(o)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return K2(o,t-1)},Oi=Li.__acroform__.setBitForPdf=function(o,t){if(isNaN(o)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return $2(o,t-1)},Di=Li.__acroform__.clearBitForPdf=function(o,t){if(isNaN(o)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Z2(o,t-1)},J2=Li.__acroform__.calculateCoordinates=function(o,t){var e=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,u=o[0],l=o[1],c=o[2],d=o[3],g={};return g.lowerLeft_X=e(u)||0,g.lowerLeft_Y=i(l+d)||0,g.upperRight_X=e(u+c)||0,g.upperRight_Y=i(l)||0,[Number(Fn(g.lowerLeft_X)),Number(Fn(g.lowerLeft_Y)),Number(Fn(g.upperRight_X)),Number(Fn(g.upperRight_Y))]},Y2=function(o){if(o.appearanceStreamContent)return o.appearanceStreamContent;if(o.V||o.DV){var t=[],e=o._V||o.DV,i=kd(o,e),u=o.scope.internal.getFont(o.fontName,o.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(o.scope.__private__.encodeColorString(o.color)),t.push("/"+u+" "+Fn(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var l=fl(o);return l.scope=o.scope,l.stream=t.join(`
`),l}},kd=function(o,t){var e=o.fontSize===0?o.maxFontSize:o.fontSize,i={text:"",fontSize:""},u=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");u=o.multiline?u.map((function(te){return te.split(`
`)})):u.map((function(te){return[te]}));var l=e,c=hn.internal.getHeight(o)||0;c=c<0?-c:c;var d=hn.internal.getWidth(o)||0;d=d<0?-d:d;var g=function(te,G,ve){if(te+1<u.length){var j=G+" "+u[te+1][0];return xc(j,o,ve).width<=d-4}return!1};l++;e:for(;l>0;){t="",l--;var y,S,E=xc("3",o,l).height,A=o.multiline?c-l:(c-E)/2,x=A+=2,R=0,M=0,I=0;if(l<=0){t=`(...) Tj
`,t+="% Width of Text: "+xc(t,o,l=12).width+", FieldWidth:"+d+`
`;break}for(var O="",W=0,K=0;K<u.length;K++)if(u.hasOwnProperty(K)){var de=!1;if(u[K].length!==1&&I!==u[K].length-1){if((E+2)*(W+2)+2>c)continue e;O+=u[K][I],de=!0,M=K,K--}else{O=(O+=u[K][I]+" ").substr(O.length-1)==" "?O.substr(0,O.length-1):O;var ie=parseInt(K),xe=g(ie,O,l),Z=K>=u.length-1;if(xe&&!Z){O+=" ",I=0;continue}if(xe||Z){if(Z)M=ie;else if(o.multiline&&(E+2)*(W+2)+2>c)continue e}else{if(!o.multiline||(E+2)*(W+2)+2>c)continue e;M=ie}}for(var Y="",me=R;me<=M;me++){var Ne=u[me];if(o.multiline){if(me===M){Y+=Ne[I]+" ",I=(I+1)%Ne.length;continue}if(me===R){Y+=Ne[Ne.length-1]+" ";continue}}Y+=Ne[0]+" "}switch(Y=Y.substr(Y.length-1)==" "?Y.substr(0,Y.length-1):Y,S=xc(Y,o,l).width,o.textAlign){case"right":y=d-S-2;break;case"center":y=(d-S)/2;break;case"left":default:y=2}t+=Fn(y)+" "+Fn(x)+` Td
`,t+="("+ku(Y)+`) Tj
`,t+=-Fn(y)+` 0 Td
`,x=-(l+2),S=0,R=de?M:M+1,W++,O=""}break}return i.text=t,i.fontSize=l,i},xc=function(o,t,e){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),u=t.scope.getStringUnitWidth(o,{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:u}},X2={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Q2=function(o,t){var e={type:"reference",object:o};t.internal.getPageInfo(o.page).pageContext.annotations.find((function(i){return i.type===e.type&&i.object===e.object}))===void 0&&t.internal.getPageInfo(o.page).pageContext.annotations.push(e)},e5=function(o,t){for(var e in o)if(o.hasOwnProperty(e)){var i=e,u=o[e];t.internal.newObjectDeferredBegin(u.objId,!0),Lr(u)==="object"&&typeof u.putStream=="function"&&u.putStream(),delete o[i]}},t5=function(o,t){if(t.scope=o,o.internal!==void 0&&(o.internal.acroformPlugin===void 0||o.internal.acroformPlugin.isInitialized===!1)){if(al.FieldNum=0,o.internal.acroformPlugin=JSON.parse(JSON.stringify(X2)),o.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Hd=o.internal.scaleFactor,o.internal.acroformPlugin.acroFormDictionaryRoot=new yg,o.internal.acroformPlugin.acroFormDictionaryRoot.scope=o,o.internal.acroformPlugin.acroFormDictionaryRoot._eventID=o.internal.events.subscribe("postPutResources",(function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(o)})),o.internal.events.subscribe("buildDocument",(function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var u in i)if(i.hasOwnProperty(u)){var l=i[u];l.objId=void 0,l.hasAnnotation&&Q2(l,e)}})(o)})),o.internal.events.subscribe("putCatalog",(function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(o)})),o.internal.events.subscribe("postPutPages",(function(e){(function(i,u){var l=!i;for(var c in i||(u.internal.newObjectDeferredBegin(u.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),u.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||u.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(c)){var d=i[c],g=[],y=d.Rect;if(d.Rect&&(d.Rect=J2(d.Rect,u)),u.internal.newObjectDeferredBegin(d.objId,!0),d.DA=hn.createDefaultAppearanceStream(d),Lr(d)==="object"&&typeof d.getKeyValueListForStream=="function"&&(g=d.getKeyValueListForStream()),d.Rect=y,d.hasAppearanceStream&&!d.appearanceStreamContent){var S=Y2(d);g.push({key:"AP",value:"<</N "+S+">>"}),u.internal.acroformPlugin.xForms.push(S)}if(d.appearanceStreamContent){var E="";for(var A in d.appearanceStreamContent)if(d.appearanceStreamContent.hasOwnProperty(A)){var x=d.appearanceStreamContent[A];if(E+="/"+A+" ",E+="<<",Object.keys(x).length>=1||Array.isArray(x)){for(var c in x)if(x.hasOwnProperty(c)){var R=x[c];typeof R=="function"&&(R=R.call(u,d)),E+="/"+c+" "+R+" ",u.internal.acroformPlugin.xForms.indexOf(R)>=0||u.internal.acroformPlugin.xForms.push(R)}}else typeof(R=x)=="function"&&(R=R.call(u,d)),E+="/"+c+" "+R,u.internal.acroformPlugin.xForms.indexOf(R)>=0||u.internal.acroformPlugin.xForms.push(R);E+=">>"}g.push({key:"AP",value:`<<
`+E+">>"})}u.internal.putStream({additionalKeyValues:g,objectId:d.objId}),u.internal.out("endobj")}l&&e5(u.internal.acroformPlugin.xForms,u)})(e,o)})),o.internal.acroformPlugin.isInitialized=!0}},_g=Li.__acroform__.arrayToPdfArray=function(o,t,e){var i=function(c){return c};if(Array.isArray(o)){for(var u="[",l=0;l<o.length;l++)switch(l!==0&&(u+=" "),Lr(o[l])){case"boolean":case"number":case"object":u+=o[l].toString();break;case"string":o[l].substr(0,1)!=="/"?(t!==void 0&&e&&(i=e.internal.getEncryptor(t)),u+="("+ku(i(o[l].toString()))+")"):u+=o[l].toString()}return u+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Jf=function(o,t,e){var i=function(u){return u};return t!==void 0&&e&&(i=e.internal.getEncryptor(t)),(o=o||"").toString(),o="("+ku(i(o))+")"},pl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(o){this._objId=o}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};pl.prototype.toString=function(){return this.objId+" 0 R"},pl.prototype.putStream=function(){var o=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:o,objectId:this.objId}),this.scope.internal.out("endobj")},pl.prototype.getKeyValueListForStream=function(){var o=[],t=Object.getOwnPropertyNames(this).filter((function(l){return l!="content"&&l!="appearanceStreamContent"&&l!="scope"&&l!="objId"&&l.substring(0,1)!="_"}));for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var i=t[e],u=this[i];u&&(Array.isArray(u)?o.push({key:i,value:_g(u,this.objId,this.scope)}):u instanceof pl?(u.scope=this.scope,o.push({key:i,value:u.objId+" 0 R"})):typeof u!="function"&&o.push({key:i,value:u}))}return o};var vg=function(){pl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var o,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){o=e.trim()},get:function(){return o||null}})};Ya(vg,pl);var yg=function(){pl.call(this);var o,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(o){var e=function(i){return i};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+ku(e(o))+")"}},set:function(e){o=e}})};Ya(yg,pl);var al=function o(){pl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(O){if(isNaN(O))throw new Error('Invalid value "'+O+'" for attribute F supplied.');t=O}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ni(t,3)},set:function(O){O?this.F=Oi(t,3):this.F=Di(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(O){if(isNaN(O))throw new Error('Invalid value "'+O+'" for attribute Ff supplied.');e=O}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(O){i=O!==void 0?O:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(O){i[0]=O}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(O){i[1]=O}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(O){i[2]=O}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(O){i[3]=O}});var u="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return u},set:function(O){switch(O){case"/Btn":case"/Tx":case"/Ch":case"/Sig":u=O;break;default:throw new Error('Invalid value "'+O+'" for attribute FT supplied.')}}});var l=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!l||l.length<1){if(this instanceof Ic)return;l="FieldObject"+o.FieldNum++}var O=function(W){return W};return this.scope&&(O=this.scope.internal.getEncryptor(this.objId)),"("+ku(O(l))+")"},set:function(O){l=O.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return l},set:function(O){l=O}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(O){c=O}});var d="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return d},set:function(O){d=O}});var g=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return g},set:function(O){g=O}});var y=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return y===void 0?50/Hd:y},set:function(O){y=O}});var S="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return S},set:function(O){S=O}});var E="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!E||this instanceof Ic||this instanceof wu))return Jf(E,this.objId,this.scope)},set:function(O){O=O.toString(),E=O}});var A=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof Es?A:Jf(A,this.objId,this.scope)},set:function(O){O=O.toString(),A=this instanceof Es?O:O.substr(0,1)==="("?Zu(O.substr(1,O.length-2)):Zu(O)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Es?Zu(A.substr(1,A.length-1)):A},set:function(O){O=O.toString(),A=this instanceof Es?"/"+O:O}});var x=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(x)return x},set:function(O){this.V=O}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof Es?x:Jf(x,this.objId,this.scope)},set:function(O){O=O.toString(),x=this instanceof Es?O:O.substr(0,1)==="("?Zu(O.substr(1,O.length-2)):Zu(O)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Es?Zu(x.substr(1,x.length-1)):x},set:function(O){O=O.toString(),x=this instanceof Es?"/"+O:O}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var R,M=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return M},set:function(O){O=!!O,M=O}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(R)return R},set:function(O){R=O}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,1)},set:function(O){O?this.Ff=Oi(this.Ff,1):this.Ff=Di(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,2)},set:function(O){O?this.Ff=Oi(this.Ff,2):this.Ff=Di(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,3)},set:function(O){O?this.Ff=Oi(this.Ff,3):this.Ff=Di(this.Ff,3)}});var I=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(I!==null)return I},set:function(O){if([0,1,2].indexOf(O)===-1)throw new Error('Invalid value "'+O+'" for attribute Q supplied.');I=O}}),Object.defineProperty(this,"textAlign",{get:function(){var O;switch(I){case 0:default:O="left";break;case 1:O="center";break;case 2:O="right"}return O},configurable:!0,enumerable:!0,set:function(O){switch(O){case"right":case 2:I=2;break;case"center":case 1:I=1;break;case"left":case 0:default:I=0}}})};Ya(al,pl);var nh=function(){al.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var o=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return o},set:function(e){o=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return o},set:function(e){o=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return _g(t,this.objId,this.scope)},set:function(e){var i,u;u=[],typeof(i=e)=="string"&&(u=(function(l,c,d){d||(d=1);for(var g,y=[];g=c.exec(l);)y.push(g[d]);return y})(i,/\((.*?)\)/g)),t=u}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,i){for(i=i||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,18)},set:function(e){e?this.Ff=Oi(this.Ff,18):this.Ff=Di(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=Oi(this.Ff,19):this.Ff=Di(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,20)},set:function(e){e?(this.Ff=Oi(this.Ff,20),t.sort()):this.Ff=Di(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,22)},set:function(e){e?this.Ff=Oi(this.Ff,22):this.Ff=Di(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,23)},set:function(e){e?this.Ff=Oi(this.Ff,23):this.Ff=Di(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,27)},set:function(e){e?this.Ff=Oi(this.Ff,27):this.Ff=Di(this.Ff,27)}}),this.hasAppearanceStream=!1};Ya(nh,al);var rh=function(){nh.call(this),this.fontName="helvetica",this.combo=!1};Ya(rh,nh);var ih=function(){rh.call(this),this.combo=!0};Ya(ih,rh);var Ec=function(){ih.call(this),this.edit=!0};Ya(Ec,ih);var Es=function(){al.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,15)},set:function(e){e?this.Ff=Oi(this.Ff,15):this.Ff=Di(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,16)},set:function(e){e?this.Ff=Oi(this.Ff,16):this.Ff=Di(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,17)},set:function(e){e?this.Ff=Oi(this.Ff,17):this.Ff=Di(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,26)},set:function(e){e?this.Ff=Oi(this.Ff,26):this.Ff=Di(this.Ff,26)}});var o,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(l){return l};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var i,u=[];for(i in u.push("<<"),t)u.push("/"+i+" ("+ku(e(t[i]))+")");return u.push(">>"),u.join(`
`)}},set:function(e){Lr(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return o},set:function(e){o=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return o.substr(1,o.length-1)},set:function(e){o="/"+e}})};Ya(Es,al);var Pc=function(){Es.call(this),this.pushButton=!0};Ya(Pc,Es);var sh=function(){Es.call(this),this.radio=!0,this.pushButton=!1;var o=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return o},set:function(t){o=t!==void 0?t:[]}})};Ya(sh,Es);var Ic=function(){var o,t;al.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return o},set:function(u){o=u}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(u){t=u}});var e,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var u=function(d){return d};this.scope&&(u=this.scope.internal.getEncryptor(this.objId));var l,c=[];for(l in c.push("<<"),i)c.push("/"+l+" ("+ku(u(i[l]))+")");return c.push(">>"),c.join(`
`)},set:function(u){Lr(u)==="object"&&(i=u)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(u){typeof u=="string"&&(i.CA=u)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(u){e=u}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(u){e="/"+u}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=hn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ya(Ic,al),sh.prototype.setAppearance=function(o){if(!("createAppearanceStream"in o)||!("getCA"in o))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=o.createAppearanceStream(e.optionName),e.caption=o.getCA()}},sh.prototype.createOption=function(o){var t=new Ic;return t.Parent=this,t.optionName=o,this.Kids.push(t),n5.call(this.scope,t),t};var Ac=function(){Es.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=hn.CheckBox.createAppearanceStream()};Ya(Ac,Es);var wu=function(){al.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,13)},set:function(t){t?this.Ff=Oi(this.Ff,13):this.Ff=Di(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,21)},set:function(t){t?this.Ff=Oi(this.Ff,21):this.Ff=Di(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,23)},set:function(t){t?this.Ff=Oi(this.Ff,23):this.Ff=Di(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,24)},set:function(t){t?this.Ff=Oi(this.Ff,24):this.Ff=Di(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,25)},set:function(t){t?this.Ff=Oi(this.Ff,25):this.Ff=Di(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,26)},set:function(t){t?this.Ff=Oi(this.Ff,26):this.Ff=Di(this.Ff,26)}});var o=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return o},set:function(t){o=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return o},set:function(t){Number.isInteger(t)&&(o=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ya(wu,al);var Mc=function(){wu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,14)},set:function(o){o?this.Ff=Oi(this.Ff,14):this.Ff=Di(this.Ff,14)}}),this.password=!0};Ya(Mc,wu);var hn={CheckBox:{createAppearanceStream:function(){return{N:{On:hn.CheckBox.YesNormal},D:{On:hn.CheckBox.YesPushDown,Off:hn.CheckBox.OffPushDown}}},YesPushDown:function(o){var t=fl(o);t.scope=o.scope;var e=[],i=o.scope.internal.getFont(o.fontName,o.fontStyle).id,u=o.scope.__private__.encodeColorString(o.color),l=kd(o,o.caption);return e.push("0.749023 g"),e.push("0 0 "+Fn(hn.internal.getWidth(o))+" "+Fn(hn.internal.getHeight(o))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+i+" "+Fn(l.fontSize)+" Tf "+u),e.push("BT"),e.push(l.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(o){var t=fl(o);t.scope=o.scope;var e=o.scope.internal.getFont(o.fontName,o.fontStyle).id,i=o.scope.__private__.encodeColorString(o.color),u=[],l=hn.internal.getHeight(o),c=hn.internal.getWidth(o),d=kd(o,o.caption);return u.push("1 g"),u.push("0 0 "+Fn(c)+" "+Fn(l)+" re"),u.push("f"),u.push("q"),u.push("0 0 1 rg"),u.push("0 0 "+Fn(c-1)+" "+Fn(l-1)+" re"),u.push("W"),u.push("n"),u.push("0 g"),u.push("BT"),u.push("/"+e+" "+Fn(d.fontSize)+" Tf "+i),u.push(d.text),u.push("ET"),u.push("Q"),t.stream=u.join(`
`),t},OffPushDown:function(o){var t=fl(o);t.scope=o.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Fn(hn.internal.getWidth(o))+" "+Fn(hn.internal.getHeight(o))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(o){var t={D:{Off:hn.RadioButton.Circle.OffPushDown},N:{}};return t.N[o]=hn.RadioButton.Circle.YesNormal,t.D[o]=hn.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(o){var t=fl(o);t.scope=o.scope;var e=[],i=hn.internal.getWidth(o)<=hn.internal.getHeight(o)?hn.internal.getWidth(o)/4:hn.internal.getHeight(o)/4;i=Number((.9*i).toFixed(5));var u=hn.internal.Bezier_C,l=Number((i*u).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+Vl(hn.internal.getWidth(o)/2)+" "+Vl(hn.internal.getHeight(o)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+l+" "+l+" "+i+" 0 "+i+" c"),e.push("-"+l+" "+i+" -"+i+" "+l+" -"+i+" 0 c"),e.push("-"+i+" -"+l+" -"+l+" -"+i+" 0 -"+i+" c"),e.push(l+" -"+i+" "+i+" -"+l+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(o){var t=fl(o);t.scope=o.scope;var e=[],i=hn.internal.getWidth(o)<=hn.internal.getHeight(o)?hn.internal.getWidth(o)/4:hn.internal.getHeight(o)/4;i=Number((.9*i).toFixed(5));var u=Number((2*i).toFixed(5)),l=Number((u*hn.internal.Bezier_C).toFixed(5)),c=Number((i*hn.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Vl(hn.internal.getWidth(o)/2)+" "+Vl(hn.internal.getHeight(o)/2)+" cm"),e.push(u+" 0 m"),e.push(u+" "+l+" "+l+" "+u+" 0 "+u+" c"),e.push("-"+l+" "+u+" -"+u+" "+l+" -"+u+" 0 c"),e.push("-"+u+" -"+l+" -"+l+" -"+u+" 0 -"+u+" c"),e.push(l+" -"+u+" "+u+" -"+l+" "+u+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+Vl(hn.internal.getWidth(o)/2)+" "+Vl(hn.internal.getHeight(o)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+c+" "+c+" "+i+" 0 "+i+" c"),e.push("-"+c+" "+i+" -"+i+" "+c+" -"+i+" 0 c"),e.push("-"+i+" -"+c+" -"+c+" -"+i+" 0 -"+i+" c"),e.push(c+" -"+i+" "+i+" -"+c+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(o){var t=fl(o);t.scope=o.scope;var e=[],i=hn.internal.getWidth(o)<=hn.internal.getHeight(o)?hn.internal.getWidth(o)/4:hn.internal.getHeight(o)/4;i=Number((.9*i).toFixed(5));var u=Number((2*i).toFixed(5)),l=Number((u*hn.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Vl(hn.internal.getWidth(o)/2)+" "+Vl(hn.internal.getHeight(o)/2)+" cm"),e.push(u+" 0 m"),e.push(u+" "+l+" "+l+" "+u+" 0 "+u+" c"),e.push("-"+l+" "+u+" -"+u+" "+l+" -"+u+" 0 c"),e.push("-"+u+" -"+l+" -"+l+" -"+u+" 0 -"+u+" c"),e.push(l+" -"+u+" "+u+" -"+l+" "+u+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(o){var t={D:{Off:hn.RadioButton.Cross.OffPushDown},N:{}};return t.N[o]=hn.RadioButton.Cross.YesNormal,t.D[o]=hn.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(o){var t=fl(o);t.scope=o.scope;var e=[],i=hn.internal.calculateCross(o);return e.push("q"),e.push("1 1 "+Fn(hn.internal.getWidth(o)-2)+" "+Fn(hn.internal.getHeight(o)-2)+" re"),e.push("W"),e.push("n"),e.push(Fn(i.x1.x)+" "+Fn(i.x1.y)+" m"),e.push(Fn(i.x2.x)+" "+Fn(i.x2.y)+" l"),e.push(Fn(i.x4.x)+" "+Fn(i.x4.y)+" m"),e.push(Fn(i.x3.x)+" "+Fn(i.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(o){var t=fl(o);t.scope=o.scope;var e=hn.internal.calculateCross(o),i=[];return i.push("0.749023 g"),i.push("0 0 "+Fn(hn.internal.getWidth(o))+" "+Fn(hn.internal.getHeight(o))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+Fn(hn.internal.getWidth(o)-2)+" "+Fn(hn.internal.getHeight(o)-2)+" re"),i.push("W"),i.push("n"),i.push(Fn(e.x1.x)+" "+Fn(e.x1.y)+" m"),i.push(Fn(e.x2.x)+" "+Fn(e.x2.y)+" l"),i.push(Fn(e.x4.x)+" "+Fn(e.x4.y)+" m"),i.push(Fn(e.x3.x)+" "+Fn(e.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(o){var t=fl(o);t.scope=o.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Fn(hn.internal.getWidth(o))+" "+Fn(hn.internal.getHeight(o))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(o){var t=o.scope.internal.getFont(o.fontName,o.fontStyle).id,e=o.scope.__private__.encodeColorString(o.color);return"/"+t+" "+o.fontSize+" Tf "+e}};hn.internal={Bezier_C:.551915024494,calculateCross:function(o){var t=hn.internal.getWidth(o),e=hn.internal.getHeight(o),i=Math.min(t,e);return{x1:{x:(t-i)/2,y:(e-i)/2+i},x2:{x:(t-i)/2+i,y:(e-i)/2},x3:{x:(t-i)/2,y:(e-i)/2},x4:{x:(t-i)/2+i,y:(e-i)/2+i}}}},hn.internal.getWidth=function(o){var t=0;return Lr(o)==="object"&&(t=$0(o.Rect[2])),t},hn.internal.getHeight=function(o){var t=0;return Lr(o)==="object"&&(t=$0(o.Rect[3])),t};var n5=Li.addField=function(o){if(t5(this,o),!(o instanceof al))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=o).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),o.page=o.scope.internal.getCurrentPageInfo().pageNumber,this};Li.AcroFormChoiceField=nh,Li.AcroFormListBox=rh,Li.AcroFormComboBox=ih,Li.AcroFormEditBox=Ec,Li.AcroFormButton=Es,Li.AcroFormPushButton=Pc,Li.AcroFormRadioButton=sh,Li.AcroFormCheckBox=Ac,Li.AcroFormTextField=wu,Li.AcroFormPasswordField=Mc,Li.AcroFormAppearance=hn,Li.AcroForm={ChoiceField:nh,ListBox:rh,ComboBox:ih,EditBox:Ec,Button:Es,PushButton:Pc,RadioButton:sh,CheckBox:Ac,TextField:wu,PasswordField:Mc,Appearance:hn},Bn.AcroForm={ChoiceField:nh,ListBox:rh,ComboBox:ih,EditBox:Ec,Button:Es,PushButton:Pc,RadioButton:sh,CheckBox:Ac,TextField:wu,PasswordField:Mc,Appearance:hn};Bn.AcroForm;function wg(o){return o.reduce((function(t,e,i){return t[e]=i,t}),{})}(function(o){o.__addimage__={};var t="UNKNOWN",e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=o.__addimage__.getImageFileTypeByImageData=function(te,G){var ve,j,Ie,Ve,Fe,Le=t;if((G=G||t)==="RGBA"||te.data!==void 0&&te.data instanceof Uint8ClampedArray&&"height"in te&&"width"in te)return"RGBA";if(xe(te))for(Fe in e)for(Ie=e[Fe],ve=0;ve<Ie.length;ve+=1){for(Ve=!0,j=0;j<Ie[ve].length;j+=1)if(Ie[ve][j]!==void 0&&Ie[ve][j]!==te[j]){Ve=!1;break}if(Ve===!0){Le=Fe;break}}else for(Fe in e)for(Ie=e[Fe],ve=0;ve<Ie.length;ve+=1){for(Ve=!0,j=0;j<Ie[ve].length;j+=1)if(Ie[ve][j]!==void 0&&Ie[ve][j]!==te.charCodeAt(j)){Ve=!1;break}if(Ve===!0){Le=Fe;break}}return Le===t&&G!==t&&(Le=G),Le},u=function te(G){for(var ve=this.internal.write,j=this.internal.putStream,Ie=(0,this.internal.getFilters)();Ie.indexOf("FlateEncode")!==-1;)Ie.splice(Ie.indexOf("FlateEncode"),1);G.objectId=this.internal.newObject();var Ve=[];if(Ve.push({key:"Type",value:"/XObject"}),Ve.push({key:"Subtype",value:"/Image"}),Ve.push({key:"Width",value:G.width}),Ve.push({key:"Height",value:G.height}),G.colorSpace===I.INDEXED?Ve.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(G.palette.length/3-1)+" "+("sMask"in G&&G.sMask!==void 0?G.objectId+2:G.objectId+1)+" 0 R]"}):(Ve.push({key:"ColorSpace",value:"/"+G.colorSpace}),G.colorSpace===I.DEVICE_CMYK&&Ve.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Ve.push({key:"BitsPerComponent",value:G.bitsPerComponent}),"decodeParameters"in G&&G.decodeParameters!==void 0&&Ve.push({key:"DecodeParms",value:"<<"+G.decodeParameters+">>"}),"transparency"in G&&Array.isArray(G.transparency)){for(var Fe="",Le=0,Ae=G.transparency.length;Le<Ae;Le++)Fe+=G.transparency[Le]+" "+G.transparency[Le]+" ";Ve.push({key:"Mask",value:"["+Fe+"]"})}G.sMask!==void 0&&Ve.push({key:"SMask",value:G.objectId+1+" 0 R"});var Pe=G.filter!==void 0?["/"+G.filter]:void 0;if(j({data:G.data,additionalKeyValues:Ve,alreadyAppliedFilters:Pe,objectId:G.objectId}),ve("endobj"),"sMask"in G&&G.sMask!==void 0){var re="/Predictor "+G.predictor+" /Colors 1 /BitsPerComponent "+G.bitsPerComponent+" /Columns "+G.width,F={width:G.width,height:G.height,colorSpace:"DeviceGray",bitsPerComponent:G.bitsPerComponent,decodeParameters:re,data:G.sMask};"filter"in G&&(F.filter=G.filter),te.call(this,F)}if(G.colorSpace===I.INDEXED){var he=this.internal.newObject();j({data:Y(new Uint8Array(G.palette)),objectId:he}),ve("endobj")}},l=function(){var te=this.internal.collections.addImage_images;for(var G in te)u.call(this,te[G])},c=function(){var te,G=this.internal.collections.addImage_images,ve=this.internal.write;for(var j in G)ve("/I"+(te=G[j]).index,te.objectId,"0","R")},d=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",c))},g=function(){var te=this.internal.collections.addImage_images;return d.call(this),te},y=function(){return Object.keys(this.internal.collections.addImage_images).length},S=function(te){return typeof o["process"+te.toUpperCase()]=="function"},E=function(te){return Lr(te)==="object"&&te.nodeType===1},A=function(te,G){if(te.nodeName==="IMG"&&te.hasAttribute("src")){var ve=""+te.getAttribute("src");if(ve.indexOf("data:image/")===0)return Mh(unescape(ve).split("base64,").pop());var j=o.loadFile(ve,!0);if(j!==void 0)return j}if(te.nodeName==="CANVAS"){if(te.width===0||te.height===0)throw new Error("Given canvas must have data. Canvas width: "+te.width+", height: "+te.height);var Ie;switch(G){case"PNG":Ie="image/png";break;case"WEBP":Ie="image/webp";break;case"JPEG":case"JPG":default:Ie="image/jpeg"}return Mh(te.toDataURL(Ie,1).split("base64,").pop())}},x=function(te){var G=this.internal.collections.addImage_images;if(G){for(var ve in G)if(te===G[ve].alias)return G[ve]}},R=function(te,G,ve){return te||G||(te=-96,G=-96),te<0&&(te=-1*ve.width*72/te/this.internal.scaleFactor),G<0&&(G=-1*ve.height*72/G/this.internal.scaleFactor),te===0&&(te=G*ve.width/ve.height),G===0&&(G=te*ve.height/ve.width),[te,G]},M=function(te,G,ve,j,Ie,Ve){var Fe=R.call(this,ve,j,Ie),Le=this.internal.getCoordinateString,Ae=this.internal.getVerticalCoordinateString,Pe=g.call(this);if(ve=Fe[0],j=Fe[1],Pe[Ie.index]=Ie,Ve){Ve*=Math.PI/180;var re=Math.cos(Ve),F=Math.sin(Ve),he=function(pe){return pe.toFixed(4)},fe=[he(re),he(F),he(-1*F),he(re),0,0,"cm"]}this.internal.write("q"),Ve?(this.internal.write([1,"0","0",1,Le(te),Ae(G+j),"cm"].join(" ")),this.internal.write(fe.join(" ")),this.internal.write([Le(ve),"0","0",Le(j),"0","0","cm"].join(" "))):this.internal.write([Le(ve),"0","0",Le(j),Le(te),Ae(G+j),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Ie.index+" Do"),this.internal.write("Q")},I=o.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};o.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var O=o.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},W=o.__addimage__.sHashCode=function(te){var G,ve,j=0;if(typeof te=="string")for(ve=te.length,G=0;G<ve;G++)j=(j<<5)-j+te.charCodeAt(G),j|=0;else if(xe(te))for(ve=te.byteLength/2,G=0;G<ve;G++)j=(j<<5)-j+te[G],j|=0;return j},K=o.__addimage__.validateStringAsBase64=function(te){(te=te||"").toString().trim();var G=!0;return te.length===0&&(G=!1),te.length%4!=0&&(G=!1),/^[A-Za-z0-9+/]+$/.test(te.substr(0,te.length-2))===!1&&(G=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(te.substr(-2))===!1&&(G=!1),G},de=o.__addimage__.extractImageFromDataUrl=function(te){if(te==null||!(te=te.trim()).startsWith("data:"))return null;var G=te.indexOf(",");return G<0?null:te.substring(0,G).trim().endsWith("base64")?te.substring(G+1):null},ie=o.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};o.__addimage__.isArrayBuffer=function(te){return ie()&&te instanceof ArrayBuffer};var xe=o.__addimage__.isArrayBufferView=function(te){return ie()&&typeof Uint32Array<"u"&&(te instanceof Int8Array||te instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&te instanceof Uint8ClampedArray||te instanceof Int16Array||te instanceof Uint16Array||te instanceof Int32Array||te instanceof Uint32Array||te instanceof Float32Array||te instanceof Float64Array)},Z=o.__addimage__.binaryStringToUint8Array=function(te){for(var G=te.length,ve=new Uint8Array(G),j=0;j<G;j++)ve[j]=te.charCodeAt(j);return ve},Y=o.__addimage__.arrayBufferToBinaryString=function(te){for(var G="",ve=xe(te)?te:new Uint8Array(te),j=0;j<ve.length;j+=8192)G+=String.fromCharCode.apply(null,ve.subarray(j,j+8192));return G};o.addImage=function(){var te,G,ve,j,Ie,Ve,Fe,Le,Ae;if(typeof arguments[1]=="number"?(G=t,ve=arguments[1],j=arguments[2],Ie=arguments[3],Ve=arguments[4],Fe=arguments[5],Le=arguments[6],Ae=arguments[7]):(G=arguments[1],ve=arguments[2],j=arguments[3],Ie=arguments[4],Ve=arguments[5],Fe=arguments[6],Le=arguments[7],Ae=arguments[8]),Lr(te=arguments[0])==="object"&&!E(te)&&"imageData"in te){var Pe=te;te=Pe.imageData,G=Pe.format||G||t,ve=Pe.x||ve||0,j=Pe.y||j||0,Ie=Pe.w||Pe.width||Ie,Ve=Pe.h||Pe.height||Ve,Fe=Pe.alias||Fe,Le=Pe.compression||Le,Ae=Pe.rotation||Pe.angle||Ae}var re=this.internal.getFilters();if(Le===void 0&&re.indexOf("FlateEncode")!==-1&&(Le="SLOW"),isNaN(ve)||isNaN(j))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var F=me.call(this,te,G,Fe,Le);return M.call(this,ve,j,Ie,Ve,F,Ae),this};var me=function(te,G,ve,j){var Ie,Ve,Fe;if(typeof te=="string"&&i(te)===t){te=unescape(te);var Le=Ne(te,!1);(Le!==""||(Le=o.loadFile(te,!0))!==void 0)&&(te=Le)}if(E(te)&&(te=A(te,G)),G=i(te,G),!S(G))throw new Error("addImage does not support files of type '"+G+"', please ensure that a plugin for '"+G+"' support is added.");if(((Fe=ve)==null||Fe.length===0)&&(ve=(function(Ae){return typeof Ae=="string"||xe(Ae)?W(Ae):xe(Ae.data)?W(Ae.data):null})(te)),(Ie=x.call(this,ve))||(ie()&&(te instanceof Uint8Array||G==="RGBA"||(Ve=te,te=Z(te))),Ie=this["process"+G.toUpperCase()](te,y.call(this),ve,(function(Ae){return Ae&&typeof Ae=="string"&&(Ae=Ae.toUpperCase()),Ae in o.image_compression?Ae:O.NONE})(j),Ve)),!Ie)throw new Error("An unknown error occurred whilst processing the image.");return Ie},Ne=o.__addimage__.convertBase64ToBinaryString=function(te,G){G=typeof G!="boolean"||G;var ve,j="";if(typeof te=="string"){var Ie;ve=(Ie=de(te))!==null&&Ie!==void 0?Ie:te;try{j=Mh(ve)}catch(Ve){if(G)throw K(ve)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Ve.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return j};o.getImageProperties=function(te){var G,ve,j="";if(E(te)&&(te=A(te)),typeof te=="string"&&i(te)===t&&((j=Ne(te,!1))===""&&(j=o.loadFile(te)||""),te=j),ve=i(te),!S(ve))throw new Error("addImage does not support files of type '"+ve+"', please ensure that a plugin for '"+ve+"' support is added.");if(!ie()||te instanceof Uint8Array||(te=Z(te)),!(G=this["process"+ve.toUpperCase()](te)))throw new Error("An unknown error occurred whilst processing the image");return G.fileType=ve,G}})(Bn.API),(function(o){var t=function(e){if(e!==void 0&&e!="")return!0};Bn.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),o.events.push(["putPage",function(e){for(var i,u,l,c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString,g=this.internal.getPageInfoByObjId(e.objId),y=e.pageContext.annotations,S=!1,E=0;E<y.length&&!S;E++)switch((i=y[E]).type){case"link":(t(i.options.url)||t(i.options.pageNumber))&&(S=!0);break;case"reference":case"text":case"freetext":S=!0}if(S!=0){this.internal.write("/Annots [");for(var A=0;A<y.length;A++){i=y[A];var x=this.internal.pdfEscape,R=this.internal.getEncryptor(e.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var M=this.internal.newAdditionalObject(),I=this.internal.newAdditionalObject(),O=this.internal.getEncryptor(M.objId),W=i.title||"Note";l="<</Type /Annot /Subtype /Text "+(u="/Rect ["+c(i.bounds.x)+" "+d(i.bounds.y+i.bounds.h)+" "+c(i.bounds.x+i.bounds.w)+" "+d(i.bounds.y)+"] ")+"/Contents ("+x(O(i.contents))+")",l+=" /Popup "+I.objId+" 0 R",l+=" /P "+g.objId+" 0 R",l+=" /T ("+x(O(W))+") >>",M.content=l;var K=M.objId+" 0 R";l="<</Type /Annot /Subtype /Popup "+(u="/Rect ["+c(i.bounds.x+30)+" "+d(i.bounds.y+i.bounds.h)+" "+c(i.bounds.x+i.bounds.w+30)+" "+d(i.bounds.y)+"] ")+" /Parent "+K,i.open&&(l+=" /Open true"),l+=" >>",I.content=l,this.internal.write(M.objId,"0 R",I.objId,"0 R");break;case"freetext":u="/Rect ["+c(i.bounds.x)+" "+d(i.bounds.y)+" "+c(i.bounds.x+i.bounds.w)+" "+d(i.bounds.y+i.bounds.h)+"] ";var de=i.color||"#000000";l="<</Type /Annot /Subtype /FreeText "+u+"/Contents ("+x(R(i.contents))+")",l+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+de+")",l+=" /Border [0 0 0]",l+=" >>",this.internal.write(l);break;case"link":if(i.options.name){var ie=this.annotations._nameMap[i.options.name];i.options.pageNumber=ie.page,i.options.top=ie.y}else i.options.top||(i.options.top=0);if(u="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",l="",i.options.url)l="<</Type /Annot /Subtype /Link "+u+"/Border [0 0 0] /A <</S /URI /URI ("+x(R(i.options.url))+") >>";else if(i.options.pageNumber)switch(l="<</Type /Annot /Subtype /Link "+u+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":l+=" /Fit]";break;case"FitH":l+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,l+=" /FitV "+i.options.left+"]";break;case"XYZ":default:var xe=d(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),l+=" /XYZ "+i.options.left+" "+xe+" "+i.options.zoom+"]"}l!=""&&(l+=" >>",this.internal.write(l))}}this.internal.write("]")}}]),o.createAnnotation=function(e){var i=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":i.pageContext.annotations.push(e)}},o.link=function(e,i,u,l,c){var d=this.internal.getCurrentPageInfo(),g=this.internal.getCoordinateString,y=this.internal.getVerticalCoordinateString;d.pageContext.annotations.push({finalBounds:{x:g(e),y:y(i),w:g(e+u),h:y(i+l)},options:c,type:"link"})},o.textWithLink=function(e,i,u,l){var c,d,g=this.getTextWidth(e),y=this.internal.getLineHeight()/this.internal.scaleFactor;if(l.maxWidth!==void 0){d=l.maxWidth;var S=this.splitTextToSize(e,d).length;c=Math.ceil(y*S)}else d=g,c=y;return this.text(e,i,u,l),u+=.2*y,l.align==="center"&&(i-=g/2),l.align==="right"&&(i-=g),this.link(i,u-y,d,c,l),g},o.getTextWidth=function(e){var i=this.internal.getFontSize();return this.getStringUnitWidth(e)*i/this.internal.scaleFactor}})(Bn.API),(function(o){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},u=[1570,1571,1573,1575];o.__arabicParser__={};var l=o.__arabicParser__.isInArabicSubstitutionA=function(M){return t[M.charCodeAt(0)]!==void 0},c=o.__arabicParser__.isArabicLetter=function(M){return typeof M=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(M)},d=o.__arabicParser__.isArabicEndLetter=function(M){return c(M)&&l(M)&&t[M.charCodeAt(0)].length<=2},g=o.__arabicParser__.isArabicAlfLetter=function(M){return c(M)&&u.indexOf(M.charCodeAt(0))>=0};o.__arabicParser__.arabicLetterHasIsolatedForm=function(M){return c(M)&&l(M)&&t[M.charCodeAt(0)].length>=1};var y=o.__arabicParser__.arabicLetterHasFinalForm=function(M){return c(M)&&l(M)&&t[M.charCodeAt(0)].length>=2};o.__arabicParser__.arabicLetterHasInitialForm=function(M){return c(M)&&l(M)&&t[M.charCodeAt(0)].length>=3};var S=o.__arabicParser__.arabicLetterHasMedialForm=function(M){return c(M)&&l(M)&&t[M.charCodeAt(0)].length==4},E=o.__arabicParser__.resolveLigatures=function(M){var I=0,O=e,W="",K=0;for(I=0;I<M.length;I+=1)O[M.charCodeAt(I)]!==void 0?(K++,typeof(O=O[M.charCodeAt(I)])=="number"&&(W+=String.fromCharCode(O),O=e,K=0),I===M.length-1&&(O=e,W+=M.charAt(I-(K-1)),I-=K-1,K=0)):(O=e,W+=M.charAt(I-K),I-=K,K=0);return W};o.__arabicParser__.isArabicDiacritic=function(M){return M!==void 0&&i[M.charCodeAt(0)]!==void 0};var A=o.__arabicParser__.getCorrectForm=function(M,I,O){return c(M)?l(M)===!1?-1:!y(M)||!c(I)&&!c(O)||!c(O)&&d(I)||d(M)&&!c(I)||d(M)&&g(I)||d(M)&&d(I)?0:S(M)&&c(I)&&!d(I)&&c(O)&&y(O)?3:d(M)||!c(O)?1:2:-1},x=function(M){var I=0,O=0,W=0,K="",de="",ie="",xe=(M=M||"").split("\\s+"),Z=[];for(I=0;I<xe.length;I+=1){for(Z.push(""),O=0;O<xe[I].length;O+=1)K=xe[I][O],de=xe[I][O-1],ie=xe[I][O+1],c(K)?(W=A(K,de,ie),Z[I]+=W!==-1?String.fromCharCode(t[K.charCodeAt(0)][W]):K):Z[I]+=K;Z[I]=E(Z[I])}return Z.join(" ")},R=o.__arabicParser__.processArabic=o.processArabic=function(){var M,I=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,O=[];if(Array.isArray(I)){var W=0;for(O=[],W=0;W<I.length;W+=1)Array.isArray(I[W])?O.push([x(I[W][0]),I[W][1],I[W][2]]):O.push([x(I[W])]);M=O}else M=x(I);return typeof arguments[0]=="string"?M:(arguments[0].text=M,arguments[0])};o.events.push(["preProcessText",R])})(Bn.API),Bn.API.autoPrint=function(o){var t;switch((o=o||{}).variant=o.variant||"non-conform",o.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",(function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+t+" 0 R")}))}return this},(function(o){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(d){e=d}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(d){i=isNaN(d)||Number.isInteger(d)===!1||d<0?150:d,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var u=300;Object.defineProperty(this,"height",{get:function(){return u},set:function(d){u=isNaN(d)||Number.isInteger(d)===!1||d<0?300:d,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=u+1)}});var l=[];Object.defineProperty(this,"childNodes",{get:function(){return l},set:function(d){l=d}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(d){c=d}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,i){var u;if((e=e||"2d")!=="2d")return null;for(u in i)this.pdf.context2d.hasOwnProperty(u)&&(this.pdf.context2d[u]=i[u]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},o.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(Bn.API),(function(o){var t={left:0,top:0,bottom:0,right:0},e=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),u.call(this))},u=function(){this.internal.__cell__.lastCell=new l,this.internal.__cell__.pages=1},l=function(){var g=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return g},set:function(M){g=M}});var y=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return y},set:function(M){y=M}});var S=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return S},set:function(M){S=M}});var E=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return E},set:function(M){E=M}});var A=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return A},set:function(M){A=M}});var x=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return x},set:function(M){x=M}});var R=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return R},set:function(M){R=M}}),this};l.prototype.clone=function(){return new l(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},l.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},o.setHeaderFunction=function(g){return i.call(this),this.internal.__cell__.headerFunction=typeof g=="function"?g:void 0,this},o.getTextDimensions=function(g,y){i.call(this);var S=(y=y||{}).fontSize||this.getFontSize(),E=y.font||this.getFont(),A=y.scaleFactor||this.internal.scaleFactor,x=0,R=0,M=0,I=this;if(!Array.isArray(g)&&typeof g!="string"){if(typeof g!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");g=String(g)}var O=y.maxWidth;O>0?typeof g=="string"?g=this.splitTextToSize(g,O):Object.prototype.toString.call(g)==="[object Array]"&&(g=g.reduce((function(K,de){return K.concat(I.splitTextToSize(de,O))}),[])):g=Array.isArray(g)?g:[g];for(var W=0;W<g.length;W++)x<(M=this.getStringUnitWidth(g[W],{font:E})*S)&&(x=M);return x!==0&&(R=g.length),{w:x/=A,h:Math.max((R*S*this.getLineHeightFactor()-S*(this.getLineHeightFactor()-1))/A,0)}},o.cellAddPage=function(){i.call(this),this.addPage();var g=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new l(g.left,g.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=o.cell=function(){var g;g=arguments[0]instanceof l?arguments[0]:new l(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var y=this.internal.__cell__.lastCell,S=this.internal.__cell__.padding,E=this.internal.__cell__.margins||t,A=this.internal.__cell__.tableHeaderRow,x=this.internal.__cell__.printHeaders;return y.lineNumber!==void 0&&(y.lineNumber===g.lineNumber?(g.x=(y.x||0)+(y.width||0),g.y=y.y||0):y.y+y.height+g.height+E.bottom>this.getPageHeight()?(this.cellAddPage(),g.y=E.top,x&&A&&(this.printHeaderRow(g.lineNumber,!0),g.y+=A[0].height)):g.y=y.y+y.height||g.y),g.text[0]!==void 0&&(this.rect(g.x,g.y,g.width,g.height,e===!0?"FD":void 0),g.align==="right"?this.text(g.text,g.x+g.width-S,g.y+S,{align:"right",baseline:"top"}):g.align==="center"?this.text(g.text,g.x+g.width/2,g.y+S,{align:"center",baseline:"top",maxWidth:g.width-S-S}):this.text(g.text,g.x+S,g.y+S,{align:"left",baseline:"top",maxWidth:g.width-S-S})),this.internal.__cell__.lastCell=g,this};o.table=function(g,y,S,E,A){if(i.call(this),!S)throw new Error("No data for PDF table.");var x,R,M,I,O=[],W=[],K=[],de={},ie={},xe=[],Z=[],Y=(A=A||{}).autoSize||!1,me=A.printHeaders!==!1,Ne=A.css&&A.css["font-size"]!==void 0?16*A.css["font-size"]:A.fontSize||12,te=A.margins||Object.assign({width:this.getPageWidth()},t),G=typeof A.padding=="number"?A.padding:3,ve=A.headerBackgroundColor||"#c8c8c8",j=A.headerTextColor||"#000";if(u.call(this),this.internal.__cell__.printHeaders=me,this.internal.__cell__.margins=te,this.internal.__cell__.table_font_size=Ne,this.internal.__cell__.padding=G,this.internal.__cell__.headerBackgroundColor=ve,this.internal.__cell__.headerTextColor=j,this.setFontSize(Ne),E==null)W=O=Object.keys(S[0]),K=O.map((function(){return"left"}));else if(Array.isArray(E)&&Lr(E[0])==="object")for(O=E.map((function(Pe){return Pe.name})),W=E.map((function(Pe){return Pe.prompt||Pe.name||""})),K=E.map((function(Pe){return Pe.align||"left"})),x=0;x<E.length;x+=1)ie[E[x].name]=E[x].width*(19.049976/25.4);else Array.isArray(E)&&typeof E[0]=="string"&&(W=O=E,K=O.map((function(){return"left"})));if(Y||Array.isArray(E)&&typeof E[0]=="string")for(x=0;x<O.length;x+=1){for(de[I=O[x]]=S.map((function(Pe){return Pe[I]})),this.setFont(void 0,"bold"),xe.push(this.getTextDimensions(W[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),R=de[I],this.setFont(void 0,"normal"),M=0;M<R.length;M+=1)xe.push(this.getTextDimensions(R[M],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ie[I]=Math.max.apply(null,xe)+G+G,xe=[]}if(me){var Ie={};for(x=0;x<O.length;x+=1)Ie[O[x]]={},Ie[O[x]].text=W[x],Ie[O[x]].align=K[x];var Ve=d.call(this,Ie,ie);Z=O.map((function(Pe){return new l(g,y,ie[Pe],Ve,Ie[Pe].text,void 0,Ie[Pe].align)})),this.setTableHeaderRow(Z),this.printHeaderRow(1,!1)}var Fe=E.reduce((function(Pe,re){return Pe[re.name]=re.align,Pe}),{});for(x=0;x<S.length;x+=1){"rowStart"in A&&A.rowStart instanceof Function&&A.rowStart({row:x,data:S[x]},this);var Le=d.call(this,S[x],ie);for(M=0;M<O.length;M+=1){var Ae=S[x][O[M]];"cellStart"in A&&A.cellStart instanceof Function&&A.cellStart({row:x,col:M,data:Ae},this),c.call(this,new l(g,y,ie[O[M]],Le,Ae,x+2,Fe[O[M]]))}}return this.internal.__cell__.table_x=g,this.internal.__cell__.table_y=y,this};var d=function(g,y){var S=this.internal.__cell__.padding,E=this.internal.__cell__.table_font_size,A=this.internal.scaleFactor;return Object.keys(g).map((function(x){var R=g[x];return this.splitTextToSize(R.hasOwnProperty("text")?R.text:R,y[x]-S-S)}),this).map((function(x){return this.getLineHeightFactor()*x.length*E/A+S+S}),this).reduce((function(x,R){return Math.max(x,R)}),0)};o.setTableHeaderRow=function(g){i.call(this),this.internal.__cell__.tableHeaderRow=g},o.printHeaderRow=function(g,y){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var S;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var E=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new l(E[0],E[1],E[2],E[3],void 0,-1)}this.setFont(void 0,"bold");for(var A=[],x=0;x<this.internal.__cell__.tableHeaderRow.length;x+=1){S=this.internal.__cell__.tableHeaderRow[x].clone(),y&&(S.y=this.internal.__cell__.margins.top||0,A.push(S)),S.lineNumber=g;var R=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,S),this.setTextColor(R)}A.length>0&&this.setTableHeaderRow(A),this.setFont(void 0,"normal"),e=!1}})(Bn.API);var bg={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},xg=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Cd=wg(xg),Lg=[100,200,300,400,500,600,700,800,900],r5=wg(Lg);function Sd(o){var t=o.family.replace(/"|'/g,"").toLowerCase(),e=(function(l){return bg[l=l||"normal"]?l:"normal"})(o.style),i=(function(l){if(!l)return 400;if(typeof l=="number")return l>=100&&l<=900&&l%100==0?l:400;if(/^\d00$/.test(l))return parseInt(l);switch(l){case"bold":return 700;case"normal":default:return 400}})(o.weight),u=(function(l){return typeof Cd[l=l||"normal"]=="number"?l:"normal"})(o.stretch);return{family:t,style:e,weight:i,stretch:u,src:o.src||[],ref:o.ref||{name:t,style:[u,e,i].join(" ")}}}function Z0(o,t,e,i){var u;for(u=e;u>=0&&u<t.length;u+=i)if(o[t[u]])return o[t[u]];for(u=e;u>=0&&u<t.length;u-=i)if(o[t[u]])return o[t[u]]}var i5={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},K0={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function J0(o){return[o.stretch,o.style,o.weight,o.family].join(" ")}function s5(o,t,e){for(var i=(e=e||{}).defaultFontFamily||"times",u=Object.assign({},i5,e.genericFontFamilies||{}),l=null,c=null,d=0;d<t.length;++d)if(u[(l=Sd(t[d])).family]&&(l.family=u[l.family]),o.hasOwnProperty(l.family)){c=o[l.family];break}if(!(c=c||o[i]))throw new Error("Could not find a font-family for the rule '"+J0(l)+"' and default family '"+i+"'.");if(c=(function(g,y){if(y[g])return y[g];var S=Cd[g],E=S<=Cd.normal?-1:1,A=Z0(y,xg,S,E);if(!A)throw new Error("Could not find a matching font-stretch value for "+g);return A})(l.stretch,c),c=(function(g,y){if(y[g])return y[g];for(var S=bg[g],E=0;E<S.length;++E)if(y[S[E]])return y[S[E]];throw new Error("Could not find a matching font-style for "+g)})(l.style,c),!(c=(function(g,y){if(y[g])return y[g];if(g===400&&y[500])return y[500];if(g===500&&y[400])return y[400];var S=r5[g],E=Z0(y,Lg,S,g<400?-1:1);if(!E)throw new Error("Could not find a matching font-weight for value "+g);return E})(l.weight,c)))throw new Error("Failed to resolve a font for the rule '"+J0(l)+"'.");return c}function Y0(o){return o.trimLeft()}function a5(o,t){for(var e=0;e<o.length;){if(o.charAt(e)===t)return[o.substring(0,e),o.substring(e+1)];e+=1}return null}function o5(o){var t=o.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],o.substring(t[0].length)]}var Lc,X0,Q0,Yf=["times"];(function(o){var t,e,i,u,l,c,d,g,y,S=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new g,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new c,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new c,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};o.events.push(["initialized",function(){this.context2d=new E(this),t=this.internal.f2,e=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,u=this.internal.getHorizontalCoordinate,l=this.internal.getVerticalCoordinate,c=this.internal.Point,d=this.internal.Rectangle,g=this.internal.Matrix,y=new S}]);var E=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var he=F;Object.defineProperty(this,"pdf",{get:function(){return he}});var fe=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return fe},set:function(je){fe=!!je}});var pe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return pe},set:function(je){pe=!!je}});var Be=0;Object.defineProperty(this,"posX",{get:function(){return Be},set:function(je){isNaN(je)||(Be=je)}});var Ke=0;Object.defineProperty(this,"posY",{get:function(){return Ke},set:function(je){isNaN(je)||(Ke=je)}}),Object.defineProperty(this,"margin",{get:function(){return y.margin},set:function(je){var oe;typeof je=="number"?oe=[je,je,je,je]:((oe=new Array(4))[0]=je[0],oe[1]=je.length>=2?je[1]:oe[0],oe[2]=je.length>=3?je[2]:oe[0],oe[3]=je.length>=4?je[3]:oe[1]),y.margin=oe}});var We=!1;Object.defineProperty(this,"autoPaging",{get:function(){return We},set:function(je){We=je}});var Ye=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ye},set:function(je){Ye=je}});var Tt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Tt},set:function(je){Tt=je}}),Object.defineProperty(this,"ctx",{get:function(){return y},set:function(je){je instanceof S&&(y=je)}}),Object.defineProperty(this,"path",{get:function(){return y.path},set:function(je){y.path=je}});var Ot=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ot},set:function(je){Ot=je}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(je){var oe;oe=A(je),this.ctx.fillStyle=oe.style,this.ctx.isFillTransparent=oe.a===0,this.ctx.fillOpacity=oe.a,this.pdf.setFillColor(oe.r,oe.g,oe.b,{a:oe.a}),this.pdf.setTextColor(oe.r,oe.g,oe.b,{a:oe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(je){var oe=A(je);this.ctx.strokeStyle=oe.style,this.ctx.isStrokeTransparent=oe.a===0,this.ctx.strokeOpacity=oe.a,oe.a===0?this.pdf.setDrawColor(255,255,255):(oe.a,this.pdf.setDrawColor(oe.r,oe.g,oe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(je){["butt","round","square"].indexOf(je)!==-1&&(this.ctx.lineCap=je,this.pdf.setLineCap(je))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(je){isNaN(je)||(this.ctx.lineWidth=je,this.pdf.setLineWidth(je))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(je){["bevel","round","miter"].indexOf(je)!==-1&&(this.ctx.lineJoin=je,this.pdf.setLineJoin(je))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(je){isNaN(je)||(this.ctx.miterLimit=je,this.pdf.setMiterLimit(je))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(je){this.ctx.textBaseline=je}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(je){["right","end","center","left","start"].indexOf(je)!==-1&&(this.ctx.textAlign=je)}});var Gt=null;function qt(je,oe){if(Gt===null){var Ee=(function(we){var Te=[];return Object.keys(we).forEach((function(st){we[st].forEach((function(ht){var qe=null;switch(ht){case"bold":qe={family:st,weight:"bold"};break;case"italic":qe={family:st,style:"italic"};break;case"bolditalic":qe={family:st,weight:"bold",style:"italic"};break;case"":case"normal":qe={family:st}}qe!==null&&(qe.ref={name:st,style:ht},Te.push(qe))}))})),Te})(je.getFontList());Gt=(function(we){for(var Te={},st=0;st<we.length;++st){var ht=Sd(we[st]),qe=ht.family,Lt=ht.stretch,It=ht.style,Bt=ht.weight;Te[qe]=Te[qe]||{},Te[qe][Lt]=Te[qe][Lt]||{},Te[qe][Lt][It]=Te[qe][Lt][It]||{},Te[qe][Lt][It][Bt]=ht}return Te})(Ee.concat(oe))}return Gt}var $=null;Object.defineProperty(this,"fontFaces",{get:function(){return $},set:function(je){Gt=null,$=je}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(je){var oe;if(this.ctx.font=je,(oe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(je))!==null){var Ee=oe[1];oe[2];var we=oe[3],Te=oe[4];oe[5];var st=oe[6],ht=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Te)[2];Te=Math.floor(ht==="px"?parseFloat(Te)*this.pdf.internal.scaleFactor:ht==="em"?parseFloat(Te)*this.pdf.getFontSize():parseFloat(Te)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Te);var qe=(function(on){var wn,Vt,ur=[],cn=on.trim();if(cn==="")return Yf;if(cn in K0)return[K0[cn]];for(;cn!=="";){switch(Vt=null,wn=(cn=Y0(cn)).charAt(0)){case'"':case"'":Vt=a5(cn.substring(1),wn);break;default:Vt=o5(cn)}if(Vt===null||(ur.push(Vt[0]),(cn=Y0(Vt[1]))!==""&&cn.charAt(0)!==","))return Yf;cn=cn.replace(/^,/,"")}return ur})(st);if(this.fontFaces){var Lt=s5(qt(this.pdf,this.fontFaces),qe.map((function(on){return{family:on,stretch:"normal",weight:we,style:Ee}})));this.pdf.setFont(Lt.ref.name,Lt.ref.style)}else{var It="";(we==="bold"||parseInt(we,10)>=700||Ee==="bold")&&(It="bold"),Ee==="italic"&&(It+="italic"),It.length===0&&(It="normal");for(var Bt="",Ut={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},an=0;an<qe.length;an++){if(this.pdf.internal.getFont(qe[an],It,{noFallback:!0,disableWarning:!0})!==void 0){Bt=qe[an];break}if(It==="bolditalic"&&this.pdf.internal.getFont(qe[an],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Bt=qe[an],It="bold";else if(this.pdf.internal.getFont(qe[an],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Bt=qe[an],It="normal";break}}if(Bt===""){for(var tn=0;tn<qe.length;tn++)if(Ut[qe[tn]]){Bt=Ut[qe[tn]];break}}Bt=Bt===""?"Times":Bt,this.pdf.setFont(Bt,It)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(je){this.ctx.globalCompositeOperation=je}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(je){this.ctx.globalAlpha=je}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(je){this.ctx.lineDashOffset=je,re.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(je){this.ctx.lineDash=je,re.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(je){this.ctx.ignoreClearRect=!!je}})};E.prototype.setLineDash=function(F){this.lineDash=F},E.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},E.prototype.fill=function(){de.call(this,"fill",!1)},E.prototype.stroke=function(){de.call(this,"stroke",!1)},E.prototype.beginPath=function(){this.path=[{type:"begin"}]},E.prototype.moveTo=function(F,he){if(isNaN(F)||isNaN(he))throw Or.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var fe=this.ctx.transform.applyToPoint(new c(F,he));this.path.push({type:"mt",x:fe.x,y:fe.y}),this.ctx.lastPoint=new c(F,he)},E.prototype.closePath=function(){var F=new c(0,0),he=0;for(he=this.path.length-1;he!==-1;he--)if(this.path[he].type==="begin"&&Lr(this.path[he+1])==="object"&&typeof this.path[he+1].x=="number"){F=new c(this.path[he+1].x,this.path[he+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(F.x,F.y)},E.prototype.lineTo=function(F,he){if(isNaN(F)||isNaN(he))throw Or.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var fe=this.ctx.transform.applyToPoint(new c(F,he));this.path.push({type:"lt",x:fe.x,y:fe.y}),this.ctx.lastPoint=new c(fe.x,fe.y)},E.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),de.call(this,null,!0)},E.prototype.quadraticCurveTo=function(F,he,fe,pe){if(isNaN(fe)||isNaN(pe)||isNaN(F)||isNaN(he))throw Or.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Be=this.ctx.transform.applyToPoint(new c(fe,pe)),Ke=this.ctx.transform.applyToPoint(new c(F,he));this.path.push({type:"qct",x1:Ke.x,y1:Ke.y,x:Be.x,y:Be.y}),this.ctx.lastPoint=new c(Be.x,Be.y)},E.prototype.bezierCurveTo=function(F,he,fe,pe,Be,Ke){if(isNaN(Be)||isNaN(Ke)||isNaN(F)||isNaN(he)||isNaN(fe)||isNaN(pe))throw Or.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var We=this.ctx.transform.applyToPoint(new c(Be,Ke)),Ye=this.ctx.transform.applyToPoint(new c(F,he)),Tt=this.ctx.transform.applyToPoint(new c(fe,pe));this.path.push({type:"bct",x1:Ye.x,y1:Ye.y,x2:Tt.x,y2:Tt.y,x:We.x,y:We.y}),this.ctx.lastPoint=new c(We.x,We.y)},E.prototype.arc=function(F,he,fe,pe,Be,Ke){if(isNaN(F)||isNaN(he)||isNaN(fe)||isNaN(pe)||isNaN(Be))throw Or.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ke=!!Ke,!this.ctx.transform.isIdentity){var We=this.ctx.transform.applyToPoint(new c(F,he));F=We.x,he=We.y;var Ye=this.ctx.transform.applyToPoint(new c(0,fe)),Tt=this.ctx.transform.applyToPoint(new c(0,0));fe=Math.sqrt(Math.pow(Ye.x-Tt.x,2)+Math.pow(Ye.y-Tt.y,2))}Math.abs(Be-pe)>=2*Math.PI&&(pe=0,Be=2*Math.PI),this.path.push({type:"arc",x:F,y:he,radius:fe,startAngle:pe,endAngle:Be,counterclockwise:Ke})},E.prototype.arcTo=function(F,he,fe,pe,Be){throw new Error("arcTo not implemented.")},E.prototype.rect=function(F,he,fe,pe){if(isNaN(F)||isNaN(he)||isNaN(fe)||isNaN(pe))throw Or.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,he),this.lineTo(F+fe,he),this.lineTo(F+fe,he+pe),this.lineTo(F,he+pe),this.lineTo(F,he),this.lineTo(F+fe,he),this.lineTo(F,he)},E.prototype.fillRect=function(F,he,fe,pe){if(isNaN(F)||isNaN(he)||isNaN(fe)||isNaN(pe))throw Or.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!x.call(this)){var Be={};this.lineCap!=="butt"&&(Be.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Be.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,he,fe,pe),this.fill(),Be.hasOwnProperty("lineCap")&&(this.lineCap=Be.lineCap),Be.hasOwnProperty("lineJoin")&&(this.lineJoin=Be.lineJoin)}},E.prototype.strokeRect=function(F,he,fe,pe){if(isNaN(F)||isNaN(he)||isNaN(fe)||isNaN(pe))throw Or.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");R.call(this)||(this.beginPath(),this.rect(F,he,fe,pe),this.stroke())},E.prototype.clearRect=function(F,he,fe,pe){if(isNaN(F)||isNaN(he)||isNaN(fe)||isNaN(pe))throw Or.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,he,fe,pe))},E.prototype.save=function(F){F=typeof F!="boolean"||F;for(var he=this.pdf.internal.getCurrentPageInfo().pageNumber,fe=0;fe<this.pdf.internal.getNumberOfPages();fe++)this.pdf.setPage(fe+1),this.pdf.internal.out("q");if(this.pdf.setPage(he),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var pe=new S(this.ctx);this.ctxStack.push(this.ctx),this.ctx=pe}},E.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var he=this.pdf.internal.getCurrentPageInfo().pageNumber,fe=0;fe<this.pdf.internal.getNumberOfPages();fe++)this.pdf.setPage(fe+1),this.pdf.internal.out("Q");this.pdf.setPage(he),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},E.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var A=function(F){var he,fe,pe,Be;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))he=0,fe=0,pe=0,Be=0;else{var Ke=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if(Ke!==null)he=parseInt(Ke[1]),fe=parseInt(Ke[2]),pe=parseInt(Ke[3]),Be=1;else if((Ke=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)he=parseInt(Ke[1]),fe=parseInt(Ke[2]),pe=parseInt(Ke[3]),Be=parseFloat(Ke[4]);else{if(Be=1,typeof F=="string"&&F.charAt(0)!=="#"){var We=new pg(F);F=We.ok?We.toHex():"#000000"}F.length===4?(he=F.substring(1,2),he+=he,fe=F.substring(2,3),fe+=fe,pe=F.substring(3,4),pe+=pe):(he=F.substring(1,3),fe=F.substring(3,5),pe=F.substring(5,7)),he=parseInt(he,16),fe=parseInt(fe,16),pe=parseInt(pe,16)}}return{r:he,g:fe,b:pe,a:Be,style:F}},x=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},R=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};E.prototype.fillText=function(F,he,fe,pe){if(isNaN(he)||isNaN(fe)||typeof F!="string")throw Or.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(pe=isNaN(pe)?void 0:pe,!x.call(this)){var Be=Le(this.ctx.transform.rotation),Ke=this.ctx.transform.scaleX;G.call(this,{text:F,x:he,y:fe,scale:Ke,angle:Be,align:this.textAlign,maxWidth:pe})}},E.prototype.strokeText=function(F,he,fe,pe){if(isNaN(he)||isNaN(fe)||typeof F!="string")throw Or.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!R.call(this)){pe=isNaN(pe)?void 0:pe;var Be=Le(this.ctx.transform.rotation),Ke=this.ctx.transform.scaleX;G.call(this,{text:F,x:he,y:fe,scale:Ke,renderingMode:"stroke",angle:Be,align:this.textAlign,maxWidth:pe})}},E.prototype.measureText=function(F){if(typeof F!="string")throw Or.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var he=this.pdf,fe=this.pdf.internal.scaleFactor,pe=he.internal.getFontSize(),Be=he.getStringUnitWidth(F)*pe/he.internal.scaleFactor,Ke=function(We){var Ye=(We=We||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ye}}),this};return new Ke({width:Be*=Math.round(96*fe/72*1e4)/1e4})},E.prototype.scale=function(F,he){if(isNaN(F)||isNaN(he))throw Or.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var fe=new g(F,0,0,he,0,0);this.ctx.transform=this.ctx.transform.multiply(fe)},E.prototype.rotate=function(F){if(isNaN(F))throw Or.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var he=new g(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply(he)},E.prototype.translate=function(F,he){if(isNaN(F)||isNaN(he))throw Or.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var fe=new g(1,0,0,1,F,he);this.ctx.transform=this.ctx.transform.multiply(fe)},E.prototype.transform=function(F,he,fe,pe,Be,Ke){if(isNaN(F)||isNaN(he)||isNaN(fe)||isNaN(pe)||isNaN(Be)||isNaN(Ke))throw Or.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var We=new g(F,he,fe,pe,Be,Ke);this.ctx.transform=this.ctx.transform.multiply(We)},E.prototype.setTransform=function(F,he,fe,pe,Be,Ke){F=isNaN(F)?1:F,he=isNaN(he)?0:he,fe=isNaN(fe)?0:fe,pe=isNaN(pe)?1:pe,Be=isNaN(Be)?0:Be,Ke=isNaN(Ke)?0:Ke,this.ctx.transform=new g(F,he,fe,pe,Be,Ke)};var M=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};E.prototype.drawImage=function(F,he,fe,pe,Be,Ke,We,Ye,Tt){var Ot=this.pdf.getImageProperties(F),Gt=1,qt=1,$=1,je=1;pe!==void 0&&Ye!==void 0&&($=Ye/pe,je=Tt/Be,Gt=Ot.width/pe*Ye/pe,qt=Ot.height/Be*Tt/Be),Ke===void 0&&(Ke=he,We=fe,he=0,fe=0),pe!==void 0&&Ye===void 0&&(Ye=pe,Tt=Be),pe===void 0&&Ye===void 0&&(Ye=Ot.width,Tt=Ot.height);for(var oe,Ee=this.ctx.transform.decompose(),we=Le(Ee.rotate.shx),Te=new g,st=(Te=(Te=(Te=Te.multiply(Ee.translate)).multiply(Ee.skew)).multiply(Ee.scale)).applyToRectangle(new d(Ke-he*$,We-fe*je,pe*Gt,Be*qt)),ht=I.call(this,st),qe=[],Lt=0;Lt<ht.length;Lt+=1)qe.indexOf(ht[Lt])===-1&&qe.push(ht[Lt]);if(K(qe),this.autoPaging)for(var It=qe[0],Bt=qe[qe.length-1],Ut=It;Ut<Bt+1;Ut++){this.pdf.setPage(Ut);var an=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],tn=Ut===1?this.posY+this.margin[0]:this.margin[0],on=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Vt=Ut===1?0:on+(Ut-2)*wn;if(this.ctx.clip_path.length!==0){var ur=this.path;oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=W(oe,this.posX+this.margin[3],-Vt+tn+this.ctx.prevPageLastElemOffset),ie.call(this,"fill",!0),this.path=ur}var cn=JSON.parse(JSON.stringify(st));cn=W([cn],this.posX+this.margin[3],-Vt+tn+this.ctx.prevPageLastElemOffset)[0];var Dr=(Ut>It||Ut<Bt)&&M.call(this);Dr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],an,wn,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",cn.x,cn.y,cn.w,cn.h,null,null,we),Dr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(F,"JPEG",st.x,st.y,st.w,st.h,null,null,we)};var I=function(F,he,fe){var pe=[];he=he||this.pdf.internal.pageSize.width,fe=fe||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Be=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":pe.push(Math.floor((F.y+Be)/fe)+1);break;case"arc":pe.push(Math.floor((F.y+Be-F.radius)/fe)+1),pe.push(Math.floor((F.y+Be+F.radius)/fe)+1);break;case"qct":var Ke=Ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);pe.push(Math.floor((Ke.y+Be)/fe)+1),pe.push(Math.floor((Ke.y+Ke.h+Be)/fe)+1);break;case"bct":var We=Pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);pe.push(Math.floor((We.y+Be)/fe)+1),pe.push(Math.floor((We.y+We.h+Be)/fe)+1);break;case"rect":pe.push(Math.floor((F.y+Be)/fe)+1),pe.push(Math.floor((F.y+F.h+Be)/fe)+1)}for(var Ye=0;Ye<pe.length;Ye+=1)for(;this.pdf.internal.getNumberOfPages()<pe[Ye];)O.call(this);return pe},O=function(){var F=this.fillStyle,he=this.strokeStyle,fe=this.font,pe=this.lineCap,Be=this.lineWidth,Ke=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=he,this.font=fe,this.lineCap=pe,this.lineWidth=Be,this.lineJoin=Ke},W=function(F,he,fe){for(var pe=0;pe<F.length;pe++)switch(F[pe].type){case"bct":F[pe].x2+=he,F[pe].y2+=fe;case"qct":F[pe].x1+=he,F[pe].y1+=fe;case"mt":case"lt":case"arc":default:F[pe].x+=he,F[pe].y+=fe}return F},K=function(F){return F.sort((function(he,fe){return he-fe}))},de=function(F,he){for(var fe,pe,Be=this.fillStyle,Ke=this.strokeStyle,We=this.lineCap,Ye=this.lineWidth,Tt=Math.abs(Ye*this.ctx.transform.scaleX),Ot=this.lineJoin,Gt=JSON.parse(JSON.stringify(this.path)),qt=JSON.parse(JSON.stringify(this.path)),$=[],je=0;je<qt.length;je++)if(qt[je].x!==void 0)for(var oe=I.call(this,qt[je]),Ee=0;Ee<oe.length;Ee+=1)$.indexOf(oe[Ee])===-1&&$.push(oe[Ee]);for(var we=0;we<$.length;we++)for(;this.pdf.internal.getNumberOfPages()<$[we];)O.call(this);if(K($),this.autoPaging)for(var Te=$[0],st=$[$.length-1],ht=Te;ht<st+1;ht++){this.pdf.setPage(ht),this.fillStyle=Be,this.strokeStyle=Ke,this.lineCap=We,this.lineWidth=Tt,this.lineJoin=Ot;var qe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Lt=ht===1?this.posY+this.margin[0]:this.margin[0],It=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ut=ht===1?0:It+(ht-2)*Bt;if(this.ctx.clip_path.length!==0){var an=this.path;fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=W(fe,this.posX+this.margin[3],-Ut+Lt+this.ctx.prevPageLastElemOffset),ie.call(this,F,!0),this.path=an}if(pe=JSON.parse(JSON.stringify(Gt)),this.path=W(pe,this.posX+this.margin[3],-Ut+Lt+this.ctx.prevPageLastElemOffset),he===!1||ht===0){var tn=(ht>Te||ht<st)&&M.call(this);tn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qe,Bt,null).clip().discardPath()),ie.call(this,F,he),tn&&this.pdf.restoreGraphicsState()}this.lineWidth=Ye}else this.lineWidth=Tt,ie.call(this,F,he),this.lineWidth=Ye;this.path=Gt},ie=function(F,he){if((F!=="stroke"||he||!R.call(this))&&(F==="stroke"||he||!x.call(this))){for(var fe,pe,Be=[],Ke=this.path,We=0;We<Ke.length;We++){var Ye=Ke[We];switch(Ye.type){case"begin":Be.push({begin:!0});break;case"close":Be.push({close:!0});break;case"mt":Be.push({start:Ye,deltas:[],abs:[]});break;case"lt":var Tt=Be.length;if(Ke[We-1]&&!isNaN(Ke[We-1].x)&&(fe=[Ye.x-Ke[We-1].x,Ye.y-Ke[We-1].y],Tt>0)){for(;Tt>=0;Tt--)if(Be[Tt-1].close!==!0&&Be[Tt-1].begin!==!0){Be[Tt-1].deltas.push(fe),Be[Tt-1].abs.push(Ye);break}}break;case"bct":fe=[Ye.x1-Ke[We-1].x,Ye.y1-Ke[We-1].y,Ye.x2-Ke[We-1].x,Ye.y2-Ke[We-1].y,Ye.x-Ke[We-1].x,Ye.y-Ke[We-1].y],Be[Be.length-1].deltas.push(fe);break;case"qct":var Ot=Ke[We-1].x+2/3*(Ye.x1-Ke[We-1].x),Gt=Ke[We-1].y+2/3*(Ye.y1-Ke[We-1].y),qt=Ye.x+2/3*(Ye.x1-Ye.x),$=Ye.y+2/3*(Ye.y1-Ye.y),je=Ye.x,oe=Ye.y;fe=[Ot-Ke[We-1].x,Gt-Ke[We-1].y,qt-Ke[We-1].x,$-Ke[We-1].y,je-Ke[We-1].x,oe-Ke[We-1].y],Be[Be.length-1].deltas.push(fe);break;case"arc":Be.push({deltas:[],abs:[],arc:!0}),Array.isArray(Be[Be.length-1].abs)&&Be[Be.length-1].abs.push(Ye)}}pe=he?null:F==="stroke"?"stroke":"fill";for(var Ee=!1,we=0;we<Be.length;we++)if(Be[we].arc)for(var Te=Be[we].abs,st=0;st<Te.length;st++){var ht=Te[st];ht.type==="arc"?Y.call(this,ht.x,ht.y,ht.radius,ht.startAngle,ht.endAngle,ht.counterclockwise,void 0,he,!Ee):ve.call(this,ht.x,ht.y),Ee=!0}else if(Be[we].close===!0)this.pdf.internal.out("h"),Ee=!1;else if(Be[we].begin!==!0){var qe=Be[we].start.x,Lt=Be[we].start.y;j.call(this,Be[we].deltas,qe,Lt),Ee=!0}pe&&me.call(this,pe),he&&Ne.call(this)}},xe=function(F){var he=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,fe=he*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-fe;case"top":return F+he-fe;case"hanging":return F+he-2*fe;case"middle":return F+he/2-fe;case"ideographic":return F;case"alphabetic":default:return F}},Z=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};E.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function(he,fe){this.colorStops.push([he,fe])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},E.prototype.createPattern=function(){return this.createLinearGradient()},E.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Y=function(F,he,fe,pe,Be,Ke,We,Ye,Tt){for(var Ot=Ve.call(this,fe,pe,Be,Ke),Gt=0;Gt<Ot.length;Gt++){var qt=Ot[Gt];Gt===0&&(Tt?te.call(this,qt.x1+F,qt.y1+he):ve.call(this,qt.x1+F,qt.y1+he)),Ie.call(this,F,he,qt.x2,qt.y2,qt.x3,qt.y3,qt.x4,qt.y4)}Ye?Ne.call(this):me.call(this,We)},me=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Ne=function(){this.pdf.clip(),this.pdf.discardPath()},te=function(F,he){this.pdf.internal.out(e(F)+" "+i(he)+" m")},G=function(F){var he;switch(F.align){case"right":case"end":he="right";break;case"center":he="center";break;case"left":case"start":default:he="left"}var fe=this.pdf.getTextDimensions(F.text),pe=xe.call(this,F.y),Be=Z.call(this,pe)-fe.h,Ke=this.ctx.transform.applyToPoint(new c(F.x,pe)),We=this.ctx.transform.decompose(),Ye=new g;Ye=(Ye=(Ye=Ye.multiply(We.translate)).multiply(We.skew)).multiply(We.scale);for(var Tt,Ot,Gt,qt=this.ctx.transform.applyToRectangle(new d(F.x,pe,fe.w,fe.h)),$=Ye.applyToRectangle(new d(F.x,Be,fe.w,fe.h)),je=I.call(this,$),oe=[],Ee=0;Ee<je.length;Ee+=1)oe.indexOf(je[Ee])===-1&&oe.push(je[Ee]);if(K(oe),this.autoPaging)for(var we=oe[0],Te=oe[oe.length-1],st=we;st<Te+1;st++){this.pdf.setPage(st);var ht=st===1?this.posY+this.margin[0]:this.margin[0],qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Lt=this.pdf.internal.pageSize.height-this.margin[2],It=Lt-this.margin[0],Bt=this.pdf.internal.pageSize.width-this.margin[1],Ut=Bt-this.margin[3],an=st===1?0:qe+(st-2)*It;if(this.ctx.clip_path.length!==0){var tn=this.path;Tt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=W(Tt,this.posX+this.margin[3],-1*an+ht),ie.call(this,"fill",!0),this.path=tn}var on=W([JSON.parse(JSON.stringify($))],this.posX+this.margin[3],-an+ht+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(Ot=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ot*F.scale),Gt=this.lineWidth,this.lineWidth=Gt*F.scale);var wn=this.autoPaging!=="text";if(wn||on.y+on.h<=Lt){if(wn||on.y>=ht&&on.x<=Bt){var Vt=wn?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||Bt-on.x)[0],ur=W([JSON.parse(JSON.stringify(qt))],this.posX+this.margin[3],-an+ht+this.ctx.prevPageLastElemOffset)[0],cn=wn&&(st>we||st<Te)&&M.call(this);cn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ut,It,null).clip().discardPath()),this.pdf.text(Vt,ur.x,ur.y,{angle:F.angle,align:he,renderingMode:F.renderingMode}),cn&&this.pdf.restoreGraphicsState()}}else on.y<Lt&&(this.ctx.prevPageLastElemOffset+=Lt-on.y);F.scale>=.01&&(this.pdf.setFontSize(Ot),this.lineWidth=Gt)}else F.scale>=.01&&(Ot=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ot*F.scale),Gt=this.lineWidth,this.lineWidth=Gt*F.scale),this.pdf.text(F.text,Ke.x+this.posX,Ke.y+this.posY,{angle:F.angle,align:he,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(Ot),this.lineWidth=Gt)},ve=function(F,he,fe,pe){fe=fe||0,pe=pe||0,this.pdf.internal.out(e(F+fe)+" "+i(he+pe)+" l")},j=function(F,he,fe){return this.pdf.lines(F,he,fe,null,null)},Ie=function(F,he,fe,pe,Be,Ke,We,Ye){this.pdf.internal.out([t(u(fe+F)),t(l(pe+he)),t(u(Be+F)),t(l(Ke+he)),t(u(We+F)),t(l(Ye+he)),"c"].join(" "))},Ve=function(F,he,fe,pe){for(var Be=2*Math.PI,Ke=Math.PI/2;he>fe;)he-=Be;var We=Math.abs(fe-he);We<Be&&pe&&(We=Be-We);for(var Ye=[],Tt=pe?-1:1,Ot=he;We>1e-5;){var Gt=Ot+Tt*Math.min(We,Ke);Ye.push(Fe.call(this,F,Ot,Gt)),We-=Math.abs(Gt-Ot),Ot=Gt}return Ye},Fe=function(F,he,fe){var pe=(fe-he)/2,Be=F*Math.cos(pe),Ke=F*Math.sin(pe),We=Be,Ye=-Ke,Tt=We*We+Ye*Ye,Ot=Tt+We*Be+Ye*Ke,Gt=4/3*(Math.sqrt(2*Tt*Ot)-Ot)/(We*Ke-Ye*Be),qt=We-Gt*Ye,$=Ye+Gt*We,je=qt,oe=-$,Ee=pe+he,we=Math.cos(Ee),Te=Math.sin(Ee);return{x1:F*Math.cos(he),y1:F*Math.sin(he),x2:qt*we-$*Te,y2:qt*Te+$*we,x3:je*we-oe*Te,y3:je*Te+oe*we,x4:F*Math.cos(fe),y4:F*Math.sin(fe)}},Le=function(F){return 180*F/Math.PI},Ae=function(F,he,fe,pe,Be,Ke){var We=F+.5*(fe-F),Ye=he+.5*(pe-he),Tt=Be+.5*(fe-Be),Ot=Ke+.5*(pe-Ke),Gt=Math.min(F,Be,We,Tt),qt=Math.max(F,Be,We,Tt),$=Math.min(he,Ke,Ye,Ot),je=Math.max(he,Ke,Ye,Ot);return new d(Gt,$,qt-Gt,je-$)},Pe=function(F,he,fe,pe,Be,Ke,We,Ye){var Tt,Ot,Gt,qt,$,je,oe,Ee,we,Te,st,ht,qe,Lt,It=fe-F,Bt=pe-he,Ut=Be-fe,an=Ke-pe,tn=We-Be,on=Ye-Ke;for(Ot=0;Ot<41;Ot++)we=(oe=(Gt=F+(Tt=Ot/40)*It)+Tt*(($=fe+Tt*Ut)-Gt))+Tt*($+Tt*(Be+Tt*tn-$)-oe),Te=(Ee=(qt=he+Tt*Bt)+Tt*((je=pe+Tt*an)-qt))+Tt*(je+Tt*(Ke+Tt*on-je)-Ee),Ot==0?(st=we,ht=Te,qe=we,Lt=Te):(st=Math.min(st,we),ht=Math.min(ht,Te),qe=Math.max(qe,we),Lt=Math.max(Lt,Te));return new d(Math.round(st),Math.round(ht),Math.round(qe-st),Math.round(Lt-ht))},re=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,he,fe=(F=this.ctx.lineDash,he=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:he}));this.prevLineDash!==fe&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=fe)}}})(Bn.API),(function(o){var t=function(l){var c,d,g,y,S,E,A,x,R,M;for(d=[],g=0,y=(l+=c="\0\0\0\0".slice(l.length%4||4)).length;y>g;g+=4)(S=(l.charCodeAt(g)<<24)+(l.charCodeAt(g+1)<<16)+(l.charCodeAt(g+2)<<8)+l.charCodeAt(g+3))!==0?(E=(S=((S=((S=((S=(S-(M=S%85))/85)-(R=S%85))/85)-(x=S%85))/85)-(A=S%85))/85)%85,d.push(E+33,A+33,x+33,R+33,M+33)):d.push(122);return(function(I,O){for(var W=O;W>0;W--)I.pop()})(d,c.length),String.fromCharCode.apply(String,d)+"~>"},e=function(l){var c,d,g,y,S,E=String,A="length",x=255,R="charCodeAt",M="slice",I="replace";for(l[M](-2),l=l[M](0,-2)[I](/\s/g,"")[I]("z","!!!!!"),g=[],y=0,S=(l+=c="uuuuu"[M](l[A]%5||5))[A];S>y;y+=5)d=52200625*(l[R](y)-33)+614125*(l[R](y+1)-33)+7225*(l[R](y+2)-33)+85*(l[R](y+3)-33)+(l[R](y+4)-33),g.push(x&d>>24,x&d>>16,x&d>>8,x&d);return(function(O,W){for(var K=W;K>0;K--)O.pop()})(g,c[A]),E.fromCharCode.apply(E,g)},i=function(l){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),c.test(l)===!1)return"";for(var d="",g=0;g<l.length;g+=2)d+=String.fromCharCode("0x"+(l[g]+l[g+1]));return d},u=function(l){for(var c=new Uint8Array(l.length),d=l.length;d--;)c[d]=l.charCodeAt(d);return l=(c=wd(c)).reduce((function(g,y){return g+String.fromCharCode(y)}),"")};o.processDataByFilters=function(l,c){var d=0,g=l||"",y=[];for(typeof(c=c||[])=="string"&&(c=[c]),d=0;d<c.length;d+=1)switch(c[d]){case"ASCII85Decode":case"/ASCII85Decode":g=e(g),y.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":g=t(g),y.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":g=i(g),y.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":g=g.split("").map((function(S){return("0"+S.charCodeAt().toString(16)).slice(-2)})).join("")+">",y.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":g=u(g),y.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[d]+'" is not implemented')}return{data:g,reverseChain:y.reverse().join(" ")}}})(Bn.API),(function(o){o.loadFile=function(t,e,i){return(function(u,l,c){l=l!==!1,c=typeof c=="function"?c:function(){};var d=void 0;try{d=(function(g,y,S){var E=new XMLHttpRequest,A=0,x=function(R){var M=R.length,I=[],O=String.fromCharCode;for(A=0;A<M;A+=1)I.push(O(255&R.charCodeAt(A)));return I.join("")};if(E.open("GET",g,!y),E.overrideMimeType("text/plain; charset=x-user-defined"),y===!1&&(E.onload=function(){E.status===200?S(x(this.responseText)):S(void 0)}),E.send(null),y&&E.status===200)return x(E.responseText)})(u,l,c)}catch{}return d})(t,e,i)},o.loadImageFile=o.loadFile})(Bn.API),(function(o){function t(){return(Tn.html2canvas?Promise.resolve(Tn.html2canvas):Xl(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch((function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))})).then((function(c){return c.default?c.default:c}))}function e(){return(Tn.DOMPurify?Promise.resolve(Tn.DOMPurify):Xl(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch((function(c){return Promise.reject(new Error("Could not load dompurify: "+c))})).then((function(c){return c.default?c.default:c}))}var i=function(c){var d=Lr(c);return d==="undefined"?"undefined":d==="string"||c instanceof String?"string":d==="number"||c instanceof Number?"number":d==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":d==="object"?"object":"unknown"},u=function(c,d){var g=document.createElement(c);for(var y in d.className&&(g.className=d.className),d.innerHTML&&d.dompurify&&(g.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)g.style[y]=d.style[y];return g},l=function c(d){var g=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),y=c.convert(Promise.resolve(),g);return y=(y=y.setProgress(1,c,1,[c])).set(d)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(c,d){return c.__proto__=d||l.prototype,c},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(c,d){return this.then((function(){switch(d=d||(function(g){switch(i(g)){case"string":return"string";case"element":return g.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c)){case"string":return this.then(e).then((function(g){return this.set({src:u("div",{innerHTML:c,dompurify:g})})}));case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}}))},l.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=(function g(y,S){for(var E=y.nodeType===3?document.createTextNode(y.nodeValue):y.cloneNode(!1),A=y.firstChild;A;A=A.nextSibling)S!==!0&&A.nodeType===1&&A.nodeName==="SCRIPT"||E.appendChild(g(A,S));return y.nodeType===1&&(y.nodeName==="CANVAS"?(E.width=y.width,E.height=y.height,E.getContext("2d").drawImage(y,0,0)):y.nodeName!=="TEXTAREA"&&y.nodeName!=="SELECT"||(E.value=y.value),E.addEventListener("load",(function(){E.scrollTop=y.scrollTop,E.scrollLeft=y.scrollLeft}),!0)),E})(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=u("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=u("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(u("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},l.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(t).then((function(d){var g=Object.assign({},this.opt.html2canvas);return delete g.onrendered,d(this.prop.container,g)})).then((function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)}))},l.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(t).then((function(d){var g=this.opt.jsPDF,y=this.opt.fontFaces,S=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,E=Object.assign({async:!0,allowTaint:!0,scale:S,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete E.onrendered,g.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,g.context2d.posX=this.opt.x,g.context2d.posY=this.opt.y,g.context2d.margin=this.opt.margin,g.context2d.fontFaces=y,y)for(var A=0;A<y.length;++A){var x=y[A],R=x.src.find((function(M){return M.format==="truetype"}));R&&g.addFont(R.url,x.ref.name,x.ref.style)}return E.windowHeight=E.windowHeight||0,E.windowHeight=E.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):E.windowHeight,g.context2d.save(!0),d(this.prop.container,E)})).then((function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)}))},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c}))},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},l.prototype.output=function(c,d,g){return(g=g||"pdf").toLowerCase()==="img"||g.toLowerCase()==="image"?this.outputImg(c,d):this.outputPdf(c,d)},l.prototype.outputPdf=function(c,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(c,d)}))},l.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}}))},l.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},l.prototype.set=function(c){if(i(c)!=="object")return this;var d=Object.keys(c||{}).map((function(g){if(g in l.template.prop)return function(){this.prop[g]=c[g]};switch(g){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[g]=c[g]}}}),this);return this.then((function(){return this.thenList(d)}))},l.prototype.get=function(c,d){return this.then((function(){var g=c in l.template.prop?this.prop[c]:this.opt[c];return d?d(g):g}))},l.prototype.setMargin=function(c){return this.then((function(){switch(i(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c})).then(this.setPageSize)},l.prototype.setPageSize=function(c){function d(g,y){return Math.floor(g*y/72*96)}return this.then((function(){(c=c||Bn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:d(c.inner.width,c.k),height:d(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c}))},l.prototype.setProgress=function(c,d,g,y){return c!=null&&(this.progress.val=c),d!=null&&(this.progress.state=d),g!=null&&(this.progress.n=g),y!=null&&(this.progress.stack=y),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(c,d,g,y){return this.setProgress(c?this.progress.val+c:null,d||null,g?this.progress.n+g:null,y?this.progress.stack.concat(y):null)},l.prototype.then=function(c,d){var g=this;return this.thenCore(c,d,(function(y,S){return g.updateProgress(null,null,1,[y]),Promise.prototype.then.call(this,(function(E){return g.updateProgress(null,y),E})).then(y,S).then((function(E){return g.updateProgress(1),E}))}))},l.prototype.thenCore=function(c,d,g){g=g||Promise.prototype.then,c&&(c=c.bind(this)),d&&(d=d.bind(this));var y=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:l.convert(Object.assign({},this),Promise.prototype),S=g.call(y,c,d);return l.convert(S,this.__proto__)},l.prototype.thenExternal=function(c,d){return Promise.prototype.then.call(this,c,d)},l.prototype.thenList=function(c){var d=this;return c.forEach((function(g){d=d.thenCore(g)})),d},l.prototype.catch=function(c){c&&(c=c.bind(this));var d=Promise.prototype.catch.call(this,c);return l.convert(d,this)},l.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},l.prototype.error=function(c){return this.then((function(){throw new Error(c)}))},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,Bn.getPageSize=function(c,d,g){if(Lr(c)==="object"){var y=c;c=y.orientation,d=y.unit||d,g=y.format||g}d=d||"mm",g=g||"a4",c=(""+(c||"P")).toLowerCase();var S,E=(""+g).toLowerCase(),A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":S=1;break;case"mm":S=72/25.4;break;case"cm":S=72/2.54;break;case"in":S=72;break;case"px":S=.75;break;case"pc":case"em":S=12;break;case"ex":S=6;break;default:throw"Invalid unit: "+d}var x,R=0,M=0;if(A.hasOwnProperty(E))R=A[E][1]/S,M=A[E][0]/S;else try{R=g[1],M=g[0]}catch{throw new Error("Invalid format: "+g)}if(c==="p"||c==="portrait")c="p",M>R&&(x=M,M=R,R=x);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",R>M&&(x=M,M=R,R=x)}return{width:M,height:R,unit:d,k:S,orientation:c}},o.html=function(c,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(Sd):null;var g=new l(d);return d.worker?g:g.from(c).doCallback()}})(Bn.API),Bn.API.addJS=function(o){return Q0=o,this.internal.events.subscribe("postPutResources",(function(){Lc=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Lc+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),X0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Q0+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){Lc!==void 0&&X0!==void 0&&this.internal.out("/Names <</JavaScript "+Lc+" 0 R>>")})),this},(function(o){var t;o.events.push(["postPutResources",function(){var e=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var u=e.outline.render().split(/\r\n/),l=0;l<u.length;l++){var c=u[l],d=i.exec(c);if(d!=null){var g=d[1];e.internal.newObjectDeferredBegin(g,!1)}e.internal.write(c)}if(this.outline.createNamedDestinations){var y=this.internal.pages.length,S=[];for(l=0;l<y;l++){var E=e.internal.newObject();S.push(E);var A=e.internal.getPageInfo(l+1);e.internal.write("<< /D["+A.objId+" 0 R /XYZ null null null]>> endobj")}var x=e.internal.newObject();for(e.internal.write("<< /Names [ "),l=0;l<S.length;l++)e.internal.write("(page_"+(l+1)+")"+S[l]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+x+" 0 R"),e.internal.write(">>","endobj")}}]),o.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),o.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(i,u,l){var c={title:u,options:l,children:[]};return i==null&&(i=this.root),i.children.push(c),c},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(i){i.id=e.internal.newObjectDeferred();for(var u=0;u<i.children.length;u++)this.genIds_r(i.children[u])},e.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},e.outline.renderItems=function(i){for(var u=this.ctx.pdf.internal.getVerticalCoordinateString,l=0;l<i.children.length;l++){var c=i.children[l];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(i)),l>0&&this.line("/Prev "+this.makeRef(i.children[l-1])),l<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[l+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var d=this.count=this.count_r({count:0},c);if(d>0&&this.line("/Count "+d),c.options&&c.options.pageNumber){var g=e.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+g.objId+" 0 R /XYZ 0 "+u(0)+" 0]")}this.objEnd()}for(var y=0;y<i.children.length;y++)this.renderItems(i.children[y])},e.outline.line=function(i){this.ctx.val+=i+`\r
`},e.outline.makeRef=function(i){return i.id+" 0 R"},e.outline.makeString=function(i){return"("+e.internal.pdfEscape(i)+")"},e.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(i,u){for(var l=0;l<u.children.length;l++)i.count++,this.count_r(i,u.children[l]);return i.count}}])})(Bn.API),(function(o){var t=[192,193,194,195,196,197,198,199];o.processJPEG=function(e,i,u,l,c,d){var g,y=this.decode.DCT_DECODE,S=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=c||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(g=(function(E){for(var A,x=256*E.charCodeAt(4)+E.charCodeAt(5),R=E.length,M={width:0,height:0,numcomponents:1},I=4;I<R;I+=2){if(I+=x,t.indexOf(E.charCodeAt(I+1))!==-1){A=256*E.charCodeAt(I+5)+E.charCodeAt(I+6),M={width:256*E.charCodeAt(I+7)+E.charCodeAt(I+8),height:A,numcomponents:E.charCodeAt(I+9)};break}x=256*E.charCodeAt(I+2)+E.charCodeAt(I+3)}return M})(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:d=this.color_spaces.DEVICE_GRAY;break;case 4:d=this.color_spaces.DEVICE_CMYK;break;case 3:d=this.color_spaces.DEVICE_RGB}S={data:e,width:g.width,height:g.height,colorSpace:d,bitsPerComponent:8,filter:y,index:i,alias:u}}return S}})(Bn.API);var Ku,kc,em,tm,nm,l5=(function(){var o,t,e;function i(l){var c,d,g,y,S,E,A,x,R,M,I,O,W,K;for(this.data=l,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},E=null;;){switch(c=this.readUInt32(),R=(function(){var de,ie;for(ie=[],de=0;de<4;++de)ie.push(String.fromCharCode(this.data[this.pos++]));return ie}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(c);break;case"fcTL":E&&this.animation.frames.push(E),this.pos+=4,E={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},S=this.readUInt16(),y=this.readUInt16()||100,E.delay=1e3*S/y,E.disposeOp=this.data[this.pos++],E.blendOp=this.data[this.pos++],E.data=[];break;case"IDAT":case"fdAT":for(R==="fdAT"&&(this.pos+=4,c-=4),l=E?.data||this.imgData,O=0;0<=c?O<c:O>c;0<=c?++O:--O)l.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(g=this.palette.length/3,this.transparency.indexed=this.read(c),this.transparency.indexed.length>g)throw new Error("More transparent colors than palette size");if((M=g-this.transparency.indexed.length)>0)for(W=0;0<=M?W<M:W>M;0<=M?++W:--W)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(c)[0];break;case 2:this.transparency.rgb=this.read(c)}break;case"tEXt":A=(I=this.read(c)).indexOf(0),x=String.fromCharCode.apply(String,I.slice(0,A)),this.text[x]=String.fromCharCode.apply(String,I.slice(A+1));break;case"IEND":return E&&this.animation.frames.push(E),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(K=this.colorType)===4||K===6,d=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*d,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=c}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(l){var c,d;for(d=[],c=0;0<=l?c<l:c>l;0<=l?++c:--c)d.push(this.data[this.pos++]);return d},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(l){var c=this.pixelBitlength/8,d=new Uint8Array(this.width*this.height*c),g=0,y=this;if(l==null&&(l=this.imgData),l.length===0)return new Uint8Array(0);function S(E,A,x,R){var M,I,O,W,K,de,ie,xe,Z,Y,me,Ne,te,G,ve,j,Ie,Ve,Fe,Le,Ae,Pe=Math.ceil((y.width-E)/x),re=Math.ceil((y.height-A)/R),F=y.width==Pe&&y.height==re;for(G=c*Pe,Ne=F?d:new Uint8Array(G*re),de=l.length,te=0,I=0;te<re&&g<de;){switch(l[g++]){case 0:for(W=Ie=0;Ie<G;W=Ie+=1)Ne[I++]=l[g++];break;case 1:for(W=Ve=0;Ve<G;W=Ve+=1)M=l[g++],K=W<c?0:Ne[I-c],Ne[I++]=(M+K)%256;break;case 2:for(W=Fe=0;Fe<G;W=Fe+=1)M=l[g++],O=(W-W%c)/c,ve=te&&Ne[(te-1)*G+O*c+W%c],Ne[I++]=(ve+M)%256;break;case 3:for(W=Le=0;Le<G;W=Le+=1)M=l[g++],O=(W-W%c)/c,K=W<c?0:Ne[I-c],ve=te&&Ne[(te-1)*G+O*c+W%c],Ne[I++]=(M+Math.floor((K+ve)/2))%256;break;case 4:for(W=Ae=0;Ae<G;W=Ae+=1)M=l[g++],O=(W-W%c)/c,K=W<c?0:Ne[I-c],te===0?ve=j=0:(ve=Ne[(te-1)*G+O*c+W%c],j=O&&Ne[(te-1)*G+(O-1)*c+W%c]),ie=K+ve-j,xe=Math.abs(ie-K),Y=Math.abs(ie-ve),me=Math.abs(ie-j),Z=xe<=Y&&xe<=me?K:Y<=me?ve:j,Ne[I++]=(M+Z)%256;break;default:throw new Error("Invalid filter algorithm: "+l[g-1])}if(!F){var he=((A+te*R)*y.width+E)*c,fe=te*G;for(W=0;W<Pe;W+=1){for(var pe=0;pe<c;pe+=1)d[he++]=Ne[fe++];he+=(x-1)*c}}te++}}return l=z2(l),y.interlaceMethod==1?(S(0,0,8,8),S(4,0,8,8),S(0,4,4,8),S(2,0,4,4),S(0,2,2,4),S(1,0,2,2),S(0,1,1,2)):S(0,0,1,1),d},i.prototype.decodePalette=function(){var l,c,d,g,y,S,E,A,x;for(d=this.palette,S=this.transparency.indexed||[],y=new Uint8Array((S.length||0)+d.length),g=0,l=0,c=E=0,A=d.length;E<A;c=E+=3)y[g++]=d[c],y[g++]=d[c+1],y[g++]=d[c+2],y[g++]=(x=S[l++])!=null?x:255;return y},i.prototype.copyToImageData=function(l,c){var d,g,y,S,E,A,x,R,M,I,O;if(g=this.colors,M=null,d=this.hasAlphaChannel,this.palette.length&&(M=(O=this._decodedPalette)!=null?O:this._decodedPalette=this.decodePalette(),g=4,d=!0),R=(y=l.data||l).length,E=M||c,S=A=0,g===1)for(;S<R;)x=M?4*c[S/4]:A,I=E[x++],y[S++]=I,y[S++]=I,y[S++]=I,y[S++]=d?E[x++]:255,A=x;else for(;S<R;)x=M?4*c[S/4]:A,y[S++]=E[x++],y[S++]=E[x++],y[S++]=E[x++],y[S++]=d?E[x++]:255,A=x},i.prototype.decode=function(){var l;return l=new Uint8Array(this.width*this.height*4),this.copyToImageData(l,this.decodePixels()),l};var u=function(){if(Object.prototype.toString.call(Tn)==="[object Window]"){try{t=Tn.document.createElement("canvas"),e=t.getContext("2d")}catch{return!1}return!0}return!1};return u(),o=function(l){var c;if(u()===!0)return e.width=l.width,e.height=l.height,e.clearRect(0,0,l.width,l.height),e.putImageData(l,0,0),(c=new Image).src=t.toDataURL(),c;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(l){var c,d,g,y,S,E,A,x;if(this.animation){for(x=[],d=S=0,E=(A=this.animation.frames).length;S<E;d=++S)c=A[d],g=l.createImageData(c.width,c.height),y=this.decodePixels(new Uint8Array(c.data)),this.copyToImageData(g,y),c.imageData=g,x.push(c.image=o(g));return x}},i.prototype.renderFrame=function(l,c){var d,g,y;return d=(g=this.animation.frames)[c],y=g[c-1],c===0&&l.clearRect(0,0,this.width,this.height),y?.disposeOp===1?l.clearRect(y.xOffset,y.yOffset,y.width,y.height):y?.disposeOp===2&&l.putImageData(y.imageData,y.xOffset,y.yOffset),d.blendOp===0&&l.clearRect(d.xOffset,d.yOffset,d.width,d.height),l.drawImage(d.image,d.xOffset,d.yOffset)},i.prototype.animate=function(l){var c,d,g,y,S,E,A=this;return d=0,E=this.animation,y=E.numFrames,g=E.frames,S=E.numPlays,(c=function(){var x,R;if(x=d++%y,R=g[x],A.renderFrame(l,x),y>1&&d/y<S)return A.animation._timeout=setTimeout(c,R.delay)})()},i.prototype.stopAnimation=function(){var l;return clearTimeout((l=this.animation)!=null?l._timeout:void 0)},i.prototype.render=function(l){var c,d;return l._png&&l._png.stopAnimation(),l._png=this,l.width=this.width,l.height=this.height,c=l.getContext("2d"),this.animation?(this.decodeFrames(c),this.animate(c)):(d=c.createImageData(this.width,this.height),this.copyToImageData(d,this.decodePixels()),c.putImageData(d,0,0))},i})();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function u5(o){var t=0;if(o[t++]!==71||o[t++]!==73||o[t++]!==70||o[t++]!==56||(o[t++]+1&253)!=56||o[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=o[t++]|o[t++]<<8,i=o[t++]|o[t++]<<8,u=o[t++],l=u>>7,c=1<<(7&u)+1;o[t++],o[t++];var d=null,g=null;l&&(d=t,g=c,t+=3*c);var y=!0,S=[],E=0,A=null,x=0,R=null;for(this.width=e,this.height=i;y&&t<o.length;)switch(o[t++]){case 33:switch(o[t++]){case 255:if(o[t]!==11||o[t+1]==78&&o[t+2]==69&&o[t+3]==84&&o[t+4]==83&&o[t+5]==67&&o[t+6]==65&&o[t+7]==80&&o[t+8]==69&&o[t+9]==50&&o[t+10]==46&&o[t+11]==48&&o[t+12]==3&&o[t+13]==1&&o[t+16]==0)t+=14,R=o[t++]|o[t++]<<8,t++;else for(t+=12;;){if(!((te=o[t++])>=0))throw Error("Invalid block size");if(te===0)break;t+=te}break;case 249:if(o[t++]!==4||o[t+4]!==0)throw new Error("Invalid graphics extension block.");var M=o[t++];E=o[t++]|o[t++]<<8,A=o[t++],(1&M)==0&&(A=null),x=M>>2&7,t++;break;case 254:for(;;){if(!((te=o[t++])>=0))throw Error("Invalid block size");if(te===0)break;t+=te}break;default:throw new Error("Unknown graphic control label: 0x"+o[t-1].toString(16))}break;case 44:var I=o[t++]|o[t++]<<8,O=o[t++]|o[t++]<<8,W=o[t++]|o[t++]<<8,K=o[t++]|o[t++]<<8,de=o[t++],ie=de>>6&1,xe=1<<(7&de)+1,Z=d,Y=g,me=!1;de>>7&&(me=!0,Z=t,Y=xe,t+=3*xe);var Ne=t;for(t++;;){var te;if(!((te=o[t++])>=0))throw Error("Invalid block size");if(te===0)break;t+=te}S.push({x:I,y:O,width:W,height:K,has_local_palette:me,palette_offset:Z,palette_size:Y,data_offset:Ne,data_length:t-Ne,transparent_index:A,interlaced:!!ie,delay:E,disposal:x});break;case 59:y=!1;break;default:throw new Error("Unknown gif block: 0x"+o[t-1].toString(16))}this.numFrames=function(){return S.length},this.loopCount=function(){return R},this.frameInfo=function(G){if(G<0||G>=S.length)throw new Error("Frame index out of range.");return S[G]},this.decodeAndBlitFrameBGRA=function(G,ve){var j=this.frameInfo(G),Ie=j.width*j.height,Ve=new Uint8Array(Ie);rm(o,j.data_offset,Ve,Ie);var Fe=j.palette_offset,Le=j.transparent_index;Le===null&&(Le=256);var Ae=j.width,Pe=e-Ae,re=Ae,F=4*(j.y*e+j.x),he=4*((j.y+j.height)*e+j.x),fe=F,pe=4*Pe;j.interlaced===!0&&(pe+=4*e*7);for(var Be=8,Ke=0,We=Ve.length;Ke<We;++Ke){var Ye=Ve[Ke];if(re===0&&(re=Ae,(fe+=pe)>=he&&(pe=4*Pe+4*e*(Be-1),fe=F+(Ae+Pe)*(Be<<1),Be>>=1)),Ye===Le)fe+=4;else{var Tt=o[Fe+3*Ye],Ot=o[Fe+3*Ye+1],Gt=o[Fe+3*Ye+2];ve[fe++]=Gt,ve[fe++]=Ot,ve[fe++]=Tt,ve[fe++]=255}--re}},this.decodeAndBlitFrameRGBA=function(G,ve){var j=this.frameInfo(G),Ie=j.width*j.height,Ve=new Uint8Array(Ie);rm(o,j.data_offset,Ve,Ie);var Fe=j.palette_offset,Le=j.transparent_index;Le===null&&(Le=256);var Ae=j.width,Pe=e-Ae,re=Ae,F=4*(j.y*e+j.x),he=4*((j.y+j.height)*e+j.x),fe=F,pe=4*Pe;j.interlaced===!0&&(pe+=4*e*7);for(var Be=8,Ke=0,We=Ve.length;Ke<We;++Ke){var Ye=Ve[Ke];if(re===0&&(re=Ae,(fe+=pe)>=he&&(pe=4*Pe+4*e*(Be-1),fe=F+(Ae+Pe)*(Be<<1),Be>>=1)),Ye===Le)fe+=4;else{var Tt=o[Fe+3*Ye],Ot=o[Fe+3*Ye+1],Gt=o[Fe+3*Ye+2];ve[fe++]=Tt,ve[fe++]=Ot,ve[fe++]=Gt,ve[fe++]=255}--re}}}function rm(o,t,e,i){for(var u=o[t++],l=1<<u,c=l+1,d=c+1,g=u+1,y=(1<<g)-1,S=0,E=0,A=0,x=o[t++],R=new Int32Array(4096),M=null;;){for(;S<16&&x!==0;)E|=o[t++]<<S,S+=8,x===1?x=o[t++]:--x;if(S<g)break;var I=E&y;if(E>>=g,S-=g,I!==l){if(I===c)break;for(var O=I<d?I:M,W=0,K=O;K>l;)K=R[K]>>8,++W;var de=K;if(A+W+(O!==I?1:0)>i)return void Or.log("Warning, gif stream longer than expected.");e[A++]=de;var ie=A+=W;for(O!==I&&(e[A++]=de),K=O;W--;)K=R[K],e[--ie]=255&K,K>>=8;M!==null&&d<4096&&(R[d++]=M<<8|de,d>=y+1&&g<12&&(++g,y=y<<1|1)),M=I}else d=c+1,y=(1<<(g=u+1))-1,M=null}return A!==i&&Or.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Xf(o){var t,e,i,u,l,c=Math.floor,d=new Array(64),g=new Array(64),y=new Array(64),S=new Array(64),E=new Array(65535),A=new Array(65535),x=new Array(64),R=new Array(64),M=[],I=0,O=7,W=new Array(64),K=new Array(64),de=new Array(64),ie=new Array(256),xe=new Array(2048),Z=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Y=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],me=[0,1,2,3,4,5,6,7,8,9,10,11],Ne=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],te=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],G=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ve=[0,1,2,3,4,5,6,7,8,9,10,11],j=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ie=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ve(F,he){for(var fe=0,pe=0,Be=new Array,Ke=1;Ke<=16;Ke++){for(var We=1;We<=F[Ke];We++)Be[he[pe]]=[],Be[he[pe]][0]=fe,Be[he[pe]][1]=Ke,pe++,fe++;fe*=2}return Be}function Fe(F){for(var he=F[0],fe=F[1]-1;fe>=0;)he&1<<fe&&(I|=1<<O),fe--,--O<0&&(I==255?(Le(255),Le(0)):Le(I),O=7,I=0)}function Le(F){M.push(F)}function Ae(F){Le(F>>8&255),Le(255&F)}function Pe(F,he,fe,pe,Be){for(var Ke,We=Be[0],Ye=Be[240],Tt=(function(Te,st){var ht,qe,Lt,It,Bt,Ut,an,tn,on,wn,Vt=0;for(on=0;on<8;++on){ht=Te[Vt],qe=Te[Vt+1],Lt=Te[Vt+2],It=Te[Vt+3],Bt=Te[Vt+4],Ut=Te[Vt+5],an=Te[Vt+6];var ur=ht+(tn=Te[Vt+7]),cn=ht-tn,Dr=qe+an,zn=qe-an,jn=Lt+Ut,Ar=Lt-Ut,Wn=It+Bt,Ps=It-Bt,ar=ur+Wn,Ir=ur-Wn,Mr=Dr+jn,or=Dr-jn;Te[Vt]=ar+Mr,Te[Vt+4]=ar-Mr;var En=.707106781*(or+Ir);Te[Vt+2]=Ir+En,Te[Vt+6]=Ir-En;var Yn=.382683433*((ar=Ps+Ar)-(or=zn+cn)),ma=.5411961*ar+Yn,Zr=1.306562965*or+Yn,cs=.707106781*(Mr=Ar+zn),Zi=cn+cs,dn=cn-cs;Te[Vt+5]=dn+ma,Te[Vt+3]=dn-ma,Te[Vt+1]=Zi+Zr,Te[Vt+7]=Zi-Zr,Vt+=8}for(Vt=0,on=0;on<8;++on){ht=Te[Vt],qe=Te[Vt+8],Lt=Te[Vt+16],It=Te[Vt+24],Bt=Te[Vt+32],Ut=Te[Vt+40],an=Te[Vt+48];var Ki=ht+(tn=Te[Vt+56]),Ii=ht-tn,Ri=qe+an,$n=qe-an,Kt=Lt+Ut,ii=Lt-Ut,ga=It+Bt,As=It-Bt,fs=Ki+ga,Ji=Ki-ga,Kr=Ri+Kt,gi=Ri-Kt;Te[Vt]=fs+Kr,Te[Vt+32]=fs-Kr;var Fi=.707106781*(gi+Ji);Te[Vt+16]=Ji+Fi,Te[Vt+48]=Ji-Fi;var qs=.382683433*((fs=As+ii)-(gi=$n+Ii)),Ma=.5411961*fs+qs,Xa=1.306562965*gi+qs,Qa=.707106781*(Kr=ii+$n),Gs=Ii+Qa,Ba=Ii-Qa;Te[Vt+40]=Ba+Ma,Te[Vt+24]=Ba-Ma,Te[Vt+8]=Gs+Xa,Te[Vt+56]=Gs-Xa,Vt++}for(on=0;on<64;++on)wn=Te[on]*st[on],x[on]=wn>0?wn+.5|0:wn-.5|0;return x})(F,he),Ot=0;Ot<64;++Ot)R[Z[Ot]]=Tt[Ot];var Gt=R[0]-fe;fe=R[0],Gt==0?Fe(pe[0]):(Fe(pe[A[Ke=32767+Gt]]),Fe(E[Ke]));for(var qt=63;qt>0&&R[qt]==0;)qt--;if(qt==0)return Fe(We),fe;for(var $,je=1;je<=qt;){for(var oe=je;R[je]==0&&je<=qt;)++je;var Ee=je-oe;if(Ee>=16){$=Ee>>4;for(var we=1;we<=$;++we)Fe(Ye);Ee&=15}Ke=32767+R[je],Fe(Be[(Ee<<4)+A[Ke]]),Fe(E[Ke]),je++}return qt!=63&&Fe(We),fe}function re(F){F=Math.min(Math.max(F,1),100),l!=F&&((function(he){for(var fe=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],pe=0;pe<64;pe++){var Be=c((fe[pe]*he+50)/100);Be=Math.min(Math.max(Be,1),255),d[Z[pe]]=Be}for(var Ke=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],We=0;We<64;We++){var Ye=c((Ke[We]*he+50)/100);Ye=Math.min(Math.max(Ye,1),255),g[Z[We]]=Ye}for(var Tt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ot=0,Gt=0;Gt<8;Gt++)for(var qt=0;qt<8;qt++)y[Ot]=1/(d[Z[Ot]]*Tt[Gt]*Tt[qt]*8),S[Ot]=1/(g[Z[Ot]]*Tt[Gt]*Tt[qt]*8),Ot++})(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),l=F)}this.encode=function(F,he){he&&re(he),M=new Array,I=0,O=7,Ae(65496),Ae(65504),Ae(16),Le(74),Le(70),Le(73),Le(70),Le(0),Le(1),Le(1),Le(0),Ae(1),Ae(1),Le(0),Le(0),(function(){Ae(65499),Ae(132),Le(0);for(var qe=0;qe<64;qe++)Le(d[qe]);Le(1);for(var Lt=0;Lt<64;Lt++)Le(g[Lt])})(),(function(qe,Lt){Ae(65472),Ae(17),Le(8),Ae(Lt),Ae(qe),Le(3),Le(1),Le(17),Le(0),Le(2),Le(17),Le(1),Le(3),Le(17),Le(1)})(F.width,F.height),(function(){Ae(65476),Ae(418),Le(0);for(var qe=0;qe<16;qe++)Le(Y[qe+1]);for(var Lt=0;Lt<=11;Lt++)Le(me[Lt]);Le(16);for(var It=0;It<16;It++)Le(Ne[It+1]);for(var Bt=0;Bt<=161;Bt++)Le(te[Bt]);Le(1);for(var Ut=0;Ut<16;Ut++)Le(G[Ut+1]);for(var an=0;an<=11;an++)Le(ve[an]);Le(17);for(var tn=0;tn<16;tn++)Le(j[tn+1]);for(var on=0;on<=161;on++)Le(Ie[on])})(),Ae(65498),Ae(12),Le(3),Le(1),Le(0),Le(2),Le(17),Le(3),Le(17),Le(0),Le(63),Le(0);var fe=0,pe=0,Be=0;I=0,O=7,this.encode.displayName="_encode_";for(var Ke,We,Ye,Tt,Ot,Gt,qt,$,je,oe=F.data,Ee=F.width,we=F.height,Te=4*Ee,st=0;st<we;){for(Ke=0;Ke<Te;){for(Ot=Te*st+Ke,qt=-1,$=0,je=0;je<64;je++)Gt=Ot+($=je>>3)*Te+(qt=4*(7&je)),st+$>=we&&(Gt-=Te*(st+1+$-we)),Ke+qt>=Te&&(Gt-=Ke+qt-Te+4),We=oe[Gt++],Ye=oe[Gt++],Tt=oe[Gt++],W[je]=(xe[We]+xe[Ye+256>>0]+xe[Tt+512>>0]>>16)-128,K[je]=(xe[We+768>>0]+xe[Ye+1024>>0]+xe[Tt+1280>>0]>>16)-128,de[je]=(xe[We+1280>>0]+xe[Ye+1536>>0]+xe[Tt+1792>>0]>>16)-128;fe=Pe(W,y,fe,t,i),pe=Pe(K,S,pe,e,u),Be=Pe(de,S,Be,e,u),Ke+=32}st+=8}if(O>=0){var ht=[];ht[1]=O+1,ht[0]=(1<<O+1)-1,Fe(ht)}return Ae(65497),new Uint8Array(M)},o=o||50,(function(){for(var F=String.fromCharCode,he=0;he<256;he++)ie[he]=F(he)})(),t=Ve(Y,me),e=Ve(G,ve),i=Ve(Ne,te),u=Ve(j,Ie),(function(){for(var F=1,he=2,fe=1;fe<=15;fe++){for(var pe=F;pe<he;pe++)A[32767+pe]=fe,E[32767+pe]=[],E[32767+pe][1]=fe,E[32767+pe][0]=pe;for(var Be=-(he-1);Be<=-F;Be++)A[32767+Be]=fe,E[32767+Be]=[],E[32767+Be][1]=fe,E[32767+Be][0]=he-1+Be;F<<=1,he<<=1}})(),(function(){for(var F=0;F<256;F++)xe[F]=19595*F,xe[F+256>>0]=38470*F,xe[F+512>>0]=7471*F+32768,xe[F+768>>0]=-11059*F,xe[F+1024>>0]=-21709*F,xe[F+1280>>0]=32768*F+8421375,xe[F+1536>>0]=-27439*F,xe[F+1792>>0]=-5329*F})(),re(o)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function nl(o,t){if(this.pos=0,this.buffer=o,this.datav=new DataView(o.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function im(o){function t(Y){if(!Y)throw Error("assert :P")}function e(Y,me,Ne){for(var te=0;4>te;te++)if(Y[me+te]!=Ne.charCodeAt(te))return!0;return!1}function i(Y,me,Ne,te,G){for(var ve=0;ve<G;ve++)Y[me+ve]=Ne[te+ve]}function u(Y,me,Ne,te){for(var G=0;G<te;G++)Y[me+G]=Ne}function l(Y){return new Int32Array(Y)}function c(Y,me){for(var Ne=[],te=0;te<Y;te++)Ne.push(new me);return Ne}function d(Y,me){var Ne=[];return(function te(G,ve,j){for(var Ie=j[ve],Ve=0;Ve<Ie&&(G.push(j.length>ve+1?[]:new me),!(j.length<ve+1));Ve++)te(G[Ve],ve+1,j)})(Ne,0,Y),Ne}var g=function(){var Y=this;function me(_,C){for(var D=1<<C-1>>>0;_&D;)D>>>=1;return D?(_&D-1)+D:_}function Ne(_,C,D,H,Q){t(!(H%D));do _[C+(H-=D)]=Q;while(0<H)}function te(_,C,D,H,Q){if(t(2328>=Q),512>=Q)var se=l(512);else if((se=l(Q))==null)return 0;return(function(ue,_e,ye,Se,Je,_t){var vt,lt,Pt=_e,Ct=1<<ye,et=l(16),tt=l(16);for(t(Je!=0),t(Se!=null),t(ue!=null),t(0<ye),lt=0;lt<Je;++lt){if(15<Se[lt])return 0;++et[Se[lt]]}if(et[0]==Je)return 0;for(tt[1]=0,vt=1;15>vt;++vt){if(et[vt]>1<<vt)return 0;tt[vt+1]=tt[vt]+et[vt]}for(lt=0;lt<Je;++lt)vt=Se[lt],0<Se[lt]&&(_t[tt[vt]++]=lt);if(tt[15]==1)return(Se=new G).g=0,Se.value=_t[0],Ne(ue,Pt,1,Ct,Se),Ct;var At,Mt=-1,Nt=Ct-1,Qt=0,s=1,h=1,p=1<<ye;for(lt=0,vt=1,Je=2;vt<=ye;++vt,Je<<=1){if(s+=h<<=1,0>(h-=et[vt]))return 0;for(;0<et[vt];--et[vt])(Se=new G).g=vt,Se.value=_t[lt++],Ne(ue,Pt+Qt,Je,p,Se),Qt=me(Qt,vt)}for(vt=ye+1,Je=2;15>=vt;++vt,Je<<=1){if(s+=h<<=1,0>(h-=et[vt]))return 0;for(;0<et[vt];--et[vt]){if(Se=new G,(Qt&Nt)!=Mt){for(Pt+=p,At=1<<(Mt=vt)-ye;15>Mt&&!(0>=(At-=et[Mt]));)++Mt,At<<=1;Ct+=p=1<<(At=Mt-ye),ue[_e+(Mt=Qt&Nt)].g=At+ye,ue[_e+Mt].value=Pt-_e-Mt}Se.g=vt-ye,Se.value=_t[lt++],Ne(ue,Pt+(Qt>>ye),Je,p,Se),Qt=me(Qt,vt)}}return s!=2*tt[15]-1?0:Ct})(_,C,D,H,Q,se)}function G(){this.value=this.g=0}function ve(){this.value=this.g=0}function j(){this.G=c(5,G),this.H=l(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(vr,ve)}function Ie(_,C,D,H){t(_!=null),t(C!=null),t(2147483648>H),_.Ca=254,_.I=0,_.b=-8,_.Ka=0,_.oa=C,_.pa=D,_.Jd=C,_.Yc=D+H,_.Zc=4<=H?D+H-4+1:D,Ke(_)}function Ve(_,C){for(var D=0;0<C--;)D|=Ye(_,128)<<C;return D}function Fe(_,C){var D=Ve(_,C);return We(_)?-D:D}function Le(_,C,D,H){var Q,se=0;for(t(_!=null),t(C!=null),t(4294967288>H),_.Sb=H,_.Ra=0,_.u=0,_.h=0,4<H&&(H=4),Q=0;Q<H;++Q)se+=C[D+Q]<<8*Q;_.Ra=se,_.bb=H,_.oa=C,_.pa=D}function Ae(_){for(;8<=_.u&&_.bb<_.Sb;)_.Ra>>>=8,_.Ra+=_.oa[_.pa+_.bb]<<Si-8>>>0,++_.bb,_.u-=8;fe(_)&&(_.h=1,_.u=0)}function Pe(_,C){if(t(0<=C),!_.h&&C<=Ui){var D=he(_)&Ao[C];return _.u+=C,Ae(_),D}return _.h=1,_.u=0}function re(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function F(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function he(_){return _.Ra>>>(_.u&Si-1)>>>0}function fe(_){return t(_.bb<=_.Sb),_.h||_.bb==_.Sb&&_.u>Si}function pe(_,C){_.u=C,_.h=fe(_)}function Be(_){_.u>=lo&&(t(_.u>=lo),Ae(_))}function Ke(_){t(_!=null&&_.oa!=null),_.pa<_.Zc?(_.I=(_.oa[_.pa++]|_.I<<8)>>>0,_.b+=8):(t(_!=null&&_.oa!=null),_.pa<_.Yc?(_.b+=8,_.I=_.oa[_.pa++]|_.I<<8):_.Ka?_.b=0:(_.I<<=8,_.b+=8,_.Ka=1))}function We(_){return Ve(_,1)}function Ye(_,C){var D=_.Ca;0>_.b&&Ke(_);var H=_.b,Q=D*C>>>8,se=(_.I>>>H>Q)+0;for(se?(D-=Q,_.I-=Q+1<<H>>>0):D=Q+1,H=D,Q=0;256<=H;)Q+=8,H>>=8;return H=7^Q+ui[H],_.b-=H,_.Ca=(D<<H)-1,se}function Tt(_,C,D){_[C+0]=D>>24&255,_[C+1]=D>>16&255,_[C+2]=D>>8&255,_[C+3]=D>>0&255}function Ot(_,C){return _[C+0]<<0|_[C+1]<<8}function Gt(_,C){return Ot(_,C)|_[C+2]<<16}function qt(_,C){return Ot(_,C)|Ot(_,C+2)<<16}function $(_,C){var D=1<<C;return t(_!=null),t(0<C),_.X=l(D),_.X==null?0:(_.Mb=32-C,_.Xa=C,1)}function je(_,C){t(_!=null),t(C!=null),t(_.Xa==C.Xa),i(C.X,0,_.X,0,1<<C.Xa)}function oe(){this.X=[],this.Xa=this.Mb=0}function Ee(_,C,D,H){t(D!=null),t(H!=null);var Q=D[0],se=H[0];return Q==0&&(Q=(_*se+C/2)/C),se==0&&(se=(C*Q+_/2)/_),0>=Q||0>=se?0:(D[0]=Q,H[0]=se,1)}function we(_,C){return _+(1<<C)-1>>>C}function Te(_,C){return((4278255360&_)+(4278255360&C)>>>0&4278255360)+((16711935&_)+(16711935&C)>>>0&16711935)>>>0}function st(_,C){Y[C]=function(D,H,Q,se,ue,_e,ye){var Se;for(Se=0;Se<ue;++Se){var Je=Y[_](_e[ye+Se-1],Q,se+Se);_e[ye+Se]=Te(D[H+Se],Je)}}}function ht(){this.ud=this.hd=this.jd=0}function qe(_,C){return((4278124286&(_^C))>>>1)+(_&C)>>>0}function Lt(_){return 0<=_&&256>_?_:0>_?0:255<_?255:void 0}function It(_,C){return Lt(_+(_-C+.5>>1))}function Bt(_,C,D){return Math.abs(C-D)-Math.abs(_-D)}function Ut(_,C,D,H,Q,se,ue){for(H=se[ue-1],D=0;D<Q;++D)se[ue+D]=H=Te(_[C+D],H)}function an(_,C,D,H,Q){var se;for(se=0;se<D;++se){var ue=_[C+se],_e=ue>>8&255,ye=16711935&(ye=(ye=16711935&ue)+((_e<<16)+_e));H[Q+se]=(4278255360&ue)+ye>>>0}}function tn(_,C){C.jd=_>>0&255,C.hd=_>>8&255,C.ud=_>>16&255}function on(_,C,D,H,Q,se){var ue;for(ue=0;ue<H;++ue){var _e=C[D+ue],ye=_e>>>8,Se=_e,Je=255&(Je=(Je=_e>>>16)+((_.jd<<24>>24)*(ye<<24>>24)>>>5));Se=255&(Se=(Se=Se+((_.hd<<24>>24)*(ye<<24>>24)>>>5))+((_.ud<<24>>24)*(Je<<24>>24)>>>5)),Q[se+ue]=(4278255360&_e)+(Je<<16)+Se}}function wn(_,C,D,H,Q){Y[C]=function(se,ue,_e,ye,Se,Je,_t,vt,lt){for(ye=_t;ye<vt;++ye)for(_t=0;_t<lt;++_t)Se[Je++]=Q(_e[H(se[ue++])])},Y[_]=function(se,ue,_e,ye,Se,Je,_t){var vt=8>>se.b,lt=se.Ea,Pt=se.K[0],Ct=se.w;if(8>vt)for(se=(1<<se.b)-1,Ct=(1<<vt)-1;ue<_e;++ue){var et,tt=0;for(et=0;et<lt;++et)et&se||(tt=H(ye[Se++])),Je[_t++]=Q(Pt[tt&Ct]),tt>>=vt}else Y["VP8LMapColor"+D](ye,Se,Pt,Ct,Je,_t,ue,_e,lt)}}function Vt(_,C,D,H,Q){for(D=C+D;C<D;){var se=_[C++];H[Q++]=se>>16&255,H[Q++]=se>>8&255,H[Q++]=se>>0&255}}function ur(_,C,D,H,Q){for(D=C+D;C<D;){var se=_[C++];H[Q++]=se>>16&255,H[Q++]=se>>8&255,H[Q++]=se>>0&255,H[Q++]=se>>24&255}}function cn(_,C,D,H,Q){for(D=C+D;C<D;){var se=(ue=_[C++])>>16&240|ue>>12&15,ue=ue>>0&240|ue>>28&15;H[Q++]=se,H[Q++]=ue}}function Dr(_,C,D,H,Q){for(D=C+D;C<D;){var se=(ue=_[C++])>>16&248|ue>>13&7,ue=ue>>5&224|ue>>3&31;H[Q++]=se,H[Q++]=ue}}function zn(_,C,D,H,Q){for(D=C+D;C<D;){var se=_[C++];H[Q++]=se>>0&255,H[Q++]=se>>8&255,H[Q++]=se>>16&255}}function jn(_,C,D,H,Q,se){if(se==0)for(D=C+D;C<D;)Tt(H,((se=_[C++])[0]>>24|se[1]>>8&65280|se[2]<<8&16711680|se[3]<<24)>>>0),Q+=32;else i(H,Q,_,C,D)}function Ar(_,C){Y[C][0]=Y[_+"0"],Y[C][1]=Y[_+"1"],Y[C][2]=Y[_+"2"],Y[C][3]=Y[_+"3"],Y[C][4]=Y[_+"4"],Y[C][5]=Y[_+"5"],Y[C][6]=Y[_+"6"],Y[C][7]=Y[_+"7"],Y[C][8]=Y[_+"8"],Y[C][9]=Y[_+"9"],Y[C][10]=Y[_+"10"],Y[C][11]=Y[_+"11"],Y[C][12]=Y[_+"12"],Y[C][13]=Y[_+"13"],Y[C][14]=Y[_+"0"],Y[C][15]=Y[_+"0"]}function Wn(_){return _==Qr||_==Hr||_==Fs||_==r}function Ps(){this.eb=[],this.size=this.A=this.fb=0}function ar(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ir(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ps,this.f.kb=new ar,this.sd=null}function Mr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function or(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function En(_){return alert("todo:WebPSamplerProcessPlane"),_.T}function Yn(_,C){var D=_.T,H=C.ba.f.RGBA,Q=H.eb,se=H.fb+_.ka*H.A,ue=ni[C.ba.S],_e=_.y,ye=_.O,Se=_.f,Je=_.N,_t=_.ea,vt=_.W,lt=C.cc,Pt=C.dc,Ct=C.Mc,et=C.Nc,tt=_.ka,At=_.ka+_.T,Mt=_.U,Nt=Mt+1>>1;for(tt==0?ue(_e,ye,null,null,Se,Je,_t,vt,Se,Je,_t,vt,Q,se,null,null,Mt):(ue(C.ec,C.fc,_e,ye,lt,Pt,Ct,et,Se,Je,_t,vt,Q,se-H.A,Q,se,Mt),++D);tt+2<At;tt+=2)lt=Se,Pt=Je,Ct=_t,et=vt,Je+=_.Rc,vt+=_.Rc,se+=2*H.A,ue(_e,(ye+=2*_.fa)-_.fa,_e,ye,lt,Pt,Ct,et,Se,Je,_t,vt,Q,se-H.A,Q,se,Mt);return ye+=_.fa,_.j+At<_.o?(i(C.ec,C.fc,_e,ye,Mt),i(C.cc,C.dc,Se,Je,Nt),i(C.Mc,C.Nc,_t,vt,Nt),D--):1&At||ue(_e,ye,null,null,Se,Je,_t,vt,Se,Je,_t,vt,Q,se+H.A,null,null,Mt),D}function ma(_,C,D){var H=_.F,Q=[_.J];if(H!=null){var se=_.U,ue=C.ba.S,_e=ue==as||ue==Fs;C=C.ba.f.RGBA;var ye=[0],Se=_.ka;ye[0]=_.T,_.Kb&&(Se==0?--ye[0]:(--Se,Q[0]-=_.width),_.j+_.ka+_.T==_.o&&(ye[0]=_.o-_.j-Se));var Je=C.eb;Se=C.fb+Se*C.A,_=Qn(H,Q[0],_.width,se,ye,Je,Se+(_e?0:3),C.A),t(D==ye),_&&Wn(ue)&&Gr(Je,Se,_e,se,ye,C.A)}return 0}function Zr(_){var C=_.ma,D=C.ba.S,H=11>D,Q=D==yn||D==Ha||D==as||D==Pn||D==12||Wn(D);if(C.memory=null,C.Ib=null,C.Jb=null,C.Nd=null,!Po(C.Oa,_,Q?11:12))return 0;if(Q&&Wn(D)&&Ft(),_.da)alert("todo:use_scaling");else{if(H){if(C.Ib=En,_.Kb){if(D=_.U+1>>1,C.memory=l(_.U+2*D),C.memory==null)return 0;C.ec=C.memory,C.fc=0,C.cc=C.ec,C.dc=C.fc+_.U,C.Mc=C.cc,C.Nc=C.dc+D,C.Ib=Yn,Ft()}}else alert("todo:EmitYUV");Q&&(C.Jb=ma,H&&ft())}if(H&&!Vr){for(_=0;256>_;++_)Ai[_]=89858*(_-128)+oa>>co,Mi[_]=-22014*(_-128)+oa,ul[_]=-45773*(_-128),Wo[_]=113618*(_-128)+oa>>co;for(_=cr;_<pr;++_)C=76283*(_-16)+oa>>co,Vo[_-cr]=hr(C,255),ru[_-cr]=hr(C+8>>4,15);Vr=1}return 1}function cs(_){var C=_.ma,D=_.U,H=_.T;return t(!(1&_.ka)),0>=D||0>=H?0:(D=C.Ib(_,C),C.Jb!=null&&C.Jb(_,C,D),C.Dc+=D,1)}function Zi(_){_.ma.memory=null}function dn(_,C,D,H){return Pe(_,8)!=47?0:(C[0]=Pe(_,14)+1,D[0]=Pe(_,14)+1,H[0]=Pe(_,1),Pe(_,3)!=0?0:!_.h)}function Ki(_,C){if(4>_)return _+1;var D=_-2>>1;return(2+(1&_)<<D)+Pe(C,D)+1}function Ii(_,C){return 120<C?C-120:1<=(D=((D=He[C-1])>>4)*_+(8-(15&D)))?D:1;var D}function Ri(_,C,D){var H=he(D),Q=_[C+=255&H].g-8;return 0<Q&&(pe(D,D.u+8),H=he(D),C+=_[C].value,C+=H&(1<<Q)-1),pe(D,D.u+_[C].g),_[C].value}function $n(_,C,D){return D.g+=_.g,D.value+=_.value<<C>>>0,t(8>=D.g),_.g}function Kt(_,C,D){var H=_.xc;return t((C=H==0?0:_.vc[_.md*(D>>H)+(C>>H)])<_.Wb),_.Ya[C]}function ii(_,C,D,H){var Q=_.ab,se=_.c*C,ue=_.C;C=ue+C;var _e=D,ye=H;for(H=_.Ta,D=_.Ua;0<Q--;){var Se=_.gc[Q],Je=ue,_t=C,vt=_e,lt=ye,Pt=(ye=H,_e=D,Se.Ea);switch(t(Je<_t),t(_t<=Se.nc),Se.hc){case 2:ll(vt,lt,(_t-Je)*Pt,ye,_e);break;case 0:var Ct=Je,et=_t,tt=ye,At=_e,Mt=(p=Se).Ea;Ct==0&&(rs(vt,lt,null,null,1,tt,At),Ut(vt,lt+1,0,0,Mt-1,tt,At+1),lt+=Mt,At+=Mt,++Ct);for(var Nt=1<<p.b,Qt=Nt-1,s=we(Mt,p.b),h=p.K,p=p.w+(Ct>>p.b)*s;Ct<et;){var v=h,k=p,B=1;for(hi(vt,lt,tt,At-Mt,1,tt,At);B<Mt;){var z=(B&~Qt)+Nt;z>Mt&&(z=Mt),(0,Os[v[k++]>>8&15])(vt,lt+ +B,tt,At+B-Mt,z-B,tt,At+B),B=z}lt+=Mt,At+=Mt,++Ct&Qt||(p+=s)}_t!=Se.nc&&i(ye,_e-Pt,ye,_e+(_t-Je-1)*Pt,Pt);break;case 1:for(Pt=vt,et=lt,Mt=(vt=Se.Ea)-(At=vt&~(tt=(lt=1<<Se.b)-1)),Ct=we(vt,Se.b),Nt=Se.K,Se=Se.w+(Je>>Se.b)*Ct;Je<_t;){for(Qt=Nt,s=Se,h=new ht,p=et+At,v=et+vt;et<p;)tn(Qt[s++],h),Ds(h,Pt,et,lt,ye,_e),et+=lt,_e+=lt;et<v&&(tn(Qt[s++],h),Ds(h,Pt,et,Mt,ye,_e),et+=Mt,_e+=Mt),++Je&tt||(Se+=Ct)}break;case 3:if(vt==ye&&lt==_e&&0<Se.b){for(et=ye,vt=Pt=_e+(_t-Je)*Pt-(At=(_t-Je)*we(Se.Ea,Se.b)),lt=ye,tt=_e,Ct=[],At=(Mt=At)-1;0<=At;--At)Ct[At]=lt[tt+At];for(At=Mt-1;0<=At;--At)et[vt+At]=Ct[At];Sr(Se,Je,_t,ye,Pt,ye,_e)}else Sr(Se,Je,_t,vt,lt,ye,_e)}_e=H,ye=D}ye!=D&&i(H,D,_e,ye,se)}function ga(_,C){var D=_.V,H=_.Ba+_.c*_.C,Q=C-_.C;if(t(C<=_.l.o),t(16>=Q),0<Q){var se=_.l,ue=_.Ta,_e=_.Ua,ye=se.width;if(ii(_,Q,D,H),Q=_e=[_e],t((D=_.C)<(H=C)),t(se.v<se.va),H>se.o&&(H=se.o),D<se.j){var Se=se.j-D;D=se.j,Q[0]+=Se*ye}if(D>=H?D=0:(Q[0]+=4*se.v,se.ka=D-se.j,se.U=se.va-se.v,se.T=H-D,D=1),D){if(_e=_e[0],11>(D=_.ca).S){var Je=D.f.RGBA,_t=(H=D.S,Q=se.U,se=se.T,Se=Je.eb,Je.A),vt=se;for(Je=Je.fb+_.Ma*Je.A;0<vt--;){var lt=ue,Pt=_e,Ct=Q,et=Se,tt=Je;switch(H){case Vi:Xr(lt,Pt,Ct,et,tt);break;case yn:qr(lt,Pt,Ct,et,tt);break;case Qr:qr(lt,Pt,Ct,et,tt),Gr(et,tt,0,Ct,1,0);break;case Uo:vs(lt,Pt,Ct,et,tt);break;case Ha:jn(lt,Pt,Ct,et,tt,1);break;case Hr:jn(lt,Pt,Ct,et,tt,1),Gr(et,tt,0,Ct,1,0);break;case as:jn(lt,Pt,Ct,et,tt,0);break;case Fs:jn(lt,Pt,Ct,et,tt,0),Gr(et,tt,1,Ct,1,0);break;case Pn:Is(lt,Pt,Ct,et,tt);break;case r:Is(lt,Pt,Ct,et,tt),ir(et,tt,Ct,1,0);break;case qo:qi(lt,Pt,Ct,et,tt);break;default:t(0)}_e+=ye,Je+=_t}_.Ma+=se}else alert("todo:EmitRescaledRowsYUVA");t(_.Ma<=D.height)}}_.C=C,t(_.C<=_.i)}function As(_){var C;if(0<_.ua)return 0;for(C=0;C<_.Wb;++C){var D=_.Ya[C].G,H=_.Ya[C].H;if(0<D[1][H[1]+0].g||0<D[2][H[2]+0].g||0<D[3][H[3]+0].g)return 0}return 1}function fs(_,C,D,H,Q,se){if(_.Z!=0){var ue=_.qd,_e=_.rd;for(t(Un[_.Z]!=null);C<D;++C)Un[_.Z](ue,_e,H,Q,H,Q,se),ue=H,_e=Q,Q+=se;_.qd=ue,_.rd=_e}}function Ji(_,C){var D=_.l.ma,H=D.Z==0||D.Z==1?_.l.j:_.C;if(H=_.C<H?H:_.C,t(C<=_.l.o),C>H){var Q=_.l.width,se=D.ca,ue=D.tb+Q*H,_e=_.V,ye=_.Ba+_.c*H,Se=_.gc;t(_.ab==1),t(Se[0].hc==3),is(Se[0],H,C,_e,ye,se,ue),fs(D,H,C,se,ue,Q)}_.C=_.Ma=C}function Kr(_,C,D,H,Q,se,ue){var _e=_.$/H,ye=_.$%H,Se=_.m,Je=_.s,_t=D+_.$,vt=_t;Q=D+H*Q;var lt=D+H*se,Pt=280+Je.ua,Ct=_.Pb?_e:16777216,et=0<Je.ua?Je.Wa:null,tt=Je.wc,At=_t<lt?Kt(Je,ye,_e):null;t(_.C<se),t(lt<=Q);var Mt=!1;e:for(;;){for(;Mt||_t<lt;){var Nt=0;if(_e>=Ct){var Qt=_t-D;t((Ct=_).Pb),Ct.wd=Ct.m,Ct.xd=Qt,0<Ct.s.ua&&je(Ct.s.Wa,Ct.s.vb),Ct=_e+xt}if(ye&tt||(At=Kt(Je,ye,_e)),t(At!=null),At.Qb&&(C[_t]=At.qb,Mt=!0),!Mt)if(Be(Se),At.jc){Nt=Se,Qt=C;var s=_t,h=At.pd[he(Nt)&vr-1];t(At.jc),256>h.g?(pe(Nt,Nt.u+h.g),Qt[s]=h.value,Nt=0):(pe(Nt,Nt.u+h.g-256),t(256<=h.value),Nt=h.value),Nt==0&&(Mt=!0)}else Nt=Ri(At.G[0],At.H[0],Se);if(Se.h)break;if(Mt||256>Nt){if(!Mt)if(At.nd)C[_t]=(At.qb|Nt<<8)>>>0;else{if(Be(Se),Mt=Ri(At.G[1],At.H[1],Se),Be(Se),Qt=Ri(At.G[2],At.H[2],Se),s=Ri(At.G[3],At.H[3],Se),Se.h)break;C[_t]=(s<<24|Mt<<16|Nt<<8|Qt)>>>0}if(Mt=!1,++_t,++ye>=H&&(ye=0,++_e,ue!=null&&_e<=se&&!(_e%16)&&ue(_,_e),et!=null))for(;vt<_t;)Nt=C[vt++],et.X[(506832829*Nt&4294967295)>>>et.Mb]=Nt}else if(280>Nt){if(Nt=Ki(Nt-256,Se),Qt=Ri(At.G[4],At.H[4],Se),Be(Se),Qt=Ii(H,Qt=Ki(Qt,Se)),Se.h)break;if(_t-D<Qt||Q-_t<Nt)break e;for(s=0;s<Nt;++s)C[_t+s]=C[_t+s-Qt];for(_t+=Nt,ye+=Nt;ye>=H;)ye-=H,++_e,ue!=null&&_e<=se&&!(_e%16)&&ue(_,_e);if(t(_t<=Q),ye&tt&&(At=Kt(Je,ye,_e)),et!=null)for(;vt<_t;)Nt=C[vt++],et.X[(506832829*Nt&4294967295)>>>et.Mb]=Nt}else{if(!(Nt<Pt))break e;for(Mt=Nt-280,t(et!=null);vt<_t;)Nt=C[vt++],et.X[(506832829*Nt&4294967295)>>>et.Mb]=Nt;Nt=_t,t(!(Mt>>>(Qt=et).Xa)),C[Nt]=Qt.X[Mt],Mt=!0}Mt||t(Se.h==fe(Se))}if(_.Pb&&Se.h&&_t<Q)t(_.m.h),_.a=5,_.m=_.wd,_.$=_.xd,0<_.s.ua&&je(_.s.vb,_.s.Wa);else{if(Se.h)break e;ue?.(_,_e>se?se:_e),_.a=0,_.$=_t-D}return 1}return _.a=3,0}function gi(_){t(_!=null),_.vc=null,_.yc=null,_.Ya=null;var C=_.Wa;C!=null&&(C.X=null),_.vb=null,t(_!=null)}function Fi(){var _=new jo;return _==null?null:(_.a=0,_.xb=ho,Ar("Predictor","VP8LPredictors"),Ar("Predictor","VP8LPredictors_C"),Ar("PredictorAdd","VP8LPredictorsAdd"),Ar("PredictorAdd","VP8LPredictorsAdd_C"),ll=an,Ds=on,Xr=Vt,qr=ur,Is=cn,qi=Dr,vs=zn,Y.VP8LMapColor32b=ta,Y.VP8LMapColor8b=ya,_)}function qs(_,C,D,H,Q){var se=1,ue=[_],_e=[C],ye=H.m,Se=H.s,Je=null,_t=0;e:for(;;){if(D)for(;se&&Pe(ye,1);){var vt=ue,lt=_e,Pt=H,Ct=1,et=Pt.m,tt=Pt.gc[Pt.ab],At=Pe(et,2);if(Pt.Oc&1<<At)se=0;else{switch(Pt.Oc|=1<<At,tt.hc=At,tt.Ea=vt[0],tt.nc=lt[0],tt.K=[null],++Pt.ab,t(4>=Pt.ab),At){case 0:case 1:tt.b=Pe(et,3)+2,Ct=qs(we(tt.Ea,tt.b),we(tt.nc,tt.b),0,Pt,tt.K),tt.K=tt.K[0];break;case 3:var Mt,Nt=Pe(et,8)+1,Qt=16<Nt?0:4<Nt?1:2<Nt?2:3;if(vt[0]=we(tt.Ea,Qt),tt.b=Qt,Mt=Ct=qs(Nt,1,0,Pt,tt.K)){var s,h=Nt,p=tt,v=1<<(8>>p.b),k=l(v);if(k==null)Mt=0;else{var B=p.K[0],z=p.w;for(k[0]=p.K[0][0],s=1;s<1*h;++s)k[s]=Te(B[z+s],k[s-1]);for(;s<4*v;++s)k[s]=0;p.K[0]=null,p.K[0]=k,Mt=1}}Ct=Mt;break;case 2:break;default:t(0)}se=Ct}}if(ue=ue[0],_e=_e[0],se&&Pe(ye,1)&&!(se=1<=(_t=Pe(ye,4))&&11>=_t)){H.a=3;break e}var q;if(q=se)t:{var J,ee,Re,Me=H,ut=ue,gt=_e,Et=_t,Wt=D,Zt=Me.m,mn=Me.s,Oe=[null],Ue=1,nt=0,yt=mt[Et];n:for(;;){if(Wt&&Pe(Zt,1)){var rt=Pe(Zt,3)+2,dt=we(ut,rt),X=we(gt,rt),ce=dt*X;if(!qs(dt,X,0,Me,Oe))break n;for(Oe=Oe[0],mn.xc=rt,J=0;J<ce;++J){var be=Oe[J]>>8&65535;Oe[J]=be,be>=Ue&&(Ue=be+1)}}if(Zt.h)break n;for(ee=0;5>ee;++ee){var ge=T[ee];!ee&&0<Et&&(ge+=1<<Et),nt<ge&&(nt=ge)}var ke=c(Ue*yt,G),Ce=Ue,Ze=c(Ce,j);if(Ze==null)var Ge=null;else t(65536>=Ce),Ge=Ze;var Xe=l(nt);if(Ge==null||Xe==null||ke==null){Me.a=1;break n}var pt=ke;for(J=Re=0;J<Ue;++J){var ct=Ge[J],Dt=ct.G,Xt=ct.H,nn=0,rn=1,Kn=0;for(ee=0;5>ee;++ee){ge=T[ee],Dt[ee]=pt,Xt[ee]=Re,!ee&&0<Et&&(ge+=1<<Et);i:{var Jn,Dn=ge,tr=Me,br=Xe,xl=pt,Ll=Re,yr=0,ri=tr.m,Zo=Pe(ri,1);if(u(br,0,0,Dn),Zo){var Ls=Pe(ri,1)+1,wi=Pe(ri,1),xr=Pe(ri,wi==0?1:8);br[xr]=1,Ls==2&&(br[xr=Pe(ri,8)]=1);var To=1}else{var Fr=l(19),bi=Pe(ri,4)+4;if(19<bi){tr.a=3;var pi=0;break i}for(Jn=0;Jn<bi;++Jn)Fr[le[Jn]]=Pe(ri,3);var Ol=void 0,Ko=void 0,Dl=tr,$c=Fr,Bi=Dn,Cu=br,au=0,No=Dl.m,fo=8,ka=c(128,G);r:for(;te(ka,0,7,$c,19);){if(Pe(No,1)){var ou=2+2*Pe(No,3);if((Ol=2+Pe(No,ou))>Bi)break r}else Ol=Bi;for(Ko=0;Ko<Bi&&Ol--;){Be(No);var Su=ka[0+(127&he(No))];pe(No,No.u+Su.g);var hl=Su.value;if(16>hl)Cu[Ko++]=hl,hl!=0&&(fo=hl);else{var Uh=hl==16,hh=hl-16,qh=w[hh],ch=Pe(No,f[hh])+qh;if(Ko+ch>Bi)break r;for(var Gh=Uh?fo:0;0<ch--;)Cu[Ko++]=Gh}}au=1;break r}au||(Dl.a=3),To=au}(To=To&&!ri.h)&&(yr=te(xl,Ll,8,br,Dn)),To&&yr!=0?pi=yr:(tr.a=3,pi=0)}if(pi==0)break n;if(rn&&V[ee]==1&&(rn=pt[Re].g==0),nn+=pt[Re].g,Re+=pi,3>=ee){var Il,Eu=Xe[0];for(Il=1;Il<ge;++Il)Xe[Il]>Eu&&(Eu=Xe[Il]);Kn+=Eu}}if(ct.nd=rn,ct.Qb=0,rn&&(ct.qb=(Dt[3][Xt[3]+0].value<<24|Dt[1][Xt[1]+0].value<<16|Dt[2][Xt[2]+0].value)>>>0,nn==0&&256>Dt[0][Xt[0]+0].value&&(ct.Qb=1,ct.qb+=Dt[0][Xt[0]+0].value<<8)),ct.jc=!ct.Qb&&6>Kn,ct.jc){var lu,Ca=ct;for(lu=0;lu<vr;++lu){var Jo=lu,po=Ca.pd[Jo],kl=Ca.G[0][Ca.H[0]+Jo];256<=kl.value?(po.g=kl.g+256,po.value=kl.value):(po.g=0,po.value=0,Jo>>=$n(kl,8,po),Jo>>=$n(Ca.G[1][Ca.H[1]+Jo],16,po),Jo>>=$n(Ca.G[2][Ca.H[2]+Jo],0,po),$n(Ca.G[3][Ca.H[3]+Jo],24,po))}}}mn.vc=Oe,mn.Wb=Ue,mn.Ya=Ge,mn.yc=ke,q=1;break t}q=0}if(!(se=q)){H.a=3;break e}if(0<_t){if(Se.ua=1<<_t,!$(Se.Wa,_t)){H.a=1,se=0;break e}}else Se.ua=0;var Pu=H,Au=ue,Hh=_e,Mu=Pu.s,Bu=Mu.xc;if(Pu.c=Au,Pu.i=Hh,Mu.md=we(Au,Bu),Mu.wc=Bu==0?-1:(1<<Bu)-1,D){H.xb=sa;break e}if((Je=l(ue*_e))==null){H.a=1,se=0;break e}se=(se=Kr(H,Je,0,ue,_e,_e,null))&&!ye.h;break e}return se?(Q!=null?Q[0]=Je:(t(Je==null),t(D)),H.$=0,D||gi(Se)):gi(Se),se}function Ma(_,C){var D=_.c*_.i,H=D+C+16*C;return t(_.c<=C),_.V=l(H),_.V==null?(_.Ta=null,_.Ua=0,_.a=1,0):(_.Ta=_.V,_.Ua=_.Ba+D+C,1)}function Xa(_,C){var D=_.C,H=C-D,Q=_.V,se=_.Ba+_.c*D;for(t(C<=_.l.o);0<H;){var ue=16<H?16:H,_e=_.l.ma,ye=_.l.width,Se=ye*ue,Je=_e.ca,_t=_e.tb+ye*D,vt=_.Ta,lt=_.Ua;ii(_,ue,Q,se),Er(vt,lt,Je,_t,Se),fs(_e,D,D+ue,Je,_t,ye),H-=ue,Q+=ue*_.c,D+=ue}t(D==C),_.C=_.Ma=C}function Qa(){this.ub=this.yd=this.td=this.Rb=0}function Gs(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ba(){this.Fb=this.Bb=this.Cb=0,this.Zb=l(4),this.Lb=l(4)}function eo(){this.Yb=(function(){var _=[];return(function C(D,H,Q){for(var se=Q[H],ue=0;ue<se&&(D.push(Q.length>H+1?[]:0),!(Q.length<H+1));ue++)C(D[ue],H+1,Q)})(_,0,[3,11]),_})()}function wr(){this.jb=l(3),this.Wc=d([4,8],eo),this.Xc=d([4,17],eo)}function wl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new l(4),this.od=new l(4)}function Ta(){this.ld=this.La=this.dd=this.tc=0}function Io(){this.Na=this.la=0}function _o(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function to(){this.ad=l(384),this.Za=0,this.Ob=l(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Na(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ta),this.Y=0,this.ya=Array(new to),this.aa=0,this.l=new Xi}function Oa(){this.y=l(16),this.f=l(8),this.ea=l(8)}function Yi(){this.cb=this.a=0,this.sc="",this.m=new re,this.Od=new Qa,this.Kc=new Gs,this.ed=new wl,this.Qa=new Ba,this.Ic=this.$c=this.Aa=0,this.D=new Na,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,re),this.ia=0,this.pb=c(4,_o),this.Pa=new wr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Oa),this.Hd=0,this.rb=Array(new Io),this.sb=0,this.wa=Array(new Ta),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new to),this.L=this.aa=0,this.gd=d([4,2],Ta),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Xi(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function An(){var _=new Yi;return _!=null&&(_.a=0,_.sc="OK",_.cb=0,_.Xb=0,pn||(pn=Qi)),_}function Mn(_,C,D){return _.a==0&&(_.a=C,_.sc=D,_.cb=0),0}function Da(_,C,D){return 3<=D&&_[C+0]==157&&_[C+1]==1&&_[C+2]==42}function _a(_,C){if(_==null)return 0;if(_.a=0,_.sc="OK",C==null)return Mn(_,2,"null VP8Io passed to VP8GetHeaders()");var D=C.data,H=C.w,Q=C.ha;if(4>Q)return Mn(_,7,"Truncated header.");var se=D[H+0]|D[H+1]<<8|D[H+2]<<16,ue=_.Od;if(ue.Rb=!(1&se),ue.td=se>>1&7,ue.yd=se>>4&1,ue.ub=se>>5,3<ue.td)return Mn(_,3,"Incorrect keyframe parameters.");if(!ue.yd)return Mn(_,4,"Frame not displayable.");H+=3,Q-=3;var _e=_.Kc;if(ue.Rb){if(7>Q)return Mn(_,7,"cannot parse picture header");if(!Da(D,H,Q))return Mn(_,3,"Bad code word");_e.c=16383&(D[H+4]<<8|D[H+3]),_e.Td=D[H+4]>>6,_e.i=16383&(D[H+6]<<8|D[H+5]),_e.Ud=D[H+6]>>6,H+=7,Q-=7,_.za=_e.c+15>>4,_.Ub=_e.i+15>>4,C.width=_e.c,C.height=_e.i,C.Da=0,C.j=0,C.v=0,C.va=C.width,C.o=C.height,C.da=0,C.ib=C.width,C.hb=C.height,C.U=C.width,C.T=C.height,u((se=_.Pa).jb,0,255,se.jb.length),t((se=_.Qa)!=null),se.Cb=0,se.Bb=0,se.Fb=1,u(se.Zb,0,0,se.Zb.length),u(se.Lb,0,0,se.Lb)}if(ue.ub>Q)return Mn(_,7,"bad partition length");Ie(se=_.m,D,H,ue.ub),H+=ue.ub,Q-=ue.ub,ue.Rb&&(_e.Ld=We(se),_e.Kd=We(se)),_e=_.Qa;var ye,Se=_.Pa;if(t(se!=null),t(_e!=null),_e.Cb=We(se),_e.Cb){if(_e.Bb=We(se),We(se)){for(_e.Fb=We(se),ye=0;4>ye;++ye)_e.Zb[ye]=We(se)?Fe(se,7):0;for(ye=0;4>ye;++ye)_e.Lb[ye]=We(se)?Fe(se,6):0}if(_e.Bb)for(ye=0;3>ye;++ye)Se.jb[ye]=We(se)?Ve(se,8):255}else _e.Bb=0;if(se.Ka)return Mn(_,3,"cannot parse segment header");if((_e=_.ed).zd=We(se),_e.Tb=Ve(se,6),_e.wb=Ve(se,3),_e.Pc=We(se),_e.Pc&&We(se)){for(Se=0;4>Se;++Se)We(se)&&(_e.vd[Se]=Fe(se,6));for(Se=0;4>Se;++Se)We(se)&&(_e.od[Se]=Fe(se,6))}if(_.L=_e.Tb==0?0:_e.zd?1:2,se.Ka)return Mn(_,3,"cannot parse filter header");var Je=Q;if(Q=ye=H,H=ye+Je,_e=Je,_.Xb=(1<<Ve(_.m,2))-1,Je<3*(Se=_.Xb))D=7;else{for(ye+=3*Se,_e-=3*Se,Je=0;Je<Se;++Je){var _t=D[Q+0]|D[Q+1]<<8|D[Q+2]<<16;_t>_e&&(_t=_e),Ie(_.Jc[+Je],D,ye,_t),ye+=_t,_e-=_t,Q+=3}Ie(_.Jc[+Se],D,ye,_e),D=ye<H?0:5}if(D!=0)return Mn(_,D,"cannot parse partitions");for(D=Ve(ye=_.m,7),Q=We(ye)?Fe(ye,4):0,H=We(ye)?Fe(ye,4):0,_e=We(ye)?Fe(ye,4):0,Se=We(ye)?Fe(ye,4):0,ye=We(ye)?Fe(ye,4):0,Je=_.Qa,_t=0;4>_t;++_t){if(Je.Cb){var vt=Je.Zb[_t];Je.Fb||(vt+=D)}else{if(0<_t){_.pb[_t]=_.pb[0];continue}vt=D}var lt=_.pb[_t];lt.Sc[0]=Rt[hr(vt+Q,127)],lt.Sc[1]=Yt[hr(vt+0,127)],lt.Eb[0]=2*Rt[hr(vt+H,127)],lt.Eb[1]=101581*Yt[hr(vt+_e,127)]>>16,8>lt.Eb[1]&&(lt.Eb[1]=8),lt.Qc[0]=Rt[hr(vt+Se,117)],lt.Qc[1]=Yt[hr(vt+ye,127)],lt.lc=vt+ye}if(!ue.Rb)return Mn(_,4,"Not a key frame.");for(We(se),ue=_.Pa,D=0;4>D;++D){for(Q=0;8>Q;++Q)for(H=0;3>H;++H)for(_e=0;11>_e;++_e)Se=Ye(se,ia[D][Q][H][_e])?Ve(se,8):Pi[D][Q][H][_e],ue.Wc[D][Q].Yb[H][_e]=Se;for(Q=0;17>Q;++Q)ue.Xc[D][Q]=ue.Wc[D][Go[Q]]}return _.kc=We(se),_.kc&&(_.Bd=Ve(se,8)),_.cb=1}function Qi(_,C,D,H,Q,se,ue){var _e=C[Q].Yb[D];for(D=0;16>Q;++Q){if(!Ye(_,_e[D+0]))return Q;for(;!Ye(_,_e[D+1]);)if(_e=C[++Q].Yb[0],D=0,Q==16)return 16;var ye=C[Q+1].Yb;if(Ye(_,_e[D+2])){var Se=_,Je=0;if(Ye(Se,(vt=_e)[(_t=D)+3]))if(Ye(Se,vt[_t+6])){for(_e=0,_t=2*(Je=Ye(Se,vt[_t+8]))+(vt=Ye(Se,vt[_t+9+Je])),Je=0,vt=On[_t];vt[_e];++_e)Je+=Je+Ye(Se,vt[_e]);Je+=3+(8<<_t)}else Ye(Se,vt[_t+7])?(Je=7+2*Ye(Se,165),Je+=Ye(Se,145)):Je=5+Ye(Se,159);else Je=Ye(Se,vt[_t+4])?3+Ye(Se,vt[_t+5]):2;_e=ye[2]}else Je=1,_e=ye[1];ye=ue+di[Q],0>(Se=_).b&&Ke(Se);var _t,vt=Se.b,lt=(_t=Se.Ca>>1)-(Se.I>>vt)>>31;--Se.b,Se.Ca+=lt,Se.Ca|=1,Se.I-=(_t+1&lt)<<vt,se[ye]=((Je^lt)-lt)*H[(0<Q)+0]}return 16}function Hs(_){var C=_.rb[_.sb-1];C.la=0,C.Na=0,u(_.zc,0,0,_.zc.length),_.ja=0}function Ln(_,C){if(_==null)return 0;if(C==null)return Mn(_,2,"NULL VP8Io parameter in VP8Decode().");if(!_.cb&&!_a(_,C))return 0;if(t(_.cb),C.ac==null||C.ac(C)){C.ob&&(_.L=0);var D=$o[_.L];if(_.L==2?(_.yb=0,_.zb=0):(_.yb=C.v-D>>4,_.zb=C.j-D>>4,0>_.yb&&(_.yb=0),0>_.zb&&(_.zb=0)),_.Va=C.o+15+D>>4,_.Hb=C.va+15+D>>4,_.Hb>_.za&&(_.Hb=_.za),_.Va>_.Ub&&(_.Va=_.Ub),0<_.L){var H=_.ed;for(D=0;4>D;++D){var Q;if(_.Qa.Cb){var se=_.Qa.Lb[D];_.Qa.Fb||(se+=H.Tb)}else se=H.Tb;for(Q=0;1>=Q;++Q){var ue=_.gd[D][Q],_e=se;if(H.Pc&&(_e+=H.vd[0],Q&&(_e+=H.od[0])),0<(_e=0>_e?0:63<_e?63:_e)){var ye=_e;0<H.wb&&(ye=4<H.wb?ye>>2:ye>>1)>9-H.wb&&(ye=9-H.wb),1>ye&&(ye=1),ue.dd=ye,ue.tc=2*_e+ye,ue.ld=40<=_e?2:15<=_e?1:0}else ue.tc=0;ue.La=Q}}}D=0}else Mn(_,6,"Frame setup failed"),D=_.a;if(D=D==0){if(D){_.$c=0,0<_.Aa||(_.Ic=Va);e:{D=_.Ic,H=4*(ye=_.za);var Se=32*ye,Je=ye+1,_t=0<_.L?ye*(0<_.Aa?2:1):0,vt=(_.Aa==2?2:1)*ye;if((ue=H+832+(Q=3*(16*D+$o[_.L])/2*Se)+(se=_.Fa!=null&&0<_.Fa.length?_.Kc.c*_.Kc.i:0))!=ue)D=0;else{if(ue>_.Vb){if(_.Vb=0,_.Ec=l(ue),_.Fc=0,_.Ec==null){D=Mn(_,1,"no memory during frame initialization.");break e}_.Vb=ue}ue=_.Ec,_e=_.Fc,_.Ac=ue,_.Bc=_e,_e+=H,_.Gd=c(Se,Oa),_.Hd=0,_.rb=c(Je+1,Io),_.sb=1,_.wa=_t?c(_t,Ta):null,_.Y=0,_.D.Nb=0,_.D.wa=_.wa,_.D.Y=_.Y,0<_.Aa&&(_.D.Y+=ye),t(!0),_.oc=ue,_.pc=_e,_e+=832,_.ya=c(vt,to),_.aa=0,_.D.ya=_.ya,_.D.aa=_.aa,_.Aa==2&&(_.D.aa+=ye),_.R=16*ye,_.B=8*ye,ye=(Se=$o[_.L])*_.R,Se=Se/2*_.B,_.sa=ue,_.ta=_e+ye,_.qa=_.sa,_.ra=_.ta+16*D*_.R+Se,_.Ha=_.qa,_.Ia=_.ra+8*D*_.B+Se,_.$c=0,_e+=Q,_.mb=se?ue:null,_.nb=se?_e:null,t(_e+se<=_.Fc+_.Vb),Hs(_),u(_.Ac,_.Bc,0,H),D=1}}if(D){if(C.ka=0,C.y=_.sa,C.O=_.ta,C.f=_.qa,C.N=_.ra,C.ea=_.Ha,C.Vd=_.Ia,C.fa=_.R,C.Rc=_.B,C.F=null,C.J=0,!zo){for(D=-255;255>=D;++D)lr[255+D]=0>D?-D:D;for(D=-1020;1020>=D;++D)xs[1020+D]=-128>D?-128:127<D?127:D;for(D=-112;112>=D;++D)xa[112+D]=-16>D?-16:15<D?15:D;for(D=-255;510>=D;++D)Rs[255+D]=0>D?0:255<D?255:D;zo=1}wa=Gn,ys=Ra,Gi=ji,vi=kr,ci=ds,Xn=Ro,Ga=Lo,Mo=Cr,uo=_i,yi=ko,Hi=Ts,ss=za,ws=Br,na=Co,ra=gs,ba=gn,bs=Yr,fi=ja,os[0]=Hn,os[1]=vo,os[2]=xn,os[3]=zr,os[4]=wo,os[5]=Fa,os[6]=Ks,os[7]=ts,os[8]=bo,os[9]=ms,ei[0]=va,ei[1]=yo,ei[2]=ps,ei[3]=$s,ei[4]=dr,ei[5]=Ms,ei[6]=es,ti[0]=zi,ti[1]=Vs,ti[2]=no,ti[3]=gr,ti[4]=io,ti[5]=ro,ti[6]=xo,D=1}else D=0}D&&(D=(function(lt,Pt){for(lt.M=0;lt.M<lt.Va;++lt.M){var Ct,et=lt.Jc[lt.M&lt.Xb],tt=lt.m,At=lt;for(Ct=0;Ct<At.za;++Ct){var Mt=tt,Nt=At,Qt=Nt.Ac,s=Nt.Bc+4*Ct,h=Nt.zc,p=Nt.ya[Nt.aa+Ct];if(Nt.Qa.Bb?p.$b=Ye(Mt,Nt.Pa.jb[0])?2+Ye(Mt,Nt.Pa.jb[2]):Ye(Mt,Nt.Pa.jb[1]):p.$b=0,Nt.kc&&(p.Ad=Ye(Mt,Nt.Bd)),p.Za=!Ye(Mt,145)+0,p.Za){var v=p.Ob,k=0;for(Nt=0;4>Nt;++Nt){var B,z=h[0+Nt];for(B=0;4>B;++B){z=Pr[Qt[s+B]][z];for(var q=Wr[Ye(Mt,z[0])];0<q;)q=Wr[2*q+Ye(Mt,z[q])];z=-q,Qt[s+B]=z}i(v,k,Qt,s,4),k+=4,h[0+Nt]=z}}else z=Ye(Mt,156)?Ye(Mt,128)?1:3:Ye(Mt,163)?2:0,p.Ob[0]=z,u(Qt,s,z,4),u(h,0,z,4);p.Dd=Ye(Mt,142)?Ye(Mt,114)?Ye(Mt,183)?1:3:2:0}if(At.m.Ka)return Mn(lt,7,"Premature end-of-partition0 encountered.");for(;lt.ja<lt.za;++lt.ja){if(At=et,Mt=(tt=lt).rb[tt.sb-1],Qt=tt.rb[tt.sb+tt.ja],Ct=tt.ya[tt.aa+tt.ja],s=tt.kc?Ct.Ad:0)Mt.la=Qt.la=0,Ct.Za||(Mt.Na=Qt.Na=0),Ct.Hc=0,Ct.Gc=0,Ct.ia=0;else{var J,ee;if(Mt=Qt,Qt=At,s=tt.Pa.Xc,h=tt.ya[tt.aa+tt.ja],p=tt.pb[h.$b],Nt=h.ad,v=0,k=tt.rb[tt.sb-1],z=B=0,u(Nt,v,0,384),h.Za)var Re=0,Me=s[3];else{q=l(16);var ut=Mt.Na+k.Na;if(ut=pn(Qt,s[1],ut,p.Eb,0,q,0),Mt.Na=k.Na=(0<ut)+0,1<ut)wa(q,0,Nt,v);else{var gt=q[0]+3>>3;for(q=0;256>q;q+=16)Nt[v+q]=gt}Re=1,Me=s[0]}var Et=15&Mt.la,Wt=15&k.la;for(q=0;4>q;++q){var Zt=1&Wt;for(gt=ee=0;4>gt;++gt)Et=Et>>1|(Zt=(ut=pn(Qt,Me,ut=Zt+(1&Et),p.Sc,Re,Nt,v))>Re)<<7,ee=ee<<2|(3<ut?3:1<ut?2:Nt[v+0]!=0),v+=16;Et>>=4,Wt=Wt>>1|Zt<<7,B=(B<<8|ee)>>>0}for(Me=Et,Re=Wt>>4,J=0;4>J;J+=2){for(ee=0,Et=Mt.la>>4+J,Wt=k.la>>4+J,q=0;2>q;++q){for(Zt=1&Wt,gt=0;2>gt;++gt)ut=Zt+(1&Et),Et=Et>>1|(Zt=0<(ut=pn(Qt,s[2],ut,p.Qc,0,Nt,v)))<<3,ee=ee<<2|(3<ut?3:1<ut?2:Nt[v+0]!=0),v+=16;Et>>=2,Wt=Wt>>1|Zt<<5}z|=ee<<4*J,Me|=Et<<4<<J,Re|=(240&Wt)<<J}Mt.la=Me,k.la=Re,h.Hc=B,h.Gc=z,h.ia=43690&z?0:p.ia,s=!(B|z)}if(0<tt.L&&(tt.wa[tt.Y+tt.ja]=tt.gd[Ct.$b][Ct.Za],tt.wa[tt.Y+tt.ja].La|=!s),At.Ka)return Mn(lt,7,"Premature end-of-file encountered.")}if(Hs(lt),tt=Pt,At=1,Ct=(et=lt).D,Mt=0<et.L&&et.M>=et.zb&&et.M<=et.Va,et.Aa==0)e:{if(Ct.M=et.M,Ct.uc=Mt,Eo(et,Ct),At=1,Ct=(ee=et.D).Nb,Mt=(z=$o[et.L])*et.R,Qt=z/2*et.B,q=16*Ct*et.R,gt=8*Ct*et.B,s=et.sa,h=et.ta-Mt+q,p=et.qa,Nt=et.ra-Qt+gt,v=et.Ha,k=et.Ia-Qt+gt,Wt=(Et=ee.M)==0,B=Et>=et.Va-1,et.Aa==2&&Eo(et,ee),ee.uc)for(Zt=(ut=et).D.M,t(ut.D.uc),ee=ut.yb;ee<ut.Hb;++ee){Re=ee,Me=Zt;var mn=(Oe=(ge=ut).D).Nb;J=ge.R;var Oe=Oe.wa[Oe.Y+Re],Ue=ge.sa,nt=ge.ta+16*mn*J+16*Re,yt=Oe.dd,rt=Oe.tc;if(rt!=0)if(t(3<=rt),ge.L==1)0<Re&&ba(Ue,nt,J,rt+4),Oe.La&&fi(Ue,nt,J,rt),0<Me&&ra(Ue,nt,J,rt+4),Oe.La&&bs(Ue,nt,J,rt);else{var dt=ge.B,X=ge.qa,ce=ge.ra+8*mn*dt+8*Re,be=ge.Ha,ge=ge.Ia+8*mn*dt+8*Re;mn=Oe.ld,0<Re&&(Mo(Ue,nt,J,rt+4,yt,mn),yi(X,ce,be,ge,dt,rt+4,yt,mn)),Oe.La&&(ss(Ue,nt,J,rt,yt,mn),na(X,ce,be,ge,dt,rt,yt,mn)),0<Me&&(Ga(Ue,nt,J,rt+4,yt,mn),uo(X,ce,be,ge,dt,rt+4,yt,mn)),Oe.La&&(Hi(Ue,nt,J,rt,yt,mn),ws(X,ce,be,ge,dt,rt,yt,mn))}}if(et.ia&&alert("todo:DitherRow"),tt.put!=null){if(ee=16*Et,Et=16*(Et+1),Wt?(tt.y=et.sa,tt.O=et.ta+q,tt.f=et.qa,tt.N=et.ra+gt,tt.ea=et.Ha,tt.W=et.Ia+gt):(ee-=z,tt.y=s,tt.O=h,tt.f=p,tt.N=Nt,tt.ea=v,tt.W=k),B||(Et-=z),Et>tt.o&&(Et=tt.o),tt.F=null,tt.J=null,et.Fa!=null&&0<et.Fa.length&&ee<Et&&(tt.J=Tr(et,tt,ee,Et-ee),tt.F=et.mb,tt.F==null&&tt.F.length==0)){At=Mn(et,3,"Could not decode alpha data.");break e}ee<tt.j&&(z=tt.j-ee,ee=tt.j,t(!(1&z)),tt.O+=et.R*z,tt.N+=et.B*(z>>1),tt.W+=et.B*(z>>1),tt.F!=null&&(tt.J+=tt.width*z)),ee<Et&&(tt.O+=tt.v,tt.N+=tt.v>>1,tt.W+=tt.v>>1,tt.F!=null&&(tt.J+=tt.v),tt.ka=ee-tt.j,tt.U=tt.va-tt.v,tt.T=Et-ee,At=tt.put(tt))}Ct+1!=et.Ic||B||(i(et.sa,et.ta-Mt,s,h+16*et.R,Mt),i(et.qa,et.ra-Qt,p,Nt+8*et.B,Qt),i(et.Ha,et.Ia-Qt,v,k+8*et.B,Qt))}if(!At)return Mn(lt,6,"Output aborted.")}return 1})(_,C)),C.bc!=null&&C.bc(C),D&=1}return D?(_.cb=0,D):0}function Vn(_,C,D,H,Q){Q=_[C+D+32*H]+(Q>>3),_[C+D+32*H]=-256&Q?0>Q?0:255:Q}function Ia(_,C,D,H,Q,se){Vn(_,C,0,D,H+Q),Vn(_,C,1,D,H+se),Vn(_,C,2,D,H-se),Vn(_,C,3,D,H-Q)}function si(_){return(20091*_>>16)+_}function Jr(_,C,D,H){var Q,se=0,ue=l(16);for(Q=0;4>Q;++Q){var _e=_[C+0]+_[C+8],ye=_[C+0]-_[C+8],Se=(35468*_[C+4]>>16)-si(_[C+12]),Je=si(_[C+4])+(35468*_[C+12]>>16);ue[se+0]=_e+Je,ue[se+1]=ye+Se,ue[se+2]=ye-Se,ue[se+3]=_e-Je,se+=4,C++}for(Q=se=0;4>Q;++Q)_e=(_=ue[se+0]+4)+ue[se+8],ye=_-ue[se+8],Se=(35468*ue[se+4]>>16)-si(ue[se+12]),Vn(D,H,0,0,_e+(Je=si(ue[se+4])+(35468*ue[se+12]>>16))),Vn(D,H,1,0,ye+Se),Vn(D,H,2,0,ye-Se),Vn(D,H,3,0,_e-Je),se++,H+=32}function Ro(_,C,D,H){var Q=_[C+0]+4,se=35468*_[C+4]>>16,ue=si(_[C+4]),_e=35468*_[C+1]>>16;Ia(D,H,0,Q+ue,_=si(_[C+1]),_e),Ia(D,H,1,Q+se,_,_e),Ia(D,H,2,Q-se,_,_e),Ia(D,H,3,Q-ue,_,_e)}function Ra(_,C,D,H,Q){Jr(_,C,D,H),Q&&Jr(_,C+16,D,H+4)}function ji(_,C,D,H){ys(_,C+0,D,H,1),ys(_,C+32,D,H+128,1)}function kr(_,C,D,H){var Q;for(_=_[C+0]+4,Q=0;4>Q;++Q)for(C=0;4>C;++C)Vn(D,H,C,Q,_)}function ds(_,C,D,H){_[C+0]&&vi(_,C+0,D,H),_[C+16]&&vi(_,C+16,D,H+4),_[C+32]&&vi(_,C+32,D,H+128),_[C+48]&&vi(_,C+48,D,H+128+4)}function Gn(_,C,D,H){var Q,se=l(16);for(Q=0;4>Q;++Q){var ue=_[C+0+Q]+_[C+12+Q],_e=_[C+4+Q]+_[C+8+Q],ye=_[C+4+Q]-_[C+8+Q],Se=_[C+0+Q]-_[C+12+Q];se[0+Q]=ue+_e,se[8+Q]=ue-_e,se[4+Q]=Se+ye,se[12+Q]=Se-ye}for(Q=0;4>Q;++Q)ue=(_=se[0+4*Q]+3)+se[3+4*Q],_e=se[1+4*Q]+se[2+4*Q],ye=se[1+4*Q]-se[2+4*Q],Se=_-se[3+4*Q],D[H+0]=ue+_e>>3,D[H+16]=Se+ye>>3,D[H+32]=ue-_e>>3,D[H+48]=Se-ye>>3,H+=64}function Ws(_,C,D){var H,Q=C-32,se=sr,ue=255-_[Q-1];for(H=0;H<D;++H){var _e,ye=se,Se=ue+_[C-1];for(_e=0;_e<D;++_e)_[C+_e]=ye[Se+_[Q+_e]];C+=32}}function vo(_,C){Ws(_,C,4)}function Vs(_,C){Ws(_,C,8)}function yo(_,C){Ws(_,C,16)}function ps(_,C){var D;for(D=0;16>D;++D)i(_,C+32*D,_,C-32,16)}function $s(_,C){var D;for(D=16;0<D;--D)u(_,C,_[C-1],16),C+=32}function Zs(_,C,D){var H;for(H=0;16>H;++H)u(C,D+32*H,_,16)}function va(_,C){var D,H=16;for(D=0;16>D;++D)H+=_[C-1+32*D]+_[C+D-32];Zs(H>>5,_,C)}function dr(_,C){var D,H=8;for(D=0;16>D;++D)H+=_[C-1+32*D];Zs(H>>4,_,C)}function Ms(_,C){var D,H=8;for(D=0;16>D;++D)H+=_[C+D-32];Zs(H>>4,_,C)}function es(_,C){Zs(128,_,C)}function bn(_,C,D){return _+2*C+D+2>>2}function xn(_,C){var D,H=C-32;for(H=new Uint8Array([bn(_[H-1],_[H+0],_[H+1]),bn(_[H+0],_[H+1],_[H+2]),bn(_[H+1],_[H+2],_[H+3]),bn(_[H+2],_[H+3],_[H+4])]),D=0;4>D;++D)i(_,C+32*D,H,0,H.length)}function zr(_,C){var D=_[C-1],H=_[C-1+32],Q=_[C-1+64],se=_[C-1+96];Tt(_,C+0,16843009*bn(_[C-1-32],D,H)),Tt(_,C+32,16843009*bn(D,H,Q)),Tt(_,C+64,16843009*bn(H,Q,se)),Tt(_,C+96,16843009*bn(Q,se,se))}function Hn(_,C){var D,H=4;for(D=0;4>D;++D)H+=_[C+D-32]+_[C-1+32*D];for(H>>=3,D=0;4>D;++D)u(_,C+32*D,H,4)}function wo(_,C){var D=_[C-1+0],H=_[C-1+32],Q=_[C-1+64],se=_[C-1-32],ue=_[C+0-32],_e=_[C+1-32],ye=_[C+2-32],Se=_[C+3-32];_[C+0+96]=bn(H,Q,_[C-1+96]),_[C+1+96]=_[C+0+64]=bn(D,H,Q),_[C+2+96]=_[C+1+64]=_[C+0+32]=bn(se,D,H),_[C+3+96]=_[C+2+64]=_[C+1+32]=_[C+0+0]=bn(ue,se,D),_[C+3+64]=_[C+2+32]=_[C+1+0]=bn(_e,ue,se),_[C+3+32]=_[C+2+0]=bn(ye,_e,ue),_[C+3+0]=bn(Se,ye,_e)}function Ks(_,C){var D=_[C+1-32],H=_[C+2-32],Q=_[C+3-32],se=_[C+4-32],ue=_[C+5-32],_e=_[C+6-32],ye=_[C+7-32];_[C+0+0]=bn(_[C+0-32],D,H),_[C+1+0]=_[C+0+32]=bn(D,H,Q),_[C+2+0]=_[C+1+32]=_[C+0+64]=bn(H,Q,se),_[C+3+0]=_[C+2+32]=_[C+1+64]=_[C+0+96]=bn(Q,se,ue),_[C+3+32]=_[C+2+64]=_[C+1+96]=bn(se,ue,_e),_[C+3+64]=_[C+2+96]=bn(ue,_e,ye),_[C+3+96]=bn(_e,ye,ye)}function Fa(_,C){var D=_[C-1+0],H=_[C-1+32],Q=_[C-1+64],se=_[C-1-32],ue=_[C+0-32],_e=_[C+1-32],ye=_[C+2-32],Se=_[C+3-32];_[C+0+0]=_[C+1+64]=se+ue+1>>1,_[C+1+0]=_[C+2+64]=ue+_e+1>>1,_[C+2+0]=_[C+3+64]=_e+ye+1>>1,_[C+3+0]=ye+Se+1>>1,_[C+0+96]=bn(Q,H,D),_[C+0+64]=bn(H,D,se),_[C+0+32]=_[C+1+96]=bn(D,se,ue),_[C+1+32]=_[C+2+96]=bn(se,ue,_e),_[C+2+32]=_[C+3+96]=bn(ue,_e,ye),_[C+3+32]=bn(_e,ye,Se)}function ts(_,C){var D=_[C+0-32],H=_[C+1-32],Q=_[C+2-32],se=_[C+3-32],ue=_[C+4-32],_e=_[C+5-32],ye=_[C+6-32],Se=_[C+7-32];_[C+0+0]=D+H+1>>1,_[C+1+0]=_[C+0+64]=H+Q+1>>1,_[C+2+0]=_[C+1+64]=Q+se+1>>1,_[C+3+0]=_[C+2+64]=se+ue+1>>1,_[C+0+32]=bn(D,H,Q),_[C+1+32]=_[C+0+96]=bn(H,Q,se),_[C+2+32]=_[C+1+96]=bn(Q,se,ue),_[C+3+32]=_[C+2+96]=bn(se,ue,_e),_[C+3+64]=bn(ue,_e,ye),_[C+3+96]=bn(_e,ye,Se)}function ms(_,C){var D=_[C-1+0],H=_[C-1+32],Q=_[C-1+64],se=_[C-1+96];_[C+0+0]=D+H+1>>1,_[C+2+0]=_[C+0+32]=H+Q+1>>1,_[C+2+32]=_[C+0+64]=Q+se+1>>1,_[C+1+0]=bn(D,H,Q),_[C+3+0]=_[C+1+32]=bn(H,Q,se),_[C+3+32]=_[C+1+64]=bn(Q,se,se),_[C+3+64]=_[C+2+64]=_[C+0+96]=_[C+1+96]=_[C+2+96]=_[C+3+96]=se}function bo(_,C){var D=_[C-1+0],H=_[C-1+32],Q=_[C-1+64],se=_[C-1+96],ue=_[C-1-32],_e=_[C+0-32],ye=_[C+1-32],Se=_[C+2-32];_[C+0+0]=_[C+2+32]=D+ue+1>>1,_[C+0+32]=_[C+2+64]=H+D+1>>1,_[C+0+64]=_[C+2+96]=Q+H+1>>1,_[C+0+96]=se+Q+1>>1,_[C+3+0]=bn(_e,ye,Se),_[C+2+0]=bn(ue,_e,ye),_[C+1+0]=_[C+3+32]=bn(D,ue,_e),_[C+1+32]=_[C+3+64]=bn(H,D,ue),_[C+1+64]=_[C+3+96]=bn(Q,H,D),_[C+1+96]=bn(se,Q,H)}function no(_,C){var D;for(D=0;8>D;++D)i(_,C+32*D,_,C-32,8)}function gr(_,C){var D;for(D=0;8>D;++D)u(_,C,_[C-1],8),C+=32}function ai(_,C,D){var H;for(H=0;8>H;++H)u(C,D+32*H,_,8)}function zi(_,C){var D,H=8;for(D=0;8>D;++D)H+=_[C+D-32]+_[C-1+32*D];ai(H>>4,_,C)}function ro(_,C){var D,H=4;for(D=0;8>D;++D)H+=_[C+D-32];ai(H>>3,_,C)}function io(_,C){var D,H=4;for(D=0;8>D;++D)H+=_[C-1+32*D];ai(H>>3,_,C)}function xo(_,C){ai(128,_,C)}function Js(_,C,D){var H=_[C-D],Q=_[C+0],se=3*(Q-H)+Ei[1020+_[C-2*D]-_[C+D]],ue=Nr[112+(se+4>>3)];_[C-D]=sr[255+H+Nr[112+(se+3>>3)]],_[C+0]=sr[255+Q-ue]}function Ys(_,C,D,H){var Q=_[C+0],se=_[C+D];return Wi[255+_[C-2*D]-_[C-D]]>H||Wi[255+se-Q]>H}function so(_,C,D,H){return 4*Wi[255+_[C-D]-_[C+0]]+Wi[255+_[C-2*D]-_[C+D]]<=H}function In(_,C,D,H,Q){var se=_[C-3*D],ue=_[C-2*D],_e=_[C-D],ye=_[C+0],Se=_[C+D],Je=_[C+2*D],_t=_[C+3*D];return 4*Wi[255+_e-ye]+Wi[255+ue-Se]>H?0:Wi[255+_[C-4*D]-se]<=Q&&Wi[255+se-ue]<=Q&&Wi[255+ue-_e]<=Q&&Wi[255+_t-Je]<=Q&&Wi[255+Je-Se]<=Q&&Wi[255+Se-ye]<=Q}function gs(_,C,D,H){var Q=2*H+1;for(H=0;16>H;++H)so(_,C+H,D,Q)&&Js(_,C+H,D)}function gn(_,C,D,H){var Q=2*H+1;for(H=0;16>H;++H)so(_,C+H*D,1,Q)&&Js(_,C+H*D,1)}function Yr(_,C,D,H){var Q;for(Q=3;0<Q;--Q)gs(_,C+=4*D,D,H)}function ja(_,C,D,H){var Q;for(Q=3;0<Q;--Q)gn(_,C+=4,D,H)}function Bs(_,C,D,H,Q,se,ue,_e){for(se=2*se+1;0<Q--;){if(In(_,C,D,se,ue))if(Ys(_,C,D,_e))Js(_,C,D);else{var ye=_,Se=C,Je=D,_t=ye[Se-2*Je],vt=ye[Se-Je],lt=ye[Se+0],Pt=ye[Se+Je],Ct=ye[Se+2*Je],et=27*(At=Ei[1020+3*(lt-vt)+Ei[1020+_t-Pt]])+63>>7,tt=18*At+63>>7,At=9*At+63>>7;ye[Se-3*Je]=sr[255+ye[Se-3*Je]+At],ye[Se-2*Je]=sr[255+_t+tt],ye[Se-Je]=sr[255+vt+et],ye[Se+0]=sr[255+lt-et],ye[Se+Je]=sr[255+Pt-tt],ye[Se+2*Je]=sr[255+Ct-At]}C+=H}}function oi(_,C,D,H,Q,se,ue,_e){for(se=2*se+1;0<Q--;){if(In(_,C,D,se,ue))if(Ys(_,C,D,_e))Js(_,C,D);else{var ye=_,Se=C,Je=D,_t=ye[Se-Je],vt=ye[Se+0],lt=ye[Se+Je],Pt=Nr[112+((Ct=3*(vt-_t))+4>>3)],Ct=Nr[112+(Ct+3>>3)],et=Pt+1>>1;ye[Se-2*Je]=sr[255+ye[Se-2*Je]+et],ye[Se-Je]=sr[255+_t+Ct],ye[Se+0]=sr[255+vt-Pt],ye[Se+Je]=sr[255+lt-et]}C+=H}}function Lo(_,C,D,H,Q,se){Bs(_,C,D,1,16,H,Q,se)}function Cr(_,C,D,H,Q,se){Bs(_,C,1,D,16,H,Q,se)}function Ts(_,C,D,H,Q,se){var ue;for(ue=3;0<ue;--ue)oi(_,C+=4*D,D,1,16,H,Q,se)}function za(_,C,D,H,Q,se){var ue;for(ue=3;0<ue;--ue)oi(_,C+=4,1,D,16,H,Q,se)}function _i(_,C,D,H,Q,se,ue,_e){Bs(_,C,Q,1,8,se,ue,_e),Bs(D,H,Q,1,8,se,ue,_e)}function ko(_,C,D,H,Q,se,ue,_e){Bs(_,C,1,Q,8,se,ue,_e),Bs(D,H,1,Q,8,se,ue,_e)}function Br(_,C,D,H,Q,se,ue,_e){oi(_,C+4*Q,Q,1,8,se,ue,_e),oi(D,H+4*Q,Q,1,8,se,ue,_e)}function Co(_,C,D,H,Q,se,ue,_e){oi(_,C+4,1,Q,8,se,ue,_e),oi(D,H+4,1,Q,8,se,ue,_e)}function Ns(){this.ba=new Ir,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new or,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ki(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ao(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Fo(){this.ua=0,this.Wa=new oe,this.vb=new oe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new j,this.yc=new G}function jo(){this.xb=this.a=0,this.l=new Xi,this.ca=new Ir,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new F,this.Pb=0,this.wd=new F,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Fo,this.ab=0,this.gc=c(4,ao),this.Oc=0}function So(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Xi,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Xs(_,C,D,H,Q,se,ue){for(_=_==null?0:_[C+0],C=0;C<ue;++C)Q[se+C]=_+D[H+C]&255,_=Q[se+C]}function oo(_,C,D,H,Q,se,ue){var _e;if(_==null)Xs(null,null,D,H,Q,se,ue);else for(_e=0;_e<ue;++_e)Q[se+_e]=_[C+_e]+D[H+_e]&255}function Ua(_,C,D,H,Q,se,ue){if(_==null)Xs(null,null,D,H,Q,se,ue);else{var _e,ye=_[C+0],Se=ye,Je=ye;for(_e=0;_e<ue;++_e)Se=Je+(ye=_[C+_e])-Se,Je=D[H+_e]+(-256&Se?0>Se?0:255:Se)&255,Se=ye,Q[se+_e]=Je}}function Tr(_,C,D,H){var Q=C.width,se=C.o;if(t(_!=null&&C!=null),0>D||0>=H||D+H>se)return null;if(!_.Cc){if(_.ga==null){var ue;if(_.ga=new So,(ue=_.ga==null)||(ue=C.width*C.o,t(_.Gb.length==0),_.Gb=l(ue),_.Uc=0,_.Gb==null?ue=0:(_.mb=_.Gb,_.nb=_.Uc,_.rc=null,ue=1),ue=!ue),!ue){ue=_.ga;var _e=_.Fa,ye=_.P,Se=_.qc,Je=_.mb,_t=_.nb,vt=ye+1,lt=Se-1,Pt=ue.l;if(t(_e!=null&&Je!=null&&C!=null),Un[0]=null,Un[1]=Xs,Un[2]=oo,Un[3]=Ua,ue.ca=Je,ue.tb=_t,ue.c=C.width,ue.i=C.height,t(0<ue.c&&0<ue.i),1>=Se)C=0;else if(ue.$a=_e[ye+0]>>0&3,ue.Z=_e[ye+0]>>2&3,ue.Lc=_e[ye+0]>>4&3,ye=_e[ye+0]>>6&3,0>ue.$a||1<ue.$a||4<=ue.Z||1<ue.Lc||ye)C=0;else if(Pt.put=cs,Pt.ac=Zr,Pt.bc=Zi,Pt.ma=ue,Pt.width=C.width,Pt.height=C.height,Pt.Da=C.Da,Pt.v=C.v,Pt.va=C.va,Pt.j=C.j,Pt.o=C.o,ue.$a)e:{t(ue.$a==1),C=Fi();t:for(;;){if(C==null){C=0;break e}if(t(ue!=null),ue.mc=C,C.c=ue.c,C.i=ue.i,C.l=ue.l,C.l.ma=ue,C.l.width=ue.c,C.l.height=ue.i,C.a=0,Le(C.m,_e,vt,lt),!qs(ue.c,ue.i,1,C,null)||(C.ab==1&&C.gc[0].hc==3&&As(C.s)?(ue.ic=1,_e=C.c*C.i,C.Ta=null,C.Ua=0,C.V=l(_e),C.Ba=0,C.V==null?(C.a=1,C=0):C=1):(ue.ic=0,C=Ma(C,ue.c)),!C))break t;C=1;break e}ue.mc=null,C=0}else C=lt>=ue.c*ue.i;ue=!C}if(ue)return null;_.ga.Lc!=1?_.Ga=0:H=se-D}t(_.ga!=null),t(D+H<=se);e:{if(C=(_e=_.ga).c,se=_e.l.o,_e.$a==0){if(vt=_.rc,lt=_.Vc,Pt=_.Fa,ye=_.P+1+D*C,Se=_.mb,Je=_.nb+D*C,t(ye<=_.P+_.qc),_e.Z!=0)for(t(Un[_e.Z]!=null),ue=0;ue<H;++ue)Un[_e.Z](vt,lt,Pt,ye,Se,Je,C),vt=Se,lt=Je,Je+=C,ye+=C;else for(ue=0;ue<H;++ue)i(Se,Je,Pt,ye,C),vt=Se,lt=Je,Je+=C,ye+=C;_.rc=vt,_.Vc=lt}else{if(t(_e.mc!=null),C=D+H,t((ue=_e.mc)!=null),t(C<=ue.i),ue.C>=C)C=1;else if(_e.ic||ft(),_e.ic){_e=ue.V,vt=ue.Ba,lt=ue.c;var Ct=ue.i,et=(Pt=1,ye=ue.$/lt,Se=ue.$%lt,Je=ue.m,_t=ue.s,ue.$),tt=lt*Ct,At=lt*C,Mt=_t.wc,Nt=et<At?Kt(_t,Se,ye):null;t(et<=tt),t(C<=Ct),t(As(_t));t:for(;;){for(;!Je.h&&et<At;){if(Se&Mt||(Nt=Kt(_t,Se,ye)),t(Nt!=null),Be(Je),256>(Ct=Ri(Nt.G[0],Nt.H[0],Je)))_e[vt+et]=Ct,++et,++Se>=lt&&(Se=0,++ye<=C&&!(ye%16)&&Ji(ue,ye));else{if(!(280>Ct)){Pt=0;break t}Ct=Ki(Ct-256,Je);var Qt,s=Ri(Nt.G[4],Nt.H[4],Je);if(Be(Je),!(et>=(s=Ii(lt,s=Ki(s,Je)))&&tt-et>=Ct)){Pt=0;break t}for(Qt=0;Qt<Ct;++Qt)_e[vt+et+Qt]=_e[vt+et+Qt-s];for(et+=Ct,Se+=Ct;Se>=lt;)Se-=lt,++ye<=C&&!(ye%16)&&Ji(ue,ye);et<At&&Se&Mt&&(Nt=Kt(_t,Se,ye))}t(Je.h==fe(Je))}Ji(ue,ye>C?C:ye);break t}!Pt||Je.h&&et<tt?(Pt=0,ue.a=Je.h?5:3):ue.$=et,C=Pt}else C=Kr(ue,ue.V,ue.Ba,ue.c,ue.i,C,Xa);if(!C){H=0;break e}}D+H>=se&&(_.Cc=1),H=1}if(!H)return null;if(_.Cc&&((H=_.ga)!=null&&(H.mc=null),_.ga=null,0<_.Ga))return alert("todo:WebPDequantizeLevels"),null}return _.nb+D*Q}function P(_,C,D,H,Q,se){for(;0<Q--;){var ue,_e=_,ye=C+(D?1:0),Se=_,Je=C+(D?0:3);for(ue=0;ue<H;++ue){var _t=Se[Je+4*ue];_t!=255&&(_t*=32897,_e[ye+4*ue+0]=_e[ye+4*ue+0]*_t>>23,_e[ye+4*ue+1]=_e[ye+4*ue+1]*_t>>23,_e[ye+4*ue+2]=_e[ye+4*ue+2]*_t>>23)}C+=se}}function ne(_,C,D,H,Q){for(;0<H--;){var se;for(se=0;se<D;++se){var ue=_[C+2*se+0],_e=15&(Se=_[C+2*se+1]),ye=4369*_e,Se=(240&Se|Se>>4)*ye>>16;_[C+2*se+0]=(240&ue|ue>>4)*ye>>16&240|(15&ue|ue<<4)*ye>>16>>4&15,_[C+2*se+1]=240&Se|_e}C+=Q}}function De(_,C,D,H,Q,se,ue,_e){var ye,Se,Je=255;for(Se=0;Se<Q;++Se){for(ye=0;ye<H;++ye){var _t=_[C+ye];se[ue+4*ye]=_t,Je&=_t}C+=D,ue+=_e}return Je!=255}function $e(_,C,D,H,Q){var se;for(se=0;se<Q;++se)D[H+se]=_[C+se]>>8}function ft(){Gr=P,ir=ne,Qn=De,Er=$e}function kt(_,C,D){Y[_]=function(H,Q,se,ue,_e,ye,Se,Je,_t,vt,lt,Pt,Ct,et,tt,At,Mt){var Nt,Qt=Mt-1>>1,s=_e[ye+0]|Se[Je+0]<<16,h=_t[vt+0]|lt[Pt+0]<<16;t(H!=null);var p=3*s+h+131074>>2;for(C(H[Q+0],255&p,p>>16,Ct,et),se!=null&&(p=3*h+s+131074>>2,C(se[ue+0],255&p,p>>16,tt,At)),Nt=1;Nt<=Qt;++Nt){var v=_e[ye+Nt]|Se[Je+Nt]<<16,k=_t[vt+Nt]|lt[Pt+Nt]<<16,B=s+v+h+k+524296,z=B+2*(v+h)>>3;p=z+s>>1,s=(B=B+2*(s+k)>>3)+v>>1,C(H[Q+2*Nt-1],255&p,p>>16,Ct,et+(2*Nt-1)*D),C(H[Q+2*Nt-0],255&s,s>>16,Ct,et+(2*Nt-0)*D),se!=null&&(p=B+h>>1,s=z+k>>1,C(se[ue+2*Nt-1],255&p,p>>16,tt,At+(2*Nt-1)*D),C(se[ue+2*Nt+0],255&s,s>>16,tt,At+(2*Nt+0)*D)),s=v,h=k}1&Mt||(p=3*s+h+131074>>2,C(H[Q+Mt-1],255&p,p>>16,Ct,et+(Mt-1)*D),se!=null&&(p=3*h+s+131074>>2,C(se[ue+Mt-1],255&p,p>>16,tt,At+(Mt-1)*D)))}}function Ft(){ni[Vi]=nu,ni[yn]=Wa,ni[Uo]=aa,ni[Ha]=js,ni[as]=La,ni[Pn]=Ho,ni[qo]=Nl,ni[Qr]=Wa,ni[Hr]=js,ni[Fs]=La,ni[r]=Ho}function Jt(_){return _&-16384?0>_?0:255:_>>Bo}function en(_,C){return Jt((19077*_>>8)+(26149*C>>8)-14234)}function _n(_,C,D){return Jt((19077*_>>8)-(6419*C>>8)-(13320*D>>8)+8708)}function kn(_,C){return Jt((19077*_>>8)+(33050*C>>8)-17685)}function Rn(_,C,D,H,Q){H[Q+0]=en(_,D),H[Q+1]=_n(_,C,D),H[Q+2]=kn(_,C)}function _r(_,C,D,H,Q){H[Q+0]=kn(_,C),H[Q+1]=_n(_,C,D),H[Q+2]=en(_,D)}function Zn(_,C,D,H,Q){var se=_n(_,C,D);C=se<<3&224|kn(_,C)>>3,H[Q+0]=248&en(_,D)|se>>5,H[Q+1]=C}function rr(_,C,D,H,Q){var se=240&kn(_,C)|15;H[Q+0]=240&en(_,D)|_n(_,C,D)>>4,H[Q+1]=se}function Ur(_,C,D,H,Q){H[Q+0]=255,Rn(_,C,D,H,Q+1)}function Rr(_,C,D,H,Q){_r(_,C,D,H,Q),H[Q+3]=255}function ns(_,C,D,H,Q){Rn(_,C,D,H,Q),H[Q+3]=255}function hr(_,C){return 0>_?0:_>C?C:_}function li(_,C,D){Y[_]=function(H,Q,se,ue,_e,ye,Se,Je,_t){for(var vt=Je+(-2&_t)*D;Je!=vt;)C(H[Q+0],se[ue+0],_e[ye+0],Se,Je),C(H[Q+1],se[ue+0],_e[ye+0],Se,Je+D),Q+=2,++ue,++ye,Je+=2*D;1&_t&&C(H[Q+0],se[ue+0],_e[ye+0],Se,Je)}}function qa(_,C,D){return D==0?_==0?C==0?6:5:C==0?4:0:D}function Ci(_,C,D,H,Q){switch(_>>>30){case 3:ys(C,D,H,Q,0);break;case 2:Xn(C,D,H,Q);break;case 1:vi(C,D,H,Q)}}function Eo(_,C){var D,H,Q=C.M,se=C.Nb,ue=_.oc,_e=_.pc+40,ye=_.oc,Se=_.pc+584,Je=_.oc,_t=_.pc+600;for(D=0;16>D;++D)ue[_e+32*D-1]=129;for(D=0;8>D;++D)ye[Se+32*D-1]=129,Je[_t+32*D-1]=129;for(0<Q?ue[_e-1-32]=ye[Se-1-32]=Je[_t-1-32]=129:(u(ue,_e-32-1,127,21),u(ye,Se-32-1,127,9),u(Je,_t-32-1,127,9)),H=0;H<_.za;++H){var vt=C.ya[C.aa+H];if(0<H){for(D=-1;16>D;++D)i(ue,_e+32*D-4,ue,_e+32*D+12,4);for(D=-1;8>D;++D)i(ye,Se+32*D-4,ye,Se+32*D+4,4),i(Je,_t+32*D-4,Je,_t+32*D+4,4)}var lt=_.Gd,Pt=_.Hd+H,Ct=vt.ad,et=vt.Hc;if(0<Q&&(i(ue,_e-32,lt[Pt].y,0,16),i(ye,Se-32,lt[Pt].f,0,8),i(Je,_t-32,lt[Pt].ea,0,8)),vt.Za){var tt=ue,At=_e-32+16;for(0<Q&&(H>=_.za-1?u(tt,At,lt[Pt].y[15],4):i(tt,At,lt[Pt+1].y,0,4)),D=0;4>D;D++)tt[At+128+D]=tt[At+256+D]=tt[At+384+D]=tt[At+0+D];for(D=0;16>D;++D,et<<=2)tt=ue,At=_e+iu[D],os[vt.Ob[D]](tt,At),Ci(et,Ct,16*+D,tt,At)}else if(tt=qa(H,Q,vt.Ob[0]),ei[tt](ue,_e),et!=0)for(D=0;16>D;++D,et<<=2)Ci(et,Ct,16*+D,ue,_e+iu[D]);for(D=vt.Gc,tt=qa(H,Q,vt.Dd),ti[tt](ye,Se),ti[tt](Je,_t),et=Ct,tt=ye,At=Se,255&(vt=D>>0)&&(170&vt?Gi(et,256,tt,At):ci(et,256,tt,At)),vt=Je,et=_t,255&(D>>=8)&&(170&D?Gi(Ct,320,vt,et):ci(Ct,320,vt,et)),Q<_.Ub-1&&(i(lt[Pt].y,0,ue,_e+480,16),i(lt[Pt].f,0,ye,Se+224,8),i(lt[Pt].ea,0,Je,_t+224,8)),D=8*se*_.B,lt=_.sa,Pt=_.ta+16*H+16*se*_.R,Ct=_.qa,vt=_.ra+8*H+D,et=_.Ha,tt=_.Ia+8*H+D,D=0;16>D;++D)i(lt,Pt+D*_.R,ue,_e+32*D,16);for(D=0;8>D;++D)i(Ct,vt+D*_.B,ye,Se+32*D,8),i(et,tt+D*_.B,Je,_t+32*D,8)}}function _s(_,C,D,H,Q,se,ue,_e,ye){var Se=[0],Je=[0],_t=0,vt=ye!=null?ye.kd:0,lt=ye??new ki;if(_==null||12>D)return 7;lt.data=_,lt.w=C,lt.ha=D,C=[C],D=[D],lt.gb=[lt.gb];e:{var Pt=C,Ct=D,et=lt.gb;if(t(_!=null),t(Ct!=null),t(et!=null),et[0]=0,12<=Ct[0]&&!e(_,Pt[0],"RIFF")){if(e(_,Pt[0]+8,"WEBP")){et=3;break e}var tt=qt(_,Pt[0]+4);if(12>tt||4294967286<tt){et=3;break e}if(vt&&tt>Ct[0]-8){et=7;break e}et[0]=tt,Pt[0]+=12,Ct[0]-=12}et=0}if(et!=0)return et;for(tt=0<lt.gb[0],D=D[0];;){e:{var At=_;Ct=C,et=D;var Mt=Se,Nt=Je,Qt=Pt=[0];if((p=_t=[_t])[0]=0,8>et[0])et=7;else{if(!e(At,Ct[0],"VP8X")){if(qt(At,Ct[0]+4)!=10){et=3;break e}if(18>et[0]){et=7;break e}var s=qt(At,Ct[0]+8),h=1+Gt(At,Ct[0]+12);if(2147483648<=h*(At=1+Gt(At,Ct[0]+15))){et=3;break e}Qt!=null&&(Qt[0]=s),Mt!=null&&(Mt[0]=h),Nt!=null&&(Nt[0]=At),Ct[0]+=18,et[0]-=18,p[0]=1}et=0}}if(_t=_t[0],Pt=Pt[0],et!=0)return et;if(Ct=!!(2&Pt),!tt&&_t)return 3;if(se!=null&&(se[0]=!!(16&Pt)),ue!=null&&(ue[0]=Ct),_e!=null&&(_e[0]=0),ue=Se[0],Pt=Je[0],_t&&Ct&&ye==null){et=0;break}if(4>D){et=7;break}if(tt&&_t||!tt&&!_t&&!e(_,C[0],"ALPH")){D=[D],lt.na=[lt.na],lt.P=[lt.P],lt.Sa=[lt.Sa];e:{s=_,et=C,tt=D;var p=lt.gb;Mt=lt.na,Nt=lt.P,Qt=lt.Sa,h=22,t(s!=null),t(tt!=null),At=et[0];var v=tt[0];for(t(Mt!=null),t(Qt!=null),Mt[0]=null,Nt[0]=null,Qt[0]=0;;){if(et[0]=At,tt[0]=v,8>v){et=7;break e}var k=qt(s,At+4);if(4294967286<k){et=3;break e}var B=8+k+1&-2;if(h+=B,0<p&&h>p){et=3;break e}if(!e(s,At,"VP8 ")||!e(s,At,"VP8L")){et=0;break e}if(v[0]<B){et=7;break e}e(s,At,"ALPH")||(Mt[0]=s,Nt[0]=At+8,Qt[0]=k),At+=B,v-=B}}if(D=D[0],lt.na=lt.na[0],lt.P=lt.P[0],lt.Sa=lt.Sa[0],et!=0)break}D=[D],lt.Ja=[lt.Ja],lt.xa=[lt.xa];e:if(p=_,et=C,tt=D,Mt=lt.gb[0],Nt=lt.Ja,Qt=lt.xa,s=et[0],At=!e(p,s,"VP8 "),h=!e(p,s,"VP8L"),t(p!=null),t(tt!=null),t(Nt!=null),t(Qt!=null),8>tt[0])et=7;else{if(At||h){if(p=qt(p,s+4),12<=Mt&&p>Mt-12){et=3;break e}if(vt&&p>tt[0]-8){et=7;break e}Nt[0]=p,et[0]+=8,tt[0]-=8,Qt[0]=h}else Qt[0]=5<=tt[0]&&p[s+0]==47&&!(p[s+4]>>5),Nt[0]=tt[0];et=0}if(D=D[0],lt.Ja=lt.Ja[0],lt.xa=lt.xa[0],C=C[0],et!=0)break;if(4294967286<lt.Ja)return 3;if(_e==null||Ct||(_e[0]=lt.xa?2:1),ue=[ue],Pt=[Pt],lt.xa){if(5>D){et=7;break}_e=ue,vt=Pt,Ct=se,_==null||5>D?_=0:5<=D&&_[C+0]==47&&!(_[C+4]>>5)?(tt=[0],p=[0],Mt=[0],Le(Nt=new F,_,C,D),dn(Nt,tt,p,Mt)?(_e!=null&&(_e[0]=tt[0]),vt!=null&&(vt[0]=p[0]),Ct!=null&&(Ct[0]=Mt[0]),_=1):_=0):_=0}else{if(10>D){et=7;break}_e=Pt,_==null||10>D||!Da(_,C+3,D-3)?_=0:(vt=_[C+0]|_[C+1]<<8|_[C+2]<<16,Ct=16383&(_[C+7]<<8|_[C+6]),_=16383&(_[C+9]<<8|_[C+8]),1&vt||3<(vt>>1&7)||!(vt>>4&1)||vt>>5>=lt.Ja||!Ct||!_?_=0:(ue&&(ue[0]=Ct),_e&&(_e[0]=_),_=1))}if(!_||(ue=ue[0],Pt=Pt[0],_t&&(Se[0]!=ue||Je[0]!=Pt)))return 3;ye!=null&&(ye[0]=lt,ye.offset=C-ye.w,t(4294967286>C-ye.w),t(ye.offset==ye.ha-D));break}return et==0||et==7&&_t&&ye==null?(se!=null&&(se[0]|=lt.na!=null&&0<lt.na.length),H!=null&&(H[0]=ue),Q!=null&&(Q[0]=Pt),0):et}function Po(_,C,D){var H=C.width,Q=C.height,se=0,ue=0,_e=H,ye=Q;if(C.Da=_!=null&&0<_.Da,C.Da&&(_e=_.cd,ye=_.bd,se=_.v,ue=_.j,11>D||(se&=-2,ue&=-2),0>se||0>ue||0>=_e||0>=ye||se+_e>H||ue+ye>Q))return 0;if(C.v=se,C.j=ue,C.va=se+_e,C.o=ue+ye,C.U=_e,C.T=ye,C.da=_!=null&&0<_.da,C.da){if(!Ee(_e,ye,D=[_.ib],se=[_.hb]))return 0;C.ib=D[0],C.hb=se[0]}return C.ob=_!=null&&_.ob,C.Kb=_==null||!_.Sd,C.da&&(C.ob=C.ib<3*H/4&&C.hb<3*Q/4,C.Kb=0),1}function Qs(_){if(_==null)return 2;if(11>_.S){var C=_.f.RGBA;C.fb+=(_.height-1)*C.A,C.A=-C.A}else C=_.f.kb,_=_.height,C.O+=(_-1)*C.fa,C.fa=-C.fa,C.N+=(_-1>>1)*C.Ab,C.Ab=-C.Ab,C.W+=(_-1>>1)*C.Db,C.Db=-C.Db,C.F!=null&&(C.J+=(_-1)*C.lb,C.lb=-C.lb);return 0}function ea(_,C,D,H){if(H==null||0>=_||0>=C)return 2;if(D!=null){if(D.Da){var Q=D.cd,se=D.bd,ue=-2&D.v,_e=-2&D.j;if(0>ue||0>_e||0>=Q||0>=se||ue+Q>_||_e+se>C)return 2;_=Q,C=se}if(D.da){if(!Ee(_,C,Q=[D.ib],se=[D.hb]))return 2;_=Q[0],C=se[0]}}H.width=_,H.height=C;e:{var ye=H.width,Se=H.height;if(_=H.S,0>=ye||0>=Se||!(_>=Vi&&13>_))_=2;else{if(0>=H.Rd&&H.sd==null){ue=se=Q=C=0;var Je=(_e=ye*bl[_])*Se;if(11>_||(se=(Se+1)/2*(C=(ye+1)/2),_==12&&(ue=(Q=ye)*Se)),(Se=l(Je+2*se+ue))==null){_=1;break e}H.sd=Se,11>_?((ye=H.f.RGBA).eb=Se,ye.fb=0,ye.A=_e,ye.size=Je):((ye=H.f.kb).y=Se,ye.O=0,ye.fa=_e,ye.Fd=Je,ye.f=Se,ye.N=0+Je,ye.Ab=C,ye.Cd=se,ye.ea=Se,ye.W=0+Je+se,ye.Db=C,ye.Ed=se,_==12&&(ye.F=Se,ye.J=0+Je+2*se),ye.Tc=ue,ye.lb=Q)}if(C=1,Q=H.S,se=H.width,ue=H.height,Q>=Vi&&13>Q)if(11>Q)_=H.f.RGBA,C&=(_e=Math.abs(_.A))*(ue-1)+se<=_.size,C&=_e>=se*bl[Q],C&=_.eb!=null;else{_=H.f.kb,_e=(se+1)/2,Je=(ue+1)/2,ye=Math.abs(_.fa),Se=Math.abs(_.Ab);var _t=Math.abs(_.Db),vt=Math.abs(_.lb),lt=vt*(ue-1)+se;C&=ye*(ue-1)+se<=_.Fd,C&=Se*(Je-1)+_e<=_.Cd,C=(C&=_t*(Je-1)+_e<=_.Ed)&ye>=se&Se>=_e&_t>=_e,C&=_.y!=null,C&=_.f!=null,C&=_.ea!=null,Q==12&&(C&=vt>=se,C&=lt<=_.Tc,C&=_.F!=null)}else C=0;_=C?0:2}}return _!=0||D!=null&&D.fd&&(_=Qs(H)),_}var vr=64,Ao=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ui=24,Si=32,lo=8,ui=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];st("Predictor0","PredictorAdd0"),Y.Predictor0=function(){return 4278190080},Y.Predictor1=function(_){return _},Y.Predictor2=function(_,C,D){return C[D+0]},Y.Predictor3=function(_,C,D){return C[D+1]},Y.Predictor4=function(_,C,D){return C[D-1]},Y.Predictor5=function(_,C,D){return qe(qe(_,C[D+1]),C[D+0])},Y.Predictor6=function(_,C,D){return qe(_,C[D-1])},Y.Predictor7=function(_,C,D){return qe(_,C[D+0])},Y.Predictor8=function(_,C,D){return qe(C[D-1],C[D+0])},Y.Predictor9=function(_,C,D){return qe(C[D+0],C[D+1])},Y.Predictor10=function(_,C,D){return qe(qe(_,C[D-1]),qe(C[D+0],C[D+1]))},Y.Predictor11=function(_,C,D){var H=C[D+0];return 0>=Bt(H>>24&255,_>>24&255,(C=C[D-1])>>24&255)+Bt(H>>16&255,_>>16&255,C>>16&255)+Bt(H>>8&255,_>>8&255,C>>8&255)+Bt(255&H,255&_,255&C)?H:_},Y.Predictor12=function(_,C,D){var H=C[D+0];return(Lt((_>>24&255)+(H>>24&255)-((C=C[D-1])>>24&255))<<24|Lt((_>>16&255)+(H>>16&255)-(C>>16&255))<<16|Lt((_>>8&255)+(H>>8&255)-(C>>8&255))<<8|Lt((255&_)+(255&H)-(255&C)))>>>0},Y.Predictor13=function(_,C,D){var H=C[D-1];return(It((_=qe(_,C[D+0]))>>24&255,H>>24&255)<<24|It(_>>16&255,H>>16&255)<<16|It(_>>8&255,H>>8&255)<<8|It(_>>0&255,H>>0&255))>>>0};var rs=Y.PredictorAdd0;Y.PredictorAdd1=Ut,st("Predictor2","PredictorAdd2"),st("Predictor3","PredictorAdd3"),st("Predictor4","PredictorAdd4"),st("Predictor5","PredictorAdd5"),st("Predictor6","PredictorAdd6"),st("Predictor7","PredictorAdd7"),st("Predictor8","PredictorAdd8"),st("Predictor9","PredictorAdd9"),st("Predictor10","PredictorAdd10"),st("Predictor11","PredictorAdd11"),st("Predictor12","PredictorAdd12"),st("Predictor13","PredictorAdd13");var hi=Y.PredictorAdd2;wn("ColorIndexInverseTransform","MapARGB","32b",(function(_){return _>>8&255}),(function(_){return _})),wn("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(_){return _}),(function(_){return _>>8&255}));var ll,Sr=Y.ColorIndexInverseTransform,ta=Y.MapARGB,is=Y.VP8LColorIndexInverseTransformAlpha,ya=Y.MapAlpha,Os=Y.VP8LPredictorsAdd=[];Os.length=16,(Y.VP8LPredictors=[]).length=16,(Y.VP8LPredictorsAdd_C=[]).length=16,(Y.VP8LPredictors_C=[]).length=16;var Ds,Xr,qr,Is,qi,vs,wa,ys,Xn,Gi,vi,ci,Ga,Mo,uo,yi,Hi,ss,ws,na,ra,ba,bs,fi,Gr,ir,Qn,Er,lr=l(511),xs=l(2041),xa=l(225),Rs=l(767),zo=0,Ei=xs,Nr=xa,sr=Rs,Wi=lr,Vi=0,yn=1,Uo=2,Ha=3,as=4,Pn=5,qo=6,Qr=7,Hr=8,Fs=9,r=10,f=[2,3,7],w=[3,3,11],T=[280,256,256,256,40],V=[0,1,1,1,0],le=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],He=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],mt=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],xt=8,Rt=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Yt=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],pn=null,On=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],di=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Wr=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Pi=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Pr=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ia=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Go=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ei=[],os=[],ti=[],sa=1,ho=2,Un=[],ni=[];kt("UpsampleRgbLinePair",Rn,3),kt("UpsampleBgrLinePair",_r,3),kt("UpsampleRgbaLinePair",ns,4),kt("UpsampleBgraLinePair",Rr,4),kt("UpsampleArgbLinePair",Ur,4),kt("UpsampleRgba4444LinePair",rr,2),kt("UpsampleRgb565LinePair",Zn,2);var nu=Y.UpsampleRgbLinePair,aa=Y.UpsampleBgrLinePair,Wa=Y.UpsampleRgbaLinePair,js=Y.UpsampleBgraLinePair,La=Y.UpsampleArgbLinePair,Ho=Y.UpsampleRgba4444LinePair,Nl=Y.UpsampleRgb565LinePair,co=16,oa=1<<co-1,cr=-227,pr=482,Bo=6,Vr=0,Ai=l(256),Wo=l(256),ul=l(256),Mi=l(256),Vo=l(pr-cr),ru=l(pr-cr);li("YuvToRgbRow",Rn,3),li("YuvToBgrRow",_r,3),li("YuvToRgbaRow",ns,4),li("YuvToBgraRow",Rr,4),li("YuvToArgbRow",Ur,4),li("YuvToRgba4444Row",rr,2),li("YuvToRgb565Row",Zn,2);var iu=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],$o=[0,2,8],su=[8,7,6,4,4,2,2,2,1,1,1,1],Va=1;this.WebPDecodeRGBA=function(_,C,D,H,Q){var se=yn,ue=new Ns,_e=new Ir;ue.ba=_e,_e.S=se,_e.width=[_e.width],_e.height=[_e.height];var ye=_e.width,Se=_e.height,Je=new Mr;if(Je==null||_==null)var _t=2;else t(Je!=null),_t=_s(_,C,D,Je.width,Je.height,Je.Pd,Je.Qd,Je.format,null);if(_t!=0?ye=0:(ye!=null&&(ye[0]=Je.width[0]),Se!=null&&(Se[0]=Je.height[0]),ye=1),ye){_e.width=_e.width[0],_e.height=_e.height[0],H!=null&&(H[0]=_e.width),Q!=null&&(Q[0]=_e.height);e:{if(H=new Xi,(Q=new ki).data=_,Q.w=C,Q.ha=D,Q.kd=1,C=[0],t(Q!=null),((_=_s(Q.data,Q.w,Q.ha,null,null,null,C,null,Q))==0||_==7)&&C[0]&&(_=4),(C=_)==0){if(t(ue!=null),H.data=Q.data,H.w=Q.w+Q.offset,H.ha=Q.ha-Q.offset,H.put=cs,H.ac=Zr,H.bc=Zi,H.ma=ue,Q.xa){if((_=Fi())==null){ue=1;break e}if((function(vt,lt){var Pt=[0],Ct=[0],et=[0];t:for(;;){if(vt==null)return 0;if(lt==null)return vt.a=2,0;if(vt.l=lt,vt.a=0,Le(vt.m,lt.data,lt.w,lt.ha),!dn(vt.m,Pt,Ct,et)){vt.a=3;break t}if(vt.xb=ho,lt.width=Pt[0],lt.height=Ct[0],!qs(Pt[0],Ct[0],1,vt,null))break t;return 1}return t(vt.a!=0),0})(_,H)){if(H=(C=ea(H.width,H.height,ue.Oa,ue.ba))==0){t:{H=_;n:for(;;){if(H==null){H=0;break t}if(t(H.s.yc!=null),t(H.s.Ya!=null),t(0<H.s.Wb),t((D=H.l)!=null),t((Q=D.ma)!=null),H.xb!=0){if(H.ca=Q.ba,H.tb=Q.tb,t(H.ca!=null),!Po(Q.Oa,D,Ha)){H.a=2;break n}if(!Ma(H,D.width)||D.da)break n;if((D.da||Wn(H.ca.S))&&ft(),11>H.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),H.ca.f.kb.F!=null&&ft()),H.Pb&&0<H.s.ua&&H.s.vb.X==null&&!$(H.s.vb,H.s.Wa.Xa)){H.a=1;break n}H.xb=0}if(!Kr(H,H.V,H.Ba,H.c,H.i,D.o,ga))break n;Q.Dc=H.Ma,H=1;break t}t(H.a!=0),H=0}H=!H}H&&(C=_.a)}else C=_.a}else{if((_=new An)==null){ue=1;break e}if(_.Fa=Q.na,_.P=Q.P,_.qc=Q.Sa,_a(_,H)){if((C=ea(H.width,H.height,ue.Oa,ue.ba))==0){if(_.Aa=0,D=ue.Oa,t((Q=_)!=null),D!=null){if(0<(ye=0>(ye=D.Md)?0:100<ye?255:255*ye/100)){for(Se=Je=0;4>Se;++Se)12>(_t=Q.pb[Se]).lc&&(_t.ia=ye*su[0>_t.lc?0:_t.lc]>>3),Je|=_t.ia;Je&&(alert("todo:VP8InitRandom"),Q.ia=1)}Q.Ga=D.Id,100<Q.Ga?Q.Ga=100:0>Q.Ga&&(Q.Ga=0)}Ln(_,H)||(C=_.a)}}else C=_.a}C==0&&ue.Oa!=null&&ue.Oa.fd&&(C=Qs(ue.ba))}ue=C}se=ue!=0?null:11>se?_e.f.RGBA.eb:_e.f.kb.y}else se=null;return se};var bl=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function y(Y,me){for(var Ne="",te=0;te<4;te++)Ne+=String.fromCharCode(Y[me++]);return Ne}function S(Y,me){return(Y[me+0]<<0|Y[me+1]<<8|Y[me+2]<<16)>>>0}function E(Y,me){return(Y[me+0]<<0|Y[me+1]<<8|Y[me+2]<<16|Y[me+3]<<24)>>>0}new g;var A=[0],x=[0],R=[],M=new g,I=o,O=(function(Y,me){var Ne={},te=0,G=!1,ve=0,j=0;if(Ne.frames=[],!(function(he,fe,pe,Be){for(var Ke=0;Ke<Be;Ke++)if(he[fe+Ke]!=pe.charCodeAt(Ke))return!0;return!1})(Y,me,"RIFF",4)){for(E(Y,me+=4),me+=8;me<Y.length;){var Ie=y(Y,me),Ve=E(Y,me+=4);me+=4;var Fe=Ve+(1&Ve);switch(Ie){case"VP8 ":case"VP8L":Ne.frames[te]===void 0&&(Ne.frames[te]={}),(Pe=Ne.frames[te]).src_off=G?j:me-8,Pe.src_size=ve+Ve+8,te++,G&&(G=!1,ve=0,j=0);break;case"VP8X":(Pe=Ne.header={}).feature_flags=Y[me];var Le=me+4;Pe.canvas_width=1+S(Y,Le),Le+=3,Pe.canvas_height=1+S(Y,Le),Le+=3;break;case"ALPH":G=!0,ve=Fe+8,j=me-8;break;case"ANIM":(Pe=Ne.header).bgcolor=E(Y,me),Le=me+4,Pe.loop_count=(re=Y)[(F=Le)+0]<<0|re[F+1]<<8,Le+=2;break;case"ANMF":var Ae,Pe;(Pe=Ne.frames[te]={}).offset_x=2*S(Y,me),me+=3,Pe.offset_y=2*S(Y,me),me+=3,Pe.width=1+S(Y,me),me+=3,Pe.height=1+S(Y,me),me+=3,Pe.duration=S(Y,me),me+=3,Ae=Y[me++],Pe.dispose=1&Ae,Pe.blend=Ae>>1&1}Ie!="ANMF"&&(me+=Fe)}var re,F;return Ne}})(I,0);O.response=I,O.rgbaoutput=!0,O.dataurl=!1;var W=O.header?O.header:null,K=O.frames?O.frames:null;if(W){W.loop_counter=W.loop_count,A=[W.canvas_height],x=[W.canvas_width];for(var de=0;de<K.length&&K[de].blend!=0;de++);}var ie=K[0],xe=M.WebPDecodeRGBA(I,ie.src_off,ie.src_size,x,A);ie.rgba=xe,ie.imgwidth=x[0],ie.imgheight=A[0];for(var Z=0;Z<x[0]*A[0]*4;Z++)R[Z]=xe[Z];return this.width=x,this.height=A,this.data=R,this}(function(o){var t=function(){return typeof wd=="function"},e=function(A,x,R,M){var I=4,O=c;switch(M){case o.image_compression.FAST:I=1,O=l;break;case o.image_compression.MEDIUM:I=6,O=d;break;case o.image_compression.SLOW:I=9,O=g}A=i(A,x,R,O);var W=wd(A,{level:I});return o.__addimage__.arrayBufferToBinaryString(W)},i=function(A,x,R,M){for(var I,O,W,K=A.length/x,de=new Uint8Array(A.length+K),ie=S(),xe=0;xe<K;xe+=1){if(W=xe*x,I=A.subarray(W,W+x),M)de.set(M(I,R,O),W+xe);else{for(var Z,Y=ie.length,me=[];Z<Y;Z+=1)me[Z]=ie[Z](I,R,O);var Ne=E(me.concat());de.set(me[Ne],W+xe)}O=I}return de},u=function(A){var x=Array.apply([],A);return x.unshift(0),x},l=function(A,x){var R,M=[],I=A.length;M[0]=1;for(var O=0;O<I;O+=1)R=A[O-x]||0,M[O+1]=A[O]-R+256&255;return M},c=function(A,x,R){var M,I=[],O=A.length;I[0]=2;for(var W=0;W<O;W+=1)M=R&&R[W]||0,I[W+1]=A[W]-M+256&255;return I},d=function(A,x,R){var M,I,O=[],W=A.length;O[0]=3;for(var K=0;K<W;K+=1)M=A[K-x]||0,I=R&&R[K]||0,O[K+1]=A[K]+256-(M+I>>>1)&255;return O},g=function(A,x,R){var M,I,O,W,K=[],de=A.length;K[0]=4;for(var ie=0;ie<de;ie+=1)M=A[ie-x]||0,I=R&&R[ie]||0,O=R&&R[ie-x]||0,W=y(M,I,O),K[ie+1]=A[ie]-W+256&255;return K},y=function(A,x,R){if(A===x&&x===R)return A;var M=Math.abs(x-R),I=Math.abs(A-R),O=Math.abs(A+x-R-R);return M<=I&&M<=O?A:I<=O?x:R},S=function(){return[u,l,c,d,g]},E=function(A){var x=A.map((function(R){return R.reduce((function(M,I){return M+Math.abs(I)}),0)}));return x.indexOf(Math.min.apply(null,x))};o.processPNG=function(A,x,R,M){var I,O,W,K,de,ie,xe,Z,Y,me,Ne,te,G,ve,j,Ie=this.decode.FLATE_DECODE,Ve="";if(this.__addimage__.isArrayBuffer(A)&&(A=new Uint8Array(A)),this.__addimage__.isArrayBufferView(A)){if(A=(W=new l5(A)).imgData,O=W.bits,I=W.colorSpace,de=W.colors,[4,6].indexOf(W.colorType)!==-1){if(W.bits===8){Y=(Z=W.pixelBitlength==32?new Uint32Array(W.decodePixels().buffer):W.pixelBitlength==16?new Uint16Array(W.decodePixels().buffer):new Uint8Array(W.decodePixels().buffer)).length,Ne=new Uint8Array(Y*W.colors),me=new Uint8Array(Y);var Fe,Le=W.pixelBitlength-W.bits;for(ve=0,j=0;ve<Y;ve++){for(G=Z[ve],Fe=0;Fe<Le;)Ne[j++]=G>>>Fe&255,Fe+=W.bits;me[ve]=G>>>Fe&255}}if(W.bits===16){Y=(Z=new Uint32Array(W.decodePixels().buffer)).length,Ne=new Uint8Array(Y*(32/W.pixelBitlength)*W.colors),me=new Uint8Array(Y*(32/W.pixelBitlength)),te=W.colors>1,ve=0,j=0;for(var Ae=0;ve<Y;)G=Z[ve++],Ne[j++]=G>>>0&255,te&&(Ne[j++]=G>>>16&255,G=Z[ve++],Ne[j++]=G>>>0&255),me[Ae++]=G>>>16&255;O=8}M!==o.image_compression.NONE&&t()?(A=e(Ne,W.width*W.colors,W.colors,M),xe=e(me,W.width,1,M)):(A=Ne,xe=me,Ie=void 0)}if(W.colorType===3&&(I=this.color_spaces.INDEXED,ie=W.palette,W.transparency.indexed)){var Pe=W.transparency.indexed,re=0;for(ve=0,Y=Pe.length;ve<Y;++ve)re+=Pe[ve];if((re/=255)===Y-1&&Pe.indexOf(0)!==-1)K=[Pe.indexOf(0)];else if(re!==Y){for(Z=W.decodePixels(),me=new Uint8Array(Z.length),ve=0,Y=Z.length;ve<Y;ve++)me[ve]=Pe[Z[ve]];xe=e(me,W.width,1)}}var F=(function(he){var fe;switch(he){case o.image_compression.FAST:fe=11;break;case o.image_compression.MEDIUM:fe=13;break;case o.image_compression.SLOW:fe=14;break;default:fe=12}return fe})(M);return Ie===this.decode.FLATE_DECODE&&(Ve="/Predictor "+F+" "),Ve+="/Colors "+de+" /BitsPerComponent "+O+" /Columns "+W.width,(this.__addimage__.isArrayBuffer(A)||this.__addimage__.isArrayBufferView(A))&&(A=this.__addimage__.arrayBufferToBinaryString(A)),(xe&&this.__addimage__.isArrayBuffer(xe)||this.__addimage__.isArrayBufferView(xe))&&(xe=this.__addimage__.arrayBufferToBinaryString(xe)),{alias:R,data:A,index:x,filter:Ie,decodeParameters:Ve,transparency:K,palette:ie,sMask:xe,predictor:F,width:W.width,height:W.height,bitsPerComponent:O,colorSpace:I}}}})(Bn.API),(function(o){o.processGIF89A=function(t,e,i,u){var l=new u5(t),c=l.width,d=l.height,g=[];l.decodeAndBlitFrameRGBA(0,g);var y={data:g,width:c,height:d},S=new Xf(100).encode(y,100);return o.processJPEG.call(this,S,e,i,u)},o.processGIF87A=o.processGIF89A})(Bn.API),nl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var o=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(o);for(var t=0;t<o;t++){var e=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:u,green:i,blue:e,quad:l}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},nl.prototype.parseBGR=function(){this.pos=this.offset;try{var o="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[o]()}catch(e){Or.log("bit decode error:"+e)}},nl.prototype.bit1=function(){var o,t=Math.ceil(this.width/8),e=t%4;for(o=this.height-1;o>=0;o--){for(var i=this.bottom_up?o:this.height-1-o,u=0;u<t;u++)for(var l=this.datav.getUint8(this.pos++,!0),c=i*this.width*4+8*u*4,d=0;d<8&&8*u+d<this.width;d++){var g=this.palette[l>>7-d&1];this.data[c+4*d]=g.blue,this.data[c+4*d+1]=g.green,this.data[c+4*d+2]=g.red,this.data[c+4*d+3]=255}e!==0&&(this.pos+=4-e)}},nl.prototype.bit4=function(){for(var o=Math.ceil(this.width/2),t=o%4,e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,u=0;u<o;u++){var l=this.datav.getUint8(this.pos++,!0),c=i*this.width*4+2*u*4,d=l>>4,g=15&l,y=this.palette[d];if(this.data[c]=y.blue,this.data[c+1]=y.green,this.data[c+2]=y.red,this.data[c+3]=255,2*u+1>=this.width)break;y=this.palette[g],this.data[c+4]=y.blue,this.data[c+4+1]=y.green,this.data[c+4+2]=y.red,this.data[c+4+3]=255}t!==0&&(this.pos+=4-t)}},nl.prototype.bit8=function(){for(var o=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var u=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*i;if(u<this.palette.length){var c=this.palette[u];this.data[l]=c.red,this.data[l+1]=c.green,this.data[l+2]=c.blue,this.data[l+3]=255}else this.data[l]=255,this.data[l+1]=255,this.data[l+2]=255,this.data[l+3]=255}o!==0&&(this.pos+=4-o)}},nl.prototype.bit15=function(){for(var o=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,u=0;u<this.width;u++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(l&t)/t*255|0,d=(l>>5&t)/t*255|0,g=(l>>10&t)/t*255|0,y=l>>15?255:0,S=i*this.width*4+4*u;this.data[S]=g,this.data[S+1]=d,this.data[S+2]=c,this.data[S+3]=y}this.pos+=o}},nl.prototype.bit16=function(){for(var o=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var u=this.bottom_up?i:this.height-1-i,l=0;l<this.width;l++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(c&t)/t*255|0,g=(c>>5&e)/e*255|0,y=(c>>11)/t*255|0,S=u*this.width*4+4*l;this.data[S]=y,this.data[S+1]=g,this.data[S+2]=d,this.data[S+3]=255}this.pos+=o}},nl.prototype.bit24=function(){for(var o=this.height-1;o>=0;o--){for(var t=this.bottom_up?o:this.height-1-o,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*e;this.data[c]=l,this.data[c+1]=u,this.data[c+2]=i,this.data[c+3]=255}this.pos+=this.width%4}},nl.prototype.bit32=function(){for(var o=this.height-1;o>=0;o--)for(var t=this.bottom_up?o:this.height-1-o,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),d=t*this.width*4+4*e;this.data[d]=l,this.data[d+1]=u,this.data[d+2]=i,this.data[d+3]=c}},nl.prototype.getData=function(){return this.data},(function(o){o.processBMP=function(t,e,i,u){var l=new nl(t,!1),c=l.width,d=l.height,g={data:l.getData(),width:c,height:d},y=new Xf(100).encode(g,100);return o.processJPEG.call(this,y,e,i,u)}})(Bn.API),im.prototype.getData=function(){return this.data},(function(o){o.processWEBP=function(t,e,i,u){var l=new im(t),c=l.width,d=l.height,g={data:l.getData(),width:c,height:d},y=new Xf(100).encode(g,100);return o.processJPEG.call(this,y,e,i,u)}})(Bn.API),Bn.API.processRGBA=function(o,t,e){for(var i=o.data,u=i.length,l=new Uint8Array(u/4*3),c=new Uint8Array(u/4),d=0,g=0,y=0;y<u;y+=4){var S=i[y],E=i[y+1],A=i[y+2],x=i[y+3];l[d++]=S,l[d++]=E,l[d++]=A,c[g++]=x}var R=this.__addimage__.arrayBufferToBinaryString(l);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:R,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:o.width,height:o.height}},Bn.API.setLanguage=function(o){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[o]!==void 0&&(this.internal.languageSettings.languageCode=o,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},Ku=Bn.API,kc=Ku.getCharWidthsArray=function(o,t){var e,i,u=(t=t||{}).font||this.internal.getFont(),l=t.fontSize||this.internal.getFontSize(),c=t.charSpace||this.internal.getCharSpace(),d=t.widths?t.widths:u.metadata.Unicode.widths,g=d.fof?d.fof:1,y=t.kerning?t.kerning:u.metadata.Unicode.kerning,S=y.fof?y.fof:1,E=t.doKerning!==!1,A=0,x=o.length,R=0,M=d[0]||g,I=[];for(e=0;e<x;e++)i=o.charCodeAt(e),typeof u.metadata.widthOfString=="function"?I.push((u.metadata.widthOfGlyph(u.metadata.characterToGlyph(i))+c*(1e3/l)||0)/1e3):(A=E&&Lr(y[i])==="object"&&!isNaN(parseInt(y[i][R],10))?y[i][R]/S:0,I.push((d[i]||M)/g+A)),R=i;return I},em=Ku.getStringUnitWidth=function(o,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),u=t.charSpace||this.internal.getCharSpace();return Ku.processArabic&&(o=Ku.processArabic(o)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(o,e,u)/e:kc.apply(this,arguments).reduce((function(l,c){return l+c}),0)},tm=function(o,t,e,i){for(var u=[],l=0,c=o.length,d=0;l!==c&&d+t[l]<e;)d+=t[l],l++;u.push(o.slice(0,l));var g=l;for(d=0;l!==c;)d+t[l]>i&&(u.push(o.slice(g,l)),d=0,g=l),d+=t[l],l++;return g!==l&&u.push(o.slice(g,l)),u},nm=function(o,t,e){e||(e={});var i,u,l,c,d,g,y,S=[],E=[S],A=e.textIndent||0,x=0,R=0,M=o.split(" "),I=kc.apply(this,[" ",e])[0];if(g=e.lineIndent===-1?M[0].length+2:e.lineIndent||0){var O=Array(g).join(" "),W=[];M.map((function(de){(de=de.split(/\s*\n/)).length>1?W=W.concat(de.map((function(ie,xe){return(xe&&ie.length?`
`:"")+ie}))):W.push(de[0])})),M=W,g=em.apply(this,[O,e])}for(l=0,c=M.length;l<c;l++){var K=0;if(i=M[l],g&&i[0]==`
`&&(i=i.substr(1),K=1),A+x+(R=(u=kc.apply(this,[i,e])).reduce((function(de,ie){return de+ie}),0))>t||K){if(R>t){for(d=tm.apply(this,[i,u,t-(A+x),t]),S.push(d.shift()),S=[d.pop()];d.length;)E.push([d.shift()]);R=u.slice(i.length-(S[0]?S[0].length:0)).reduce((function(de,ie){return de+ie}),0)}else S=[i];E.push(S),A=R+g,x=I}else S.push(i),A+=x+R,x=I}return y=g?function(de,ie){return(ie?O:"")+de.join(" ")}:function(de){return de.join(" ")},E.map(y)},Ku.splitTextToSize=function(o,t,e){var i,u=(e=e||{}).fontSize||this.internal.getFontSize(),l=(function(S){if(S.widths&&S.kerning)return{widths:S.widths,kerning:S.kerning};var E=this.internal.getFont(S.fontName,S.fontStyle);return E.metadata.Unicode?{widths:E.metadata.Unicode.widths||{0:1},kerning:E.metadata.Unicode.kerning||{}}:{font:E.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);i=Array.isArray(o)?o:String(o).split(/\r?\n/);var c=1*this.internal.scaleFactor*t/u;l.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/u:0,l.lineIndent=e.lineIndent;var d,g,y=[];for(d=0,g=i.length;d<g;d++)y=y.concat(nm.apply(this,[i[d],c,l]));return y},(function(o){o.__fontmetrics__=o.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",e={},i={},u=0;u<t.length;u++)e[t[u]]="0123456789abcdef"[u],i["0123456789abcdef"[u]]=t[u];var l=function(E){return"0x"+parseInt(E,10).toString(16)},c=o.__fontmetrics__.compress=function(E){var A,x,R,M,I=["{"];for(var O in E){if(A=E[O],isNaN(parseInt(O,10))?x="'"+O+"'":(O=parseInt(O,10),x=(x=l(O).slice(2)).slice(0,-1)+i[x.slice(-1)]),typeof A=="number")A<0?(R=l(A).slice(3),M="-"):(R=l(A).slice(2),M=""),R=M+R.slice(0,-1)+i[R.slice(-1)];else{if(Lr(A)!=="object")throw new Error("Don't know what to do with value type "+Lr(A)+".");R=c(A)}I.push(x+R)}return I.push("}"),I.join("")},d=o.__fontmetrics__.uncompress=function(E){if(typeof E!="string")throw new Error("Invalid argument passed to uncompress.");for(var A,x,R,M,I={},O=1,W=I,K=[],de="",ie="",xe=E.length-1,Z=1;Z<xe;Z+=1)(M=E[Z])=="'"?A?(R=A.join(""),A=void 0):A=[]:A?A.push(M):M=="{"?(K.push([W,R]),W={},R=void 0):M=="}"?((x=K.pop())[0][x[1]]=W,R=void 0,W=x[0]):M=="-"?O=-1:R===void 0?e.hasOwnProperty(M)?(de+=e[M],R=parseInt(de,16)*O,O=1,de=""):de+=M:e.hasOwnProperty(M)?(ie+=e[M],W[R]=parseInt(ie,16)*O,O=1,R=void 0,ie=""):ie+=M;return I},g={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},y={Unicode:{Courier:g,"Courier-Bold":g,"Courier-BoldOblique":g,"Courier-Oblique":g,Helvetica:g,"Helvetica-Bold":g,"Helvetica-BoldOblique":g,"Helvetica-Oblique":g,"Times-Roman":g,"Times-Bold":g,"Times-BoldItalic":g,"Times-Italic":g}},S={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};o.events.push(["addFont",function(E){var A=E.font,x=S.Unicode[A.postScriptName];x&&(A.metadata.Unicode={},A.metadata.Unicode.widths=x.widths,A.metadata.Unicode.kerning=x.kerning);var R=y.Unicode[A.postScriptName];R&&(A.metadata.Unicode.encoding=R,A.encoding=R.codePages[0])}])})(Bn.API),(function(o){var t=function(e){for(var i=e.length,u=new Uint8Array(i),l=0;l<i;l++)u[l]=e.charCodeAt(l);return u};o.API.events.push(["addFont",function(e){var i=void 0,u=e.font,l=e.instance;if(!u.isStandardFont){if(l===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+u.postScriptName+"').");if(typeof(i=l.existsFileInVFS(u.postScriptName)===!1?l.loadFile(u.postScriptName):l.getFileFromVFS(u.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+u.postScriptName+"').");(function(c,d){d=/^\x00\x01\x00\x00/.test(d)?t(d):t(Mh(d)),c.metadata=o.API.TTFFont.open(d),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(u,i)}}])})(Bn),(function(o){function t(){return(Tn.canvg?Promise.resolve(Tn.canvg):Xl(()=>import("./index.es-C7h5EzD_.js"),[])).catch((function(e){return Promise.reject(new Error("Could not load canvg: "+e))})).then((function(e){return e.default?e.default:e}))}Bn.API.addSvgAsImage=function(e,i,u,l,c,d,g,y){if(isNaN(i)||isNaN(u))throw Or.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(l)||isNaN(c))throw Or.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var S=document.createElement("canvas");S.width=l,S.height=c;var E=S.getContext("2d");E.fillStyle="#fff",E.fillRect(0,0,S.width,S.height);var A={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},x=this;return t().then((function(R){return R.fromString(E,e,A)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(R){return R.render(A)})).then((function(){x.addImage(S.toDataURL("image/jpeg",1),i,u,l,c,g,y)}))}})(),Bn.API.putTotalPages=function(o){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(o,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(o,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var u=0;u<this.internal.pages[i].length;u++)this.internal.pages[i][u]=this.internal.pages[i][u].replace(t,e);return this},Bn.API.viewerPreferences=function(o,t){var e;o=o||{},t=t||!1;var i,u,l,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},d=Object.keys(c),g=[],y=0,S=0,E=0;function A(R,M){var I,O=!1;for(I=0;I<R.length;I+=1)R[I]===M&&(O=!0);return O}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,o==="reset"||t===!0){var x=d.length;for(E=0;E<x;E+=1)e[d[E]].value=e[d[E]].defaultValue,e[d[E]].explicitSet=!1}if(Lr(o)==="object"){for(u in o)if(l=o[u],A(d,u)&&l!==void 0){if(e[u].type==="boolean"&&typeof l=="boolean")e[u].value=l;else if(e[u].type==="name"&&A(e[u].valueSet,l))e[u].value=l;else if(e[u].type==="integer"&&Number.isInteger(l))e[u].value=l;else if(e[u].type==="array"){for(y=0;y<l.length;y+=1)if(i=!0,l[y].length===1&&typeof l[y][0]=="number")g.push(String(l[y]-1));else if(l[y].length>1){for(S=0;S<l[y].length;S+=1)typeof l[y][S]!="number"&&(i=!1);i===!0&&g.push([l[y][0]-1,l[y][1]-1].join(" "))}e[u].value="["+g.join(" ")+"]"}else e[u].value=e[u].defaultValue;e[u].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){var R,M=[];for(R in e)e[R].explicitSet===!0&&(e[R].type==="name"?M.push("/"+R+" /"+e[R].value):M.push("/"+R+" "+e[R].value));M.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+M.join(`
`)+`
>>`)})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},(function(o){var t=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',u=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),l=unescape(encodeURIComponent(i)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),d=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),g=unescape(encodeURIComponent("</x:xmpmeta>")),y=l.length+c.length+d.length+u.length+g.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+y+" >>"),this.internal.write("stream"),this.internal.write(u+l+c+d+g),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};o.addMetadata=function(i,u){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:u||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}})(Bn.API),(function(o){var t=o.API,e=t.pdfEscape16=function(l,c){for(var d,g=c.metadata.Unicode.widths,y=["","0","00","000","0000"],S=[""],E=0,A=l.length;E<A;++E){if(d=c.metadata.characterToGlyph(l.charCodeAt(E)),c.metadata.glyIdsUsed.push(d),c.metadata.toUnicode[d]=l.charCodeAt(E),g.indexOf(d)==-1&&(g.push(d),g.push([parseInt(c.metadata.widthOfGlyph(d),10)])),d=="0")return S.join("");d=d.toString(16),S.push(y[4-d.length],d)}return S.join("")},i=function(l){var c,d,g,y,S,E,A;for(S=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,g=[],E=0,A=(d=Object.keys(l).sort((function(x,R){return x-R}))).length;E<A;E++)c=d[E],g.length>=100&&(S+=`
`+g.length+` beginbfchar
`+g.join(`
`)+`
endbfchar`,g=[]),l[c]!==void 0&&l[c]!==null&&typeof l[c].toString=="function"&&(y=("0000"+l[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),g.push("<"+c+"><"+y+">"));return g.length&&(S+=`
`+g.length+` beginbfchar
`+g.join(`
`)+`
endbfchar
`),S+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(l){(function(c){var d=c.font,g=c.out,y=c.newObject,S=c.putStream;if(d.metadata instanceof o.API.TTFFont&&d.encoding==="Identity-H"){for(var E=d.metadata.Unicode.widths,A=d.metadata.subset.encode(d.metadata.glyIdsUsed,1),x="",R=0;R<A.length;R++)x+=String.fromCharCode(A[R]);var M=y();S({data:x,addLength1:!0,objectId:M}),g("endobj");var I=y();S({data:i(d.metadata.toUnicode),addLength1:!0,objectId:I}),g("endobj");var O=y();g("<<"),g("/Type /FontDescriptor"),g("/FontName /"+Qu(d.fontName)),g("/FontFile2 "+M+" 0 R"),g("/FontBBox "+o.API.PDFObject.convert(d.metadata.bbox)),g("/Flags "+d.metadata.flags),g("/StemV "+d.metadata.stemV),g("/ItalicAngle "+d.metadata.italicAngle),g("/Ascent "+d.metadata.ascender),g("/Descent "+d.metadata.decender),g("/CapHeight "+d.metadata.capHeight),g(">>"),g("endobj");var W=y();g("<<"),g("/Type /Font"),g("/BaseFont /"+Qu(d.fontName)),g("/FontDescriptor "+O+" 0 R"),g("/W "+o.API.PDFObject.convert(E)),g("/CIDToGIDMap /Identity"),g("/DW 1000"),g("/Subtype /CIDFontType2"),g("/CIDSystemInfo"),g("<<"),g("/Supplement 0"),g("/Registry (Adobe)"),g("/Ordering ("+d.encoding+")"),g(">>"),g(">>"),g("endobj"),d.objectNumber=y(),g("<<"),g("/Type /Font"),g("/Subtype /Type0"),g("/ToUnicode "+I+" 0 R"),g("/BaseFont /"+Qu(d.fontName)),g("/Encoding /"+d.encoding),g("/DescendantFonts ["+W+" 0 R]"),g(">>"),g("endobj"),d.isAlreadyPutted=!0}})(l)}]),t.events.push(["putFont",function(l){(function(c){var d=c.font,g=c.out,y=c.newObject,S=c.putStream;if(d.metadata instanceof o.API.TTFFont&&d.encoding==="WinAnsiEncoding"){for(var E=d.metadata.rawData,A="",x=0;x<E.length;x++)A+=String.fromCharCode(E[x]);var R=y();S({data:A,addLength1:!0,objectId:R}),g("endobj");var M=y();S({data:i(d.metadata.toUnicode),addLength1:!0,objectId:M}),g("endobj");var I=y();g("<<"),g("/Descent "+d.metadata.decender),g("/CapHeight "+d.metadata.capHeight),g("/StemV "+d.metadata.stemV),g("/Type /FontDescriptor"),g("/FontFile2 "+R+" 0 R"),g("/Flags 96"),g("/FontBBox "+o.API.PDFObject.convert(d.metadata.bbox)),g("/FontName /"+Qu(d.fontName)),g("/ItalicAngle "+d.metadata.italicAngle),g("/Ascent "+d.metadata.ascender),g(">>"),g("endobj"),d.objectNumber=y();for(var O=0;O<d.metadata.hmtx.widths.length;O++)d.metadata.hmtx.widths[O]=parseInt(d.metadata.hmtx.widths[O]*(1e3/d.metadata.head.unitsPerEm));g("<</Subtype/TrueType/Type/Font/ToUnicode "+M+" 0 R/BaseFont/"+Qu(d.fontName)+"/FontDescriptor "+I+" 0 R/Encoding/"+d.encoding+" /FirstChar 29 /LastChar 255 /Widths "+o.API.PDFObject.convert(d.metadata.hmtx.widths)+">>"),g("endobj"),d.isAlreadyPutted=!0}})(l)}]);var u=function(l){var c,d=l.text||"",g=l.x,y=l.y,S=l.options||{},E=l.mutex||{},A=E.pdfEscape,x=E.activeFontKey,R=E.fonts,M=x,I="",O=0,W="",K=R[M].encoding;if(R[M].encoding!=="Identity-H")return{text:d,x:g,y,options:S,mutex:E};for(W=d,M=x,Array.isArray(d)&&(W=d[0]),O=0;O<W.length;O+=1)R[M].metadata.hasOwnProperty("cmap")&&(c=R[M].metadata.cmap.unicode.codeMap[W[O].charCodeAt(0)]),c||W[O].charCodeAt(0)<256&&R[M].metadata.hasOwnProperty("Unicode")?I+=W[O]:I+="";var de="";return parseInt(M.slice(1))<14||K==="WinAnsiEncoding"?de=A(I,M).split("").map((function(ie){return ie.charCodeAt(0).toString(16)})).join(""):K==="Identity-H"&&(de=e(I,R[M])),E.isHex=!0,{text:de,x:g,y,options:S,mutex:E}};t.events.push(["postProcessText",function(l){var c=l.text||"",d=[],g={text:c,x:l.x,y:l.y,options:l.options,mutex:l.mutex};if(Array.isArray(c)){var y=0;for(y=0;y<c.length;y+=1)Array.isArray(c[y])&&c[y].length===3?d.push([u(Object.assign({},g,{text:c[y][0]})).text,c[y][1],c[y][2]]):d.push(u(Object.assign({},g,{text:c[y]})).text);l.text=d}else l.text=u(Object.assign({},g,{text:c})).text}])})(Bn),(function(o){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};o.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},o.addFileToVFS=function(e,i){return t.call(this),this.internal.vFS[e]=i,this},o.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}})(Bn.API),(function(o){o.__bidiEngine__=o.prototype.__bidiEngine__=function(i){var u,l,c,d,g,y,S,E=t,A=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],x=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],R={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},M={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},I=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],O=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),W=!1,K=0;this.__bidiEngine__={};var de=function(te){var G=te.charCodeAt(),ve=G>>8,j=M[ve];return j!==void 0?E[256*j+(255&G)]:ve===252||ve===253?"AL":O.test(ve)?"L":ve===8?"R":"N"},ie=function(te){for(var G,ve=0;ve<te.length;ve++){if((G=de(te.charAt(ve)))==="L")return!1;if(G==="R")return!0}return!1},xe=function(te,G,ve,j){var Ie,Ve,Fe,Le,Ae=G[j];switch(Ae){case"L":case"R":W=!1;break;case"N":case"AN":break;case"EN":W&&(Ae="AN");break;case"AL":W=!0,Ae="R";break;case"WS":Ae="N";break;case"CS":j<1||j+1>=G.length||(Ie=ve[j-1])!=="EN"&&Ie!=="AN"||(Ve=G[j+1])!=="EN"&&Ve!=="AN"?Ae="N":W&&(Ve="AN"),Ae=Ve===Ie?Ve:"N";break;case"ES":Ae=(Ie=j>0?ve[j-1]:"B")==="EN"&&j+1<G.length&&G[j+1]==="EN"?"EN":"N";break;case"ET":if(j>0&&ve[j-1]==="EN"){Ae="EN";break}if(W){Ae="N";break}for(Fe=j+1,Le=G.length;Fe<Le&&G[Fe]==="ET";)Fe++;Ae=Fe<Le&&G[Fe]==="EN"?"EN":"N";break;case"NSM":if(c&&!d){for(Le=G.length,Fe=j+1;Fe<Le&&G[Fe]==="NSM";)Fe++;if(Fe<Le){var Pe=te[j],re=Pe>=1425&&Pe<=2303||Pe===64286;if(Ie=G[Fe],re&&(Ie==="R"||Ie==="AL")){Ae="R";break}}}Ae=j<1||(Ie=G[j-1])==="B"?"N":ve[j-1];break;case"B":W=!1,u=!0,Ae=K;break;case"S":l=!0,Ae="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":W=!1;break;case"BN":Ae="N"}return Ae},Z=function(te,G,ve){var j=te.split("");return ve&&Y(j,ve,{hiLevel:K}),j.reverse(),G&&G.reverse(),j.join("")},Y=function(te,G,ve){var j,Ie,Ve,Fe,Le,Ae=-1,Pe=te.length,re=0,F=[],he=K?x:A,fe=[];for(W=!1,u=!1,l=!1,Ie=0;Ie<Pe;Ie++)fe[Ie]=de(te[Ie]);for(Ve=0;Ve<Pe;Ve++){if(Le=re,F[Ve]=xe(te,fe,F,Ve),j=240&(re=he[Le][R[F[Ve]]]),re&=15,G[Ve]=Fe=he[re][5],j>0)if(j===16){for(Ie=Ae;Ie<Ve;Ie++)G[Ie]=1;Ae=-1}else Ae=-1;if(he[re][6])Ae===-1&&(Ae=Ve);else if(Ae>-1){for(Ie=Ae;Ie<Ve;Ie++)G[Ie]=Fe;Ae=-1}fe[Ve]==="B"&&(G[Ve]=0),ve.hiLevel|=Fe}l&&(function(pe,Be,Ke){for(var We=0;We<Ke;We++)if(pe[We]==="S"){Be[We]=K;for(var Ye=We-1;Ye>=0&&pe[Ye]==="WS";Ye--)Be[Ye]=K}})(fe,G,Pe)},me=function(te,G,ve,j,Ie){if(!(Ie.hiLevel<te)){if(te===1&&K===1&&!u)return G.reverse(),void(ve&&ve.reverse());for(var Ve,Fe,Le,Ae,Pe=G.length,re=0;re<Pe;){if(j[re]>=te){for(Le=re+1;Le<Pe&&j[Le]>=te;)Le++;for(Ae=re,Fe=Le-1;Ae<Fe;Ae++,Fe--)Ve=G[Ae],G[Ae]=G[Fe],G[Fe]=Ve,ve&&(Ve=ve[Ae],ve[Ae]=ve[Fe],ve[Fe]=Ve);re=Le}re++}}},Ne=function(te,G,ve){var j=te.split(""),Ie={hiLevel:K};return ve||(ve=[]),Y(j,ve,Ie),(function(Ve,Fe,Le){if(Le.hiLevel!==0&&S)for(var Ae,Pe=0;Pe<Ve.length;Pe++)Fe[Pe]===1&&(Ae=I.indexOf(Ve[Pe]))>=0&&(Ve[Pe]=I[Ae+1])})(j,ve,Ie),me(2,j,G,ve,Ie),me(1,j,G,ve,Ie),j.join("")};return this.__bidiEngine__.doBidiReorder=function(te,G,ve){if((function(Ie,Ve){if(Ve)for(var Fe=0;Fe<Ie.length;Fe++)Ve[Fe]=Fe;d===void 0&&(d=ie(Ie)),y===void 0&&(y=ie(Ie))})(te,G),c||!g||y)if(c&&g&&d^y)K=d?1:0,te=Z(te,G,ve);else if(!c&&g&&y)K=d?1:0,te=Ne(te,G,ve),te=Z(te,G);else if(!c||d||g||y){if(c&&!g&&d^y)te=Z(te,G),d?(K=0,te=Ne(te,G,ve)):(K=1,te=Ne(te,G,ve),te=Z(te,G));else if(c&&d&&!g&&y)K=1,te=Ne(te,G,ve),te=Z(te,G);else if(!c&&!g&&d^y){var j=S;d?(K=1,te=Ne(te,G,ve),K=0,S=!1,te=Ne(te,G,ve),S=j):(K=0,te=Ne(te,G,ve),te=Z(te,G),K=1,S=!1,te=Ne(te,G,ve),S=j,te=Z(te,G))}}else K=0,te=Ne(te,G,ve);else K=d?1:0,te=Ne(te,G,ve);return te},this.__bidiEngine__.setOptions=function(te){te&&(c=te.isInputVisual,g=te.isOutputVisual,d=te.isInputRtl,y=te.isOutputRtl,S=te.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new o.__bidiEngine__({isInputVisual:!0});o.API.events.push(["postProcessText",function(i){var u=i.text;i.x,i.y;var l=i.options||{};i.mutex,l.lang;var c=[];if(l.isInputVisual=typeof l.isInputVisual!="boolean"||l.isInputVisual,e.setOptions(l),Object.prototype.toString.call(u)==="[object Array]"){var d=0;for(c=[],d=0;d<u.length;d+=1)Object.prototype.toString.call(u[d])==="[object Array]"?c.push([e.doBidiReorder(u[d][0]),u[d][1],u[d][2]]):c.push([e.doBidiReorder(u[d])]);i.text=c}else i.text=e.doBidiReorder(u);e.setOptions({isInputVisual:!0})}])})(Bn),Bn.API.TTFFont=(function(){function o(t){var e;if(this.rawData=t,e=this.contents=new eu(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new k5(this),this.registerTTF()}return o.open=function(t){return new o(t)},o.prototype.parse=function(){return this.directory=new h5(this.contents),this.head=new f5(this),this.name=new _5(this),this.cmap=new kg(this),this.toUnicode={},this.hhea=new d5(this),this.maxp=new v5(this),this.hmtx=new y5(this),this.post=new m5(this),this.os2=new p5(this),this.loca=new L5(this),this.glyf=new w5(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},o.prototype.registerTTF=function(){var t,e,i,u,l;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,d,g,y;for(y=[],c=0,d=(g=this.bbox).length;c<d;c++)t=g[c],y.push(Math.round(t*this.scaleFactor));return y}).call(this),this.stemV=0,this.post.exists?(i=255&(u=this.post.italic_angle),(32768&(e=u>>16))!=0&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(l=this.familyClass)===1||l===2||l===3||l===4||l===5||l===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},o.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},o.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},o.prototype.widthOfString=function(t,e,i){var u,l,c,d;for(c=0,l=0,d=(t=""+t).length;0<=d?l<d:l>d;l=0<=d?++l:--l)u=t.charCodeAt(l),c+=this.widthOfGlyph(this.characterToGlyph(u))+i*(1e3/e)||0;return c*(e/1e3)},o.prototype.lineHeight=function(t,e){var i;return e==null&&(e=!1),i=e?this.lineGap:0,(this.ascender+i-this.decender)/1e3*t},o})();var ol,eu=(function(){function o(t){this.data=t??[],this.pos=0,this.length=this.data.length}return o.prototype.readByte=function(){return this.data[this.pos++]},o.prototype.writeByte=function(t){return this.data[this.pos++]=t},o.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},o.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},o.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},o.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},o.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},o.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},o.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},o.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},o.prototype.readString=function(t){var e,i;for(i=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)i[e]=String.fromCharCode(this.readByte());return i.join("")},o.prototype.writeString=function(t){var e,i,u;for(u=[],e=0,i=t.length;0<=i?e<i:e>i;e=0<=i?++e:--e)u.push(this.writeByte(t.charCodeAt(e)));return u},o.prototype.readShort=function(){return this.readInt16()},o.prototype.writeShort=function(t){return this.writeInt16(t)},o.prototype.readLongLong=function(){var t,e,i,u,l,c,d,g;return t=this.readByte(),e=this.readByte(),i=this.readByte(),u=this.readByte(),l=this.readByte(),c=this.readByte(),d=this.readByte(),g=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^i)+4294967296*(255^u)+16777216*(255^l)+65536*(255^c)+256*(255^d)+(255^g)+1):72057594037927940*t+281474976710656*e+1099511627776*i+4294967296*u+16777216*l+65536*c+256*d+g},o.prototype.writeLongLong=function(t){var e,i;return e=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},o.prototype.readInt=function(){return this.readInt32()},o.prototype.writeInt=function(t){return this.writeInt32(t)},o.prototype.read=function(t){var e,i;for(e=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)e.push(this.readByte());return e},o.prototype.write=function(t){var e,i,u,l;for(l=[],i=0,u=t.length;i<u;i++)e=t[i],l.push(this.writeByte(e));return l},o})(),h5=(function(){var o;function t(e){var i,u,l;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},u=0,l=this.tableCount;0<=l?u<l:u>l;u=0<=l?++u:--u)i={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[i.tag]=i}return t.prototype.encode=function(e){var i,u,l,c,d,g,y,S,E,A,x,R,M;for(M in x=Object.keys(e).length,g=Math.log(2),E=16*Math.floor(Math.log(x)/g),c=Math.floor(E/g),S=16*x-E,(u=new eu).writeInt(this.scalarType),u.writeShort(x),u.writeShort(E),u.writeShort(c),u.writeShort(S),l=16*x,y=u.pos+l,d=null,R=[],e)for(A=e[M],u.writeString(M),u.writeInt(o(A)),u.writeInt(y),u.writeInt(A.length),R=R.concat(A),M==="head"&&(d=y),y+=A.length;y%4;)R.push(0),y++;return u.write(R),i=2981146554-o(u.data),u.pos=d+8,u.writeUInt32(i),u.data},o=function(e){var i,u,l,c;for(e=Cg.call(e);e.length%4;)e.push(0);for(l=new eu(e),u=0,i=0,c=e.length;i<c;i=i+=4)u+=l.readUInt32();return 4294967295&u},t})(),c5={}.hasOwnProperty,yl=function(o,t){for(var e in t)c5.call(t,e)&&(o[e]=t[e]);function i(){this.constructor=o}return i.prototype=t.prototype,o.prototype=new i,o.__super__=t.prototype,o};ol=(function(){function o(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return o.prototype.parse=function(){},o.prototype.encode=function(){},o.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},o})();var f5=(function(o){function t(){return t.__super__.constructor.apply(this,arguments)}return yl(t,ol),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var i;return(i=new eu).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(e),i.writeShort(this.glyphDataFormat),i.data},t})(),sm=(function(){function o(t,e){var i,u,l,c,d,g,y,S,E,A,x,R,M,I,O,W,K;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),E=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(g=0;g<256;++g)this.codeMap[g]=t.readByte();break;case 4:for(x=t.readUInt16(),A=x/2,t.pos+=6,l=(function(){var de,ie;for(ie=[],g=de=0;0<=A?de<A:de>A;g=0<=A?++de:--de)ie.push(t.readUInt16());return ie})(),t.pos+=2,M=(function(){var de,ie;for(ie=[],g=de=0;0<=A?de<A:de>A;g=0<=A?++de:--de)ie.push(t.readUInt16());return ie})(),y=(function(){var de,ie;for(ie=[],g=de=0;0<=A?de<A:de>A;g=0<=A?++de:--de)ie.push(t.readUInt16());return ie})(),S=(function(){var de,ie;for(ie=[],g=de=0;0<=A?de<A:de>A;g=0<=A?++de:--de)ie.push(t.readUInt16());return ie})(),u=(this.length-t.pos+this.offset)/2,d=(function(){var de,ie;for(ie=[],g=de=0;0<=u?de<u:de>u;g=0<=u?++de:--de)ie.push(t.readUInt16());return ie})(),g=O=0,K=l.length;O<K;g=++O)for(I=l[g],i=W=R=M[g];R<=I?W<=I:W>=I;i=R<=I?++W:--W)S[g]===0?c=i+y[g]:(c=d[S[g]/2+(i-R)-(A-g)]||0)!==0&&(c+=y[g]),this.codeMap[i]=65535&c}t.pos=E}return o.encode=function(t,e){var i,u,l,c,d,g,y,S,E,A,x,R,M,I,O,W,K,de,ie,xe,Z,Y,me,Ne,te,G,ve,j,Ie,Ve,Fe,Le,Ae,Pe,re,F,he,fe,pe,Be,Ke,We,Ye,Tt,Ot,Gt;switch(j=new eu,c=Object.keys(t).sort((function(qt,$){return qt-$})),e){case"macroman":for(M=0,I=(function(){var qt=[];for(R=0;R<256;++R)qt.push(0);return qt})(),W={0:0},l={},Ie=0,Ae=c.length;Ie<Ae;Ie++)W[Ye=t[u=c[Ie]]]==null&&(W[Ye]=++M),l[u]={old:t[u],new:W[t[u]]},I[u]=W[t[u]];return j.writeUInt16(1),j.writeUInt16(0),j.writeUInt32(12),j.writeUInt16(0),j.writeUInt16(262),j.writeUInt16(0),j.write(I),{charMap:l,subtable:j.data,maxGlyphID:M+1};case"unicode":for(G=[],E=[],K=0,W={},i={},O=y=null,Ve=0,Pe=c.length;Ve<Pe;Ve++)W[ie=t[u=c[Ve]]]==null&&(W[ie]=++K),i[u]={old:ie,new:W[ie]},d=W[ie]-u,O!=null&&d===y||(O&&E.push(O),G.push(u),y=d),O=u;for(O&&E.push(O),E.push(65535),G.push(65535),Ne=2*(me=G.length),Y=2*Math.pow(Math.log(me)/Math.LN2,2),A=Math.log(Y/2)/Math.LN2,Z=2*me-Y,g=[],xe=[],x=[],R=Fe=0,re=G.length;Fe<re;R=++Fe){if(te=G[R],S=E[R],te===65535){g.push(0),xe.push(0);break}if(te-(ve=i[te].new)>=32768)for(g.push(0),xe.push(2*(x.length+me-R)),u=Le=te;te<=S?Le<=S:Le>=S;u=te<=S?++Le:--Le)x.push(i[u].new);else g.push(ve-te),xe.push(0)}for(j.writeUInt16(3),j.writeUInt16(1),j.writeUInt32(12),j.writeUInt16(4),j.writeUInt16(16+8*me+2*x.length),j.writeUInt16(0),j.writeUInt16(Ne),j.writeUInt16(Y),j.writeUInt16(A),j.writeUInt16(Z),Ke=0,F=E.length;Ke<F;Ke++)u=E[Ke],j.writeUInt16(u);for(j.writeUInt16(0),We=0,he=G.length;We<he;We++)u=G[We],j.writeUInt16(u);for(Tt=0,fe=g.length;Tt<fe;Tt++)d=g[Tt],j.writeUInt16(d);for(Ot=0,pe=xe.length;Ot<pe;Ot++)de=xe[Ot],j.writeUInt16(de);for(Gt=0,Be=x.length;Gt<Be;Gt++)M=x[Gt],j.writeUInt16(M);return{charMap:i,subtable:j.data,maxGlyphID:K+1}}},o})(),kg=(function(o){function t(){return t.__super__.constructor.apply(this,arguments)}return yl(t,ol),t.prototype.tag="cmap",t.prototype.parse=function(e){var i,u,l;for(e.pos=this.offset,this.version=e.readUInt16(),l=e.readUInt16(),this.tables=[],this.unicode=null,u=0;0<=l?u<l:u>l;u=0<=l?++u:--u)i=new sm(e,this.offset),this.tables.push(i),i.isUnicode&&this.unicode==null&&(this.unicode=i);return!0},t.encode=function(e,i){var u,l;return i==null&&(i="macroman"),u=sm.encode(e,i),(l=new eu).writeUInt16(0),l.writeUInt16(1),u.table=l.data.concat(u.subtable),u},t})(),d5=(function(o){function t(){return t.__super__.constructor.apply(this,arguments)}return yl(t,ol),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),p5=(function(o){function t(){return t.__super__.constructor.apply(this,arguments)}return yl(t,ol),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var i,u;for(u=[],i=0;i<10;++i)u.push(e.readByte());return u})(),this.charRange=(function(){var i,u;for(u=[],i=0;i<4;++i)u.push(e.readInt());return u})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var i,u;for(u=[],i=0;i<2;i=++i)u.push(e.readInt());return u})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),m5=(function(o){function t(){return t.__super__.constructor.apply(this,arguments)}return yl(t,ol),t.prototype.tag="post",t.prototype.parse=function(e){var i,u,l;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:var c;for(u=e.readUInt16(),this.glyphNameIndex=[],c=0;0<=u?c<u:c>u;c=0<=u?++c:--c)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],l=[];e.pos<this.offset+this.length;)i=e.readByte(),l.push(this.names.push(e.readString(i)));return l;case 151552:return u=e.readUInt16(),this.offsets=e.read(u);case 196608:break;case 262144:return this.map=(function(){var d,g,y;for(y=[],c=d=0,g=this.file.maxp.numGlyphs;0<=g?d<g:d>g;c=0<=g?++d:--d)y.push(e.readUInt32());return y}).call(this)}},t})(),g5=function(o,t){this.raw=o,this.length=o.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},_5=(function(o){function t(){return t.__super__.constructor.apply(this,arguments)}return yl(t,ol),t.prototype.tag="name",t.prototype.parse=function(e){var i,u,l,c,d,g,y,S,E,A,x;for(e.pos=this.offset,e.readShort(),i=e.readShort(),g=e.readShort(),u=[],c=0;0<=i?c<i:c>i;c=0<=i?++c:--c)u.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+g+e.readShort()});for(y={},c=E=0,A=u.length;E<A;c=++E)l=u[c],e.pos=l.offset,S=e.readString(l.length),d=new g5(S,l),y[x=l.nameID]==null&&(y[x]=[]),y[l.nameID].push(d);this.strings=y,this.copyright=y[0],this.fontFamily=y[1],this.fontSubfamily=y[2],this.uniqueSubfamily=y[3],this.fontName=y[4],this.version=y[5];try{this.postscriptName=y[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=y[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=y[7],this.manufacturer=y[8],this.designer=y[9],this.description=y[10],this.vendorUrl=y[11],this.designerUrl=y[12],this.license=y[13],this.licenseUrl=y[14],this.preferredFamily=y[15],this.preferredSubfamily=y[17],this.compatibleFull=y[18],this.sampleText=y[19]},t})(),v5=(function(o){function t(){return t.__super__.constructor.apply(this,arguments)}return yl(t,ol),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),y5=(function(o){function t(){return t.__super__.constructor.apply(this,arguments)}return yl(t,ol),t.prototype.tag="hmtx",t.prototype.parse=function(e){var i,u,l,c,d,g,y;for(e.pos=this.offset,this.metrics=[],i=0,g=this.file.hhea.numberOfMetrics;0<=g?i<g:i>g;i=0<=g?++i:--i)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(l=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var S,E;for(E=[],i=S=0;0<=l?S<l:S>l;i=0<=l?++S:--S)E.push(e.readInt16());return E})(),this.widths=(function(){var S,E,A,x;for(x=[],S=0,E=(A=this.metrics).length;S<E;S++)c=A[S],x.push(c.advance);return x}).call(this),u=this.widths[this.widths.length-1],y=[],i=d=0;0<=l?d<l:d>l;i=0<=l?++d:--d)y.push(this.widths.push(u));return y},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),Cg=[].slice,w5=(function(o){function t(){return t.__super__.constructor.apply(this,arguments)}return yl(t,ol),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var i,u,l,c,d,g,y,S,E,A;return e in this.cache?this.cache[e]:(c=this.file.loca,i=this.file.contents,u=c.indexOf(e),(l=c.lengthOf(e))===0?this.cache[e]=null:(i.pos=this.offset+u,d=(g=new eu(i.read(l))).readShort(),S=g.readShort(),A=g.readShort(),y=g.readShort(),E=g.readShort(),this.cache[e]=d===-1?new x5(g,S,A,y,E):new b5(g,d,S,A,y,E),this.cache[e]))},t.prototype.encode=function(e,i,u){var l,c,d,g,y;for(d=[],c=[],g=0,y=i.length;g<y;g++)l=e[i[g]],c.push(d.length),l&&(d=d.concat(l.encode(u)));return c.push(d.length),{table:d,offsets:c}},t})(),b5=(function(){function o(t,e,i,u,l,c){this.raw=t,this.numberOfContours=e,this.xMin=i,this.yMin=u,this.xMax=l,this.yMax=c,this.compound=!1}return o.prototype.encode=function(){return this.raw.data},o})(),x5=(function(){function o(t,e,i,u,l){var c,d;for(this.raw=t,this.xMin=e,this.yMin=i,this.xMax=u,this.yMax=l,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;d=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&d;)c.pos+=1&d?4:2,128&d?c.pos+=8:64&d?c.pos+=4:8&d&&(c.pos+=2)}return o.prototype.encode=function(){var t,e,i;for(e=new eu(Cg.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)e.pos=this.glyphOffsets[t];return e.data},o})(),L5=(function(o){function t(){return t.__super__.constructor.apply(this,arguments)}return yl(t,ol),t.prototype.tag="loca",t.prototype.parse=function(e){var i,u;return e.pos=this.offset,i=this.file.head.indexToLocFormat,this.offsets=i===0?(function(){var l,c;for(c=[],u=0,l=this.length;u<l;u+=2)c.push(2*e.readUInt16());return c}).call(this):(function(){var l,c;for(c=[],u=0,l=this.length;u<l;u+=4)c.push(e.readUInt32());return c}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,i){for(var u=new Uint32Array(this.offsets.length),l=0,c=0,d=0;d<u.length;++d)if(u[d]=l,c<i.length&&i[c]==d){++c,u[d]=l;var g=this.offsets[d],y=this.offsets[d+1]-g;y>0&&(l+=y)}for(var S=new Array(4*u.length),E=0;E<u.length;++E)S[4*E+3]=255&u[E],S[4*E+2]=(65280&u[E])>>8,S[4*E+1]=(16711680&u[E])>>16,S[4*E]=(4278190080&u[E])>>24;return S},t})(),k5=(function(){function o(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return o.prototype.generateCmap=function(){var t,e,i,u,l;for(e in u=this.font.cmap.tables[0].codeMap,t={},l=this.subset)i=l[e],t[e]=u[i];return t},o.prototype.glyphsFor=function(t){var e,i,u,l,c,d,g;for(u={},c=0,d=t.length;c<d;c++)u[l=t[c]]=this.font.glyf.glyphFor(l);for(l in e=[],u)(i=u[l])!=null&&i.compound&&e.push.apply(e,i.glyphIDs);if(e.length>0)for(l in g=this.glyphsFor(e))i=g[l],u[l]=i;return u},o.prototype.encode=function(t,e){var i,u,l,c,d,g,y,S,E,A,x,R,M,I,O;for(u in i=kg.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(t),x={0:0},O=i.charMap)x[(g=O[u]).old]=g.new;for(R in A=i.maxGlyphID,c)R in x||(x[R]=A++);return S=(function(W){var K,de;for(K in de={},W)de[W[K]]=K;return de})(x),E=Object.keys(S).sort((function(W,K){return W-K})),M=(function(){var W,K,de;for(de=[],W=0,K=E.length;W<K;W++)d=E[W],de.push(S[d]);return de})(),l=this.font.glyf.encode(c,M,x),y=this.font.loca.encode(l.offsets,M),I={cmap:this.font.cmap.raw(),glyf:l.table,loca:y,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(I["OS/2"]=this.font.os2.raw()),this.font.directory.encode(I)},o})();Bn.API.PDFObject=(function(){var o;function t(){}return o=function(e,i){return(Array(i+1).join("0")+e).slice(-i)},t.convert=function(e){var i,u,l,c;if(Array.isArray(e))return"["+(function(){var d,g,y;for(y=[],d=0,g=e.length;d<g;d++)i=e[d],y.push(t.convert(i));return y})().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e?.isString)return"("+e+")";if(e instanceof Date)return"(D:"+o(e.getUTCFullYear(),4)+o(e.getUTCMonth(),2)+o(e.getUTCDate(),2)+o(e.getUTCHours(),2)+o(e.getUTCMinutes(),2)+o(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(u in l=["<<"],e)c=e[u],l.push("/"+u+" "+t.convert(c));return l.push(">>"),l.join(`
`)}return""+e},t})();var C5="2.0.3",S5=[].slice,E5={};function Ed(o){if(!(o>=1))throw new Error;this._size=o,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}Ed.prototype=Eg.prototype={constructor:Ed,defer:function(o){if(typeof o!="function"||this._call)throw new Error;if(this._error!=null)return this;var t=S5.call(arguments,1);return t.push(o),++this._waiting,this._tasks.push(t),Sg(this),this},abort:function(){return this._error==null&&Wd(this,new Error("abort")),this},await:function(o){if(typeof o!="function"||this._call)throw new Error;return this._call=function(t,e){o.apply(null,[t].concat(e))},Rc(this),this},awaitAll:function(o){if(typeof o!="function"||this._call)throw new Error;return this._call=o,Rc(this),this}};function Sg(o){if(!o._start)try{P5(o)}catch(t){o._tasks[o._ended+o._active-1]&&Wd(o,t)}}function P5(o){for(;o._start=o._waiting&&o._active<o._size;){var t=o._ended+o._active,e=o._tasks[t],i=e.length-1,u=e[i];e[i]=A5(o,t),--o._waiting,++o._active,e=u.apply(null,e),o._tasks[t]&&(o._tasks[t]=e||E5)}}function A5(o,t){return function(e,i){o._tasks[t]&&(--o._active,++o._ended,o._tasks[t]=null,o._error==null&&(e!=null?Wd(o,e):(o._data[t]=i,o._waiting?Sg(o):Rc(o))))}}function Wd(o,t){var e=o._tasks.length,i;for(o._error=t,o._data=void 0,o._waiting=NaN;--e>=0;)if((i=o._tasks[e])&&(o._tasks[e]=null,i.abort))try{i.abort()}catch{}o._active=NaN,Rc(o)}function Rc(o){!o._active&&o._call&&o._call(o._error,o._data)}function Eg(o){return new Ed(arguments.length?+o:1/0)}const M5=Object.freeze(Object.defineProperty({__proto__:null,queue:Eg,version:C5},Symbol.toStringTag,{value:"Module"})),B5=fm(M5);var Qf,am;function T5(){if(am)return Qf;am=1;var o=B5.queue,t=+new Date;return Qf=function(i,u){var l=!!L.mapbox,c=i.getSize(),d=new o(1),g=document.createElement("canvas");g.width=c.x,g.height=c.y;var y=g.getContext("2d"),S=document.createElement("canvas");S.width=1,S.height=1;var E=S.getContext("2d");if(E.fillStyle="rgba(0,0,0,0)",E.fillRect(0,0,1,1),i.eachLayer(x),i.eachLayer(M),i._pathRoot)d.defer(K,i._pathRoot);else if(i._panes){var A=i._panes.overlayPane.getElementsByTagName("canvas").item(0);A&&d.defer(K,A)}i.eachLayer(R),d.awaitAll(O);function x(Y){Y instanceof L.TileLayer?d.defer(W,Y):Y._heat&&d.defer(K,Y._canvas)}function R(Y){Y instanceof L.Marker&&Y.options.icon instanceof L.Icon&&d.defer(de,Y)}function M(Y){L.esri&&Y instanceof L.esri.DynamicMapLayer&&d.defer(ie,Y)}function I(){u(null,g)}function O(Y,me){if(Y)throw Y;me.forEach(function(Ne){Ne&&Ne.canvas&&y.drawImage(Ne.canvas,0,0)}),I()}function W(Y,me){var Ne=L.TileLayer.Canvas&&Y instanceof L.TileLayer.Canvas,te=document.createElement("canvas");te.width=c.x,te.height=c.y;var G=te.getContext("2d"),ve=i.getPixelBounds(),j=i.getZoom(),Ie=Y.options.tileSize;if(j>Y.options.maxZoom||j<Y.options.minZoom||l&&Y instanceof L.mapbox.tileLayer&&!Y.options.tiles)return me();var Ve=L.bounds(ve.min.divideBy(Ie)._floor(),ve.max.divideBy(Ie)._floor()),Fe=[],Le,Ae,Pe=new o(1);for(Le=Ve.min.y;Le<=Ve.max.y;Le++)for(Ae=Ve.min.x;Ae<=Ve.max.x;Ae++)Fe.push(new L.Point(Ae,Le));Fe.forEach(function(pe){var Be=pe.clone();Y._adjustTilePoint&&Y._adjustTilePoint(pe);var Ke=Be.scaleBy(new L.Point(Ie,Ie)).subtract(ve.min);if(pe.y>=0)if(Ne){var We=Y._tiles[pe.x+":"+pe.y];Pe.defer(re,We,Ke,Ie)}else{var Ye=xe(Y.getTileUrl(pe));Pe.defer(F,Ye,Ke,Ie)}}),Pe.awaitAll(he);function re(pe,Be,Ke,We){We(null,{img:pe,pos:Be,size:Ke})}function F(pe,Be,Ke,We){var Ye=new Image;Ye.crossOrigin="",Ye.onload=function(){We(null,{img:this,pos:Be,size:Ke})},Ye.onerror=function(Tt){Y.options.errorTileUrl!=""&&Tt.target.errorCheck===void 0?(Tt.target.errorCheck=!0,Tt.target.src=Y.options.errorTileUrl):We(null,{img:S,pos:Be,size:Ke})},Ye.src=pe}function he(pe,Be){Be.forEach(fe),me(null,{canvas:te})}function fe(pe){G.drawImage(pe.img,Math.floor(pe.pos.x),Math.floor(pe.pos.y),pe.size,pe.size)}}function K(Y,me){var Ne=i.getPixelBounds(),te=i.getPixelOrigin(),G=document.createElement("canvas");G.width=c.x,G.height=c.y;var ve=G.getContext("2d"),j=L.DomUtil.getPosition(Y).subtract(Ne.min).add(te);try{ve.drawImage(Y,j.x,j.y,G.width-j.x*2,G.height-j.y*2),me(null,{canvas:G})}catch{console.error("Element could not be drawn on canvas",Y)}}function de(Y,me){var Ne=document.createElement("canvas"),te=Ne.getContext("2d"),G=i.getPixelBounds(),ve=new L.Point(G.min.x,G.min.y),j=i.project(Y.getLatLng()),Ie=/^data\:/.test(Y._icon.src),Ve=Ie?Y._icon.src:xe(Y._icon.src),Fe=new Image,Le=Y.options.icon.options,Ae=Le.iconSize,Pe=j.subtract(ve),re=L.point(Le.iconAnchor||Ae&&Ae.divideBy(2,!0));Ae instanceof L.Point&&(Ae=[Ae.x,Ae.y]);var F=Math.round(Pe.x-Ae[0]+re.x),he=Math.round(Pe.y-re.y);Ne.width=c.x,Ne.height=c.y,Fe.crossOrigin="",Fe.onload=function(){te.drawImage(this,F,he,Ae[0],Ae[1]),me(null,{canvas:Ne})},Fe.src=Ve,Ie&&Fe.onload()}function ie(Y,me){var Ne=document.createElement("canvas");Ne.width=c.x,Ne.height=c.y;var te=Ne.getContext("2d"),G=new Image;G.crossOrigin="",G.src=xe(Y._currentImage._image.src),G.onload=function(){te.drawImage(G,0,0),me(null,{canvas:Ne})}}function xe(Y){return Z(Y)||Y.indexOf("mapbox.com/styles/v1")!==-1?Y:Y+(Y.match(/\?/)?"&":"?")+"cache="+t}function Z(Y){var me=/^\s*data:([a-z]+\/[a-z]+(;[a-z\-]+\=[a-z\-]+)?)?(;base64)?,[a-z0-9\!\$\&\'\,\(\)\*\+\,\;\=\-\.\_\~\:\@\/\?\%\s]*\s*$/i;return!!Y.match(me)}},Qf}var N5=T5();const O5=bu(N5);var om={},lm;function D5(){return lm||(lm=1,(()=>{var o=Object.create,t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,u=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,c=(s,h)=>()=>(h||s((h={exports:{}}).exports,h),h.exports),d=(s,h,p,v)=>{if(h&&typeof h=="object"||typeof h=="function")for(let k of i(h))!l.call(s,k)&&k!==p&&t(s,k,{get:()=>h[k],enumerable:!(v=e(h,k))||v.enumerable});return s},g=(s,h,p)=>(p=s!=null?o(u(s)):{},d(h||!s||!s.__esModule?t(p,"default",{value:s,enumerable:!0}):p,s)),y=c((s,h)=>{function p(){this.__data__=[],this.size=0}h.exports=p}),S=c((s,h)=>{function p(v,k){return v===k||v!==v&&k!==k}h.exports=p}),E=c((s,h)=>{var p=S();function v(k,B){for(var z=k.length;z--;)if(p(k[z][0],B))return z;return-1}h.exports=v}),A=c((s,h)=>{var p=E(),v=Array.prototype,k=v.splice;function B(z){var q=this.__data__,J=p(q,z);if(J<0)return!1;var ee=q.length-1;return J==ee?q.pop():k.call(q,J,1),--this.size,!0}h.exports=B}),x=c((s,h)=>{var p=E();function v(k){var B=this.__data__,z=p(B,k);return z<0?void 0:B[z][1]}h.exports=v}),R=c((s,h)=>{var p=E();function v(k){return p(this.__data__,k)>-1}h.exports=v}),M=c((s,h)=>{var p=E();function v(k,B){var z=this.__data__,q=p(z,k);return q<0?(++this.size,z.push([k,B])):z[q][1]=B,this}h.exports=v}),I=c((s,h)=>{var p=y(),v=A(),k=x(),B=R(),z=M();function q(J){var ee=-1,Re=J==null?0:J.length;for(this.clear();++ee<Re;){var Me=J[ee];this.set(Me[0],Me[1])}}q.prototype.clear=p,q.prototype.delete=v,q.prototype.get=k,q.prototype.has=B,q.prototype.set=z,h.exports=q}),O=c((s,h)=>{var p=I();function v(){this.__data__=new p,this.size=0}h.exports=v}),W=c((s,h)=>{function p(v){var k=this.__data__,B=k.delete(v);return this.size=k.size,B}h.exports=p}),K=c((s,h)=>{function p(v){return this.__data__.get(v)}h.exports=p}),de=c((s,h)=>{function p(v){return this.__data__.has(v)}h.exports=p}),ie=c((s,h)=>{var p=typeof Jl=="object"&&Jl&&Jl.Object===Object&&Jl;h.exports=p}),xe=c((s,h)=>{var p=ie(),v=typeof self=="object"&&self&&self.Object===Object&&self,k=p||v||Function("return this")();h.exports=k}),Z=c((s,h)=>{var p=xe(),v=p.Symbol;h.exports=v}),Y=c((s,h)=>{var p=Z(),v=Object.prototype,k=v.hasOwnProperty,B=v.toString,z=p?p.toStringTag:void 0;function q(J){var ee=k.call(J,z),Re=J[z];try{J[z]=void 0;var Me=!0}catch{}var ut=B.call(J);return Me&&(ee?J[z]=Re:delete J[z]),ut}h.exports=q}),me=c((s,h)=>{var p=Object.prototype,v=p.toString;function k(B){return v.call(B)}h.exports=k}),Ne=c((s,h)=>{var p=Z(),v=Y(),k=me(),B="[object Null]",z="[object Undefined]",q=p?p.toStringTag:void 0;function J(ee){return ee==null?ee===void 0?z:B:q&&q in Object(ee)?v(ee):k(ee)}h.exports=J}),te=c((s,h)=>{function p(v){var k=typeof v;return v!=null&&(k=="object"||k=="function")}h.exports=p}),G=c((s,h)=>{var p=Ne(),v=te(),k="[object AsyncFunction]",B="[object Function]",z="[object GeneratorFunction]",q="[object Proxy]";function J(ee){if(!v(ee))return!1;var Re=p(ee);return Re==B||Re==z||Re==k||Re==q}h.exports=J}),ve=c((s,h)=>{var p=xe(),v=p["__core-js_shared__"];h.exports=v}),j=c((s,h)=>{var p=ve(),v=(function(){var B=/[^.]+$/.exec(p&&p.keys&&p.keys.IE_PROTO||"");return B?"Symbol(src)_1."+B:""})();function k(B){return!!v&&v in B}h.exports=k}),Ie=c((s,h)=>{var p=Function.prototype,v=p.toString;function k(B){if(B!=null){try{return v.call(B)}catch{}try{return B+""}catch{}}return""}h.exports=k}),Ve=c((s,h)=>{var p=G(),v=j(),k=te(),B=Ie(),z=/[\\^$.*+?()[\]{}|]/g,q=/^\[object .+?Constructor\]$/,J=Function.prototype,ee=Object.prototype,Re=J.toString,Me=ee.hasOwnProperty,ut=RegExp("^"+Re.call(Me).replace(z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function gt(Et){if(!k(Et)||v(Et))return!1;var Wt=p(Et)?ut:q;return Wt.test(B(Et))}h.exports=gt}),Fe=c((s,h)=>{function p(v,k){return v?.[k]}h.exports=p}),Le=c((s,h)=>{var p=Ve(),v=Fe();function k(B,z){var q=v(B,z);return p(q)?q:void 0}h.exports=k}),Ae=c((s,h)=>{var p=Le(),v=xe(),k=p(v,"Map");h.exports=k}),Pe=c((s,h)=>{var p=Le(),v=p(Object,"create");h.exports=v}),re=c((s,h)=>{var p=Pe();function v(){this.__data__=p?p(null):{},this.size=0}h.exports=v}),F=c((s,h)=>{function p(v){var k=this.has(v)&&delete this.__data__[v];return this.size-=k?1:0,k}h.exports=p}),he=c((s,h)=>{var p=Pe(),v="__lodash_hash_undefined__",k=Object.prototype,B=k.hasOwnProperty;function z(q){var J=this.__data__;if(p){var ee=J[q];return ee===v?void 0:ee}return B.call(J,q)?J[q]:void 0}h.exports=z}),fe=c((s,h)=>{var p=Pe(),v=Object.prototype,k=v.hasOwnProperty;function B(z){var q=this.__data__;return p?q[z]!==void 0:k.call(q,z)}h.exports=B}),pe=c((s,h)=>{var p=Pe(),v="__lodash_hash_undefined__";function k(B,z){var q=this.__data__;return this.size+=this.has(B)?0:1,q[B]=p&&z===void 0?v:z,this}h.exports=k}),Be=c((s,h)=>{var p=re(),v=F(),k=he(),B=fe(),z=pe();function q(J){var ee=-1,Re=J==null?0:J.length;for(this.clear();++ee<Re;){var Me=J[ee];this.set(Me[0],Me[1])}}q.prototype.clear=p,q.prototype.delete=v,q.prototype.get=k,q.prototype.has=B,q.prototype.set=z,h.exports=q}),Ke=c((s,h)=>{var p=Be(),v=I(),k=Ae();function B(){this.size=0,this.__data__={hash:new p,map:new(k||v),string:new p}}h.exports=B}),We=c((s,h)=>{function p(v){var k=typeof v;return k=="string"||k=="number"||k=="symbol"||k=="boolean"?v!=="__proto__":v===null}h.exports=p}),Ye=c((s,h)=>{var p=We();function v(k,B){var z=k.__data__;return p(B)?z[typeof B=="string"?"string":"hash"]:z.map}h.exports=v}),Tt=c((s,h)=>{var p=Ye();function v(k){var B=p(this,k).delete(k);return this.size-=B?1:0,B}h.exports=v}),Ot=c((s,h)=>{var p=Ye();function v(k){return p(this,k).get(k)}h.exports=v}),Gt=c((s,h)=>{var p=Ye();function v(k){return p(this,k).has(k)}h.exports=v}),qt=c((s,h)=>{var p=Ye();function v(k,B){var z=p(this,k),q=z.size;return z.set(k,B),this.size+=z.size==q?0:1,this}h.exports=v}),$=c((s,h)=>{var p=Ke(),v=Tt(),k=Ot(),B=Gt(),z=qt();function q(J){var ee=-1,Re=J==null?0:J.length;for(this.clear();++ee<Re;){var Me=J[ee];this.set(Me[0],Me[1])}}q.prototype.clear=p,q.prototype.delete=v,q.prototype.get=k,q.prototype.has=B,q.prototype.set=z,h.exports=q}),je=c((s,h)=>{var p=I(),v=Ae(),k=$(),B=200;function z(q,J){var ee=this.__data__;if(ee instanceof p){var Re=ee.__data__;if(!v||Re.length<B-1)return Re.push([q,J]),this.size=++ee.size,this;ee=this.__data__=new k(Re)}return ee.set(q,J),this.size=ee.size,this}h.exports=z}),oe=c((s,h)=>{var p=I(),v=O(),k=W(),B=K(),z=de(),q=je();function J(ee){var Re=this.__data__=new p(ee);this.size=Re.size}J.prototype.clear=v,J.prototype.delete=k,J.prototype.get=B,J.prototype.has=z,J.prototype.set=q,h.exports=J}),Ee=c((s,h)=>{var p=Le(),v=(function(){try{var k=p(Object,"defineProperty");return k({},"",{}),k}catch{}})();h.exports=v}),we=c((s,h)=>{var p=Ee();function v(k,B,z){B=="__proto__"&&p?p(k,B,{configurable:!0,enumerable:!0,value:z,writable:!0}):k[B]=z}h.exports=v}),Te=c((s,h)=>{var p=we(),v=S();function k(B,z,q){(q!==void 0&&!v(B[z],q)||q===void 0&&!(z in B))&&p(B,z,q)}h.exports=k}),st=c((s,h)=>{function p(v){return function(k,B,z){for(var q=-1,J=Object(k),ee=z(k),Re=ee.length;Re--;){var Me=ee[v?Re:++q];if(B(J[Me],Me,J)===!1)break}return k}}h.exports=p}),ht=c((s,h)=>{var p=st(),v=p();h.exports=v}),qe=c((s,h)=>{var p=xe(),v=typeof s=="object"&&s&&!s.nodeType&&s,k=v&&typeof h=="object"&&h&&!h.nodeType&&h,B=k&&k.exports===v,z=B?p.Buffer:void 0,q=z?z.allocUnsafe:void 0;function J(ee,Re){if(Re)return ee.slice();var Me=ee.length,ut=q?q(Me):new ee.constructor(Me);return ee.copy(ut),ut}h.exports=J}),Lt=c((s,h)=>{var p=xe(),v=p.Uint8Array;h.exports=v}),It=c((s,h)=>{var p=Lt();function v(k){var B=new k.constructor(k.byteLength);return new p(B).set(new p(k)),B}h.exports=v}),Bt=c((s,h)=>{var p=It();function v(k,B){var z=B?p(k.buffer):k.buffer;return new k.constructor(z,k.byteOffset,k.length)}h.exports=v}),Ut=c((s,h)=>{function p(v,k){var B=-1,z=v.length;for(k||(k=Array(z));++B<z;)k[B]=v[B];return k}h.exports=p}),an=c((s,h)=>{var p=te(),v=Object.create,k=(function(){function B(){}return function(z){if(!p(z))return{};if(v)return v(z);B.prototype=z;var q=new B;return B.prototype=void 0,q}})();h.exports=k}),tn=c((s,h)=>{function p(v,k){return function(B){return v(k(B))}}h.exports=p}),on=c((s,h)=>{var p=tn(),v=p(Object.getPrototypeOf,Object);h.exports=v}),wn=c((s,h)=>{var p=Object.prototype;function v(k){var B=k&&k.constructor,z=typeof B=="function"&&B.prototype||p;return k===z}h.exports=v}),Vt=c((s,h)=>{var p=an(),v=on(),k=wn();function B(z){return typeof z.constructor=="function"&&!k(z)?p(v(z)):{}}h.exports=B}),ur=c((s,h)=>{function p(v){return v!=null&&typeof v=="object"}h.exports=p}),cn=c((s,h)=>{var p=Ne(),v=ur(),k="[object Arguments]";function B(z){return v(z)&&p(z)==k}h.exports=B}),Dr=c((s,h)=>{var p=cn(),v=ur(),k=Object.prototype,B=k.hasOwnProperty,z=k.propertyIsEnumerable,q=p((function(){return arguments})())?p:function(J){return v(J)&&B.call(J,"callee")&&!z.call(J,"callee")};h.exports=q}),zn=c((s,h)=>{var p=Array.isArray;h.exports=p}),jn=c((s,h)=>{var p=9007199254740991;function v(k){return typeof k=="number"&&k>-1&&k%1==0&&k<=p}h.exports=v}),Ar=c((s,h)=>{var p=G(),v=jn();function k(B){return B!=null&&v(B.length)&&!p(B)}h.exports=k}),Wn=c((s,h)=>{var p=Ar(),v=ur();function k(B){return v(B)&&p(B)}h.exports=k}),Ps=c((s,h)=>{function p(){return!1}h.exports=p}),ar=c((s,h)=>{var p=xe(),v=Ps(),k=typeof s=="object"&&s&&!s.nodeType&&s,B=k&&typeof h=="object"&&h&&!h.nodeType&&h,z=B&&B.exports===k,q=z?p.Buffer:void 0,J=q?q.isBuffer:void 0,ee=J||v;h.exports=ee}),Ir=c((s,h)=>{var p=Ne(),v=on(),k=ur(),B="[object Object]",z=Function.prototype,q=Object.prototype,J=z.toString,ee=q.hasOwnProperty,Re=J.call(Object);function Me(ut){if(!k(ut)||p(ut)!=B)return!1;var gt=v(ut);if(gt===null)return!0;var Et=ee.call(gt,"constructor")&&gt.constructor;return typeof Et=="function"&&Et instanceof Et&&J.call(Et)==Re}h.exports=Me}),Mr=c((s,h)=>{var p=Ne(),v=jn(),k=ur(),B="[object Arguments]",z="[object Array]",q="[object Boolean]",J="[object Date]",ee="[object Error]",Re="[object Function]",Me="[object Map]",ut="[object Number]",gt="[object Object]",Et="[object RegExp]",Wt="[object Set]",Zt="[object String]",mn="[object WeakMap]",Oe="[object ArrayBuffer]",Ue="[object DataView]",nt="[object Float32Array]",yt="[object Float64Array]",rt="[object Int8Array]",dt="[object Int16Array]",X="[object Int32Array]",ce="[object Uint8Array]",be="[object Uint8ClampedArray]",ge="[object Uint16Array]",ke="[object Uint32Array]",Ce={};Ce[nt]=Ce[yt]=Ce[rt]=Ce[dt]=Ce[X]=Ce[ce]=Ce[be]=Ce[ge]=Ce[ke]=!0,Ce[B]=Ce[z]=Ce[Oe]=Ce[q]=Ce[Ue]=Ce[J]=Ce[ee]=Ce[Re]=Ce[Me]=Ce[ut]=Ce[gt]=Ce[Et]=Ce[Wt]=Ce[Zt]=Ce[mn]=!1;function Ze(Ge){return k(Ge)&&v(Ge.length)&&!!Ce[p(Ge)]}h.exports=Ze}),or=c((s,h)=>{function p(v){return function(k){return v(k)}}h.exports=p}),En=c((s,h)=>{var p=ie(),v=typeof s=="object"&&s&&!s.nodeType&&s,k=v&&typeof h=="object"&&h&&!h.nodeType&&h,B=k&&k.exports===v,z=B&&p.process,q=(function(){try{var J=k&&k.require&&k.require("util").types;return J||z&&z.binding&&z.binding("util")}catch{}})();h.exports=q}),Yn=c((s,h)=>{var p=Mr(),v=or(),k=En(),B=k&&k.isTypedArray,z=B?v(B):p;h.exports=z}),ma=c((s,h)=>{function p(v,k){if(!(k==="constructor"&&typeof v[k]=="function")&&k!="__proto__")return v[k]}h.exports=p}),Zr=c((s,h)=>{var p=we(),v=S(),k=Object.prototype,B=k.hasOwnProperty;function z(q,J,ee){var Re=q[J];(!(B.call(q,J)&&v(Re,ee))||ee===void 0&&!(J in q))&&p(q,J,ee)}h.exports=z}),cs=c((s,h)=>{var p=Zr(),v=we();function k(B,z,q,J){var ee=!q;q||(q={});for(var Re=-1,Me=z.length;++Re<Me;){var ut=z[Re],gt=J?J(q[ut],B[ut],ut,q,B):void 0;gt===void 0&&(gt=B[ut]),ee?v(q,ut,gt):p(q,ut,gt)}return q}h.exports=k}),Zi=c((s,h)=>{function p(v,k){for(var B=-1,z=Array(v);++B<v;)z[B]=k(B);return z}h.exports=p}),dn=c((s,h)=>{var p=9007199254740991,v=/^(?:0|[1-9]\d*)$/;function k(B,z){var q=typeof B;return z=z??p,!!z&&(q=="number"||q!="symbol"&&v.test(B))&&B>-1&&B%1==0&&B<z}h.exports=k}),Ki=c((s,h)=>{var p=Zi(),v=Dr(),k=zn(),B=ar(),z=dn(),q=Yn(),J=Object.prototype,ee=J.hasOwnProperty;function Re(Me,ut){var gt=k(Me),Et=!gt&&v(Me),Wt=!gt&&!Et&&B(Me),Zt=!gt&&!Et&&!Wt&&q(Me),mn=gt||Et||Wt||Zt,Oe=mn?p(Me.length,String):[],Ue=Oe.length;for(var nt in Me)(ut||ee.call(Me,nt))&&!(mn&&(nt=="length"||Wt&&(nt=="offset"||nt=="parent")||Zt&&(nt=="buffer"||nt=="byteLength"||nt=="byteOffset")||z(nt,Ue)))&&Oe.push(nt);return Oe}h.exports=Re}),Ii=c((s,h)=>{function p(v){var k=[];if(v!=null)for(var B in Object(v))k.push(B);return k}h.exports=p}),Ri=c((s,h)=>{var p=te(),v=wn(),k=Ii(),B=Object.prototype,z=B.hasOwnProperty;function q(J){if(!p(J))return k(J);var ee=v(J),Re=[];for(var Me in J)Me=="constructor"&&(ee||!z.call(J,Me))||Re.push(Me);return Re}h.exports=q}),$n=c((s,h)=>{var p=Ki(),v=Ri(),k=Ar();function B(z){return k(z)?p(z,!0):v(z)}h.exports=B}),Kt=c((s,h)=>{var p=cs(),v=$n();function k(B){return p(B,v(B))}h.exports=k}),ii=c((s,h)=>{var p=Te(),v=qe(),k=Bt(),B=Ut(),z=Vt(),q=Dr(),J=zn(),ee=Wn(),Re=ar(),Me=G(),ut=te(),gt=Ir(),Et=Yn(),Wt=ma(),Zt=Kt();function mn(Oe,Ue,nt,yt,rt,dt,X){var ce=Wt(Oe,nt),be=Wt(Ue,nt),ge=X.get(be);if(ge){p(Oe,nt,ge);return}var ke=dt?dt(ce,be,nt+"",Oe,Ue,X):void 0,Ce=ke===void 0;if(Ce){var Ze=J(be),Ge=!Ze&&Re(be),Xe=!Ze&&!Ge&&Et(be);ke=be,Ze||Ge||Xe?J(ce)?ke=ce:ee(ce)?ke=B(ce):Ge?(Ce=!1,ke=v(be,!0)):Xe?(Ce=!1,ke=k(be,!0)):ke=[]:gt(be)||q(be)?(ke=ce,q(ce)?ke=Zt(ce):(!ut(ce)||Me(ce))&&(ke=z(be))):Ce=!1}Ce&&(X.set(be,ke),rt(ke,be,yt,dt,X),X.delete(be)),p(Oe,nt,ke)}h.exports=mn}),ga=c((s,h)=>{var p=oe(),v=Te(),k=ht(),B=ii(),z=te(),q=$n(),J=ma();function ee(Re,Me,ut,gt,Et){Re!==Me&&k(Me,function(Wt,Zt){if(Et||(Et=new p),z(Wt))B(Re,Me,Zt,ut,ee,gt,Et);else{var mn=gt?gt(J(Re,Zt),Wt,Zt+"",Re,Me,Et):void 0;mn===void 0&&(mn=Wt),v(Re,Zt,mn)}},q)}h.exports=ee}),As=c((s,h)=>{function p(v){return v}h.exports=p}),fs=c((s,h)=>{function p(v,k,B){switch(B.length){case 0:return v.call(k);case 1:return v.call(k,B[0]);case 2:return v.call(k,B[0],B[1]);case 3:return v.call(k,B[0],B[1],B[2])}return v.apply(k,B)}h.exports=p}),Ji=c((s,h)=>{var p=fs(),v=Math.max;function k(B,z,q){return z=v(z===void 0?B.length-1:z,0),function(){for(var J=arguments,ee=-1,Re=v(J.length-z,0),Me=Array(Re);++ee<Re;)Me[ee]=J[z+ee];ee=-1;for(var ut=Array(z+1);++ee<z;)ut[ee]=J[ee];return ut[z]=q(Me),p(B,this,ut)}}h.exports=k}),Kr=c((s,h)=>{function p(v){return function(){return v}}h.exports=p}),gi=c((s,h)=>{var p=Kr(),v=Ee(),k=As(),B=v?function(z,q){return v(z,"toString",{configurable:!0,enumerable:!1,value:p(q),writable:!0})}:k;h.exports=B}),Fi=c((s,h)=>{var p=800,v=16,k=Date.now;function B(z){var q=0,J=0;return function(){var ee=k(),Re=v-(ee-J);if(J=ee,Re>0){if(++q>=p)return arguments[0]}else q=0;return z.apply(void 0,arguments)}}h.exports=B}),qs=c((s,h)=>{var p=gi(),v=Fi(),k=v(p);h.exports=k}),Ma=c((s,h)=>{var p=As(),v=Ji(),k=qs();function B(z,q){return k(v(z,q,p),z+"")}h.exports=B}),Xa=c((s,h)=>{var p=S(),v=Ar(),k=dn(),B=te();function z(q,J,ee){if(!B(ee))return!1;var Re=typeof J;return(Re=="number"?v(ee)&&k(J,ee.length):Re=="string"&&J in ee)?p(ee[J],q):!1}h.exports=z}),Qa=c((s,h)=>{var p=Ma(),v=Xa();function k(B){return p(function(z,q){var J=-1,ee=q.length,Re=ee>1?q[ee-1]:void 0,Me=ee>2?q[2]:void 0;for(Re=B.length>3&&typeof Re=="function"?(ee--,Re):void 0,Me&&v(q[0],q[1],Me)&&(Re=ee<3?void 0:Re,ee=1),z=Object(z);++J<ee;){var ut=q[J];ut&&B(z,ut,J,Re)}return z})}h.exports=k}),Gs=c((s,h)=>{var p=ga(),v=Qa(),k=v(function(B,z,q){p(B,z,q)});h.exports=k}),Ba=c((s,h)=>{var p=Ne(),v=ur(),k="[object Symbol]";function B(z){return typeof z=="symbol"||v(z)&&p(z)==k}h.exports=B}),eo=c((s,h)=>{var p=zn(),v=Ba(),k=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,B=/^\w*$/;function z(q,J){if(p(q))return!1;var ee=typeof q;return ee=="number"||ee=="symbol"||ee=="boolean"||q==null||v(q)?!0:B.test(q)||!k.test(q)||J!=null&&q in Object(J)}h.exports=z}),wr=c((s,h)=>{var p=$(),v="Expected a function";function k(B,z){if(typeof B!="function"||z!=null&&typeof z!="function")throw new TypeError(v);var q=function(){var J=arguments,ee=z?z.apply(this,J):J[0],Re=q.cache;if(Re.has(ee))return Re.get(ee);var Me=B.apply(this,J);return q.cache=Re.set(ee,Me)||Re,Me};return q.cache=new(k.Cache||p),q}k.Cache=p,h.exports=k}),wl=c((s,h)=>{var p=wr(),v=500;function k(B){var z=p(B,function(J){return q.size===v&&q.clear(),J}),q=z.cache;return z}h.exports=k}),Ta=c((s,h)=>{var p=wl(),v=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,k=/\\(\\)?/g,B=p(function(z){var q=[];return z.charCodeAt(0)===46&&q.push(""),z.replace(v,function(J,ee,Re,Me){q.push(Re?Me.replace(k,"$1"):ee||J)}),q});h.exports=B}),Io=c((s,h)=>{function p(v,k){for(var B=-1,z=v==null?0:v.length,q=Array(z);++B<z;)q[B]=k(v[B],B,v);return q}h.exports=p}),_o=c((s,h)=>{var p=Z(),v=Io(),k=zn(),B=Ba(),z=p?p.prototype:void 0,q=z?z.toString:void 0;function J(ee){if(typeof ee=="string")return ee;if(k(ee))return v(ee,J)+"";if(B(ee))return q?q.call(ee):"";var Re=ee+"";return Re=="0"&&1/ee==-1/0?"-0":Re}h.exports=J}),to=c((s,h)=>{var p=_o();function v(k){return k==null?"":p(k)}h.exports=v}),Na=c((s,h)=>{var p=zn(),v=eo(),k=Ta(),B=to();function z(q,J){return p(q)?q:v(q,J)?[q]:k(B(q))}h.exports=z}),Oa=c((s,h)=>{var p=Ba();function v(k){if(typeof k=="string"||p(k))return k;var B=k+"";return B=="0"&&1/k==-1/0?"-0":B}h.exports=v}),Yi=c((s,h)=>{var p=Na(),v=Oa();function k(B,z){z=p(z,B);for(var q=0,J=z.length;B!=null&&q<J;)B=B[v(z[q++])];return q&&q==J?B:void 0}h.exports=k}),Xi=c((s,h)=>{var p=Yi();function v(k,B,z){var q=k==null?void 0:p(k,B);return q===void 0?z:q}h.exports=v}),An=c((s,h)=>{(function(p,v){typeof s=="object"&&typeof h<"u"?h.exports=v():(p=p||self).RBush=v()})(s,function(){function p(Oe,Ue,nt,yt,rt){(function dt(X,ce,be,ge,ke){for(;ge>be;){if(ge-be>600){var Ce=ge-be+1,Ze=ce-be+1,Ge=Math.log(Ce),Xe=.5*Math.exp(2*Ge/3),pt=.5*Math.sqrt(Ge*Xe*(Ce-Xe)/Ce)*(Ze-Ce/2<0?-1:1),ct=Math.max(be,Math.floor(ce-Ze*Xe/Ce+pt)),Dt=Math.min(ge,Math.floor(ce+(Ce-Ze)*Xe/Ce+pt));dt(X,ce,ct,Dt,ke)}var Xt=X[ce],nn=be,rn=ge;for(v(X,be,ce),ke(X[ge],Xt)>0&&v(X,be,ge);nn<rn;){for(v(X,nn,rn),nn++,rn--;ke(X[nn],Xt)<0;)nn++;for(;ke(X[rn],Xt)>0;)rn--}ke(X[be],Xt)===0?v(X,be,rn):v(X,++rn,ge),rn<=ce&&(be=rn+1),ce<=rn&&(ge=rn-1)}})(Oe,Ue,nt||0,yt||Oe.length-1,rt||k)}function v(Oe,Ue,nt){var yt=Oe[Ue];Oe[Ue]=Oe[nt],Oe[nt]=yt}function k(Oe,Ue){return Oe<Ue?-1:Oe>Ue?1:0}var B=function(Oe){Oe===void 0&&(Oe=9),this._maxEntries=Math.max(4,Oe),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function z(Oe,Ue,nt){if(!nt)return Ue.indexOf(Oe);for(var yt=0;yt<Ue.length;yt++)if(nt(Oe,Ue[yt]))return yt;return-1}function q(Oe,Ue){J(Oe,0,Oe.children.length,Ue,Oe)}function J(Oe,Ue,nt,yt,rt){rt||(rt=Zt(null)),rt.minX=1/0,rt.minY=1/0,rt.maxX=-1/0,rt.maxY=-1/0;for(var dt=Ue;dt<nt;dt++){var X=Oe.children[dt];ee(rt,Oe.leaf?yt(X):X)}return rt}function ee(Oe,Ue){return Oe.minX=Math.min(Oe.minX,Ue.minX),Oe.minY=Math.min(Oe.minY,Ue.minY),Oe.maxX=Math.max(Oe.maxX,Ue.maxX),Oe.maxY=Math.max(Oe.maxY,Ue.maxY),Oe}function Re(Oe,Ue){return Oe.minX-Ue.minX}function Me(Oe,Ue){return Oe.minY-Ue.minY}function ut(Oe){return(Oe.maxX-Oe.minX)*(Oe.maxY-Oe.minY)}function gt(Oe){return Oe.maxX-Oe.minX+(Oe.maxY-Oe.minY)}function Et(Oe,Ue){return Oe.minX<=Ue.minX&&Oe.minY<=Ue.minY&&Ue.maxX<=Oe.maxX&&Ue.maxY<=Oe.maxY}function Wt(Oe,Ue){return Ue.minX<=Oe.maxX&&Ue.minY<=Oe.maxY&&Ue.maxX>=Oe.minX&&Ue.maxY>=Oe.minY}function Zt(Oe){return{children:Oe,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function mn(Oe,Ue,nt,yt,rt){for(var dt=[Ue,nt];dt.length;)if(!((nt=dt.pop())-(Ue=dt.pop())<=yt)){var X=Ue+Math.ceil((nt-Ue)/yt/2)*yt;p(Oe,X,Ue,nt,rt),dt.push(Ue,X,X,nt)}}return B.prototype.all=function(){return this._all(this.data,[])},B.prototype.search=function(Oe){var Ue=this.data,nt=[];if(!Wt(Oe,Ue))return nt;for(var yt=this.toBBox,rt=[];Ue;){for(var dt=0;dt<Ue.children.length;dt++){var X=Ue.children[dt],ce=Ue.leaf?yt(X):X;Wt(Oe,ce)&&(Ue.leaf?nt.push(X):Et(Oe,ce)?this._all(X,nt):rt.push(X))}Ue=rt.pop()}return nt},B.prototype.collides=function(Oe){var Ue=this.data;if(!Wt(Oe,Ue))return!1;for(var nt=[];Ue;){for(var yt=0;yt<Ue.children.length;yt++){var rt=Ue.children[yt],dt=Ue.leaf?this.toBBox(rt):rt;if(Wt(Oe,dt)){if(Ue.leaf||Et(Oe,dt))return!0;nt.push(rt)}}Ue=nt.pop()}return!1},B.prototype.load=function(Oe){if(!Oe||!Oe.length)return this;if(Oe.length<this._minEntries){for(var Ue=0;Ue<Oe.length;Ue++)this.insert(Oe[Ue]);return this}var nt=this._build(Oe.slice(),0,Oe.length-1,0);if(this.data.children.length)if(this.data.height===nt.height)this._splitRoot(this.data,nt);else{if(this.data.height<nt.height){var yt=this.data;this.data=nt,nt=yt}this._insert(nt,this.data.height-nt.height-1,!0)}else this.data=nt;return this},B.prototype.insert=function(Oe){return Oe&&this._insert(Oe,this.data.height-1),this},B.prototype.clear=function(){return this.data=Zt([]),this},B.prototype.remove=function(Oe,Ue){if(!Oe)return this;for(var nt,yt,rt,dt=this.data,X=this.toBBox(Oe),ce=[],be=[];dt||ce.length;){if(dt||(dt=ce.pop(),yt=ce[ce.length-1],nt=be.pop(),rt=!0),dt.leaf){var ge=z(Oe,dt.children,Ue);if(ge!==-1)return dt.children.splice(ge,1),ce.push(dt),this._condense(ce),this}rt||dt.leaf||!Et(dt,X)?yt?(nt++,dt=yt.children[nt],rt=!1):dt=null:(ce.push(dt),be.push(nt),nt=0,yt=dt,dt=dt.children[0])}return this},B.prototype.toBBox=function(Oe){return Oe},B.prototype.compareMinX=function(Oe,Ue){return Oe.minX-Ue.minX},B.prototype.compareMinY=function(Oe,Ue){return Oe.minY-Ue.minY},B.prototype.toJSON=function(){return this.data},B.prototype.fromJSON=function(Oe){return this.data=Oe,this},B.prototype._all=function(Oe,Ue){for(var nt=[];Oe;)Oe.leaf?Ue.push.apply(Ue,Oe.children):nt.push.apply(nt,Oe.children),Oe=nt.pop();return Ue},B.prototype._build=function(Oe,Ue,nt,yt){var rt,dt=nt-Ue+1,X=this._maxEntries;if(dt<=X)return q(rt=Zt(Oe.slice(Ue,nt+1)),this.toBBox),rt;yt||(yt=Math.ceil(Math.log(dt)/Math.log(X)),X=Math.ceil(dt/Math.pow(X,yt-1))),(rt=Zt([])).leaf=!1,rt.height=yt;var ce=Math.ceil(dt/X),be=ce*Math.ceil(Math.sqrt(X));mn(Oe,Ue,nt,be,this.compareMinX);for(var ge=Ue;ge<=nt;ge+=be){var ke=Math.min(ge+be-1,nt);mn(Oe,ge,ke,ce,this.compareMinY);for(var Ce=ge;Ce<=ke;Ce+=ce){var Ze=Math.min(Ce+ce-1,ke);rt.children.push(this._build(Oe,Ce,Ze,yt-1))}}return q(rt,this.toBBox),rt},B.prototype._chooseSubtree=function(Oe,Ue,nt,yt){for(;yt.push(Ue),!Ue.leaf&&yt.length-1!==nt;){for(var rt=1/0,dt=1/0,X=void 0,ce=0;ce<Ue.children.length;ce++){var be=Ue.children[ce],ge=ut(be),ke=(Ce=Oe,Ze=be,(Math.max(Ze.maxX,Ce.maxX)-Math.min(Ze.minX,Ce.minX))*(Math.max(Ze.maxY,Ce.maxY)-Math.min(Ze.minY,Ce.minY))-ge);ke<dt?(dt=ke,rt=ge<rt?ge:rt,X=be):ke===dt&&ge<rt&&(rt=ge,X=be)}Ue=X||Ue.children[0]}var Ce,Ze;return Ue},B.prototype._insert=function(Oe,Ue,nt){var yt=nt?Oe:this.toBBox(Oe),rt=[],dt=this._chooseSubtree(yt,this.data,Ue,rt);for(dt.children.push(Oe),ee(dt,yt);Ue>=0&&rt[Ue].children.length>this._maxEntries;)this._split(rt,Ue),Ue--;this._adjustParentBBoxes(yt,rt,Ue)},B.prototype._split=function(Oe,Ue){var nt=Oe[Ue],yt=nt.children.length,rt=this._minEntries;this._chooseSplitAxis(nt,rt,yt);var dt=this._chooseSplitIndex(nt,rt,yt),X=Zt(nt.children.splice(dt,nt.children.length-dt));X.height=nt.height,X.leaf=nt.leaf,q(nt,this.toBBox),q(X,this.toBBox),Ue?Oe[Ue-1].children.push(X):this._splitRoot(nt,X)},B.prototype._splitRoot=function(Oe,Ue){this.data=Zt([Oe,Ue]),this.data.height=Oe.height+1,this.data.leaf=!1,q(this.data,this.toBBox)},B.prototype._chooseSplitIndex=function(Oe,Ue,nt){for(var yt,rt,dt,X,ce,be,ge,ke=1/0,Ce=1/0,Ze=Ue;Ze<=nt-Ue;Ze++){var Ge=J(Oe,0,Ze,this.toBBox),Xe=J(Oe,Ze,nt,this.toBBox),pt=(rt=Ge,dt=Xe,X=void 0,ce=void 0,be=void 0,ge=void 0,X=Math.max(rt.minX,dt.minX),ce=Math.max(rt.minY,dt.minY),be=Math.min(rt.maxX,dt.maxX),ge=Math.min(rt.maxY,dt.maxY),Math.max(0,be-X)*Math.max(0,ge-ce)),ct=ut(Ge)+ut(Xe);pt<ke?(ke=pt,yt=Ze,Ce=ct<Ce?ct:Ce):pt===ke&&ct<Ce&&(Ce=ct,yt=Ze)}return yt||nt-Ue},B.prototype._chooseSplitAxis=function(Oe,Ue,nt){var yt=Oe.leaf?this.compareMinX:Re,rt=Oe.leaf?this.compareMinY:Me;this._allDistMargin(Oe,Ue,nt,yt)<this._allDistMargin(Oe,Ue,nt,rt)&&Oe.children.sort(yt)},B.prototype._allDistMargin=function(Oe,Ue,nt,yt){Oe.children.sort(yt);for(var rt=this.toBBox,dt=J(Oe,0,Ue,rt),X=J(Oe,nt-Ue,nt,rt),ce=gt(dt)+gt(X),be=Ue;be<nt-Ue;be++){var ge=Oe.children[be];ee(dt,Oe.leaf?rt(ge):ge),ce+=gt(dt)}for(var ke=nt-Ue-1;ke>=Ue;ke--){var Ce=Oe.children[ke];ee(X,Oe.leaf?rt(Ce):Ce),ce+=gt(X)}return ce},B.prototype._adjustParentBBoxes=function(Oe,Ue,nt){for(var yt=nt;yt>=0;yt--)ee(Ue[yt],Oe)},B.prototype._condense=function(Oe){for(var Ue=Oe.length-1,nt=void 0;Ue>=0;Ue--)Oe[Ue].children.length===0?Ue>0?(nt=Oe[Ue-1].children).splice(nt.indexOf(Oe[Ue]),1):this.clear():q(Oe[Ue],this.toBBox)},B})}),Mn=c(s=>{Object.defineProperty(s,"__esModule",{value:!0}),s.earthRadius=63710088e-1,s.factors={centimeters:s.earthRadius*100,centimetres:s.earthRadius*100,degrees:s.earthRadius/111325,feet:s.earthRadius*3.28084,inches:s.earthRadius*39.37,kilometers:s.earthRadius/1e3,kilometres:s.earthRadius/1e3,meters:s.earthRadius,metres:s.earthRadius,miles:s.earthRadius/1609.344,millimeters:s.earthRadius*1e3,millimetres:s.earthRadius*1e3,nauticalmiles:s.earthRadius/1852,radians:1,yards:s.earthRadius*1.0936},s.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/s.earthRadius,yards:1.0936133},s.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(ge,ke,Ce){Ce===void 0&&(Ce={});var Ze={type:"Feature"};return(Ce.id===0||Ce.id)&&(Ze.id=Ce.id),Ce.bbox&&(Ze.bbox=Ce.bbox),Ze.properties=ke||{},Ze.geometry=ge,Ze}s.feature=h;function p(ge,ke,Ce){switch(ge){case"Point":return v(ke).geometry;case"LineString":return q(ke).geometry;case"Polygon":return B(ke).geometry;case"MultiPoint":return Me(ke).geometry;case"MultiLineString":return Re(ke).geometry;case"MultiPolygon":return ut(ke).geometry;default:throw new Error(ge+" is invalid")}}s.geometry=p;function v(ge,ke,Ce){if(Ce===void 0&&(Ce={}),!ge)throw new Error("coordinates is required");if(!Array.isArray(ge))throw new Error("coordinates must be an Array");if(ge.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!dt(ge[0])||!dt(ge[1]))throw new Error("coordinates must contain numbers");var Ze={type:"Point",coordinates:ge};return h(Ze,ke,Ce)}s.point=v;function k(ge,ke,Ce){return Ce===void 0&&(Ce={}),ee(ge.map(function(Ze){return v(Ze,ke)}),Ce)}s.points=k;function B(ge,ke,Ce){Ce===void 0&&(Ce={});for(var Ze=0,Ge=ge;Ze<Ge.length;Ze++){var Xe=Ge[Ze];if(Xe.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var pt=0;pt<Xe[Xe.length-1].length;pt++)if(Xe[Xe.length-1][pt]!==Xe[0][pt])throw new Error("First and last Position are not equivalent.")}var ct={type:"Polygon",coordinates:ge};return h(ct,ke,Ce)}s.polygon=B;function z(ge,ke,Ce){return Ce===void 0&&(Ce={}),ee(ge.map(function(Ze){return B(Ze,ke)}),Ce)}s.polygons=z;function q(ge,ke,Ce){if(Ce===void 0&&(Ce={}),ge.length<2)throw new Error("coordinates must be an array of two or more positions");var Ze={type:"LineString",coordinates:ge};return h(Ze,ke,Ce)}s.lineString=q;function J(ge,ke,Ce){return Ce===void 0&&(Ce={}),ee(ge.map(function(Ze){return q(Ze,ke)}),Ce)}s.lineStrings=J;function ee(ge,ke){ke===void 0&&(ke={});var Ce={type:"FeatureCollection"};return ke.id&&(Ce.id=ke.id),ke.bbox&&(Ce.bbox=ke.bbox),Ce.features=ge,Ce}s.featureCollection=ee;function Re(ge,ke,Ce){Ce===void 0&&(Ce={});var Ze={type:"MultiLineString",coordinates:ge};return h(Ze,ke,Ce)}s.multiLineString=Re;function Me(ge,ke,Ce){Ce===void 0&&(Ce={});var Ze={type:"MultiPoint",coordinates:ge};return h(Ze,ke,Ce)}s.multiPoint=Me;function ut(ge,ke,Ce){Ce===void 0&&(Ce={});var Ze={type:"MultiPolygon",coordinates:ge};return h(Ze,ke,Ce)}s.multiPolygon=ut;function gt(ge,ke,Ce){Ce===void 0&&(Ce={});var Ze={type:"GeometryCollection",geometries:ge};return h(Ze,ke,Ce)}s.geometryCollection=gt;function Et(ge,ke){if(ke===void 0&&(ke=0),ke&&!(ke>=0))throw new Error("precision must be a positive number");var Ce=Math.pow(10,ke||0);return Math.round(ge*Ce)/Ce}s.round=Et;function Wt(ge,ke){ke===void 0&&(ke="kilometers");var Ce=s.factors[ke];if(!Ce)throw new Error(ke+" units is invalid");return ge*Ce}s.radiansToLength=Wt;function Zt(ge,ke){ke===void 0&&(ke="kilometers");var Ce=s.factors[ke];if(!Ce)throw new Error(ke+" units is invalid");return ge/Ce}s.lengthToRadians=Zt;function mn(ge,ke){return Ue(Zt(ge,ke))}s.lengthToDegrees=mn;function Oe(ge){var ke=ge%360;return ke<0&&(ke+=360),ke}s.bearingToAzimuth=Oe;function Ue(ge){var ke=ge%(2*Math.PI);return ke*180/Math.PI}s.radiansToDegrees=Ue;function nt(ge){var ke=ge%360;return ke*Math.PI/180}s.degreesToRadians=nt;function yt(ge,ke,Ce){if(ke===void 0&&(ke="kilometers"),Ce===void 0&&(Ce="kilometers"),!(ge>=0))throw new Error("length must be a positive number");return Wt(Zt(ge,ke),Ce)}s.convertLength=yt;function rt(ge,ke,Ce){if(ke===void 0&&(ke="meters"),Ce===void 0&&(Ce="kilometers"),!(ge>=0))throw new Error("area must be a positive number");var Ze=s.areaFactors[ke];if(!Ze)throw new Error("invalid original units");var Ge=s.areaFactors[Ce];if(!Ge)throw new Error("invalid final units");return ge/Ze*Ge}s.convertArea=rt;function dt(ge){return!isNaN(ge)&&ge!==null&&!Array.isArray(ge)}s.isNumber=dt;function X(ge){return!!ge&&ge.constructor===Object}s.isObject=X;function ce(ge){if(!ge)throw new Error("bbox is required");if(!Array.isArray(ge))throw new Error("bbox must be an Array");if(ge.length!==4&&ge.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");ge.forEach(function(ke){if(!dt(ke))throw new Error("bbox must only contain numbers")})}s.validateBBox=ce;function be(ge){if(!ge)throw new Error("id is required");if(["string","number"].indexOf(typeof ge)===-1)throw new Error("id must be a number or a string")}s.validateId=be}),Da=c(s=>{Object.defineProperty(s,"__esModule",{value:!0});var h=Mn();function p(Ue,nt,yt){if(Ue!==null)for(var rt,dt,X,ce,be,ge,ke,Ce=0,Ze=0,Ge,Xe=Ue.type,pt=Xe==="FeatureCollection",ct=Xe==="Feature",Dt=pt?Ue.features.length:1,Xt=0;Xt<Dt;Xt++){ke=pt?Ue.features[Xt].geometry:ct?Ue.geometry:Ue,Ge=ke?ke.type==="GeometryCollection":!1,be=Ge?ke.geometries.length:1;for(var nn=0;nn<be;nn++){var rn=0,Kn=0;if(ce=Ge?ke.geometries[nn]:ke,ce!==null){ge=ce.coordinates;var Jn=ce.type;switch(Ce=yt&&(Jn==="Polygon"||Jn==="MultiPolygon")?1:0,Jn){case null:break;case"Point":if(nt(ge,Ze,Xt,rn,Kn)===!1)return!1;Ze++,rn++;break;case"LineString":case"MultiPoint":for(rt=0;rt<ge.length;rt++){if(nt(ge[rt],Ze,Xt,rn,Kn)===!1)return!1;Ze++,Jn==="MultiPoint"&&rn++}Jn==="LineString"&&rn++;break;case"Polygon":case"MultiLineString":for(rt=0;rt<ge.length;rt++){for(dt=0;dt<ge[rt].length-Ce;dt++){if(nt(ge[rt][dt],Ze,Xt,rn,Kn)===!1)return!1;Ze++}Jn==="MultiLineString"&&rn++,Jn==="Polygon"&&Kn++}Jn==="Polygon"&&rn++;break;case"MultiPolygon":for(rt=0;rt<ge.length;rt++){for(Kn=0,dt=0;dt<ge[rt].length;dt++){for(X=0;X<ge[rt][dt].length-Ce;X++){if(nt(ge[rt][dt][X],Ze,Xt,rn,Kn)===!1)return!1;Ze++}Kn++}rn++}break;case"GeometryCollection":for(rt=0;rt<ce.geometries.length;rt++)if(p(ce.geometries[rt],nt,yt)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function v(Ue,nt,yt,rt){var dt=yt;return p(Ue,function(X,ce,be,ge,ke){ce===0&&yt===void 0?dt=X:dt=nt(dt,X,ce,be,ge,ke)},rt),dt}function k(Ue,nt){var yt;switch(Ue.type){case"FeatureCollection":for(yt=0;yt<Ue.features.length&&nt(Ue.features[yt].properties,yt)!==!1;yt++);break;case"Feature":nt(Ue.properties,0);break}}function B(Ue,nt,yt){var rt=yt;return k(Ue,function(dt,X){X===0&&yt===void 0?rt=dt:rt=nt(rt,dt,X)}),rt}function z(Ue,nt){if(Ue.type==="Feature")nt(Ue,0);else if(Ue.type==="FeatureCollection")for(var yt=0;yt<Ue.features.length&&nt(Ue.features[yt],yt)!==!1;yt++);}function q(Ue,nt,yt){var rt=yt;return z(Ue,function(dt,X){X===0&&yt===void 0?rt=dt:rt=nt(rt,dt,X)}),rt}function J(Ue){var nt=[];return p(Ue,function(yt){nt.push(yt)}),nt}function ee(Ue,nt){var yt,rt,dt,X,ce,be,ge,ke,Ce,Ze,Ge=0,Xe=Ue.type==="FeatureCollection",pt=Ue.type==="Feature",ct=Xe?Ue.features.length:1;for(yt=0;yt<ct;yt++){for(be=Xe?Ue.features[yt].geometry:pt?Ue.geometry:Ue,ke=Xe?Ue.features[yt].properties:pt?Ue.properties:{},Ce=Xe?Ue.features[yt].bbox:pt?Ue.bbox:void 0,Ze=Xe?Ue.features[yt].id:pt?Ue.id:void 0,ge=be?be.type==="GeometryCollection":!1,ce=ge?be.geometries.length:1,dt=0;dt<ce;dt++){if(X=ge?be.geometries[dt]:be,X===null){if(nt(null,Ge,ke,Ce,Ze)===!1)return!1;continue}switch(X.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(nt(X,Ge,ke,Ce,Ze)===!1)return!1;break}case"GeometryCollection":{for(rt=0;rt<X.geometries.length;rt++)if(nt(X.geometries[rt],Ge,ke,Ce,Ze)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}Ge++}}function Re(Ue,nt,yt){var rt=yt;return ee(Ue,function(dt,X,ce,be,ge){X===0&&yt===void 0?rt=dt:rt=nt(rt,dt,X,ce,be,ge)}),rt}function Me(Ue,nt){ee(Ue,function(yt,rt,dt,X,ce){var be=yt===null?null:yt.type;switch(be){case null:case"Point":case"LineString":case"Polygon":return nt(h.feature(yt,dt,{bbox:X,id:ce}),rt,0)===!1?!1:void 0}var ge;switch(be){case"MultiPoint":ge="Point";break;case"MultiLineString":ge="LineString";break;case"MultiPolygon":ge="Polygon";break}for(var ke=0;ke<yt.coordinates.length;ke++){var Ce=yt.coordinates[ke],Ze={type:ge,coordinates:Ce};if(nt(h.feature(Ze,dt),rt,ke)===!1)return!1}})}function ut(Ue,nt,yt){var rt=yt;return Me(Ue,function(dt,X,ce){X===0&&ce===0&&yt===void 0?rt=dt:rt=nt(rt,dt,X,ce)}),rt}function gt(Ue,nt){Me(Ue,function(yt,rt,dt){var X=0;if(yt.geometry){var ce=yt.geometry.type;if(!(ce==="Point"||ce==="MultiPoint")){var be,ge=0,ke=0,Ce=0;if(p(yt,function(Ze,Ge,Xe,pt,ct){if(be===void 0||rt>ge||pt>ke||ct>Ce){be=Ze,ge=rt,ke=pt,Ce=ct,X=0;return}var Dt=h.lineString([be,Ze],yt.properties);if(nt(Dt,rt,dt,ct,X)===!1)return!1;X++,be=Ze})===!1)return!1}}})}function Et(Ue,nt,yt){var rt=yt,dt=!1;return gt(Ue,function(X,ce,be,ge,ke){dt===!1&&yt===void 0?rt=X:rt=nt(rt,X,ce,be,ge,ke),dt=!0}),rt}function Wt(Ue,nt){if(!Ue)throw new Error("geojson is required");Me(Ue,function(yt,rt,dt){if(yt.geometry!==null){var X=yt.geometry.type,ce=yt.geometry.coordinates;switch(X){case"LineString":if(nt(yt,rt,dt,0,0)===!1)return!1;break;case"Polygon":for(var be=0;be<ce.length;be++)if(nt(h.lineString(ce[be],yt.properties),rt,dt,be)===!1)return!1;break}}})}function Zt(Ue,nt,yt){var rt=yt;return Wt(Ue,function(dt,X,ce,be){X===0&&yt===void 0?rt=dt:rt=nt(rt,dt,X,ce,be)}),rt}function mn(Ue,nt){if(nt=nt||{},!h.isObject(nt))throw new Error("options is invalid");var yt=nt.featureIndex||0,rt=nt.multiFeatureIndex||0,dt=nt.geometryIndex||0,X=nt.segmentIndex||0,ce=nt.properties,be;switch(Ue.type){case"FeatureCollection":yt<0&&(yt=Ue.features.length+yt),ce=ce||Ue.features[yt].properties,be=Ue.features[yt].geometry;break;case"Feature":ce=ce||Ue.properties,be=Ue.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":be=Ue;break;default:throw new Error("geojson is invalid")}if(be===null)return null;var ge=be.coordinates;switch(be.type){case"Point":case"MultiPoint":return null;case"LineString":return X<0&&(X=ge.length+X-1),h.lineString([ge[X],ge[X+1]],ce,nt);case"Polygon":return dt<0&&(dt=ge.length+dt),X<0&&(X=ge[dt].length+X-1),h.lineString([ge[dt][X],ge[dt][X+1]],ce,nt);case"MultiLineString":return rt<0&&(rt=ge.length+rt),X<0&&(X=ge[rt].length+X-1),h.lineString([ge[rt][X],ge[rt][X+1]],ce,nt);case"MultiPolygon":return rt<0&&(rt=ge.length+rt),dt<0&&(dt=ge[rt].length+dt),X<0&&(X=ge[rt][dt].length-X-1),h.lineString([ge[rt][dt][X],ge[rt][dt][X+1]],ce,nt)}throw new Error("geojson is invalid")}function Oe(Ue,nt){if(nt=nt||{},!h.isObject(nt))throw new Error("options is invalid");var yt=nt.featureIndex||0,rt=nt.multiFeatureIndex||0,dt=nt.geometryIndex||0,X=nt.coordIndex||0,ce=nt.properties,be;switch(Ue.type){case"FeatureCollection":yt<0&&(yt=Ue.features.length+yt),ce=ce||Ue.features[yt].properties,be=Ue.features[yt].geometry;break;case"Feature":ce=ce||Ue.properties,be=Ue.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":be=Ue;break;default:throw new Error("geojson is invalid")}if(be===null)return null;var ge=be.coordinates;switch(be.type){case"Point":return h.point(ge,ce,nt);case"MultiPoint":return rt<0&&(rt=ge.length+rt),h.point(ge[rt],ce,nt);case"LineString":return X<0&&(X=ge.length+X),h.point(ge[X],ce,nt);case"Polygon":return dt<0&&(dt=ge.length+dt),X<0&&(X=ge[dt].length+X),h.point(ge[dt][X],ce,nt);case"MultiLineString":return rt<0&&(rt=ge.length+rt),X<0&&(X=ge[rt].length+X),h.point(ge[rt][X],ce,nt);case"MultiPolygon":return rt<0&&(rt=ge.length+rt),dt<0&&(dt=ge[rt].length+dt),X<0&&(X=ge[rt][dt].length-X),h.point(ge[rt][dt][X],ce,nt)}throw new Error("geojson is invalid")}s.coordAll=J,s.coordEach=p,s.coordReduce=v,s.featureEach=z,s.featureReduce=q,s.findPoint=Oe,s.findSegment=mn,s.flattenEach=Me,s.flattenReduce=ut,s.geomEach=ee,s.geomReduce=Re,s.lineEach=Wt,s.lineReduce=Zt,s.propEach=k,s.propReduce=B,s.segmentEach=gt,s.segmentReduce=Et}),_a=c(s=>{Object.defineProperty(s,"__esModule",{value:!0});var h=Da();function p(v){var k=[1/0,1/0,-1/0,-1/0];return h.coordEach(v,function(B){k[0]>B[0]&&(k[0]=B[0]),k[1]>B[1]&&(k[1]=B[1]),k[2]<B[0]&&(k[2]=B[0]),k[3]<B[1]&&(k[3]=B[1])}),k}p.default=p,s.default=p}),Qi=c((s,h)=>{var p=An(),v=Mn(),k=Da(),B=_a().default,z=k.featureEach;k.coordEach,v.polygon;var q=v.featureCollection;function J(ee){var Re=new p(ee);return Re.insert=function(Me){if(Me.type!=="Feature")throw new Error("invalid feature");return Me.bbox=Me.bbox?Me.bbox:B(Me),p.prototype.insert.call(this,Me)},Re.load=function(Me){var ut=[];return Array.isArray(Me)?Me.forEach(function(gt){if(gt.type!=="Feature")throw new Error("invalid features");gt.bbox=gt.bbox?gt.bbox:B(gt),ut.push(gt)}):z(Me,function(gt){if(gt.type!=="Feature")throw new Error("invalid features");gt.bbox=gt.bbox?gt.bbox:B(gt),ut.push(gt)}),p.prototype.load.call(this,ut)},Re.remove=function(Me,ut){if(Me.type!=="Feature")throw new Error("invalid feature");return Me.bbox=Me.bbox?Me.bbox:B(Me),p.prototype.remove.call(this,Me,ut)},Re.clear=function(){return p.prototype.clear.call(this)},Re.search=function(Me){var ut=p.prototype.search.call(this,this.toBBox(Me));return q(ut)},Re.collides=function(Me){return p.prototype.collides.call(this,this.toBBox(Me))},Re.all=function(){var Me=p.prototype.all.call(this);return q(Me)},Re.toJSON=function(){return p.prototype.toJSON.call(this)},Re.fromJSON=function(Me){return p.prototype.fromJSON.call(this,Me)},Re.toBBox=function(Me){var ut;if(Me.bbox)ut=Me.bbox;else if(Array.isArray(Me)&&Me.length===4)ut=Me;else if(Array.isArray(Me)&&Me.length===6)ut=[Me[0],Me[1],Me[3],Me[4]];else if(Me.type==="Feature")ut=B(Me);else if(Me.type==="FeatureCollection")ut=B(Me);else throw new Error("invalid geojson");return{minX:ut[0],minY:ut[1],maxX:ut[2],maxY:ut[3]}},Re}h.exports=J,h.exports.default=J});Array.prototype.findIndex=Array.prototype.findIndex||function(s){if(this===null)throw new TypeError("Array.prototype.findIndex called on null or undefined");if(typeof s!="function")throw new TypeError("callback must be a function");for(var h=Object(this),p=h.length>>>0,v=arguments[1],k=0;k<p;k++)if(s.call(v,h[k],k,h))return k;return-1},Array.prototype.find=Array.prototype.find||function(s){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof s!="function")throw new TypeError("callback must be a function");for(var h=Object(this),p=h.length>>>0,v=arguments[1],k=0;k<p;k++){var B=h[k];if(s.call(v,B,k,h))return B}},typeof Object.assign!="function"&&(Object.assign=function(s){if(s==null)throw new TypeError("Cannot convert undefined or null to object");s=Object(s);for(var h=1;h<arguments.length;h++){var p=arguments[h];if(p!=null)for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(s[v]=p[v])}return s}),(function(s){s.forEach(function(h){h.hasOwnProperty("remove")||Object.defineProperty(h,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})})([Element.prototype,CharacterData.prototype,DocumentType.prototype]),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(s,h){if(this==null)throw new TypeError('"this" is null or not defined');var p=Object(this),v=p.length>>>0;if(v===0)return!1;var k=h|0,B=Math.max(k>=0?k:v-Math.abs(k),0);function z(q,J){return q===J||typeof q=="number"&&typeof J=="number"&&isNaN(q)&&isNaN(J)}for(;B<v;){if(z(p[B],s))return!0;B++}return!1}});var Hs={version:"2.18.3"},Ln=g(Gs()),Vn={tooltips:{placeMarker:"Click to place marker",firstVertex:"Click to place first vertex",continueLine:"Click to continue drawing",finishLine:"Click any existing marker to finish",finishPoly:"Click first marker to finish",finishRect:"Click to finish",startCircle:"Click to place circle center",finishCircle:"Click to finish circle",placeCircleMarker:"Click to place circle marker",placeText:"Click to place text",selectFirstLayerFor:"Select first layer for {action}",selectSecondLayerFor:"Select second layer for {action}"},actions:{finish:"Finish",cancel:"Cancel",removeLastVertex:"Remove Last Vertex"},buttonTitles:{drawMarkerButton:"Draw Marker",drawPolyButton:"Draw Polygons",drawLineButton:"Draw Polyline",drawCircleButton:"Draw Circle",drawRectButton:"Draw Rectangle",editButton:"Edit Layers",dragButton:"Drag Layers",cutButton:"Cut Layers",deleteButton:"Remove Layers",drawCircleMarkerButton:"Draw Circle Marker",snappingButton:"Snap dragged marker to other layers and vertices",pinningButton:"Pin shared vertices together",rotateButton:"Rotate Layers",drawTextButton:"Draw Text",scaleButton:"Scale Layers",autoTracingButton:"Auto trace Line",snapGuidesButton:"Show SnapGuides",unionButton:"Union layers",differenceButton:"Subtract layers"},measurements:{totalLength:"Length",segmentLength:"Segment length",area:"Area",radius:"Radius",perimeter:"Perimeter",height:"Height",width:"Width",coordinates:"Position",coordinatesMarker:"Position Marker"}},Ia={tooltips:{placeMarker:"Platziere den Marker mit Klick",firstVertex:"Platziere den ersten Marker mit Klick",continueLine:"Klicke, um weiter zu zeichnen",finishLine:"Beende mit Klick auf existierenden Marker",finishPoly:"Beende mit Klick auf ersten Marker",finishRect:"Beende mit Klick",startCircle:"Platziere das Kreiszentrum mit Klick",finishCircle:"Beende den Kreis mit Klick",placeCircleMarker:"Platziere den Kreismarker mit Klick",placeText:"Platziere den Text mit Klick"},actions:{finish:"Beenden",cancel:"Abbrechen",removeLastVertex:"Letzten Vertex lschen"},buttonTitles:{drawMarkerButton:"Marker zeichnen",drawPolyButton:"Polygon zeichnen",drawLineButton:"Polyline zeichnen",drawCircleButton:"Kreis zeichnen",drawRectButton:"Rechteck zeichnen",editButton:"Layer editieren",dragButton:"Layer bewegen",cutButton:"Layer schneiden",deleteButton:"Layer lschen",drawCircleMarkerButton:"Kreismarker zeichnen",snappingButton:"Bewegter Layer an andere Layer oder Vertexe einhacken",pinningButton:"Vertexe an der gleichen Position verknpfen",rotateButton:"Layer drehen",drawTextButton:"Text zeichnen",scaleButton:"Layer skalieren",autoTracingButton:"Linie automatisch nachzeichen"},measurements:{totalLength:"Lnge",segmentLength:"Segment Lnge",area:"Flche",radius:"Radius",perimeter:"Umfang",height:"Hhe",width:"Breite",coordinates:"Position",coordinatesMarker:"Position Marker"}},si={tooltips:{placeMarker:"Clicca per posizionare un Marker",firstVertex:"Clicca per posizionare il primo vertice",continueLine:"Clicca per continuare a disegnare",finishLine:"Clicca qualsiasi marker esistente per terminare",finishPoly:"Clicca il primo marker per terminare",finishRect:"Clicca per terminare",startCircle:"Clicca per posizionare il punto centrale del cerchio",finishCircle:"Clicca per terminare il cerchio",placeCircleMarker:"Clicca per posizionare un Marker del cherchio"},actions:{finish:"Termina",cancel:"Annulla",removeLastVertex:"Rimuovi l'ultimo vertice"},buttonTitles:{drawMarkerButton:"Disegna Marker",drawPolyButton:"Disegna Poligoni",drawLineButton:"Disegna Polilinea",drawCircleButton:"Disegna Cerchio",drawRectButton:"Disegna Rettangolo",editButton:"Modifica Livelli",dragButton:"Sposta Livelli",cutButton:"Ritaglia Livelli",deleteButton:"Elimina Livelli",drawCircleMarkerButton:"Disegna Marker del Cerchio",snappingButton:"Snap ha trascinato il pennarello su altri strati e vertici",pinningButton:"Pin condiviso vertici insieme",rotateButton:"Ruota livello"}},Jr={tooltips:{placeMarker:"Klik untuk menempatkan marker",firstVertex:"Klik untuk menempatkan vertex pertama",continueLine:"Klik untuk meneruskan digitasi",finishLine:"Klik pada sembarang marker yang ada untuk mengakhiri",finishPoly:"Klik marker pertama untuk mengakhiri",finishRect:"Klik untuk mengakhiri",startCircle:"Klik untuk menempatkan titik pusat lingkaran",finishCircle:"Klik untuk mengakhiri lingkaran",placeCircleMarker:"Klik untuk menempatkan penanda lingkarann"},actions:{finish:"Selesai",cancel:"Batal",removeLastVertex:"Hilangkan Vertex Terakhir"},buttonTitles:{drawMarkerButton:"Digitasi Marker",drawPolyButton:"Digitasi Polygon",drawLineButton:"Digitasi Polyline",drawCircleButton:"Digitasi Lingkaran",drawRectButton:"Digitasi Segi Empat",editButton:"Edit Layer",dragButton:"Geser Layer",cutButton:"Potong Layer",deleteButton:"Hilangkan Layer",drawCircleMarkerButton:"Digitasi Penanda Lingkaran",snappingButton:"Jepretkan penanda yang ditarik ke lapisan dan simpul lain",pinningButton:"Sematkan simpul bersama bersama",rotateButton:"Putar lapisan"}},Ro={tooltips:{placeMarker:"Adaug un punct",firstVertex:"Apas aici pentru a aduga primul Vertex",continueLine:"Apas aici pentru a continua desenul",finishLine:"Apas pe orice obiect pentru a finisa desenul",finishPoly:"Apas pe primul obiect pentru a finisa",finishRect:"Apas pentru a finisa",startCircle:"Apas pentru a desena un cerc",finishCircle:"Apas pentru a finisa un cerc",placeCircleMarker:"Adaug un punct"},actions:{finish:"Termin",cancel:"Anuleaz",removeLastVertex:"terge ultimul Vertex"},buttonTitles:{drawMarkerButton:"Adaug o bulin",drawPolyButton:"Deseneaz un poligon",drawLineButton:"Deseneaz o linie",drawCircleButton:"Deseneaz un cerc",drawRectButton:"Deseneaz un dreptunghi",editButton:"Editeaz straturile",dragButton:"Mut straturile",cutButton:"Taie straturile",deleteButton:"terge straturile",drawCircleMarkerButton:"Deseneaz marcatorul cercului",snappingButton:"Fixai marcatorul glisat pe alte straturi i vrfuri",pinningButton:"Fixai vrfurile partajate mpreun",rotateButton:"Rotii stratul"}},Ra={tooltips:{placeMarker:",   ",firstVertex:",    ",continueLine:",   ",finishLine:"     ",finishPoly:"  ,  ",finishRect:",  ",startCircle:",    ",finishCircle:",   ",placeCircleMarker:",    "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"   ",rotateButton:" "}},ji={tooltips:{placeMarker:"Presiona para colocar un marcador",firstVertex:"Presiona para colocar el primer vrtice",continueLine:"Presiona para continuar dibujando",finishLine:"Presiona cualquier marcador existente para finalizar",finishPoly:"Presiona el primer marcador para finalizar",finishRect:"Presiona para finalizar",startCircle:"Presiona para colocar el centro del crculo",finishCircle:"Presiona para finalizar el crculo",placeCircleMarker:"Presiona para colocar un marcador de crculo"},actions:{finish:"Finalizar",cancel:"Cancelar",removeLastVertex:"Eliminar ltimo vrtice"},buttonTitles:{drawMarkerButton:"Dibujar Marcador",drawPolyButton:"Dibujar Polgono",drawLineButton:"Dibujar Lnea",drawCircleButton:"Dibujar Crculo",drawRectButton:"Dibujar Rectngulo",editButton:"Editar Capas",dragButton:"Arrastrar Capas",cutButton:"Cortar Capas",deleteButton:"Eliminar Capas",drawCircleMarkerButton:"Dibujar Marcador de Crculo",snappingButton:"El marcador de Snap arrastrado a otras capas y vrtices",pinningButton:"Fijar juntos los vrtices compartidos",rotateButton:"Rotar capa"}},kr={tooltips:{placeMarker:"Klik om een marker te plaatsen",firstVertex:"Klik om het eerste punt te plaatsen",continueLine:"Klik om te blijven tekenen",finishLine:"Klik op een bestaand punt om te beindigen",finishPoly:"Klik op het eerst punt om te beindigen",finishRect:"Klik om te beindigen",startCircle:"Klik om het middelpunt te plaatsen",finishCircle:"Klik om de cirkel te beindigen",placeCircleMarker:"Klik om een marker te plaatsen"},actions:{finish:"Bewaar",cancel:"Annuleer",removeLastVertex:"Verwijder laatste punt"},buttonTitles:{drawMarkerButton:"Plaats Marker",drawPolyButton:"Teken een vlak",drawLineButton:"Teken een lijn",drawCircleButton:"Teken een cirkel",drawRectButton:"Teken een vierkant",editButton:"Bewerk",dragButton:"Verplaats",cutButton:"Knip",deleteButton:"Verwijder",drawCircleMarkerButton:"Plaats Marker",snappingButton:"Snap gesleepte marker naar andere lagen en hoekpunten",pinningButton:"Speld gedeelde hoekpunten samen",rotateButton:"Laag roteren"}},ds={tooltips:{placeMarker:"Cliquez pour placer un marqueur",firstVertex:"Cliquez pour placer le premier sommet",continueLine:"Cliquez pour continuer  dessiner",finishLine:"Cliquez sur n'importe quel marqueur pour terminer",finishPoly:"Cliquez sur le premier marqueur pour terminer",finishRect:"Cliquez pour terminer",startCircle:"Cliquez pour placer le centre du cercle",finishCircle:"Cliquez pour finir le cercle",placeCircleMarker:"Cliquez pour placer le marqueur circulaire"},actions:{finish:"Terminer",cancel:"Annuler",removeLastVertex:"Retirer le dernier sommet"},buttonTitles:{drawMarkerButton:"Placer des marqueurs",drawPolyButton:"Dessiner des polygones",drawLineButton:"Dessiner des polylignes",drawCircleButton:"Dessiner un cercle",drawRectButton:"Dessiner un rectangle",editButton:"diter des calques",dragButton:"Dplacer des calques",cutButton:"Couper des calques",deleteButton:"Supprimer des calques",drawCircleMarkerButton:"Dessiner un marqueur circulaire",snappingButton:"Glisser le marqueur vers d'autres couches et sommets",pinningButton:"pingler ensemble les sommets partags",rotateButton:"Tourner des calques"}},Gn={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:""}},Ws={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:""}},vo={tooltips:{placeMarker:"Clique para posicionar o marcador",firstVertex:"Clique para posicionar o primeiro vrtice",continueLine:"Clique para continuar desenhando",finishLine:"Clique em qualquer marcador existente para finalizar",finishPoly:"Clique no primeiro marcador para finalizar",finishRect:"Clique para finalizar",startCircle:"Clique para posicionar o centro do crculo",finishCircle:"Clique para finalizar o crculo",placeCircleMarker:"Clique para posicionar o marcador circular",placeText:"Clique para inserir texto"},actions:{finish:"Finalizar",cancel:"Cancelar",removeLastVertex:"Remover ltimo vrtice"},buttonTitles:{drawMarkerButton:"Desenhar Marcador",drawPolyButton:"Desenhar Polgonos",drawLineButton:"Desenhar Linha Poligonal",drawCircleButton:"Desenhar Crculo",drawRectButton:"Desenhar Retngulo",editButton:"Editar Camadas",dragButton:"Arrastar Camadas",cutButton:"Recortar Camadas",deleteButton:"Remover Camadas",drawCircleMarkerButton:"Desenhar Marcador de Crculo",snappingButton:"Ajustar marcador arrastado a outras camadas e vrtices",pinningButton:"Unir vrtices compartilhados",rotateButton:"Rotacionar Camadas",drawTextButton:"Desenhar Texto",scaleButton:"Redimensionar Camadas",autoTracingButton:"Traado Automtico de Linha"},measurements:{totalLength:"Comprimento",segmentLength:"Comprimento do Segmento",area:"rea",radius:"Raio",perimeter:"Permetro",height:"Altura",width:"Largura",coordinates:"Posio",coordinatesMarker:"Marcador de Posio"}},Vs={tooltips:{placeMarker:"Clique para colocar marcador",firstVertex:"Clique para colocar primeiro vrtice",continueLine:"Clique para continuar a desenhar",finishLine:"Clique num marcador existente para terminar",finishPoly:"Clique no primeiro marcador para terminar",finishRect:"Clique para terminar",startCircle:"Clique para colocar o centro do crculo",finishCircle:"Clique para terminar o crculo",placeCircleMarker:"Clique para colocar marcador de crculo",placeText:"Clique para colocar texto"},actions:{finish:"Terminar",cancel:"Cancelar",removeLastVertex:"Remover ltimo Vrtice"},buttonTitles:{drawMarkerButton:"Desenhar Marcador",drawPolyButton:"Desenhar Polgonos",drawLineButton:"Desenhar Polilinha",drawCircleButton:"Desenhar Crculo",drawRectButton:"Desenhar Retngulo",editButton:"Editar Camadas",dragButton:"Arrastar Camadas",cutButton:"Cortar Camadas",deleteButton:"Remover Camadas",drawCircleMarkerButton:"Desenhar Marcador de Crculo",snappingButton:"Ajustar marcador arrastado a outras camadas e vrtices",pinningButton:"Unir vrtices partilhados",rotateButton:"Rodar Camadas",drawTextButton:"Desenhar Texto",scaleButton:"Escalar Camadas",autoTracingButton:"Traado Automtico de Linha"},measurements:{totalLength:"Comprimento",segmentLength:"Comprimento do Segmento",area:"rea",radius:"Raio",perimeter:"Permetro",height:"Altura",width:"Largura",coordinates:"Posio",coordinatesMarker:"Marcador de Posio"}},yo={tooltips:{placeMarker:"Kliknij, aby umieci znacznik",firstVertex:"Kliknij, aby umieci pierwszy wierzchoek",continueLine:"Kliknij, aby kontynuowa rysowanie",finishLine:"Kliknij dowolny istniejcy znacznik, aby zakoczy",finishPoly:"Kliknij pierwszy znacznik, aby zakoczy",finishRect:"Kliknij, aby zakoczy",startCircle:"Kliknij, aby umieci rodek okrgu",finishCircle:"Kliknij, aby zakoczy okrg",placeCircleMarker:"Kliknij, aby umieci znacznik okrgu",placeText:"Kliknij, aby umieci tekst"},actions:{finish:"Zakocz",cancel:"Anuluj",removeLastVertex:"Usu ostatni wierzchoek"},buttonTitles:{drawMarkerButton:"Rysuj znacznik",drawPolyButton:"Rysuj wielokt",drawLineButton:"Rysuj lini",drawCircleButton:"Rysuj okrg",drawRectButton:"Rysuj prostokt",editButton:"Edytuj warstwy",dragButton:"Przecignij warstwy",cutButton:"Wytnij warstwy",deleteButton:"Usu warstwy",drawCircleMarkerButton:"Rysuj znacznik okrgy",snappingButton:"Przycignij przenoszony znacznik do innych warstw i wierzchokw",pinningButton:"Przypnij wsplne wierzchoki razem",rotateButton:"Obr warstwy",drawTextButton:"Rysuj tekst",scaleButton:"Skaluj warstwy",autoTracingButton:"Automatyczne ledzenie linii"},measurements:{totalLength:"Dugo",segmentLength:"Dugo odcinka",area:"Obszar",radius:"Promie",perimeter:"Obwd",height:"Wysoko",width:"Szeroko",coordinates:"Pozycja",coordinatesMarker:"Znacznik pozycji"}},ps={tooltips:{placeMarker:"Klicka fr att placera markr",firstVertex:"Klicka fr att placera frsta hrnet",continueLine:"Klicka fr att fortstta rita",finishLine:"Klicka p en existerande punkt fr att slutfra",finishPoly:"Klicka p den frsta punkten fr att slutfra",finishRect:"Klicka fr att slutfra",startCircle:"Klicka fr att placera cirkelns centrum",finishCircle:"Klicka fr att slutfra cirkeln",placeCircleMarker:"Klicka fr att placera cirkelmarkr"},actions:{finish:"Slutfr",cancel:"Avbryt",removeLastVertex:"Ta bort sista hrnet"},buttonTitles:{drawMarkerButton:"Rita Markr",drawPolyButton:"Rita Polygoner",drawLineButton:"Rita Linje",drawCircleButton:"Rita Cirkel",drawRectButton:"Rita Rektangel",editButton:"Redigera Lager",dragButton:"Dra Lager",cutButton:"Klipp i Lager",deleteButton:"Ta bort Lager",drawCircleMarkerButton:"Rita Cirkelmarkr",snappingButton:"Snpp dra markren till andra lager och hrn",pinningButton:"Fst delade hrn tillsammans",rotateButton:"Rotera lagret"}},$s={tooltips:{placeMarker:"     ",firstVertex:"       ",continueLine:"      ",finishLine:"        ",finishPoly:"       ",finishRect:"    ",startCircle:"      ",finishCircle:"      ",placeCircleMarker:"      "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"        ",pinningButton:"   ",rotateButton:"  "}},Zs={tooltips:{placeMarker:"Kattintson a jell elhelyezshez",firstVertex:"Kattintson az els pont elhelyezshez",continueLine:"Kattintson a kvetkez pont elhelyezshez",finishLine:"A befejezshez kattintson egy meglv pontra",finishPoly:"A befejezshez kattintson az els pontra",finishRect:"Kattintson a befejezshez",startCircle:"Kattintson a kr kzppontjnak elhelyezshez",finishCircle:"Kattintson a kr befejezshez",placeCircleMarker:"Kattintson a krjell elhelyezshez"},actions:{finish:"Befejezs",cancel:"Mgse",removeLastVertex:"Utols pont eltvoltsa"},buttonTitles:{drawMarkerButton:"Jell rajzolsa",drawPolyButton:"Poligon rajzolsa",drawLineButton:"Vonal rajzolsa",drawCircleButton:"Kr rajzolsa",drawRectButton:"Ngyzet rajzolsa",editButton:"Elemek szerkesztse",dragButton:"Elemek mozgatsa",cutButton:"Elemek vgsa",deleteButton:"Elemek trlse",drawCircleMarkerButton:"Kr jell rajzolsa",snappingButton:"Kapcsolja a jelltt msik elemhez vagy ponthoz",pinningButton:"Kzs pontok sszektse",rotateButton:"Flia elforgatsa"}},va={tooltips:{placeMarker:"Tryk for at placere en markr",firstVertex:"Tryk for at placere det frste punkt",continueLine:"Tryk for at fortstte linjen",finishLine:"Tryk p et eksisterende punkt for at afslutte",finishPoly:"Tryk p det frste punkt for at afslutte",finishRect:"Tryk for at afslutte",startCircle:"Tryk for at placere cirklens center",finishCircle:"Tryk for at afslutte cirklen",placeCircleMarker:"Tryk for at placere en cirkelmarkr"},actions:{finish:"Afslut",cancel:"Afbryd",removeLastVertex:"Fjern sidste punkt"},buttonTitles:{drawMarkerButton:"Placer markr",drawPolyButton:"Tegn polygon",drawLineButton:"Tegn linje",drawCircleButton:"Tegn cirkel",drawRectButton:"Tegn firkant",editButton:"Rediger",dragButton:"Trk",cutButton:"Klip",deleteButton:"Fjern",drawCircleMarkerButton:"Tegn cirkelmarkr",snappingButton:"Fastgr trukket markr til andre elementer",pinningButton:"Sammenlg delte elementer",rotateButton:"Roter laget"}},dr={tooltips:{placeMarker:"Klikk for  plassere punkt",firstVertex:"Klikk for  plassere frste punkt",continueLine:"Klikk for  tegne videre",finishLine:"Klikk p et eksisterende punkt for  fullfre",finishPoly:"Klikk frste punkt for  fullfre",finishRect:"Klikk for  fullfre",startCircle:"Klikk for  sette sirkel midtpunkt",finishCircle:"Klikk for  fullfre sirkel",placeCircleMarker:"Klikk for  plassere sirkel",placeText:"Klikk for  plassere tekst"},actions:{finish:"Fullfr",cancel:"Kanseller",removeLastVertex:"Fjern forrige punkt"},buttonTitles:{drawMarkerButton:"Tegn punkt",drawPolyButton:"Tegn flate",drawLineButton:"Tegn linje",drawCircleButton:"Tegn sirkel",drawRectButton:"Tegn rektangel",editButton:"Rediger objekter",dragButton:"Dra objekter",cutButton:"Kutt objekter",deleteButton:"Fjern objekter",drawCircleMarkerButton:"Tegn sirkel-punkt",snappingButton:"Fest dratt punkt til andre objekter og punkt",pinningButton:"Pin delte punkter sammen",rotateButton:"Rotr objekter",drawTextButton:"Tegn tekst",scaleButton:"Skalr objekter",autoTracingButton:"Automatisk sporing av linje"},measurements:{totalLength:"Lengde",segmentLength:"Segmentlengde",area:"Omrde",radius:"Radius",perimeter:"Omriss",height:"Hyde",width:"Bredde",coordinates:"Posisjon",coordinatesMarker:"Posisjonsmarkr"}},Ms={tooltips:{placeMarker:"   ",firstVertex:"    ",continueLine:"   ",finishLine:"      ",finishPoly:"     ",finishRect:"  ",startCircle:"    ",finishCircle:"    ",placeCircleMarker:"    ",placeText:"   "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"      ",rotateButton:" ",drawTextButton:" ",scaleButton:"",autoTracingButton:" "},measurements:{totalLength:"",segmentLength:" ",area:"",radius:"",perimeter:"",height:"",width:"",coordinates:"",coordinatesMarker:" "}},es={tooltips:{placeMarker:",   ",firstVertex:",    ",continueLine:",   ",finishLine:" -    ",finishPoly:"  ,  ",finishRect:",  ",startCircle:",    ",finishCircle:",   ",placeCircleMarker:",    "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"'   ",rotateButton:" "}},bn={tooltips:{placeMarker:"areti yerletirmek iin tklayn",firstVertex:"lk tepe noktasn yerletirmek iin tklayn",continueLine:"izime devam etmek iin tklayn",finishLine:"Bitirmek iin mevcut herhangi bir iaretiyi tklayn",finishPoly:"Bitirmek iin ilk iaretiyi tklayn",finishRect:"Bitirmek iin tklayn",startCircle:"Daire merkezine yerletirmek iin tklayn",finishCircle:"Daireyi bitirmek iin tklayn",placeCircleMarker:"Daire iaretisi yerletirmek iin tklayn"},actions:{finish:"Bitir",cancel:"ptal",removeLastVertex:"Son keyi kaldr"},buttonTitles:{drawMarkerButton:"izim aretisi",drawPolyButton:"okgenler iz",drawLineButton:"oklu izgi iz",drawCircleButton:"ember iz",drawRectButton:"Dikdrtgen iz",editButton:"Katmanlar dzenle",dragButton:"Katmanlar srkle",cutButton:"Katmanlar kes",deleteButton:"Katmanlar kaldr",drawCircleMarkerButton:"Daire iaretisi iz",snappingButton:"Srklenen iaretiyi dier katmanlara ve kelere yaptr",pinningButton:"Paylalan keleri birbirine sabitle",rotateButton:"Katman dndr"}},xn={tooltips:{placeMarker:"Kliknutm vytvote znaku",firstVertex:"Kliknutm vytvote prvn objekt",continueLine:"Kliknutm pokraujte v kreslen",finishLine:"Kliknut na libovolnou existujc znaku pro dokonen",finishPoly:"Vyberte prvn bod pro dokonen",finishRect:"Kliknte pro dokonen",startCircle:"Kliknutm pidejte sted kruhu",finishCircle:",   ",placeCircleMarker:"Kliknutm nastavte polomr"},actions:{finish:"Dokonit",cancel:"Zruit",removeLastVertex:"Zruit posledn akci"},buttonTitles:{drawMarkerButton:"Pidat znaku",drawPolyButton:"Nakreslit polygon",drawLineButton:"Nakreslit kivku",drawCircleButton:"Nakreslit kruh",drawRectButton:"Nakreslit obdlnk",editButton:"Upravit vrstvu",dragButton:"Peneste vrstvu",cutButton:"Vyjmout vrstvu",deleteButton:"Smazat vrstvu",drawCircleMarkerButton:"Pidat kruhovou znaku",snappingButton:"Navzat tanou znaku k dalm vrstvm a vrcholm",pinningButton:"Spojit spolen body dohromady",rotateButton:"Otote vrstvu"}},zr={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:"",placeText:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:"",drawTextButton:""}},Hn={tooltips:{placeMarker:"Klikkaa asettaaksesi merkin",firstVertex:"Klikkaa asettaakseni ensimmisen osuuden",continueLine:"Klikkaa jatkaaksesi piirtmist",finishLine:"Klikkaa olemassa olevaa merkki lopettaaksesi",finishPoly:"Klikkaa ensimmist merkki lopettaaksesi",finishRect:"Klikkaa lopettaaksesi",startCircle:"Klikkaa asettaaksesi ympyrn keskipisteen",finishCircle:"Klikkaa lopettaaksesi ympyrn",placeCircleMarker:"Klikkaa asettaaksesi ympyrmerkin",placeText:"Klikkaa asettaaksesi tekstin"},actions:{finish:"Valmis",cancel:"Peruuta",removeLastVertex:"Poista viimeinen osuus"},buttonTitles:{drawMarkerButton:"Piirr merkkej",drawPolyButton:"Piirr monikulmioita",drawLineButton:"Piirr viivoja",drawCircleButton:"Piirr ympyr",drawRectButton:"Piirr neliskulmioita",editButton:"Muokkaa",dragButton:"Siirr",cutButton:"Leikkaa",deleteButton:"Poista",drawCircleMarkerButton:"Piirr ympyrmerkki",snappingButton:"Kiinnit siirrettv merkki toisiin muotoihin",pinningButton:"Kiinnit jaetut muodot yhteen",rotateButton:"Knn",drawTextButton:"Piirr teksti"}},wo={tooltips:{placeMarker:"  ",firstVertex:"   ",continueLine:"  ",finishLine:"   ",finishPoly:"   ",finishRect:" ",startCircle:"    ",finishCircle:"  ",placeCircleMarker:"   ",placeText:"  "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"   ",rotateButton:" ",drawTextButton:" "}},Ks={tooltips:{placeMarker:"   ",firstVertex:"    ",continueLine:"    ",finishLine:"    ",finishPoly:"    ",finishRect:"  ",startCircle:"    ",finishCircle:"   ",placeCircleMarker:"    ",placeText:"   "},actions:{finish:"",cancel:" ",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:"  ",cutButton:"  ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"     ",pinningButton:"   ",rotateButton:" ",drawTextButton:" ",scaleButton:"  ",autoTracingButton:"  "},measurements:{totalLength:"",segmentLength:" ",area:"",radius:"",perimeter:"",height:"",width:"",coordinates:"",coordinatesMarker:" "}},Fa=Vs,ts={en:Vn,de:Ia,it:si,id:Jr,ro:Ro,ru:Ra,es:ji,nl:kr,fr:ds,pt:Fa,pt_br:vo,pt_pt:Vs,zh:Gn,zh_tw:Ws,pl:yo,sv:ps,el:$s,hu:Zs,da:va,no:dr,fa:Ms,ua:es,tr:bn,cz:xn,ja:zr,fi:Hn,ko:wo,ky:Ks},ms={_globalEditModeEnabled:!1,enableGlobalEditMode(s){let h={...s};this._globalEditModeEnabled=!0,this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),L.PM.Utils.findLayers(this.map).forEach(p=>{this._isRelevantForEdit(p)&&p.pm.enable(h)}),this.throttledReInitEdit||(this.throttledReInitEdit=L.Util.throttle(this.handleLayerAdditionInGlobalEditMode,100,this)),this._addedLayersEdit={},this.map.on("layeradd",this._layerAddedEdit,this),this.map.on("layeradd",this.throttledReInitEdit,this),this._fireGlobalEditModeToggled(!0)},disableGlobalEditMode(){this._globalEditModeEnabled=!1,L.PM.Utils.findLayers(this.map).forEach(s=>{s.pm.disable()}),this.map.off("layeradd",this._layerAddedEdit,this),this.map.off("layeradd",this.throttledReInitEdit,this),this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),this._fireGlobalEditModeToggled(!1)},globalEditEnabled(){return this.globalEditModeEnabled()},globalEditModeEnabled(){return this._globalEditModeEnabled},toggleGlobalEditMode(s=this.globalOptions){this.globalEditModeEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(s)},handleLayerAdditionInGlobalEditMode(){let s=this._addedLayersEdit;if(this._addedLayersEdit={},this.globalEditModeEnabled())for(let h in s){let p=s[h];this._isRelevantForEdit(p)&&p.pm.enable({...this.globalOptions})}},_layerAddedEdit({layer:s}){this._addedLayersEdit[L.stamp(s)]=s},_isRelevantForEdit(s){return s.pm&&!(s instanceof L.LayerGroup)&&(!L.PM.optIn&&!s.options.pmIgnore||L.PM.optIn&&s.options.pmIgnore===!1)&&!s._pmTempLayer&&s.pm.options.allowEditing}},bo=ms,no={_globalDragModeEnabled:!1,enableGlobalDragMode(){let s=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!0,this._addedLayersDrag={},s.forEach(h=>{this._isRelevantForDrag(h)&&h.pm.enableLayerDrag()}),this.throttledReInitDrag||(this.throttledReInitDrag=L.Util.throttle(this.reinitGlobalDragMode,100,this)),this.map.on("layeradd",this._layerAddedDrag,this),this.map.on("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!0)},disableGlobalDragMode(){let s=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!1,s.forEach(h=>{h.pm.disableLayerDrag()}),this.map.off("layeradd",this._layerAddedDrag,this),this.map.off("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!1)},globalDragModeEnabled(){return!!this._globalDragModeEnabled},toggleGlobalDragMode(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},reinitGlobalDragMode(){let s=this._addedLayersDrag;if(this._addedLayersDrag={},this.globalDragModeEnabled())for(let h in s){let p=s[h];this._isRelevantForDrag(p)&&p.pm.enableLayerDrag()}},_layerAddedDrag({layer:s}){this._addedLayersDrag[L.stamp(s)]=s},_isRelevantForDrag(s){return s.pm&&!(s instanceof L.LayerGroup)&&(!L.PM.optIn&&!s.options.pmIgnore||L.PM.optIn&&s.options.pmIgnore===!1)&&!s._pmTempLayer&&s.pm.options.draggable}},gr=no,ai={_globalRemovalModeEnabled:!1,enableGlobalRemovalMode(){this._globalRemovalModeEnabled=!0,this.map.eachLayer(s=>{this._isRelevantForRemoval(s)&&(s.pm.enabled()&&s.pm.disable(),s.on("click",this.removeLayer,this))}),this.throttledReInitRemoval||(this.throttledReInitRemoval=L.Util.throttle(this.handleLayerAdditionInGlobalRemovalMode,100,this)),this._addedLayersRemoval={},this.map.on("layeradd",this._layerAddedRemoval,this),this.map.on("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!0)},disableGlobalRemovalMode(){this._globalRemovalModeEnabled=!1,this.map.eachLayer(s=>{s.off("click",this.removeLayer,this)}),this.map.off("layeradd",this._layerAddedRemoval,this),this.map.off("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!1)},globalRemovalEnabled(){return this.globalRemovalModeEnabled()},globalRemovalModeEnabled(){return!!this._globalRemovalModeEnabled},toggleGlobalRemovalMode(){this.globalRemovalModeEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},removeLayer(s){let h=s.target;this._isRelevantForRemoval(h)&&!h.pm.dragging()&&(h.removeFrom(this.map.pm._getContainingLayer()),h.remove(),h instanceof L.LayerGroup?(this._fireRemoveLayerGroup(h),this._fireRemoveLayerGroup(this.map,h)):(h.pm._fireRemove(h),h.pm._fireRemove(this.map,h)))},_isRelevantForRemoval(s){return s.pm&&!(s instanceof L.LayerGroup)&&(!L.PM.optIn&&!s.options.pmIgnore||L.PM.optIn&&s.options.pmIgnore===!1)&&!s._pmTempLayer&&s.pm.options.allowRemoval},handleLayerAdditionInGlobalRemovalMode(){let s=this._addedLayersRemoval;if(this._addedLayersRemoval={},this.globalRemovalModeEnabled())for(let h in s){let p=s[h];this._isRelevantForRemoval(p)&&(p.pm.enabled()&&p.pm.disable(),p.on("click",this.removeLayer,this))}},_layerAddedRemoval({layer:s}){this._addedLayersRemoval[L.stamp(s)]=s}},zi=ai,ro={_globalRotateModeEnabled:!1,enableGlobalRotateMode(){this._globalRotateModeEnabled=!0,L.PM.Utils.findLayers(this.map).filter(s=>s instanceof L.Polyline).forEach(s=>{this._isRelevantForRotate(s)&&s.pm.enableRotate()}),this.throttledReInitRotate||(this.throttledReInitRotate=L.Util.throttle(this.handleLayerAdditionInGlobalRotateMode,100,this)),this._addedLayersRotate={},this.map.on("layeradd",this._layerAddedRotate,this),this.map.on("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},disableGlobalRotateMode(){this._globalRotateModeEnabled=!1,L.PM.Utils.findLayers(this.map).filter(s=>s instanceof L.Polyline).forEach(s=>{s.pm.disableRotate()}),this.map.off("layeradd",this._layerAddedRotate,this),this.map.off("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},globalRotateModeEnabled(){return!!this._globalRotateModeEnabled},toggleGlobalRotateMode(){this.globalRotateModeEnabled()?this.disableGlobalRotateMode():this.enableGlobalRotateMode()},_isRelevantForRotate(s){return s.pm&&s instanceof L.Polyline&&!(s instanceof L.LayerGroup)&&(!L.PM.optIn&&!s.options.pmIgnore||L.PM.optIn&&s.options.pmIgnore===!1)&&!s._pmTempLayer&&s.pm.options.allowRotation},handleLayerAdditionInGlobalRotateMode(){let s=this._addedLayersRotate;if(this._addedLayersRotate={},this.globalRotateModeEnabled())for(let h in s){let p=s[h];this._isRelevantForRemoval(p)&&p.pm.enableRotate()}},_layerAddedRotate({layer:s}){this._addedLayersRotate[L.stamp(s)]=s}},io=ro,xo=g(Gs()),Js={_fireDrawStart(s="Draw",h={}){this.__fire(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer},s,h)},_fireDrawEnd(s="Draw",h={}){this.__fire(this._map,"pm:drawend",{shape:this._shape},s,h)},_fireCreate(s,h="Draw",p={}){this.__fire(this._map,"pm:create",{shape:this._shape,marker:s,layer:s},h,p)},_fireCenterPlaced(s="Draw",h={}){let p=s==="Draw"?this._layer:void 0,v=s!=="Draw"?this._layer:void 0;this.__fire(this._layer,"pm:centerplaced",{shape:this._shape,workingLayer:p,layer:v,latlng:this._layer.getLatLng()},s,h)},_fireCut(s,h,p,v="Draw",k={}){this.__fire(s,"pm:cut",{shape:this._shape,layer:h,originalLayer:p},v,k)},_fireEdit(s=this._layer,h="Edit",p={}){this.__fire(s,"pm:edit",{layer:this._layer,shape:this.getShape()},h,p)},_fireEnable(s="Edit",h={}){this.__fire(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()},s,h)},_fireDisable(s="Edit",h={}){this.__fire(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()},s,h)},_fireUpdate(s="Edit",h={}){this.__fire(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()},s,h)},_fireMarkerDragStart(s,h=void 0,p="Edit",v={}){this.__fire(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:s,shape:this.getShape(),indexPath:h},p,v)},_fireMarkerDrag(s,h=void 0,p="Edit",v={}){this.__fire(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:s,shape:this.getShape(),indexPath:h},p,v)},_fireMarkerDragEnd(s,h=void 0,p=void 0,v="Edit",k={}){this.__fire(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:s,shape:this.getShape(),indexPath:h,intersectionReset:p},v,k)},_fireDragStart(s="Edit",h={}){this.__fire(this._layer,"pm:dragstart",{layer:this._layer,shape:this.getShape()},s,h)},_fireDrag(s,h="Edit",p={}){this.__fire(this._layer,"pm:drag",{...s,shape:this.getShape()},h,p)},_fireDragEnd(s="Edit",h={}){this.__fire(this._layer,"pm:dragend",{layer:this._layer,shape:this.getShape()},s,h)},_fireDragEnable(s="Edit",h={}){this.__fire(this._layer,"pm:dragenable",{layer:this._layer,shape:this.getShape()},s,h)},_fireDragDisable(s="Edit",h={}){this.__fire(this._layer,"pm:dragdisable",{layer:this._layer,shape:this.getShape()},s,h)},_fireRemove(s,h=s,p="Edit",v={}){this.__fire(s,"pm:remove",{layer:h,shape:this.getShape()},p,v)},_fireVertexAdded(s,h,p,v="Edit",k={}){this.__fire(this._layer,"pm:vertexadded",{layer:this._layer,workingLayer:this._layer,marker:s,indexPath:h,latlng:p,shape:this.getShape()},v,k)},_fireVertexRemoved(s,h,p="Edit",v={}){this.__fire(this._layer,"pm:vertexremoved",{layer:this._layer,marker:s,indexPath:h,shape:this.getShape()},p,v)},_fireVertexClick(s,h,p="Edit",v={}){this.__fire(this._layer,"pm:vertexclick",{layer:this._layer,markerEvent:s,indexPath:h,shape:this.getShape()},p,v)},_fireIntersect(s,h=this._layer,p="Edit",v={}){this.__fire(h,"pm:intersect",{layer:this._layer,intersection:s,shape:this.getShape()},p,v)},_fireLayerReset(s,h,p="Edit",v={}){this.__fire(this._layer,"pm:layerreset",{layer:this._layer,markerEvent:s,indexPath:h,shape:this.getShape()},p,v)},_fireChange(s,h="Edit",p={}){this.__fire(this._layer,"pm:change",{layer:this._layer,latlngs:s,shape:this.getShape()},h,p)},_fireTextChange(s,h="Edit",p={}){this.__fire(this._layer,"pm:textchange",{layer:this._layer,text:s,shape:this.getShape()},h,p)},_fireTextFocus(s="Edit",h={}){this.__fire(this._layer,"pm:textfocus",{layer:this._layer,shape:this.getShape()},s,h)},_fireTextBlur(s="Edit",h={}){this.__fire(this._layer,"pm:textblur",{layer:this._layer,shape:this.getShape()},s,h)},_fireSnapDrag(s,h,p="Snapping",v={}){this.__fire(s,"pm:snapdrag",h,p,v)},_fireSnap(s,h,p="Snapping",v={}){this.__fire(s,"pm:snap",h,p,v)},_fireUnsnap(s,h,p="Snapping",v={}){this.__fire(s,"pm:unsnap",h,p,v)},_fireRotationEnable(s,h,p="Rotation",v={}){this.__fire(s,"pm:rotateenable",{layer:this._layer,helpLayer:this._rotatePoly,shape:this.getShape()},p,v)},_fireRotationDisable(s,h="Rotation",p={}){this.__fire(s,"pm:rotatedisable",{layer:this._layer,shape:this.getShape()},h,p)},_fireRotationStart(s,h,p="Rotation",v={}){this.__fire(s,"pm:rotatestart",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:this._startAngle,originLatLngs:h},p,v)},_fireRotation(s,h,p,v=this._rotationLayer,k="Rotation",B={}){this.__fire(s,"pm:rotate",{layer:v,helpLayer:this._layer,startAngle:this._startAngle,angle:v.pm.getAngle(),angleDiff:h,oldLatLngs:p,newLatLngs:v.getLatLngs()},k,B)},_fireRotationEnd(s,h,p,v="Rotation",k={}){this.__fire(s,"pm:rotateend",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:h,angle:this._rotationLayer.pm.getAngle(),originLatLngs:p,newLatLngs:this._rotationLayer.getLatLngs()},v,k)},_fireActionClick(s,h,p,v="Toolbar",k={}){this.__fire(this._map,"pm:actionclick",{text:s.text,action:s,btnName:h,button:p},v,k)},_fireButtonClick(s,h,p="Toolbar",v={}){this.__fire(this._map,"pm:buttonclick",{btnName:s,button:h},p,v)},_fireLangChange(s,h,p,v,k="Global",B={}){this.__fire(this.map,"pm:langchange",{oldLang:s,activeLang:h,fallback:p,translations:v},k,B)},_fireGlobalDragModeToggled(s,h="Global",p={}){this.__fire(this.map,"pm:globaldragmodetoggled",{enabled:s,map:this.map},h,p)},_fireGlobalEditModeToggled(s,h="Global",p={}){this.__fire(this.map,"pm:globaleditmodetoggled",{enabled:s,map:this.map},h,p)},_fireGlobalRemovalModeToggled(s,h="Global",p={}){this.__fire(this.map,"pm:globalremovalmodetoggled",{enabled:s,map:this.map},h,p)},_fireGlobalCutModeToggled(s="Global",h={}){this.__fire(this._map,"pm:globalcutmodetoggled",{enabled:!!this._enabled,map:this._map},s,h)},_fireGlobalDrawModeToggled(s="Global",h={}){this.__fire(this._map,"pm:globaldrawmodetoggled",{enabled:this._enabled,shape:this._shape,map:this._map},s,h)},_fireGlobalRotateModeToggled(s="Global",h={}){this.__fire(this.map,"pm:globalrotatemodetoggled",{enabled:this.globalRotateModeEnabled(),map:this.map},s,h)},_fireRemoveLayerGroup(s,h=s,p="Edit",v={}){this.__fire(s,"pm:remove",{layer:h,shape:void 0},p,v)},_fireKeyeventEvent(s,h,p,v="Global",k={}){this.__fire(this.map,"pm:keyevent",{event:s,eventType:h,focusOn:p},v,k)},__fire(s,h,p,v,k={}){p=(0,xo.default)(p,k,{source:v}),L.PM.Utils._fireEvent(s,h,p)}},Ys=Js,so=()=>({_lastEvents:{keydown:void 0,keyup:void 0,current:void 0},_initKeyListener(s){this.map=s,L.DomEvent.on(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.on(window,"blur",this._onBlur,this),s.once("unload",this._unbindKeyListenerEvents,this)},_unbindKeyListenerEvents(){L.DomEvent.off(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.off(window,"blur",this._onBlur,this)},_onKeyListener(s){let h="document";this.map.getContainer().contains(s.target)&&(h="map");let p={event:s,eventType:s.type,focusOn:h};this._lastEvents[s.type]=p,this._lastEvents.current=p,this.map.pm._fireKeyeventEvent(s,s.type,h)},_onBlur(s){s.altKey=!1;let h={event:s,eventType:s.type,focusOn:"document"};this._lastEvents[s.type]=h,this._lastEvents.current=h},getLastKeyEvent(s="current"){return this._lastEvents[s]},isShiftKeyPressed(){return this._lastEvents.current?.event.shiftKey},isAltKeyPressed(){return this._lastEvents.current?.event.altKey},isCtrlKeyPressed(){return this._lastEvents.current?.event.ctrlKey},isMetaKeyPressed(){return this._lastEvents.current?.event.metaKey},getPressedKey(){return this._lastEvents.current?.event.key}}),In=so,gs=g(Xi());function gn(s){let h=L.PM.activeLang;return(0,gs.default)(ts[h],s)||(0,gs.default)(ts.en,s)||s}function Yr(s){for(let h=0;h<s.length;h+=1){let p=s[h];if(Array.isArray(p)){if(Yr(p))return!0}else if(p!=null&&p!=="")return!0}return!1}function ja(s){return s.reduce((h,p)=>{if(p.length!==0){let v=Array.isArray(p)?ja(p):p;Array.isArray(v)?v.length!==0&&h.push(v):h.push(v)}return h},[])}function Bs(s,h,p){let v={a:L.CRS.Earth.R,b:63567523142e-4,f:.0033528106647474805},{a:k,b:B,f:z}=v,q=s.lng,J=s.lat,ee=p,Re=Math.PI,Me=h*Re/180,ut=Math.sin(Me),gt=Math.cos(Me),Et=(1-z)*Math.tan(J*Re/180),Wt=1/Math.sqrt(1+Et*Et),Zt=Et*Wt,mn=Math.atan2(Et,gt),Oe=Wt*ut,Ue=1-Oe*Oe,nt=Ue*(k*k-B*B)/(B*B),yt=1+nt/16384*(4096+nt*(-768+nt*(320-175*nt))),rt=nt/1024*(256+nt*(-128+nt*(74-47*nt))),dt=ee/(B*yt),X=2*Math.PI,ce,be,ge;for(;Math.abs(dt-X)>1e-12;){ce=Math.cos(2*mn+dt),be=Math.sin(dt),ge=Math.cos(dt);let Dt=rt*be*(ce+rt/4*(ge*(-1+2*ce*ce)-rt/6*ce*(-3+4*be*be)*(-3+4*ce*ce)));X=dt,dt=ee/(B*yt)+Dt}let ke=Zt*be-Wt*ge*gt,Ce=Math.atan2(Zt*ge+Wt*be*gt,(1-z)*Math.sqrt(Oe*Oe+ke*ke)),Ze=Math.atan2(be*ut,Wt*ge-Zt*be*gt),Ge=z/16*Ue*(4+z*(4-3*Ue)),Xe=Ze-(1-Ge)*z*Oe*(dt+Ge*be*(ce+Ge*ge*(-1+2*ce*ce))),pt=q+Xe*180/Re,ct=Ce*180/Re;return L.latLng(pt,ct)}function oi(s,h,p,v,k=!0){let B,z,q,J=[];for(let ee=0;ee<p;ee+=1){if(k)B=ee*360/p+v,z=Bs(s,B,h),q=L.latLng(z.lng,z.lat);else{let Re=s.lat+Math.cos(2*ee*Math.PI/p)*h,Me=s.lng+Math.sin(2*ee*Math.PI/p)*h;q=L.latLng(Re,Me)}J.push(q)}return J}function Lo(s,h,p){h=(h+360)%360;let v=Math.PI/180,k=180/Math.PI,{R:B}=L.CRS.Earth,z=s.lng*v,q=s.lat*v,J=h*v,ee=Math.sin(q),Re=Math.cos(q),Me=Math.cos(p/B),ut=Math.sin(p/B),gt=Math.asin(ee*Me+Re*ut*Math.cos(J)),Et=z+Math.atan2(Math.sin(J)*ut*Re,Me-ee*Math.sin(gt));Et*=k;let Wt=Et-360,Zt=Et<-180?Et+360:Et;return Et=Et>180?Wt:Zt,L.latLng([gt*k,Et])}function Cr(s,h,p){let v=s.latLngToContainerPoint(h),k=s.latLngToContainerPoint(p),B=Math.atan2(k.y-v.y,k.x-v.x)*180/Math.PI+90;return B+=B<0?360:0,B}function Ts(s,h,p,v){let k=Cr(s,h,p);return Lo(h,k,v)}function za(s,h,p="asc"){if(!h||Object.keys(h).length===0)return(J,ee)=>J-ee;let v=Object.keys(h),k,B=v.length-1,z={};for(;B>=0;)k=v[B],z[k.toLowerCase()]=h[k],B-=1;function q(J){if(J instanceof L.Marker)return"Marker";if(J instanceof L.Circle)return"Circle";if(J instanceof L.CircleMarker)return"CircleMarker";if(J instanceof L.Rectangle)return"Rectangle";if(J instanceof L.Polygon)return"Polygon";if(J instanceof L.Polyline)return"Line"}return(J,ee)=>{let Re,Me;if(Re=q(J.layer).toLowerCase(),Me=q(ee.layer).toLowerCase(),!Re||!Me)return 0;let ut=Re in z?z[Re]:Number.MAX_SAFE_INTEGER,gt=Me in z?z[Me]:Number.MAX_SAFE_INTEGER,Et=0;return ut<gt?Et=-1:ut>gt&&(Et=1),p==="desc"?Et*-1:Et}}function _i(s,h=s.getLatLngs()){return s instanceof L.Polygon?L.polygon(h).getLatLngs():L.polyline(h).getLatLngs()}function ko(s,h){if(h.options.crs?.projection?.MAX_LATITUDE){let p=h.options.crs?.projection?.MAX_LATITUDE;s.lat=Math.max(Math.min(p,s.lat),-p)}return s}function Br(s){return s.options.renderer||s._map&&(s._map._getPaneRenderer(s.options.pane)||s._map.options.renderer||s._map._renderer)||s._renderer}var Co=L.Class.extend({includes:[bo,gr,zi,io,Ys],initialize(s){this.map=s,this.Draw=new L.PM.Draw(s),this.Toolbar=new L.PM.Toolbar(s),this.Keyboard=In(),this.globalOptions={snappable:!0,layerGroup:void 0,snappingOrder:["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],panes:{vertexPane:"markerPane",layerPane:"overlayPane",markerPane:"markerPane"},draggable:!0},this.Keyboard._initKeyListener(s)},setLang(s="en",h,p="en"){if(s=s.trim().toLowerCase(),!/^[a-z]{2}$/.test(s)){let k=s.replace(/[-_\s]/g,"-").replace(/^(\w{2})$/,"$1-").match(/([a-z]{2})-?([a-z]{2})?/);if(k){let B=[`${k[1]}_${k[2]}`,`${k[1]}`];for(let z of B)if(ts[z]){s=z;break}}}let v=L.PM.activeLang;h&&(ts[s]=(0,Ln.default)(ts[p],h)),L.PM.activeLang=s,this.map.pm.Toolbar.reinit(),this._fireLangChange(v,s,p,ts[s])},addControls(s){this.Toolbar.addControls(s)},removeControls(){this.Toolbar.removeControls()},toggleControls(){this.Toolbar.toggleControls()},controlsVisible(){return this.Toolbar.isVisible},enableDraw(s="Polygon",h){s==="Poly"&&(s="Polygon"),this.Draw.enable(s,h)},disableDraw(s="Polygon"){s==="Poly"&&(s="Polygon"),this.Draw.disable(s)},setPathOptions(s,h={}){let p=h.ignoreShapes||[],v=h.merge||!1;this.map.pm.Draw.shapes.forEach(k=>{p.indexOf(k)===-1&&this.map.pm.Draw[k].setPathOptions(s,v)})},getGlobalOptions(){return this.globalOptions},setGlobalOptions(s){let h=(0,Ln.default)(this.globalOptions,s);h.editable&&(h.resizeableCircleMarker=h.editable,delete h.editable);let p=!1;this.map.pm.Draw.CircleMarker.enabled()&&!!this.map.pm.Draw.CircleMarker.options.resizeableCircleMarker!=!!h.resizeableCircleMarker&&(this.map.pm.Draw.CircleMarker.disable(),p=!0);let v=!1;this.map.pm.Draw.Circle.enabled()&&!!this.map.pm.Draw.Circle.options.resizeableCircle!=!!h.resizeableCircle&&(this.map.pm.Draw.Circle.disable(),v=!0),this.map.pm.Draw.shapes.forEach(k=>{this.map.pm.Draw[k].setOptions(h)}),p&&this.map.pm.Draw.CircleMarker.enable(),v&&this.map.pm.Draw.Circle.enable(),L.PM.Utils.findLayers(this.map).forEach(k=>{k.pm.setOptions(h)}),this.map.fire("pm:globaloptionschanged"),this.globalOptions=h,this.applyGlobalOptions()},applyGlobalOptions(){L.PM.Utils.findLayers(this.map).forEach(s=>{s.pm.enabled()&&s.pm.applyOptions()})},globalDrawModeEnabled(){return!!this.Draw.getActiveShape()},globalCutModeEnabled(){return!!this.Draw.Cut.enabled()},enableGlobalCutMode(s){return this.Draw.Cut.enable(s)},toggleGlobalCutMode(s){return this.Draw.Cut.toggle(s)},disableGlobalCutMode(){return this.Draw.Cut.disable()},getGeomanLayers(s=!1){let h=L.PM.Utils.findLayers(this.map);if(!s)return h;let p=L.featureGroup();return p._pmTempLayer=!0,h.forEach(v=>{p.addLayer(v)}),p},getGeomanDrawLayers(s=!1){let h=L.PM.Utils.findLayers(this.map).filter(v=>v._drawnByGeoman===!0);if(!s)return h;let p=L.featureGroup();return p._pmTempLayer=!0,h.forEach(v=>{p.addLayer(v)}),p},_getContainingLayer(){return this.globalOptions.layerGroup&&this.globalOptions.layerGroup instanceof L.LayerGroup?this.globalOptions.layerGroup:this.map},_isCRSSimple(){return this.map.options.crs===L.CRS.Simple},_touchEventCounter:0,_addTouchEvents(s){this._touchEventCounter===0&&(L.DomEvent.on(s,"touchmove",this._canvasTouchMove,this),L.DomEvent.on(s,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter+=1},_removeTouchEvents(s){this._touchEventCounter===1&&(L.DomEvent.off(s,"touchmove",this._canvasTouchMove,this),L.DomEvent.off(s,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter=this._touchEventCounter<=1?0:this._touchEventCounter-1},_canvasTouchMove(s){Br(this.map)._onMouseMove(this._createMouseEvent("mousemove",s))},_canvasTouchClick(s){let h="";s.type==="touchstart"||s.type==="pointerdown"?h="mousedown":(s.type==="touchend"||s.type==="pointerup"||s.type==="touchcancel"||s.type==="pointercancel")&&(h="mouseup"),h&&Br(this.map)._onClick(this._createMouseEvent(h,s))},_createMouseEvent(s,h){let p,v=h.touches[0]||h.changedTouches[0];try{p=new MouseEvent(s,{bubbles:h.bubbles,cancelable:h.cancelable,view:h.view,detail:v.detail,screenX:v.screenX,screenY:v.screenY,clientX:v.clientX,clientY:v.clientY,ctrlKey:h.ctrlKey,altKey:h.altKey,shiftKey:h.shiftKey,metaKey:h.metaKey,button:h.button,relatedTarget:h.relatedTarget})}catch{p=document.createEvent("MouseEvents"),p.initMouseEvent(s,h.bubbles,h.cancelable,h.view,v.detail,v.screenX,v.screenY,v.clientX,v.clientY,h.ctrlKey,h.altKey,h.shiftKey,h.metaKey,h.button,h.relatedTarget)}return p}}),Ns=Co,ki=L.Control.extend({includes:[Ys],options:{position:"topleft",disableByOtherButtons:!0},initialize(s){this._button=L.Util.extend({},this.options,s)},onAdd(s){return this._map=s,this._map.pm.Toolbar.options.oneBlock?this._container=this._map.pm.Toolbar._createContainer(this.options.position):this._button.tool==="edit"?this._container=this._map.pm.Toolbar.editContainer:this._button.tool==="options"?this._container=this._map.pm.Toolbar.optionsContainer:this._button.tool==="custom"?this._container=this._map.pm.Toolbar.customContainer:this._container=this._map.pm.Toolbar.drawContainer,this._renderButton(),this._container},_renderButton(){let s=this.buttonsDomNode;this.buttonsDomNode=this._makeButton(this._button),s?s.replaceWith(this.buttonsDomNode):this._container.appendChild(this.buttonsDomNode)},onRemove(){return this.buttonsDomNode.remove(),this._container},getText(){return this._button.text},getIconUrl(){return this._button.iconUrl},destroy(){this._button={},this._update()},toggle(s){return typeof s=="boolean"?this._button.toggleStatus=s:this._button.toggleStatus=!this._button.toggleStatus,this._applyStyleClasses(),this._updateActiveAction(this._button),this._button.toggleStatus},toggled(){return this._button.toggleStatus},onCreate(){this.toggle(!1)},disable(){this.toggle(!1),this._button.disabled=!0,this._updateDisabled()},enable(){this._button.disabled=!1,this._updateDisabled(),this._updateActiveAction(this._button)},_triggerClick(s){s&&s.preventDefault(),!this._button.disabled&&(this._button.onClick(s,{button:this,event:s}),this._clicked(s),this._button.afterClick(s,{button:this,event:s}))},_makeButton(s){let h=this.options.position.indexOf("right")>-1?"pos-right":"",p=L.DomUtil.create("div",`button-container  ${h}`,this._container);s.title&&p.setAttribute("title",s.title);let v=L.DomUtil.create("a","leaflet-buttons-control-button",p);v.setAttribute("role","button"),v.setAttribute("tabindex","0"),v.href="#";let k=L.DomUtil.create("div",`leaflet-pm-actions-container ${h}`,p),B=s.actions,z={cancel:{text:gn("actions.cancel"),title:gn("actions.cancel"),onClick(){this._triggerClick()}},finishMode:{text:gn("actions.finish"),title:gn("actions.finish"),onClick(){this._triggerClick()}},removeLastVertex:{text:gn("actions.removeLastVertex"),title:gn("actions.removeLastVertex"),onClick(){this._map.pm.Draw[s.jsClass]._removeLastVertex()}},finish:{text:gn("actions.finish"),title:gn("actions.finish"),onClick(J){this._map.pm.Draw[s.jsClass]._finishShape(J)}}};s._preparedActions=B.map(J=>{let ee=typeof J=="string"?J:J.name,Re;if(z[ee])Re=z[ee];else if(J.text)Re=J;else return Re;let Me=L.DomUtil.create("a",`leaflet-pm-action ${h} action-${ee}`,k);if(Me.setAttribute("role","button"),Me.setAttribute("tabindex","0"),Me.href="#",Re.title&&(Me.title=Re.title),Me.innerHTML=Re.text,L.DomEvent.disableClickPropagation(Me),L.DomEvent.on(Me,"click",L.DomEvent.stop),Re._node=Me,!s.disabled&&Re.onClick){let ut=gt=>{gt.preventDefault();let Et="",{buttons:Wt}=this._map.pm.Toolbar;for(let Zt in Wt)if(Wt[Zt]._button===s){Et=Zt;break}this._fireActionClick(Re,Et,s)};L.DomEvent.addListener(Me,"click",ut,this),L.DomEvent.addListener(Me,"click",Re.onClick,this),L.DomEvent.addListener(Me,"click",()=>this._updateActiveAction(s))}return Re}),this._updateActiveAction(s),s.toggleStatus&&L.DomUtil.addClass(p,"active");let q=L.DomUtil.create("div","control-icon",v);return s.iconUrl&&q.setAttribute("src",s.iconUrl),s.className&&L.DomUtil.addClass(q,s.className),L.DomEvent.disableClickPropagation(v),L.DomEvent.on(v,"click",L.DomEvent.stop),s.disabled||(L.DomEvent.addListener(v,"click",this._onBtnClick,this),L.DomEvent.addListener(v,"click",this._triggerClick,this)),s.disabled&&(L.DomUtil.addClass(v,"pm-disabled"),v.setAttribute("aria-disabled","true")),p},_applyStyleClasses(){this._container&&(!this._button.toggleStatus||this._button.cssToggle===!1?(L.DomUtil.removeClass(this.buttonsDomNode,"active"),L.DomUtil.removeClass(this._container,"activeChild")):(L.DomUtil.addClass(this.buttonsDomNode,"active"),L.DomUtil.addClass(this._container,"activeChild")))},_onBtnClick(){if(this._button.disabled)return;this._button.disableOtherButtons&&this._map.pm.Toolbar.triggerClickOnToggledButtons(this);let s="",{buttons:h}=this._map.pm.Toolbar;for(let p in h)if(h[p]._button===this._button){s=p;break}this._fireButtonClick(s,this._button)},_clicked(){this._button.doToggle&&this.toggle()},_updateDisabled(){if(!this._container)return;let s="pm-disabled",h=this.buttonsDomNode.children[0];this._button.disabled?(L.DomUtil.addClass(h,s),h.setAttribute("aria-disabled","true")):(L.DomUtil.removeClass(h,s),h.setAttribute("aria-disabled","false"))},_updateActiveAction(s){s._preparedActions?.forEach(h=>{h?._node&&(h.isActive&&h.isActive.call(this)?L.DomUtil.addClass(h._node,"active-action"):L.DomUtil.removeClass(h._node,"active-action"))})}}),ao=ki;L.Control.PMButton=ao;var Fo=L.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawCircleMarker:!0,drawText:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,rotateMode:!0,snappingOption:!0,drawControls:!0,editControls:!0,optionsControls:!0,customControls:!0,oneBlock:!1,position:"topleft",positions:{draw:"",edit:"",options:"",custom:""}},customButtons:[],initialize(s){this.customButtons=[],this.options.positions={draw:"",edit:"",options:"",custom:""},this.init(s)},reinit(){let s=this.isVisible;this.removeControls(),this._defineButtons(),s&&this.addControls()},init(s){this.map=s,this.buttons={},this.isVisible=!1,this.drawContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this.optionsContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"),this.customContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"),this._defineButtons()},_createContainer(s){let h=`${s}Container`;return this[h]||(this[h]=L.DomUtil.create("div",`leaflet-pm-toolbar leaflet-pm-${s} leaflet-bar leaflet-control`)),this[h]},getButtons(){return this.buttons},addControls(s=this.options){typeof s.editPolygon<"u"&&(s.editMode=s.editPolygon),typeof s.deleteLayer<"u"&&(s.removalMode=s.deleteLayer),L.Util.setOptions(this,s),this.applyIconStyle(),this.isVisible=!0,this._showHideButtons()},applyIconStyle(){let s=this.getButtons(),h={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",drawCircleMarker:"control-icon leaflet-pm-icon-circle-marker",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete",drawText:"control-icon leaflet-pm-icon-text"}};for(let p in s){let v=s[p];L.Util.setOptions(v,{className:h.geomanIcons[p]})}},removeControls(){let s=this.getButtons();for(let h in s)s[h].remove();this.isVisible=!1},toggleControls(s=this.options){this.isVisible?this.removeControls():this.addControls(s)},_addButton(s,h){return this.buttons[s]=h,this.options[s]=!!this.options[s]||!1,this.buttons[s]},triggerClickOnToggledButtons(s){for(let h in this.buttons){let p=this.buttons[h];p._button.disableByOtherButtons&&p!==s&&p.toggled()&&p._triggerClick()}},toggleButton(s,h,p=!0){s==="editPolygon"&&(s="editMode"),s==="deleteLayer"&&(s="removalMode");let v=s;return p&&this.triggerClickOnToggledButtons(this.buttons[v]),this.buttons[v]?this.buttons[v].toggle(h):!1},_defineButtons(){let s={className:"control-icon leaflet-pm-icon-marker",title:gn("buttonTitles.drawMarkerButton"),jsClass:"Marker",onClick:()=>{},afterClick:(ut,gt)=>{this.map.pm.Draw[gt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},h={title:gn("buttonTitles.drawPolyButton"),className:"control-icon leaflet-pm-icon-polygon",jsClass:"Polygon",onClick:()=>{},afterClick:(ut,gt)=>{this.map.pm.Draw[gt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},p={className:"control-icon leaflet-pm-icon-polyline",title:gn("buttonTitles.drawLineButton"),jsClass:"Line",onClick:()=>{},afterClick:(ut,gt)=>{this.map.pm.Draw[gt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},v={title:gn("buttonTitles.drawCircleButton"),className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:()=>{},afterClick:(ut,gt)=>{this.map.pm.Draw[gt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},k={title:gn("buttonTitles.drawCircleMarkerButton"),className:"control-icon leaflet-pm-icon-circle-marker",jsClass:"CircleMarker",onClick:()=>{},afterClick:(ut,gt)=>{this.map.pm.Draw[gt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},B={title:gn("buttonTitles.drawRectButton"),className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:()=>{},afterClick:(ut,gt)=>{this.map.pm.Draw[gt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},z={title:gn("buttonTitles.editButton"),className:"control-icon leaflet-pm-icon-edit",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},q={title:gn("buttonTitles.dragButton"),className:"control-icon leaflet-pm-icon-drag",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},J={title:gn("buttonTitles.cutButton"),className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:()=>{},afterClick:(ut,gt)=>{this.map.pm.Draw[gt.button._button.jsClass].toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},ee={title:gn("buttonTitles.deleteButton"),className:"control-icon leaflet-pm-icon-delete",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},Re={title:gn("buttonTitles.rotateButton"),className:"control-icon leaflet-pm-icon-rotate",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalRotateMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},Me={className:"control-icon leaflet-pm-icon-text",title:gn("buttonTitles.drawTextButton"),jsClass:"Text",onClick:()=>{},afterClick:(ut,gt)=>{this.map.pm.Draw[gt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]};this._addButton("drawMarker",new L.Control.PMButton(s)),this._addButton("drawPolyline",new L.Control.PMButton(p)),this._addButton("drawRectangle",new L.Control.PMButton(B)),this._addButton("drawPolygon",new L.Control.PMButton(h)),this._addButton("drawCircle",new L.Control.PMButton(v)),this._addButton("drawCircleMarker",new L.Control.PMButton(k)),this._addButton("drawText",new L.Control.PMButton(Me)),this._addButton("editMode",new L.Control.PMButton(z)),this._addButton("dragMode",new L.Control.PMButton(q)),this._addButton("cutPolygon",new L.Control.PMButton(J)),this._addButton("removalMode",new L.Control.PMButton(ee)),this._addButton("rotateMode",new L.Control.PMButton(Re))},_showHideButtons(){if(!this.isVisible)return;this.removeControls(),this.isVisible=!0;let s=this.getButtons(),h=[];this.options.drawControls===!1&&(h=h.concat(Object.keys(s).filter(p=>!s[p]._button.tool))),this.options.editControls===!1&&(h=h.concat(Object.keys(s).filter(p=>s[p]._button.tool==="edit"))),this.options.optionsControls===!1&&(h=h.concat(Object.keys(s).filter(p=>s[p]._button.tool==="options"))),this.options.customControls===!1&&(h=h.concat(Object.keys(s).filter(p=>s[p]._button.tool==="custom")));for(let p in s)if(this.options[p]&&h.indexOf(p)===-1){let v=s[p]._button.tool;v||(v="draw"),s[p].setPosition(this._getBtnPosition(v)),s[p].addTo(this.map)}},_getBtnPosition(s){return this.options.positions&&this.options.positions[s]?this.options.positions[s]:this.options.position},setBlockPosition(s,h){this.options.positions[s]=h,this._showHideButtons(),this.changeControlOrder()},getBlockPositions(){return this.options.positions},copyDrawControl(s,h){if(h)typeof h!="object"&&(h={name:h});else throw new TypeError("Button has no name");let p=this._btnNameMapping(s);if(!h.name)throw new TypeError("Button has no name");if(this.buttons[h.name])throw new TypeError("Button with this name already exists");let v=this.map.pm.Draw.createNewDrawInstance(h.name,p);h={...this.buttons[p]._button,...h};let k=this.createCustomControl(h);return{drawInstance:v,control:k}},createCustomControl(s){if(!s.name)throw new TypeError("Button has no name");if(this.buttons[s.name])throw new TypeError("Button with this name already exists");s.onClick||(s.onClick=()=>{}),s.afterClick||(s.afterClick=()=>{}),s.toggle!==!1&&(s.toggle=!0),s.block&&(s.block=s.block.toLowerCase()),(!s.block||s.block==="draw")&&(s.block=""),s.className?s.className.indexOf("control-icon")===-1&&(s.className=`control-icon ${s.className}`):s.className="control-icon";let h={tool:s.block,className:s.className,title:s.title||"",jsClass:s.name,onClick:s.onClick,afterClick:s.afterClick,doToggle:s.toggle,toggleStatus:!1,disableOtherButtons:s.disableOtherButtons??!0,disableByOtherButtons:s.disableByOtherButtons??!0,cssToggle:s.toggle,position:this.options.position,actions:s.actions||[],disabled:!!s.disabled};this.options[s.name]!==!1&&(this.options[s.name]=!0);let p=this._addButton(s.name,new L.Control.PMButton(h));return this.changeControlOrder(),p},controlExists(s){return!!this.getButton(s)},getButton(s){return this.getButtons()[s]},getButtonsInBlock(s){let h={};if(s)for(let p in this.getButtons()){let v=this.getButtons()[p];(v._button.tool===s||s==="draw"&&!v._button.tool)&&(h[p]=v)}return h},changeControlOrder(s=[]){let h=this._shapeMapping(),p=[];s.forEach(B=>{h[B]?p.push(h[B]):p.push(B)});let v=this.getButtons(),k={};p.forEach(B=>{v[B]&&(k[B]=v[B])}),Object.keys(v).filter(B=>!v[B]._button.tool||v[B]._button.tool==="draw").forEach(B=>{p.indexOf(B)===-1&&(k[B]=v[B])}),Object.keys(v).filter(B=>v[B]._button.tool==="edit").forEach(B=>{p.indexOf(B)===-1&&(k[B]=v[B])}),Object.keys(v).filter(B=>v[B]._button.tool==="options").forEach(B=>{p.indexOf(B)===-1&&(k[B]=v[B])}),Object.keys(v).filter(B=>v[B]._button.tool==="custom").forEach(B=>{p.indexOf(B)===-1&&(k[B]=v[B])}),Object.keys(v).forEach(B=>{p.indexOf(B)===-1&&(k[B]=v[B])}),this.map.pm.Toolbar.buttons=k,this._showHideButtons()},getControlOrder(){let s=this.getButtons(),h=[];for(let p in s)h.push(p);return h},changeActionsOfControl(s,h){let p=this._btnNameMapping(s);if(!p)throw new TypeError("No name passed");if(!h)throw new TypeError("No actions passed");if(!this.buttons[p])throw new TypeError("Button with this name not exists");this.buttons[p]._button.actions=h,this.changeControlOrder()},setButtonDisabled(s,h){let p=this._btnNameMapping(s);h?this.buttons[p].disable():this.buttons[p].enable()},_shapeMapping(){return{Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode",Rotate:"rotateMode",Text:"drawText"}},_btnNameMapping(s){let h=this._shapeMapping();return h[s]?h[s]:s}}),jo=Fo,So=g(Gs()),Xs={_initSnappableMarkers(){this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){this._layer.off("pm:dragstart",this._unsnap,this)},_assignEvents(s){s.forEach(h=>{if(Array.isArray(h)){this._assignEvents(h);return}h.off("drag",this._handleSnapping,this),h.on("drag",this._handleSnapping,this),h.off("dragend",this._cleanupSnapping,this),h.on("dragend",this._cleanupSnapping,this)})},_cleanupSnapping(s){if(s){let h=s.target;h._snapped=!1}delete this._snapList,this.throttledList&&(this._map.off("layeradd",this.throttledList,this),this.throttledList=void 0),this._map.off("layerremove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach(h=>{h.remove()})},_handleThrottleSnapping(){this.throttledList&&this._createSnapList()},_handleSnapping(s){let h=s.target;if(h._snapped=!1,this.throttledList||(this.throttledList=L.Util.throttle(this._handleThrottleSnapping,100,this)),s?.originalEvent?.altKey||this._map?.pm?.Keyboard.isAltKeyPressed()||(this._snapList===void 0&&(this._createSnapList(),this._map.off("layeradd",this.throttledList,this),this._map.on("layeradd",this.throttledList,this)),this._snapList.length<=0))return!1;let p=this._calcClosestLayer(h.getLatLng(),this._snapList);if(Object.keys(p).length===0)return!1;let v=p.layer instanceof L.Marker||p.layer instanceof L.CircleMarker||!this.options.snapSegment,k;v?k=p.latlng:k=this._checkPrioritiySnapping(p);let B=this.options.snapDistance,z={marker:h,shape:this._shape,snapLatLng:k,segment:p.segment,layer:this._layer,workingLayer:this._layer,layerInteractedWith:p.layer,distance:p.distance};if(this._fireSnapDrag(z.marker,z),this._fireSnapDrag(this._layer,z),p.distance<B){h._orgLatLng=h.getLatLng(),h.setLatLng(k),h._snapped=!0,h._snapInfo=z;let q=()=>{this._snapLatLng=k,this._fireSnap(h,z),this._fireSnap(this._layer,z)},J=this._snapLatLng||{},ee=k||{};(J.lat!==ee.lat||J.lng!==ee.lng)&&q()}else this._snapLatLng&&(this._unsnap(z),h._snapped=!1,h._snapInfo=void 0,this._fireUnsnap(z.marker,z),this._fireUnsnap(this._layer,z));return!0},_createSnapList(){let s=[],h=[],p=this._map;p.off("layerremove",this._handleSnapLayerRemoval,this),p.on("layerremove",this._handleSnapLayerRemoval,this),p.eachLayer(v=>{if((v instanceof L.Polyline||v instanceof L.Marker||v instanceof L.CircleMarker||v instanceof L.ImageOverlay)&&v.options.snapIgnore!==!0){if(v.options.snapIgnore===void 0&&(!L.PM.optIn&&v.options.pmIgnore===!0||L.PM.optIn&&v.options.pmIgnore!==!1))return;(v instanceof L.Circle||v instanceof L.CircleMarker)&&v.pm&&v.pm._hiddenPolyCircle?s.push(v.pm._hiddenPolyCircle):v instanceof L.ImageOverlay&&(v=L.rectangle(v.getBounds())),s.push(v);let k=L.polyline([],{color:"red",pmIgnore:!0});k._pmTempLayer=!0,h.push(k),(v instanceof L.Circle||v instanceof L.CircleMarker)&&h.push(k)}}),s=s.filter(v=>this._layer!==v),s=s.filter(v=>v._latlng||v._latlngs&&Yr(v._latlngs)),s=s.filter(v=>!v._pmTempLayer),this._otherSnapLayers?(this._otherSnapLayers.forEach(()=>{let v=L.polyline([],{color:"red",pmIgnore:!0});v._pmTempLayer=!0,h.push(v)}),this._snapList=s.concat(this._otherSnapLayers)):this._snapList=s,this.debugIndicatorLines=h},_handleSnapLayerRemoval({layer:s}){if(!s._leaflet_id)return;let h=this._snapList.findIndex(p=>p._leaflet_id===s._leaflet_id);h>-1&&this._snapList.splice(h,1)},_calcClosestLayer(s,h){return this._calcClosestLayers(s,h,1)[0]},_calcClosestLayers(s,h,p=1){let v=[],k={};h.forEach((z,q)=>{if(z._parentCopy&&z._parentCopy===this._layer||z.getLatLngs?.().flat(5).length<2)return;let J=this._calcLayerDistances(s,z);if(J.distance=Math.floor(J.distance),this.debugIndicatorLines){if(!this.debugIndicatorLines[q]){let ee=L.polyline([],{color:"red",pmIgnore:!0});ee._pmTempLayer=!0,this.debugIndicatorLines[q]=ee}this.debugIndicatorLines[q].setLatLngs([s,J.latlng])}p===1&&(k.distance===void 0||J.distance-5<=k.distance)?(J.distance+5<k.distance&&(v=[]),k=J,k.layer=z,v.push(k)):p!==1&&(k={},k=J,k.layer=z,v.push(k))}),p!==1&&(v=v.sort((z,q)=>z.distance-q.distance)),p===-1&&(p=v.length);let B=this._getClosestLayerByPriority(v,p);return L.Util.isArray(B)?B:[B]},_calcLayerDistances(s,h){let p=this._map,v=h instanceof L.Marker||h instanceof L.CircleMarker,k=h instanceof L.Polygon,B=s;if(v){let z=h.getLatLng();return{latlng:{...z},distance:this._getDistance(p,z,B)}}return this._calcLatLngDistances(B,h.getLatLngs(),p,k)},_calcLatLngDistances(s,h,p,v=!1){let k,B,z,q=J=>{J.forEach((ee,Re)=>{if(Array.isArray(ee)){q(ee);return}if(this.options.snapSegment){let Me=ee,ut;v?ut=Re+1===J.length?0:Re+1:ut=Re+1===J.length?void 0:Re+1;let gt=J[ut];if(gt){let Et=this._getDistanceToSegment(p,s,Me,gt);(B===void 0||Et<B)&&(B=Et,z=[Me,gt])}}else{let Me=this._getDistance(p,s,ee);(B===void 0||Me<B)&&(B=Me,k=ee)}})};return q(h),this.options.snapSegment?{latlng:{...this._getClosestPointOnSegment(p,s,z[0],z[1])},segment:z,distance:B}:{latlng:k,distance:B}},_getClosestLayerByPriority(s,h=1){s=s.sort((z,q)=>z._leaflet_id-q._leaflet_id);let p=["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],v=this._map.pm.globalOptions.snappingOrder||[],k=0,B={};return v.concat(p).forEach(z=>{B[z]||(k+=1,B[z]=k)}),s.sort(za("instanceofShape",B)),h===1?s[0]||{}:s.slice(0,h)},_checkPrioritiySnapping(s){let h=this._map,p=s.segment[0],v=s.segment[1],k=s.latlng,B=k;if(this.options.snapVertex){let z=this._getDistance(h,p,k),q=this._getDistance(h,v,k),J=z<q?p:v,ee=z<q?z:q;if(this.options.snapMiddle){let Me=L.PM.Utils.calcMiddleLatLng(h,p,v),ut=this._getDistance(h,Me,k);ut<z&&ut<q&&(J=Me,ee=ut)}let Re=this.options.snapDistance;ee<Re&&(B=J)}return{...B}},_unsnap(){delete this._snapLatLng},_getClosestPointOnSegment(s,h,p,v){let k=s.getMaxZoom();k===1/0&&(k=s.getZoom());let B=s.project(h,k),z=s.project(p,k),q=s.project(v,k),J=L.LineUtil.closestPointOnSegment(B,z,q);return s.unproject(J,k)},_getDistanceToSegment(s,h,p,v){let k=s.latLngToContainerPoint(h),B=s.latLngToContainerPoint(p),z=s.latLngToContainerPoint(v);return L.LineUtil.pointToSegmentDistance(k,B,z)},_getDistance(s,h,p){return s.latLngToContainerPoint(h).distanceTo(s.latLngToContainerPoint(p))}},oo=Xs,Ua=L.Class.extend({includes:[oo,Ys],options:{snappable:!0,snapDistance:20,snapMiddle:!1,allowSelfIntersection:!0,tooltips:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},pathOptions:null,cursorMarker:!0,finishOn:null,markerStyle:{draggable:!0,icon:L.icon()},hideMiddleMarkers:!1,minRadiusCircle:null,maxRadiusCircle:null,minRadiusCircleMarker:null,maxRadiusCircleMarker:null,resizeableCircleMarker:!1,resizeableCircle:!0,markerEditable:!0,continueDrawing:!1,snapSegment:!0,requireSnapToFinish:!1,rectangleAngle:0,textOptions:{text:null,focusAfterDraw:null,removeIfEmpty:null,className:null},snapVertex:!0},setOptions(s){L.Util.setOptions(this,s),this.setStyle(this.options)},setStyle(){},getOptions(){return this.options},initialize(s){let h=new L.Icon.Default;h.options.tooltipAnchor=[0,0],this.options.markerStyle.icon=h,this._map=s,this.shapes=["Marker","CircleMarker","Line","Polygon","Rectangle","Circle","Cut","Text"],this.shapes.forEach(p=>{this[p]=new L.PM.Draw[p](this._map)}),this.Marker.setOptions({continueDrawing:!0}),this.CircleMarker.setOptions({continueDrawing:!0})},setPathOptions(s,h=!1){h?this.options.pathOptions=(0,So.default)(this.options.pathOptions,s):this.options.pathOptions=s},getShapes(){return this.shapes},getShape(){return this._shape},enable(s,h){if(!s)throw new Error(`Error: Please pass a shape as a parameter. Possible shapes are: ${this.getShapes().join(",")}`);this.disable(),this[s].enable(h)},disable(){this.shapes.forEach(s=>{this[s].disable()})},addControls(){this.shapes.forEach(s=>{this[s].addButton()})},getActiveShape(){let s;return this.shapes.forEach(h=>{this[h]._enabled&&(s=h)}),s},_setGlobalDrawMode(){this._shape==="Cut"?this._fireGlobalCutModeToggled():this._fireGlobalDrawModeToggled();let s=[];this._map.eachLayer(h=>{(h instanceof L.Polyline||h instanceof L.Marker||h instanceof L.Circle||h instanceof L.CircleMarker||h instanceof L.ImageOverlay)&&(h._pmTempLayer||s.push(h))}),this._enabled?s.forEach(h=>{L.PM.Utils.disablePopup(h)}):s.forEach(h=>{L.PM.Utils.enablePopup(h)})},createNewDrawInstance(s,h){let p=this._getShapeFromBtnName(h);if(this[s])throw new TypeError("Draw Type already exists");if(!L.PM.Draw[p])throw new TypeError(`There is no class L.PM.Draw.${p}`);return this[s]=new L.PM.Draw[p](this._map),this[s].toolbarButtonName=s,this[s]._shape=s,this.shapes.push(s),this[h]&&this[s].setOptions(this[h].options),this[s].setOptions(this[s].options),this[s]},_getShapeFromBtnName(s){let h={drawMarker:"Marker",drawCircle:"Circle",drawPolygon:"Polygon",drawPolyline:"Line",drawRectangle:"Rectangle",drawCircleMarker:"CircleMarker",editMode:"Edit",dragMode:"Drag",cutPolygon:"Cut",removalMode:"Removal",rotateMode:"Rotate",drawText:"Text"};return h[s]?h[s]:this[s]?this[s]._shape:s},_finishLayer(s){s.pm&&(s.pm.setOptions(this.options),s.pm._shape=this._shape,s.pm._map=this._map),this._addDrawnLayerProp(s)},_addDrawnLayerProp(s){s._drawnByGeoman=!0},_setPane(s,h){h==="layerPane"?s.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":h==="vertexPane"?s.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":h==="markerPane"&&(s.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},_isFirstLayer(){return(this._map||this._layer._map).pm.getGeomanLayers().length===0}}),Tr=Ua;Tr.Marker=Tr.extend({initialize(s){this._map=s,this._shape="Marker",this.toolbarButtonName="drawMarker"},enable(s){L.Util.setOptions(this,s),this._enabled=!0,this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),this.options.markerStyle),this._setPane(this._hintMarker,"markerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip(gn("tooltips.placeMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this.options.markerEditable&&this._map.eachLayer(h=>{this.isRelevantMarker(h)&&h.pm.enable()}),this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer(s=>{this.isRelevantMarker(s)&&s.pm.disable()}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(s){this.enabled()?this.disable():this.enable(s)},isRelevantMarker(s){return s instanceof L.Marker&&s.pm&&!s._pmTempLayer&&!s.pm._initTextMarker},_syncHintMarker(s){if(this._hintMarker.setLatLng(s.latlng),this.options.snappable){let h=s;h.target=this._hintMarker,this._handleSnapping(h)}this._fireChange(this._hintMarker.getLatLng(),"Draw")},_createMarker(s){if(!s.latlng||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(s.latlng);let h=this._hintMarker.getLatLng(),p=new L.Marker(h,this.options.markerStyle);this._setPane(p,"markerPane"),this._finishLayer(p),p.pm||(p.options.draggable=!1),p.addTo(this._map.pm._getContainingLayer()),p.pm&&this.options.markerEditable?p.pm.enable():p.dragging&&p.dragging.disable(),this._fireCreate(p),this._cleanupSnapping(),this.options.continueDrawing||this.disable()},setStyle(){this.options.markerStyle?.icon&&this._hintMarker?.setIcon(this.options.markerStyle.icon)}});var P=63710088e-1,ne={centimeters:P*100,centimetres:P*100,degrees:P/111325,feet:P*3.28084,inches:P*39.37,kilometers:P/1e3,kilometres:P/1e3,meters:P,metres:P,miles:P/1609.344,millimeters:P*1e3,millimetres:P*1e3,nauticalmiles:P/1852,radians:1,yards:P*1.0936};function De(s,h,p){p===void 0&&(p={});var v={type:"Feature"};return(p.id===0||p.id)&&(v.id=p.id),p.bbox&&(v.bbox=p.bbox),v.properties=h||{},v.geometry=s,v}function $e(s,h,p){if(p===void 0&&(p={}),!s)throw new Error("coordinates is required");if(!Array.isArray(s))throw new Error("coordinates must be an Array");if(s.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!kn(s[0])||!kn(s[1]))throw new Error("coordinates must contain numbers");var v={type:"Point",coordinates:s};return De(v,h,p)}function ft(s,h,p){if(p===void 0&&(p={}),s.length<2)throw new Error("coordinates must be an array of two or more positions");var v={type:"LineString",coordinates:s};return De(v,h,p)}function kt(s,h){h===void 0&&(h={});var p={type:"FeatureCollection"};return h.id&&(p.id=h.id),h.bbox&&(p.bbox=h.bbox),p.features=s,p}function Ft(s,h){h===void 0&&(h="kilometers");var p=ne[h];if(!p)throw new Error(h+" units is invalid");return s*p}function Jt(s,h){h===void 0&&(h="kilometers");var p=ne[h];if(!p)throw new Error(h+" units is invalid");return s/p}function en(s){var h=s%(2*Math.PI);return h*180/Math.PI}function _n(s){var h=s%360;return h*Math.PI/180}function kn(s){return!isNaN(s)&&s!==null&&!Array.isArray(s)}function Rn(s){var h,p,v={type:"FeatureCollection",features:[]};if(s.type==="Feature"?p=s.geometry:p=s,p.type==="LineString")h=[p.coordinates];else if(p.type==="MultiLineString")h=p.coordinates;else if(p.type==="MultiPolygon")h=[].concat.apply([],p.coordinates);else if(p.type==="Polygon")h=p.coordinates;else throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");return h.forEach(function(k){h.forEach(function(B){for(var z=0;z<k.length-1;z++)for(var q=z;q<B.length-1;q++)if(!(k===B&&(Math.abs(z-q)===1||z===0&&q===k.length-2&&k[z][0]===k[k.length-1][0]&&k[z][1]===k[k.length-1][1]))){var J=_r(k[z][0],k[z][1],k[z+1][0],k[z+1][1],B[q][0],B[q][1],B[q+1][0],B[q+1][1]);J&&v.features.push($e([J[0],J[1]]))}})}),v}function _r(s,h,p,v,k,B,z,q){var J,ee,Re,Me,ut,gt={x:null,y:null,onLine1:!1,onLine2:!1};return J=(q-B)*(p-s)-(z-k)*(v-h),J===0?gt.x!==null&&gt.y!==null?gt:!1:(ee=h-B,Re=s-k,Me=(z-k)*ee-(q-B)*Re,ut=(p-s)*ee-(v-h)*Re,ee=Me/J,Re=ut/J,gt.x=s+ee*(p-s),gt.y=h+ee*(v-h),ee>=0&&ee<=1&&(gt.onLine1=!0),Re>=0&&Re<=1&&(gt.onLine2=!0),gt.onLine1&&gt.onLine2?[gt.x,gt.y]:!1)}Tr.Line=Tr.extend({initialize(s){this._map=s,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable(s){L.Util.setOptions(this,s),this._enabled=!0,this._markers=[],this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],{...this.options.templineStyle,pmIgnore:!1}),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(gn("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createVertex,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.on(this.options.finishOn,this._finishShape,this),this.options.finishOn==="dblclick"&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this.isRed=!1,this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(s){this.enabled()?this.disable():this.enable(s)},_syncHintLine(){let s=this._layer.getLatLngs();if(s.length>0){let h=s[s.length-1];this._hintline.setLatLngs([h,this._hintMarker.getLatLng()])}},_syncHintMarker(s){if(this._hintMarker.setLatLng(s.latlng),this.options.snappable){let p=s;p.target=this._hintMarker,this._handleSnapping(p)}this.options.allowSelfIntersection||this._handleSelfIntersection(!0,this._hintMarker.getLatLng());let h=this._layer._defaultShape().slice();h.push(this._hintMarker.getLatLng()),this._change(h)},hasSelfIntersection(){return Rn(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersection(s,h){let p=L.polyline(this._layer.getLatLngs());s&&(h||(h=this._hintMarker.getLatLng()),p.addLatLng(h));let v=Rn(p.toGeoJSON(15));this._doesSelfIntersect=v.features.length>0,this._doesSelfIntersect?this.isRed||(this.isRed=!0,this._hintline.setStyle({color:"#f00000ff"}),this._fireIntersect(v,this._map,"Draw")):this._hintline.isEmpty()||(this.isRed=!1,this._hintline.setStyle(this.options.hintlineStyle))},_createVertex(s){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,s.latlng),this._doesSelfIntersect))return;this._hintMarker._snapped||this._hintMarker.setLatLng(s.latlng);let h=this._hintMarker.getLatLng(),p=this._layer.getLatLngs(),v=p[p.length-1];if(h.equals(p[0])||p.length>0&&h.equals(v)){this._finishShape();return}this._layer._latlngInfo=this._layer._latlngInfo||[],this._layer._latlngInfo.push({latlng:h,snapInfo:this._hintMarker._snapInfo}),this._layer.addLatLng(h);let k=this._createMarker(h);this._setTooltipText(),this._setHintLineAfterNewVertex(h),this._fireVertexAdded(k,void 0,h,"Draw"),this._change(this._layer.getLatLngs()),this.options.finishOn==="snap"&&this._hintMarker._snapped&&this._finishShape(s)},_setHintLineAfterNewVertex(s){this._hintline.setLatLngs([s,s])},_removeLastVertex(){let s=this._markers;if(s.length<=1){this.disable();return}let h=this._layer.getLatLngs(),p=s[s.length-1],{indexPath:v}=L.PM.Utils.findDeepMarkerIndex(s,p);s.pop(),this._layerGroup.removeLayer(p);let k=s[s.length-1],B=h.indexOf(k.getLatLng());h=h.slice(0,B+1),this._layer.setLatLngs(h),this._layer._latlngInfo.pop(),this._syncHintLine(),this._setTooltipText(),this._fireVertexRemoved(p,v,"Draw"),this._change(this._layer.getLatLngs())},_finishShape(){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!1),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let s=this._layer.getLatLngs();if(s.length<=1)return;let h=L.polyline(s,this.options.pathOptions);this._setPane(h,"layerPane"),this._finishLayer(h),h.addTo(this._map.pm._getContainingLayer()),this._fireCreate(h),this.options.snappable&&this._cleanupSnapping();let p=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(p))},_createMarker(s){let h=new L.Marker(s,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(h,"vertexPane"),h._pmTempLayer=!0,this._layerGroup.addLayer(h),this._markers.push(h),h.on("click",this._finishShape,this),h},_setTooltipText(){let{length:s}=this._layer.getLatLngs().flat(),h="";s<=1?h=gn("tooltips.continueLine"):h=gn("tooltips.finishLine"),this._hintMarker.setTooltipContent(h)},_change(s){this._fireChange(s,"Draw")},setStyle(){this._layer?.setStyle(this.options.templineStyle),this._hintline?.setStyle(this.options.hintlineStyle)}}),Tr.Polygon=Tr.Line.extend({initialize(s){this._map=s,this._shape="Polygon",this.toolbarButtonName="drawPolygon"},enable(s){L.PM.Draw.Line.prototype.enable.call(this,s),this._layer.pm._shape="Polygon"},_createMarker(s){let h=new L.Marker(s,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(h,"vertexPane"),h._pmTempLayer=!0,this._layerGroup.addLayer(h),this._markers.push(h),this._layer.getLatLngs().flat().length===1?(h.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(h)-1,this.options.snappable&&this._cleanupSnapping()):h.on("click",()=>1),h},_setTooltipText(){let{length:s}=this._layer.getLatLngs().flat(),h="";s<=2?h=gn("tooltips.continueLine"):h=gn("tooltips.finishPoly"),this._hintMarker.setTooltipContent(h)},_finishShape(){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let s=this._layer.getLatLngs();if(s.length<=2)return;let h=L.polygon(s,this.options.pathOptions);this._setPane(h,"layerPane"),this._finishLayer(h),h.addTo(this._map.pm._getContainingLayer()),this._fireCreate(h),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex;let p=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(p))}}),Tr.Rectangle=Tr.extend({initialize(s){this._map=s,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable(s){if(L.Util.setOptions(this,s),this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._startMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!1,zIndexOffset:-100,opacity:this.options.cursorMarker?1:0}),this._setPane(this._startMarker,"vertexPane"),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:150,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(gn("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){this._styleMarkers=[];for(let h=0;h<2;h+=1){let p=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!1,zIndexOffset:100});this._setPane(p,"vertexPane"),p._pmTempLayer=!0,this._layerGroup.addLayer(p),this._styleMarkers.push(p)}}this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(s){this.enabled()?this.disable():this.enable(s)},_placeStartingMarkers(s){this._hintMarker._snapped||this._hintMarker.setLatLng(s.latlng);let h=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(h),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach(p=>{L.DomUtil.addClass(p._icon,"visible"),p.setLatLng(h)}),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent(gn("tooltips.finishRect")),this._setRectangleOrigin()},_setRectangleOrigin(){let s=this._startMarker.getLatLng();s&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([s,s]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker(s){if(this._hintMarker.setLatLng(s.latlng),this.options.snappable){let p=s;p.target=this._hintMarker,this._handleSnapping(p)}let h=this._layerGroup&&this._layerGroup.hasLayer(this._layer)?this._layer.getLatLngs():[this._hintMarker.getLatLng()];this._fireChange(h,"Draw")},_syncRectangleSize(){let s=ko(this._startMarker.getLatLng(),this._map),h=ko(this._hintMarker.getLatLng(),this._map),p=L.PM.Utils._getRotatedRectangle(s,h,this.options.rectangleAngle||0,this._map);if(this._layer.setLatLngs(p),this.options.cursorMarker&&this._styleMarkers){let v=[];p.forEach(k=>{!k.equals(s,1e-8)&&!k.equals(h,1e-8)&&v.push(k)}),v.forEach((k,B)=>{try{this._styleMarkers[B].setLatLng(k)}catch{}})}},_findCorners(){let s=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(s[0],s[2],this.options.rectangleAngle||0,this._map)},_finishShape(s){this._hintMarker._snapped||this._hintMarker.setLatLng(s.latlng);let h=this._hintMarker.getLatLng(),p=this._startMarker.getLatLng();if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer()||p.equals(h))return;let v=L.rectangle([p,h],this.options.pathOptions);if(this.options.rectangleAngle){let B=L.PM.Utils._getRotatedRectangle(p,h,this.options.rectangleAngle||0,this._map);v.setLatLngs(B),v.pm&&v.pm._setAngle(this.options.rectangleAngle||0)}this._setPane(v,"layerPane"),this._finishLayer(v),v.addTo(this._map.pm._getContainingLayer()),this._fireCreate(v);let k=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(k))},setStyle(){this._layer?.setStyle(this.options.pathOptions)}}),Tr.CircleMarker=Tr.extend({initialize(s){this._map=s,this._shape="CircleMarker",this.toolbarButtonName="drawCircleMarker",this._layerIsDragging=!1,this._BaseCircleClass=L.CircleMarker,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._defaultRadius=10},enable(s){if(L.Util.setOptions(this,s),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),this._enabled=!0,this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._map.getContainer().classList.add("geoman-draw-cursor"),this.options[this._editableOption]){let h={};L.extend(h,this.options.templineStyle),h.radius=0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=new this._BaseCircleClass(this._map.getCenter(),h),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(gn("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map.on("click",this._placeCenterMarker,this)}else this._map.on("click",this._createMarker,this),this._hintMarker=new this._BaseCircleClass(this._map.getCenter(),{radius:this._defaultRadius,...this.options.templineStyle}),this._setPane(this._hintMarker,"layerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this._layer=this._hintMarker,this.options.tooltips&&this._hintMarker.bindTooltip(gn("tooltips.placeCircleMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip();this._map.on("mousemove",this._syncHintMarker,this),this._extendingEnable(),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},_extendingEnable(){!this.options[this._editableOption]&&this.options.markerEditable&&this._map.eachLayer(s=>{this.isRelevantMarker(s)&&s.pm.enable()}),this._layer.bringToBack()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this.options[this._editableOption]?(this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.removeLayer(this._layerGroup)):(this._map.off("click",this._createMarker,this),this._extendingDisable(),this._hintMarker.remove()),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},_extendingDisable(){this._map.eachLayer(s=>{this.isRelevantMarker(s)&&s.pm.disable()})},enabled(){return this._enabled},toggle(s){this.enabled()?this.disable():this.enable(s)},_placeCenterMarker(s){this._hintMarker._snapped||this._hintMarker.setLatLng(s.latlng),this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker);let h=this._hintMarker.getLatLng();this._centerMarker.setLatLng(h),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter(){let s=this._centerMarker.getLatLng();s&&(this._layer.setLatLng(s),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(gn("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_syncHintLine(){let s=this._centerMarker.getLatLng(),h=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([s,h])},_syncCircleRadius(){let s=this._centerMarker.getLatLng(),h=this._hintMarker.getLatLng(),p=this._distanceCalculation(s,h);this.options[this._minRadiusOption]&&p<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&p>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(p)},_syncHintMarker(s){if(this._hintMarker.setLatLng(s.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){let p=s;p.target=this._hintMarker,this._handleSnapping(p)}this._handleHintMarkerSnapping();let h=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(h,"Draw")},isRelevantMarker(s){return s instanceof L.CircleMarker&&!(s instanceof L.Circle)&&s.pm&&!s._pmTempLayer},_createMarker(s){if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer()||!s.latlng||this._layerIsDragging)return;this._hintMarker._snapped||this._hintMarker.setLatLng(s.latlng);let h=this._hintMarker.getLatLng(),p=new this._BaseCircleClass(h,{radius:this._defaultRadius,...this.options.pathOptions});this._setPane(p,"layerPane"),this._finishLayer(p),p.addTo(this._map.pm._getContainingLayer()),this._extendingCreateMarker(p),this._fireCreate(p),this._cleanupSnapping(),this.options.continueDrawing||this.disable()},_extendingCreateMarker(s){s.pm&&this.options.markerEditable&&s.pm.enable()},_finishShape(s){if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(s.latlng);let h=this._centerMarker.getLatLng(),p=this._defaultRadius;if(this.options[this._editableOption]){let z=this._hintMarker.getLatLng();p=this._distanceCalculation(h,z),this.options[this._minRadiusOption]&&p<this.options[this._minRadiusOption]?p=this.options[this._minRadiusOption]:this.options[this._maxRadiusOption]&&p>this.options[this._maxRadiusOption]&&(p=this.options[this._maxRadiusOption])}let v={...this.options.pathOptions,radius:p},k=new this._BaseCircleClass(h,v);this._setPane(k,"layerPane"),this._finishLayer(k),k.addTo(this._map.pm._getContainingLayer()),k.pm&&k.pm._updateHiddenPolyCircle(),this._fireCreate(k);let B=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(B))},_getNewDestinationOfHintMarker(){let s=this._hintMarker.getLatLng();if(this.options[this._editableOption]){if(!this._layerGroup.hasLayer(this._centerMarker))return s;let h=this._centerMarker.getLatLng(),p=this._distanceCalculation(h,s);this.options[this._minRadiusOption]&&p<this.options[this._minRadiusOption]?s=Ts(this._map,h,s,this._getMinDistanceInMeter()):this.options[this._maxRadiusOption]&&p>this.options[this._maxRadiusOption]&&(s=Ts(this._map,h,s,this._getMaxDistanceInMeter()))}return s},_getMinDistanceInMeter(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,this._centerMarker.getLatLng())},_getMaxDistanceInMeter(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,this._centerMarker.getLatLng())},_handleHintMarkerSnapping(){if(this.options[this._editableOption]){if(this._hintMarker._snapped){let s=this._centerMarker.getLatLng(),h=this._hintMarker.getLatLng(),p=this._distanceCalculation(s,h);this._layerGroup.hasLayer(this._centerMarker)&&(this.options[this._minRadiusOption]&&p<this.options[this._minRadiusOption]?this._hintMarker.setLatLng(this._hintMarker._orgLatLng):this.options[this._maxRadiusOption]&&p>this.options[this._maxRadiusOption]&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng))}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())}},setStyle(){let s={};L.extend(s,this.options.templineStyle),this.options[this._editableOption]&&(s.radius=0),this._layer?.setStyle(s),this._hintline?.setStyle(this.options.hintlineStyle)},_distanceCalculation(s,h){return this._map.project(s).distanceTo(this._map.project(h))}}),Tr.Circle=Tr.CircleMarker.extend({initialize(s){this._map=s,this._shape="Circle",this.toolbarButtonName="drawCircle",this._BaseCircleClass=L.Circle,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizeableCircle",this._defaultRadius=100},_extendingEnable(){},_extendingDisable(){},_extendingCreateMarker(){},isRelevantMarker(){},_getMinDistanceInMeter(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter(){return this.options[this._maxRadiusOption]},_distanceCalculation(s,h){return this._map.distance(s,h)}});function Zn(s){if(!s)throw new Error("coord is required");if(!Array.isArray(s)){if(s.type==="Feature"&&s.geometry!==null&&s.geometry.type==="Point")return s.geometry.coordinates;if(s.type==="Point")return s.coordinates}if(Array.isArray(s)&&s.length>=2&&!Array.isArray(s[0])&&!Array.isArray(s[1]))return s;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function rr(s){if(Array.isArray(s))return s;if(s.type==="Feature"){if(s.geometry!==null)return s.geometry.coordinates}else if(s.coordinates)return s.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function Ur(s){return s.type==="Feature"?s.geometry:s}function Rr(s,h){return s.type==="FeatureCollection"?"FeatureCollection":s.type==="GeometryCollection"?"GeometryCollection":s.type==="Feature"&&s.geometry!==null?s.geometry.type:s.type}function ns(s,h,p){if(s!==null)for(var v,k,B,z,q,J,ee,Re=0,Me=0,ut,gt=s.type,Et=gt==="FeatureCollection",Wt=gt==="Feature",Zt=Et?s.features.length:1,mn=0;mn<Zt;mn++){ee=Et?s.features[mn].geometry:Wt?s.geometry:s,ut=ee?ee.type==="GeometryCollection":!1,q=ut?ee.geometries.length:1;for(var Oe=0;Oe<q;Oe++){var Ue=0,nt=0;if(z=ut?ee.geometries[Oe]:ee,z!==null){J=z.coordinates;var yt=z.type;switch(Re=0,yt){case null:break;case"Point":if(h(J,Me,mn,Ue,nt)===!1)return!1;Me++,Ue++;break;case"LineString":case"MultiPoint":for(v=0;v<J.length;v++){if(h(J[v],Me,mn,Ue,nt)===!1)return!1;Me++,yt==="MultiPoint"&&Ue++}yt==="LineString"&&Ue++;break;case"Polygon":case"MultiLineString":for(v=0;v<J.length;v++){for(k=0;k<J[v].length-Re;k++){if(h(J[v][k],Me,mn,Ue,nt)===!1)return!1;Me++}yt==="MultiLineString"&&Ue++,yt==="Polygon"&&nt++}yt==="Polygon"&&Ue++;break;case"MultiPolygon":for(v=0;v<J.length;v++){for(nt=0,k=0;k<J[v].length;k++){for(B=0;B<J[v][k].length-Re;B++){if(h(J[v][k][B],Me,mn,Ue,nt)===!1)return!1;Me++}nt++}Ue++}break;case"GeometryCollection":for(v=0;v<z.geometries.length;v++)if(ns(z.geometries[v],h)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function hr(s,h){if(s.type==="Feature")h(s,0);else if(s.type==="FeatureCollection")for(var p=0;p<s.features.length&&h(s.features[p],p)!==!1;p++);}function li(s,h,p){var v=p;return hr(s,function(k,B){B===0&&p===void 0?v=k:v=h(v,k,B)}),v}function qa(s,h){var p,v,k,B,z,q,J,ee,Re,Me,ut=0,gt=s.type==="FeatureCollection",Et=s.type==="Feature",Wt=gt?s.features.length:1;for(p=0;p<Wt;p++){for(q=gt?s.features[p].geometry:Et?s.geometry:s,ee=gt?s.features[p].properties:Et?s.properties:{},Re=gt?s.features[p].bbox:Et?s.bbox:void 0,Me=gt?s.features[p].id:Et?s.id:void 0,J=q?q.type==="GeometryCollection":!1,z=J?q.geometries.length:1,k=0;k<z;k++){if(B=J?q.geometries[k]:q,B===null){if(h(null,ut,ee,Re,Me)===!1)return!1;continue}switch(B.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(h(B,ut,ee,Re,Me)===!1)return!1;break}case"GeometryCollection":{for(v=0;v<B.geometries.length;v++)if(h(B.geometries[v],ut,ee,Re,Me)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}ut++}}function Ci(s,h){qa(s,function(p,v,k,B,z){var q=p===null?null:p.type;switch(q){case null:case"Point":case"LineString":case"Polygon":return h(De(p,k,{bbox:B,id:z}),v,0)===!1?!1:void 0}var J;switch(q){case"MultiPoint":J="Point";break;case"MultiLineString":J="LineString";break;case"MultiPolygon":J="Polygon";break}for(var ee=0;ee<p.coordinates.length;ee++){var Re=p.coordinates[ee],Me={type:J,coordinates:Re};if(h(De(Me,k),v,ee)===!1)return!1}})}function Eo(s){if(!s)throw new Error("geojson is required");var h=[];return Ci(s,function(p){_s(p,h)}),kt(h)}function _s(s,h){var p=[],v=s.geometry;if(v!==null){switch(v.type){case"Polygon":p=rr(v);break;case"LineString":p=[rr(v)]}p.forEach(function(k){var B=Po(k,s.properties);B.forEach(function(z){z.id=h.length,h.push(z)})})}}function Po(s,h){var p=[];return s.reduce(function(v,k){var B=ft([v,k],h);return B.bbox=Qs(v,k),p.push(B),k}),p}function Qs(s,h){var p=s[0],v=s[1],k=h[0],B=h[1],z=p<k?p:k,q=v<B?v:B,J=p>k?p:k,ee=v>B?v:B;return[z,q,J,ee]}var ea=Eo,vr=g(Qi(),1);function Ao(s,h){var p={},v=[];if(s.type==="LineString"&&(s=De(s)),h.type==="LineString"&&(h=De(h)),s.type==="Feature"&&h.type==="Feature"&&s.geometry!==null&&h.geometry!==null&&s.geometry.type==="LineString"&&h.geometry.type==="LineString"&&s.geometry.coordinates.length===2&&h.geometry.coordinates.length===2){var k=Ui(s,h);return k&&v.push(k),kt(v)}var B=(0,vr.default)();return B.load(ea(h)),hr(ea(s),function(z){hr(B.search(z),function(q){var J=Ui(z,q);if(J){var ee=rr(J).join(",");p[ee]||(p[ee]=!0,v.push(J))}})}),kt(v)}function Ui(s,h){var p=rr(s),v=rr(h);if(p.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(v.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var k=p[0][0],B=p[0][1],z=p[1][0],q=p[1][1],J=v[0][0],ee=v[0][1],Re=v[1][0],Me=v[1][1],ut=(Me-ee)*(z-k)-(Re-J)*(q-B),gt=(Re-J)*(B-ee)-(Me-ee)*(k-J),Et=(z-k)*(B-ee)-(q-B)*(k-J);if(ut===0)return null;var Wt=gt/ut,Zt=Et/ut;if(Wt>=0&&Wt<=1&&Zt>=0&&Zt<=1){var mn=k+Wt*(z-k),Oe=B+Wt*(q-B);return $e([mn,Oe])}return null}var Si=Ao,lo=g(Qi(),1);function ui(s,h,p){p===void 0&&(p={});var v=Zn(s),k=Zn(h),B=_n(k[1]-v[1]),z=_n(k[0]-v[0]),q=_n(v[1]),J=_n(k[1]),ee=Math.pow(Math.sin(B/2),2)+Math.pow(Math.sin(z/2),2)*Math.cos(q)*Math.cos(J);return Ft(2*Math.atan2(Math.sqrt(ee),Math.sqrt(1-ee)),p.units)}var rs=ui;function hi(s){var h=s[0],p=s[1],v=s[2],k=s[3],B=rs(s.slice(0,2),[v,p]),z=rs(s.slice(0,2),[h,k]);if(B>=z){var q=(p+k)/2;return[h,q-(v-h)/2,v,q+(v-h)/2]}else{var J=(h+v)/2;return[J-(k-p)/2,p,J+(k-p)/2,k]}}var ll=hi;function Sr(s){var h=[1/0,1/0,-1/0,-1/0];return ns(s,function(p){h[0]>p[0]&&(h[0]=p[0]),h[1]>p[1]&&(h[1]=p[1]),h[2]<p[0]&&(h[2]=p[0]),h[3]<p[1]&&(h[3]=p[1])}),h}Sr.default=Sr;var ta=Sr;function is(s,h){h===void 0&&(h={});var p=h.precision,v=h.coordinates,k=h.mutate;if(p=p==null||isNaN(p)?6:p,v=v==null||isNaN(v)?3:v,!s)throw new Error("<geojson> is required");if(typeof p!="number")throw new Error("<precision> must be a number");if(typeof v!="number")throw new Error("<coordinates> must be a number");(k===!1||k===void 0)&&(s=JSON.parse(JSON.stringify(s)));var B=Math.pow(10,p);return ns(s,function(z){ya(z,B,v)}),s}function ya(s,h,p){s.length>p&&s.splice(p,s.length);for(var v=0;v<s.length;v++)s[v]=Math.round(s[v]*h)/h;return s}var Os=is;function Ds(s,h,p){if(p===void 0&&(p={}),p.final===!0)return Xr(s,h);var v=Zn(s),k=Zn(h),B=_n(v[0]),z=_n(k[0]),q=_n(v[1]),J=_n(k[1]),ee=Math.sin(z-B)*Math.cos(J),Re=Math.cos(q)*Math.sin(J)-Math.sin(q)*Math.cos(J)*Math.cos(z-B);return en(Math.atan2(ee,Re))}function Xr(s,h){var p=Ds(h,s);return p=(p+180)%360,p}function qr(s,h,p,v){v===void 0&&(v={});var k=Zn(s),B=_n(k[0]),z=_n(k[1]),q=_n(p),J=Jt(h,v.units),ee=Math.asin(Math.sin(z)*Math.cos(J)+Math.cos(z)*Math.sin(J)*Math.cos(q)),Re=B+Math.atan2(Math.sin(q)*Math.sin(J)*Math.cos(z),Math.cos(J)-Math.sin(z)*Math.sin(ee)),Me=en(Re),ut=en(ee);return $e([Me,ut],v.properties)}function Is(s,h,p){p===void 0&&(p={});var v=$e([1/0,1/0],{dist:1/0}),k=0;return Ci(s,function(B){for(var z=rr(B),q=0;q<z.length-1;q++){var J=$e(z[q]);J.properties.dist=rs(h,J,p);var ee=$e(z[q+1]);ee.properties.dist=rs(h,ee,p);var Re=rs(J,ee,p),Me=Math.max(J.properties.dist,ee.properties.dist),ut=Ds(J,ee),gt=qr(h,Me,ut+90,p),Et=qr(h,Me,ut-90,p),Wt=Si(ft([gt.geometry.coordinates,Et.geometry.coordinates]),ft([J.geometry.coordinates,ee.geometry.coordinates])),Zt=null;Wt.features.length>0&&(Zt=Wt.features[0],Zt.properties.dist=rs(h,Zt,p),Zt.properties.location=k+rs(J,Zt,p)),J.properties.dist<v.properties.dist&&(v=J,v.properties.index=q,v.properties.location=k),ee.properties.dist<v.properties.dist&&(v=ee,v.properties.index=q+1,v.properties.location=k+Re),Zt&&Zt.properties.dist<v.properties.dist&&(v=Zt,v.properties.index=q),k+=Re}}),v}var qi=Is;function vs(s,h){if(!s)throw new Error("line is required");if(!h)throw new Error("splitter is required");var p=Rr(s),v=Rr(h);if(p!=="LineString")throw new Error("line must be LineString");if(v==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(v==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var k=Os(h,{precision:7});switch(v){case"Point":return ys(s,k);case"MultiPoint":return wa(s,k);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return wa(s,Si(s,k))}}function wa(s,h){var p=[],v=(0,lo.default)();return Ci(h,function(k){if(p.forEach(function(q,J){q.id=J}),!p.length)p=ys(s,k).features,p.forEach(function(q){q.bbox||(q.bbox=ll(ta(q)))}),v.load(kt(p));else{var B=v.search(k);if(B.features.length){var z=Xn(k,B);p=p.filter(function(q){return q.id!==z.id}),v.remove(z),hr(ys(z,k),function(q){p.push(q),v.insert(q)})}}}),kt(p)}function ys(s,h){var p=[],v=rr(s)[0],k=rr(s)[s.geometry.coordinates.length-1];if(Gi(v,Zn(h))||Gi(k,Zn(h)))return kt([s]);var B=(0,lo.default)(),z=ea(s);B.load(z);var q=B.search(h);if(!q.features.length)return kt([s]);var J=Xn(h,q),ee=[v],Re=li(z,function(Me,ut,gt){var Et=rr(ut)[1],Wt=Zn(h);return gt===J.id?(Me.push(Wt),p.push(ft(Me)),Gi(Wt,Et)?[Wt]:[Wt,Et]):(Me.push(Et),Me)},ee);return Re.length>1&&p.push(ft(Re)),kt(p)}function Xn(s,h){if(!h.features.length)throw new Error("lines must contain features");if(h.features.length===1)return h.features[0];var p,v=1/0;return hr(h,function(k){var B=qi(k,s),z=B.properties.dist;z<v&&(p=k,v=z)}),p}function Gi(s,h){return s[0]===h[0]&&s[1]===h[1]}var vi=vs;function ci(s,h,p){if(p===void 0&&(p={}),!s)throw new Error("point is required");if(!h)throw new Error("polygon is required");var v=Zn(s),k=Ur(h),B=k.type,z=h.bbox,q=k.coordinates;if(z&&Mo(v,z)===!1)return!1;B==="Polygon"&&(q=[q]);for(var J=!1,ee=0;ee<q.length&&!J;ee++)if(Ga(v,q[ee][0],p.ignoreBoundary)){for(var Re=!1,Me=1;Me<q[ee].length&&!Re;)Ga(v,q[ee][Me],!p.ignoreBoundary)&&(Re=!0),Me++;Re||(J=!0)}return J}function Ga(s,h,p){var v=!1;h[0][0]===h[h.length-1][0]&&h[0][1]===h[h.length-1][1]&&(h=h.slice(0,h.length-1));for(var k=0,B=h.length-1;k<h.length;B=k++){var z=h[k][0],q=h[k][1],J=h[B][0],ee=h[B][1],Re=s[1]*(z-J)+q*(J-s[0])+ee*(s[0]-z)===0&&(z-s[0])*(J-s[0])<=0&&(q-s[1])*(ee-s[1])<=0;if(Re)return!p;var Me=q>s[1]!=ee>s[1]&&s[0]<(J-z)*(s[1]-q)/(ee-q)+z;Me&&(v=!v)}return v}function Mo(s,h){return h[0]<=s[0]&&h[1]<=s[1]&&h[2]>=s[0]&&h[3]>=s[1]}function uo(s,h,p){p===void 0&&(p={});for(var v=Zn(s),k=rr(h),B=0;B<k.length-1;B++){var z=!1;if(p.ignoreEndVertices&&(B===0&&(z="start"),B===k.length-2&&(z="end"),B===0&&B+1===k.length-1&&(z="both")),yi(k[B],k[B+1],v,z,typeof p.epsilon>"u"?null:p.epsilon))return!0}return!1}function yi(s,h,p,v,k){var B=p[0],z=p[1],q=s[0],J=s[1],ee=h[0],Re=h[1],Me=p[0]-q,ut=p[1]-J,gt=ee-q,Et=Re-J,Wt=Me*Et-ut*gt;if(k!==null){if(Math.abs(Wt)>k)return!1}else if(Wt!==0)return!1;if(v){if(v==="start")return Math.abs(gt)>=Math.abs(Et)?gt>0?q<B&&B<=ee:ee<=B&&B<q:Et>0?J<z&&z<=Re:Re<=z&&z<J;if(v==="end")return Math.abs(gt)>=Math.abs(Et)?gt>0?q<=B&&B<ee:ee<B&&B<=q:Et>0?J<=z&&z<Re:Re<z&&z<=J;if(v==="both")return Math.abs(gt)>=Math.abs(Et)?gt>0?q<B&&B<ee:ee<B&&B<q:Et>0?J<z&&z<Re:Re<z&&z<J}else return Math.abs(gt)>=Math.abs(Et)?gt>0?q<=B&&B<=ee:ee<=B&&B<=q:Et>0?J<=z&&z<=Re:Re<=z&&z<=J;return!1}var Hi=uo;function ss(s,h){var p=Ur(s),v=Ur(h),k=p.type,B=v.type,z=p.coordinates,q=v.coordinates;switch(k){case"Point":switch(B){case"Point":return Qn(z,q);default:throw new Error("feature2 "+B+" geometry not supported")}case"MultiPoint":switch(B){case"Point":return ws(p,v);case"MultiPoint":return na(p,v);default:throw new Error("feature2 "+B+" geometry not supported")}case"LineString":switch(B){case"Point":return Hi(v,p,{ignoreEndVertices:!0});case"LineString":return bs(p,v);case"MultiPoint":return ra(p,v);default:throw new Error("feature2 "+B+" geometry not supported")}case"Polygon":switch(B){case"Point":return ci(v,p,{ignoreBoundary:!0});case"LineString":return fi(p,v);case"Polygon":return Gr(p,v);case"MultiPoint":return ba(p,v);default:throw new Error("feature2 "+B+" geometry not supported")}default:throw new Error("feature1 "+k+" geometry not supported")}}function ws(s,h){var p,v=!1;for(p=0;p<s.coordinates.length;p++)if(Qn(s.coordinates[p],h.coordinates)){v=!0;break}return v}function na(s,h){for(var p=0,v=h.coordinates;p<v.length;p++){for(var k=v[p],B=!1,z=0,q=s.coordinates;z<q.length;z++){var J=q[z];if(Qn(k,J)){B=!0;break}}if(!B)return!1}return!0}function ra(s,h){for(var p=!1,v=0,k=h.coordinates;v<k.length;v++){var B=k[v];if(Hi(B,s,{ignoreEndVertices:!0})&&(p=!0),!Hi(B,s))return!1}return!!p}function ba(s,h){for(var p=0,v=h.coordinates;p<v.length;p++){var k=v[p];if(!ci(k,s,{ignoreBoundary:!0}))return!1}return!0}function bs(s,h){for(var p=!1,v=0,k=h.coordinates;v<k.length;v++){var B=k[v];if(Hi({type:"Point",coordinates:B},s,{ignoreEndVertices:!0})&&(p=!0),!Hi({type:"Point",coordinates:B},s,{ignoreEndVertices:!1}))return!1}return p}function fi(s,h){var p=!1,v=0,k=ta(s),B=ta(h);if(!ir(k,B))return!1;for(v;v<h.coordinates.length-1;v++){var z=Er(h.coordinates[v],h.coordinates[v+1]);if(ci({type:"Point",coordinates:z},s,{ignoreBoundary:!0})){p=!0;break}}return p}function Gr(s,h){if(s.type==="Feature"&&s.geometry===null||h.type==="Feature"&&h.geometry===null)return!1;var p=ta(s),v=ta(h);if(!ir(p,v))return!1;for(var k=Ur(h).coordinates,B=0,z=k;B<z.length;B++)for(var q=z[B],J=0,ee=q;J<ee.length;J++){var Re=ee[J];if(!ci(Re,s))return!1}return!0}function ir(s,h){return!(s[0]>h[0]||s[2]<h[2]||s[1]>h[1]||s[3]<h[3])}function Qn(s,h){return s[0]===h[0]&&s[1]===h[1]}function Er(s,h){return[(s[0]+h[0])/2,(s[1]+h[1])/2]}var lr=g(Xi()),xs=s=>()=>s,xa=s=>{let h=s?(p,v)=>v.minus(p).abs().isLessThanOrEqualTo(s):xs(!1);return(p,v)=>h(p,v)?0:p.comparedTo(v)};function Rs(s){let h=s?(p,v,k,B,z)=>p.exponentiatedBy(2).isLessThanOrEqualTo(B.minus(v).exponentiatedBy(2).plus(z.minus(k).exponentiatedBy(2)).times(s)):xs(!1);return(p,v,k)=>{let B=p.x,z=p.y,q=k.x,J=k.y,ee=z.minus(J).times(v.x.minus(q)).minus(B.minus(q).times(v.y.minus(J)));return h(ee,B,z,q,J)?0:ee.comparedTo(0)}}var zo=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Ei=Math.ceil,Nr=Math.floor,sr="[BigNumber Error] ",Wi=sr+"Number primitive has more than 15 significant digits: ",Vi=1e14,yn=14,Uo=9007199254740991,Ha=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],as=1e7,Pn=1e9;function qo(s){var h,p,v,k=Oe.prototype={constructor:Oe,toString:null,valueOf:null},B=new Oe(1),z=20,q=4,J=-7,ee=21,Re=-1e7,Me=1e7,ut=!1,gt=1,Et=0,Wt={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},Zt="0123456789abcdefghijklmnopqrstuvwxyz",mn=!0;function Oe(X,ce){var be,ge,ke,Ce,Ze,Ge,Xe,pt,ct=this;if(!(ct instanceof Oe))return new Oe(X,ce);if(ce==null){if(X&&X._isBigNumber===!0){ct.s=X.s,!X.c||X.e>Me?ct.c=ct.e=null:X.e<Re?ct.c=[ct.e=0]:(ct.e=X.e,ct.c=X.c.slice());return}if((Ge=typeof X=="number")&&X*0==0){if(ct.s=1/X<0?(X=-X,-1):1,X===~~X){for(Ce=0,Ze=X;Ze>=10;Ze/=10,Ce++);Ce>Me?ct.c=ct.e=null:(ct.e=Ce,ct.c=[X]);return}pt=String(X)}else{if(!zo.test(pt=String(X)))return v(ct,pt,Ge);ct.s=pt.charCodeAt(0)==45?(pt=pt.slice(1),-1):1}(Ce=pt.indexOf("."))>-1&&(pt=pt.replace(".","")),(Ze=pt.search(/e/i))>0?(Ce<0&&(Ce=Ze),Ce+=+pt.slice(Ze+1),pt=pt.substring(0,Ze)):Ce<0&&(Ce=pt.length)}else{if(r(ce,2,Zt.length,"Base"),ce==10&&mn)return ct=new Oe(X),rt(ct,z+ct.e+1,q);if(pt=String(X),Ge=typeof X=="number"){if(X*0!=0)return v(ct,pt,Ge,ce);if(ct.s=1/X<0?(pt=pt.slice(1),-1):1,Oe.DEBUG&&pt.replace(/^0\.0*|\./,"").length>15)throw Error(Wi+X)}else ct.s=pt.charCodeAt(0)===45?(pt=pt.slice(1),-1):1;for(be=Zt.slice(0,ce),Ce=Ze=0,Xe=pt.length;Ze<Xe;Ze++)if(be.indexOf(ge=pt.charAt(Ze))<0){if(ge=="."){if(Ze>Ce){Ce=Xe;continue}}else if(!ke&&(pt==pt.toUpperCase()&&(pt=pt.toLowerCase())||pt==pt.toLowerCase()&&(pt=pt.toUpperCase()))){ke=!0,Ze=-1,Ce=0;continue}return v(ct,String(X),Ge,ce)}Ge=!1,pt=p(pt,ce,10,ct.s),(Ce=pt.indexOf("."))>-1?pt=pt.replace(".",""):Ce=pt.length}for(Ze=0;pt.charCodeAt(Ze)===48;Ze++);for(Xe=pt.length;pt.charCodeAt(--Xe)===48;);if(pt=pt.slice(Ze,++Xe)){if(Xe-=Ze,Ge&&Oe.DEBUG&&Xe>15&&(X>Uo||X!==Nr(X)))throw Error(Wi+ct.s*X);if((Ce=Ce-Ze-1)>Me)ct.c=ct.e=null;else if(Ce<Re)ct.c=[ct.e=0];else{if(ct.e=Ce,ct.c=[],Ze=(Ce+1)%yn,Ce<0&&(Ze+=yn),Ze<Xe){for(Ze&&ct.c.push(+pt.slice(0,Ze)),Xe-=yn;Ze<Xe;)ct.c.push(+pt.slice(Ze,Ze+=yn));Ze=yn-(pt=pt.slice(Ze)).length}else Ze-=Xe;for(;Ze--;pt+="0");ct.c.push(+pt)}}else ct.c=[ct.e=0]}Oe.clone=qo,Oe.ROUND_UP=0,Oe.ROUND_DOWN=1,Oe.ROUND_CEIL=2,Oe.ROUND_FLOOR=3,Oe.ROUND_HALF_UP=4,Oe.ROUND_HALF_DOWN=5,Oe.ROUND_HALF_EVEN=6,Oe.ROUND_HALF_CEIL=7,Oe.ROUND_HALF_FLOOR=8,Oe.EUCLID=9,Oe.config=Oe.set=function(X){var ce,be;if(X!=null)if(typeof X=="object"){if(X.hasOwnProperty(ce="DECIMAL_PLACES")&&(be=X[ce],r(be,0,Pn,ce),z=be),X.hasOwnProperty(ce="ROUNDING_MODE")&&(be=X[ce],r(be,0,8,ce),q=be),X.hasOwnProperty(ce="EXPONENTIAL_AT")&&(be=X[ce],be&&be.pop?(r(be[0],-Pn,0,ce),r(be[1],0,Pn,ce),J=be[0],ee=be[1]):(r(be,-Pn,Pn,ce),J=-(ee=be<0?-be:be))),X.hasOwnProperty(ce="RANGE"))if(be=X[ce],be&&be.pop)r(be[0],-Pn,-1,ce),r(be[1],1,Pn,ce),Re=be[0],Me=be[1];else if(r(be,-Pn,Pn,ce),be)Re=-(Me=be<0?-be:be);else throw Error(sr+ce+" cannot be zero: "+be);if(X.hasOwnProperty(ce="CRYPTO"))if(be=X[ce],be===!!be)if(be)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))ut=be;else throw ut=!be,Error(sr+"crypto unavailable");else ut=be;else throw Error(sr+ce+" not true or false: "+be);if(X.hasOwnProperty(ce="MODULO_MODE")&&(be=X[ce],r(be,0,9,ce),gt=be),X.hasOwnProperty(ce="POW_PRECISION")&&(be=X[ce],r(be,0,Pn,ce),Et=be),X.hasOwnProperty(ce="FORMAT"))if(be=X[ce],typeof be=="object")Wt=be;else throw Error(sr+ce+" not an object: "+be);if(X.hasOwnProperty(ce="ALPHABET"))if(be=X[ce],typeof be=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(be))mn=be.slice(0,10)=="0123456789",Zt=be;else throw Error(sr+ce+" invalid: "+be)}else throw Error(sr+"Object expected: "+X);return{DECIMAL_PLACES:z,ROUNDING_MODE:q,EXPONENTIAL_AT:[J,ee],RANGE:[Re,Me],CRYPTO:ut,MODULO_MODE:gt,POW_PRECISION:Et,FORMAT:Wt,ALPHABET:Zt}},Oe.isBigNumber=function(X){if(!X||X._isBigNumber!==!0)return!1;if(!Oe.DEBUG)return!0;var ce,be,ge=X.c,ke=X.e,Ce=X.s;e:if({}.toString.call(ge)=="[object Array]"){if((Ce===1||Ce===-1)&&ke>=-Pn&&ke<=Pn&&ke===Nr(ke)){if(ge[0]===0){if(ke===0&&ge.length===1)return!0;break e}if(ce=(ke+1)%yn,ce<1&&(ce+=yn),String(ge[0]).length==ce){for(ce=0;ce<ge.length;ce++)if(be=ge[ce],be<0||be>=Vi||be!==Nr(be))break e;if(be!==0)return!0}}}else if(ge===null&&ke===null&&(Ce===null||Ce===1||Ce===-1))return!0;throw Error(sr+"Invalid BigNumber: "+X)},Oe.maximum=Oe.max=function(){return nt(arguments,-1)},Oe.minimum=Oe.min=function(){return nt(arguments,1)},Oe.random=(function(){var X=9007199254740992,ce=Math.random()*X&2097151?function(){return Nr(Math.random()*X)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(be){var ge,ke,Ce,Ze,Ge,Xe=0,pt=[],ct=new Oe(B);if(be==null?be=z:r(be,0,Pn),Ze=Ei(be/yn),ut)if(crypto.getRandomValues){for(ge=crypto.getRandomValues(new Uint32Array(Ze*=2));Xe<Ze;)Ge=ge[Xe]*131072+(ge[Xe+1]>>>11),Ge>=9e15?(ke=crypto.getRandomValues(new Uint32Array(2)),ge[Xe]=ke[0],ge[Xe+1]=ke[1]):(pt.push(Ge%1e14),Xe+=2);Xe=Ze/2}else if(crypto.randomBytes){for(ge=crypto.randomBytes(Ze*=7);Xe<Ze;)Ge=(ge[Xe]&31)*281474976710656+ge[Xe+1]*1099511627776+ge[Xe+2]*4294967296+ge[Xe+3]*16777216+(ge[Xe+4]<<16)+(ge[Xe+5]<<8)+ge[Xe+6],Ge>=9e15?crypto.randomBytes(7).copy(ge,Xe):(pt.push(Ge%1e14),Xe+=7);Xe=Ze/7}else throw ut=!1,Error(sr+"crypto unavailable");if(!ut)for(;Xe<Ze;)Ge=ce(),Ge<9e15&&(pt[Xe++]=Ge%1e14);for(Ze=pt[--Xe],be%=yn,Ze&&be&&(Ge=Ha[yn-be],pt[Xe]=Nr(Ze/Ge)*Ge);pt[Xe]===0;pt.pop(),Xe--);if(Xe<0)pt=[Ce=0];else{for(Ce=-1;pt[0]===0;pt.splice(0,1),Ce-=yn);for(Xe=1,Ge=pt[0];Ge>=10;Ge/=10,Xe++);Xe<yn&&(Ce-=yn-Xe)}return ct.e=Ce,ct.c=pt,ct}})(),Oe.sum=function(){for(var X=1,ce=arguments,be=new Oe(ce[0]);X<ce.length;)be=be.plus(ce[X++]);return be},p=(function(){var X="0123456789";function ce(be,ge,ke,Ce){for(var Ze,Ge=[0],Xe,pt=0,ct=be.length;pt<ct;){for(Xe=Ge.length;Xe--;Ge[Xe]*=ge);for(Ge[0]+=Ce.indexOf(be.charAt(pt++)),Ze=0;Ze<Ge.length;Ze++)Ge[Ze]>ke-1&&(Ge[Ze+1]==null&&(Ge[Ze+1]=0),Ge[Ze+1]+=Ge[Ze]/ke|0,Ge[Ze]%=ke)}return Ge.reverse()}return function(be,ge,ke,Ce,Ze){var Ge,Xe,pt,ct,Dt,Xt,nn,rn,Kn=be.indexOf("."),Jn=z,Dn=q;for(Kn>=0&&(ct=Et,Et=0,be=be.replace(".",""),rn=new Oe(ge),Xt=rn.pow(be.length-Kn),Et=ct,rn.c=ce(T(Hr(Xt.c),Xt.e,"0"),10,ke,X),rn.e=rn.c.length),nn=ce(be,ge,ke,Ze?(Ge=Zt,X):(Ge=X,Zt)),pt=ct=nn.length;nn[--ct]==0;nn.pop());if(!nn[0])return Ge.charAt(0);if(Kn<0?--pt:(Xt.c=nn,Xt.e=pt,Xt.s=Ce,Xt=h(Xt,rn,Jn,Dn,ke),nn=Xt.c,Dt=Xt.r,pt=Xt.e),Xe=pt+Jn+1,Kn=nn[Xe],ct=ke/2,Dt=Dt||Xe<0||nn[Xe+1]!=null,Dt=Dn<4?(Kn!=null||Dt)&&(Dn==0||Dn==(Xt.s<0?3:2)):Kn>ct||Kn==ct&&(Dn==4||Dt||Dn==6&&nn[Xe-1]&1||Dn==(Xt.s<0?8:7)),Xe<1||!nn[0])be=Dt?T(Ge.charAt(1),-Jn,Ge.charAt(0)):Ge.charAt(0);else{if(nn.length=Xe,Dt)for(--ke;++nn[--Xe]>ke;)nn[Xe]=0,Xe||(++pt,nn=[1].concat(nn));for(ct=nn.length;!nn[--ct];);for(Kn=0,be="";Kn<=ct;be+=Ge.charAt(nn[Kn++]));be=T(be,pt,Ge.charAt(0))}return be}})(),h=(function(){function X(ge,ke,Ce){var Ze,Ge,Xe,pt,ct=0,Dt=ge.length,Xt=ke%as,nn=ke/as|0;for(ge=ge.slice();Dt--;)Xe=ge[Dt]%as,pt=ge[Dt]/as|0,Ze=nn*Xe+pt*Xt,Ge=Xt*Xe+Ze%as*as+ct,ct=(Ge/Ce|0)+(Ze/as|0)+nn*pt,ge[Dt]=Ge%Ce;return ct&&(ge=[ct].concat(ge)),ge}function ce(ge,ke,Ce,Ze){var Ge,Xe;if(Ce!=Ze)Xe=Ce>Ze?1:-1;else for(Ge=Xe=0;Ge<Ce;Ge++)if(ge[Ge]!=ke[Ge]){Xe=ge[Ge]>ke[Ge]?1:-1;break}return Xe}function be(ge,ke,Ce,Ze){for(var Ge=0;Ce--;)ge[Ce]-=Ge,Ge=ge[Ce]<ke[Ce]?1:0,ge[Ce]=Ge*Ze+ge[Ce]-ke[Ce];for(;!ge[0]&&ge.length>1;ge.splice(0,1));}return function(ge,ke,Ce,Ze,Ge){var Xe,pt,ct,Dt,Xt,nn,rn,Kn,Jn,Dn,tr,br,xl,Ll,yr,ri,Zo,Ls=ge.s==ke.s?1:-1,wi=ge.c,xr=ke.c;if(!wi||!wi[0]||!xr||!xr[0])return new Oe(!ge.s||!ke.s||(wi?xr&&wi[0]==xr[0]:!xr)?NaN:wi&&wi[0]==0||!xr?Ls*0:Ls/0);for(Kn=new Oe(Ls),Jn=Kn.c=[],pt=ge.e-ke.e,Ls=Ce+pt+1,Ge||(Ge=Vi,pt=Qr(ge.e/yn)-Qr(ke.e/yn),Ls=Ls/yn|0),ct=0;xr[ct]==(wi[ct]||0);ct++);if(xr[ct]>(wi[ct]||0)&&pt--,Ls<0)Jn.push(1),Dt=!0;else{for(Ll=wi.length,ri=xr.length,ct=0,Ls+=2,Xt=Nr(Ge/(xr[0]+1)),Xt>1&&(xr=X(xr,Xt,Ge),wi=X(wi,Xt,Ge),ri=xr.length,Ll=wi.length),xl=ri,Dn=wi.slice(0,ri),tr=Dn.length;tr<ri;Dn[tr++]=0);Zo=xr.slice(),Zo=[0].concat(Zo),yr=xr[0],xr[1]>=Ge/2&&yr++;do{if(Xt=0,Xe=ce(xr,Dn,ri,tr),Xe<0){if(br=Dn[0],ri!=tr&&(br=br*Ge+(Dn[1]||0)),Xt=Nr(br/yr),Xt>1)for(Xt>=Ge&&(Xt=Ge-1),nn=X(xr,Xt,Ge),rn=nn.length,tr=Dn.length;ce(nn,Dn,rn,tr)==1;)Xt--,be(nn,ri<rn?Zo:xr,rn,Ge),rn=nn.length,Xe=1;else Xt==0&&(Xe=Xt=1),nn=xr.slice(),rn=nn.length;if(rn<tr&&(nn=[0].concat(nn)),be(Dn,nn,tr,Ge),tr=Dn.length,Xe==-1)for(;ce(xr,Dn,ri,tr)<1;)Xt++,be(Dn,ri<tr?Zo:xr,tr,Ge),tr=Dn.length}else Xe===0&&(Xt++,Dn=[0]);Jn[ct++]=Xt,Dn[0]?Dn[tr++]=wi[xl]||0:(Dn=[wi[xl]],tr=1)}while((xl++<Ll||Dn[0]!=null)&&Ls--);Dt=Dn[0]!=null,Jn[0]||Jn.splice(0,1)}if(Ge==Vi){for(ct=1,Ls=Jn[0];Ls>=10;Ls/=10,ct++);rt(Kn,Ce+(Kn.e=ct+pt*yn-1)+1,Ze,Dt)}else Kn.e=pt,Kn.r=+Dt;return Kn}})();function Ue(X,ce,be,ge){var ke,Ce,Ze,Ge,Xe;if(be==null?be=q:r(be,0,8),!X.c)return X.toString();if(ke=X.c[0],Ze=X.e,ce==null)Xe=Hr(X.c),Xe=ge==1||ge==2&&(Ze<=J||Ze>=ee)?w(Xe,Ze):T(Xe,Ze,"0");else if(X=rt(new Oe(X),ce,be),Ce=X.e,Xe=Hr(X.c),Ge=Xe.length,ge==1||ge==2&&(ce<=Ce||Ce<=J)){for(;Ge<ce;Xe+="0",Ge++);Xe=w(Xe,Ce)}else if(ce-=Ze,Xe=T(Xe,Ce,"0"),Ce+1>Ge){if(--ce>0)for(Xe+=".";ce--;Xe+="0");}else if(ce+=Ce-Ge,ce>0)for(Ce+1==Ge&&(Xe+=".");ce--;Xe+="0");return X.s<0&&ke?"-"+Xe:Xe}function nt(X,ce){for(var be,ge,ke=1,Ce=new Oe(X[0]);ke<X.length;ke++)ge=new Oe(X[ke]),(!ge.s||(be=Fs(Ce,ge))===ce||be===0&&Ce.s===ce)&&(Ce=ge);return Ce}function yt(X,ce,be){for(var ge=1,ke=ce.length;!ce[--ke];ce.pop());for(ke=ce[0];ke>=10;ke/=10,ge++);return(be=ge+be*yn-1)>Me?X.c=X.e=null:be<Re?X.c=[X.e=0]:(X.e=be,X.c=ce),X}v=(function(){var X=/^(-?)0([xbo])(?=\w[\w.]*$)/i,ce=/^([^.]+)\.$/,be=/^\.([^.]+)$/,ge=/^-?(Infinity|NaN)$/,ke=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(Ce,Ze,Ge,Xe){var pt,ct=Ge?Ze:Ze.replace(ke,"");if(ge.test(ct))Ce.s=isNaN(ct)?null:ct<0?-1:1;else{if(!Ge&&(ct=ct.replace(X,function(Dt,Xt,nn){return pt=(nn=nn.toLowerCase())=="x"?16:nn=="b"?2:8,!Xe||Xe==pt?Xt:Dt}),Xe&&(pt=Xe,ct=ct.replace(ce,"$1").replace(be,"0.$1")),Ze!=ct))return new Oe(ct,pt);if(Oe.DEBUG)throw Error(sr+"Not a"+(Xe?" base "+Xe:"")+" number: "+Ze);Ce.s=null}Ce.c=Ce.e=null}})();function rt(X,ce,be,ge){var ke,Ce,Ze,Ge,Xe,pt,ct,Dt=X.c,Xt=Ha;if(Dt){e:{for(ke=1,Ge=Dt[0];Ge>=10;Ge/=10,ke++);if(Ce=ce-ke,Ce<0)Ce+=yn,Ze=ce,Xe=Dt[pt=0],ct=Nr(Xe/Xt[ke-Ze-1]%10);else if(pt=Ei((Ce+1)/yn),pt>=Dt.length)if(ge){for(;Dt.length<=pt;Dt.push(0));Xe=ct=0,ke=1,Ce%=yn,Ze=Ce-yn+1}else break e;else{for(Xe=Ge=Dt[pt],ke=1;Ge>=10;Ge/=10,ke++);Ce%=yn,Ze=Ce-yn+ke,ct=Ze<0?0:Nr(Xe/Xt[ke-Ze-1]%10)}if(ge=ge||ce<0||Dt[pt+1]!=null||(Ze<0?Xe:Xe%Xt[ke-Ze-1]),ge=be<4?(ct||ge)&&(be==0||be==(X.s<0?3:2)):ct>5||ct==5&&(be==4||ge||be==6&&(Ce>0?Ze>0?Xe/Xt[ke-Ze]:0:Dt[pt-1])%10&1||be==(X.s<0?8:7)),ce<1||!Dt[0])return Dt.length=0,ge?(ce-=X.e+1,Dt[0]=Xt[(yn-ce%yn)%yn],X.e=-ce||0):Dt[0]=X.e=0,X;if(Ce==0?(Dt.length=pt,Ge=1,pt--):(Dt.length=pt+1,Ge=Xt[yn-Ce],Dt[pt]=Ze>0?Nr(Xe/Xt[ke-Ze]%Xt[Ze])*Ge:0),ge)for(;;)if(pt==0){for(Ce=1,Ze=Dt[0];Ze>=10;Ze/=10,Ce++);for(Ze=Dt[0]+=Ge,Ge=1;Ze>=10;Ze/=10,Ge++);Ce!=Ge&&(X.e++,Dt[0]==Vi&&(Dt[0]=1));break}else{if(Dt[pt]+=Ge,Dt[pt]!=Vi)break;Dt[pt--]=0,Ge=1}for(Ce=Dt.length;Dt[--Ce]===0;Dt.pop());}X.e>Me?X.c=X.e=null:X.e<Re&&(X.c=[X.e=0])}return X}function dt(X){var ce,be=X.e;return be===null?X.toString():(ce=Hr(X.c),ce=be<=J||be>=ee?w(ce,be):T(ce,be,"0"),X.s<0?"-"+ce:ce)}return k.absoluteValue=k.abs=function(){var X=new Oe(this);return X.s<0&&(X.s=1),X},k.comparedTo=function(X,ce){return Fs(this,new Oe(X,ce))},k.decimalPlaces=k.dp=function(X,ce){var be,ge,ke,Ce=this;if(X!=null)return r(X,0,Pn),ce==null?ce=q:r(ce,0,8),rt(new Oe(Ce),X+Ce.e+1,ce);if(!(be=Ce.c))return null;if(ge=((ke=be.length-1)-Qr(this.e/yn))*yn,ke=be[ke])for(;ke%10==0;ke/=10,ge--);return ge<0&&(ge=0),ge},k.dividedBy=k.div=function(X,ce){return h(this,new Oe(X,ce),z,q)},k.dividedToIntegerBy=k.idiv=function(X,ce){return h(this,new Oe(X,ce),0,1)},k.exponentiatedBy=k.pow=function(X,ce){var be,ge,ke,Ce,Ze,Ge,Xe,pt,ct,Dt=this;if(X=new Oe(X),X.c&&!X.isInteger())throw Error(sr+"Exponent not an integer: "+dt(X));if(ce!=null&&(ce=new Oe(ce)),Ge=X.e>14,!Dt.c||!Dt.c[0]||Dt.c[0]==1&&!Dt.e&&Dt.c.length==1||!X.c||!X.c[0])return ct=new Oe(Math.pow(+dt(Dt),Ge?X.s*(2-f(X)):+dt(X))),ce?ct.mod(ce):ct;if(Xe=X.s<0,ce){if(ce.c?!ce.c[0]:!ce.s)return new Oe(NaN);ge=!Xe&&Dt.isInteger()&&ce.isInteger(),ge&&(Dt=Dt.mod(ce))}else{if(X.e>9&&(Dt.e>0||Dt.e<-1||(Dt.e==0?Dt.c[0]>1||Ge&&Dt.c[1]>=24e7:Dt.c[0]<8e13||Ge&&Dt.c[0]<=9999975e7)))return Ce=Dt.s<0&&f(X)?-0:0,Dt.e>-1&&(Ce=1/Ce),new Oe(Xe?1/Ce:Ce);Et&&(Ce=Ei(Et/yn+2))}for(Ge?(be=new Oe(.5),Xe&&(X.s=1),pt=f(X)):(ke=Math.abs(+dt(X)),pt=ke%2),ct=new Oe(B);;){if(pt){if(ct=ct.times(Dt),!ct.c)break;Ce?ct.c.length>Ce&&(ct.c.length=Ce):ge&&(ct=ct.mod(ce))}if(ke){if(ke=Nr(ke/2),ke===0)break;pt=ke%2}else if(X=X.times(be),rt(X,X.e+1,1),X.e>14)pt=f(X);else{if(ke=+dt(X),ke===0)break;pt=ke%2}Dt=Dt.times(Dt),Ce?Dt.c&&Dt.c.length>Ce&&(Dt.c.length=Ce):ge&&(Dt=Dt.mod(ce))}return ge?ct:(Xe&&(ct=B.div(ct)),ce?ct.mod(ce):Ce?rt(ct,Et,q,Ze):ct)},k.integerValue=function(X){var ce=new Oe(this);return X==null?X=q:r(X,0,8),rt(ce,ce.e+1,X)},k.isEqualTo=k.eq=function(X,ce){return Fs(this,new Oe(X,ce))===0},k.isFinite=function(){return!!this.c},k.isGreaterThan=k.gt=function(X,ce){return Fs(this,new Oe(X,ce))>0},k.isGreaterThanOrEqualTo=k.gte=function(X,ce){return(ce=Fs(this,new Oe(X,ce)))===1||ce===0},k.isInteger=function(){return!!this.c&&Qr(this.e/yn)>this.c.length-2},k.isLessThan=k.lt=function(X,ce){return Fs(this,new Oe(X,ce))<0},k.isLessThanOrEqualTo=k.lte=function(X,ce){return(ce=Fs(this,new Oe(X,ce)))===-1||ce===0},k.isNaN=function(){return!this.s},k.isNegative=function(){return this.s<0},k.isPositive=function(){return this.s>0},k.isZero=function(){return!!this.c&&this.c[0]==0},k.minus=function(X,ce){var be,ge,ke,Ce,Ze=this,Ge=Ze.s;if(X=new Oe(X,ce),ce=X.s,!Ge||!ce)return new Oe(NaN);if(Ge!=ce)return X.s=-ce,Ze.plus(X);var Xe=Ze.e/yn,pt=X.e/yn,ct=Ze.c,Dt=X.c;if(!Xe||!pt){if(!ct||!Dt)return ct?(X.s=-ce,X):new Oe(Dt?Ze:NaN);if(!ct[0]||!Dt[0])return Dt[0]?(X.s=-ce,X):new Oe(ct[0]?Ze:q==3?-0:0)}if(Xe=Qr(Xe),pt=Qr(pt),ct=ct.slice(),Ge=Xe-pt){for((Ce=Ge<0)?(Ge=-Ge,ke=ct):(pt=Xe,ke=Dt),ke.reverse(),ce=Ge;ce--;ke.push(0));ke.reverse()}else for(ge=(Ce=(Ge=ct.length)<(ce=Dt.length))?Ge:ce,Ge=ce=0;ce<ge;ce++)if(ct[ce]!=Dt[ce]){Ce=ct[ce]<Dt[ce];break}if(Ce&&(ke=ct,ct=Dt,Dt=ke,X.s=-X.s),ce=(ge=Dt.length)-(be=ct.length),ce>0)for(;ce--;ct[be++]=0);for(ce=Vi-1;ge>Ge;){if(ct[--ge]<Dt[ge]){for(be=ge;be&&!ct[--be];ct[be]=ce);--ct[be],ct[ge]+=Vi}ct[ge]-=Dt[ge]}for(;ct[0]==0;ct.splice(0,1),--pt);return ct[0]?yt(X,ct,pt):(X.s=q==3?-1:1,X.c=[X.e=0],X)},k.modulo=k.mod=function(X,ce){var be,ge,ke=this;return X=new Oe(X,ce),!ke.c||!X.s||X.c&&!X.c[0]?new Oe(NaN):!X.c||ke.c&&!ke.c[0]?new Oe(ke):(gt==9?(ge=X.s,X.s=1,be=h(ke,X,0,3),X.s=ge,be.s*=ge):be=h(ke,X,0,gt),X=ke.minus(be.times(X)),!X.c[0]&&gt==1&&(X.s=ke.s),X)},k.multipliedBy=k.times=function(X,ce){var be,ge,ke,Ce,Ze,Ge,Xe,pt,ct,Dt,Xt,nn,rn,Kn,Jn,Dn=this,tr=Dn.c,br=(X=new Oe(X,ce)).c;if(!tr||!br||!tr[0]||!br[0])return!Dn.s||!X.s||tr&&!tr[0]&&!br||br&&!br[0]&&!tr?X.c=X.e=X.s=null:(X.s*=Dn.s,!tr||!br?X.c=X.e=null:(X.c=[0],X.e=0)),X;for(ge=Qr(Dn.e/yn)+Qr(X.e/yn),X.s*=Dn.s,Xe=tr.length,Dt=br.length,Xe<Dt&&(rn=tr,tr=br,br=rn,ke=Xe,Xe=Dt,Dt=ke),ke=Xe+Dt,rn=[];ke--;rn.push(0));for(Kn=Vi,Jn=as,ke=Dt;--ke>=0;){for(be=0,Xt=br[ke]%Jn,nn=br[ke]/Jn|0,Ze=Xe,Ce=ke+Ze;Ce>ke;)pt=tr[--Ze]%Jn,ct=tr[Ze]/Jn|0,Ge=nn*pt+ct*Xt,pt=Xt*pt+Ge%Jn*Jn+rn[Ce]+be,be=(pt/Kn|0)+(Ge/Jn|0)+nn*ct,rn[Ce--]=pt%Kn;rn[Ce]=be}return be?++ge:rn.splice(0,1),yt(X,rn,ge)},k.negated=function(){var X=new Oe(this);return X.s=-X.s||null,X},k.plus=function(X,ce){var be,ge=this,ke=ge.s;if(X=new Oe(X,ce),ce=X.s,!ke||!ce)return new Oe(NaN);if(ke!=ce)return X.s=-ce,ge.minus(X);var Ce=ge.e/yn,Ze=X.e/yn,Ge=ge.c,Xe=X.c;if(!Ce||!Ze){if(!Ge||!Xe)return new Oe(ke/0);if(!Ge[0]||!Xe[0])return Xe[0]?X:new Oe(Ge[0]?ge:ke*0)}if(Ce=Qr(Ce),Ze=Qr(Ze),Ge=Ge.slice(),ke=Ce-Ze){for(ke>0?(Ze=Ce,be=Xe):(ke=-ke,be=Ge),be.reverse();ke--;be.push(0));be.reverse()}for(ke=Ge.length,ce=Xe.length,ke-ce<0&&(be=Xe,Xe=Ge,Ge=be,ce=ke),ke=0;ce;)ke=(Ge[--ce]=Ge[ce]+Xe[ce]+ke)/Vi|0,Ge[ce]=Vi===Ge[ce]?0:Ge[ce]%Vi;return ke&&(Ge=[ke].concat(Ge),++Ze),yt(X,Ge,Ze)},k.precision=k.sd=function(X,ce){var be,ge,ke,Ce=this;if(X!=null&&X!==!!X)return r(X,1,Pn),ce==null?ce=q:r(ce,0,8),rt(new Oe(Ce),X,ce);if(!(be=Ce.c))return null;if(ke=be.length-1,ge=ke*yn+1,ke=be[ke]){for(;ke%10==0;ke/=10,ge--);for(ke=be[0];ke>=10;ke/=10,ge++);}return X&&Ce.e+1>ge&&(ge=Ce.e+1),ge},k.shiftedBy=function(X){return r(X,-Uo,Uo),this.times("1e"+X)},k.squareRoot=k.sqrt=function(){var X,ce,be,ge,ke,Ce=this,Ze=Ce.c,Ge=Ce.s,Xe=Ce.e,pt=z+4,ct=new Oe("0.5");if(Ge!==1||!Ze||!Ze[0])return new Oe(!Ge||Ge<0&&(!Ze||Ze[0])?NaN:Ze?Ce:1/0);if(Ge=Math.sqrt(+dt(Ce)),Ge==0||Ge==1/0?(ce=Hr(Ze),(ce.length+Xe)%2==0&&(ce+="0"),Ge=Math.sqrt(+ce),Xe=Qr((Xe+1)/2)-(Xe<0||Xe%2),Ge==1/0?ce="5e"+Xe:(ce=Ge.toExponential(),ce=ce.slice(0,ce.indexOf("e")+1)+Xe),be=new Oe(ce)):be=new Oe(Ge+""),be.c[0]){for(Xe=be.e,Ge=Xe+pt,Ge<3&&(Ge=0);;)if(ke=be,be=ct.times(ke.plus(h(Ce,ke,pt,1))),Hr(ke.c).slice(0,Ge)===(ce=Hr(be.c)).slice(0,Ge))if(be.e<Xe&&--Ge,ce=ce.slice(Ge-3,Ge+1),ce=="9999"||!ge&&ce=="4999"){if(!ge&&(rt(ke,ke.e+z+2,0),ke.times(ke).eq(Ce))){be=ke;break}pt+=4,Ge+=4,ge=1}else{(!+ce||!+ce.slice(1)&&ce.charAt(0)=="5")&&(rt(be,be.e+z+2,1),X=!be.times(be).eq(Ce));break}}return rt(be,be.e+z+1,q,X)},k.toExponential=function(X,ce){return X!=null&&(r(X,0,Pn),X++),Ue(this,X,ce,1)},k.toFixed=function(X,ce){return X!=null&&(r(X,0,Pn),X=X+this.e+1),Ue(this,X,ce)},k.toFormat=function(X,ce,be){var ge,ke=this;if(be==null)X!=null&&ce&&typeof ce=="object"?(be=ce,ce=null):X&&typeof X=="object"?(be=X,X=ce=null):be=Wt;else if(typeof be!="object")throw Error(sr+"Argument not an object: "+be);if(ge=ke.toFixed(X,ce),ke.c){var Ce,Ze=ge.split("."),Ge=+be.groupSize,Xe=+be.secondaryGroupSize,pt=be.groupSeparator||"",ct=Ze[0],Dt=Ze[1],Xt=ke.s<0,nn=Xt?ct.slice(1):ct,rn=nn.length;if(Xe&&(Ce=Ge,Ge=Xe,Xe=Ce,rn-=Ce),Ge>0&&rn>0){for(Ce=rn%Ge||Ge,ct=nn.substr(0,Ce);Ce<rn;Ce+=Ge)ct+=pt+nn.substr(Ce,Ge);Xe>0&&(ct+=pt+nn.slice(Ce)),Xt&&(ct="-"+ct)}ge=Dt?ct+(be.decimalSeparator||"")+((Xe=+be.fractionGroupSize)?Dt.replace(new RegExp("\\d{"+Xe+"}\\B","g"),"$&"+(be.fractionGroupSeparator||"")):Dt):ct}return(be.prefix||"")+ge+(be.suffix||"")},k.toFraction=function(X){var ce,be,ge,ke,Ce,Ze,Ge,Xe,pt,ct,Dt,Xt,nn=this,rn=nn.c;if(X!=null&&(Ge=new Oe(X),!Ge.isInteger()&&(Ge.c||Ge.s!==1)||Ge.lt(B)))throw Error(sr+"Argument "+(Ge.isInteger()?"out of range: ":"not an integer: ")+dt(Ge));if(!rn)return new Oe(nn);for(ce=new Oe(B),pt=be=new Oe(B),ge=Xe=new Oe(B),Xt=Hr(rn),Ce=ce.e=Xt.length-nn.e-1,ce.c[0]=Ha[(Ze=Ce%yn)<0?yn+Ze:Ze],X=!X||Ge.comparedTo(ce)>0?Ce>0?ce:pt:Ge,Ze=Me,Me=1/0,Ge=new Oe(Xt),Xe.c[0]=0;ct=h(Ge,ce,0,1),ke=be.plus(ct.times(ge)),ke.comparedTo(X)!=1;)be=ge,ge=ke,pt=Xe.plus(ct.times(ke=pt)),Xe=ke,ce=Ge.minus(ct.times(ke=ce)),Ge=ke;return ke=h(X.minus(be),ge,0,1),Xe=Xe.plus(ke.times(pt)),be=be.plus(ke.times(ge)),Xe.s=pt.s=nn.s,Ce=Ce*2,Dt=h(pt,ge,Ce,q).minus(nn).abs().comparedTo(h(Xe,be,Ce,q).minus(nn).abs())<1?[pt,ge]:[Xe,be],Me=Ze,Dt},k.toNumber=function(){return+dt(this)},k.toPrecision=function(X,ce){return X!=null&&r(X,1,Pn),Ue(this,X,ce,2)},k.toString=function(X){var ce,be=this,ge=be.s,ke=be.e;return ke===null?ge?(ce="Infinity",ge<0&&(ce="-"+ce)):ce="NaN":(X==null?ce=ke<=J||ke>=ee?w(Hr(be.c),ke):T(Hr(be.c),ke,"0"):X===10&&mn?(be=rt(new Oe(be),z+ke+1,q),ce=T(Hr(be.c),be.e,"0")):(r(X,2,Zt.length,"Base"),ce=p(T(Hr(be.c),ke,"0"),10,X,ge,!0)),ge<0&&be.c[0]&&(ce="-"+ce)),ce},k.valueOf=k.toJSON=function(){return dt(this)},k._isBigNumber=!0,k[Symbol.toStringTag]="BigNumber",k[Symbol.for("nodejs.util.inspect.custom")]=k.valueOf,s!=null&&Oe.set(s),Oe}function Qr(s){var h=s|0;return s>0||s===h?h:h-1}function Hr(s){for(var h,p,v=1,k=s.length,B=s[0]+"";v<k;){for(h=s[v++]+"",p=yn-h.length;p--;h="0"+h);B+=h}for(k=B.length;B.charCodeAt(--k)===48;);return B.slice(0,k+1||1)}function Fs(s,h){var p,v,k=s.c,B=h.c,z=s.s,q=h.s,J=s.e,ee=h.e;if(!z||!q)return null;if(p=k&&!k[0],v=B&&!B[0],p||v)return p?v?0:-q:z;if(z!=q)return z;if(p=z<0,v=J==ee,!k||!B)return v?0:!k^p?1:-1;if(!v)return J>ee^p?1:-1;for(q=(J=k.length)<(ee=B.length)?J:ee,z=0;z<q;z++)if(k[z]!=B[z])return k[z]>B[z]^p?1:-1;return J==ee?0:J>ee^p?1:-1}function r(s,h,p,v){if(s<h||s>p||s!==Nr(s))throw Error(sr+(v||"Argument")+(typeof s=="number"?s<h||s>p?" out of range: ":" not an integer: ":" not a primitive number: ")+String(s))}function f(s){var h=s.c.length-1;return Qr(s.e/yn)==h&&s.c[h]%2!=0}function w(s,h){return(s.length>1?s.charAt(0)+"."+s.slice(1):s)+(h<0?"e":"e+")+h}function T(s,h,p){var v,k;if(h<0){for(k=p+".";++h;k+=p);s=k+s}else if(v=s.length,++h>v){for(k=p,h-=v;--h;k+=p);s+=k}else h<v&&(s=s.slice(0,h)+"."+s.slice(h));return s}var V=qo(),le=V,He=class{key;left=null;right=null;constructor(s){this.key=s}},mt=class extends He{constructor(s){super(s)}},xt=class{size=0;modificationCount=0;splayCount=0;splay(s){let h=this.root;if(h==null)return this.compare(s,s),-1;let p=null,v=null,k=null,B=null,z=h,q=this.compare,J;for(;;)if(J=q(z.key,s),J>0){let ee=z.left;if(ee==null||(J=q(ee.key,s),J>0&&(z.left=ee.right,ee.right=z,z=ee,ee=z.left,ee==null)))break;p==null?v=z:p.left=z,p=z,z=ee}else if(J<0){let ee=z.right;if(ee==null||(J=q(ee.key,s),J<0&&(z.right=ee.left,ee.left=z,z=ee,ee=z.right,ee==null)))break;k==null?B=z:k.right=z,k=z,z=ee}else break;return k!=null&&(k.right=z.left,z.left=B),p!=null&&(p.left=z.right,z.right=v),this.root!==z&&(this.root=z,this.splayCount++),J}splayMin(s){let h=s,p=h.left;for(;p!=null;){let v=p;h.left=v.right,v.right=h,h=v,p=h.left}return h}splayMax(s){let h=s,p=h.right;for(;p!=null;){let v=p;h.right=v.left,v.left=h,h=v,p=h.right}return h}_delete(s){if(this.root==null||this.splay(s)!=0)return null;let h=this.root,p=h,v=h.left;if(this.size--,v==null)this.root=h.right;else{let k=h.right;h=this.splayMax(v),h.right=k,this.root=h}return this.modificationCount++,p}addNewRoot(s,h){this.size++,this.modificationCount++;let p=this.root;if(p==null){this.root=s;return}h<0?(s.left=p,s.right=p.right,p.right=null):(s.right=p,s.left=p.left,p.left=null),this.root=s}_first(){let s=this.root;return s==null?null:(this.root=this.splayMin(s),this.root)}_last(){let s=this.root;return s==null?null:(this.root=this.splayMax(s),this.root)}clear(){this.root=null,this.size=0,this.modificationCount++}has(s){return this.validKey(s)&&this.splay(s)==0}defaultCompare(){return(s,h)=>s<h?-1:s>h?1:0}wrap(){return{getRoot:()=>this.root,setRoot:s=>{this.root=s},getSize:()=>this.size,getModificationCount:()=>this.modificationCount,getSplayCount:()=>this.splayCount,setSplayCount:s=>{this.splayCount=s},splay:s=>this.splay(s),has:s=>this.has(s)}}},Rt=class Sh extends xt{root=null;compare;validKey;constructor(h,p){super(),this.compare=h??this.defaultCompare(),this.validKey=p??(v=>v!=null&&v!=null)}delete(h){return this.validKey(h)?this._delete(h)!=null:!1}deleteAll(h){for(let p of h)this.delete(p)}forEach(h){let p=this[Symbol.iterator](),v;for(;v=p.next(),!v.done;)h(v.value,v.value,this)}add(h){let p=this.splay(h);return p!=0&&this.addNewRoot(new mt(h),p),this}addAndReturn(h){let p=this.splay(h);return p!=0&&this.addNewRoot(new mt(h),p),this.root.key}addAll(h){for(let p of h)this.add(p)}isEmpty(){return this.root==null}isNotEmpty(){return this.root!=null}single(){if(this.size==0)throw"Bad state: No element";if(this.size>1)throw"Bad state: Too many element";return this.root.key}first(){if(this.size==0)throw"Bad state: No element";return this._first().key}last(){if(this.size==0)throw"Bad state: No element";return this._last().key}lastBefore(h){if(h==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(h)<0)return this.root.key;let p=this.root.left;if(p==null)return null;let v=p.right;for(;v!=null;)p=v,v=p.right;return p.key}firstAfter(h){if(h==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(h)>0)return this.root.key;let p=this.root.right;if(p==null)return null;let v=p.left;for(;v!=null;)p=v,v=p.left;return p.key}retainAll(h){let p=new Sh(this.compare,this.validKey),v=this.modificationCount;for(let k of h){if(v!=this.modificationCount)throw"Concurrent modification during iteration.";this.validKey(k)&&this.splay(k)==0&&p.add(this.root.key)}p.size!=this.size&&(this.root=p.root,this.size=p.size,this.modificationCount++)}lookup(h){return!this.validKey(h)||this.splay(h)!=0?null:this.root.key}intersection(h){let p=new Sh(this.compare,this.validKey);for(let v of this)h.has(v)&&p.add(v);return p}difference(h){let p=new Sh(this.compare,this.validKey);for(let v of this)h.has(v)||p.add(v);return p}union(h){let p=this.clone();return p.addAll(h),p}clone(){let h=new Sh(this.compare,this.validKey);return h.size=this.size,h.root=this.copyNode(this.root),h}copyNode(h){if(h==null)return null;function p(k,B){let z,q;do{if(z=k.left,q=k.right,z!=null){let J=new mt(z.key);B.left=J,p(z,J)}if(q!=null){let J=new mt(q.key);B.right=J,k=q,B=J}}while(q!=null)}let v=new mt(h.key);return p(h,v),v}toSet(){return this.clone()}entries(){return new On(this.wrap())}keys(){return this[Symbol.iterator]()}values(){return this[Symbol.iterator]()}[Symbol.iterator](){return new pn(this.wrap())}[Symbol.toStringTag]="[object Set]"},Yt=class{tree;path=new Array;modificationCount=null;splayCount;constructor(s){this.tree=s,this.splayCount=s.getSplayCount()}[Symbol.iterator](){return this}next(){return this.moveNext()?{done:!1,value:this.current()}:{done:!0,value:null}}current(){if(!this.path.length)return null;let s=this.path[this.path.length-1];return this.getValue(s)}rebuildPath(s){this.path.splice(0,this.path.length),this.tree.splay(s),this.path.push(this.tree.getRoot()),this.splayCount=this.tree.getSplayCount()}findLeftMostDescendent(s){for(;s!=null;)this.path.push(s),s=s.left}moveNext(){if(this.modificationCount!=this.tree.getModificationCount()){if(this.modificationCount==null){this.modificationCount=this.tree.getModificationCount();let p=this.tree.getRoot();for(;p!=null;)this.path.push(p),p=p.left;return this.path.length>0}throw"Concurrent modification during iteration."}if(!this.path.length)return!1;this.splayCount!=this.tree.getSplayCount()&&this.rebuildPath(this.path[this.path.length-1].key);let s=this.path[this.path.length-1],h=s.right;if(h!=null){for(;h!=null;)this.path.push(h),h=h.left;return!0}for(this.path.pop();this.path.length&&this.path[this.path.length-1].right===s;)s=this.path.pop();return this.path.length>0}},pn=class extends Yt{getValue(s){return s.key}},On=class extends Yt{getValue(s){return[s.key,s.key]}},di=s=>s,Wr=s=>{if(s){let h=new Rt(xa(s)),p=new Rt(xa(s)),v=(B,z)=>z.addAndReturn(B),k=B=>({x:v(B.x,h),y:v(B.y,p)});return k({x:new le(0),y:new le(0)}),k}return di},Pi=s=>({set:h=>{Pr=Pi(h)},reset:()=>Pi(s),compare:xa(s),snap:Wr(s),orient:Rs(s)}),Pr=Pi(),ia=(s,h)=>s.ll.x.isLessThanOrEqualTo(h.x)&&h.x.isLessThanOrEqualTo(s.ur.x)&&s.ll.y.isLessThanOrEqualTo(h.y)&&h.y.isLessThanOrEqualTo(s.ur.y),Go=(s,h)=>{if(h.ur.x.isLessThan(s.ll.x)||s.ur.x.isLessThan(h.ll.x)||h.ur.y.isLessThan(s.ll.y)||s.ur.y.isLessThan(h.ll.y))return null;let p=s.ll.x.isLessThan(h.ll.x)?h.ll.x:s.ll.x,v=s.ur.x.isLessThan(h.ur.x)?s.ur.x:h.ur.x,k=s.ll.y.isLessThan(h.ll.y)?h.ll.y:s.ll.y,B=s.ur.y.isLessThan(h.ur.y)?s.ur.y:h.ur.y;return{ll:{x:p,y:k},ur:{x:v,y:B}}},ei=(s,h)=>s.x.times(h.y).minus(s.y.times(h.x)),os=(s,h)=>s.x.times(h.x).plus(s.y.times(h.y)),ti=s=>os(s,s).sqrt(),sa=(s,h,p)=>{let v={x:h.x.minus(s.x),y:h.y.minus(s.y)},k={x:p.x.minus(s.x),y:p.y.minus(s.y)};return ei(k,v).div(ti(k)).div(ti(v))},ho=(s,h,p)=>{let v={x:h.x.minus(s.x),y:h.y.minus(s.y)},k={x:p.x.minus(s.x),y:p.y.minus(s.y)};return os(k,v).div(ti(k)).div(ti(v))},Un=(s,h,p)=>h.y.isZero()?null:{x:s.x.plus(h.x.div(h.y).times(p.minus(s.y))),y:p},ni=(s,h,p)=>h.x.isZero()?null:{x:p,y:s.y.plus(h.y.div(h.x).times(p.minus(s.x)))},nu=(s,h,p,v)=>{if(h.x.isZero())return ni(p,v,s.x);if(v.x.isZero())return ni(s,h,p.x);if(h.y.isZero())return Un(p,v,s.y);if(v.y.isZero())return Un(s,h,p.y);let k=ei(h,v);if(k.isZero())return null;let B={x:p.x.minus(s.x),y:p.y.minus(s.y)},z=ei(B,h).div(k),q=ei(B,v).div(k),J=s.x.plus(q.times(h.x)),ee=p.x.plus(z.times(v.x)),Re=s.y.plus(q.times(h.y)),Me=p.y.plus(z.times(v.y)),ut=J.plus(ee).div(2),gt=Re.plus(Me).div(2);return{x:ut,y:gt}},aa=class Pg{point;isLeft;segment;otherSE;consumedBy;static compare(h,p){let v=Pg.comparePoints(h.point,p.point);return v!==0?v:(h.point!==p.point&&h.link(p),h.isLeft!==p.isLeft?h.isLeft?1:-1:js.compare(h.segment,p.segment))}static comparePoints(h,p){return h.x.isLessThan(p.x)?-1:h.x.isGreaterThan(p.x)?1:h.y.isLessThan(p.y)?-1:h.y.isGreaterThan(p.y)?1:0}constructor(h,p){h.events===void 0?h.events=[this]:h.events.push(this),this.point=h,this.isLeft=p}link(h){if(h.point===this.point)throw new Error("Tried to link already linked events");let p=h.point.events;for(let v=0,k=p.length;v<k;v++){let B=p[v];this.point.events.push(B),B.point=this.point}this.checkForConsuming()}checkForConsuming(){let h=this.point.events.length;for(let p=0;p<h;p++){let v=this.point.events[p];if(v.segment.consumedBy===void 0)for(let k=p+1;k<h;k++){let B=this.point.events[k];B.consumedBy===void 0&&v.otherSE.point.events===B.otherSE.point.events&&v.segment.consume(B.segment)}}}getAvailableLinkedEvents(){let h=[];for(let p=0,v=this.point.events.length;p<v;p++){let k=this.point.events[p];k!==this&&!k.segment.ringOut&&k.segment.isInResult()&&h.push(k)}return h}getLeftmostComparator(h){let p=new Map,v=k=>{let B=k.otherSE;p.set(k,{sine:sa(this.point,h.point,B.point),cosine:ho(this.point,h.point,B.point)})};return(k,B)=>{p.has(k)||v(k),p.has(B)||v(B);let{sine:z,cosine:q}=p.get(k),{sine:J,cosine:ee}=p.get(B);return z.isGreaterThanOrEqualTo(0)&&J.isGreaterThanOrEqualTo(0)?q.isLessThan(ee)?1:q.isGreaterThan(ee)?-1:0:z.isLessThan(0)&&J.isLessThan(0)?q.isLessThan(ee)?-1:q.isGreaterThan(ee)?1:0:J.isLessThan(z)?-1:J.isGreaterThan(z)?1:0}}},Wa=0,js=class Bc{id;leftSE;rightSE;rings;windings;ringOut;consumedBy;prev;_prevInResult;_beforeState;_afterState;_isInResult;static compare(h,p){let v=h.leftSE.point.x,k=p.leftSE.point.x,B=h.rightSE.point.x,z=p.rightSE.point.x;if(z.isLessThan(v))return 1;if(B.isLessThan(k))return-1;let q=h.leftSE.point.y,J=p.leftSE.point.y,ee=h.rightSE.point.y,Re=p.rightSE.point.y;if(v.isLessThan(k)){if(J.isLessThan(q)&&J.isLessThan(ee))return 1;if(J.isGreaterThan(q)&&J.isGreaterThan(ee))return-1;let Me=h.comparePoint(p.leftSE.point);if(Me<0)return 1;if(Me>0)return-1;let ut=p.comparePoint(h.rightSE.point);return ut!==0?ut:-1}if(v.isGreaterThan(k)){if(q.isLessThan(J)&&q.isLessThan(Re))return-1;if(q.isGreaterThan(J)&&q.isGreaterThan(Re))return 1;let Me=p.comparePoint(h.leftSE.point);if(Me!==0)return Me;let ut=h.comparePoint(p.rightSE.point);return ut<0?1:ut>0?-1:1}if(q.isLessThan(J))return-1;if(q.isGreaterThan(J))return 1;if(B.isLessThan(z)){let Me=p.comparePoint(h.rightSE.point);if(Me!==0)return Me}if(B.isGreaterThan(z)){let Me=h.comparePoint(p.rightSE.point);if(Me<0)return 1;if(Me>0)return-1}if(!B.eq(z)){let Me=ee.minus(q),ut=B.minus(v),gt=Re.minus(J),Et=z.minus(k);if(Me.isGreaterThan(ut)&&gt.isLessThan(Et))return 1;if(Me.isLessThan(ut)&&gt.isGreaterThan(Et))return-1}return B.isGreaterThan(z)?1:B.isLessThan(z)||ee.isLessThan(Re)?-1:ee.isGreaterThan(Re)?1:h.id<p.id?-1:h.id>p.id?1:0}constructor(h,p,v,k){this.id=++Wa,this.leftSE=h,h.segment=this,h.otherSE=p,this.rightSE=p,p.segment=this,p.otherSE=h,this.rings=v,this.windings=k}static fromRing(h,p,v){let k,B,z,q=aa.comparePoints(h,p);if(q<0)k=h,B=p,z=1;else if(q>0)k=p,B=h,z=-1;else throw new Error(`Tried to create degenerate segment at [${h.x}, ${h.y}]`);let J=new aa(k,!0),ee=new aa(B,!1);return new Bc(J,ee,[v],[z])}replaceRightSE(h){this.rightSE=h,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){let h=this.leftSE.point.y,p=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:h.isLessThan(p)?h:p},ur:{x:this.rightSE.point.x,y:h.isGreaterThan(p)?h:p}}}vector(){return{x:this.rightSE.point.x.minus(this.leftSE.point.x),y:this.rightSE.point.y.minus(this.leftSE.point.y)}}isAnEndpoint(h){return h.x.eq(this.leftSE.point.x)&&h.y.eq(this.leftSE.point.y)||h.x.eq(this.rightSE.point.x)&&h.y.eq(this.rightSE.point.y)}comparePoint(h){return Pr.orient(this.leftSE.point,h,this.rightSE.point)}getIntersection(h){let p=this.bbox(),v=h.bbox(),k=Go(p,v);if(k===null)return null;let B=this.leftSE.point,z=this.rightSE.point,q=h.leftSE.point,J=h.rightSE.point,ee=ia(p,q)&&this.comparePoint(q)===0,Re=ia(v,B)&&h.comparePoint(B)===0,Me=ia(p,J)&&this.comparePoint(J)===0,ut=ia(v,z)&&h.comparePoint(z)===0;if(Re&&ee)return ut&&!Me?z:!ut&&Me?J:null;if(Re)return Me&&B.x.eq(J.x)&&B.y.eq(J.y)?null:B;if(ee)return ut&&z.x.eq(q.x)&&z.y.eq(q.y)?null:q;if(ut&&Me)return null;if(ut)return z;if(Me)return J;let gt=nu(B,this.vector(),q,h.vector());return gt===null||!ia(k,gt)?null:Pr.snap(gt)}split(h){let p=[],v=h.events!==void 0,k=new aa(h,!0),B=new aa(h,!1),z=this.rightSE;this.replaceRightSE(B),p.push(B),p.push(k);let q=new Bc(k,z,this.rings.slice(),this.windings.slice());return aa.comparePoints(q.leftSE.point,q.rightSE.point)>0&&q.swapEvents(),aa.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),v&&(k.checkForConsuming(),B.checkForConsuming()),p}swapEvents(){let h=this.rightSE;this.rightSE=this.leftSE,this.leftSE=h,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let p=0,v=this.windings.length;p<v;p++)this.windings[p]*=-1}consume(h){let p=this,v=h;for(;p.consumedBy;)p=p.consumedBy;for(;v.consumedBy;)v=v.consumedBy;let k=Bc.compare(p,v);if(k!==0){if(k>0){let B=p;p=v,v=B}if(p.prev===v){let B=p;p=v,v=B}for(let B=0,z=v.rings.length;B<z;B++){let q=v.rings[B],J=v.windings[B],ee=p.rings.indexOf(q);ee===-1?(p.rings.push(q),p.windings.push(J)):p.windings[ee]+=J}v.rings=null,v.windings=null,v.consumedBy=p,v.leftSE.consumedBy=p.leftSE,v.rightSE.consumedBy=p.rightSE}}prevInResult(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}beforeState(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{let h=this.prev.consumedBy||this.prev;this._beforeState=h.afterState()}return this._beforeState}afterState(){if(this._afterState!==void 0)return this._afterState;let h=this.beforeState();this._afterState={rings:h.rings.slice(0),windings:h.windings.slice(0),multiPolys:[]};let p=this._afterState.rings,v=this._afterState.windings,k=this._afterState.multiPolys;for(let q=0,J=this.rings.length;q<J;q++){let ee=this.rings[q],Re=this.windings[q],Me=p.indexOf(ee);Me===-1?(p.push(ee),v.push(Re)):v[Me]+=Re}let B=[],z=[];for(let q=0,J=p.length;q<J;q++){if(v[q]===0)continue;let ee=p[q],Re=ee.poly;if(z.indexOf(Re)===-1)if(ee.isExterior)B.push(Re);else{z.indexOf(Re)===-1&&z.push(Re);let Me=B.indexOf(ee.poly);Me!==-1&&B.splice(Me,1)}}for(let q=0,J=B.length;q<J;q++){let ee=B[q].multiPoly;k.indexOf(ee)===-1&&k.push(ee)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;let h=this.beforeState().multiPolys,p=this.afterState().multiPolys;switch(Ai.type){case"union":{let v=h.length===0,k=p.length===0;this._isInResult=v!==k;break}case"intersection":{let v,k;h.length<p.length?(v=h.length,k=p.length):(v=p.length,k=h.length),this._isInResult=k===Ai.numMultiPolys&&v<k;break}case"xor":{let v=Math.abs(h.length-p.length);this._isInResult=v%2===1;break}case"difference":{let v=k=>k.length===1&&k[0].isSubject;this._isInResult=v(h)!==v(p);break}}return this._isInResult}},La=class{poly;isExterior;segments;bbox;constructor(s,h,p){if(!Array.isArray(s)||s.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=h,this.isExterior=p,this.segments=[],typeof s[0][0]!="number"||typeof s[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let v=Pr.snap({x:new le(s[0][0]),y:new le(s[0][1])});this.bbox={ll:{x:v.x,y:v.y},ur:{x:v.x,y:v.y}};let k=v;for(let B=1,z=s.length;B<z;B++){if(typeof s[B][0]!="number"||typeof s[B][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let q=Pr.snap({x:new le(s[B][0]),y:new le(s[B][1])});q.x.eq(k.x)&&q.y.eq(k.y)||(this.segments.push(js.fromRing(k,q,this)),q.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=q.x),q.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=q.y),q.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=q.x),q.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=q.y),k=q)}(!v.x.eq(k.x)||!v.y.eq(k.y))&&this.segments.push(js.fromRing(k,v,this))}getSweepEvents(){let s=[];for(let h=0,p=this.segments.length;h<p;h++){let v=this.segments[h];s.push(v.leftSE),s.push(v.rightSE)}return s}},Ho=class{multiPoly;exteriorRing;interiorRings;bbox;constructor(s,h){if(!Array.isArray(s))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new La(s[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let p=1,v=s.length;p<v;p++){let k=new La(s[p],this,!1);k.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=k.bbox.ll.x),k.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=k.bbox.ll.y),k.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=k.bbox.ur.x),k.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=k.bbox.ur.y),this.interiorRings.push(k)}this.multiPoly=h}getSweepEvents(){let s=this.exteriorRing.getSweepEvents();for(let h=0,p=this.interiorRings.length;h<p;h++){let v=this.interiorRings[h].getSweepEvents();for(let k=0,B=v.length;k<B;k++)s.push(v[k])}return s}},Nl=class{isSubject;polys;bbox;constructor(s,h){if(!Array.isArray(s))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof s[0][0][0]=="number"&&(s=[s])}catch{}this.polys=[],this.bbox={ll:{x:new le(Number.POSITIVE_INFINITY),y:new le(Number.POSITIVE_INFINITY)},ur:{x:new le(Number.NEGATIVE_INFINITY),y:new le(Number.NEGATIVE_INFINITY)}};for(let p=0,v=s.length;p<v;p++){let k=new Ho(s[p],this);k.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=k.bbox.ll.x),k.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=k.bbox.ll.y),k.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=k.bbox.ur.x),k.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=k.bbox.ur.y),this.polys.push(k)}this.isSubject=h}getSweepEvents(){let s=[];for(let h=0,p=this.polys.length;h<p;h++){let v=this.polys[h].getSweepEvents();for(let k=0,B=v.length;k<B;k++)s.push(v[k])}return s}},co=class Pd{events;poly;_isExteriorRing;_enclosingRing;static factory(h){let p=[];for(let v=0,k=h.length;v<k;v++){let B=h[v];if(!B.isInResult()||B.ringOut)continue;let z=null,q=B.leftSE,J=B.rightSE,ee=[q],Re=q.point,Me=[];for(;z=q,q=J,ee.push(q),q.point!==Re;)for(;;){let ut=q.getAvailableLinkedEvents();if(ut.length===0){let Wt=ee[0].point,Zt=ee[ee.length-1].point;throw new Error(`Unable to complete output ring starting at [${Wt.x}, ${Wt.y}]. Last matching segment found ends at [${Zt.x}, ${Zt.y}].`)}if(ut.length===1){J=ut[0].otherSE;break}let gt=null;for(let Wt=0,Zt=Me.length;Wt<Zt;Wt++)if(Me[Wt].point===q.point){gt=Wt;break}if(gt!==null){let Wt=Me.splice(gt)[0],Zt=ee.splice(Wt.index);Zt.unshift(Zt[0].otherSE),p.push(new Pd(Zt.reverse()));continue}Me.push({index:ee.length,point:q.point});let Et=q.getLeftmostComparator(z);J=ut.sort(Et)[0].otherSE;break}p.push(new Pd(ee))}return p}constructor(h){this.events=h;for(let p=0,v=h.length;p<v;p++)h[p].segment.ringOut=this;this.poly=null}getGeom(){let h=this.events[0].point,p=[h];for(let ee=1,Re=this.events.length-1;ee<Re;ee++){let Me=this.events[ee].point,ut=this.events[ee+1].point;Pr.orient(Me,h,ut)!==0&&(p.push(Me),h=Me)}if(p.length===1)return null;let v=p[0],k=p[1];Pr.orient(v,h,k)===0&&p.shift(),p.push(p[0]);let B=this.isExteriorRing()?1:-1,z=this.isExteriorRing()?0:p.length-1,q=this.isExteriorRing()?p.length:-1,J=[];for(let ee=z;ee!=q;ee+=B)J.push([p[ee].x.toNumber(),p[ee].y.toNumber()]);return J}isExteriorRing(){if(this._isExteriorRing===void 0){let h=this.enclosingRing();this._isExteriorRing=h?!h.isExteriorRing():!0}return this._isExteriorRing}enclosingRing(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let h=this.events[0];for(let k=1,B=this.events.length;k<B;k++){let z=this.events[k];aa.compare(h,z)>0&&(h=z)}let p=h.segment.prevInResult(),v=p?p.prevInResult():null;for(;;){if(!p)return null;if(!v)return p.ringOut;if(v.ringOut!==p.ringOut)return v.ringOut?.enclosingRing()!==p.ringOut?p.ringOut:p.ringOut?.enclosingRing();p=v.prevInResult(),v=p?p.prevInResult():null}}},oa=class{exteriorRing;interiorRings;constructor(s){this.exteriorRing=s,s.poly=this,this.interiorRings=[]}addInterior(s){this.interiorRings.push(s),s.poly=this}getGeom(){let s=this.exteriorRing.getGeom();if(s===null)return null;let h=[s];for(let p=0,v=this.interiorRings.length;p<v;p++){let k=this.interiorRings[p].getGeom();k!==null&&h.push(k)}return h}},cr=class{rings;polys;constructor(s){this.rings=s,this.polys=this._composePolys(s)}getGeom(){let s=[];for(let h=0,p=this.polys.length;h<p;h++){let v=this.polys[h].getGeom();v!==null&&s.push(v)}return s}_composePolys(s){let h=[];for(let p=0,v=s.length;p<v;p++){let k=s[p];if(!k.poly)if(k.isExteriorRing())h.push(new oa(k));else{let B=k.enclosingRing();B?.poly||h.push(new oa(B)),B?.poly?.addInterior(k)}}return h}},pr=class{queue;tree;segments;constructor(s,h=js.compare){this.queue=s,this.tree=new Rt(h),this.segments=[]}process(s){let h=s.segment,p=[];if(s.consumedBy)return s.isLeft?this.queue.delete(s.otherSE):this.tree.delete(h),p;s.isLeft&&this.tree.add(h);let v=h,k=h;do v=this.tree.lastBefore(v);while(v!=null&&v.consumedBy!=null);do k=this.tree.firstAfter(k);while(k!=null&&k.consumedBy!=null);if(s.isLeft){let B=null;if(v){let q=v.getIntersection(h);if(q!==null&&(h.isAnEndpoint(q)||(B=q),!v.isAnEndpoint(q))){let J=this._splitSafely(v,q);for(let ee=0,Re=J.length;ee<Re;ee++)p.push(J[ee])}}let z=null;if(k){let q=k.getIntersection(h);if(q!==null&&(h.isAnEndpoint(q)||(z=q),!k.isAnEndpoint(q))){let J=this._splitSafely(k,q);for(let ee=0,Re=J.length;ee<Re;ee++)p.push(J[ee])}}if(B!==null||z!==null){let q=null;B===null?q=z:z===null?q=B:q=aa.comparePoints(B,z)<=0?B:z,this.queue.delete(h.rightSE),p.push(h.rightSE);let J=h.split(q);for(let ee=0,Re=J.length;ee<Re;ee++)p.push(J[ee])}p.length>0?(this.tree.delete(h),p.push(s)):(this.segments.push(h),h.prev=v)}else{if(v&&k){let B=v.getIntersection(k);if(B!==null){if(!v.isAnEndpoint(B)){let z=this._splitSafely(v,B);for(let q=0,J=z.length;q<J;q++)p.push(z[q])}if(!k.isAnEndpoint(B)){let z=this._splitSafely(k,B);for(let q=0,J=z.length;q<J;q++)p.push(z[q])}}}this.tree.delete(h)}return p}_splitSafely(s,h){this.tree.delete(s);let p=s.rightSE;this.queue.delete(p);let v=s.split(h);return v.push(p),s.consumedBy===void 0&&this.tree.add(s),v}},Bo=class{type;numMultiPolys;run(s,h,p){Vr.type=s;let v=[new Nl(h,!0)];for(let J=0,ee=p.length;J<ee;J++)v.push(new Nl(p[J],!1));if(Vr.numMultiPolys=v.length,Vr.type==="difference"){let J=v[0],ee=1;for(;ee<v.length;)Go(v[ee].bbox,J.bbox)!==null?ee++:v.splice(ee,1)}if(Vr.type==="intersection")for(let J=0,ee=v.length;J<ee;J++){let Re=v[J];for(let Me=J+1,ut=v.length;Me<ut;Me++)if(Go(Re.bbox,v[Me].bbox)===null)return[]}let k=new Rt(aa.compare);for(let J=0,ee=v.length;J<ee;J++){let Re=v[J].getSweepEvents();for(let Me=0,ut=Re.length;Me<ut;Me++)k.add(Re[Me])}let B=new pr(k),z=null;for(k.size!=0&&(z=k.first(),k.delete(z));z;){let J=B.process(z);for(let ee=0,Re=J.length;ee<Re;ee++){let Me=J[ee];Me.consumedBy===void 0&&k.add(Me)}k.size!=0?(z=k.first(),k.delete(z)):z=null}Pr.reset();let q=co.factory(B.segments);return new cr(q).getGeom()}},Vr=new Bo,Ai=Vr,Wo=(s,...h)=>Ai.run("intersection",s,h),ul=(s,...h)=>Ai.run("difference",s,h);Pr.set;function Mi(s){let h={type:"Feature"};return h.geometry=s,h}function Vo(s){return s.type==="Feature"?s.geometry:s}function ru(s){return s&&s.geometry&&s.geometry.coordinates?s.geometry.coordinates:s}function iu(s){return Mi({type:"LineString",coordinates:s})}function $o(s){return Mi({type:"MultiLineString",coordinates:s})}function su(s){return Mi({type:"Polygon",coordinates:s})}function Va(s){return Mi({type:"MultiPolygon",coordinates:s})}function bl(s,h){let p=Vo(s),v=Vo(h),k=Wo(p.coordinates,v.coordinates);return k.length===0?null:k.length===1?su(k[0]):Va(k)}function _(s,h){let p=Vo(s),v=Vo(h),k=ul(p.coordinates,v.coordinates);return k.length===0?null:k.length===1?su(k[0]):Va(k)}function C(s){return Array.isArray(s)?1+C(s[0]):-1}function D(s){s instanceof L.Polyline&&(s=s.toGeoJSON(15));let h=ru(s),p=C(h),v=[];return p>1?h.forEach(k=>{v.push(iu(k))}):v.push(s),v}function H(s){let h=[];return s.eachLayer(p=>{h.push(ru(p.toGeoJSON(15)))}),$o(h)}Tr.Cut=Tr.Polygon.extend({initialize(s){this._map=s,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_finishShape(){if(this._editedLayers=[],!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let s=this._layer.getLatLngs();if(s.length<=2)return;let h=L.polygon(s,this.options.pathOptions);h._latlngInfos=this._layer._latlngInfo,this.cut(h),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this._editedLayers.forEach(({layer:v,originalLayer:k})=>{this._fireCut(k,v,k),this._fireCut(this._map,v,k),k.pm._fireEdit()}),this._editedLayers=[];let p=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(p))},cut(s){let h=this._map._layers,p=s._latlngInfos||[];Object.keys(h).map(v=>h[v]).filter(v=>v.pm).filter(v=>!v._pmTempLayer).filter(v=>!L.PM.optIn&&!v.options.pmIgnore||L.PM.optIn&&v.options.pmIgnore===!1).filter(v=>v instanceof L.Polyline).filter(v=>v!==s).filter(v=>v.pm.options.allowCutting).filter(v=>this.options.layersToCut&&L.Util.isArray(this.options.layersToCut)&&this.options.layersToCut.length>0?this.options.layersToCut.indexOf(v)>-1:!0).filter(v=>!this._layerGroup.hasLayer(v)).filter(v=>{try{let k=!!Si(s.toGeoJSON(15),v.toGeoJSON(15)).features.length>0;return k||v instanceof L.Polyline&&!(v instanceof L.Polygon)?k:!!bl(s.toGeoJSON(15),v.toGeoJSON(15))}catch{return v instanceof L.Polygon&&console.error("You can't cut polygons with self-intersections"),!1}}).forEach(v=>{let k;if(v instanceof L.Polygon){k=L.polygon(v.getLatLngs());let J=k.getLatLngs();p.forEach(ee=>{if(ee&&ee.snapInfo){let{latlng:Re}=ee,Me=this._calcClosestLayer(Re,[k]);if(Me&&Me.segment&&Me.distance<this.options.snapDistance){let{segment:ut}=Me;if(ut&&ut.length===2){let{indexPath:gt,parentPath:Et,newIndex:Wt}=L.PM.Utils._getIndexFromSegment(J,ut);(gt.length>1?(0,lr.default)(J,Et):J).splice(Wt,0,Re)}}}})}else k=v;let B=this._cutLayer(s,k),z=L.geoJSON(B,v.options);z.getLayers().length===1&&([z]=z.getLayers()),this._setPane(z,"layerPane");let q=z.addTo(this._map.pm._getContainingLayer());if(q.pm.enable(v.pm.options),q.pm.disable(),v._pmTempLayer=!0,s._pmTempLayer=!0,v.remove(),v.removeFrom(this._map.pm._getContainingLayer()),s.remove(),s.removeFrom(this._map.pm._getContainingLayer()),q.getLayers&&q.getLayers().length===0&&this._map.pm.removeLayer({target:q}),q instanceof L.LayerGroup?(q.eachLayer(J=>{this._addDrawnLayerProp(J)}),this._addDrawnLayerProp(q)):this._addDrawnLayerProp(q),this.options.layersToCut&&L.Util.isArray(this.options.layersToCut)&&this.options.layersToCut.length>0){let J=this.options.layersToCut.indexOf(v);J>-1&&this.options.layersToCut.splice(J,1)}this._editedLayers.push({layer:q,originalLayer:v})})},_cutLayer(s,h){let p=L.geoJSON(),v;if(h instanceof L.Polygon)v=_(h.toGeoJSON(15),s.toGeoJSON(15));else{let k=D(h);k.forEach(B=>{let z=vi(B,s.toGeoJSON(15)),q;z&&z.features.length>0?q=L.geoJSON(z):q=L.geoJSON(B),q.getLayers().forEach(J=>{ss(s.toGeoJSON(15),J.toGeoJSON(15))||J.addTo(p)})}),k.length>1?v=H(p):v=p.toGeoJSON(15)}return v},_change:L.Util.falseFn}),Tr.Text=Tr.extend({initialize(s){this._map=s,this._shape="Text",this.toolbarButtonName="drawText"},enable(s){L.Util.setOptions(this,s),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(gn("tooltips.placeText"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._map.getContainer().classList.add("geoman-draw-cursor"),this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker?.remove(),this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("mousemove",this._syncHintMarker,this),this._map.off("mousemove",this._showHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(s){this.enabled()?this.disable():this.enable(s)},_syncHintMarker(s){if(this._hintMarker.setLatLng(s.latlng),this.options.snappable){let h=s;h.target=this._hintMarker,this._handleSnapping(h)}},_createMarker(s){if(!s.latlng||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(s.latlng);let h=this._hintMarker.getLatLng();if(this.textArea=this._createTextArea(),this.options.textOptions?.className){let k=this.options.textOptions.className.split(" ");this.textArea.classList.add(...k)}let p=this._createTextIcon(this.textArea),v=new L.Marker(h,{textMarker:!0,_textMarkerOverPM:!0,icon:p});if(this._setPane(v,"markerPane"),this._finishLayer(v),v.pm||(v.options.draggable=!1),v.addTo(this._map.pm._getContainingLayer()),v.pm){v.pm.textArea=this.textArea,L.setOptions(v.pm,{removeIfEmpty:this.options.textOptions?.removeIfEmpty??!0});let k=this.options.textOptions?.focusAfterDraw??!0;v.pm._createTextMarker(k),this.options.textOptions?.text&&v.pm.setText(this.options.textOptions.text)}this._fireCreate(v),this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this._map.once("mousemove",this._showHintMarkerAfterMoving,this)},_showHintMarkerAfterMoving(s){this.enable(),this._hintMarker.setLatLng(s.latlng)},_createTextArea(){let s=document.createElement("textarea");return s.readOnly=!0,s.classList.add("pm-textarea","pm-disabled"),s},_createTextIcon(s){return L.divIcon({className:"pm-text-marker",html:s})}});var Q={enableLayerDrag(){if(!this.options.draggable||!this._layer._map)return;this.disable(),this._layerDragEnabled=!0,this._map||(this._map=this._layer._map),(this._layer instanceof L.Marker||this._layer instanceof L.ImageOverlay)&&L.DomEvent.on(this._getDOMElem(),"dragstart",this._stopDOMImageDrag),this._layer.dragging&&this._layer.dragging.disable(),this._tempDragCoord=null,Br(this._layer)instanceof L.Canvas?(this._layer.on("mouseout",this.removeDraggingClass,this),this._layer.on("mouseover",this.addDraggingClass,this)):this.addDraggingClass(),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0;let s=this._getDOMElem();s&&(Br(this._layer)instanceof L.Canvas?(this._layer.on("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._addTouchEvents(s)):L.DomEvent.on(s,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._fireDragEnable()},disableLayerDrag(){this._layerDragEnabled=!1,Br(this._layer)instanceof L.Canvas?(this._layer.off("mouseout",this.removeDraggingClass,this),this._layer.off("mouseover",this.addDraggingClass,this)):this.removeDraggingClass(),this._originalMapDragState&&this._dragging&&this._map.dragging.enable(),this._safeToCacheDragState=!1,this._layer.dragging&&this._layer.dragging.disable();let s=this._getDOMElem();s&&(Br(this._layer)instanceof L.Canvas?(this._layer.off("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._removeTouchEvents(s)):L.DomEvent.off(s,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._layerDragged&&this._fireUpdate(),this._layerDragged=!1,this._fireDragDisable()},dragging(){return this._dragging},layerDragEnabled(){return!!this._layerDragEnabled},_simulateMouseDownEvent(s){let h=s.touches?s.touches[0]:s,p={originalEvent:h,target:this._layer};return p.containerPoint=this._map.mouseEventToContainerPoint(h),p.latlng=this._map.containerPointToLatLng(p.containerPoint),this._dragMixinOnMouseDown(p),!1},_simulateMouseMoveEvent(s){let h=s.touches?s.touches[0]:s,p={originalEvent:h,target:this._layer};return p.containerPoint=this._map.mouseEventToContainerPoint(h),p.latlng=this._map.containerPointToLatLng(p.containerPoint),this._dragMixinOnMouseMove(p),!1},_simulateMouseUpEvent(s){let h={originalEvent:s.touches?s.touches[0]:s,target:this._layer};return s.type.indexOf("touch")===-1&&(h.containerPoint=this._map.mouseEventToContainerPoint(s),h.latlng=this._map.containerPointToLatLng(h.containerPoint)),this._dragMixinOnMouseUp(h),!1},_dragMixinOnMouseDown(s){if(s.originalEvent.button>0)return;this._overwriteEventIfItComesFromMarker(s);let h=s._fromLayerSync,p=this._syncLayers("_dragMixinOnMouseDown",s);if(this._layer instanceof L.Marker&&(this.options.snappable&&!h&&!p?this._initSnappableMarkers():this._disableSnapping()),this._layer instanceof L.CircleMarker){let v="resizeableCircleMarker";this._layer instanceof L.Circle&&(v="resizeableCircle"),this.options.snappable&&!h&&!p?this._layer.pm.options[v]||this._initSnappableMarkersDrag():this._layer.pm.options[v]?this._layer.pm._disableSnapping():this._layer.pm._disableSnappingDrag()}this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=s.latlng,L.DomEvent.on(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),L.DomEvent.on(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this)},_dragMixinOnMouseMove(s){this._overwriteEventIfItComesFromMarker(s);let h=this._getDOMElem();this._syncLayers("_dragMixinOnMouseMove",s),this._dragging||(this._dragging=!0,L.DomUtil.addClass(h,"leaflet-pm-dragging"),this._layer instanceof L.Marker||this._layer.bringToFront(),this._originalMapDragState&&this._map.dragging.disable(),this._fireDragStart()),this._tempDragCoord||(this._tempDragCoord=s.latlng),this._onLayerDrag(s),this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle()},_dragMixinOnMouseUp(s){let h=this._getDOMElem();return this._syncLayers("_dragMixinOnMouseUp",s),this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0,L.DomEvent.off(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this),L.DomEvent.off(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),this._dragging?(this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle(),this._layerDragged=!0,window.setTimeout(()=>{this._dragging=!1,h&&L.DomUtil.removeClass(h,"leaflet-pm-dragging"),this._fireDragEnd(),this._fireEdit(),this._layerEdited=!0},10),!0):!1},_onLayerDrag(s){let{latlng:h}=s,p={lat:h.lat-this._tempDragCoord.lat,lng:h.lng-this._tempDragCoord.lng},v=k=>k.map(B=>{if(Array.isArray(B))return v(B);let z={lat:B.lat+p.lat,lng:B.lng+p.lng};return(B.alt||B.alt===0)&&(z.alt=B.alt),z});if(this._layer instanceof L.Circle&&this._layer.options.resizeableCircle||this._layer instanceof L.CircleMarker&&this._layer.options.resizeableCircleMarker){let k=v([this._layer.getLatLng()]);this._layer.setLatLng(k[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.CircleMarker||this._layer instanceof L.Marker){let k=this._layer.getLatLng();this._layer._snapped&&(k=this._layer._orgLatLng);let B=v([k]);this._layer.setLatLng(B[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.ImageOverlay){let k=v([this._layer.getBounds().getNorthWest(),this._layer.getBounds().getSouthEast()]);this._layer.setBounds(k),this._fireChange(this._layer.getBounds(),"Edit")}else{let k=v(this._layer.getLatLngs());this._layer.setLatLngs(k),this._fireChange(this._layer.getLatLngs(),"Edit")}this._tempDragCoord=h,s.layer=this._layer,this._fireDrag(s)},addDraggingClass(){let s=this._getDOMElem();s&&L.DomUtil.addClass(s,"leaflet-pm-draggable")},removeDraggingClass(){let s=this._getDOMElem();s&&L.DomUtil.removeClass(s,"leaflet-pm-draggable")},_getDOMElem(){let s=null;return this._layer._path?s=this._layer._path:this._layer._renderer&&this._layer._renderer._container?s=this._layer._renderer._container:this._layer._image?s=this._layer._image:this._layer._icon&&(s=this._layer._icon),s},_overwriteEventIfItComesFromMarker(s){s.target.getLatLng&&(!s.target._radius||s.target._radius<=10)&&(s.containerPoint=this._map.mouseEventToContainerPoint(s.originalEvent),s.latlng=this._map.containerPointToLatLng(s.containerPoint))},_syncLayers(s,h){if(this.enabled())return!1;if(!h._fromLayerSync&&this._layer===h.target&&this.options.syncLayersOnDrag){h._fromLayerSync=!0;let p=[];if(L.Util.isArray(this.options.syncLayersOnDrag))p=this.options.syncLayersOnDrag,this.options.syncLayersOnDrag.forEach(v=>{v instanceof L.LayerGroup&&(p=p.concat(v.pm.getLayers(!0)))});else if(this.options.syncLayersOnDrag===!0&&this._parentLayerGroup)for(let v in this._parentLayerGroup){let k=this._parentLayerGroup[v];k.pm&&(p=k.pm.getLayers(!0))}return L.Util.isArray(p)&&p.length>0&&(p=p.filter(v=>!!v.pm).filter(v=>!!v.pm.options.draggable),p.forEach(v=>{v!==this._layer&&v.pm[s]&&(v._snapped=!1,v.pm[s](h))})),p.length>0}return!1},_stopDOMImageDrag(s){return s.preventDefault(),!1}},se=Q,ue=g(Xi());function _e(s,h,p,v){return p.unproject(h.transform(p.project(s,v)),v)}function ye(s,h,p){let v=p.getMaxZoom();if(v===1/0&&(v=p.getZoom()),L.Util.isArray(s)){let k=[];return s.forEach(B=>{k.push(ye(B,h,p))}),k}return s instanceof L.LatLng?_e(s,h,p,v):null}function Se(s,h){h instanceof L.Layer&&(h=h.getLatLng());let p=s.getMaxZoom();return p===1/0&&(p=s.getZoom()),s.project(h,p)}function Je(s,h){let p=s.getMaxZoom();return p===1/0&&(p=s.getZoom()),s.unproject(h,p)}var _t={_onRotateStart(s){this._preventRenderingMarkers(!0),this._rotationOriginLatLng=this._getRotationCenter().clone(),this._rotationOriginPoint=Se(this._map,this._rotationOriginLatLng),this._rotationStartPoint=Se(this._map,s.target.getLatLng()),this._initialRotateLatLng=_i(this._layer),this._startAngle=this.getAngle();let h=_i(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._fireRotationStart(this._rotationLayer,h),this._fireRotationStart(this._map,h)},_onRotate(s){let h=Se(this._map,s.target.getLatLng()),p=this._rotationStartPoint,v=this._rotationOriginPoint,k=Math.atan2(h.y-v.y,h.x-v.x)-Math.atan2(p.y-v.y,p.x-v.x);this._layer.setLatLngs(this._rotateLayer(k,this._initialRotateLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));let B=this;function z(Re,Me=[],ut=-1){if(ut>-1&&Me.push(ut),L.Util.isArray(Re[0]))Re.forEach((gt,Et)=>z(gt,Me.slice(),Et));else{let gt=Me.length>0?(0,ue.default)(B._markers,Me):B._markers[0];Re.forEach((Et,Wt)=>{gt[Wt].setLatLng(Et)})}}z(this._layer.getLatLngs());let q=_i(this._rotationLayer);this._rotationLayer.setLatLngs(this._rotateLayer(k,this._rotationLayer.pm._rotateOrgLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));let J=k*180/Math.PI;J=J<0?J+360:J;let ee=J+this._startAngle;this._setAngle(ee),this._rotationLayer.pm._setAngle(ee),this._fireRotation(this._rotationLayer,J,q),this._fireRotation(this._map,J,q),this._rotationLayer.pm._fireChange(this._rotationLayer.getLatLngs(),"Rotation")},_onRotateEnd(){let s=this._startAngle;delete this._rotationOriginLatLng,delete this._rotationOriginPoint,delete this._rotationStartPoint,delete this._initialRotateLatLng,delete this._startAngle;let h=_i(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._rotationLayer.pm._rotateOrgLatLng=_i(this._rotationLayer),this._fireRotationEnd(this._rotationLayer,s,h),this._fireRotationEnd(this._map,s,h),this._rotationLayer.pm._fireEdit(this._rotationLayer,"Rotation"),this._preventRenderingMarkers(!1),this._layerRotated=!0},_rotateLayer(s,h,p,v,k){let B=Se(k,p);return this._matrix=v.clone().rotate(s,B).flip(),ye(h,this._matrix,k)},_setAngle(s){s=s<0?s+360:s,this._angle=s%360},_getRotationCenter(){if(this._rotationCenter)return this._rotationCenter;let s=L.polygon(this._layer.getLatLngs(),{stroke:!1,fill:!1,pmIgnore:!0}).addTo(this._layer._map),h=s.getCenter();return s.removeFrom(this._layer._map),h},enableRotate(){if(!this.options.allowRotation){this.disableRotate();return}this.rotateEnabled()&&this.disableRotate(),this._layer instanceof L.Rectangle&&this._angle===void 0&&this.setInitAngle(Cr(this._layer._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);let s={fill:!1,stroke:!1,pmIgnore:!1,snapIgnore:!0};this._rotatePoly=L.polygon(this._layer.getLatLngs(),s),this._rotatePoly._pmTempLayer=!0,this._rotatePoly.addTo(this._layer._map),this._rotatePoly.pm._setAngle(this.getAngle()),this._rotatePoly.pm.setRotationCenter(this.getRotationCenter()),this._rotatePoly.pm.setOptions(this._layer._map.pm.getGlobalOptions()),this._rotatePoly.pm.setOptions({rotate:!0,snappable:!1,hideMiddleMarkers:!0}),this._rotatePoly.pm._rotationLayer=this._layer,this._rotatePoly.pm.enable(),this._rotateOrgLatLng=_i(this._layer),this._rotateEnabled=!0,this._layer.on("remove",this.disableRotate,this),this._fireRotationEnable(this._layer),this._fireRotationEnable(this._layer._map)},disableRotate(){this.rotateEnabled()&&(this._rotatePoly.pm._layerRotated&&this._fireUpdate(),this._rotatePoly.pm._layerRotated=!1,this._rotatePoly.pm.disable(),this._rotatePoly.remove(),this._rotatePoly.pm.setOptions({rotate:!1}),this._rotatePoly=void 0,this._rotateOrgLatLng=void 0,this._layer.off("remove",this.disableRotate,this),this._rotateEnabled=!1,this._fireRotationDisable(this._layer),this._fireRotationDisable(this._layer._map))},rotateEnabled(){return!!this._rotateEnabled},rotateLayer(s){let h=this.getAngle(),p=this._layer.getLatLngs(),v=s*(Math.PI/180);this._layer.setLatLngs(this._rotateLayer(v,this._layer.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._layer._map)),this._rotateOrgLatLng=L.polygon(this._layer.getLatLngs()).getLatLngs(),this._setAngle(this.getAngle()+s),this.rotateEnabled()&&this._rotatePoly&&this._rotatePoly.pm.enabled()&&(this._rotatePoly.setLatLngs(this._rotateLayer(v,this._rotatePoly.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._rotatePoly._map)),this._rotatePoly.pm._initMarkers());let k=this.getAngle()-h;k=k<0?k+360:k,this._startAngle=h,this._fireRotation(this._layer,k,p,this._layer),this._fireRotation(this._map||this._layer._map,k,p,this._layer),delete this._startAngle,this._fireChange(this._layer.getLatLngs(),"Rotation")},rotateLayerToAngle(s){let h=s-this.getAngle();this.rotateLayer(h)},getAngle(){return this._angle||0},setInitAngle(s){this._setAngle(s)},getRotationCenter(){return this._getRotationCenter()},setRotationCenter(s){this._rotationCenter=s,this._rotatePoly&&this._rotatePoly.pm.setRotationCenter(s)}},vt=_t,lt=L.Class.extend({includes:[se,oo,vt,Ys],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,allowSelfIntersectionEdit:!1,preventMarkerRemoval:!1,removeLayerBelowMinVertexCount:!0,limitMarkersToCount:-1,hideMiddleMarkers:!1,snapSegment:!0,syncLayersOnDrag:!1,draggable:!0,allowEditing:!0,allowRemoval:!0,allowCutting:!0,allowRotation:!0,addVertexOn:"click",removeVertexOn:"contextmenu",removeVertexValidation:void 0,addVertexValidation:void 0,moveVertexValidation:void 0,resizeableCircleMarker:!1,resizeableCircle:!0,snapMiddle:!1,snapVertex:!0},setOptions(s){L.Util.setOptions(this,s)},getOptions(){return this.options},applyOptions(){},isPolygon(){return this._layer instanceof L.Polygon},getShape(){return this._shape},_setPane(s,h){h==="layerPane"?s.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":h==="vertexPane"?s.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":h==="markerPane"&&(s.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},remove(){(this._map||this._layer._map).pm.removeLayer({target:this._layer})},_vertexValidation(s,h){let p=h.target,v={layer:this._layer,marker:p,event:h},k="";return s==="move"?k="moveVertexValidation":s==="add"?k="addVertexValidation":s==="remove"&&(k="removeVertexValidation"),this.options[k]&&typeof this.options[k]=="function"&&!this.options[k](v)?(s==="move"&&(p._cancelDragEventChain=p.getLatLng()),!1):(p._cancelDragEventChain=null,!0)},_vertexValidationDrag(s){return s._cancelDragEventChain?(s._latlng=s._cancelDragEventChain,s.update(),!1):!0},_vertexValidationDragEnd(s){return s._cancelDragEventChain?(s._cancelDragEventChain=null,!1):!0}}),Pt=lt;Pt.LayerGroup=L.Class.extend({initialize(s){this._layerGroup=s,this._layers=this.getLayers(),this._getMap(),this._layers.forEach(v=>this._initLayer(v));let h=v=>{if(v.layer._pmTempLayer)return;this._layers=this.getLayers();let k=this._layers.filter(B=>!B.pm._parentLayerGroup||!(this._layerGroup._leaflet_id in B.pm._parentLayerGroup));k.forEach(B=>{this._initLayer(B)}),k.length>0&&this._getMap()&&this._getMap().pm.globalEditModeEnabled()&&this.enabled()&&this.enable(this.getOptions())};this._layerGroup.on("layeradd",L.Util.throttle(h,100,this),this),this._layerGroup.on("layerremove",v=>{this._removeLayerFromGroup(v.target)},this);let p=v=>{v.target._pmTempLayer||(this._layers=this.getLayers())};this._layerGroup.on("layerremove",L.Util.throttle(p,100,this),this)},enable(s,h=[]){h.length===0&&(this._layers=this.getLayers()),this._options=s,this._layers.forEach(p=>{p instanceof L.LayerGroup?h.indexOf(p._leaflet_id)===-1&&(h.push(p._leaflet_id),p.pm.enable(s,h)):p.pm.enable(s)})},disable(s=[]){s.length===0&&(this._layers=this.getLayers()),this._layers.forEach(h=>{h instanceof L.LayerGroup?s.indexOf(h._leaflet_id)===-1&&(s.push(h._leaflet_id),h.pm.disable(s)):h.pm.disable()})},enabled(s=[]){return s.length===0&&(this._layers=this.getLayers()),!!this._layers.find(h=>h instanceof L.LayerGroup?s.indexOf(h._leaflet_id)===-1?(s.push(h._leaflet_id),h.pm.enabled(s)):!1:h.pm.enabled())},toggleEdit(s,h=[]){h.length===0&&(this._layers=this.getLayers()),this._options=s,this._layers.forEach(p=>{p instanceof L.LayerGroup?h.indexOf(p._leaflet_id)===-1&&(h.push(p._leaflet_id),p.pm.toggleEdit(s,h)):p.pm.toggleEdit(s)})},_initLayer(s){let h=L.Util.stamp(this._layerGroup);s.pm._parentLayerGroup||(s.pm._parentLayerGroup={}),s.pm._parentLayerGroup[h]=this._layerGroup},_removeLayerFromGroup(s){if(s.pm&&s.pm._layerGroup){let h=L.Util.stamp(this._layerGroup);delete s.pm._layerGroup[h]}},dragging(){return this._layers=this.getLayers(),this._layers?!!this._layers.find(s=>s.pm.dragging()):!1},getOptions(){return this.options},_getMap(){return this._map||this._layers.find(s=>!!s._map)?._map||null},getLayers(s=!1,h=!0,p=!0,v=[]){let k=[];return s?this._layerGroup.getLayers().forEach(B=>{k.push(B),B instanceof L.LayerGroup&&v.indexOf(B._leaflet_id)===-1&&(v.push(B._leaflet_id),k=k.concat(B.pm.getLayers(!0,!0,!0,v)))}):k=this._layerGroup.getLayers(),p&&(k=k.filter(B=>!(B instanceof L.LayerGroup))),h&&(k=k.filter(B=>!!B.pm),k=k.filter(B=>!B._pmTempLayer),k=k.filter(B=>!L.PM.optIn&&!B.options.pmIgnore||L.PM.optIn&&B.options.pmIgnore===!1)),k},setOptions(s,h=[]){h.length===0&&(this._layers=this.getLayers()),this.options=s,this._layers.forEach(p=>{p.pm&&(p instanceof L.LayerGroup?h.indexOf(p._leaflet_id)===-1&&(h.push(p._leaflet_id),p.pm.setOptions(s,h)):p.pm.setOptions(s))})}}),Pt.Marker=Pt.extend({_shape:"Marker",initialize(s){this._layer=s,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},enable(s={draggable:!0}){if(L.Util.setOptions(this,s),!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._fireEnable()},disable(){this.enabled()&&(this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this._layer.off("contextmenu",this._removeMarker,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1)},enabled(){return this._enabled},toggleEdit(s){this.enabled()?this.disable():this.enable(s)},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_removeMarker(s){let h=s.target;h.remove(),this._fireRemove(h),this._fireRemove(this._map,h)},_onDragEnd(){this._fireEdit(),this._layerEdited=!0},_initSnappableMarkers(){let s=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,s.off("pm:drag",this._handleSnapping,this),s.on("pm:drag",this._handleSnapping,this),s.off("pm:dragend",this._cleanupSnapping,this),s.on("pm:dragend",this._cleanupSnapping,this),s.off("pm:dragstart",this._unsnap,this),s.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){let s=this._layer;s.off("pm:drag",this._handleSnapping,this),s.off("pm:dragend",this._cleanupSnapping,this),s.off("pm:dragstart",this._unsnap,this)}});var Ct=g(Xi()),et={filterMarkerGroup(){this.markerCache=[],this.createCache(),this._layer.on("pm:edit",this.createCache,this),this.applyLimitFilters({}),this.throttledApplyLimitFilters||(this.throttledApplyLimitFilters=L.Util.throttle(this.applyLimitFilters,100,this)),this._layer.on("pm:disable",this._removeMarkerLimitEvents,this),this._layer.on("remove",this._removeMarkerLimitEvents,this),this.options.limitMarkersToCount>-1&&(this._layer.on("pm:vertexremoved",this._initMarkers,this),this._map.on("mousemove",this.throttledApplyLimitFilters,this))},_removeMarkerLimitEvents(){this._map.off("mousemove",this.throttledApplyLimitFilters,this),this._layer.off("pm:edit",this.createCache,this),this._layer.off("pm:disable",this._removeMarkerLimitEvents,this),this._layer.off("pm:vertexremoved",this._initMarkers,this)},createCache(){let s=[...this._markerGroup.getLayers(),...this.markerCache];this.markerCache=s.filter((h,p,v)=>v.indexOf(h)===p)},_removeFromCache(s){let h=this.markerCache.indexOf(s);h>-1&&this.markerCache.splice(h,1)},renderLimits(s){this.markerCache.forEach(h=>{s.includes(h)?this._markerGroup.addLayer(h):this._markerGroup.removeLayer(h)})},applyLimitFilters({latlng:s={lat:0,lng:0}}){if(this._preventRenderMarkers)return;let h=[...this._filterClosestMarkers(s)];this.renderLimits(h)},_filterClosestMarkers(s){let h=[...this.markerCache],p=this.options.limitMarkersToCount;return p===-1?h:(h.sort((v,k)=>{let B=v._latlng.distanceTo(s),z=k._latlng.distanceTo(s);return B-z}),h.filter((v,k)=>p>-1?k<p:!0))},_preventRenderMarkers:!1,_preventRenderingMarkers(s){this._preventRenderMarkers=!!s}},tt=et;Pt.Line=Pt.extend({includes:[tt],_shape:"Line",initialize(s){this._layer=s,this._enabled=!1},enable(s){if(L.Util.setOptions(this,s),this._map=this._layer._map,!!this._map){if(!this.options.allowEditing){this.disable();return}this.enabled()&&this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.allowSelfIntersection?this.cachedColor=void 0:(this._layer.options.color!=="#f00000ff"?(this.cachedColor=this._layer.options.color,this.isRed=!1):this.isRed=!0,this._handleLayerStyle()),this._fireEnable()}},disable(){if(!this.enabled()||this._dragging)return;this._enabled=!1,this._markerGroup.clearLayers(),this._markerGroup.removeFrom(this._map),this._layer.off("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this);let s=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(s,"leaflet-pm-draggable"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()},enabled(){return this._enabled},toggleEdit(s){return this.enabled()?this.disable():this.enable(s),this.enabled()},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initMarkers(){let s=this._map,h=this._layer.getLatLngs();this._markerGroup&&(this._markerGroup.removeFrom(s),this._markerGroup.clearLayers()),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0;let p=v=>{if(Array.isArray(v[0]))return v.map(p,this);let k=v.map(this._createMarker,this);return this.options.hideMiddleMarkers!==!0&&v.map((B,z)=>{let q=this.isPolygon()?(z+1)%v.length:z+1;return this._createMiddleMarker(k[z],k[q])}),k};this._markers=p(h),this.filterMarkerGroup(),s.addLayer(this._markerGroup)},_createMarker(s){let h=new L.Marker(s,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(h,"vertexPane"),h._pmTempLayer=!0,this.options.rotate?(h.on("dragstart",this._onRotateStart,this),h.on("drag",this._onRotate,this),h.on("dragend",this._onRotateEnd,this)):(h.on("click",this._onVertexClick,this),h.on("dragstart",this._onMarkerDragStart,this),h.on("move",this._onMarkerDrag,this),h.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||h.on(this.options.removeVertexOn,this._removeMarker,this)),this._markerGroup.addLayer(h),h},_createMiddleMarker(s,h){if(!s||!h)return!1;let p=L.PM.Utils.calcMiddleLatLng(this._map,s.getLatLng(),h.getLatLng()),v=this._createMarker(p),k=L.divIcon({className:"marker-icon marker-icon-middle"});return v.setIcon(k),v.leftM=s,v.rightM=h,s._middleMarkerNext=v,h._middleMarkerPrev=v,v.on(this.options.addVertexOn,this._onMiddleMarkerClick,this),v.on("movestart",this._onMiddleMarkerMoveStart,this),v},_onMiddleMarkerClick(s){let h=s.target;if(!this._vertexValidation("add",s))return;let p=L.divIcon({className:"marker-icon"});h.setIcon(p),this._addMarker(h,h.leftM,h.rightM)},_onMiddleMarkerMoveStart(s){let h=s.target;if(h.on("moveend",this._onMiddleMarkerMoveEnd,this),!this._vertexValidation("add",s)){h.on("move",this._onMiddleMarkerMovePrevent,this);return}h._dragging=!0,this._addMarker(h,h.leftM,h.rightM)},_onMiddleMarkerMovePrevent(s){let h=s.target;this._vertexValidationDrag(h)},_onMiddleMarkerMoveEnd(s){let h=s.target;if(h.off("move",this._onMiddleMarkerMovePrevent,this),h.off("moveend",this._onMiddleMarkerMoveEnd,this),!this._vertexValidationDragEnd(h))return;let p=L.divIcon({className:"marker-icon"});h.setIcon(p),setTimeout(()=>{delete h._dragging},100)},_addMarker(s,h,p){s.off("movestart",this._onMiddleMarkerMoveStart,this),s.off(this.options.addVertexOn,this._onMiddleMarkerClick,this);let v=s.getLatLng(),k=this._layer._latlngs;delete s.leftM,delete s.rightM;let{indexPath:B,index:z,parentPath:q}=L.PM.Utils.findDeepMarkerIndex(this._markers,h),J=B.length>1?(0,Ct.default)(k,q):k,ee=B.length>1?(0,Ct.default)(this._markers,q):this._markers;J.splice(z+1,0,v),ee.splice(z+1,0,s),this._layer.setLatLngs(k),this.options.hideMiddleMarkers!==!0&&(this._createMiddleMarker(h,s),this._createMiddleMarker(s,p)),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"),this._fireVertexAdded(s,L.PM.Utils.findDeepMarkerIndex(this._markers,s).indexPath,v),this.options.snappable&&this._initSnappableMarkers()},hasSelfIntersection(){return Rn(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersectionOnVertexRemoval(){this._handleLayerStyle(!0)&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle(s){let h=this._layer,p,v;if(this.options.allowSelfIntersection?p=!1:(v=Rn(this._layer.toGeoJSON(15)),p=v.features.length>0),p){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!0),this.isRed)return p;s?this._flashLayer():(h.setStyle({color:"#f00000ff"}),this.isRed=!0),this._fireIntersect(v)}else h.setStyle({color:this.cachedColor}),this.isRed=!1,!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!1);return p},_flashLayer(){this.cachedColor||(this.cachedColor=this._layer.options.color),this._layer.setStyle({color:"#f00000ff"}),this.isRed=!0,window.setTimeout(()=>{this._layer.setStyle({color:this.cachedColor}),this.isRed=!1},200)},_updateDisabledMarkerStyle(s,h){s.forEach(p=>{Array.isArray(p)?this._updateDisabledMarkerStyle(p,h):p._icon&&(h&&!this._checkMarkerAllowedToDrag(p)?L.DomUtil.addClass(p._icon,"vertexmarker-disabled"):L.DomUtil.removeClass(p._icon,"vertexmarker-disabled"))})},_removeMarker(s){let h=s.target;if(!this._vertexValidation("remove",s))return;this.options.allowSelfIntersection||(this._coordsBeforeEdit=_i(this._layer,this._layer.getLatLngs()));let p=this._layer.getLatLngs(),{indexPath:v,index:k,parentPath:B}=L.PM.Utils.findDeepMarkerIndex(this._markers,h);if(!v)return;let z=v.length>1?(0,Ct.default)(p,B):p,q=v.length>1?(0,Ct.default)(this._markers,B):this._markers,J=B[B.length-1]>0&&this._layer instanceof L.Polygon;if(!this.options.removeLayerBelowMinVertexCount&&!J&&(z.length<=2||this.isPolygon()&&z.length<=3)){this._flashLayer();return}z.splice(k,1),this._layer.setLatLngs(p),this.isPolygon()&&z.length<=2&&z.splice(0,z.length);let ee=!1;if(z.length<=1&&(z.splice(0,z.length),B.length>1&&v.length>1&&(p=ja(p)),this._layer.setLatLngs(p),this._initMarkers(),ee=!0),Yr(p)||this._layer.remove(),p=ja(p),this._layer.setLatLngs(p),this._markers=ja(this._markers),!ee&&(q=v.length>1?(0,Ct.default)(this._markers,B):this._markers,h._middleMarkerPrev&&(this._markerGroup.removeLayer(h._middleMarkerPrev),this._removeFromCache(h._middleMarkerPrev)),h._middleMarkerNext&&(this._markerGroup.removeLayer(h._middleMarkerNext),this._removeFromCache(h._middleMarkerNext)),this._markerGroup.removeLayer(h),this._removeFromCache(h),q)){let Re,Me;if(this.isPolygon()?(Re=(k+1)%q.length,Me=(k+(q.length-1))%q.length):(Me=k-1<0?void 0:k-1,Re=k+1>=q.length?void 0:k+1),Re!==Me){let ut=q[Me],gt=q[Re];this.options.hideMiddleMarkers!==!0&&this._createMiddleMarker(ut,gt)}q.splice(k,1)}this._fireEdit(),this._layerEdited=!0,this._fireVertexRemoved(h,v),this._fireChange(this._layer.getLatLngs(),"Edit")},updatePolygonCoordsFromMarkerDrag(s){let h=this._layer.getLatLngs(),p=s.getLatLng(),{indexPath:v,index:k,parentPath:B}=L.PM.Utils.findDeepMarkerIndex(this._markers,s);(v.length>1?(0,Ct.default)(h,B):h).splice(k,1,p),this._layer.setLatLngs(h)},_getNeighborMarkers(s){let{indexPath:h,index:p,parentPath:v}=L.PM.Utils.findDeepMarkerIndex(this._markers,s),k=h.length>1?(0,Ct.default)(this._markers,v):this._markers,B=(p+1)%k.length,z=(p+(k.length-1))%k.length,q=k[z],J=k[B];return{prevMarker:q,nextMarker:J}},_checkMarkerAllowedToDrag(s){let{prevMarker:h,nextMarker:p}=this._getNeighborMarkers(s),v=L.polyline([h.getLatLng(),s.getLatLng()]),k=L.polyline([s.getLatLng(),p.getLatLng()]),B=Si(this._layer.toGeoJSON(15),v.toGeoJSON(15)).features.length,z=Si(this._layer.toGeoJSON(15),k.toGeoJSON(15)).features.length;return s.getLatLng()===this._markers[0][0].getLatLng()?z+=1:s.getLatLng()===this._markers[0][this._markers[0].length-1].getLatLng()&&(B+=1),!(B<=2&&z<=2)},_onMarkerDragStart(s){let h=s.target;if(this.cachedColor||(this.cachedColor=this._layer.options.color),!this._vertexValidation("move",s))return;let{indexPath:p}=L.PM.Utils.findDeepMarkerIndex(this._markers,h);this._fireMarkerDragStart(s,p),this.options.allowSelfIntersection||(this._coordsBeforeEdit=_i(this._layer,this._layer.getLatLngs())),!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()?this._markerAllowedToDrag=this._checkMarkerAllowedToDrag(h):this._markerAllowedToDrag=null},_onMarkerDrag(s){let h=s.target;if(!this._vertexValidationDrag(h))return;let{indexPath:p,index:v,parentPath:k}=L.PM.Utils.findDeepMarkerIndex(this._markers,h);if(!p)return;if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()&&this._markerAllowedToDrag===!1){this._layer.setLatLngs(this._coordsBeforeEdit),this._initMarkers(),this._handleLayerStyle();return}this.updatePolygonCoordsFromMarkerDrag(h);let B=p.length>1?(0,Ct.default)(this._markers,k):this._markers,z=(v+1)%B.length,q=(v+(B.length-1))%B.length,J=h.getLatLng(),ee=B[q].getLatLng(),Re=B[z].getLatLng();if(h._middleMarkerNext){let Me=L.PM.Utils.calcMiddleLatLng(this._map,J,Re);h._middleMarkerNext.setLatLng(Me)}if(h._middleMarkerPrev){let Me=L.PM.Utils.calcMiddleLatLng(this._map,J,ee);h._middleMarkerPrev.setLatLng(Me)}this.options.allowSelfIntersection||this._handleLayerStyle(),this._fireMarkerDrag(s,p),this._fireChange(this._layer.getLatLngs(),"Edit")},_onMarkerDragEnd(s){let h=s.target;if(!this._vertexValidationDragEnd(h))return;let{indexPath:p}=L.PM.Utils.findDeepMarkerIndex(this._markers,h),v=!this.options.allowSelfIntersection&&this.hasSelfIntersection();v&&this.options.allowSelfIntersectionEdit&&this._markerAllowedToDrag&&(v=!1);let k=!this.options.allowSelfIntersection&&v;if(this._fireMarkerDragEnd(s,p,k),k){this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),this.options.snappable&&this._initSnappableMarkers(),this._handleLayerStyle(),this._fireLayerReset(s,p);return}!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._handleLayerStyle(),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")},_onVertexClick(s){let h=s.target;if(h._dragging)return;let{indexPath:p}=L.PM.Utils.findDeepMarkerIndex(this._markers,h);this._fireVertexClick(s,p)}}),Pt.Polygon=Pt.Line.extend({_shape:"Polygon",_checkMarkerAllowedToDrag(s){let{prevMarker:h,nextMarker:p}=this._getNeighborMarkers(s),v=L.polyline([h.getLatLng(),s.getLatLng()]),k=L.polyline([s.getLatLng(),p.getLatLng()]),B=Si(this._layer.toGeoJSON(15),v.toGeoJSON(15)).features.length,z=Si(this._layer.toGeoJSON(15),k.toGeoJSON(15)).features.length;return!(B<=2&&z<=2)}}),Pt.Rectangle=Pt.Polygon.extend({_shape:"Rectangle",_initMarkers(){let s=this._map,h=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,s.addLayer(this._markerGroup),this._markers=[],this._markers[0]=h.map(this._createMarker,this),[this._cornerMarkers]=this._markers,this._layer.getLatLngs()[0].forEach((p,v)=>{let k=this._cornerMarkers.find(B=>B._index===v);k&&k.setLatLng(p)})},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this._addMarkerEvents()},_createMarker(s,h){let p=new L.Marker(s,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(p,"vertexPane"),p._origLatLng=s,p._index=h,p._pmTempLayer=!0,p.on("click",this._onVertexClick,this),this._markerGroup.addLayer(p),p},_addMarkerEvents(){this._markers[0].forEach(s=>{s.on("dragstart",this._onMarkerDragStart,this),s.on("drag",this._onMarkerDrag,this),s.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||s.on("contextmenu",this._removeMarker,this)})},_removeMarker(){return null},_onMarkerDragStart(s){if(!this._vertexValidation("move",s))return;let h=s.target,p=this._cornerMarkers;h._oppositeCornerLatLng=p.find(k=>k._index===(h._index+2)%4).getLatLng(),h._snapped=!1;let{indexPath:v}=L.PM.Utils.findDeepMarkerIndex(this._markers,h);this._fireMarkerDragStart(s,v)},_onMarkerDrag(s){let h=s.target;if(!this._vertexValidationDrag(h)||h._index===void 0)return;this._adjustRectangleForMarkerMove(h);let{indexPath:p}=L.PM.Utils.findDeepMarkerIndex(this._markers,h);this._fireMarkerDrag(s,p),this._fireChange(this._layer.getLatLngs(),"Edit")},_onMarkerDragEnd(s){let h=s.target;if(!this._vertexValidationDragEnd(h))return;this._cornerMarkers.forEach(v=>{delete v._oppositeCornerLatLng});let{indexPath:p}=L.PM.Utils.findDeepMarkerIndex(this._markers,h);this._fireMarkerDragEnd(s,p),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")},_adjustRectangleForMarkerMove(s){L.extend(s._origLatLng,s._latlng);let h=L.PM.Utils._getRotatedRectangle(s.getLatLng(),s._oppositeCornerLatLng,this.getAngle(),this._map);this._layer.setLatLngs(h),this._adjustAllMarkers(s),this._layer.redraw()},_adjustAllMarkers(s){let h=this._layer.getLatLngs()[0];if(h&&h.length!==4&&h.length>0)h.forEach((p,v)=>{this._cornerMarkers[v].setLatLng(p)}),this._cornerMarkers.slice(h.length).forEach(p=>{p.setLatLng(h[0])});else if(!h||!h.length)console.error("The layer has no LatLngs");else{let p=h.findIndex(v=>s.getLatLng().equals(v));p>-1?(this._cornerMarkers[(s._index+1)%4].setLatLng(h[(p+1)%4]),this._cornerMarkers[(s._index+2)%4].setLatLng(h[(p+2)%4]),this._cornerMarkers[(s._index+3)%4].setLatLng(h[(p+3)%4])):this._cornerMarkers.forEach(v=>{v.setLatLng(h[v._index])})}},_findCorners(){this._angle===void 0&&this.setInitAngle(Cr(this._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);let s=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(s[0],s[2],this.getAngle(),this._map||this)}}),Pt.CircleMarker=Pt.extend({_shape:"CircleMarker",initialize(s){this._layer=s,this._enabled=!1,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._updateHiddenPolyCircle()},enable(s={draggable:!0,snappable:!0}){if(L.Util.setOptions(this,s),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._extendingEnable(),this._updateHiddenPolyCircle(),this._fireEnable()},_extendingEnable(){this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:drag",this._onMarkerDrag,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this)},disable(){this.dragging()||(this._map||(this._map=this._layer._map),this._map&&this.enabled()&&(this.layerDragEnabled()&&this.disableLayerDrag(),this._helperLayers&&(this._helperLayers.clearLayers(),this._helperLayers.removeFrom(this._map)),this.options[this._editableOption]?(this._map.off("move",this._syncMarkers,this),this._outerMarker.off("drag",this._handleOuterMarkerSnapping,this)):this._map.off("move",this._updateHiddenPolyCircle,this),this._extendingDisable(),this._layer.off("remove",this.disable,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1))},_extendingDisable(){this._layer.off("contextmenu",this._removeMarker,this)},enabled(){return this._enabled},toggleEdit(s){this.enabled()?this.disable():this.enable(s)},applyOptions(){this.options[this._editableOption]?(this._initMarkers(),this._map.on("move",this._syncMarkers,this),this.options.snappable?(this._initSnappableMarkers(),this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this)):this._disableSnapping()):(this.options.draggable&&this.enableLayerDrag(),this._map.on("move",this._updateHiddenPolyCircle,this),this.options.snappable?this._initSnappableMarkersDrag():this._disableSnappingDrag()),this._extendingApplyOptions()},_extendingApplyOptions(){this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_initMarkers(){let s=this._map;this._helperLayers&&(this._helperLayers.removeFrom(s),this._helperLayers.clearLayers()),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(s);let h=this._layer.getLatLng(),p=this._layer._radius,v=this._getLatLngOnCircle(h,p);this._centerMarker=this._createCenterMarker(h),this._outerMarker=this._createOuterMarker(v),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle(s,h){let p=this._map.project(s),v=L.point(p.x+h,p.y);return this._map.unproject(v)},_createHintLine(s,h){let p=s.getLatLng(),v=h.getLatLng();this._hintline=L.polyline([p,v],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker(s){let h=this._createMarker(s);return this.options.draggable?(L.DomUtil.addClass(h._icon,"leaflet-pm-draggable"),h.on("move",this._moveCircle,this)):h.dragging.disable(),h},_createOuterMarker(s){let h=this._createMarker(s);return h.on("drag",this._resizeCircle,this),h},_createMarker(s){let h=new L.Marker(s,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(h,"vertexPane"),h._origLatLng=s,h._pmTempLayer=!0,h.on("dragstart",this._onMarkerDragStart,this),h.on("drag",this._onMarkerDrag,this),h.on("dragend",this._onMarkerDragEnd,this),h.on("click",this._onVertexClick,this),this._helperLayers.addLayer(h),h},_moveCircle(s){if(s.target._cancelDragEventChain)return;let h=this._centerMarker.getLatLng();this._layer.setLatLng(h);let p=this._layer._radius,v=this._getLatLngOnCircle(h,p);this._outerMarker._latlng=v,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")},_syncMarkers(){let s=this._layer.getLatLng(),h=this._layer._radius,p=this._getLatLngOnCircle(s,h);this._outerMarker.setLatLng(p),this._centerMarker.setLatLng(s),this._syncHintLine(),this._updateHiddenPolyCircle()},_resizeCircle(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_syncCircleRadius(){let s=this._centerMarker.getLatLng(),h=this._outerMarker.getLatLng(),p=this._distanceCalculation(s,h);this.options[this._minRadiusOption]&&p<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&p>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(p),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine(){let s=this._centerMarker.getLatLng(),h=this._outerMarker.getLatLng();this._hintline.setLatLngs([s,h])},_removeMarker(){this.options[this._editableOption]&&this.disable(),this._layer.remove(),this._fireRemove(this._layer),this._fireRemove(this._map,this._layer)},_onDragStart(){this._map.pm.Draw.CircleMarker._layerIsDragging=!0},_onMarkerDragStart(s){this._vertexValidation("move",s)&&this._fireMarkerDragStart(s)},_onMarkerDrag(s){let h=s.target;h instanceof L.Marker&&!this._vertexValidationDrag(h)||this._fireMarkerDrag(s)},_onMarkerDragEnd(s){this._extedingMarkerDragEnd();let h=s.target;this._vertexValidationDragEnd(h)&&(this.options[this._editableOption]&&(this._fireEdit(),this._layerEdited=!0),this._fireMarkerDragEnd(s))},_extedingMarkerDragEnd(){this._map.pm.Draw.CircleMarker._layerIsDragging=!1},_initSnappableMarkersDrag(){let s=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,s.off("pm:drag",this._handleSnapping,this),s.on("pm:drag",this._handleSnapping,this),s.off("pm:dragend",this._cleanupSnapping,this),s.on("pm:dragend",this._cleanupSnapping,this),s.off("pm:dragstart",this._unsnap,this),s.on("pm:dragstart",this._unsnap,this)},_disableSnappingDrag(){let s=this._layer;s.off("pm:drag",this._handleSnapping,this),s.off("pm:dragend",this._cleanupSnapping,this),s.off("pm:dragstart",this._unsnap,this)},_updateHiddenPolyCircle(){let s=this._layer._map||this._map;if(s){let h=L.PM.Utils.pxRadiusToMeterRadius(this._layer.getRadius(),s,this._layer.getLatLng()),p=L.circle(this._layer.getLatLng(),this._layer.options);p.setRadius(h);let v=s&&s.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(p,200,!v).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(p,200,!v),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)}},_getNewDestinationOfOuterMarker(){let s=this._centerMarker.getLatLng(),h=this._outerMarker.getLatLng(),p=this._distanceCalculation(s,h);return this.options[this._minRadiusOption]&&p<this.options[this._minRadiusOption]?h=Ts(this._map,s,h,this._getMinDistanceInMeter(s)):this.options[this._maxRadiusOption]&&p>this.options[this._maxRadiusOption]&&(h=Ts(this._map,s,h,this._getMaxDistanceInMeter(s))),h},_handleOuterMarkerSnapping(){if(this._outerMarker._snapped){let s=this._centerMarker.getLatLng(),h=this._outerMarker.getLatLng(),p=this._distanceCalculation(s,h);this.options[this._minRadiusOption]&&p<this.options[this._minRadiusOption]?this._outerMarker.setLatLng(this._outerMarker._orgLatLng):this.options[this._maxRadiusOption]&&p>this.options[this._maxRadiusOption]&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())},_distanceCalculation(s,h){return this._map.project(s).distanceTo(this._map.project(h))},_getMinDistanceInMeter(s){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,s)},_getMaxDistanceInMeter(s){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,s)},_onVertexClick(s){s.target._dragging||this._fireVertexClick(s,void 0)}}),Pt.Circle=Pt.CircleMarker.extend({_shape:"Circle",initialize(s){this._layer=s,this._enabled=!1,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizeableCircle",this._updateHiddenPolyCircle()},enable(s){L.PM.Edit.CircleMarker.prototype.enable.call(this,s||{})},_extendingEnable(){},_extendingDisable(){this._layer.off("remove",this.disable,this);let s=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(s,"leaflet-pm-draggable")},_extendingApplyOptions(){},_syncMarkers(){},_removeMarker(){},_onDragStart(){},_extedingMarkerDragEnd(){},_updateHiddenPolyCircle(){let s=this._map&&this._map.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(this._layer,200,!s).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(this._layer,200,!s),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)},_distanceCalculation(s,h){return this._map.distance(s,h)},_getMinDistanceInMeter(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter(){return this.options[this._maxRadiusOption]},_onVertexClick(s){s.target._dragging||this._fireVertexClick(s,void 0)}}),Pt.ImageOverlay=Pt.extend({_shape:"ImageOverlay",initialize(s){this._layer=s,this._enabled=!1},toggleEdit(s){this.enabled()?this.disable():this.enable(s)},enabled(){return this._enabled},enable(s={draggable:!0,snappable:!0}){if(L.Util.setOptions(this,s),this._map=this._layer._map,!!this._map){if(!this.options.allowEditing){this.disable();return}this.enabled()||this.disable(),this.enableLayerDrag(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._otherSnapLayers=this._findCorners(),this._fireEnable()}},disable(){this._dragging||(this._map||(this._map=this._layer._map),this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this.enabled()||(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},_findCorners(){let s=this._layer.getBounds(),h=s.getNorthWest(),p=s.getNorthEast(),v=s.getSouthEast(),k=s.getSouthWest();return[h,p,v,k]}}),Pt.Text=Pt.extend({_shape:"Text",initialize(s){this._layer=s,this._enabled=!1},enable(s){if(L.Util.setOptions(this,s),!!this.textArea){if(!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._safeToCacheDragState=!0,this._focusChange(),this.textArea.readOnly=!1,this.textArea.classList.remove("pm-disabled"),this._layer.on("remove",this.disable,this),L.DomEvent.on(this.textArea,"input",this._autoResize,this),L.DomEvent.on(this.textArea,"focus",this._focusChange,this),L.DomEvent.on(this.textArea,"blur",this._focusChange,this),this._layer.on("dblclick",L.DomEvent.stop),L.DomEvent.off(this.textArea,"mousedown",this._preventTextSelection),this._enabled=!0,this._fireEnable()}},disable(){if(!this.enabled())return;this._layer.off("remove",this.disable,this),L.DomEvent.off(this.textArea,"input",this._autoResize,this),L.DomEvent.off(this.textArea,"focus",this._focusChange,this),L.DomEvent.off(this.textArea,"blur",this._focusChange,this),L.DomEvent.off(document,"click",this._documentClick,this),this._focusChange(),this.textArea.readOnly=!0,this.textArea.classList.add("pm-disabled");let s=document.activeElement;this.textArea.focus(),this.textArea.selectionStart=0,this.textArea.selectionEnd=0,L.DomEvent.on(this.textArea,"mousedown",this._preventTextSelection),s.focus(),this._disableOnBlurActive=!1,this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1},enabled(){return this._enabled},toggleEdit(s){this.enabled()?this.disable():this.enable(s)},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initSnappableMarkers(){let s=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,s.off("pm:drag",this._handleSnapping,this),s.on("pm:drag",this._handleSnapping,this),s.off("pm:dragend",this._cleanupSnapping,this),s.on("pm:dragend",this._cleanupSnapping,this),s.off("pm:dragstart",this._unsnap,this),s.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){let s=this._layer;s.off("pm:drag",this._handleSnapping,this),s.off("pm:dragend",this._cleanupSnapping,this),s.off("pm:dragstart",this._unsnap,this)},_autoResize(){this.textArea.style.height="1px",this.textArea.style.width="1px";let s=this.textArea.scrollHeight>21?this.textArea.scrollHeight:21,h=this.textArea.scrollWidth>16?this.textArea.scrollWidth:16;this.textArea.style.height=`${s}px`,this.textArea.style.width=`${h}px`,this._layer.options.text=this.getText(),this._fireTextChange(this.getText())},_disableOnBlur(){this._disableOnBlurActive=!0,setTimeout(()=>{this.enabled()&&L.DomEvent.on(document,"click",this._documentClick,this)},100)},_documentClick(s){s.target!==this.textArea&&(this.disable(),!this.getText()&&this.options.removeIfEmpty&&this.remove())},_focusChange(s={}){let h=this._hasFocus;this._hasFocus=s.type==="focus",!h!=!this._hasFocus&&(this._hasFocus?(this._applyFocus(),this._focusText=this.getText(),this._fireTextFocus()):(this._removeFocus(),this._fireTextBlur(),this._focusText!==this.getText()&&(this._fireEdit(),this._layerEdited=!0)))},_applyFocus(){this.textArea.classList.add("pm-hasfocus"),this._map.dragging&&(this._safeToCacheDragState&&(this._originalMapDragState=this._map.dragging._enabled,this._safeToCacheDragState=!1),this._map.dragging.disable())},_removeFocus(){this._map.dragging&&(this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0),this.textArea.classList.remove("pm-hasfocus")},focus(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.focus()},blur(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.blur(),this._disableOnBlurActive&&this.disable()},hasFocus(){return this._hasFocus},getElement(){return this.textArea},setText(s){s&&(this.textArea.value=s),this._autoResize()},getText(){return this.textArea.value},_initTextMarker(){if(this.textArea=L.PM.Draw.Text.prototype._createTextArea.call(this),this.options.className){let h=this.options.className.split(" ");this.textArea.classList.add(...h)}let s=L.PM.Draw.Text.prototype._createTextIcon.call(this,this.textArea);this._layer.setIcon(s),this._layer.once("add",this._createTextMarker,this)},_createTextMarker(s=!1){this._layer.off("add",this._createTextMarker,this),this._layer.getElement().tabIndex=-1,this.textArea.wrap="off",this.textArea.style.overflow="hidden",this.textArea.style.height=L.DomUtil.getStyle(this.textArea,"font-size"),this.textArea.style.width="1px",this._layer.options.text&&this.setText(this._layer.options.text),this._autoResize(),s===!0&&(this.enable(),this.focus(),this._disableOnBlur())},_preventTextSelection(s){s.preventDefault()}});var At=function(s,h,p,v,k,B){this._matrix=[s,h,p,v,k,B]};At.init=()=>new L.PM.Matrix(1,0,0,1,0,0),At.prototype={transform(s){return this._transform(s.clone())},_transform(s){let h=this._matrix,{x:p,y:v}=s;return s.x=h[0]*p+h[1]*v+h[4],s.y=h[2]*p+h[3]*v+h[5],s},untransform(s){let h=this._matrix;return new L.Point((s.x/h[0]-h[4])/h[0],(s.y/h[2]-h[5])/h[2])},clone(){let s=this._matrix;return new L.PM.Matrix(s[0],s[1],s[2],s[3],s[4],s[5])},translate(s){if(s===void 0)return new L.Point(this._matrix[4],this._matrix[5]);let h,p;return typeof s=="number"?(h=s,p=s):(h=s.x,p=s.y),this._add(1,0,0,1,h,p)},scale(s,h){if(s===void 0)return new L.Point(this._matrix[0],this._matrix[3]);let p,v;return h=h||L.point(0,0),typeof s=="number"?(p=s,v=s):(p=s.x,v=s.y),this._add(p,0,0,v,h.x,h.y)._add(1,0,0,1,-h.x,-h.y)},rotate(s,h){let p=Math.cos(s),v=Math.sin(s);return h=h||new L.Point(0,0),this._add(p,v,-v,p,h.x,h.y)._add(1,0,0,1,-h.x,-h.y)},flip(){return this._matrix[1]*=-1,this._matrix[2]*=-1,this},_add(s,h,p,v,k,B){let z=[[],[],[]],q=this._matrix,J=[[q[0],q[2],q[4]],[q[1],q[3],q[5]],[0,0,1]],ee=[[s,p,k],[h,v,B],[0,0,1]],Re;s&&s instanceof L.PM.Matrix&&(q=s._matrix,ee=[[q[0],q[2],q[4]],[q[1],q[3],q[5]],[0,0,1]]);for(let Me=0;Me<3;Me+=1)for(let ut=0;ut<3;ut+=1){Re=0;for(let gt=0;gt<3;gt+=1)Re+=J[Me][gt]*ee[gt][ut];z[Me][ut]=Re}return this._matrix=[z[0][0],z[1][0],z[0][1],z[1][1],z[0][2],z[1][2]],this}};var Mt=At,Nt={calcMiddleLatLng(s,h,p){let v=s.project(h),k=s.project(p);return s.unproject(v._add(k)._divideBy(2))},findLayers(s){let h=[];return s.eachLayer(p=>{(p instanceof L.Polyline||p instanceof L.Marker||p instanceof L.Circle||p instanceof L.CircleMarker||p instanceof L.ImageOverlay)&&h.push(p)}),h=h.filter(p=>!!p.pm),h=h.filter(p=>!p._pmTempLayer),h=h.filter(p=>!L.PM.optIn&&!p.options.pmIgnore||L.PM.optIn&&p.options.pmIgnore===!1),h},circleToPolygon(s,h=60,p=!0){let v=s.getLatLng(),k=s.getRadius(),B=oi(v,k,h,0,p),z=[];for(let q=0;q<B.length;q+=1){let J=[B[q].lat,B[q].lng];z.push(J)}return L.polygon(z,s.options)},disablePopup(s){s.getPopup()&&(s._tempPopupCopy=s.getPopup(),s.unbindPopup())},enablePopup(s){s._tempPopupCopy&&(s.bindPopup(s._tempPopupCopy),delete s._tempPopupCopy)},_fireEvent(s,h,p,v=!1){s.fire(h,p,v);let{groups:k}=this.getAllParentGroups(s);k.forEach(B=>{B.fire(h,p,v)})},getAllParentGroups(s){let h=[],p=[],v=k=>{for(let B in k._eventParents)if(h.indexOf(B)===-1){h.push(B);let z=k._eventParents[B];p.push(z),v(z)}};return!s._pmLastGroupFetch||!s._pmLastGroupFetch.time||new Date().getTime()-s._pmLastGroupFetch.time>1e3?(v(s),s._pmLastGroupFetch={time:new Date().getTime(),groups:p,groupIds:h},{groupIds:h,groups:p}):{groups:s._pmLastGroupFetch.groups,groupIds:s._pmLastGroupFetch.groupIds}},createGeodesicPolygon:oi,getTranslation:gn,findDeepCoordIndex(s,h,p=!0){let v,k=z=>(q,J)=>{let ee=z.concat(J);if(p){if(q.lat&&q.lat===h.lat&&q.lng===h.lng)return v=ee,!0}else if(q.lat&&L.latLng(q).equals(h))return v=ee,!0;return Array.isArray(q)&&q.some(k(ee))};s.some(k([]));let B={};return v&&(B={indexPath:v,index:v[v.length-1],parentPath:v.slice(0,v.length-1)}),B},findDeepMarkerIndex(s,h){let p,v=B=>(z,q)=>{let J=B.concat(q);return z._leaflet_id===h._leaflet_id?(p=J,!0):Array.isArray(z)&&z.some(v(J))};s.some(v([]));let k={};return p&&(k={indexPath:p,index:p[p.length-1],parentPath:p.slice(0,p.length-1)}),k},_getIndexFromSegment(s,h){if(h&&h.length===2){let p=this.findDeepCoordIndex(s,h[0]),v=this.findDeepCoordIndex(s,h[1]),k=Math.max(p.index,v.index);return(p.index===0||v.index===0)&&k!==1&&(k+=1),{indexA:p,indexB:v,newIndex:k,indexPath:p.indexPath,parentPath:p.parentPath}}return null},_getRotatedRectangle(s,h,p,v){let k=Se(v,s),B=Se(v,h),z=p*Math.PI/180,q=Math.cos(z),J=Math.sin(z),ee=(B.x-k.x)*q+(B.y-k.y)*J,Re=(B.y-k.y)*q-(B.x-k.x)*J,Me=ee*q+k.x,ut=ee*J+k.y,gt=-Re*J+k.x,Et=Re*q+k.y,Wt=Je(v,k),Zt=Je(v,{x:Me,y:ut}),mn=Je(v,B),Oe=Je(v,{x:gt,y:Et});return[Wt,Zt,mn,Oe]},pxRadiusToMeterRadius(s,h,p){let v=h.project(p),k=L.point(v.x+s,v.y);return h.distance(h.unproject(k),p)}},Qt=Nt;L.PM=L.PM||{version:Hs.version,Map:Ns,Toolbar:jo,Draw:Tr,Edit:Pt,Utils:Qt,Matrix:Mt,activeLang:"en",optIn:!1,initialize(s){this.addInitHooks(s)},setOptIn(s){this.optIn=!!s},addInitHooks(){function s(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Map(this)):this.options.pmIgnore||(this.pm=new L.PM.Map(this)),this.pm&&this.pm.setGlobalOptions({})}L.Map.addInitHook(s);function h(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.LayerGroup(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.LayerGroup(this))}L.LayerGroup.addInitHook(h);function p(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this)):this.options.pmIgnore||(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this))}L.Marker.addInitHook(p);function v(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.CircleMarker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.CircleMarker(this))}L.CircleMarker.addInitHook(v);function k(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Line(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))}L.Polyline.addInitHook(k);function B(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Polygon(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Polygon(this))}L.Polygon.addInitHook(B);function z(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Rectangle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))}L.Rectangle.addInitHook(z);function q(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Circle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))}L.Circle.addInitHook(q);function J(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.ImageOverlay(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.ImageOverlay(this))}L.ImageOverlay.addInitHook(J)},reInitLayer(s){s instanceof L.LayerGroup&&s.eachLayer(h=>{this.reInitLayer(h)}),s.pm||L.PM.optIn&&s.options.pmIgnore!==!1||s.options.pmIgnore||(s instanceof L.Map?s.pm=new L.PM.Map(s):s instanceof L.Marker?s.options.textMarker?(s.pm=new L.PM.Edit.Text(s),s.pm._initTextMarker(),s.pm._createTextMarker(!1)):s.pm=new L.PM.Edit.Marker(s):s instanceof L.Circle?s.pm=new L.PM.Edit.Circle(s):s instanceof L.CircleMarker?s.pm=new L.PM.Edit.CircleMarker(s):s instanceof L.Rectangle?s.pm=new L.PM.Edit.Rectangle(s):s instanceof L.Polygon?s.pm=new L.PM.Edit.Polygon(s):s instanceof L.Polyline?s.pm=new L.PM.Edit.Line(s):s instanceof L.LayerGroup?s.pm=new L.PM.Edit.LayerGroup(s):s instanceof L.ImageOverlay&&(s.pm=new L.PM.Edit.ImageOverlay(s)))}},L.version==="1.7.1"&&L.Canvas.include({_onClick(s){let h=this._map.mouseEventToLayerPoint(s),p,v;for(let k=this._drawFirst;k;k=k.next)p=k.layer,p.options.interactive&&p._containsPoint(h)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(p))&&(v=p);v&&(L.DomEvent.fakeStop(s),this._fireEvent([v],s))}}),L.PM.initialize()})()),om}D5();var ed={exports:{}},um;function I5(){return um||(um=1,(function(o){(function(t){var e;e=Qm(),o.exports=t(e)})(function(t){return t.Polyline._flat=t.LineUtil.isFlat||t.Polyline._flat||function(e){return!t.Util.isArray(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]<"u"},t.GeometryUtil=t.extend(t.GeometryUtil||{},{distance:function(e,i,u){return e.latLngToLayerPoint(i).distanceTo(e.latLngToLayerPoint(u))},distanceSegment:function(e,i,u,l){var c=e.latLngToLayerPoint(i),d=e.latLngToLayerPoint(u),g=e.latLngToLayerPoint(l);return t.LineUtil.pointToSegmentDistance(c,d,g)},readableDistance:function(e,i){var u=i!=="imperial",l;return u?e>1e3?l=(e/1e3).toFixed(2)+" km":l=e.toFixed(1)+" m":(e*=1.09361,e>1760?l=(e/1760).toFixed(2)+" miles":l=e.toFixed(1)+" yd"),l},belongsSegment:function(e,i,u,l){l=l===void 0?.2:l;var c=i.distanceTo(u),d=i.distanceTo(e)+e.distanceTo(u)-c;return d/c<l},length:function(e){var i=t.GeometryUtil.accumulatedLengths(e);return i.length>0?i[i.length-1]:0},accumulatedLengths:function(e){if(typeof e.getLatLngs=="function"&&(e=e.getLatLngs()),e.length===0)return[];for(var i=0,u=[0],l=0,c=e.length-1;l<c;l++)i+=e[l].distanceTo(e[l+1]),u.push(i);return u},closestOnSegment:function(e,i,u,l){var c=e.getMaxZoom();c===1/0&&(c=e.getZoom());var d=e.project(i,c),g=e.project(u,c),y=e.project(l,c),S=t.LineUtil.closestPointOnSegment(d,g,y);return e.unproject(S,c)},closestOnCircle:function(e,i){const u=e.getLatLng(),l=e.getRadius(),c=typeof l=="number"?l:l.radius,d=i.lng,g=i.lat,y=u.lng,S=u.lat,E=d-y,A=g-S,x=Math.sqrt(E*E+A*A),R=y+E/x*c,M=S+A/x*c;return new t.LatLng(M,R)},closest:function(e,i,u,l){var c,d=1/0,g=null,y,S,E,A;if(i instanceof Array)if(i[0]instanceof Array&&typeof i[0][0]!="number"){for(y=0;y<i.length;y++)A=t.GeometryUtil.closest(e,i[y],u,l),A&&A.distance<d&&(d=A.distance,g=A);return g}else if(i[0]instanceof t.LatLng||typeof i[0][0]=="number"||typeof i[0].lat=="number")i=t.polyline(i);else return g;if(!(i instanceof t.Polyline))return g;if(c=JSON.parse(JSON.stringify(i.getLatLngs().slice(0))),i instanceof t.Polygon){var x=function(O){if(t.Polyline._flat(O))O.push(O[0]);else for(var W=0;W<O.length;W++)x(O[W])};x(c)}if(t.Polyline._flat(c)){if(l){for(y=0,S=c.length;y<S;y++){var R=c[y];E=t.GeometryUtil.distance(e,u,R),E<d&&(d=E,g=R,g.distance=E)}return g}for(y=0,S=c.length;y<S-1;y++){var M=c[y],I=c[y+1];E=t.GeometryUtil.distanceSegment(e,u,M,I),E<=d&&(d=E,g=t.GeometryUtil.closestOnSegment(e,u,M,I),g.distance=E)}return g}else{for(y=0;y<c.length;y++)A=t.GeometryUtil.closest(e,c[y],u,l),A.distance<d&&(d=A.distance,g=A);return g}},closestLayer:function(e,i,u){for(var l=1/0,c=null,d=null,g=1/0,y=0,S=i.length;y<S;y++){var E=i[y];if(E instanceof t.LayerGroup){var A=t.GeometryUtil.closestLayer(e,E.getLayers(),u);A.distance<l&&(l=A.distance,c=A)}else E instanceof t.Circle?(d=this.closestOnCircle(E,u),g=t.GeometryUtil.distance(e,u,d)):typeof E.getLatLng=="function"?(d=E.getLatLng(),g=t.GeometryUtil.distance(e,u,d)):(d=t.GeometryUtil.closest(e,E,u),d&&(g=d.distance)),g<l&&(l=g,c={layer:E,latlng:d,distance:g})}return c},nClosestLayers:function(e,i,u,l){if(l=typeof l=="number"?l:i.length,l<1||i.length<1)return null;for(var c=[],d,g,y=0,S=i.length;y<S;y++){var E=i[y];if(E instanceof t.LayerGroup){var A=t.GeometryUtil.closestLayer(e,E.getLayers(),u);c.push(A)}else E instanceof t.Circle?(g=this.closestOnCircle(E,u),d=t.GeometryUtil.distance(e,u,g)):typeof E.getLatLng=="function"?(g=E.getLatLng(),d=t.GeometryUtil.distance(e,u,g)):(g=t.GeometryUtil.closest(e,E,u),g&&(d=g.distance)),c.push({layer:E,latlng:g,distance:d})}return c.sort(function(x,R){return x.distance-R.distance}),c.length>l?c.slice(0,l):c},layersWithin:function(e,i,u,l){l=typeof l=="number"?l:1/0;for(var c=[],d=null,g=0,y=0,S=i.length;y<S;y++){var E=i[y];typeof E.getLatLng=="function"?(d=E.getLatLng(),g=t.GeometryUtil.distance(e,u,d)):(d=t.GeometryUtil.closest(e,E,u),d&&(g=d.distance)),d&&g<l&&c.push({layer:E,latlng:d,distance:g})}var A=c.sort(function(x,R){return x.distance-R.distance});return A},closestLayerSnap:function(e,i,u,l,c){l=typeof l=="number"?l:1/0,c=typeof c=="boolean"?c:!0;var d=t.GeometryUtil.closestLayer(e,i,u);if(!d||d.distance>l)return null;if(c&&typeof d.layer.getLatLngs=="function"){var g=t.GeometryUtil.closest(e,d.layer,d.latlng,!0);g.distance<l&&(d.latlng=g,d.distance=t.GeometryUtil.distance(e,g,u))}return d},interpolateOnPointSegment:function(e,i,u){return t.point(e.x*(1-u)+u*i.x,e.y*(1-u)+u*i.y)},interpolateOnLine:function(e,i,u){i=i instanceof t.Polyline?i.getLatLngs():i;var l=i.length;if(l<2)return null;if(u=Math.max(Math.min(u,1),0),u===0)return{latLng:i[0]instanceof t.LatLng?i[0]:t.latLng(i[0]),predecessor:-1};if(u==1)return{latLng:i[i.length-1]instanceof t.LatLng?i[i.length-1]:t.latLng(i[i.length-1]),predecessor:i.length-2};var c=e.getMaxZoom();c===1/0&&(c=e.getZoom());for(var d=[],g=0,y=0;y<l;y++)d[y]=e.project(i[y],c),y>0&&(g+=d[y-1].distanceTo(d[y]));for(var S=g*u,E=0,A=0,y=0;A<S;y++){var x=d[y],R=d[y+1];E=A,A+=x.distanceTo(R)}if(x==null&&R==null)var x=d[0],R=d[1],y=1;var M=A-E!==0?(S-E)/(A-E):0,I=t.GeometryUtil.interpolateOnPointSegment(x,R,M);return{latLng:e.unproject(I,c),predecessor:y-1}},locateOnLine:function(e,i,u){var l=i.getLatLngs();if(u.equals(l[0]))return 0;if(u.equals(l[l.length-1]))return 1;for(var c=t.GeometryUtil.closest(e,i,u,!1),d=t.GeometryUtil.accumulatedLengths(l),g=d[d.length-1],y=0,S=!1,E=0,A=l.length-1;E<A;E++){var x=l[E],R=l[E+1];if(y=d[E],t.GeometryUtil.belongsSegment(c,x,R,.001)){y+=x.distanceTo(c),S=!0;break}}if(!S)throw"Could not interpolate "+u.toString()+" within "+i.toString();return y/g},reverse:function(e){return t.polyline(e.getLatLngs().slice(0).reverse())},extract:function(e,i,u,l){if(u>l)return t.GeometryUtil.extract(e,t.GeometryUtil.reverse(i),1-u,1-l);u=Math.max(Math.min(u,1),0),l=Math.max(Math.min(l,1),0);var c=i.getLatLngs(),d=t.GeometryUtil.interpolateOnLine(e,i,u),g=t.GeometryUtil.interpolateOnLine(e,i,l);if(u==l){var y=t.GeometryUtil.interpolateOnLine(e,i,l);return[y.latLng]}d.predecessor==-1&&(d.predecessor=0),g.predecessor==-1&&(g.predecessor=0);var S=c.slice(d.predecessor+1,g.predecessor+1);return S.unshift(d.latLng),S.push(g.latLng),S},isBefore:function(e,i){if(!i)return!1;var u=e.getLatLngs(),l=i.getLatLngs();return u[u.length-1].equals(l[0])},isAfter:function(e,i){if(!i)return!1;var u=e.getLatLngs(),l=i.getLatLngs();return u[0].equals(l[l.length-1])},startsAtExtremity:function(e,i){if(!i)return!1;var u=e.getLatLngs(),l=i.getLatLngs(),c=u[0];return c.equals(l[0])||c.equals(l[l.length-1])},computeAngle:function(e,i){return Math.atan2(i.y-e.y,i.x-e.x)*180/Math.PI},computeSlope:function(e,i){var u=(i.y-e.y)/(i.x-e.x),l=e.y-u*e.x;return{a:u,b:l}},rotatePoint:function(e,i,u,l){var c=e.getMaxZoom();c===1/0&&(c=e.getZoom());var d=u*Math.PI/180,g=e.project(i,c),y=e.project(l,c),S=Math.cos(d)*(g.x-y.x)-Math.sin(d)*(g.y-y.y)+y.x,E=Math.sin(d)*(g.x-y.x)+Math.cos(d)*(g.y-y.y)+y.y;return e.unproject(new t.Point(S,E),c)},bearing:function(e,i){var u=Math.PI/180,l=e.lat*u,c=i.lat*u,d=e.lng*u,g=i.lng*u,y=Math.sin(g-d)*Math.cos(c),S=Math.cos(l)*Math.sin(c)-Math.sin(l)*Math.cos(c)*Math.cos(g-d),E=(Math.atan2(y,S)*180/Math.PI+360)%360;return E>=180?E-360:E},destination:function(e,i,u){i=(i+360)%360;var l=Math.PI/180,c=180/Math.PI,d=t.CRS.Earth.R,g=e.lng*l,y=e.lat*l,S=i*l,E=Math.sin(y),A=Math.cos(y),x=Math.cos(u/d),R=Math.sin(u/d),M=Math.asin(E*x+A*R*Math.cos(S)),I=g+Math.atan2(Math.sin(S)*R*A,x-E*Math.sin(M));return I=I*c,I=I>180?I-360:I<-180?I+360:I,t.latLng([M*c,I])},angle:function(e,i,u){var l=e.latLngToContainerPoint(i),c=e.latLngToContainerPoint(u),d=Math.atan2(c.y-l.y,c.x-l.x)*180/Math.PI+90;return d+=d<0?360:0,d},destinationOnSegment:function(e,i,u,l){var c=t.GeometryUtil.angle(e,i,u),d=t.GeometryUtil.destination(i,c,l);return t.GeometryUtil.closestOnSegment(e,d,i,u)}}),t.GeometryUtil})})(ed)),ed.exports}I5();const R5=ot.forwardRef(function({layers:t,visible:e,styles:i},u){const l=ot.useRef(null),[c,d]=ot.useState([]),[g,y]=ot.useState(!1),S=ot.useMemo(()=>({lat:-33.45,lng:-70.65}),[]);ot.useImperativeHandle(u,()=>({zoomTo(ie){if(l.current)try{const Z=Kl.geoJSON(ie).getBounds();Z.isValid()&&l.current.fitBounds(Z,{padding:[20,20]})}catch{}},get leafletMap(){return l.current},get wmsLayers(){return c}})),ot.useEffect(()=>{if(!l.current)return;l.current.on("pm:create",xe=>{if(xe.shape==="Polygon"){const Z=Kl.GeometryUtil.geodesicArea(xe.layer.getLatLngs()[0]);alert(`rea: ${(Z/1e6).toFixed(2)} km`)}if(xe.shape==="Line"){const Z=xe.layer.getLatLngs(),Y=Kl.GeometryUtil.length(Z);alert(`Distancia: ${(Y/1e3).toFixed(2)} km`)}})},[]);function E(){if(!l.current)return;const ie=l.current;g?(ie.pm.removeControls(),y(!1)):(ie.pm.addControls({position:"topleft",drawMarker:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawRectangle:!0,editMode:!0,dragMode:!0,removalMode:!0}),y(!0))}function A(){if(!l.current)return;const ie=[[-56,-76],[-17.5,-66]];l.current.fitBounds(ie,{padding:[20,20]})}async function x(){if(l.current){if(!("geolocation"in navigator)){alert("Geolocalizacin no disponible.");return}navigator.geolocation.getCurrentPosition(ie=>{const xe=new Tl.LatLng(ie.coords.latitude,ie.coords.longitude);l.current.setView(xe,13),Kl.circleMarker(xe,{radius:6}).addTo(l.current)},ie=>alert("No se pudo obtener tu ubicacin: "+ie.message),{enableHighAccuracy:!0,timeout:1e4})}}const[R,M]=ot.useState(!1);function I(){const ie=l.current?.getContainer();ie&&(document.fullscreenElement?(document.exitFullscreen?.(),M(!1)):(ie.requestFullscreen?.(),M(!0)))}async function O(){try{const ie=t.filter(Ne=>e[Ne.id]);if(ie.length===0){alert("No hay capas visibles para exportar.");return}const Z=`<?xml version="1.0" encoding="UTF-8"?><kml xmlns="http://www.opengis.net/kml/2.2"><Document><name>Pudumaps export</name>${ie.map(Ne=>{const te=Ne.geojson.type==="FeatureCollection"?Ne.geojson:{type:"FeatureCollection",features:[Ne.geojson]},ve=E2(te).replace(/^.*?<Document>/s,"").replace(/<\/Document>.*$/s,"");return`<Folder><name>${de(Ne.name||"Capa")}</name>${ve}</Folder>`}).join(`
`)}</Document></kml>`,Y=new L2;Y.file("doc.kml",Z);const me=await Y.generateAsync({type:"blob"});K(me,`pudumaps_${Date.now()}.kmz`)}catch(ie){console.error(ie),alert("No se pudo exportar KMZ: "+(ie?.message||ie))}}async function W(){try{if(!l.current){alert("No se encontr el mapa.");return}O5(l.current,(ie,xe)=>{if(ie){console.error(ie),alert("No se pudo exportar el mapa a PDF");return}const Z=xe.toDataURL("image/png"),Y=new Bn({orientation:"landscape",unit:"pt",format:"a4"}),me=Y.internal.pageSize.getWidth(),Ne=Y.internal.pageSize.getHeight(),te=me,G=xe.height/xe.width*me;Y.addImage(Z,"PNG",0,0,te,G),Y.save(`pudumaps_${Date.now()}.pdf`)})}catch(ie){console.error(ie),alert("No se pudo exportar PDF: "+(ie?.message||ie))}}return it.jsxs("div",{className:"relative w-full rounded-xl border shadow-lg overflow-hidden",children:[it.jsxs("div",{className:"absolute top-2 left-2 z-[1000] flex flex-wrap gap-1 sm:gap-2 justify-center p-2 bg-white/90 backdrop-blur rounded-lg shadow-md max-w-[90vw]",children:[it.jsx("button",{onClick:A,className:"btn-map",children:" Chile"}),it.jsx("button",{onClick:x,className:"btn-map",children:" Mi ubicacin"}),it.jsx("button",{onClick:I,className:"btn-map",children:R?" Salir":" Pantalla completa"}),it.jsxs("button",{onClick:E,className:`btn-map ${g?"bg-green-600 text-white":""}`,children:[" ",g?"Medicin activa":"Medir"]}),it.jsx("button",{onClick:O,className:"btn-map bg-[#2563eb] hover:bg-[#1e40af] text-white",children:" KMZ"}),it.jsx("button",{onClick:W,className:"btn-map bg-[#4f46e5] hover:bg-[#3730a3] text-white",children:" PDF"})]}),it.jsxs(_2,{center:[S.lat,S.lng],zoom:5,className:"w-full h-[60vh] sm:h-[70vh] rounded-xl",preferCanvas:!0,zoomControl:!1,ref:ie=>{ie&&(l.current=ie)},children:[it.jsx(w2,{position:"topright"}),it.jsx(v2,{position:"bottomleft"}),it.jsxs(eh,{position:"topleft",children:[it.jsx(eh.BaseLayer,{checked:!0,name:"OpenStreetMap",children:it.jsx(I0,{attribution:" OpenStreetMap",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",crossOrigin:"anonymous"})}),it.jsx(eh.BaseLayer,{name:"Esri World Imagery",children:it.jsx(I0,{attribution:"Tiles  Esri",url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",crossOrigin:"anonymous"})}),it.jsx(eh.Overlay,{checked:!1,name:"Propiedad Minera (Sernageomin)",children:it.jsx(y2,{url:"https://catastromineronline.sernageomin.cl/arcgismin/services/MINERIA/WMS_PROPIEDAD_MINERA_19S/MapServer/WMSServer",params:{layers:"0,1,2,3",format:"image/png",transparent:!0,version:"1.3.0"},crossOrigin:"anonymous",eventHandlers:{add:ie=>d(xe=>[...xe,ie.target]),remove:ie=>d(xe=>xe.filter(Z=>Z!==ie.target))}})})]}),t.filter(ie=>e[ie.id]).map(ie=>{const xe=i[ie.id];return it.jsx(d2,{data:ie.geojson,style:()=>({color:xe?.color??"#374151",weight:xe?.weight??2,opacity:xe?.opacity??1,fillColor:xe?.fillColor??"#1f2937",fillOpacity:xe?.fillOpacity??.2}),pointToLayer:(Z,Y)=>Kl.circleMarker(Y,{radius:xe?.radius??5})},ie.id)}),it.jsx(F5,{layers:c})]})]});function K(ie,xe){const Z=URL.createObjectURL(ie),Y=document.createElement("a");Y.href=Z,Y.download=xe,Y.click(),URL.revokeObjectURL(Z)}function de(ie){return ie.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}});function F5({layers:o}){const t=f2({click(e){o.forEach(i=>{if(!i.wmsParams)return;const u=`${i._url}?service=WMS&request=GetFeatureInfo&layers=${i.wmsParams.layers}&query_layers=${i.wmsParams.layers}&info_format=application/json&feature_count=5&crs=EPSG:4326&x=${Math.floor(t.latLngToContainerPoint(e.latlng).x)}&y=${Math.floor(t.latLngToContainerPoint(e.latlng).y)}&height=${t.getSize().y}&width=${t.getSize().x}&bbox=${t.getBounds().toBBoxString()}`;fetch(u).then(l=>l.json()).then(l=>{if(l.features&&l.features.length>0){const c=l.features[0].properties;let d='<div><b>Info WMS</b></div><table style="font-size:12px">';for(const[g,y]of Object.entries(c))d+=`<tr><td><b>${g}</b></td><td>${y}</td></tr>`;d+="</table>",Kl.popup().setLatLng(e.latlng).setContent(d).openOn(t)}}).catch(()=>{})})}});return null}function j5({layers:o,styles:t,onLocalChange:e}){const[i,u]=ot.useState(!1);return o.length===0?null:it.jsxs("div",{className:"mt-4",children:[it.jsxs("button",{onClick:()=>u(!i),className:"btn btn-secondary w-full flex justify-between items-center text-sm sm:text-base",children:[" Estilos de capas",it.jsx("span",{children:i?"":""})]}),i&&it.jsx("div",{className:"mt-4 bg-white rounded-xl shadow-md p-4 sm:p-6 space-y-6",children:o.map(l=>{const c=t[l.id]||{};return it.jsxs("div",{className:"border-b border-gray-200 pb-4 last:border-0 last:pb-0",children:[it.jsx("h4",{className:"font-semibold text-gray-700 mb-2 text-sm sm:text-base",children:l.name}),it.jsxs("label",{className:"block mb-2 text-xs sm:text-sm",children:["Borde",it.jsx("input",{type:"color",value:c.color||"#000000",onChange:d=>e(l.id,{color:d.target.value}),className:"ml-2"})]}),it.jsxs("label",{className:"block mb-2 text-xs sm:text-sm",children:["Opacidad",it.jsx("input",{type:"range",min:0,max:1,step:.05,value:c.opacity??1,onChange:d=>e(l.id,{opacity:parseFloat(d.target.value)}),className:"w-full"}),it.jsxs("span",{className:"text-xs sm:text-sm ml-2",children:[Math.round((c.opacity??1)*100),"%"]})]}),it.jsxs("label",{className:"block mb-2 text-xs sm:text-sm",children:["Relleno",it.jsx("input",{type:"color",value:c.fillColor||"#000000",onChange:d=>e(l.id,{fillColor:d.target.value}),className:"ml-2"}),it.jsx("input",{type:"range",min:0,max:1,step:.05,value:c.fillOpacity??.5,onChange:d=>e(l.id,{fillOpacity:parseFloat(d.target.value)}),className:"w-full"}),it.jsxs("span",{className:"text-xs sm:text-sm ml-2",children:[Math.round((c.fillOpacity??.5)*100),"%"]})]}),it.jsxs("label",{className:"block mb-2 text-xs sm:text-sm",children:["Radio",it.jsx("input",{type:"range",min:1,max:20,step:1,value:c.radius??5,onChange:d=>e(l.id,{radius:parseInt(d.target.value)}),className:"w-full"}),it.jsxs("span",{className:"text-xs sm:text-sm ml-2",children:[c.radius??5,"px"]})]})]},l.id)})})]})}const hm=[{id:"sernageomin-mineria",url:"https://catastromineronline.sernageomin.cl/arcgismin/services/MINERIA/WMS_PROPIEDAD_MINERA_19S/MapServer/WMSServer",name:"0,1,2,3",layer:Kl.tileLayer.wms("https://catastromineronline.sernageomin.cl/arcgismin/services/MINERIA/WMS_PROPIEDAD_MINERA_19S/MapServer/WMSServer",{layers:"0,1,2,3",format:"image/png",transparent:!0,version:"1.3.0"}),visible:!1}];function cm({mapRef:o}){const[t,e]=ot.useState(""),[i,u]=ot.useState(""),[l,c]=ot.useState([]),[d,g]=ot.useState({type:null,text:""});ot.useEffect(()=>{c(hm)},[]);const y=(x,R)=>{g({type:x,text:R}),x!=="loading"&&setTimeout(()=>g({type:null,text:""}),3e3)},S=()=>{const x=o.current?.leafletMap;if(!x||!t.trim())return;const R=t.trim(),M=`${Date.now()}`;y("loading"," Cargando capa...");try{const I=Kl.tileLayer.wms(R,{layers:i||"0",format:"image/png",transparent:!0,version:"1.3.0"});I.addTo(x),c(O=>[...O,{id:M,url:R,name:i||"0",layer:I,visible:!0}]),y("success"," Capa cargada correctamente")}catch(I){console.error(I),y("error"," Error al cargar la capa")}},E=x=>{const R=o.current?.leafletMap;R&&c(M=>M.map(I=>I.id===x?(I.visible&&I.layer?R.removeLayer(I.layer):I.layer&&I.layer.addTo(R),{...I,visible:!I.visible}):I))},A=x=>{const R=o.current?.leafletMap;R&&c(M=>{const I=M.find(O=>O.id===x);return I&&I.layer&&R.removeLayer(I.layer),M.filter(O=>O.id!==x)})};return it.jsxs("div",{className:"p-4 text-white bg-[#1e293b] h-full flex flex-col",children:[it.jsx("h2",{className:"text-lg font-semibold mb-3",children:" Capas externas"}),it.jsxs("div",{className:"flex flex-col gap-2 mb-3",children:[it.jsx("input",{type:"text",value:t,onChange:x=>e(x.target.value),placeholder:"URL WMS",className:"px-2 py-1 rounded text-black"}),it.jsx("input",{type:"text",value:i,onChange:x=>u(x.target.value),placeholder:"Nombre/ID de capa (ej: 0 o 0,1,2)",className:"px-2 py-1 rounded text-black"}),it.jsx("button",{onClick:S,className:"bg-blue-600 hover:bg-blue-700 px-3 py-1 rounded",children:"Agregar"})]}),d.type&&it.jsx("div",{className:`mb-3 text-sm px-2 py-1 rounded ${d.type==="loading"?"bg-yellow-600":d.type==="success"?"bg-green-600":"bg-red-600"}`,children:d.text}),it.jsx("h3",{className:"text-md font-medium mb-2",children:"Capas activas"}),it.jsxs("ul",{className:"space-y-2",children:[l.length===0&&it.jsx("li",{className:"text-gray-400 text-sm",children:"No hay capas cargadas"}),l.map(x=>it.jsxs("li",{className:"flex justify-between items-center bg-gray-700 px-2 py-1 rounded",children:[it.jsxs("label",{className:"flex items-center gap-2 truncate",children:[it.jsx("input",{type:"checkbox",checked:x.visible,onChange:()=>E(x.id)}),x.name]}),!hm.find(R=>R.id===x.id)&&it.jsx("button",{onClick:()=>A(x.id),className:"bg-red-600 hover:bg-red-700 px-2 py-0.5 rounded text-sm",children:""})]},x.id))]})]})}function z5(){const{projectId:o}=ey(),[t,e]=ot.useState([]),[i,u]=ot.useState({}),[l,c]=ot.useState({}),[d,g]=ot.useState(!0),[y,S]=ot.useState(null),[E,A]=ot.useState(null),x=ot.useRef(null),[R,M]=ot.useState(!1);async function I(){if(!o)return;g(!0);const{data:xe,error:Z}=await Aa.from("project_layers").select("id,name,geojson").eq("project_id",o).order("created_at",{ascending:!1});if(Z){console.error(Z),e([]),A(Z.message),g(!1);return}e(xe||[]);const Y={};for(const me of xe||[])Y[me.id]=!0;u(Y),g(!1)}async function O(xe){if(xe.length===0){c({});return}const{data:Z,error:Y}=await Aa.from("project_layer_styles").select("layer_id, stroke, weight, opacity, fill, fill_opacity, point_radius").in("layer_id",xe);if(Y){console.error(Y);return}const me={};for(const Ne of xe){const te=Z?.find(G=>G.layer_id===Ne);me[Ne]={layer_id:Ne,color:te?.stroke??"#1f2937",weight:te?.weight??2,opacity:te?.opacity??1,fillColor:te?.fill??"#1f2937",fillOpacity:te?.fill_opacity??.2,radius:te?.point_radius??5}}c(me)}ot.useEffect(()=>{I()},[o]),ot.useEffect(()=>{O(t.map(xe=>xe.id))},[t]),ot.useEffect(()=>{if(y){const xe=setTimeout(()=>S(null),4e3);return()=>clearTimeout(xe)}},[y]);function W(xe){u(Z=>({...Z,[xe]:!Z[xe]}))}async function K(xe,Z){if(!confirm(`Eliminar la capa "${Z??xe}"?`))return;const{error:me}=await Aa.from("project_layers").delete().eq("id",xe);if(me){alert(me.message);return}e(Ne=>Ne.filter(te=>te.id!==xe)),u(Ne=>{const te={...Ne};return delete te[xe],te}),c(Ne=>{const te={...Ne};return delete te[xe],te})}function de(xe){x.current?.zoomTo(xe)}function ie(xe,Z,Y){c(me=>({...me,[xe]:{...me[xe],...Z}}))}return it.jsxs("div",{className:"wrap",children:[it.jsxs("div",{className:"card flex flex-col lg:flex-row",style:{width:"min(1400px, 98vw)"},children:[it.jsxs("div",{className:"flex-1 flex flex-col",children:[it.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-3",children:[it.jsx(Uc,{to:"/",className:"text-blue-400 hover:underline text-sm sm:text-base",children:" Volver"}),it.jsx("h2",{className:"title text-lg sm:text-xl",children:"Proyecto"}),it.jsx("div",{className:"sm:ml-auto w-full sm:w-auto",children:it.jsx(t2,{projectId:o,onLayerAdded:()=>{S(" Capa creada"),I()},onError:xe=>A(xe)})})]}),d&&it.jsx("div",{className:"hint text-blue-600 mb-2",children:" Cargando capas..."}),E&&it.jsx("div",{className:"hint text-red-700 mb-2",children:E}),y&&it.jsx("div",{className:"hint text-green-700 mb-2",children:y}),it.jsx(n2,{layers:t,visible:i,onToggleVisible:W,onZoom:xe=>de(xe.geojson),onDelete:xe=>K(xe.id,xe.name)}),it.jsx(j5,{layers:t,styles:l,onLocalChange:(xe,Z)=>ie(xe,Z)}),it.jsx("div",{style:{flex:1,minHeight:"500px"},children:it.jsx(R5,{ref:x,layers:t,visible:i,styles:l})})]}),it.jsx("div",{className:"hidden lg:block w-80 bg-[#1e293b] border-l border-gray-700",children:it.jsx(cm,{mapRef:x})})]}),it.jsx("button",{onClick:()=>M(!0),className:"lg:hidden fixed top-4 right-4 z-[1500] w-12 h-12 flex items-center justify-center rounded-full bg-green-600 hover:bg-green-700 text-white shadow-lg transition","aria-label":"Capas externas",children:""}),R&&it.jsxs("div",{className:"fixed inset-0 z-[2000] flex",children:[it.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:()=>M(!1)}),it.jsxs("aside",{className:`
              relative w-72 bg-[#1e293b] h-full p-4 shadow-xl z-[2000] overflow-y-auto
              transform transition-transform duration-300 ease-in-out
              ${R?"translate-x-0":"translate-x-full"}
            `,children:[it.jsxs("div",{className:"flex justify-between items-center mb-4 text-white",children:[it.jsx("h2",{className:"font-semibold",children:"Capas externas"}),it.jsx("button",{onClick:()=>M(!1),className:"text-gray-400 hover:text-gray-200",children:""})]}),it.jsx(cm,{mapRef:x})]})]})]})}function U5(){return it.jsx(e2,{fallback:it.jsx(Lv,{}),children:o=>it.jsx(Fy,{basename:"/pudumaps",children:it.jsxs(my,{children:[it.jsx(dd,{path:"/",element:it.jsx(Qy,{email:o.user.email??"sin-email"})}),it.jsx(dd,{path:"/project/:projectId",element:it.jsx(z5,{})})]})})})}m_.createRoot(document.getElementById("root")).render(it.jsx(Bh.StrictMode,{children:it.jsx(U5,{})}));export{Lr as _,Jl as c,bu as g};
