(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();var Kl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wu(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function pm(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var t=s.default;if(typeof t=="function"){var e=function i(){var a=!1;try{a=this instanceof i}catch{}return a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(s).forEach(function(i){var a=Object.getOwnPropertyDescriptor(s,i);Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:function(){return s[i]}})}),e}var Ef={exports:{}},_c={},Pf={exports:{}},er={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp;function l_(){if(Zp)return er;Zp=1;var s=Symbol.for("react.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),k=Symbol.iterator;function P(re){return re===null||typeof re!="object"?null:(re=k&&re[k]||re["@@iterator"],typeof re=="function"?re:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,A={};function I(re,F,ce){this.props=re,this.context=F,this.refs=A,this.updater=ce||w}I.prototype.isReactComponent={},I.prototype.setState=function(re,F){if(typeof re!="object"&&typeof re!="function"&&re!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,re,F,"setState")},I.prototype.forceUpdate=function(re){this.updater.enqueueForceUpdate(this,re,"forceUpdate")};function B(){}B.prototype=I.prototype;function U(re,F,ce){this.props=re,this.context=F,this.refs=A,this.updater=ce||w}var Z=U.prototype=new B;Z.constructor=U,O(Z,I.prototype),Z.isPureReactComponent=!0;var le=Array.isArray,pe=Object.prototype.hasOwnProperty,ie={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function Y(re,F,ce){var me,_e={},Te=null,Je=null;if(F!=null)for(me in F.ref!==void 0&&(Je=F.ref),F.key!==void 0&&(Te=""+F.key),F)pe.call(F,me)&&!$.hasOwnProperty(me)&&(_e[me]=F[me]);var $e=arguments.length-2;if($e===1)_e.children=ce;else if(1<$e){for(var Xe=Array($e),Nt=0;Nt<$e;Nt++)Xe[Nt]=arguments[Nt+2];_e.children=Xe}if(re&&re.defaultProps)for(me in $e=re.defaultProps,$e)_e[me]===void 0&&(_e[me]=$e[me]);return{$$typeof:s,type:re,key:Te,ref:Je,props:_e,_owner:ie.current}}function ue(re,F){return{$$typeof:s,type:re.type,key:F,ref:re.ref,props:re.props,_owner:re._owner}}function Me(re){return typeof re=="object"&&re!==null&&re.$$typeof===s}function J(re){var F={"=":"=0",":":"=2"};return"$"+re.replace(/[=:]/g,function(ce){return F[ce]})}var G=/\/+/g;function se(re,F){return typeof re=="object"&&re!==null&&re.key!=null?J(""+re.key):F.toString(36)}function j(re,F,ce,me,_e){var Te=typeof re;(Te==="undefined"||Te==="boolean")&&(re=null);var Je=!1;if(re===null)Je=!0;else switch(Te){case"string":case"number":Je=!0;break;case"object":switch(re.$$typeof){case s:case t:Je=!0}}if(Je)return Je=re,_e=_e(Je),re=me===""?"."+se(Je,0):me,le(_e)?(ce="",re!=null&&(ce=re.replace(G,"$&/")+"/"),j(_e,F,ce,"",function(Nt){return Nt})):_e!=null&&(Me(_e)&&(_e=ue(_e,ce+(!_e.key||Je&&Je.key===_e.key?"":(""+_e.key).replace(G,"$&/")+"/")+re)),F.push(_e)),1;if(Je=0,me=me===""?".":me+":",le(re))for(var $e=0;$e<re.length;$e++){Te=re[$e];var Xe=me+se(Te,$e);Je+=j(Te,F,ce,Xe,_e)}else if(Xe=P(re),typeof Xe=="function")for(re=Xe.call(re),$e=0;!(Te=re.next()).done;)Te=Te.value,Xe=me+se(Te,$e++),Je+=j(Te,F,ce,Xe,_e);else if(Te==="object")throw F=String(re),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(re).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return Je}function Ae(re,F,ce){if(re==null)return re;var me=[],_e=0;return j(re,me,"","",function(Te){return F.call(ce,Te,_e++)}),me}function Ue(re){if(re._status===-1){var F=re._result;F=F(),F.then(function(ce){(re._status===0||re._status===-1)&&(re._status=1,re._result=ce)},function(ce){(re._status===0||re._status===-1)&&(re._status=2,re._result=ce)}),re._status===-1&&(re._status=0,re._result=F)}if(re._status===1)return re._result.default;throw re._result}var je={current:null},Le={transition:null},Be={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:Le,ReactCurrentOwner:ie};function Ee(){throw Error("act(...) is not supported in production builds of React.")}return er.Children={map:Ae,forEach:function(re,F,ce){Ae(re,function(){F.apply(this,arguments)},ce)},count:function(re){var F=0;return Ae(re,function(){F++}),F},toArray:function(re){return Ae(re,function(F){return F})||[]},only:function(re){if(!Me(re))throw Error("React.Children.only expected to receive a single React element child.");return re}},er.Component=I,er.Fragment=e,er.Profiler=a,er.PureComponent=U,er.StrictMode=i,er.Suspense=p,er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Be,er.act=Ee,er.cloneElement=function(re,F,ce){if(re==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+re+".");var me=O({},re.props),_e=re.key,Te=re.ref,Je=re._owner;if(F!=null){if(F.ref!==void 0&&(Te=F.ref,Je=ie.current),F.key!==void 0&&(_e=""+F.key),re.type&&re.type.defaultProps)var $e=re.type.defaultProps;for(Xe in F)pe.call(F,Xe)&&!$.hasOwnProperty(Xe)&&(me[Xe]=F[Xe]===void 0&&$e!==void 0?$e[Xe]:F[Xe])}var Xe=arguments.length-2;if(Xe===1)me.children=ce;else if(1<Xe){$e=Array(Xe);for(var Nt=0;Nt<Xe;Nt++)$e[Nt]=arguments[Nt+2];me.children=$e}return{$$typeof:s,type:re.type,key:_e,ref:Te,props:me,_owner:Je}},er.createContext=function(re){return re={$$typeof:c,_currentValue:re,_currentValue2:re,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},re.Provider={$$typeof:o,_context:re},re.Consumer=re},er.createElement=Y,er.createFactory=function(re){var F=Y.bind(null,re);return F.type=re,F},er.createRef=function(){return{current:null}},er.forwardRef=function(re){return{$$typeof:f,render:re}},er.isValidElement=Me,er.lazy=function(re){return{$$typeof:b,_payload:{_status:-1,_result:re},_init:Ue}},er.memo=function(re,F){return{$$typeof:v,type:re,compare:F===void 0?null:F}},er.startTransition=function(re){var F=Le.transition;Le.transition={};try{re()}finally{Le.transition=F}},er.unstable_act=Ee,er.useCallback=function(re,F){return je.current.useCallback(re,F)},er.useContext=function(re){return je.current.useContext(re)},er.useDebugValue=function(){},er.useDeferredValue=function(re){return je.current.useDeferredValue(re)},er.useEffect=function(re,F){return je.current.useEffect(re,F)},er.useId=function(){return je.current.useId()},er.useImperativeHandle=function(re,F,ce){return je.current.useImperativeHandle(re,F,ce)},er.useInsertionEffect=function(re,F){return je.current.useInsertionEffect(re,F)},er.useLayoutEffect=function(re,F){return je.current.useLayoutEffect(re,F)},er.useMemo=function(re,F){return je.current.useMemo(re,F)},er.useReducer=function(re,F,ce){return je.current.useReducer(re,F,ce)},er.useRef=function(re){return je.current.useRef(re)},er.useState=function(re){return je.current.useState(re)},er.useSyncExternalStore=function(re,F,ce){return je.current.useSyncExternalStore(re,F,ce)},er.useTransition=function(){return je.current.useTransition()},er.version="18.3.1",er}var Kp;function Ed(){return Kp||(Kp=1,Pf.exports=l_()),Pf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jp;function u_(){if(Jp)return _c;Jp=1;var s=Ed(),t=Symbol.for("react.element"),e=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(f,p,v){var b,k={},P=null,w=null;v!==void 0&&(P=""+v),p.key!==void 0&&(P=""+p.key),p.ref!==void 0&&(w=p.ref);for(b in p)i.call(p,b)&&!o.hasOwnProperty(b)&&(k[b]=p[b]);if(f&&f.defaultProps)for(b in p=f.defaultProps,p)k[b]===void 0&&(k[b]=p[b]);return{$$typeof:t,type:f,key:P,ref:w,props:k,_owner:a.current}}return _c.Fragment=e,_c.jsx=c,_c.jsxs=c,_c}var Yp;function c_(){return Yp||(Yp=1,Ef.exports=u_()),Ef.exports}var Ve=c_(),lt=Ed();const Nc=wu(lt);var fh={},Af={exports:{}},Ja={},Mf={exports:{}},Bf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function h_(){return Xp||(Xp=1,(function(s){function t(Le,Be){var Ee=Le.length;Le.push(Be);e:for(;0<Ee;){var re=Ee-1>>>1,F=Le[re];if(0<a(F,Be))Le[re]=Be,Le[Ee]=F,Ee=re;else break e}}function e(Le){return Le.length===0?null:Le[0]}function i(Le){if(Le.length===0)return null;var Be=Le[0],Ee=Le.pop();if(Ee!==Be){Le[0]=Ee;e:for(var re=0,F=Le.length,ce=F>>>1;re<ce;){var me=2*(re+1)-1,_e=Le[me],Te=me+1,Je=Le[Te];if(0>a(_e,Ee))Te<F&&0>a(Je,_e)?(Le[re]=Je,Le[Te]=Ee,re=Te):(Le[re]=_e,Le[me]=Ee,re=me);else if(Te<F&&0>a(Je,Ee))Le[re]=Je,Le[Te]=Ee,re=Te;else break e}}return Be}function a(Le,Be){var Ee=Le.sortIndex-Be.sortIndex;return Ee!==0?Ee:Le.id-Be.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;s.unstable_now=function(){return o.now()}}else{var c=Date,f=c.now();s.unstable_now=function(){return c.now()-f}}var p=[],v=[],b=1,k=null,P=3,w=!1,O=!1,A=!1,I=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Z(Le){for(var Be=e(v);Be!==null;){if(Be.callback===null)i(v);else if(Be.startTime<=Le)i(v),Be.sortIndex=Be.expirationTime,t(p,Be);else break;Be=e(v)}}function le(Le){if(A=!1,Z(Le),!O)if(e(p)!==null)O=!0,Ue(pe);else{var Be=e(v);Be!==null&&je(le,Be.startTime-Le)}}function pe(Le,Be){O=!1,A&&(A=!1,B(Y),Y=-1),w=!0;var Ee=P;try{for(Z(Be),k=e(p);k!==null&&(!(k.expirationTime>Be)||Le&&!J());){var re=k.callback;if(typeof re=="function"){k.callback=null,P=k.priorityLevel;var F=re(k.expirationTime<=Be);Be=s.unstable_now(),typeof F=="function"?k.callback=F:k===e(p)&&i(p),Z(Be)}else i(p);k=e(p)}if(k!==null)var ce=!0;else{var me=e(v);me!==null&&je(le,me.startTime-Be),ce=!1}return ce}finally{k=null,P=Ee,w=!1}}var ie=!1,$=null,Y=-1,ue=5,Me=-1;function J(){return!(s.unstable_now()-Me<ue)}function G(){if($!==null){var Le=s.unstable_now();Me=Le;var Be=!0;try{Be=$(!0,Le)}finally{Be?se():(ie=!1,$=null)}}else ie=!1}var se;if(typeof U=="function")se=function(){U(G)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,Ae=j.port2;j.port1.onmessage=G,se=function(){Ae.postMessage(null)}}else se=function(){I(G,0)};function Ue(Le){$=Le,ie||(ie=!0,se())}function je(Le,Be){Y=I(function(){Le(s.unstable_now())},Be)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Le){Le.callback=null},s.unstable_continueExecution=function(){O||w||(O=!0,Ue(pe))},s.unstable_forceFrameRate=function(Le){0>Le||125<Le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<Le?Math.floor(1e3/Le):5},s.unstable_getCurrentPriorityLevel=function(){return P},s.unstable_getFirstCallbackNode=function(){return e(p)},s.unstable_next=function(Le){switch(P){case 1:case 2:case 3:var Be=3;break;default:Be=P}var Ee=P;P=Be;try{return Le()}finally{P=Ee}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(Le,Be){switch(Le){case 1:case 2:case 3:case 4:case 5:break;default:Le=3}var Ee=P;P=Le;try{return Be()}finally{P=Ee}},s.unstable_scheduleCallback=function(Le,Be,Ee){var re=s.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?re+Ee:re):Ee=re,Le){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=Ee+F,Le={id:b++,callback:Be,priorityLevel:Le,startTime:Ee,expirationTime:F,sortIndex:-1},Ee>re?(Le.sortIndex=Ee,t(v,Le),e(p)===null&&Le===e(v)&&(A?(B(Y),Y=-1):A=!0,je(le,Ee-re))):(Le.sortIndex=F,t(p,Le),O||w||(O=!0,Ue(pe))),Le},s.unstable_shouldYield=J,s.unstable_wrapCallback=function(Le){var Be=P;return function(){var Ee=P;P=Be;try{return Le.apply(this,arguments)}finally{P=Ee}}}})(Bf)),Bf}var Qp;function f_(){return Qp||(Qp=1,Mf.exports=h_()),Mf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0;function d_(){if(e0)return Ja;e0=1;var s=Ed(),t=f_();function e(n){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+n,g=1;g<arguments.length;g++)u+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+n+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function o(n,u){c(n,u),c(n+"Capture",u)}function c(n,u){for(a[n]=u,n=0;n<u.length;n++)i.add(u[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b={},k={};function P(n){return p.call(k,n)?!0:p.call(b,n)?!1:v.test(n)?k[n]=!0:(b[n]=!0,!1)}function w(n,u,g,C){if(g!==null&&g.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return C?!1:g!==null?!g.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function O(n,u,g,C){if(u===null||typeof u>"u"||w(n,u,g,C))return!0;if(C)return!1;if(g!==null)switch(g.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function A(n,u,g,C,D,q,oe){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=C,this.attributeNamespace=D,this.mustUseProperty=g,this.propertyName=n,this.type=u,this.sanitizeURL=q,this.removeEmptyString=oe}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){I[n]=new A(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var u=n[0];I[u]=new A(u,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){I[n]=new A(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){I[n]=new A(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){I[n]=new A(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){I[n]=new A(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){I[n]=new A(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){I[n]=new A(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){I[n]=new A(n,5,!1,n.toLowerCase(),null,!1,!1)});var B=/[\-:]([a-z])/g;function U(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var u=n.replace(B,U);I[u]=new A(u,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var u=n.replace(B,U);I[u]=new A(u,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var u=n.replace(B,U);I[u]=new A(u,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){I[n]=new A(n,1,!1,n.toLowerCase(),null,!1,!1)}),I.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){I[n]=new A(n,1,!1,n.toLowerCase(),null,!0,!0)});function Z(n,u,g,C){var D=I.hasOwnProperty(u)?I[u]:null;(D!==null?D.type!==0:C||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(O(u,g,D,C)&&(g=null),C||D===null?P(u)&&(g===null?n.removeAttribute(u):n.setAttribute(u,""+g)):D.mustUseProperty?n[D.propertyName]=g===null?D.type===3?!1:"":g:(u=D.attributeName,C=D.attributeNamespace,g===null?n.removeAttribute(u):(D=D.type,g=D===3||D===4&&g===!0?"":""+g,C?n.setAttributeNS(C,u,g):n.setAttribute(u,g))))}var le=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pe=Symbol.for("react.element"),ie=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),ue=Symbol.for("react.profiler"),Me=Symbol.for("react.provider"),J=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),Ae=Symbol.for("react.memo"),Ue=Symbol.for("react.lazy"),je=Symbol.for("react.offscreen"),Le=Symbol.iterator;function Be(n){return n===null||typeof n!="object"?null:(n=Le&&n[Le]||n["@@iterator"],typeof n=="function"?n:null)}var Ee=Object.assign,re;function F(n){if(re===void 0)try{throw Error()}catch(g){var u=g.stack.trim().match(/\n( *(at )?)/);re=u&&u[1]||""}return`
`+re+n}var ce=!1;function me(n,u){if(!n||ce)return"";ce=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(St){var C=St}Reflect.construct(n,[],u)}else{try{u.call()}catch(St){C=St}n.call(u.prototype)}else{try{throw Error()}catch(St){C=St}n()}}catch(St){if(St&&C&&typeof St.stack=="string"){for(var D=St.stack.split(`
`),q=C.stack.split(`
`),oe=D.length-1,ze=q.length-1;1<=oe&&0<=ze&&D[oe]!==q[ze];)ze--;for(;1<=oe&&0<=ze;oe--,ze--)if(D[oe]!==q[ze]){if(oe!==1||ze!==1)do if(oe--,ze--,0>ze||D[oe]!==q[ze]){var et=`
`+D[oe].replace(" at new "," at ");return n.displayName&&et.includes("<anonymous>")&&(et=et.replace("<anonymous>",n.displayName)),et}while(1<=oe&&0<=ze);break}}}finally{ce=!1,Error.prepareStackTrace=g}return(n=n?n.displayName||n.name:"")?F(n):""}function _e(n){switch(n.tag){case 5:return F(n.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return n=me(n.type,!1),n;case 11:return n=me(n.type.render,!1),n;case 1:return n=me(n.type,!0),n;default:return""}}function Te(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case $:return"Fragment";case ie:return"Portal";case ue:return"Profiler";case Y:return"StrictMode";case se:return"Suspense";case j:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case J:return(n.displayName||"Context")+".Consumer";case Me:return(n._context.displayName||"Context")+".Provider";case G:var u=n.render;return n=n.displayName,n||(n=u.displayName||u.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Ae:return u=n.displayName||null,u!==null?u:Te(n.type)||"Memo";case Ue:u=n._payload,n=n._init;try{return Te(n(u))}catch{}}return null}function Je(n){var u=n.type;switch(n.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=u.render,n=n.displayName||n.name||"",u.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Te(u);case 8:return u===Y?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function $e(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Xe(n){var u=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Nt(n){var u=Xe(n)?"checked":"value",g=Object.getOwnPropertyDescriptor(n.constructor.prototype,u),C=""+n[u];if(!n.hasOwnProperty(u)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var D=g.get,q=g.set;return Object.defineProperty(n,u,{configurable:!0,get:function(){return D.call(this)},set:function(oe){C=""+oe,q.call(this,oe)}}),Object.defineProperty(n,u,{enumerable:g.enumerable}),{getValue:function(){return C},setValue:function(oe){C=""+oe},stopTracking:function(){n._valueTracker=null,delete n[u]}}}}function Ot(n){n._valueTracker||(n._valueTracker=Nt(n))}function Gt(n){if(!n)return!1;var u=n._valueTracker;if(!u)return!0;var g=u.getValue(),C="";return n&&(C=Xe(n)?n.checked?"true":"false":n.value),n=C,n!==g?(u.setValue(n),!0):!1}function qt(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function K(n,u){var g=u.checked;return Ee({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??n._wrapperState.initialChecked})}function Fe(n,u){var g=u.defaultValue==null?"":u.defaultValue,C=u.checked!=null?u.checked:u.defaultChecked;g=$e(u.value!=null?u.value:g),n._wrapperState={initialChecked:C,initialValue:g,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function he(n,u){u=u.checked,u!=null&&Z(n,"checked",u,!1)}function Pe(n,u){he(n,u);var g=$e(u.value),C=u.type;if(g!=null)C==="number"?(g===0&&n.value===""||n.value!=g)&&(n.value=""+g):n.value!==""+g&&(n.value=""+g);else if(C==="submit"||C==="reset"){n.removeAttribute("value");return}u.hasOwnProperty("value")?Oe(n,u.type,g):u.hasOwnProperty("defaultValue")&&Oe(n,u.type,$e(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(n.defaultChecked=!!u.defaultChecked)}function be(n,u,g){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var C=u.type;if(!(C!=="submit"&&C!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+n._wrapperState.initialValue,g||u===n.value||(n.value=u),n.defaultValue=u}g=n.name,g!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,g!==""&&(n.name=g)}function Oe(n,u,g){(u!=="number"||qt(n.ownerDocument)!==n)&&(g==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+g&&(n.defaultValue=""+g))}var st=Array.isArray;function ct(n,u,g,C){if(n=n.options,u){u={};for(var D=0;D<g.length;D++)u["$"+g[D]]=!0;for(g=0;g<n.length;g++)D=u.hasOwnProperty("$"+n[g].value),n[g].selected!==D&&(n[g].selected=D),D&&C&&(n[g].defaultSelected=!0)}else{for(g=""+$e(g),u=null,D=0;D<n.length;D++){if(n[D].value===g){n[D].selected=!0,C&&(n[D].defaultSelected=!0);return}u!==null||n[D].disabled||(u=n[D])}u!==null&&(u.selected=!0)}}function Ge(n,u){if(u.dangerouslySetInnerHTML!=null)throw Error(e(91));return Ee({},u,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Lt(n,u){var g=u.value;if(g==null){if(g=u.children,u=u.defaultValue,g!=null){if(u!=null)throw Error(e(92));if(st(g)){if(1<g.length)throw Error(e(93));g=g[0]}u=g}u==null&&(u=""),g=u}n._wrapperState={initialValue:$e(g)}}function It(n,u){var g=$e(u.value),C=$e(u.defaultValue);g!=null&&(g=""+g,g!==n.value&&(n.value=g),u.defaultValue==null&&n.defaultValue!==g&&(n.defaultValue=g)),C!=null&&(n.defaultValue=""+C)}function Bt(n){var u=n.textContent;u===n._wrapperState.initialValue&&u!==""&&u!==null&&(n.value=u)}function Ut(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function an(n,u){return n==null||n==="http://www.w3.org/1999/xhtml"?Ut(u):n==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var tn,on=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,g,C,D){MSApp.execUnsafeLocalFunction(function(){return n(u,g,C,D)})}:n})(function(n,u){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=u;else{for(tn=tn||document.createElement("div"),tn.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=tn.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;u.firstChild;)n.appendChild(u.firstChild)}});function wn(n,u){if(u){var g=n.firstChild;if(g&&g===n.lastChild&&g.nodeType===3){g.nodeValue=u;return}}n.textContent=u}var $t={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ur=["Webkit","ms","Moz","O"];Object.keys($t).forEach(function(n){ur.forEach(function(u){u=u+n.charAt(0).toUpperCase()+n.substring(1),$t[u]=$t[n]})});function hn(n,u,g){return u==null||typeof u=="boolean"||u===""?"":g||typeof u!="number"||u===0||$t.hasOwnProperty(n)&&$t[n]?(""+u).trim():u+"px"}function Dr(n,u){n=n.style;for(var g in u)if(u.hasOwnProperty(g)){var C=g.indexOf("--")===0,D=hn(g,u[g],C);g==="float"&&(g="cssFloat"),C?n.setProperty(g,D):n[g]=D}}var zn=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fn(n,u){if(u){if(zn[n]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(e(137,n));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(e(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(e(61))}if(u.style!=null&&typeof u.style!="object")throw Error(e(62))}}function Ar(n,u){if(n.indexOf("-")===-1)return typeof u.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wn=null;function Ps(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ar=null,Ir=null,Mr=null;function or(n){if(n=Fs(n)){if(typeof ar!="function")throw Error(e(280));var u=n.stateNode;u&&(u=Ho(u),ar(n.stateNode,n.type,u))}}function En(n){Ir?Mr?Mr.push(n):Mr=[n]:Ir=n}function Yn(){if(Ir){var n=Ir,u=Mr;if(Mr=Ir=null,or(n),u)for(n=0;n<u.length;n++)or(u[n])}}function ma(n,u){return n(u)}function Zr(){}var hs=!1;function Zi(n,u,g){if(hs)return n(u,g);hs=!0;try{return ma(n,u,g)}finally{hs=!1,(Ir!==null||Mr!==null)&&(Zr(),Yn())}}function dn(n,u){var g=n.stateNode;if(g===null)return null;var C=Ho(g);if(C===null)return null;g=C[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(C=!C.disabled)||(n=n.type,C=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!C;break e;default:n=!1}if(n)return null;if(g&&typeof g!="function")throw Error(e(231,u,typeof g));return g}var Ki=!1;if(f)try{var Ii={};Object.defineProperty(Ii,"passive",{get:function(){Ki=!0}}),window.addEventListener("test",Ii,Ii),window.removeEventListener("test",Ii,Ii)}catch{Ki=!1}function Ri(n,u,g,C,D,q,oe,ze,et){var St=Array.prototype.slice.call(arguments,3);try{u.apply(g,St)}catch(zt){this.onError(zt)}}var Vn=!1,Kt=null,ii=!1,ga=null,As={onError:function(n){Vn=!0,Kt=n}};function fs(n,u,g,C,D,q,oe,ze,et){Vn=!1,Kt=null,Ri.apply(As,arguments)}function Ji(n,u,g,C,D,q,oe,ze,et){if(fs.apply(this,arguments),Vn){if(Vn){var St=Kt;Vn=!1,Kt=null}else throw Error(e(198));ii||(ii=!0,ga=St)}}function Kr(n){var u=n,g=n;if(n.alternate)for(;u.return;)u=u.return;else{n=u;do u=n,(u.flags&4098)!==0&&(g=u.return),n=u.return;while(n)}return u.tag===3?g:null}function gi(n){if(n.tag===13){var u=n.memoizedState;if(u===null&&(n=n.alternate,n!==null&&(u=n.memoizedState)),u!==null)return u.dehydrated}return null}function ji(n){if(Kr(n)!==n)throw Error(e(188))}function qs(n){var u=n.alternate;if(!u){if(u=Kr(n),u===null)throw Error(e(188));return u!==n?null:n}for(var g=n,C=u;;){var D=g.return;if(D===null)break;var q=D.alternate;if(q===null){if(C=D.return,C!==null){g=C;continue}break}if(D.child===q.child){for(q=D.child;q;){if(q===g)return ji(D),n;if(q===C)return ji(D),u;q=q.sibling}throw Error(e(188))}if(g.return!==C.return)g=D,C=q;else{for(var oe=!1,ze=D.child;ze;){if(ze===g){oe=!0,g=D,C=q;break}if(ze===C){oe=!0,C=D,g=q;break}ze=ze.sibling}if(!oe){for(ze=q.child;ze;){if(ze===g){oe=!0,g=q,C=D;break}if(ze===C){oe=!0,C=q,g=D;break}ze=ze.sibling}if(!oe)throw Error(e(189))}}if(g.alternate!==C)throw Error(e(190))}if(g.tag!==3)throw Error(e(188));return g.stateNode.current===g?n:u}function Ma(n){return n=qs(n),n!==null?Xa(n):null}function Xa(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var u=Xa(n);if(u!==null)return u;n=n.sibling}return null}var Qa=t.unstable_scheduleCallback,Gs=t.unstable_cancelCallback,Ba=t.unstable_shouldYield,eo=t.unstable_requestPaint,wr=t.unstable_now,wl=t.unstable_getCurrentPriorityLevel,Na=t.unstable_ImmediatePriority,Io=t.unstable_UserBlockingPriority,_o=t.unstable_NormalPriority,to=t.unstable_LowPriority,Ta=t.unstable_IdlePriority,Oa=null,Yi=null;function Xi(n){if(Yi&&typeof Yi.onCommitFiberRoot=="function")try{Yi.onCommitFiberRoot(Oa,n,void 0,(n.current.flags&128)===128)}catch{}}var An=Math.clz32?Math.clz32:_a,Mn=Math.log,Da=Math.LN2;function _a(n){return n>>>=0,n===0?32:31-(Mn(n)/Da|0)|0}var Qi=64,Hs=4194304;function Ln(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function $n(n,u){var g=n.pendingLanes;if(g===0)return 0;var C=0,D=n.suspendedLanes,q=n.pingedLanes,oe=g&268435455;if(oe!==0){var ze=oe&~D;ze!==0?C=Ln(ze):(q&=oe,q!==0&&(C=Ln(q)))}else oe=g&~D,oe!==0?C=Ln(oe):q!==0&&(C=Ln(q));if(C===0)return 0;if(u!==0&&u!==C&&(u&D)===0&&(D=C&-C,q=u&-u,D>=q||D===16&&(q&4194240)!==0))return u;if((C&4)!==0&&(C|=g&16),u=n.entangledLanes,u!==0)for(n=n.entanglements,u&=C;0<u;)g=31-An(u),D=1<<g,C|=n[g],u&=~D;return C}function Ia(n,u){switch(n){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function si(n,u){for(var g=n.suspendedLanes,C=n.pingedLanes,D=n.expirationTimes,q=n.pendingLanes;0<q;){var oe=31-An(q),ze=1<<oe,et=D[oe];et===-1?((ze&g)===0||(ze&C)!==0)&&(D[oe]=Ia(ze,u)):et<=u&&(n.expiredLanes|=ze),q&=~ze}}function Jr(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Ro(){var n=Qi;return Qi<<=1,(Qi&4194240)===0&&(Qi=64),n}function Ra(n){for(var u=[],g=0;31>g;g++)u.push(n);return u}function Fi(n,u,g){n.pendingLanes|=u,u!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,u=31-An(u),n[u]=g}function kr(n,u){var g=n.pendingLanes&~u;n.pendingLanes=u,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=u,n.mutableReadLanes&=u,n.entangledLanes&=u,u=n.entanglements;var C=n.eventTimes;for(n=n.expirationTimes;0<g;){var D=31-An(g),q=1<<D;u[D]=0,C[D]=-1,n[D]=-1,g&=~q}}function ds(n,u){var g=n.entangledLanes|=u;for(n=n.entanglements;g;){var C=31-An(g),D=1<<C;D&u|n[C]&u&&(n[C]|=u),g&=~D}}var Gn=0;function Ws(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var vo,$s,yo,ps,Vs,Zs=!1,va=[],dr=null,Ms=null,es=null,bn=new Map,xn=new Map,zr=[],Hn="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wo(n,u){switch(n){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":Ms=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":bn.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":xn.delete(u.pointerId)}}function Ks(n,u,g,C,D,q){return n===null||n.nativeEvent!==q?(n={blockedOn:u,domEventName:g,eventSystemFlags:C,nativeEvent:q,targetContainers:[D]},u!==null&&(u=Fs(u),u!==null&&$s(u)),n):(n.eventSystemFlags|=C,u=n.targetContainers,D!==null&&u.indexOf(D)===-1&&u.push(D),n)}function ja(n,u,g,C,D){switch(u){case"focusin":return dr=Ks(dr,n,u,g,C,D),!0;case"dragenter":return Ms=Ks(Ms,n,u,g,C,D),!0;case"mouseover":return es=Ks(es,n,u,g,C,D),!0;case"pointerover":var q=D.pointerId;return bn.set(q,Ks(bn.get(q)||null,n,u,g,C,D)),!0;case"gotpointercapture":return q=D.pointerId,xn.set(q,Ks(xn.get(q)||null,n,u,g,C,D)),!0}return!1}function ts(n){var u=Wa(n.target);if(u!==null){var g=Kr(u);if(g!==null){if(u=g.tag,u===13){if(u=gi(g),u!==null){n.blockedOn=u,Vs(n.priority,function(){yo(g)});return}}else if(u===3&&g.stateNode.current.memoizedState.isDehydrated){n.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ms(n){if(n.blockedOn!==null)return!1;for(var u=n.targetContainers;0<u.length;){var g=so(n.domEventName,n.eventSystemFlags,u[0],n.nativeEvent);if(g===null){g=n.nativeEvent;var C=new g.constructor(g.type,g);Wn=C,g.target.dispatchEvent(C),Wn=null}else return u=Fs(g),u!==null&&$s(u),n.blockedOn=g,!1;u.shift()}return!0}function bo(n,u,g){ms(n)&&g.delete(u)}function no(){Zs=!1,dr!==null&&ms(dr)&&(dr=null),Ms!==null&&ms(Ms)&&(Ms=null),es!==null&&ms(es)&&(es=null),bn.forEach(bo),xn.forEach(bo)}function gr(n,u){n.blockedOn===u&&(n.blockedOn=null,Zs||(Zs=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,no)))}function ai(n){function u(D){return gr(D,n)}if(0<va.length){gr(va[0],n);for(var g=1;g<va.length;g++){var C=va[g];C.blockedOn===n&&(C.blockedOn=null)}}for(dr!==null&&gr(dr,n),Ms!==null&&gr(Ms,n),es!==null&&gr(es,n),bn.forEach(u),xn.forEach(u),g=0;g<zr.length;g++)C=zr[g],C.blockedOn===n&&(C.blockedOn=null);for(;0<zr.length&&(g=zr[0],g.blockedOn===null);)ts(g),g.blockedOn===null&&zr.shift()}var zi=le.ReactCurrentBatchConfig,ro=!0;function io(n,u,g,C){var D=Gn,q=zi.transition;zi.transition=null;try{Gn=1,Js(n,u,g,C)}finally{Gn=D,zi.transition=q}}function xo(n,u,g,C){var D=Gn,q=zi.transition;zi.transition=null;try{Gn=4,Js(n,u,g,C)}finally{Gn=D,zi.transition=q}}function Js(n,u,g,C){if(ro){var D=so(n,u,g,C);if(D===null)r(n,u,C,Ys,g),wo(n,C);else if(ja(D,n,u,g,C))C.stopPropagation();else if(wo(n,C),u&4&&-1<Hn.indexOf(n)){for(;D!==null;){var q=Fs(D);if(q!==null&&vo(q),q=so(n,u,g,C),q===null&&r(n,u,C,Ys,g),q===D)break;D=q}D!==null&&C.stopPropagation()}else r(n,u,C,null,g)}}var Ys=null;function so(n,u,g,C){if(Ys=null,n=Ps(C),n=Wa(n),n!==null)if(u=Kr(n),u===null)n=null;else if(g=u.tag,g===13){if(n=gi(u),n!==null)return n;n=null}else if(g===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;n=null}else u!==n&&(n=null);return Ys=n,null}function In(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wl()){case Na:return 1;case Io:return 4;case _o:case to:return 16;case Ta:return 536870912;default:return 16}default:return 16}}var gs=null,gn=null,Yr=null;function Fa(){if(Yr)return Yr;var n,u=gn,g=u.length,C,D="value"in gs?gs.value:gs.textContent,q=D.length;for(n=0;n<g&&u[n]===D[n];n++);var oe=g-n;for(C=1;C<=oe&&u[g-C]===D[q-C];C++);return Yr=D.slice(n,1<C?1-C:void 0)}function Bs(n){var u=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&u===13&&(n=13)):n=u,n===10&&(n=13),32<=n||n===13?n:0}function oi(){return!0}function Lo(){return!1}function Cr(n){function u(g,C,D,q,oe){this._reactName=g,this._targetInst=D,this.type=C,this.nativeEvent=q,this.target=oe,this.currentTarget=null;for(var ze in n)n.hasOwnProperty(ze)&&(g=n[ze],this[ze]=g?g(q):q[ze]);return this.isDefaultPrevented=(q.defaultPrevented!=null?q.defaultPrevented:q.returnValue===!1)?oi:Lo,this.isPropagationStopped=Lo,this}return Ee(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=oi)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=oi)},persist:function(){},isPersistent:oi}),u}var Ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},za=Cr(Ns),_i=Ee({},Ns,{view:0,detail:0}),ko=Cr(_i),Br,Co,Ts,ki=Ee({},_i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jt,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ts&&(Ts&&n.type==="mousemove"?(Br=n.screenX-Ts.screenX,Co=n.screenY-Ts.screenY):Co=Br=0,Ts=n),Br)},movementY:function(n){return"movementY"in n?n.movementY:Co}}),ao=Cr(ki),jo=Ee({},ki,{dataTransfer:0}),Fo=Cr(jo),So=Ee({},_i,{relatedTarget:0}),Xs=Cr(So),oo=Ee({},Ns,{animationName:0,elapsedTime:0,pseudoElement:0}),Ua=Cr(oo),Nr=Ee({},Ns,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),M=Cr(Nr),ne=Ee({},Ns,{data:0}),Ie=Cr(ne),Ze={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ft={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jt(n){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(n):(n=kt[n])?!!u[n]:!1}function Jt(){return jt}var en=Ee({},_i,{key:function(n){if(n.key){var u=Ze[n.key]||n.key;if(u!=="Unidentified")return u}return n.type==="keypress"?(n=Bs(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ft[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jt,charCode:function(n){return n.type==="keypress"?Bs(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Bs(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),_n=Cr(en),kn=Ee({},ki,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rn=Cr(kn),_r=Ee({},_i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jt}),Zn=Cr(_r),rr=Ee({},Ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ur=Cr(rr),Rr=Ee({},ki,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),ns=Cr(Rr),cr=[9,13,27,32],li=f&&"CompositionEvent"in window,qa=null;f&&"documentMode"in document&&(qa=document.documentMode);var Ci=f&&"TextEvent"in window&&!qa,Eo=f&&(!li||qa&&8<qa&&11>=qa),_s=" ",Po=!1;function Qs(n,u){switch(n){case"keyup":return cr.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ea(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var vr=!1;function Ao(n,u){switch(n){case"compositionend":return ea(u);case"keypress":return u.which!==32?null:(Po=!0,_s);case"textInput":return n=u.data,n===_s&&Po?null:n;default:return null}}function Ui(n,u){if(vr)return n==="compositionend"||!li&&Qs(n,u)?(n=Fa(),Yr=gn=gs=null,vr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Eo&&u.locale!=="ko"?null:u.data;default:return null}}var Si={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lo(n){var u=n&&n.nodeName&&n.nodeName.toLowerCase();return u==="input"?!!Si[n.type]:u==="textarea"}function ui(n,u,g,C){En(C),u=x(u,"onChange"),0<u.length&&(g=new za("onChange","change",null,g,C),n.push({event:g,listeners:u}))}var rs=null,ci=null;function ul(n){as(n,0)}function Sr(n){var u=La(n);if(Gt(u))return n}function ta(n,u){if(n==="change")return u}var is=!1;if(f){var ya;if(f){var Os="oninput"in document;if(!Os){var Ds=document.createElement("div");Ds.setAttribute("oninput","return;"),Os=typeof Ds.oninput=="function"}ya=Os}else ya=!1;is=ya&&(!document.documentMode||9<document.documentMode)}function Xr(){rs&&(rs.detachEvent("onpropertychange",qr),ci=rs=null)}function qr(n){if(n.propertyName==="value"&&Sr(ci)){var u=[];ui(u,ci,n,Ps(n)),Zi(ul,u)}}function Is(n,u,g){n==="focusin"?(Xr(),rs=u,ci=g,rs.attachEvent("onpropertychange",qr)):n==="focusout"&&Xr()}function qi(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Sr(ci)}function vs(n,u){if(n==="click")return Sr(u)}function wa(n,u){if(n==="input"||n==="change")return Sr(u)}function ys(n,u){return n===u&&(n!==0||1/n===1/u)||n!==n&&u!==u}var Xn=typeof Object.is=="function"?Object.is:ys;function Gi(n,u){if(Xn(n,u))return!0;if(typeof n!="object"||n===null||typeof u!="object"||u===null)return!1;var g=Object.keys(n),C=Object.keys(u);if(g.length!==C.length)return!1;for(C=0;C<g.length;C++){var D=g[C];if(!p.call(u,D)||!Xn(n[D],u[D]))return!1}return!0}function vi(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function hi(n,u){var g=vi(n);n=0;for(var C;g;){if(g.nodeType===3){if(C=n+g.textContent.length,n<=u&&C>=u)return{node:g,offset:u-n};n=C}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=vi(g)}}function Ga(n,u){return n&&u?n===u?!0:n&&n.nodeType===3?!1:u&&u.nodeType===3?Ga(n,u.parentNode):"contains"in n?n.contains(u):n.compareDocumentPosition?!!(n.compareDocumentPosition(u)&16):!1:!1}function Mo(){for(var n=window,u=qt();u instanceof n.HTMLIFrameElement;){try{var g=typeof u.contentWindow.location.href=="string"}catch{g=!1}if(g)n=u.contentWindow;else break;u=qt(n.document)}return u}function uo(n){var u=n&&n.nodeName&&n.nodeName.toLowerCase();return u&&(u==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||u==="textarea"||n.contentEditable==="true")}function yi(n){var u=Mo(),g=n.focusedElem,C=n.selectionRange;if(u!==g&&g&&g.ownerDocument&&Ga(g.ownerDocument.documentElement,g)){if(C!==null&&uo(g)){if(u=C.start,n=C.end,n===void 0&&(n=u),"selectionStart"in g)g.selectionStart=u,g.selectionEnd=Math.min(n,g.value.length);else if(n=(u=g.ownerDocument||document)&&u.defaultView||window,n.getSelection){n=n.getSelection();var D=g.textContent.length,q=Math.min(C.start,D);C=C.end===void 0?q:Math.min(C.end,D),!n.extend&&q>C&&(D=C,C=q,q=D),D=hi(g,q);var oe=hi(g,C);D&&oe&&(n.rangeCount!==1||n.anchorNode!==D.node||n.anchorOffset!==D.offset||n.focusNode!==oe.node||n.focusOffset!==oe.offset)&&(u=u.createRange(),u.setStart(D.node,D.offset),n.removeAllRanges(),q>C?(n.addRange(u),n.extend(oe.node,oe.offset)):(u.setEnd(oe.node,oe.offset),n.addRange(u)))}}for(u=[],n=g;n=n.parentNode;)n.nodeType===1&&u.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<u.length;g++)n=u[g],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Hi=f&&"documentMode"in document&&11>=document.documentMode,ss=null,ws=null,na=null,ra=!1;function ba(n,u,g){var C=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;ra||ss==null||ss!==qt(C)||(C=ss,"selectionStart"in C&&uo(C)?C={start:C.selectionStart,end:C.selectionEnd}:(C=(C.ownerDocument&&C.ownerDocument.defaultView||window).getSelection(),C={anchorNode:C.anchorNode,anchorOffset:C.anchorOffset,focusNode:C.focusNode,focusOffset:C.focusOffset}),na&&Gi(na,C)||(na=C,C=x(ws,"onSelect"),0<C.length&&(u=new za("onSelect","select",null,u,g),n.push({event:u,listeners:C}),u.target=ss)))}function bs(n,u){var g={};return g[n.toLowerCase()]=u.toLowerCase(),g["Webkit"+n]="webkit"+u,g["Moz"+n]="moz"+u,g}var fi={animationend:bs("Animation","AnimationEnd"),animationiteration:bs("Animation","AnimationIteration"),animationstart:bs("Animation","AnimationStart"),transitionend:bs("Transition","TransitionEnd")},Gr={},ir={};f&&(ir=document.createElement("div").style,"AnimationEvent"in window||(delete fi.animationend.animation,delete fi.animationiteration.animation,delete fi.animationstart.animation),"TransitionEvent"in window||delete fi.transitionend.transition);function Qn(n){if(Gr[n])return Gr[n];if(!fi[n])return n;var u=fi[n],g;for(g in u)if(u.hasOwnProperty(g)&&g in ir)return Gr[n]=u[g];return n}var Er=Qn("animationend"),lr=Qn("animationiteration"),xs=Qn("animationstart"),xa=Qn("transitionend"),Rs=new Map,zo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ei(n,u){Rs.set(n,u),o(u,[n])}for(var Tr=0;Tr<zo.length;Tr++){var sr=zo[Tr],Wi=sr.toLowerCase(),$i=sr[0].toUpperCase()+sr.slice(1);Ei(Wi,"on"+$i)}Ei(Er,"onAnimationEnd"),Ei(lr,"onAnimationIteration"),Ei(xs,"onAnimationStart"),Ei("dblclick","onDoubleClick"),Ei("focusin","onFocus"),Ei("focusout","onBlur"),Ei(xa,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uo=new Set("cancel close invalid load scroll toggle".split(" ").concat(yn));function Ha(n,u,g){var C=n.type||"unknown-event";n.currentTarget=g,Ji(C,u,void 0,n),n.currentTarget=null}function as(n,u){u=(u&4)!==0;for(var g=0;g<n.length;g++){var C=n[g],D=C.event;C=C.listeners;e:{var q=void 0;if(u)for(var oe=C.length-1;0<=oe;oe--){var ze=C[oe],et=ze.instance,St=ze.currentTarget;if(ze=ze.listener,et!==q&&D.isPropagationStopped())break e;Ha(D,ze,St),q=et}else for(oe=0;oe<C.length;oe++){if(ze=C[oe],et=ze.instance,St=ze.currentTarget,ze=ze.listener,et!==q&&D.isPropagationStopped())break e;Ha(D,ze,St),q=et}}}if(ii)throw n=ga,ii=!1,ga=null,n}function Pn(n,u){var g=u[ni];g===void 0&&(g=u[ni]=new Set);var C=n+"__bubble";g.has(C)||(js(u,n,2,!1),g.add(C))}function qo(n,u,g){var C=0;u&&(C|=4),js(g,n,C,u)}var Qr="_reactListening"+Math.random().toString(36).slice(2);function Hr(n){if(!n[Qr]){n[Qr]=!0,i.forEach(function(g){g!=="selectionchange"&&(Uo.has(g)||qo(g,!1,n),qo(g,!0,n))});var u=n.nodeType===9?n:n.ownerDocument;u===null||u[Qr]||(u[Qr]=!0,qo("selectionchange",!1,u))}}function js(n,u,g,C){switch(In(u)){case 1:var D=io;break;case 4:D=xo;break;default:D=Js}g=D.bind(null,u,g,n),D=void 0,!Ki||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(D=!0),C?D!==void 0?n.addEventListener(u,g,{capture:!0,passive:D}):n.addEventListener(u,g,!0):D!==void 0?n.addEventListener(u,g,{passive:D}):n.addEventListener(u,g,!1)}function r(n,u,g,C,D){var q=C;if((u&1)===0&&(u&2)===0&&C!==null)e:for(;;){if(C===null)return;var oe=C.tag;if(oe===3||oe===4){var ze=C.stateNode.containerInfo;if(ze===D||ze.nodeType===8&&ze.parentNode===D)break;if(oe===4)for(oe=C.return;oe!==null;){var et=oe.tag;if((et===3||et===4)&&(et=oe.stateNode.containerInfo,et===D||et.nodeType===8&&et.parentNode===D))return;oe=oe.return}for(;ze!==null;){if(oe=Wa(ze),oe===null)return;if(et=oe.tag,et===5||et===6){C=q=oe;continue e}ze=ze.parentNode}}C=C.return}Zi(function(){var St=q,zt=Ps(g),Ht=[];e:{var Ft=Rs.get(n);if(Ft!==void 0){var sn=za,un=n;switch(n){case"keypress":if(Bs(g)===0)break e;case"keydown":case"keyup":sn=_n;break;case"focusin":un="focus",sn=Xs;break;case"focusout":un="blur",sn=Xs;break;case"beforeblur":case"afterblur":sn=Xs;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":sn=ao;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":sn=Fo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":sn=Zn;break;case Er:case lr:case xs:sn=Ua;break;case xa:sn=Ur;break;case"scroll":sn=ko;break;case"wheel":sn=ns;break;case"copy":case"cut":case"paste":sn=M;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":sn=Rn}var fn=(u&4)!==0,Ni=!fn&&n==="scroll",wt=fn?Ft!==null?Ft+"Capture":null:Ft;fn=[];for(var at=St,bt;at!==null;){bt=at;var Vt=bt.stateNode;if(bt.tag===5&&Vt!==null&&(bt=Vt,wt!==null&&(Vt=dn(at,wt),Vt!=null&&fn.push(d(at,Vt,bt)))),Ni)break;at=at.return}0<fn.length&&(Ft=new sn(Ft,un,null,g,zt),Ht.push({event:Ft,listeners:fn}))}}if((u&7)===0){e:{if(Ft=n==="mouseover"||n==="pointerover",sn=n==="mouseout"||n==="pointerout",Ft&&g!==Wn&&(un=g.relatedTarget||g.fromElement)&&(Wa(un)||un[Un]))break e;if((sn||Ft)&&(Ft=zt.window===zt?zt:(Ft=zt.ownerDocument)?Ft.defaultView||Ft.parentWindow:window,sn?(un=g.relatedTarget||g.toElement,sn=St,un=un?Wa(un):null,un!==null&&(Ni=Kr(un),un!==Ni||un.tag!==5&&un.tag!==6)&&(un=null)):(sn=null,un=St),sn!==un)){if(fn=ao,Vt="onMouseLeave",wt="onMouseEnter",at="mouse",(n==="pointerout"||n==="pointerover")&&(fn=Rn,Vt="onPointerLeave",wt="onPointerEnter",at="pointer"),Ni=sn==null?Ft:La(sn),bt=un==null?Ft:La(un),Ft=new fn(Vt,at+"leave",sn,g,zt),Ft.target=Ni,Ft.relatedTarget=bt,Vt=null,Wa(zt)===St&&(fn=new fn(wt,at+"enter",un,g,zt),fn.target=bt,fn.relatedTarget=Ni,Vt=fn),Ni=Vt,sn&&un)t:{for(fn=sn,wt=un,at=0,bt=fn;bt;bt=T(bt))at++;for(bt=0,Vt=wt;Vt;Vt=T(Vt))bt++;for(;0<at-bt;)fn=T(fn),at--;for(;0<bt-at;)wt=T(wt),bt--;for(;at--;){if(fn===wt||wt!==null&&fn===wt.alternate)break t;fn=T(fn),wt=T(wt)}fn=null}else fn=null;sn!==null&&V(Ht,Ft,sn,fn,!1),un!==null&&Ni!==null&&V(Ht,Ni,un,fn,!0)}}e:{if(Ft=St?La(St):window,sn=Ft.nodeName&&Ft.nodeName.toLowerCase(),sn==="select"||sn==="input"&&Ft.type==="file")var vn=ta;else if(lo(Ft))if(is)vn=wa;else{vn=qi;var Cn=Is}else(sn=Ft.nodeName)&&sn.toLowerCase()==="input"&&(Ft.type==="checkbox"||Ft.type==="radio")&&(vn=vs);if(vn&&(vn=vn(n,St))){ui(Ht,vn,g,zt);break e}Cn&&Cn(n,Ft,St),n==="focusout"&&(Cn=Ft._wrapperState)&&Cn.controlled&&Ft.type==="number"&&Oe(Ft,"number",Ft.value)}switch(Cn=St?La(St):window,n){case"focusin":(lo(Cn)||Cn.contentEditable==="true")&&(ss=Cn,ws=St,na=null);break;case"focusout":na=ws=ss=null;break;case"mousedown":ra=!0;break;case"contextmenu":case"mouseup":case"dragend":ra=!1,ba(Ht,g,zt);break;case"selectionchange":if(Hi)break;case"keydown":case"keyup":ba(Ht,g,zt)}var Sn;if(li)e:{switch(n){case"compositionstart":var Tn="onCompositionStart";break e;case"compositionend":Tn="onCompositionEnd";break e;case"compositionupdate":Tn="onCompositionUpdate";break e}Tn=void 0}else vr?Qs(n,g)&&(Tn="onCompositionEnd"):n==="keydown"&&g.keyCode===229&&(Tn="onCompositionStart");Tn&&(Eo&&g.locale!=="ko"&&(vr||Tn!=="onCompositionStart"?Tn==="onCompositionEnd"&&vr&&(Sn=Fa()):(gs=zt,gn="value"in gs?gs.value:gs.textContent,vr=!0)),Cn=x(St,Tn),0<Cn.length&&(Tn=new Ie(Tn,n,null,g,zt),Ht.push({event:Tn,listeners:Cn}),Sn?Tn.data=Sn:(Sn=ea(g),Sn!==null&&(Tn.data=Sn)))),(Sn=Ci?Ao(n,g):Ui(n,g))&&(St=x(St,"onBeforeInput"),0<St.length&&(zt=new Ie("onBeforeInput","beforeinput",null,g,zt),Ht.push({event:zt,listeners:St}),zt.data=Sn))}as(Ht,u)})}function d(n,u,g){return{instance:n,listener:u,currentTarget:g}}function x(n,u){for(var g=u+"Capture",C=[];n!==null;){var D=n,q=D.stateNode;D.tag===5&&q!==null&&(D=q,q=dn(n,g),q!=null&&C.unshift(d(n,q,D)),q=dn(n,u),q!=null&&C.push(d(n,q,D))),n=n.return}return C}function T(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function V(n,u,g,C,D){for(var q=u._reactName,oe=[];g!==null&&g!==C;){var ze=g,et=ze.alternate,St=ze.stateNode;if(et!==null&&et===C)break;ze.tag===5&&St!==null&&(ze=St,D?(et=dn(g,q),et!=null&&oe.unshift(d(g,et,ze))):D||(et=dn(g,q),et!=null&&oe.push(d(g,et,ze)))),g=g.return}oe.length!==0&&n.push({event:u,listeners:oe})}var fe=/\r\n?/g,We=/\u0000|\uFFFD/g;function mt(n){return(typeof n=="string"?n:""+n).replace(fe,`
`).replace(We,"")}function xt(n,u,g){if(u=mt(u),mt(n)!==u&&g)throw Error(e(425))}function Rt(){}var Yt=null,pn=null;function On(n,u){return n==="textarea"||n==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var di=typeof setTimeout=="function"?setTimeout:void 0,Wr=typeof clearTimeout=="function"?clearTimeout:void 0,Pi=typeof Promise=="function"?Promise:void 0,Pr=typeof queueMicrotask=="function"?queueMicrotask:typeof Pi<"u"?function(n){return Pi.resolve(null).then(n).catch(ia)}:di;function ia(n){setTimeout(function(){throw n})}function Go(n,u){var g=u,C=0;do{var D=g.nextSibling;if(n.removeChild(g),D&&D.nodeType===8)if(g=D.data,g==="/$"){if(C===0){n.removeChild(D),ai(u);return}C--}else g!=="$"&&g!=="$?"&&g!=="$!"||C++;g=D}while(g);ai(u)}function ei(n){for(;n!=null;n=n.nextSibling){var u=n.nodeType;if(u===1||u===3)break;if(u===8){if(u=n.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return n}function os(n){n=n.previousSibling;for(var u=0;n;){if(n.nodeType===8){var g=n.data;if(g==="$"||g==="$!"||g==="$?"){if(u===0)return n;u--}else g==="/$"&&u++}n=n.previousSibling}return null}var ti=Math.random().toString(36).slice(2),sa="__reactFiber$"+ti,co="__reactProps$"+ti,Un="__reactContainer$"+ti,ni="__reactEvents$"+ti,tu="__reactListeners$"+ti,aa="__reactHandles$"+ti;function Wa(n){var u=n[sa];if(u)return u;for(var g=n.parentNode;g;){if(u=g[Un]||g[sa]){if(g=u.alternate,u.child!==null||g!==null&&g.child!==null)for(n=os(n);n!==null;){if(g=n[sa])return g;n=os(n)}return u}n=g,g=n.parentNode}return null}function Fs(n){return n=n[sa]||n[Un],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function La(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(e(33))}function Ho(n){return n[co]||null}var Tl=[],ho=-1;function oa(n){return{current:n}}function hr(n){0>ho||(n.current=Tl[ho],Tl[ho]=null,ho--)}function pr(n,u){ho++,Tl[ho]=n.current,n.current=u}var Bo={},$r=oa(Bo),Ai=oa(!1),Wo=Bo;function cl(n,u){var g=n.type.contextTypes;if(!g)return Bo;var C=n.stateNode;if(C&&C.__reactInternalMemoizedUnmaskedChildContext===u)return C.__reactInternalMemoizedMaskedChildContext;var D={},q;for(q in g)D[q]=u[q];return C&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=u,n.__reactInternalMemoizedMaskedChildContext=D),D}function Mi(n){return n=n.childContextTypes,n!=null}function $o(){hr(Ai),hr($r)}function nu(n,u,g){if($r.current!==Bo)throw Error(e(168));pr($r,u),pr(Ai,g)}function ru(n,u,g){var C=n.stateNode;if(u=u.childContextTypes,typeof C.getChildContext!="function")return g;C=C.getChildContext();for(var D in C)if(!(D in u))throw Error(e(108,Je(n)||"Unknown",D));return Ee({},g,C)}function Vo(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Bo,Wo=$r.current,pr($r,n),pr(Ai,Ai.current),!0}function iu(n,u,g){var C=n.stateNode;if(!C)throw Error(e(169));g?(n=ru(n,u,Wo),C.__reactInternalMemoizedMergedChildContext=n,hr(Ai),hr($r),pr($r,n)):hr(Ai),pr(Ai,g)}var $a=null,bl=!1,_=!1;function E(n){$a===null?$a=[n]:$a.push(n)}function R(n){bl=!0,E(n)}function W(){if(!_&&$a!==null){_=!0;var n=0,u=Gn;try{var g=$a;for(Gn=1;n<g.length;n++){var C=g[n];do C=C(!0);while(C!==null)}$a=null,bl=!1}catch(D){throw $a!==null&&($a=$a.slice(n+1)),Qa(Na,W),D}finally{Gn=u,_=!1}}return null}var ee=[],ae=0,de=null,ye=0,we=[],Se=0,Ye=null,_t=1,vt="";function ot(n,u){ee[ae++]=ye,ee[ae++]=de,de=n,ye=u}function Pt(n,u,g){we[Se++]=_t,we[Se++]=vt,we[Se++]=Ye,Ye=n;var C=_t;n=vt;var D=32-An(C)-1;C&=~(1<<D),g+=1;var q=32-An(u)+D;if(30<q){var oe=D-D%5;q=(C&(1<<oe)-1).toString(32),C>>=oe,D-=oe,_t=1<<32-An(u)+D|g<<D|C,vt=q+n}else _t=1<<q|g<<D|C,vt=n}function Ct(n){n.return!==null&&(ot(n,1),Pt(n,1,0))}function tt(n){for(;n===de;)de=ee[--ae],ee[ae]=null,ye=ee[--ae],ee[ae]=null;for(;n===Ye;)Ye=we[--Se],we[Se]=null,vt=we[--Se],we[Se]=null,_t=we[--Se],we[Se]=null}var nt=null,At=null,Mt=!1,Tt=null;function Qt(n,u){var g=Do(5,null,null,0);g.elementType="DELETED",g.stateNode=u,g.return=n,u=n.deletions,u===null?(n.deletions=[g],n.flags|=16):u.push(g)}function l(n,u){switch(n.tag){case 5:var g=n.type;return u=u.nodeType!==1||g.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(n.stateNode=u,nt=n,At=ei(u.firstChild),!0):!1;case 6:return u=n.pendingProps===""||u.nodeType!==3?null:u,u!==null?(n.stateNode=u,nt=n,At=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(g=Ye!==null?{id:_t,overflow:vt}:null,n.memoizedState={dehydrated:u,treeContext:g,retryLane:1073741824},g=Do(18,null,null,0),g.stateNode=u,g.return=n,n.child=g,nt=n,At=null,!0):!1;default:return!1}}function h(n){return(n.mode&1)!==0&&(n.flags&128)===0}function m(n){if(Mt){var u=At;if(u){var g=u;if(!l(n,u)){if(h(n))throw Error(e(418));u=ei(g.nextSibling);var C=nt;u&&l(n,u)?Qt(C,g):(n.flags=n.flags&-4097|2,Mt=!1,nt=n)}}else{if(h(n))throw Error(e(418));n.flags=n.flags&-4097|2,Mt=!1,nt=n}}}function y(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;nt=n}function S(n){if(n!==nt)return!1;if(!Mt)return y(n),Mt=!0,!1;var u;if((u=n.tag!==3)&&!(u=n.tag!==5)&&(u=n.type,u=u!=="head"&&u!=="body"&&!On(n.type,n.memoizedProps)),u&&(u=At)){if(h(n))throw N(),Error(e(418));for(;u;)Qt(n,u),u=ei(u.nextSibling)}if(y(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(e(317));e:{for(n=n.nextSibling,u=0;n;){if(n.nodeType===8){var g=n.data;if(g==="/$"){if(u===0){At=ei(n.nextSibling);break e}u--}else g!=="$"&&g!=="$!"&&g!=="$?"||u++}n=n.nextSibling}At=null}}else At=nt?ei(n.stateNode.nextSibling):null;return!0}function N(){for(var n=At;n;)n=ei(n.nextSibling)}function z(){At=nt=null,Mt=!1}function H(n){Tt===null?Tt=[n]:Tt.push(n)}var X=le.ReactCurrentBatchConfig;function te(n,u,g){if(n=g.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(e(309));var C=g.stateNode}if(!C)throw Error(e(147,n));var D=C,q=""+n;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===q?u.ref:(u=function(oe){var ze=D.refs;oe===null?delete ze[q]:ze[q]=oe},u._stringRef=q,u)}if(typeof n!="string")throw Error(e(284));if(!g._owner)throw Error(e(290,n))}return n}function Re(n,u){throw n=Object.prototype.toString.call(u),Error(e(31,n==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":n))}function Ne(n){var u=n._init;return u(n._payload)}function ut(n){function u(wt,at){if(n){var bt=wt.deletions;bt===null?(wt.deletions=[at],wt.flags|=16):bt.push(at)}}function g(wt,at){if(!n)return null;for(;at!==null;)u(wt,at),at=at.sibling;return null}function C(wt,at){for(wt=new Map;at!==null;)at.key!==null?wt.set(at.key,at):wt.set(at.index,at),at=at.sibling;return wt}function D(wt,at){return wt=ql(wt,at),wt.index=0,wt.sibling=null,wt}function q(wt,at,bt){return wt.index=bt,n?(bt=wt.alternate,bt!==null?(bt=bt.index,bt<at?(wt.flags|=2,at):bt):(wt.flags|=2,at)):(wt.flags|=1048576,at)}function oe(wt){return n&&wt.alternate===null&&(wt.flags|=2),wt}function ze(wt,at,bt,Vt){return at===null||at.tag!==6?(at=bf(bt,wt.mode,Vt),at.return=wt,at):(at=D(at,bt),at.return=wt,at)}function et(wt,at,bt,Vt){var vn=bt.type;return vn===$?zt(wt,at,bt.props.children,Vt,bt.key):at!==null&&(at.elementType===vn||typeof vn=="object"&&vn!==null&&vn.$$typeof===Ue&&Ne(vn)===at.type)?(Vt=D(at,bt.props),Vt.ref=te(wt,at,bt),Vt.return=wt,Vt):(Vt=ih(bt.type,bt.key,bt.props,null,wt.mode,Vt),Vt.ref=te(wt,at,bt),Vt.return=wt,Vt)}function St(wt,at,bt,Vt){return at===null||at.tag!==4||at.stateNode.containerInfo!==bt.containerInfo||at.stateNode.implementation!==bt.implementation?(at=xf(bt,wt.mode,Vt),at.return=wt,at):(at=D(at,bt.children||[]),at.return=wt,at)}function zt(wt,at,bt,Vt,vn){return at===null||at.tag!==7?(at=fu(bt,wt.mode,Vt,vn),at.return=wt,at):(at=D(at,bt),at.return=wt,at)}function Ht(wt,at,bt){if(typeof at=="string"&&at!==""||typeof at=="number")return at=bf(""+at,wt.mode,bt),at.return=wt,at;if(typeof at=="object"&&at!==null){switch(at.$$typeof){case pe:return bt=ih(at.type,at.key,at.props,null,wt.mode,bt),bt.ref=te(wt,null,at),bt.return=wt,bt;case ie:return at=xf(at,wt.mode,bt),at.return=wt,at;case Ue:var Vt=at._init;return Ht(wt,Vt(at._payload),bt)}if(st(at)||Be(at))return at=fu(at,wt.mode,bt,null),at.return=wt,at;Re(wt,at)}return null}function Ft(wt,at,bt,Vt){var vn=at!==null?at.key:null;if(typeof bt=="string"&&bt!==""||typeof bt=="number")return vn!==null?null:ze(wt,at,""+bt,Vt);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case pe:return bt.key===vn?et(wt,at,bt,Vt):null;case ie:return bt.key===vn?St(wt,at,bt,Vt):null;case Ue:return vn=bt._init,Ft(wt,at,vn(bt._payload),Vt)}if(st(bt)||Be(bt))return vn!==null?null:zt(wt,at,bt,Vt,null);Re(wt,bt)}return null}function sn(wt,at,bt,Vt,vn){if(typeof Vt=="string"&&Vt!==""||typeof Vt=="number")return wt=wt.get(bt)||null,ze(at,wt,""+Vt,vn);if(typeof Vt=="object"&&Vt!==null){switch(Vt.$$typeof){case pe:return wt=wt.get(Vt.key===null?bt:Vt.key)||null,et(at,wt,Vt,vn);case ie:return wt=wt.get(Vt.key===null?bt:Vt.key)||null,St(at,wt,Vt,vn);case Ue:var Cn=Vt._init;return sn(wt,at,bt,Cn(Vt._payload),vn)}if(st(Vt)||Be(Vt))return wt=wt.get(bt)||null,zt(at,wt,Vt,vn,null);Re(at,Vt)}return null}function un(wt,at,bt,Vt){for(var vn=null,Cn=null,Sn=at,Tn=at=0,Cs=null;Sn!==null&&Tn<bt.length;Tn++){Sn.index>Tn?(Cs=Sn,Sn=null):Cs=Sn.sibling;var mr=Ft(wt,Sn,bt[Tn],Vt);if(mr===null){Sn===null&&(Sn=Cs);break}n&&Sn&&mr.alternate===null&&u(wt,Sn),at=q(mr,at,Tn),Cn===null?vn=mr:Cn.sibling=mr,Cn=mr,Sn=Cs}if(Tn===bt.length)return g(wt,Sn),Mt&&ot(wt,Tn),vn;if(Sn===null){for(;Tn<bt.length;Tn++)Sn=Ht(wt,bt[Tn],Vt),Sn!==null&&(at=q(Sn,at,Tn),Cn===null?vn=Sn:Cn.sibling=Sn,Cn=Sn);return Mt&&ot(wt,Tn),vn}for(Sn=C(wt,Sn);Tn<bt.length;Tn++)Cs=sn(Sn,wt,Tn,bt[Tn],Vt),Cs!==null&&(n&&Cs.alternate!==null&&Sn.delete(Cs.key===null?Tn:Cs.key),at=q(Cs,at,Tn),Cn===null?vn=Cs:Cn.sibling=Cs,Cn=Cs);return n&&Sn.forEach(function(Gl){return u(wt,Gl)}),Mt&&ot(wt,Tn),vn}function fn(wt,at,bt,Vt){var vn=Be(bt);if(typeof vn!="function")throw Error(e(150));if(bt=vn.call(bt),bt==null)throw Error(e(151));for(var Cn=vn=null,Sn=at,Tn=at=0,Cs=null,mr=bt.next();Sn!==null&&!mr.done;Tn++,mr=bt.next()){Sn.index>Tn?(Cs=Sn,Sn=null):Cs=Sn.sibling;var Gl=Ft(wt,Sn,mr.value,Vt);if(Gl===null){Sn===null&&(Sn=Cs);break}n&&Sn&&Gl.alternate===null&&u(wt,Sn),at=q(Gl,at,Tn),Cn===null?vn=Gl:Cn.sibling=Gl,Cn=Gl,Sn=Cs}if(mr.done)return g(wt,Sn),Mt&&ot(wt,Tn),vn;if(Sn===null){for(;!mr.done;Tn++,mr=bt.next())mr=Ht(wt,mr.value,Vt),mr!==null&&(at=q(mr,at,Tn),Cn===null?vn=mr:Cn.sibling=mr,Cn=mr);return Mt&&ot(wt,Tn),vn}for(Sn=C(wt,Sn);!mr.done;Tn++,mr=bt.next())mr=sn(Sn,wt,Tn,mr.value,Vt),mr!==null&&(n&&mr.alternate!==null&&Sn.delete(mr.key===null?Tn:mr.key),at=q(mr,at,Tn),Cn===null?vn=mr:Cn.sibling=mr,Cn=mr);return n&&Sn.forEach(function(o_){return u(wt,o_)}),Mt&&ot(wt,Tn),vn}function Ni(wt,at,bt,Vt){if(typeof bt=="object"&&bt!==null&&bt.type===$&&bt.key===null&&(bt=bt.props.children),typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case pe:e:{for(var vn=bt.key,Cn=at;Cn!==null;){if(Cn.key===vn){if(vn=bt.type,vn===$){if(Cn.tag===7){g(wt,Cn.sibling),at=D(Cn,bt.props.children),at.return=wt,wt=at;break e}}else if(Cn.elementType===vn||typeof vn=="object"&&vn!==null&&vn.$$typeof===Ue&&Ne(vn)===Cn.type){g(wt,Cn.sibling),at=D(Cn,bt.props),at.ref=te(wt,Cn,bt),at.return=wt,wt=at;break e}g(wt,Cn);break}else u(wt,Cn);Cn=Cn.sibling}bt.type===$?(at=fu(bt.props.children,wt.mode,Vt,bt.key),at.return=wt,wt=at):(Vt=ih(bt.type,bt.key,bt.props,null,wt.mode,Vt),Vt.ref=te(wt,at,bt),Vt.return=wt,wt=Vt)}return oe(wt);case ie:e:{for(Cn=bt.key;at!==null;){if(at.key===Cn)if(at.tag===4&&at.stateNode.containerInfo===bt.containerInfo&&at.stateNode.implementation===bt.implementation){g(wt,at.sibling),at=D(at,bt.children||[]),at.return=wt,wt=at;break e}else{g(wt,at);break}else u(wt,at);at=at.sibling}at=xf(bt,wt.mode,Vt),at.return=wt,wt=at}return oe(wt);case Ue:return Cn=bt._init,Ni(wt,at,Cn(bt._payload),Vt)}if(st(bt))return un(wt,at,bt,Vt);if(Be(bt))return fn(wt,at,bt,Vt);Re(wt,bt)}return typeof bt=="string"&&bt!==""||typeof bt=="number"?(bt=""+bt,at!==null&&at.tag===6?(g(wt,at.sibling),at=D(at,bt),at.return=wt,wt=at):(g(wt,at),at=bf(bt,wt.mode,Vt),at.return=wt,wt=at),oe(wt)):g(wt,at)}return Ni}var gt=ut(!0),Et=ut(!1),Wt=oa(null),Zt=null,mn=null,De=null;function qe(){De=mn=Zt=null}function rt(n){var u=Wt.current;hr(Wt),n._currentValue=u}function yt(n,u,g){for(;n!==null;){var C=n.alternate;if((n.childLanes&u)!==u?(n.childLanes|=u,C!==null&&(C.childLanes|=u)):C!==null&&(C.childLanes&u)!==u&&(C.childLanes|=u),n===g)break;n=n.return}}function it(n,u){Zt=n,De=mn=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&u)!==0&&(Va=!0),n.firstContext=null)}function dt(n){var u=n._currentValue;if(De!==n)if(n={context:n,memoizedValue:u,next:null},mn===null){if(Zt===null)throw Error(e(308));mn=n,Zt.dependencies={lanes:0,firstContext:n}}else mn=mn.next=n;return u}var Q=null;function ge(n){Q===null?Q=[n]:Q.push(n)}function xe(n,u,g,C){var D=u.interleaved;return D===null?(g.next=g,ge(u)):(g.next=D.next,D.next=g),u.interleaved=g,ve(n,C)}function ve(n,u){n.lanes|=u;var g=n.alternate;for(g!==null&&(g.lanes|=u),g=n,n=n.return;n!==null;)n.childLanes|=u,g=n.alternate,g!==null&&(g.childLanes|=u),g=n,n=n.return;return g.tag===3?g.stateNode:null}var ke=!1;function Ce(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ke(n,u){n=n.updateQueue,u.updateQueue===n&&(u.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function He(n,u){return{eventTime:n,lane:u,tag:0,payload:null,callback:null,next:null}}function Qe(n,u,g){var C=n.updateQueue;if(C===null)return null;if(C=C.shared,(fr&2)!==0){var D=C.pending;return D===null?u.next=u:(u.next=D.next,D.next=u),C.pending=u,ve(n,g)}return D=C.interleaved,D===null?(u.next=u,ge(C)):(u.next=D.next,D.next=u),C.interleaved=u,ve(n,g)}function pt(n,u,g){if(u=u.updateQueue,u!==null&&(u=u.shared,(g&4194240)!==0)){var C=u.lanes;C&=n.pendingLanes,g|=C,u.lanes=g,ds(n,g)}}function ht(n,u){var g=n.updateQueue,C=n.alternate;if(C!==null&&(C=C.updateQueue,g===C)){var D=null,q=null;if(g=g.firstBaseUpdate,g!==null){do{var oe={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};q===null?D=q=oe:q=q.next=oe,g=g.next}while(g!==null);q===null?D=q=u:q=q.next=u}else D=q=u;g={baseState:C.baseState,firstBaseUpdate:D,lastBaseUpdate:q,shared:C.shared,effects:C.effects},n.updateQueue=g;return}n=g.lastBaseUpdate,n===null?g.firstBaseUpdate=u:n.next=u,g.lastBaseUpdate=u}function Dt(n,u,g,C){var D=n.updateQueue;ke=!1;var q=D.firstBaseUpdate,oe=D.lastBaseUpdate,ze=D.shared.pending;if(ze!==null){D.shared.pending=null;var et=ze,St=et.next;et.next=null,oe===null?q=St:oe.next=St,oe=et;var zt=n.alternate;zt!==null&&(zt=zt.updateQueue,ze=zt.lastBaseUpdate,ze!==oe&&(ze===null?zt.firstBaseUpdate=St:ze.next=St,zt.lastBaseUpdate=et))}if(q!==null){var Ht=D.baseState;oe=0,zt=St=et=null,ze=q;do{var Ft=ze.lane,sn=ze.eventTime;if((C&Ft)===Ft){zt!==null&&(zt=zt.next={eventTime:sn,lane:0,tag:ze.tag,payload:ze.payload,callback:ze.callback,next:null});e:{var un=n,fn=ze;switch(Ft=u,sn=g,fn.tag){case 1:if(un=fn.payload,typeof un=="function"){Ht=un.call(sn,Ht,Ft);break e}Ht=un;break e;case 3:un.flags=un.flags&-65537|128;case 0:if(un=fn.payload,Ft=typeof un=="function"?un.call(sn,Ht,Ft):un,Ft==null)break e;Ht=Ee({},Ht,Ft);break e;case 2:ke=!0}}ze.callback!==null&&ze.lane!==0&&(n.flags|=64,Ft=D.effects,Ft===null?D.effects=[ze]:Ft.push(ze))}else sn={eventTime:sn,lane:Ft,tag:ze.tag,payload:ze.payload,callback:ze.callback,next:null},zt===null?(St=zt=sn,et=Ht):zt=zt.next=sn,oe|=Ft;if(ze=ze.next,ze===null){if(ze=D.shared.pending,ze===null)break;Ft=ze,ze=Ft.next,Ft.next=null,D.lastBaseUpdate=Ft,D.shared.pending=null}}while(!0);if(zt===null&&(et=Ht),D.baseState=et,D.firstBaseUpdate=St,D.lastBaseUpdate=zt,u=D.shared.interleaved,u!==null){D=u;do oe|=D.lane,D=D.next;while(D!==u)}else q===null&&(D.shared.lanes=0);lu|=oe,n.lanes=oe,n.memoizedState=Ht}}function Xt(n,u,g){if(n=u.effects,u.effects=null,n!==null)for(u=0;u<n.length;u++){var C=n[u],D=C.callback;if(D!==null){if(C.callback=null,C=g,typeof D!="function")throw Error(e(191,D));D.call(C)}}}var nn={},rn=oa(nn),Kn=oa(nn),Jn=oa(nn);function Dn(n){if(n===nn)throw Error(e(174));return n}function tr(n,u){switch(pr(Jn,u),pr(Kn,n),pr(rn,nn),n=u.nodeType,n){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:an(null,"");break;default:n=n===8?u.parentNode:u,u=n.namespaceURI||null,n=n.tagName,u=an(u,n)}hr(rn),pr(rn,u)}function br(){hr(rn),hr(Kn),hr(Jn)}function xl(n){Dn(Jn.current);var u=Dn(rn.current),g=an(u,n.type);u!==g&&(pr(Kn,n),pr(rn,g))}function Ll(n){Kn.current===n&&(hr(rn),hr(Kn))}var yr=oa(0);function ri(n){for(var u=n;u!==null;){if(u.tag===13){var g=u.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===n)break;for(;u.sibling===null;){if(u.return===null||u.return===n)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Zo=[];function Ls(){for(var n=0;n<Zo.length;n++)Zo[n]._workInProgressVersionPrimary=null;Zo.length=0}var wi=le.ReactCurrentDispatcher,xr=le.ReactCurrentBatchConfig,No=0,jr=null,bi=null,pi=null,Ol=!1,Ko=!1,Dl=0,$h=0;function Bi(){throw Error(e(321))}function Su(n,u){if(u===null)return!1;for(var g=0;g<u.length&&g<n.length;g++)if(!Xn(n[g],u[g]))return!1;return!0}function su(n,u,g,C,D,q){if(No=q,jr=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,wi.current=n===null||n.memoizedState===null?Tg:Og,n=g(C,D),Ko){q=0;do{if(Ko=!1,Dl=0,25<=q)throw Error(e(301));q+=1,pi=bi=null,u.updateQueue=null,wi.current=Dg,n=g(C,D)}while(Ko)}if(wi.current=Hc,u=bi!==null&&bi.next!==null,No=0,pi=bi=jr=null,Ol=!1,u)throw Error(e(300));return n}function To(){var n=Dl!==0;return Dl=0,n}function fo(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pi===null?jr.memoizedState=pi=n:pi=pi.next=n,pi}function ka(){if(bi===null){var n=jr.alternate;n=n!==null?n.memoizedState:null}else n=bi.next;var u=pi===null?jr.memoizedState:pi.next;if(u!==null)pi=u,bi=n;else{if(n===null)throw Error(e(310));bi=n,n={memoizedState:bi.memoizedState,baseState:bi.baseState,baseQueue:bi.baseQueue,queue:bi.queue,next:null},pi===null?jr.memoizedState=pi=n:pi=pi.next=n}return pi}function au(n,u){return typeof u=="function"?u(n):u}function Eu(n){var u=ka(),g=u.queue;if(g===null)throw Error(e(311));g.lastRenderedReducer=n;var C=bi,D=C.baseQueue,q=g.pending;if(q!==null){if(D!==null){var oe=D.next;D.next=q.next,q.next=oe}C.baseQueue=D=q,g.pending=null}if(D!==null){q=D.next,C=C.baseState;var ze=oe=null,et=null,St=q;do{var zt=St.lane;if((No&zt)===zt)et!==null&&(et=et.next={lane:0,action:St.action,hasEagerState:St.hasEagerState,eagerState:St.eagerState,next:null}),C=St.hasEagerState?St.eagerState:n(C,St.action);else{var Ht={lane:zt,action:St.action,hasEagerState:St.hasEagerState,eagerState:St.eagerState,next:null};et===null?(ze=et=Ht,oe=C):et=et.next=Ht,jr.lanes|=zt,lu|=zt}St=St.next}while(St!==null&&St!==q);et===null?oe=C:et.next=ze,Xn(C,u.memoizedState)||(Va=!0),u.memoizedState=C,u.baseState=oe,u.baseQueue=et,g.lastRenderedState=C}if(n=g.interleaved,n!==null){D=n;do q=D.lane,jr.lanes|=q,lu|=q,D=D.next;while(D!==n)}else D===null&&(g.lanes=0);return[u.memoizedState,g.dispatch]}function hl(n){var u=ka(),g=u.queue;if(g===null)throw Error(e(311));g.lastRenderedReducer=n;var C=g.dispatch,D=g.pending,q=u.memoizedState;if(D!==null){g.pending=null;var oe=D=D.next;do q=n(q,oe.action),oe=oe.next;while(oe!==D);Xn(q,u.memoizedState)||(Va=!0),u.memoizedState=q,u.baseQueue===null&&(u.baseState=q),g.lastRenderedState=q}return[q,C]}function zc(){}function uc(n,u){var g=jr,C=ka(),D=u(),q=!Xn(C.memoizedState,D);if(q&&(C.memoizedState=D,Va=!0),C=C.queue,Mu(qc.bind(null,g,C,n),[n]),C.getSnapshot!==u||q||pi!==null&&pi.memoizedState.tag&1){if(g.flags|=2048,Ca(9,cc.bind(null,g,C,D,u),void 0,null),ks===null)throw Error(e(349));(No&30)!==0||Uc(g,u,D)}return D}function Uc(n,u,g){n.flags|=16384,n={getSnapshot:u,value:g},u=jr.updateQueue,u===null?(u={lastEffect:null,stores:null},jr.updateQueue=u,u.stores=[n]):(g=u.stores,g===null?u.stores=[n]:g.push(n))}function cc(n,u,g,C){u.value=g,u.getSnapshot=C,Il(u)&&Pu(n)}function qc(n,u,g){return g(function(){Il(u)&&Pu(n)})}function Il(n){var u=n.getSnapshot;n=n.value;try{var g=u();return!Xn(n,g)}catch{return!0}}function Pu(n){var u=ve(n,1);u!==null&&el(u,n,1,-1)}function ou(n){var u=fo();return typeof n=="function"&&(n=n()),u.memoizedState=u.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:au,lastRenderedState:n},u.queue=n,n=n.dispatch=Ng.bind(null,jr,n),[u.memoizedState,n]}function Ca(n,u,g,C){return n={tag:n,create:u,destroy:g,deps:C,next:null},u=jr.updateQueue,u===null?(u={lastEffect:null,stores:null},jr.updateQueue=u,u.lastEffect=n.next=n):(g=u.lastEffect,g===null?u.lastEffect=n.next=n:(C=g.next,g.next=n,n.next=C,u.lastEffect=n)),n}function Jo(){return ka().memoizedState}function po(n,u,g,C){var D=fo();jr.flags|=n,D.memoizedState=Ca(1|u,g,void 0,C===void 0?null:C)}function kl(n,u,g,C){var D=ka();C=C===void 0?null:C;var q=void 0;if(bi!==null){var oe=bi.memoizedState;if(q=oe.destroy,C!==null&&Su(C,oe.deps)){D.memoizedState=Ca(u,g,q,C);return}}jr.flags|=n,D.memoizedState=Ca(1|u,g,q,C)}function Au(n,u){return po(8390656,8,n,u)}function Mu(n,u){return kl(2048,8,n,u)}function Gc(n,u){return kl(4,2,n,u)}function Bu(n,u){return kl(4,4,n,u)}function Nu(n,u){if(typeof u=="function")return n=n(),u(n),function(){u(null)};if(u!=null)return n=n(),u.current=n,function(){u.current=null}}function $d(n,u,g){return g=g!=null?g.concat([n]):null,kl(4,4,Nu.bind(null,u,n),g)}function Vh(){}function Vd(n,u){var g=ka();u=u===void 0?null:u;var C=g.memoizedState;return C!==null&&u!==null&&Su(u,C[1])?C[0]:(g.memoizedState=[n,u],n)}function Zd(n,u){var g=ka();u=u===void 0?null:u;var C=g.memoizedState;return C!==null&&u!==null&&Su(u,C[1])?C[0]:(n=n(),g.memoizedState=[n,u],n)}function Kd(n,u,g){return(No&21)===0?(n.baseState&&(n.baseState=!1,Va=!0),n.memoizedState=g):(Xn(g,u)||(g=Ro(),jr.lanes|=g,lu|=g,n.baseState=!0),u)}function Mg(n,u){var g=Gn;Gn=g!==0&&4>g?g:4,n(!0);var C=xr.transition;xr.transition={};try{n(!1),u()}finally{Gn=g,xr.transition=C}}function Jd(){return ka().memoizedState}function Bg(n,u,g){var C=zl(n);if(g={lane:C,action:g,hasEagerState:!1,eagerState:null,next:null},Yd(n))Xd(u,g);else if(g=xe(n,u,g,C),g!==null){var D=Ea();el(g,n,C,D),Qd(g,u,C)}}function Ng(n,u,g){var C=zl(n),D={lane:C,action:g,hasEagerState:!1,eagerState:null,next:null};if(Yd(n))Xd(u,D);else{var q=n.alternate;if(n.lanes===0&&(q===null||q.lanes===0)&&(q=u.lastRenderedReducer,q!==null))try{var oe=u.lastRenderedState,ze=q(oe,g);if(D.hasEagerState=!0,D.eagerState=ze,Xn(ze,oe)){var et=u.interleaved;et===null?(D.next=D,ge(u)):(D.next=et.next,et.next=D),u.interleaved=D;return}}catch{}finally{}g=xe(n,u,D,C),g!==null&&(D=Ea(),el(g,n,C,D),Qd(g,u,C))}}function Yd(n){var u=n.alternate;return n===jr||u!==null&&u===jr}function Xd(n,u){Ko=Ol=!0;var g=n.pending;g===null?u.next=u:(u.next=g.next,g.next=u),n.pending=u}function Qd(n,u,g){if((g&4194240)!==0){var C=u.lanes;C&=n.pendingLanes,g|=C,u.lanes=g,ds(n,g)}}var Hc={readContext:dt,useCallback:Bi,useContext:Bi,useEffect:Bi,useImperativeHandle:Bi,useInsertionEffect:Bi,useLayoutEffect:Bi,useMemo:Bi,useReducer:Bi,useRef:Bi,useState:Bi,useDebugValue:Bi,useDeferredValue:Bi,useTransition:Bi,useMutableSource:Bi,useSyncExternalStore:Bi,useId:Bi,unstable_isNewReconciler:!1},Tg={readContext:dt,useCallback:function(n,u){return fo().memoizedState=[n,u===void 0?null:u],n},useContext:dt,useEffect:Au,useImperativeHandle:function(n,u,g){return g=g!=null?g.concat([n]):null,po(4194308,4,Nu.bind(null,u,n),g)},useLayoutEffect:function(n,u){return po(4194308,4,n,u)},useInsertionEffect:function(n,u){return po(4,2,n,u)},useMemo:function(n,u){var g=fo();return u=u===void 0?null:u,n=n(),g.memoizedState=[n,u],n},useReducer:function(n,u,g){var C=fo();return u=g!==void 0?g(u):u,C.memoizedState=C.baseState=u,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:u},C.queue=n,n=n.dispatch=Bg.bind(null,jr,n),[C.memoizedState,n]},useRef:function(n){var u=fo();return n={current:n},u.memoizedState=n},useState:ou,useDebugValue:Vh,useDeferredValue:function(n){return fo().memoizedState=n},useTransition:function(){var n=ou(!1),u=n[0];return n=Mg.bind(null,n[1]),fo().memoizedState=n,[u,n]},useMutableSource:function(){},useSyncExternalStore:function(n,u,g){var C=jr,D=fo();if(Mt){if(g===void 0)throw Error(e(407));g=g()}else{if(g=u(),ks===null)throw Error(e(349));(No&30)!==0||Uc(C,u,g)}D.memoizedState=g;var q={value:g,getSnapshot:u};return D.queue=q,Au(qc.bind(null,C,q,n),[n]),C.flags|=2048,Ca(9,cc.bind(null,C,q,g,u),void 0,null),g},useId:function(){var n=fo(),u=ks.identifierPrefix;if(Mt){var g=vt,C=_t;g=(C&~(1<<32-An(C)-1)).toString(32)+g,u=":"+u+"R"+g,g=Dl++,0<g&&(u+="H"+g.toString(32)),u+=":"}else g=$h++,u=":"+u+"r"+g.toString(32)+":";return n.memoizedState=u},unstable_isNewReconciler:!1},Og={readContext:dt,useCallback:Vd,useContext:dt,useEffect:Mu,useImperativeHandle:$d,useInsertionEffect:Gc,useLayoutEffect:Bu,useMemo:Zd,useReducer:Eu,useRef:Jo,useState:function(){return Eu(au)},useDebugValue:Vh,useDeferredValue:function(n){var u=ka();return Kd(u,bi.memoizedState,n)},useTransition:function(){var n=Eu(au)[0],u=ka().memoizedState;return[n,u]},useMutableSource:zc,useSyncExternalStore:uc,useId:Jd,unstable_isNewReconciler:!1},Dg={readContext:dt,useCallback:Vd,useContext:dt,useEffect:Mu,useImperativeHandle:$d,useInsertionEffect:Gc,useLayoutEffect:Bu,useMemo:Zd,useReducer:hl,useRef:Jo,useState:function(){return hl(au)},useDebugValue:Vh,useDeferredValue:function(n){var u=ka();return bi===null?u.memoizedState=n:Kd(u,bi.memoizedState,n)},useTransition:function(){var n=hl(au)[0],u=ka().memoizedState;return[n,u]},useMutableSource:zc,useSyncExternalStore:uc,useId:Jd,unstable_isNewReconciler:!1};function Yo(n,u){if(n&&n.defaultProps){u=Ee({},u),n=n.defaultProps;for(var g in n)u[g]===void 0&&(u[g]=n[g]);return u}return u}function Zh(n,u,g,C){u=n.memoizedState,g=g(C,u),g=g==null?u:Ee({},u,g),n.memoizedState=g,n.lanes===0&&(n.updateQueue.baseState=g)}var Wc={isMounted:function(n){return(n=n._reactInternals)?Kr(n)===n:!1},enqueueSetState:function(n,u,g){n=n._reactInternals;var C=Ea(),D=zl(n),q=He(C,D);q.payload=u,g!=null&&(q.callback=g),u=Qe(n,q,D),u!==null&&(el(u,n,D,C),pt(u,n,D))},enqueueReplaceState:function(n,u,g){n=n._reactInternals;var C=Ea(),D=zl(n),q=He(C,D);q.tag=1,q.payload=u,g!=null&&(q.callback=g),u=Qe(n,q,D),u!==null&&(el(u,n,D,C),pt(u,n,D))},enqueueForceUpdate:function(n,u){n=n._reactInternals;var g=Ea(),C=zl(n),D=He(g,C);D.tag=2,u!=null&&(D.callback=u),u=Qe(n,D,C),u!==null&&(el(u,n,C,g),pt(u,n,C))}};function ep(n,u,g,C,D,q,oe){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(C,q,oe):u.prototype&&u.prototype.isPureReactComponent?!Gi(g,C)||!Gi(D,q):!0}function tp(n,u,g){var C=!1,D=Bo,q=u.contextType;return typeof q=="object"&&q!==null?q=dt(q):(D=Mi(u)?Wo:$r.current,C=u.contextTypes,q=(C=C!=null)?cl(n,D):Bo),u=new u(g,q),n.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Wc,n.stateNode=u,u._reactInternals=n,C&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=D,n.__reactInternalMemoizedMaskedChildContext=q),u}function np(n,u,g,C){n=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(g,C),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(g,C),u.state!==n&&Wc.enqueueReplaceState(u,u.state,null)}function Kh(n,u,g,C){var D=n.stateNode;D.props=g,D.state=n.memoizedState,D.refs={},Ce(n);var q=u.contextType;typeof q=="object"&&q!==null?D.context=dt(q):(q=Mi(u)?Wo:$r.current,D.context=cl(n,q)),D.state=n.memoizedState,q=u.getDerivedStateFromProps,typeof q=="function"&&(Zh(n,u,q,g),D.state=n.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(u=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),u!==D.state&&Wc.enqueueReplaceState(D,D.state,null),Dt(n,g,D,C),D.state=n.memoizedState),typeof D.componentDidMount=="function"&&(n.flags|=4194308)}function Tu(n,u){try{var g="",C=u;do g+=_e(C),C=C.return;while(C);var D=g}catch(q){D=`
Error generating stack: `+q.message+`
`+q.stack}return{value:n,source:u,stack:D,digest:null}}function Jh(n,u,g){return{value:n,source:null,stack:g??null,digest:u??null}}function Yh(n,u){try{console.error(u.value)}catch(g){setTimeout(function(){throw g})}}var Ig=typeof WeakMap=="function"?WeakMap:Map;function rp(n,u,g){g=He(-1,g),g.tag=3,g.payload={element:null};var C=u.value;return g.callback=function(){Xc||(Xc=!0,df=C),Yh(n,u)},g}function ip(n,u,g){g=He(-1,g),g.tag=3;var C=n.type.getDerivedStateFromError;if(typeof C=="function"){var D=u.value;g.payload=function(){return C(D)},g.callback=function(){Yh(n,u)}}var q=n.stateNode;return q!==null&&typeof q.componentDidCatch=="function"&&(g.callback=function(){Yh(n,u),typeof C!="function"&&(jl===null?jl=new Set([this]):jl.add(this));var oe=u.stack;this.componentDidCatch(u.value,{componentStack:oe!==null?oe:""})}),g}function sp(n,u,g){var C=n.pingCache;if(C===null){C=n.pingCache=new Ig;var D=new Set;C.set(u,D)}else D=C.get(u),D===void 0&&(D=new Set,C.set(u,D));D.has(g)||(D.add(g),n=Jg.bind(null,n,u,g),u.then(n,n))}function ap(n){do{var u;if((u=n.tag===13)&&(u=n.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return n;n=n.return}while(n!==null);return null}function op(n,u,g,C,D){return(n.mode&1)===0?(n===u?n.flags|=65536:(n.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(u=He(-1,1),u.tag=2,Qe(g,u,1))),g.lanes|=1),n):(n.flags|=65536,n.lanes=D,n)}var Rg=le.ReactCurrentOwner,Va=!1;function Sa(n,u,g,C){u.child=n===null?Et(u,null,g,C):gt(u,n.child,g,C)}function lp(n,u,g,C,D){g=g.render;var q=u.ref;return it(u,D),C=su(n,u,g,C,q,D),g=To(),n!==null&&!Va?(u.updateQueue=n.updateQueue,u.flags&=-2053,n.lanes&=~D,Cl(n,u,D)):(Mt&&g&&Ct(u),u.flags|=1,Sa(n,u,C,D),u.child)}function up(n,u,g,C,D){if(n===null){var q=g.type;return typeof q=="function"&&!wf(q)&&q.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(u.tag=15,u.type=q,cp(n,u,q,C,D)):(n=ih(g.type,null,C,u,u.mode,D),n.ref=u.ref,n.return=u,u.child=n)}if(q=n.child,(n.lanes&D)===0){var oe=q.memoizedProps;if(g=g.compare,g=g!==null?g:Gi,g(oe,C)&&n.ref===u.ref)return Cl(n,u,D)}return u.flags|=1,n=ql(q,C),n.ref=u.ref,n.return=u,u.child=n}function cp(n,u,g,C,D){if(n!==null){var q=n.memoizedProps;if(Gi(q,C)&&n.ref===u.ref)if(Va=!1,u.pendingProps=C=q,(n.lanes&D)!==0)(n.flags&131072)!==0&&(Va=!0);else return u.lanes=n.lanes,Cl(n,u,D)}return Xh(n,u,g,C,D)}function hp(n,u,g){var C=u.pendingProps,D=C.children,q=n!==null?n.memoizedState:null;if(C.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},pr(Du,mo),mo|=g;else{if((g&1073741824)===0)return n=q!==null?q.baseLanes|g:g,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:n,cachePool:null,transitions:null},u.updateQueue=null,pr(Du,mo),mo|=n,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},C=q!==null?q.baseLanes:g,pr(Du,mo),mo|=C}else q!==null?(C=q.baseLanes|g,u.memoizedState=null):C=g,pr(Du,mo),mo|=C;return Sa(n,u,D,g),u.child}function fp(n,u){var g=u.ref;(n===null&&g!==null||n!==null&&n.ref!==g)&&(u.flags|=512,u.flags|=2097152)}function Xh(n,u,g,C,D){var q=Mi(g)?Wo:$r.current;return q=cl(u,q),it(u,D),g=su(n,u,g,C,q,D),C=To(),n!==null&&!Va?(u.updateQueue=n.updateQueue,u.flags&=-2053,n.lanes&=~D,Cl(n,u,D)):(Mt&&C&&Ct(u),u.flags|=1,Sa(n,u,g,D),u.child)}function dp(n,u,g,C,D){if(Mi(g)){var q=!0;Vo(u)}else q=!1;if(it(u,D),u.stateNode===null)Vc(n,u),tp(u,g,C),Kh(u,g,C,D),C=!0;else if(n===null){var oe=u.stateNode,ze=u.memoizedProps;oe.props=ze;var et=oe.context,St=g.contextType;typeof St=="object"&&St!==null?St=dt(St):(St=Mi(g)?Wo:$r.current,St=cl(u,St));var zt=g.getDerivedStateFromProps,Ht=typeof zt=="function"||typeof oe.getSnapshotBeforeUpdate=="function";Ht||typeof oe.UNSAFE_componentWillReceiveProps!="function"&&typeof oe.componentWillReceiveProps!="function"||(ze!==C||et!==St)&&np(u,oe,C,St),ke=!1;var Ft=u.memoizedState;oe.state=Ft,Dt(u,C,oe,D),et=u.memoizedState,ze!==C||Ft!==et||Ai.current||ke?(typeof zt=="function"&&(Zh(u,g,zt,C),et=u.memoizedState),(ze=ke||ep(u,g,ze,C,Ft,et,St))?(Ht||typeof oe.UNSAFE_componentWillMount!="function"&&typeof oe.componentWillMount!="function"||(typeof oe.componentWillMount=="function"&&oe.componentWillMount(),typeof oe.UNSAFE_componentWillMount=="function"&&oe.UNSAFE_componentWillMount()),typeof oe.componentDidMount=="function"&&(u.flags|=4194308)):(typeof oe.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=C,u.memoizedState=et),oe.props=C,oe.state=et,oe.context=St,C=ze):(typeof oe.componentDidMount=="function"&&(u.flags|=4194308),C=!1)}else{oe=u.stateNode,Ke(n,u),ze=u.memoizedProps,St=u.type===u.elementType?ze:Yo(u.type,ze),oe.props=St,Ht=u.pendingProps,Ft=oe.context,et=g.contextType,typeof et=="object"&&et!==null?et=dt(et):(et=Mi(g)?Wo:$r.current,et=cl(u,et));var sn=g.getDerivedStateFromProps;(zt=typeof sn=="function"||typeof oe.getSnapshotBeforeUpdate=="function")||typeof oe.UNSAFE_componentWillReceiveProps!="function"&&typeof oe.componentWillReceiveProps!="function"||(ze!==Ht||Ft!==et)&&np(u,oe,C,et),ke=!1,Ft=u.memoizedState,oe.state=Ft,Dt(u,C,oe,D);var un=u.memoizedState;ze!==Ht||Ft!==un||Ai.current||ke?(typeof sn=="function"&&(Zh(u,g,sn,C),un=u.memoizedState),(St=ke||ep(u,g,St,C,Ft,un,et)||!1)?(zt||typeof oe.UNSAFE_componentWillUpdate!="function"&&typeof oe.componentWillUpdate!="function"||(typeof oe.componentWillUpdate=="function"&&oe.componentWillUpdate(C,un,et),typeof oe.UNSAFE_componentWillUpdate=="function"&&oe.UNSAFE_componentWillUpdate(C,un,et)),typeof oe.componentDidUpdate=="function"&&(u.flags|=4),typeof oe.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof oe.componentDidUpdate!="function"||ze===n.memoizedProps&&Ft===n.memoizedState||(u.flags|=4),typeof oe.getSnapshotBeforeUpdate!="function"||ze===n.memoizedProps&&Ft===n.memoizedState||(u.flags|=1024),u.memoizedProps=C,u.memoizedState=un),oe.props=C,oe.state=un,oe.context=et,C=St):(typeof oe.componentDidUpdate!="function"||ze===n.memoizedProps&&Ft===n.memoizedState||(u.flags|=4),typeof oe.getSnapshotBeforeUpdate!="function"||ze===n.memoizedProps&&Ft===n.memoizedState||(u.flags|=1024),C=!1)}return Qh(n,u,g,C,q,D)}function Qh(n,u,g,C,D,q){fp(n,u);var oe=(u.flags&128)!==0;if(!C&&!oe)return D&&iu(u,g,!1),Cl(n,u,q);C=u.stateNode,Rg.current=u;var ze=oe&&typeof g.getDerivedStateFromError!="function"?null:C.render();return u.flags|=1,n!==null&&oe?(u.child=gt(u,n.child,null,q),u.child=gt(u,null,ze,q)):Sa(n,u,ze,q),u.memoizedState=C.state,D&&iu(u,g,!0),u.child}function pp(n){var u=n.stateNode;u.pendingContext?nu(n,u.pendingContext,u.pendingContext!==u.context):u.context&&nu(n,u.context,!1),tr(n,u.containerInfo)}function mp(n,u,g,C,D){return z(),H(D),u.flags|=256,Sa(n,u,g,C),u.child}var ef={dehydrated:null,treeContext:null,retryLane:0};function tf(n){return{baseLanes:n,cachePool:null,transitions:null}}function gp(n,u,g){var C=u.pendingProps,D=yr.current,q=!1,oe=(u.flags&128)!==0,ze;if((ze=oe)||(ze=n!==null&&n.memoizedState===null?!1:(D&2)!==0),ze?(q=!0,u.flags&=-129):(n===null||n.memoizedState!==null)&&(D|=1),pr(yr,D&1),n===null)return m(u),n=u.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((u.mode&1)===0?u.lanes=1:n.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(oe=C.children,n=C.fallback,q?(C=u.mode,q=u.child,oe={mode:"hidden",children:oe},(C&1)===0&&q!==null?(q.childLanes=0,q.pendingProps=oe):q=sh(oe,C,0,null),n=fu(n,C,g,null),q.return=u,n.return=u,q.sibling=n,u.child=q,u.child.memoizedState=tf(g),u.memoizedState=ef,n):nf(u,oe));if(D=n.memoizedState,D!==null&&(ze=D.dehydrated,ze!==null))return jg(n,u,oe,C,ze,D,g);if(q){q=C.fallback,oe=u.mode,D=n.child,ze=D.sibling;var et={mode:"hidden",children:C.children};return(oe&1)===0&&u.child!==D?(C=u.child,C.childLanes=0,C.pendingProps=et,u.deletions=null):(C=ql(D,et),C.subtreeFlags=D.subtreeFlags&14680064),ze!==null?q=ql(ze,q):(q=fu(q,oe,g,null),q.flags|=2),q.return=u,C.return=u,C.sibling=q,u.child=C,C=q,q=u.child,oe=n.child.memoizedState,oe=oe===null?tf(g):{baseLanes:oe.baseLanes|g,cachePool:null,transitions:oe.transitions},q.memoizedState=oe,q.childLanes=n.childLanes&~g,u.memoizedState=ef,C}return q=n.child,n=q.sibling,C=ql(q,{mode:"visible",children:C.children}),(u.mode&1)===0&&(C.lanes=g),C.return=u,C.sibling=null,n!==null&&(g=u.deletions,g===null?(u.deletions=[n],u.flags|=16):g.push(n)),u.child=C,u.memoizedState=null,C}function nf(n,u){return u=sh({mode:"visible",children:u},n.mode,0,null),u.return=n,n.child=u}function $c(n,u,g,C){return C!==null&&H(C),gt(u,n.child,null,g),n=nf(u,u.pendingProps.children),n.flags|=2,u.memoizedState=null,n}function jg(n,u,g,C,D,q,oe){if(g)return u.flags&256?(u.flags&=-257,C=Jh(Error(e(422))),$c(n,u,oe,C)):u.memoizedState!==null?(u.child=n.child,u.flags|=128,null):(q=C.fallback,D=u.mode,C=sh({mode:"visible",children:C.children},D,0,null),q=fu(q,D,oe,null),q.flags|=2,C.return=u,q.return=u,C.sibling=q,u.child=C,(u.mode&1)!==0&&gt(u,n.child,null,oe),u.child.memoizedState=tf(oe),u.memoizedState=ef,q);if((u.mode&1)===0)return $c(n,u,oe,null);if(D.data==="$!"){if(C=D.nextSibling&&D.nextSibling.dataset,C)var ze=C.dgst;return C=ze,q=Error(e(419)),C=Jh(q,C,void 0),$c(n,u,oe,C)}if(ze=(oe&n.childLanes)!==0,Va||ze){if(C=ks,C!==null){switch(oe&-oe){case 4:D=2;break;case 16:D=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:D=32;break;case 536870912:D=268435456;break;default:D=0}D=(D&(C.suspendedLanes|oe))!==0?0:D,D!==0&&D!==q.retryLane&&(q.retryLane=D,ve(n,D),el(C,n,D,-1))}return yf(),C=Jh(Error(e(421))),$c(n,u,oe,C)}return D.data==="$?"?(u.flags|=128,u.child=n.child,u=Yg.bind(null,n),D._reactRetry=u,null):(n=q.treeContext,At=ei(D.nextSibling),nt=u,Mt=!0,Tt=null,n!==null&&(we[Se++]=_t,we[Se++]=vt,we[Se++]=Ye,_t=n.id,vt=n.overflow,Ye=u),u=nf(u,C.children),u.flags|=4096,u)}function _p(n,u,g){n.lanes|=u;var C=n.alternate;C!==null&&(C.lanes|=u),yt(n.return,u,g)}function rf(n,u,g,C,D){var q=n.memoizedState;q===null?n.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:C,tail:g,tailMode:D}:(q.isBackwards=u,q.rendering=null,q.renderingStartTime=0,q.last=C,q.tail=g,q.tailMode=D)}function vp(n,u,g){var C=u.pendingProps,D=C.revealOrder,q=C.tail;if(Sa(n,u,C.children,g),C=yr.current,(C&2)!==0)C=C&1|2,u.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=u.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&_p(n,g,u);else if(n.tag===19)_p(n,g,u);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===u)break e;for(;n.sibling===null;){if(n.return===null||n.return===u)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}C&=1}if(pr(yr,C),(u.mode&1)===0)u.memoizedState=null;else switch(D){case"forwards":for(g=u.child,D=null;g!==null;)n=g.alternate,n!==null&&ri(n)===null&&(D=g),g=g.sibling;g=D,g===null?(D=u.child,u.child=null):(D=g.sibling,g.sibling=null),rf(u,!1,D,g,q);break;case"backwards":for(g=null,D=u.child,u.child=null;D!==null;){if(n=D.alternate,n!==null&&ri(n)===null){u.child=D;break}n=D.sibling,D.sibling=g,g=D,D=n}rf(u,!0,g,null,q);break;case"together":rf(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Vc(n,u){(u.mode&1)===0&&n!==null&&(n.alternate=null,u.alternate=null,u.flags|=2)}function Cl(n,u,g){if(n!==null&&(u.dependencies=n.dependencies),lu|=u.lanes,(g&u.childLanes)===0)return null;if(n!==null&&u.child!==n.child)throw Error(e(153));if(u.child!==null){for(n=u.child,g=ql(n,n.pendingProps),u.child=g,g.return=u;n.sibling!==null;)n=n.sibling,g=g.sibling=ql(n,n.pendingProps),g.return=u;g.sibling=null}return u.child}function Fg(n,u,g){switch(u.tag){case 3:pp(u),z();break;case 5:xl(u);break;case 1:Mi(u.type)&&Vo(u);break;case 4:tr(u,u.stateNode.containerInfo);break;case 10:var C=u.type._context,D=u.memoizedProps.value;pr(Wt,C._currentValue),C._currentValue=D;break;case 13:if(C=u.memoizedState,C!==null)return C.dehydrated!==null?(pr(yr,yr.current&1),u.flags|=128,null):(g&u.child.childLanes)!==0?gp(n,u,g):(pr(yr,yr.current&1),n=Cl(n,u,g),n!==null?n.sibling:null);pr(yr,yr.current&1);break;case 19:if(C=(g&u.childLanes)!==0,(n.flags&128)!==0){if(C)return vp(n,u,g);u.flags|=128}if(D=u.memoizedState,D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),pr(yr,yr.current),C)break;return null;case 22:case 23:return u.lanes=0,hp(n,u,g)}return Cl(n,u,g)}var yp,sf,wp,bp;yp=function(n,u){for(var g=u.child;g!==null;){if(g.tag===5||g.tag===6)n.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===u)break;for(;g.sibling===null;){if(g.return===null||g.return===u)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},sf=function(){},wp=function(n,u,g,C){var D=n.memoizedProps;if(D!==C){n=u.stateNode,Dn(rn.current);var q=null;switch(g){case"input":D=K(n,D),C=K(n,C),q=[];break;case"select":D=Ee({},D,{value:void 0}),C=Ee({},C,{value:void 0}),q=[];break;case"textarea":D=Ge(n,D),C=Ge(n,C),q=[];break;default:typeof D.onClick!="function"&&typeof C.onClick=="function"&&(n.onclick=Rt)}Fn(g,C);var oe;g=null;for(St in D)if(!C.hasOwnProperty(St)&&D.hasOwnProperty(St)&&D[St]!=null)if(St==="style"){var ze=D[St];for(oe in ze)ze.hasOwnProperty(oe)&&(g||(g={}),g[oe]="")}else St!=="dangerouslySetInnerHTML"&&St!=="children"&&St!=="suppressContentEditableWarning"&&St!=="suppressHydrationWarning"&&St!=="autoFocus"&&(a.hasOwnProperty(St)?q||(q=[]):(q=q||[]).push(St,null));for(St in C){var et=C[St];if(ze=D?.[St],C.hasOwnProperty(St)&&et!==ze&&(et!=null||ze!=null))if(St==="style")if(ze){for(oe in ze)!ze.hasOwnProperty(oe)||et&&et.hasOwnProperty(oe)||(g||(g={}),g[oe]="");for(oe in et)et.hasOwnProperty(oe)&&ze[oe]!==et[oe]&&(g||(g={}),g[oe]=et[oe])}else g||(q||(q=[]),q.push(St,g)),g=et;else St==="dangerouslySetInnerHTML"?(et=et?et.__html:void 0,ze=ze?ze.__html:void 0,et!=null&&ze!==et&&(q=q||[]).push(St,et)):St==="children"?typeof et!="string"&&typeof et!="number"||(q=q||[]).push(St,""+et):St!=="suppressContentEditableWarning"&&St!=="suppressHydrationWarning"&&(a.hasOwnProperty(St)?(et!=null&&St==="onScroll"&&Pn("scroll",n),q||ze===et||(q=[])):(q=q||[]).push(St,et))}g&&(q=q||[]).push("style",g);var St=q;(u.updateQueue=St)&&(u.flags|=4)}},bp=function(n,u,g,C){g!==C&&(u.flags|=4)};function hc(n,u){if(!Mt)switch(n.tailMode){case"hidden":u=n.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?n.tail=null:g.sibling=null;break;case"collapsed":g=n.tail;for(var C=null;g!==null;)g.alternate!==null&&(C=g),g=g.sibling;C===null?u||n.tail===null?n.tail=null:n.tail.sibling=null:C.sibling=null}}function la(n){var u=n.alternate!==null&&n.alternate.child===n.child,g=0,C=0;if(u)for(var D=n.child;D!==null;)g|=D.lanes|D.childLanes,C|=D.subtreeFlags&14680064,C|=D.flags&14680064,D.return=n,D=D.sibling;else for(D=n.child;D!==null;)g|=D.lanes|D.childLanes,C|=D.subtreeFlags,C|=D.flags,D.return=n,D=D.sibling;return n.subtreeFlags|=C,n.childLanes=g,u}function zg(n,u,g){var C=u.pendingProps;switch(tt(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return la(u),null;case 1:return Mi(u.type)&&$o(),la(u),null;case 3:return C=u.stateNode,br(),hr(Ai),hr($r),Ls(),C.pendingContext&&(C.context=C.pendingContext,C.pendingContext=null),(n===null||n.child===null)&&(S(u)?u.flags|=4:n===null||n.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Tt!==null&&(gf(Tt),Tt=null))),sf(n,u),la(u),null;case 5:Ll(u);var D=Dn(Jn.current);if(g=u.type,n!==null&&u.stateNode!=null)wp(n,u,g,C,D),n.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!C){if(u.stateNode===null)throw Error(e(166));return la(u),null}if(n=Dn(rn.current),S(u)){C=u.stateNode,g=u.type;var q=u.memoizedProps;switch(C[sa]=u,C[co]=q,n=(u.mode&1)!==0,g){case"dialog":Pn("cancel",C),Pn("close",C);break;case"iframe":case"object":case"embed":Pn("load",C);break;case"video":case"audio":for(D=0;D<yn.length;D++)Pn(yn[D],C);break;case"source":Pn("error",C);break;case"img":case"image":case"link":Pn("error",C),Pn("load",C);break;case"details":Pn("toggle",C);break;case"input":Fe(C,q),Pn("invalid",C);break;case"select":C._wrapperState={wasMultiple:!!q.multiple},Pn("invalid",C);break;case"textarea":Lt(C,q),Pn("invalid",C)}Fn(g,q),D=null;for(var oe in q)if(q.hasOwnProperty(oe)){var ze=q[oe];oe==="children"?typeof ze=="string"?C.textContent!==ze&&(q.suppressHydrationWarning!==!0&&xt(C.textContent,ze,n),D=["children",ze]):typeof ze=="number"&&C.textContent!==""+ze&&(q.suppressHydrationWarning!==!0&&xt(C.textContent,ze,n),D=["children",""+ze]):a.hasOwnProperty(oe)&&ze!=null&&oe==="onScroll"&&Pn("scroll",C)}switch(g){case"input":Ot(C),be(C,q,!0);break;case"textarea":Ot(C),Bt(C);break;case"select":case"option":break;default:typeof q.onClick=="function"&&(C.onclick=Rt)}C=D,u.updateQueue=C,C!==null&&(u.flags|=4)}else{oe=D.nodeType===9?D:D.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Ut(g)),n==="http://www.w3.org/1999/xhtml"?g==="script"?(n=oe.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof C.is=="string"?n=oe.createElement(g,{is:C.is}):(n=oe.createElement(g),g==="select"&&(oe=n,C.multiple?oe.multiple=!0:C.size&&(oe.size=C.size))):n=oe.createElementNS(n,g),n[sa]=u,n[co]=C,yp(n,u,!1,!1),u.stateNode=n;e:{switch(oe=Ar(g,C),g){case"dialog":Pn("cancel",n),Pn("close",n),D=C;break;case"iframe":case"object":case"embed":Pn("load",n),D=C;break;case"video":case"audio":for(D=0;D<yn.length;D++)Pn(yn[D],n);D=C;break;case"source":Pn("error",n),D=C;break;case"img":case"image":case"link":Pn("error",n),Pn("load",n),D=C;break;case"details":Pn("toggle",n),D=C;break;case"input":Fe(n,C),D=K(n,C),Pn("invalid",n);break;case"option":D=C;break;case"select":n._wrapperState={wasMultiple:!!C.multiple},D=Ee({},C,{value:void 0}),Pn("invalid",n);break;case"textarea":Lt(n,C),D=Ge(n,C),Pn("invalid",n);break;default:D=C}Fn(g,D),ze=D;for(q in ze)if(ze.hasOwnProperty(q)){var et=ze[q];q==="style"?Dr(n,et):q==="dangerouslySetInnerHTML"?(et=et?et.__html:void 0,et!=null&&on(n,et)):q==="children"?typeof et=="string"?(g!=="textarea"||et!=="")&&wn(n,et):typeof et=="number"&&wn(n,""+et):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(a.hasOwnProperty(q)?et!=null&&q==="onScroll"&&Pn("scroll",n):et!=null&&Z(n,q,et,oe))}switch(g){case"input":Ot(n),be(n,C,!1);break;case"textarea":Ot(n),Bt(n);break;case"option":C.value!=null&&n.setAttribute("value",""+$e(C.value));break;case"select":n.multiple=!!C.multiple,q=C.value,q!=null?ct(n,!!C.multiple,q,!1):C.defaultValue!=null&&ct(n,!!C.multiple,C.defaultValue,!0);break;default:typeof D.onClick=="function"&&(n.onclick=Rt)}switch(g){case"button":case"input":case"select":case"textarea":C=!!C.autoFocus;break e;case"img":C=!0;break e;default:C=!1}}C&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return la(u),null;case 6:if(n&&u.stateNode!=null)bp(n,u,n.memoizedProps,C);else{if(typeof C!="string"&&u.stateNode===null)throw Error(e(166));if(g=Dn(Jn.current),Dn(rn.current),S(u)){if(C=u.stateNode,g=u.memoizedProps,C[sa]=u,(q=C.nodeValue!==g)&&(n=nt,n!==null))switch(n.tag){case 3:xt(C.nodeValue,g,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&xt(C.nodeValue,g,(n.mode&1)!==0)}q&&(u.flags|=4)}else C=(g.nodeType===9?g:g.ownerDocument).createTextNode(C),C[sa]=u,u.stateNode=C}return la(u),null;case 13:if(hr(yr),C=u.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Mt&&At!==null&&(u.mode&1)!==0&&(u.flags&128)===0)N(),z(),u.flags|=98560,q=!1;else if(q=S(u),C!==null&&C.dehydrated!==null){if(n===null){if(!q)throw Error(e(318));if(q=u.memoizedState,q=q!==null?q.dehydrated:null,!q)throw Error(e(317));q[sa]=u}else z(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;la(u),q=!1}else Tt!==null&&(gf(Tt),Tt=null),q=!0;if(!q)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=g,u):(C=C!==null,C!==(n!==null&&n.memoizedState!==null)&&C&&(u.child.flags|=8192,(u.mode&1)!==0&&(n===null||(yr.current&1)!==0?ls===0&&(ls=3):yf())),u.updateQueue!==null&&(u.flags|=4),la(u),null);case 4:return br(),sf(n,u),n===null&&Hr(u.stateNode.containerInfo),la(u),null;case 10:return rt(u.type._context),la(u),null;case 17:return Mi(u.type)&&$o(),la(u),null;case 19:if(hr(yr),q=u.memoizedState,q===null)return la(u),null;if(C=(u.flags&128)!==0,oe=q.rendering,oe===null)if(C)hc(q,!1);else{if(ls!==0||n!==null&&(n.flags&128)!==0)for(n=u.child;n!==null;){if(oe=ri(n),oe!==null){for(u.flags|=128,hc(q,!1),C=oe.updateQueue,C!==null&&(u.updateQueue=C,u.flags|=4),u.subtreeFlags=0,C=g,g=u.child;g!==null;)q=g,n=C,q.flags&=14680066,oe=q.alternate,oe===null?(q.childLanes=0,q.lanes=n,q.child=null,q.subtreeFlags=0,q.memoizedProps=null,q.memoizedState=null,q.updateQueue=null,q.dependencies=null,q.stateNode=null):(q.childLanes=oe.childLanes,q.lanes=oe.lanes,q.child=oe.child,q.subtreeFlags=0,q.deletions=null,q.memoizedProps=oe.memoizedProps,q.memoizedState=oe.memoizedState,q.updateQueue=oe.updateQueue,q.type=oe.type,n=oe.dependencies,q.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),g=g.sibling;return pr(yr,yr.current&1|2),u.child}n=n.sibling}q.tail!==null&&wr()>Iu&&(u.flags|=128,C=!0,hc(q,!1),u.lanes=4194304)}else{if(!C)if(n=ri(oe),n!==null){if(u.flags|=128,C=!0,g=n.updateQueue,g!==null&&(u.updateQueue=g,u.flags|=4),hc(q,!0),q.tail===null&&q.tailMode==="hidden"&&!oe.alternate&&!Mt)return la(u),null}else 2*wr()-q.renderingStartTime>Iu&&g!==1073741824&&(u.flags|=128,C=!0,hc(q,!1),u.lanes=4194304);q.isBackwards?(oe.sibling=u.child,u.child=oe):(g=q.last,g!==null?g.sibling=oe:u.child=oe,q.last=oe)}return q.tail!==null?(u=q.tail,q.rendering=u,q.tail=u.sibling,q.renderingStartTime=wr(),u.sibling=null,g=yr.current,pr(yr,C?g&1|2:g&1),u):(la(u),null);case 22:case 23:return vf(),C=u.memoizedState!==null,n!==null&&n.memoizedState!==null!==C&&(u.flags|=8192),C&&(u.mode&1)!==0?(mo&1073741824)!==0&&(la(u),u.subtreeFlags&6&&(u.flags|=8192)):la(u),null;case 24:return null;case 25:return null}throw Error(e(156,u.tag))}function Ug(n,u){switch(tt(u),u.tag){case 1:return Mi(u.type)&&$o(),n=u.flags,n&65536?(u.flags=n&-65537|128,u):null;case 3:return br(),hr(Ai),hr($r),Ls(),n=u.flags,(n&65536)!==0&&(n&128)===0?(u.flags=n&-65537|128,u):null;case 5:return Ll(u),null;case 13:if(hr(yr),n=u.memoizedState,n!==null&&n.dehydrated!==null){if(u.alternate===null)throw Error(e(340));z()}return n=u.flags,n&65536?(u.flags=n&-65537|128,u):null;case 19:return hr(yr),null;case 4:return br(),null;case 10:return rt(u.type._context),null;case 22:case 23:return vf(),null;case 24:return null;default:return null}}var Zc=!1,ua=!1,qg=typeof WeakSet=="function"?WeakSet:Set,ln=null;function Ou(n,u){var g=n.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(C){xi(n,u,C)}else g.current=null}function af(n,u,g){try{g()}catch(C){xi(n,u,C)}}var xp=!1;function Gg(n,u){if(Yt=ro,n=Mo(),uo(n)){if("selectionStart"in n)var g={start:n.selectionStart,end:n.selectionEnd};else e:{g=(g=n.ownerDocument)&&g.defaultView||window;var C=g.getSelection&&g.getSelection();if(C&&C.rangeCount!==0){g=C.anchorNode;var D=C.anchorOffset,q=C.focusNode;C=C.focusOffset;try{g.nodeType,q.nodeType}catch{g=null;break e}var oe=0,ze=-1,et=-1,St=0,zt=0,Ht=n,Ft=null;t:for(;;){for(var sn;Ht!==g||D!==0&&Ht.nodeType!==3||(ze=oe+D),Ht!==q||C!==0&&Ht.nodeType!==3||(et=oe+C),Ht.nodeType===3&&(oe+=Ht.nodeValue.length),(sn=Ht.firstChild)!==null;)Ft=Ht,Ht=sn;for(;;){if(Ht===n)break t;if(Ft===g&&++St===D&&(ze=oe),Ft===q&&++zt===C&&(et=oe),(sn=Ht.nextSibling)!==null)break;Ht=Ft,Ft=Ht.parentNode}Ht=sn}g=ze===-1||et===-1?null:{start:ze,end:et}}else g=null}g=g||{start:0,end:0}}else g=null;for(pn={focusedElem:n,selectionRange:g},ro=!1,ln=u;ln!==null;)if(u=ln,n=u.child,(u.subtreeFlags&1028)!==0&&n!==null)n.return=u,ln=n;else for(;ln!==null;){u=ln;try{var un=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(un!==null){var fn=un.memoizedProps,Ni=un.memoizedState,wt=u.stateNode,at=wt.getSnapshotBeforeUpdate(u.elementType===u.type?fn:Yo(u.type,fn),Ni);wt.__reactInternalSnapshotBeforeUpdate=at}break;case 3:var bt=u.stateNode.containerInfo;bt.nodeType===1?bt.textContent="":bt.nodeType===9&&bt.documentElement&&bt.removeChild(bt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(e(163))}}catch(Vt){xi(u,u.return,Vt)}if(n=u.sibling,n!==null){n.return=u.return,ln=n;break}ln=u.return}return un=xp,xp=!1,un}function fc(n,u,g){var C=u.updateQueue;if(C=C!==null?C.lastEffect:null,C!==null){var D=C=C.next;do{if((D.tag&n)===n){var q=D.destroy;D.destroy=void 0,q!==void 0&&af(u,g,q)}D=D.next}while(D!==C)}}function Kc(n,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var g=u=u.next;do{if((g.tag&n)===n){var C=g.create;g.destroy=C()}g=g.next}while(g!==u)}}function of(n){var u=n.ref;if(u!==null){var g=n.stateNode;switch(n.tag){case 5:n=g;break;default:n=g}typeof u=="function"?u(n):u.current=n}}function Lp(n){var u=n.alternate;u!==null&&(n.alternate=null,Lp(u)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(u=n.stateNode,u!==null&&(delete u[sa],delete u[co],delete u[ni],delete u[tu],delete u[aa])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function kp(n){return n.tag===5||n.tag===3||n.tag===4}function Cp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||kp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function lf(n,u,g){var C=n.tag;if(C===5||C===6)n=n.stateNode,u?g.nodeType===8?g.parentNode.insertBefore(n,u):g.insertBefore(n,u):(g.nodeType===8?(u=g.parentNode,u.insertBefore(n,g)):(u=g,u.appendChild(n)),g=g._reactRootContainer,g!=null||u.onclick!==null||(u.onclick=Rt));else if(C!==4&&(n=n.child,n!==null))for(lf(n,u,g),n=n.sibling;n!==null;)lf(n,u,g),n=n.sibling}function uf(n,u,g){var C=n.tag;if(C===5||C===6)n=n.stateNode,u?g.insertBefore(n,u):g.appendChild(n);else if(C!==4&&(n=n.child,n!==null))for(uf(n,u,g),n=n.sibling;n!==null;)uf(n,u,g),n=n.sibling}var zs=null,Xo=!1;function Rl(n,u,g){for(g=g.child;g!==null;)Sp(n,u,g),g=g.sibling}function Sp(n,u,g){if(Yi&&typeof Yi.onCommitFiberUnmount=="function")try{Yi.onCommitFiberUnmount(Oa,g)}catch{}switch(g.tag){case 5:ua||Ou(g,u);case 6:var C=zs,D=Xo;zs=null,Rl(n,u,g),zs=C,Xo=D,zs!==null&&(Xo?(n=zs,g=g.stateNode,n.nodeType===8?n.parentNode.removeChild(g):n.removeChild(g)):zs.removeChild(g.stateNode));break;case 18:zs!==null&&(Xo?(n=zs,g=g.stateNode,n.nodeType===8?Go(n.parentNode,g):n.nodeType===1&&Go(n,g),ai(n)):Go(zs,g.stateNode));break;case 4:C=zs,D=Xo,zs=g.stateNode.containerInfo,Xo=!0,Rl(n,u,g),zs=C,Xo=D;break;case 0:case 11:case 14:case 15:if(!ua&&(C=g.updateQueue,C!==null&&(C=C.lastEffect,C!==null))){D=C=C.next;do{var q=D,oe=q.destroy;q=q.tag,oe!==void 0&&((q&2)!==0||(q&4)!==0)&&af(g,u,oe),D=D.next}while(D!==C)}Rl(n,u,g);break;case 1:if(!ua&&(Ou(g,u),C=g.stateNode,typeof C.componentWillUnmount=="function"))try{C.props=g.memoizedProps,C.state=g.memoizedState,C.componentWillUnmount()}catch(ze){xi(g,u,ze)}Rl(n,u,g);break;case 21:Rl(n,u,g);break;case 22:g.mode&1?(ua=(C=ua)||g.memoizedState!==null,Rl(n,u,g),ua=C):Rl(n,u,g);break;default:Rl(n,u,g)}}function Ep(n){var u=n.updateQueue;if(u!==null){n.updateQueue=null;var g=n.stateNode;g===null&&(g=n.stateNode=new qg),u.forEach(function(C){var D=Xg.bind(null,n,C);g.has(C)||(g.add(C),C.then(D,D))})}}function Qo(n,u){var g=u.deletions;if(g!==null)for(var C=0;C<g.length;C++){var D=g[C];try{var q=n,oe=u,ze=oe;e:for(;ze!==null;){switch(ze.tag){case 5:zs=ze.stateNode,Xo=!1;break e;case 3:zs=ze.stateNode.containerInfo,Xo=!0;break e;case 4:zs=ze.stateNode.containerInfo,Xo=!0;break e}ze=ze.return}if(zs===null)throw Error(e(160));Sp(q,oe,D),zs=null,Xo=!1;var et=D.alternate;et!==null&&(et.return=null),D.return=null}catch(St){xi(D,u,St)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)Pp(u,n),u=u.sibling}function Pp(n,u){var g=n.alternate,C=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Qo(u,n),fl(n),C&4){try{fc(3,n,n.return),Kc(3,n)}catch(fn){xi(n,n.return,fn)}try{fc(5,n,n.return)}catch(fn){xi(n,n.return,fn)}}break;case 1:Qo(u,n),fl(n),C&512&&g!==null&&Ou(g,g.return);break;case 5:if(Qo(u,n),fl(n),C&512&&g!==null&&Ou(g,g.return),n.flags&32){var D=n.stateNode;try{wn(D,"")}catch(fn){xi(n,n.return,fn)}}if(C&4&&(D=n.stateNode,D!=null)){var q=n.memoizedProps,oe=g!==null?g.memoizedProps:q,ze=n.type,et=n.updateQueue;if(n.updateQueue=null,et!==null)try{ze==="input"&&q.type==="radio"&&q.name!=null&&he(D,q),Ar(ze,oe);var St=Ar(ze,q);for(oe=0;oe<et.length;oe+=2){var zt=et[oe],Ht=et[oe+1];zt==="style"?Dr(D,Ht):zt==="dangerouslySetInnerHTML"?on(D,Ht):zt==="children"?wn(D,Ht):Z(D,zt,Ht,St)}switch(ze){case"input":Pe(D,q);break;case"textarea":It(D,q);break;case"select":var Ft=D._wrapperState.wasMultiple;D._wrapperState.wasMultiple=!!q.multiple;var sn=q.value;sn!=null?ct(D,!!q.multiple,sn,!1):Ft!==!!q.multiple&&(q.defaultValue!=null?ct(D,!!q.multiple,q.defaultValue,!0):ct(D,!!q.multiple,q.multiple?[]:"",!1))}D[co]=q}catch(fn){xi(n,n.return,fn)}}break;case 6:if(Qo(u,n),fl(n),C&4){if(n.stateNode===null)throw Error(e(162));D=n.stateNode,q=n.memoizedProps;try{D.nodeValue=q}catch(fn){xi(n,n.return,fn)}}break;case 3:if(Qo(u,n),fl(n),C&4&&g!==null&&g.memoizedState.isDehydrated)try{ai(u.containerInfo)}catch(fn){xi(n,n.return,fn)}break;case 4:Qo(u,n),fl(n);break;case 13:Qo(u,n),fl(n),D=n.child,D.flags&8192&&(q=D.memoizedState!==null,D.stateNode.isHidden=q,!q||D.alternate!==null&&D.alternate.memoizedState!==null||(ff=wr())),C&4&&Ep(n);break;case 22:if(zt=g!==null&&g.memoizedState!==null,n.mode&1?(ua=(St=ua)||zt,Qo(u,n),ua=St):Qo(u,n),fl(n),C&8192){if(St=n.memoizedState!==null,(n.stateNode.isHidden=St)&&!zt&&(n.mode&1)!==0)for(ln=n,zt=n.child;zt!==null;){for(Ht=ln=zt;ln!==null;){switch(Ft=ln,sn=Ft.child,Ft.tag){case 0:case 11:case 14:case 15:fc(4,Ft,Ft.return);break;case 1:Ou(Ft,Ft.return);var un=Ft.stateNode;if(typeof un.componentWillUnmount=="function"){C=Ft,g=Ft.return;try{u=C,un.props=u.memoizedProps,un.state=u.memoizedState,un.componentWillUnmount()}catch(fn){xi(C,g,fn)}}break;case 5:Ou(Ft,Ft.return);break;case 22:if(Ft.memoizedState!==null){Bp(Ht);continue}}sn!==null?(sn.return=Ft,ln=sn):Bp(Ht)}zt=zt.sibling}e:for(zt=null,Ht=n;;){if(Ht.tag===5){if(zt===null){zt=Ht;try{D=Ht.stateNode,St?(q=D.style,typeof q.setProperty=="function"?q.setProperty("display","none","important"):q.display="none"):(ze=Ht.stateNode,et=Ht.memoizedProps.style,oe=et!=null&&et.hasOwnProperty("display")?et.display:null,ze.style.display=hn("display",oe))}catch(fn){xi(n,n.return,fn)}}}else if(Ht.tag===6){if(zt===null)try{Ht.stateNode.nodeValue=St?"":Ht.memoizedProps}catch(fn){xi(n,n.return,fn)}}else if((Ht.tag!==22&&Ht.tag!==23||Ht.memoizedState===null||Ht===n)&&Ht.child!==null){Ht.child.return=Ht,Ht=Ht.child;continue}if(Ht===n)break e;for(;Ht.sibling===null;){if(Ht.return===null||Ht.return===n)break e;zt===Ht&&(zt=null),Ht=Ht.return}zt===Ht&&(zt=null),Ht.sibling.return=Ht.return,Ht=Ht.sibling}}break;case 19:Qo(u,n),fl(n),C&4&&Ep(n);break;case 21:break;default:Qo(u,n),fl(n)}}function fl(n){var u=n.flags;if(u&2){try{e:{for(var g=n.return;g!==null;){if(kp(g)){var C=g;break e}g=g.return}throw Error(e(160))}switch(C.tag){case 5:var D=C.stateNode;C.flags&32&&(wn(D,""),C.flags&=-33);var q=Cp(n);uf(n,q,D);break;case 3:case 4:var oe=C.stateNode.containerInfo,ze=Cp(n);lf(n,ze,oe);break;default:throw Error(e(161))}}catch(et){xi(n,n.return,et)}n.flags&=-3}u&4096&&(n.flags&=-4097)}function Hg(n,u,g){ln=n,Ap(n)}function Ap(n,u,g){for(var C=(n.mode&1)!==0;ln!==null;){var D=ln,q=D.child;if(D.tag===22&&C){var oe=D.memoizedState!==null||Zc;if(!oe){var ze=D.alternate,et=ze!==null&&ze.memoizedState!==null||ua;ze=Zc;var St=ua;if(Zc=oe,(ua=et)&&!St)for(ln=D;ln!==null;)oe=ln,et=oe.child,oe.tag===22&&oe.memoizedState!==null?Np(D):et!==null?(et.return=oe,ln=et):Np(D);for(;q!==null;)ln=q,Ap(q),q=q.sibling;ln=D,Zc=ze,ua=St}Mp(n)}else(D.subtreeFlags&8772)!==0&&q!==null?(q.return=D,ln=q):Mp(n)}}function Mp(n){for(;ln!==null;){var u=ln;if((u.flags&8772)!==0){var g=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:ua||Kc(5,u);break;case 1:var C=u.stateNode;if(u.flags&4&&!ua)if(g===null)C.componentDidMount();else{var D=u.elementType===u.type?g.memoizedProps:Yo(u.type,g.memoizedProps);C.componentDidUpdate(D,g.memoizedState,C.__reactInternalSnapshotBeforeUpdate)}var q=u.updateQueue;q!==null&&Xt(u,q,C);break;case 3:var oe=u.updateQueue;if(oe!==null){if(g=null,u.child!==null)switch(u.child.tag){case 5:g=u.child.stateNode;break;case 1:g=u.child.stateNode}Xt(u,oe,g)}break;case 5:var ze=u.stateNode;if(g===null&&u.flags&4){g=ze;var et=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":et.autoFocus&&g.focus();break;case"img":et.src&&(g.src=et.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var St=u.alternate;if(St!==null){var zt=St.memoizedState;if(zt!==null){var Ht=zt.dehydrated;Ht!==null&&ai(Ht)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(e(163))}ua||u.flags&512&&of(u)}catch(Ft){xi(u,u.return,Ft)}}if(u===n){ln=null;break}if(g=u.sibling,g!==null){g.return=u.return,ln=g;break}ln=u.return}}function Bp(n){for(;ln!==null;){var u=ln;if(u===n){ln=null;break}var g=u.sibling;if(g!==null){g.return=u.return,ln=g;break}ln=u.return}}function Np(n){for(;ln!==null;){var u=ln;try{switch(u.tag){case 0:case 11:case 15:var g=u.return;try{Kc(4,u)}catch(et){xi(u,g,et)}break;case 1:var C=u.stateNode;if(typeof C.componentDidMount=="function"){var D=u.return;try{C.componentDidMount()}catch(et){xi(u,D,et)}}var q=u.return;try{of(u)}catch(et){xi(u,q,et)}break;case 5:var oe=u.return;try{of(u)}catch(et){xi(u,oe,et)}}}catch(et){xi(u,u.return,et)}if(u===n){ln=null;break}var ze=u.sibling;if(ze!==null){ze.return=u.return,ln=ze;break}ln=u.return}}var Wg=Math.ceil,Jc=le.ReactCurrentDispatcher,cf=le.ReactCurrentOwner,Oo=le.ReactCurrentBatchConfig,fr=0,ks=null,Vi=null,Us=0,mo=0,Du=oa(0),ls=0,dc=null,lu=0,Yc=0,hf=0,pc=null,Za=null,ff=0,Iu=1/0,Sl=null,Xc=!1,df=null,jl=null,Qc=!1,Fl=null,eh=0,mc=0,pf=null,th=-1,nh=0;function Ea(){return(fr&6)!==0?wr():th!==-1?th:th=wr()}function zl(n){return(n.mode&1)===0?1:(fr&2)!==0&&Us!==0?Us&-Us:X.transition!==null?(nh===0&&(nh=Ro()),nh):(n=Gn,n!==0||(n=window.event,n=n===void 0?16:In(n.type)),n)}function el(n,u,g,C){if(50<mc)throw mc=0,pf=null,Error(e(185));Fi(n,g,C),((fr&2)===0||n!==ks)&&(n===ks&&((fr&2)===0&&(Yc|=g),ls===4&&Ul(n,Us)),Ka(n,C),g===1&&fr===0&&(u.mode&1)===0&&(Iu=wr()+500,bl&&W()))}function Ka(n,u){var g=n.callbackNode;si(n,u);var C=$n(n,n===ks?Us:0);if(C===0)g!==null&&Gs(g),n.callbackNode=null,n.callbackPriority=0;else if(u=C&-C,n.callbackPriority!==u){if(g!=null&&Gs(g),u===1)n.tag===0?R(Op.bind(null,n)):E(Op.bind(null,n)),Pr(function(){(fr&6)===0&&W()}),g=null;else{switch(Ws(C)){case 1:g=Na;break;case 4:g=Io;break;case 16:g=_o;break;case 536870912:g=Ta;break;default:g=_o}g=qp(g,Tp.bind(null,n))}n.callbackPriority=u,n.callbackNode=g}}function Tp(n,u){if(th=-1,nh=0,(fr&6)!==0)throw Error(e(327));var g=n.callbackNode;if(Ru()&&n.callbackNode!==g)return null;var C=$n(n,n===ks?Us:0);if(C===0)return null;if((C&30)!==0||(C&n.expiredLanes)!==0||u)u=rh(n,C);else{u=C;var D=fr;fr|=2;var q=Ip();(ks!==n||Us!==u)&&(Sl=null,Iu=wr()+500,cu(n,u));do try{Zg();break}catch(ze){Dp(n,ze)}while(!0);qe(),Jc.current=q,fr=D,Vi!==null?u=0:(ks=null,Us=0,u=ls)}if(u!==0){if(u===2&&(D=Jr(n),D!==0&&(C=D,u=mf(n,D))),u===1)throw g=dc,cu(n,0),Ul(n,C),Ka(n,wr()),g;if(u===6)Ul(n,C);else{if(D=n.current.alternate,(C&30)===0&&!$g(D)&&(u=rh(n,C),u===2&&(q=Jr(n),q!==0&&(C=q,u=mf(n,q))),u===1))throw g=dc,cu(n,0),Ul(n,C),Ka(n,wr()),g;switch(n.finishedWork=D,n.finishedLanes=C,u){case 0:case 1:throw Error(e(345));case 2:hu(n,Za,Sl);break;case 3:if(Ul(n,C),(C&130023424)===C&&(u=ff+500-wr(),10<u)){if($n(n,0)!==0)break;if(D=n.suspendedLanes,(D&C)!==C){Ea(),n.pingedLanes|=n.suspendedLanes&D;break}n.timeoutHandle=di(hu.bind(null,n,Za,Sl),u);break}hu(n,Za,Sl);break;case 4:if(Ul(n,C),(C&4194240)===C)break;for(u=n.eventTimes,D=-1;0<C;){var oe=31-An(C);q=1<<oe,oe=u[oe],oe>D&&(D=oe),C&=~q}if(C=D,C=wr()-C,C=(120>C?120:480>C?480:1080>C?1080:1920>C?1920:3e3>C?3e3:4320>C?4320:1960*Wg(C/1960))-C,10<C){n.timeoutHandle=di(hu.bind(null,n,Za,Sl),C);break}hu(n,Za,Sl);break;case 5:hu(n,Za,Sl);break;default:throw Error(e(329))}}}return Ka(n,wr()),n.callbackNode===g?Tp.bind(null,n):null}function mf(n,u){var g=pc;return n.current.memoizedState.isDehydrated&&(cu(n,u).flags|=256),n=rh(n,u),n!==2&&(u=Za,Za=g,u!==null&&gf(u)),n}function gf(n){Za===null?Za=n:Za.push.apply(Za,n)}function $g(n){for(var u=n;;){if(u.flags&16384){var g=u.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var C=0;C<g.length;C++){var D=g[C],q=D.getSnapshot;D=D.value;try{if(!Xn(q(),D))return!1}catch{return!1}}}if(g=u.child,u.subtreeFlags&16384&&g!==null)g.return=u,u=g;else{if(u===n)break;for(;u.sibling===null;){if(u.return===null||u.return===n)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Ul(n,u){for(u&=~hf,u&=~Yc,n.suspendedLanes|=u,n.pingedLanes&=~u,n=n.expirationTimes;0<u;){var g=31-An(u),C=1<<g;n[g]=-1,u&=~C}}function Op(n){if((fr&6)!==0)throw Error(e(327));Ru();var u=$n(n,0);if((u&1)===0)return Ka(n,wr()),null;var g=rh(n,u);if(n.tag!==0&&g===2){var C=Jr(n);C!==0&&(u=C,g=mf(n,C))}if(g===1)throw g=dc,cu(n,0),Ul(n,u),Ka(n,wr()),g;if(g===6)throw Error(e(345));return n.finishedWork=n.current.alternate,n.finishedLanes=u,hu(n,Za,Sl),Ka(n,wr()),null}function _f(n,u){var g=fr;fr|=1;try{return n(u)}finally{fr=g,fr===0&&(Iu=wr()+500,bl&&W())}}function uu(n){Fl!==null&&Fl.tag===0&&(fr&6)===0&&Ru();var u=fr;fr|=1;var g=Oo.transition,C=Gn;try{if(Oo.transition=null,Gn=1,n)return n()}finally{Gn=C,Oo.transition=g,fr=u,(fr&6)===0&&W()}}function vf(){mo=Du.current,hr(Du)}function cu(n,u){n.finishedWork=null,n.finishedLanes=0;var g=n.timeoutHandle;if(g!==-1&&(n.timeoutHandle=-1,Wr(g)),Vi!==null)for(g=Vi.return;g!==null;){var C=g;switch(tt(C),C.tag){case 1:C=C.type.childContextTypes,C!=null&&$o();break;case 3:br(),hr(Ai),hr($r),Ls();break;case 5:Ll(C);break;case 4:br();break;case 13:hr(yr);break;case 19:hr(yr);break;case 10:rt(C.type._context);break;case 22:case 23:vf()}g=g.return}if(ks=n,Vi=n=ql(n.current,null),Us=mo=u,ls=0,dc=null,hf=Yc=lu=0,Za=pc=null,Q!==null){for(u=0;u<Q.length;u++)if(g=Q[u],C=g.interleaved,C!==null){g.interleaved=null;var D=C.next,q=g.pending;if(q!==null){var oe=q.next;q.next=D,C.next=oe}g.pending=C}Q=null}return n}function Dp(n,u){do{var g=Vi;try{if(qe(),wi.current=Hc,Ol){for(var C=jr.memoizedState;C!==null;){var D=C.queue;D!==null&&(D.pending=null),C=C.next}Ol=!1}if(No=0,pi=bi=jr=null,Ko=!1,Dl=0,cf.current=null,g===null||g.return===null){ls=1,dc=u,Vi=null;break}e:{var q=n,oe=g.return,ze=g,et=u;if(u=Us,ze.flags|=32768,et!==null&&typeof et=="object"&&typeof et.then=="function"){var St=et,zt=ze,Ht=zt.tag;if((zt.mode&1)===0&&(Ht===0||Ht===11||Ht===15)){var Ft=zt.alternate;Ft?(zt.updateQueue=Ft.updateQueue,zt.memoizedState=Ft.memoizedState,zt.lanes=Ft.lanes):(zt.updateQueue=null,zt.memoizedState=null)}var sn=ap(oe);if(sn!==null){sn.flags&=-257,op(sn,oe,ze,q,u),sn.mode&1&&sp(q,St,u),u=sn,et=St;var un=u.updateQueue;if(un===null){var fn=new Set;fn.add(et),u.updateQueue=fn}else un.add(et);break e}else{if((u&1)===0){sp(q,St,u),yf();break e}et=Error(e(426))}}else if(Mt&&ze.mode&1){var Ni=ap(oe);if(Ni!==null){(Ni.flags&65536)===0&&(Ni.flags|=256),op(Ni,oe,ze,q,u),H(Tu(et,ze));break e}}q=et=Tu(et,ze),ls!==4&&(ls=2),pc===null?pc=[q]:pc.push(q),q=oe;do{switch(q.tag){case 3:q.flags|=65536,u&=-u,q.lanes|=u;var wt=rp(q,et,u);ht(q,wt);break e;case 1:ze=et;var at=q.type,bt=q.stateNode;if((q.flags&128)===0&&(typeof at.getDerivedStateFromError=="function"||bt!==null&&typeof bt.componentDidCatch=="function"&&(jl===null||!jl.has(bt)))){q.flags|=65536,u&=-u,q.lanes|=u;var Vt=ip(q,ze,u);ht(q,Vt);break e}}q=q.return}while(q!==null)}jp(g)}catch(vn){u=vn,Vi===g&&g!==null&&(Vi=g=g.return);continue}break}while(!0)}function Ip(){var n=Jc.current;return Jc.current=Hc,n===null?Hc:n}function yf(){(ls===0||ls===3||ls===2)&&(ls=4),ks===null||(lu&268435455)===0&&(Yc&268435455)===0||Ul(ks,Us)}function rh(n,u){var g=fr;fr|=2;var C=Ip();(ks!==n||Us!==u)&&(Sl=null,cu(n,u));do try{Vg();break}catch(D){Dp(n,D)}while(!0);if(qe(),fr=g,Jc.current=C,Vi!==null)throw Error(e(261));return ks=null,Us=0,ls}function Vg(){for(;Vi!==null;)Rp(Vi)}function Zg(){for(;Vi!==null&&!Ba();)Rp(Vi)}function Rp(n){var u=Up(n.alternate,n,mo);n.memoizedProps=n.pendingProps,u===null?jp(n):Vi=u,cf.current=null}function jp(n){var u=n;do{var g=u.alternate;if(n=u.return,(u.flags&32768)===0){if(g=zg(g,u,mo),g!==null){Vi=g;return}}else{if(g=Ug(g,u),g!==null){g.flags&=32767,Vi=g;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{ls=6,Vi=null;return}}if(u=u.sibling,u!==null){Vi=u;return}Vi=u=n}while(u!==null);ls===0&&(ls=5)}function hu(n,u,g){var C=Gn,D=Oo.transition;try{Oo.transition=null,Gn=1,Kg(n,u,g,C)}finally{Oo.transition=D,Gn=C}return null}function Kg(n,u,g,C){do Ru();while(Fl!==null);if((fr&6)!==0)throw Error(e(327));g=n.finishedWork;var D=n.finishedLanes;if(g===null)return null;if(n.finishedWork=null,n.finishedLanes=0,g===n.current)throw Error(e(177));n.callbackNode=null,n.callbackPriority=0;var q=g.lanes|g.childLanes;if(kr(n,q),n===ks&&(Vi=ks=null,Us=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||Qc||(Qc=!0,qp(_o,function(){return Ru(),null})),q=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||q){q=Oo.transition,Oo.transition=null;var oe=Gn;Gn=1;var ze=fr;fr|=4,cf.current=null,Gg(n,g),Pp(g,n),yi(pn),ro=!!Yt,pn=Yt=null,n.current=g,Hg(g),eo(),fr=ze,Gn=oe,Oo.transition=q}else n.current=g;if(Qc&&(Qc=!1,Fl=n,eh=D),q=n.pendingLanes,q===0&&(jl=null),Xi(g.stateNode),Ka(n,wr()),u!==null)for(C=n.onRecoverableError,g=0;g<u.length;g++)D=u[g],C(D.value,{componentStack:D.stack,digest:D.digest});if(Xc)throw Xc=!1,n=df,df=null,n;return(eh&1)!==0&&n.tag!==0&&Ru(),q=n.pendingLanes,(q&1)!==0?n===pf?mc++:(mc=0,pf=n):mc=0,W(),null}function Ru(){if(Fl!==null){var n=Ws(eh),u=Oo.transition,g=Gn;try{if(Oo.transition=null,Gn=16>n?16:n,Fl===null)var C=!1;else{if(n=Fl,Fl=null,eh=0,(fr&6)!==0)throw Error(e(331));var D=fr;for(fr|=4,ln=n.current;ln!==null;){var q=ln,oe=q.child;if((ln.flags&16)!==0){var ze=q.deletions;if(ze!==null){for(var et=0;et<ze.length;et++){var St=ze[et];for(ln=St;ln!==null;){var zt=ln;switch(zt.tag){case 0:case 11:case 15:fc(8,zt,q)}var Ht=zt.child;if(Ht!==null)Ht.return=zt,ln=Ht;else for(;ln!==null;){zt=ln;var Ft=zt.sibling,sn=zt.return;if(Lp(zt),zt===St){ln=null;break}if(Ft!==null){Ft.return=sn,ln=Ft;break}ln=sn}}}var un=q.alternate;if(un!==null){var fn=un.child;if(fn!==null){un.child=null;do{var Ni=fn.sibling;fn.sibling=null,fn=Ni}while(fn!==null)}}ln=q}}if((q.subtreeFlags&2064)!==0&&oe!==null)oe.return=q,ln=oe;else e:for(;ln!==null;){if(q=ln,(q.flags&2048)!==0)switch(q.tag){case 0:case 11:case 15:fc(9,q,q.return)}var wt=q.sibling;if(wt!==null){wt.return=q.return,ln=wt;break e}ln=q.return}}var at=n.current;for(ln=at;ln!==null;){oe=ln;var bt=oe.child;if((oe.subtreeFlags&2064)!==0&&bt!==null)bt.return=oe,ln=bt;else e:for(oe=at;ln!==null;){if(ze=ln,(ze.flags&2048)!==0)try{switch(ze.tag){case 0:case 11:case 15:Kc(9,ze)}}catch(vn){xi(ze,ze.return,vn)}if(ze===oe){ln=null;break e}var Vt=ze.sibling;if(Vt!==null){Vt.return=ze.return,ln=Vt;break e}ln=ze.return}}if(fr=D,W(),Yi&&typeof Yi.onPostCommitFiberRoot=="function")try{Yi.onPostCommitFiberRoot(Oa,n)}catch{}C=!0}return C}finally{Gn=g,Oo.transition=u}}return!1}function Fp(n,u,g){u=Tu(g,u),u=rp(n,u,1),n=Qe(n,u,1),u=Ea(),n!==null&&(Fi(n,1,u),Ka(n,u))}function xi(n,u,g){if(n.tag===3)Fp(n,n,g);else for(;u!==null;){if(u.tag===3){Fp(u,n,g);break}else if(u.tag===1){var C=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(jl===null||!jl.has(C))){n=Tu(g,n),n=ip(u,n,1),u=Qe(u,n,1),n=Ea(),u!==null&&(Fi(u,1,n),Ka(u,n));break}}u=u.return}}function Jg(n,u,g){var C=n.pingCache;C!==null&&C.delete(u),u=Ea(),n.pingedLanes|=n.suspendedLanes&g,ks===n&&(Us&g)===g&&(ls===4||ls===3&&(Us&130023424)===Us&&500>wr()-ff?cu(n,0):hf|=g),Ka(n,u)}function zp(n,u){u===0&&((n.mode&1)===0?u=1:(u=Hs,Hs<<=1,(Hs&130023424)===0&&(Hs=4194304)));var g=Ea();n=ve(n,u),n!==null&&(Fi(n,u,g),Ka(n,g))}function Yg(n){var u=n.memoizedState,g=0;u!==null&&(g=u.retryLane),zp(n,g)}function Xg(n,u){var g=0;switch(n.tag){case 13:var C=n.stateNode,D=n.memoizedState;D!==null&&(g=D.retryLane);break;case 19:C=n.stateNode;break;default:throw Error(e(314))}C!==null&&C.delete(u),zp(n,g)}var Up;Up=function(n,u,g){if(n!==null)if(n.memoizedProps!==u.pendingProps||Ai.current)Va=!0;else{if((n.lanes&g)===0&&(u.flags&128)===0)return Va=!1,Fg(n,u,g);Va=(n.flags&131072)!==0}else Va=!1,Mt&&(u.flags&1048576)!==0&&Pt(u,ye,u.index);switch(u.lanes=0,u.tag){case 2:var C=u.type;Vc(n,u),n=u.pendingProps;var D=cl(u,$r.current);it(u,g),D=su(null,u,C,n,D,g);var q=To();return u.flags|=1,typeof D=="object"&&D!==null&&typeof D.render=="function"&&D.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Mi(C)?(q=!0,Vo(u)):q=!1,u.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,Ce(u),D.updater=Wc,u.stateNode=D,D._reactInternals=u,Kh(u,C,n,g),u=Qh(null,u,C,!0,q,g)):(u.tag=0,Mt&&q&&Ct(u),Sa(null,u,D,g),u=u.child),u;case 16:C=u.elementType;e:{switch(Vc(n,u),n=u.pendingProps,D=C._init,C=D(C._payload),u.type=C,D=u.tag=e_(C),n=Yo(C,n),D){case 0:u=Xh(null,u,C,n,g);break e;case 1:u=dp(null,u,C,n,g);break e;case 11:u=lp(null,u,C,n,g);break e;case 14:u=up(null,u,C,Yo(C.type,n),g);break e}throw Error(e(306,C,""))}return u;case 0:return C=u.type,D=u.pendingProps,D=u.elementType===C?D:Yo(C,D),Xh(n,u,C,D,g);case 1:return C=u.type,D=u.pendingProps,D=u.elementType===C?D:Yo(C,D),dp(n,u,C,D,g);case 3:e:{if(pp(u),n===null)throw Error(e(387));C=u.pendingProps,q=u.memoizedState,D=q.element,Ke(n,u),Dt(u,C,null,g);var oe=u.memoizedState;if(C=oe.element,q.isDehydrated)if(q={element:C,isDehydrated:!1,cache:oe.cache,pendingSuspenseBoundaries:oe.pendingSuspenseBoundaries,transitions:oe.transitions},u.updateQueue.baseState=q,u.memoizedState=q,u.flags&256){D=Tu(Error(e(423)),u),u=mp(n,u,C,g,D);break e}else if(C!==D){D=Tu(Error(e(424)),u),u=mp(n,u,C,g,D);break e}else for(At=ei(u.stateNode.containerInfo.firstChild),nt=u,Mt=!0,Tt=null,g=Et(u,null,C,g),u.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(z(),C===D){u=Cl(n,u,g);break e}Sa(n,u,C,g)}u=u.child}return u;case 5:return xl(u),n===null&&m(u),C=u.type,D=u.pendingProps,q=n!==null?n.memoizedProps:null,oe=D.children,On(C,D)?oe=null:q!==null&&On(C,q)&&(u.flags|=32),fp(n,u),Sa(n,u,oe,g),u.child;case 6:return n===null&&m(u),null;case 13:return gp(n,u,g);case 4:return tr(u,u.stateNode.containerInfo),C=u.pendingProps,n===null?u.child=gt(u,null,C,g):Sa(n,u,C,g),u.child;case 11:return C=u.type,D=u.pendingProps,D=u.elementType===C?D:Yo(C,D),lp(n,u,C,D,g);case 7:return Sa(n,u,u.pendingProps,g),u.child;case 8:return Sa(n,u,u.pendingProps.children,g),u.child;case 12:return Sa(n,u,u.pendingProps.children,g),u.child;case 10:e:{if(C=u.type._context,D=u.pendingProps,q=u.memoizedProps,oe=D.value,pr(Wt,C._currentValue),C._currentValue=oe,q!==null)if(Xn(q.value,oe)){if(q.children===D.children&&!Ai.current){u=Cl(n,u,g);break e}}else for(q=u.child,q!==null&&(q.return=u);q!==null;){var ze=q.dependencies;if(ze!==null){oe=q.child;for(var et=ze.firstContext;et!==null;){if(et.context===C){if(q.tag===1){et=He(-1,g&-g),et.tag=2;var St=q.updateQueue;if(St!==null){St=St.shared;var zt=St.pending;zt===null?et.next=et:(et.next=zt.next,zt.next=et),St.pending=et}}q.lanes|=g,et=q.alternate,et!==null&&(et.lanes|=g),yt(q.return,g,u),ze.lanes|=g;break}et=et.next}}else if(q.tag===10)oe=q.type===u.type?null:q.child;else if(q.tag===18){if(oe=q.return,oe===null)throw Error(e(341));oe.lanes|=g,ze=oe.alternate,ze!==null&&(ze.lanes|=g),yt(oe,g,u),oe=q.sibling}else oe=q.child;if(oe!==null)oe.return=q;else for(oe=q;oe!==null;){if(oe===u){oe=null;break}if(q=oe.sibling,q!==null){q.return=oe.return,oe=q;break}oe=oe.return}q=oe}Sa(n,u,D.children,g),u=u.child}return u;case 9:return D=u.type,C=u.pendingProps.children,it(u,g),D=dt(D),C=C(D),u.flags|=1,Sa(n,u,C,g),u.child;case 14:return C=u.type,D=Yo(C,u.pendingProps),D=Yo(C.type,D),up(n,u,C,D,g);case 15:return cp(n,u,u.type,u.pendingProps,g);case 17:return C=u.type,D=u.pendingProps,D=u.elementType===C?D:Yo(C,D),Vc(n,u),u.tag=1,Mi(C)?(n=!0,Vo(u)):n=!1,it(u,g),tp(u,C,D),Kh(u,C,D,g),Qh(null,u,C,!0,n,g);case 19:return vp(n,u,g);case 22:return hp(n,u,g)}throw Error(e(156,u.tag))};function qp(n,u){return Qa(n,u)}function Qg(n,u,g,C){this.tag=n,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Do(n,u,g,C){return new Qg(n,u,g,C)}function wf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function e_(n){if(typeof n=="function")return wf(n)?1:0;if(n!=null){if(n=n.$$typeof,n===G)return 11;if(n===Ae)return 14}return 2}function ql(n,u){var g=n.alternate;return g===null?(g=Do(n.tag,u,n.key,n.mode),g.elementType=n.elementType,g.type=n.type,g.stateNode=n.stateNode,g.alternate=n,n.alternate=g):(g.pendingProps=u,g.type=n.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=n.flags&14680064,g.childLanes=n.childLanes,g.lanes=n.lanes,g.child=n.child,g.memoizedProps=n.memoizedProps,g.memoizedState=n.memoizedState,g.updateQueue=n.updateQueue,u=n.dependencies,g.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},g.sibling=n.sibling,g.index=n.index,g.ref=n.ref,g}function ih(n,u,g,C,D,q){var oe=2;if(C=n,typeof n=="function")wf(n)&&(oe=1);else if(typeof n=="string")oe=5;else e:switch(n){case $:return fu(g.children,D,q,u);case Y:oe=8,D|=8;break;case ue:return n=Do(12,g,u,D|2),n.elementType=ue,n.lanes=q,n;case se:return n=Do(13,g,u,D),n.elementType=se,n.lanes=q,n;case j:return n=Do(19,g,u,D),n.elementType=j,n.lanes=q,n;case je:return sh(g,D,q,u);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Me:oe=10;break e;case J:oe=9;break e;case G:oe=11;break e;case Ae:oe=14;break e;case Ue:oe=16,C=null;break e}throw Error(e(130,n==null?n:typeof n,""))}return u=Do(oe,g,u,D),u.elementType=n,u.type=C,u.lanes=q,u}function fu(n,u,g,C){return n=Do(7,n,C,u),n.lanes=g,n}function sh(n,u,g,C){return n=Do(22,n,C,u),n.elementType=je,n.lanes=g,n.stateNode={isHidden:!1},n}function bf(n,u,g){return n=Do(6,n,null,u),n.lanes=g,n}function xf(n,u,g){return u=Do(4,n.children!==null?n.children:[],n.key,u),u.lanes=g,u.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},u}function t_(n,u,g,C,D){this.tag=u,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ra(0),this.expirationTimes=Ra(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ra(0),this.identifierPrefix=C,this.onRecoverableError=D,this.mutableSourceEagerHydrationData=null}function Lf(n,u,g,C,D,q,oe,ze,et){return n=new t_(n,u,g,ze,et),u===1?(u=1,q===!0&&(u|=8)):u=0,q=Do(3,null,null,u),n.current=q,q.stateNode=n,q.memoizedState={element:C,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ce(q),n}function n_(n,u,g){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ie,key:C==null?null:""+C,children:n,containerInfo:u,implementation:g}}function Gp(n){if(!n)return Bo;n=n._reactInternals;e:{if(Kr(n)!==n||n.tag!==1)throw Error(e(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Mi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(e(171))}if(n.tag===1){var g=n.type;if(Mi(g))return ru(n,g,u)}return u}function Hp(n,u,g,C,D,q,oe,ze,et){return n=Lf(g,C,!0,n,D,q,oe,ze,et),n.context=Gp(null),g=n.current,C=Ea(),D=zl(g),q=He(C,D),q.callback=u??null,Qe(g,q,D),n.current.lanes=D,Fi(n,D,C),Ka(n,C),n}function ah(n,u,g,C){var D=u.current,q=Ea(),oe=zl(D);return g=Gp(g),u.context===null?u.context=g:u.pendingContext=g,u=He(q,oe),u.payload={element:n},C=C===void 0?null:C,C!==null&&(u.callback=C),n=Qe(D,u,oe),n!==null&&(el(n,D,oe,q),pt(n,D,oe)),oe}function oh(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Wp(n,u){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var g=n.retryLane;n.retryLane=g!==0&&g<u?g:u}}function kf(n,u){Wp(n,u),(n=n.alternate)&&Wp(n,u)}function r_(){return null}var $p=typeof reportError=="function"?reportError:function(n){console.error(n)};function Cf(n){this._internalRoot=n}lh.prototype.render=Cf.prototype.render=function(n){var u=this._internalRoot;if(u===null)throw Error(e(409));ah(n,u,null,null)},lh.prototype.unmount=Cf.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var u=n.containerInfo;uu(function(){ah(null,n,null,null)}),u[Un]=null}};function lh(n){this._internalRoot=n}lh.prototype.unstable_scheduleHydration=function(n){if(n){var u=ps();n={blockedOn:null,target:n,priority:u};for(var g=0;g<zr.length&&u!==0&&u<zr[g].priority;g++);zr.splice(g,0,n),g===0&&ts(n)}};function Sf(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function uh(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Vp(){}function i_(n,u,g,C,D){if(D){if(typeof C=="function"){var q=C;C=function(){var St=oh(oe);q.call(St)}}var oe=Hp(u,C,n,0,null,!1,!1,"",Vp);return n._reactRootContainer=oe,n[Un]=oe.current,Hr(n.nodeType===8?n.parentNode:n),uu(),oe}for(;D=n.lastChild;)n.removeChild(D);if(typeof C=="function"){var ze=C;C=function(){var St=oh(et);ze.call(St)}}var et=Lf(n,0,!1,null,null,!1,!1,"",Vp);return n._reactRootContainer=et,n[Un]=et.current,Hr(n.nodeType===8?n.parentNode:n),uu(function(){ah(u,et,g,C)}),et}function ch(n,u,g,C,D){var q=g._reactRootContainer;if(q){var oe=q;if(typeof D=="function"){var ze=D;D=function(){var et=oh(oe);ze.call(et)}}ah(u,oe,n,D)}else oe=i_(g,u,n,D,C);return oh(oe)}vo=function(n){switch(n.tag){case 3:var u=n.stateNode;if(u.current.memoizedState.isDehydrated){var g=Ln(u.pendingLanes);g!==0&&(ds(u,g|1),Ka(u,wr()),(fr&6)===0&&(Iu=wr()+500,W()))}break;case 13:uu(function(){var C=ve(n,1);if(C!==null){var D=Ea();el(C,n,1,D)}}),kf(n,1)}},$s=function(n){if(n.tag===13){var u=ve(n,134217728);if(u!==null){var g=Ea();el(u,n,134217728,g)}kf(n,134217728)}},yo=function(n){if(n.tag===13){var u=zl(n),g=ve(n,u);if(g!==null){var C=Ea();el(g,n,u,C)}kf(n,u)}},ps=function(){return Gn},Vs=function(n,u){var g=Gn;try{return Gn=n,u()}finally{Gn=g}},ar=function(n,u,g){switch(u){case"input":if(Pe(n,g),u=g.name,g.type==="radio"&&u!=null){for(g=n;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<g.length;u++){var C=g[u];if(C!==n&&C.form===n.form){var D=Ho(C);if(!D)throw Error(e(90));Gt(C),Pe(C,D)}}}break;case"textarea":It(n,g);break;case"select":u=g.value,u!=null&&ct(n,!!g.multiple,u,!1)}},ma=_f,Zr=uu;var s_={usingClientEntryPoint:!1,Events:[Fs,La,Ho,En,Yn,_f]},gc={findFiberByHostInstance:Wa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},a_={bundleType:gc.bundleType,version:gc.version,rendererPackageName:gc.rendererPackageName,rendererConfig:gc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:le.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Ma(n),n===null?null:n.stateNode},findFiberByHostInstance:gc.findFiberByHostInstance||r_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hh.isDisabled&&hh.supportsFiber)try{Oa=hh.inject(a_),Yi=hh}catch{}}return Ja.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s_,Ja.createPortal=function(n,u){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sf(u))throw Error(e(200));return n_(n,u,null,g)},Ja.createRoot=function(n,u){if(!Sf(n))throw Error(e(299));var g=!1,C="",D=$p;return u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(C=u.identifierPrefix),u.onRecoverableError!==void 0&&(D=u.onRecoverableError)),u=Lf(n,1,!1,null,null,g,!1,C,D),n[Un]=u.current,Hr(n.nodeType===8?n.parentNode:n),new Cf(u)},Ja.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var u=n._reactInternals;if(u===void 0)throw typeof n.render=="function"?Error(e(188)):(n=Object.keys(n).join(","),Error(e(268,n)));return n=Ma(u),n=n===null?null:n.stateNode,n},Ja.flushSync=function(n){return uu(n)},Ja.hydrate=function(n,u,g){if(!uh(u))throw Error(e(200));return ch(null,n,u,!0,g)},Ja.hydrateRoot=function(n,u,g){if(!Sf(n))throw Error(e(405));var C=g!=null&&g.hydratedSources||null,D=!1,q="",oe=$p;if(g!=null&&(g.unstable_strictMode===!0&&(D=!0),g.identifierPrefix!==void 0&&(q=g.identifierPrefix),g.onRecoverableError!==void 0&&(oe=g.onRecoverableError)),u=Hp(u,null,n,1,g??null,D,!1,q,oe),n[Un]=u.current,Hr(n),C)for(n=0;n<C.length;n++)g=C[n],D=g._getVersion,D=D(g._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[g,D]:u.mutableSourceEagerHydrationData.push(g,D);return new lh(u)},Ja.render=function(n,u,g){if(!uh(u))throw Error(e(200));return ch(null,n,u,!1,g)},Ja.unmountComponentAtNode=function(n){if(!uh(n))throw Error(e(40));return n._reactRootContainer?(uu(function(){ch(null,null,n,!1,function(){n._reactRootContainer=null,n[Un]=null})}),!0):!1},Ja.unstable_batchedUpdates=_f,Ja.unstable_renderSubtreeIntoContainer=function(n,u,g,C){if(!uh(g))throw Error(e(200));if(n==null||n._reactInternals===void 0)throw Error(e(38));return ch(n,u,g,!1,C)},Ja.version="18.3.1-next-f1338f8080-20240426",Ja}var t0;function mm(){if(t0)return Af.exports;t0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Af.exports=d_(),Af.exports}var n0;function p_(){if(n0)return fh;n0=1;var s=mm();return fh.createRoot=s.createRoot,fh.hydrateRoot=s.hydrateRoot,fh}var m_=p_();const g_=wu(m_),__="modulepreload",v_=function(s){return"/pudumaps/"+s},r0={},Yl=function(t,e,i){let a=Promise.resolve();if(e&&e.length>0){let p=function(v){return Promise.all(v.map(b=>Promise.resolve(b).then(k=>({status:"fulfilled",value:k}),k=>({status:"rejected",reason:k}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=c?.nonce||c?.getAttribute("nonce");a=p(e.map(v=>{if(v=v_(v),v in r0)return;r0[v]=!0;const b=v.endsWith(".css"),k=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${k}`))return;const P=document.createElement("link");if(P.rel=b?"stylesheet":__,b||(P.as="script"),P.crossOrigin="",P.href=v,f&&P.setAttribute("nonce",f),document.head.appendChild(P),b)return new Promise((w,O)=>{P.addEventListener("load",w),P.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${v}`)))})}))}function o(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return a.then(c=>{for(const f of c||[])f.status==="rejected"&&o(f.reason);return t().catch(o)})},y_=s=>{let t;return s?t=s:typeof fetch>"u"?t=(...e)=>Yl(async()=>{const{default:i}=await Promise.resolve().then(()=>oc);return{default:i}},void 0).then(({default:i})=>i(...e)):t=fetch,(...e)=>t(...e)};class Pd extends Error{constructor(t,e="FunctionsError",i){super(t),this.name=e,this.context=i}}class w_ extends Pd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class i0 extends Pd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class s0 extends Pd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ed;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(ed||(ed={}));var b_=function(s,t,e,i){function a(o){return o instanceof e?o:new e(function(c){c(o)})}return new(e||(e=Promise))(function(o,c){function f(b){try{v(i.next(b))}catch(k){c(k)}}function p(b){try{v(i.throw(b))}catch(k){c(k)}}function v(b){b.done?o(b.value):a(b.value).then(f,p)}v((i=i.apply(s,t||[])).next())})};class x_{constructor(t,{headers:e={},customFetch:i,region:a=ed.Any}={}){this.url=t,this.headers=e,this.region=a,this.fetch=y_(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,e={}){var i;return b_(this,void 0,void 0,function*(){try{const{headers:a,method:o,body:c}=e;let f={},{region:p}=e;p||(p=this.region);const v=new URL(`${this.url}/${t}`);p&&p!=="any"&&(f["x-region"]=p,v.searchParams.set("forceFunctionRegion",p));let b;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",b=c):typeof c=="string"?(f["Content-Type"]="text/plain",b=c):typeof FormData<"u"&&c instanceof FormData?b=c:(f["Content-Type"]="application/json",b=JSON.stringify(c)));const k=yield this.fetch(v.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:b}).catch(A=>{throw new w_(A)}),P=k.headers.get("x-relay-error");if(P&&P==="true")throw new i0(k);if(!k.ok)throw new s0(k);let w=((i=k.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),O;return w==="application/json"?O=yield k.json():w==="application/octet-stream"?O=yield k.blob():w==="text/event-stream"?O=k:w==="multipart/form-data"?O=yield k.formData():O=yield k.text(),{data:O,error:null,response:k}}catch(a){return{data:null,error:a,response:a instanceof s0||a instanceof i0?a.context:void 0}}})}}var Ss={},ju={},Fu={},zu={},Uu={},qu={},L_=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ac=L_();const k_=ac.fetch,gm=ac.fetch.bind(ac),_m=ac.Headers,C_=ac.Request,S_=ac.Response,oc=Object.freeze(Object.defineProperty({__proto__:null,Headers:_m,Request:C_,Response:S_,default:gm,fetch:k_},Symbol.toStringTag,{value:"Module"})),E_=pm(oc);var dh={},a0;function vm(){if(a0)return dh;a0=1,Object.defineProperty(dh,"__esModule",{value:!0});class s extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}return dh.default=s,dh}var o0;function ym(){if(o0)return qu;o0=1;var s=qu&&qu.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(qu,"__esModule",{value:!0});const t=s(E_),e=s(vm());class i{constructor(o){this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=o.headers,this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=o.shouldThrowOnError,this.signal=o.signal,this.isMaybeSingle=o.isMaybeSingle,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,c){return this.headers=Object.assign({},this.headers),this.headers[o]=c,this}then(o,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const f=this.fetch;let p=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async v=>{var b,k,P;let w=null,O=null,A=null,I=v.status,B=v.statusText;if(v.ok){if(this.method!=="HEAD"){const pe=await v.text();pe===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?O=pe:O=JSON.parse(pe))}const Z=(b=this.headers.Prefer)===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),le=(k=v.headers.get("content-range"))===null||k===void 0?void 0:k.split("/");Z&&le&&le.length>1&&(A=parseInt(le[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(O)&&(O.length>1?(w={code:"PGRST116",details:`Results contain ${O.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},O=null,A=null,I=406,B="Not Acceptable"):O.length===1?O=O[0]:O=null)}else{const Z=await v.text();try{w=JSON.parse(Z),Array.isArray(w)&&v.status===404&&(O=[],w=null,I=200,B="OK")}catch{v.status===404&&Z===""?(I=204,B="No Content"):w={message:Z}}if(w&&this.isMaybeSingle&&(!((P=w?.details)===null||P===void 0)&&P.includes("0 rows"))&&(w=null,I=200,B="OK"),w&&this.shouldThrowOnError)throw new e.default(w)}return{error:w,data:O,count:A,status:I,statusText:B}});return this.shouldThrowOnError||(p=p.catch(v=>{var b,k,P;return{error:{message:`${(b=v?.name)!==null&&b!==void 0?b:"FetchError"}: ${v?.message}`,details:`${(k=v?.stack)!==null&&k!==void 0?k:""}`,hint:"",code:`${(P=v?.code)!==null&&P!==void 0?P:""}`},data:null,count:null,status:0,statusText:""}})),p.then(o,c)}returns(){return this}overrideTypes(){return this}}return qu.default=i,qu}var l0;function wm(){if(l0)return Uu;l0=1;var s=Uu&&Uu.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Uu,"__esModule",{value:!0});const t=s(ym());class e extends t.default{select(a){let o=!1;const c=(a??"*").split("").map(f=>/\s/.test(f)&&!o?"":(f==='"'&&(o=!o),f)).join("");return this.url.searchParams.set("select",c),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:o=!0,nullsFirst:c,foreignTable:f,referencedTable:p=f}={}){const v=p?`${p}.order`:"order",b=this.url.searchParams.get(v);return this.url.searchParams.set(v,`${b?`${b},`:""}${a}.${o?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:o,referencedTable:c=o}={}){const f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(f,`${a}`),this}range(a,o,{foreignTable:c,referencedTable:f=c}={}){const p=typeof f>"u"?"offset":`${f}.offset`,v=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${a}`),this.url.searchParams.set(v,`${o-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:o=!1,settings:c=!1,buffers:f=!1,wal:p=!1,format:v="text"}={}){var b;const k=[a?"analyze":null,o?"verbose":null,c?"settings":null,f?"buffers":null,p?"wal":null].filter(Boolean).join("|"),P=(b=this.headers.Accept)!==null&&b!==void 0?b:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${v}; for="${P}"; options=${k};`,v==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Uu.default=e,Uu}var u0;function Ad(){if(u0)return zu;u0=1;var s=zu&&zu.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(zu,"__esModule",{value:!0});const t=s(wm());class e extends t.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}in(a,o){const c=Array.from(new Set(o)).map(f=>typeof f=="string"&&new RegExp("[,()]").test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(a,`in.(${c})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:c,type:f}={}){let p="";f==="plain"?p="pl":f==="phrase"?p="ph":f==="websearch"&&(p="w");const v=c===void 0?"":`(${c})`;return this.url.searchParams.append(a,`${p}fts${v}.${o}`),this}match(a){return Object.entries(a).forEach(([o,c])=>{this.url.searchParams.append(o,`eq.${c}`)}),this}not(a,o,c){return this.url.searchParams.append(a,`not.${o}.${c}`),this}or(a,{foreignTable:o,referencedTable:c=o}={}){const f=c?`${c}.or`:"or";return this.url.searchParams.append(f,`(${a})`),this}filter(a,o,c){return this.url.searchParams.append(a,`${o}.${c}`),this}}return zu.default=e,zu}var c0;function bm(){if(c0)return Fu;c0=1;var s=Fu&&Fu.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Fu,"__esModule",{value:!0});const t=s(Ad());class e{constructor(a,{headers:o={},schema:c,fetch:f}){this.url=a,this.headers=o,this.schema=c,this.fetch=f}select(a,{head:o=!1,count:c}={}){const f=o?"HEAD":"GET";let p=!1;const v=(a??"*").split("").map(b=>/\s/.test(b)&&!p?"":(b==='"'&&(p=!p),b)).join("");return this.url.searchParams.set("select",v),c&&(this.headers.Prefer=`count=${c}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:o,defaultToNull:c=!0}={}){const f="POST",p=[];if(this.headers.Prefer&&p.push(this.headers.Prefer),o&&p.push(`count=${o}`),c||p.push("missing=default"),this.headers.Prefer=p.join(","),Array.isArray(a)){const v=a.reduce((b,k)=>b.concat(Object.keys(k)),[]);if(v.length>0){const b=[...new Set(v)].map(k=>`"${k}"`);this.url.searchParams.set("columns",b.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:o,ignoreDuplicates:c=!1,count:f,defaultToNull:p=!0}={}){const v="POST",b=[`resolution=${c?"ignore":"merge"}-duplicates`];if(o!==void 0&&this.url.searchParams.set("on_conflict",o),this.headers.Prefer&&b.push(this.headers.Prefer),f&&b.push(`count=${f}`),p||b.push("missing=default"),this.headers.Prefer=b.join(","),Array.isArray(a)){const k=a.reduce((P,w)=>P.concat(Object.keys(w)),[]);if(k.length>0){const P=[...new Set(k)].map(w=>`"${w}"`);this.url.searchParams.set("columns",P.join(","))}}return new t.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:o}={}){const c="PATCH",f=[];return this.headers.Prefer&&f.push(this.headers.Prefer),o&&f.push(`count=${o}`),this.headers.Prefer=f.join(","),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const o="DELETE",c=[];return a&&c.push(`count=${a}`),this.headers.Prefer&&c.unshift(this.headers.Prefer),this.headers.Prefer=c.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Fu.default=e,Fu}var vc={},yc={},h0;function P_(){return h0||(h0=1,Object.defineProperty(yc,"__esModule",{value:!0}),yc.version=void 0,yc.version="0.0.0-automated"),yc}var f0;function A_(){if(f0)return vc;f0=1,Object.defineProperty(vc,"__esModule",{value:!0}),vc.DEFAULT_HEADERS=void 0;const s=P_();return vc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${s.version}`},vc}var d0;function M_(){if(d0)return ju;d0=1;var s=ju&&ju.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(ju,"__esModule",{value:!0});const t=s(bm()),e=s(Ad()),i=A_();class a{constructor(c,{headers:f={},schema:p,fetch:v}={}){this.url=c,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),f),this.schemaName=p,this.fetch=v}from(c){const f=new URL(`${this.url}/${c}`);return new t.default(f,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new a(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,f={},{head:p=!1,get:v=!1,count:b}={}){let k;const P=new URL(`${this.url}/rpc/${c}`);let w;p||v?(k=p?"HEAD":"GET",Object.entries(f).filter(([A,I])=>I!==void 0).map(([A,I])=>[A,Array.isArray(I)?`{${I.join(",")}}`:`${I}`]).forEach(([A,I])=>{P.searchParams.append(A,I)})):(k="POST",w=f);const O=Object.assign({},this.headers);return b&&(O.Prefer=`count=${b}`),new e.default({method:k,url:P,headers:O,schema:this.schemaName,body:w,fetch:this.fetch,allowEmpty:!1})}}return ju.default=a,ju}var p0;function B_(){if(p0)return Ss;p0=1;var s=Ss&&Ss.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(Ss,"__esModule",{value:!0}),Ss.PostgrestError=Ss.PostgrestBuilder=Ss.PostgrestTransformBuilder=Ss.PostgrestFilterBuilder=Ss.PostgrestQueryBuilder=Ss.PostgrestClient=void 0;const t=s(M_());Ss.PostgrestClient=t.default;const e=s(bm());Ss.PostgrestQueryBuilder=e.default;const i=s(Ad());Ss.PostgrestFilterBuilder=i.default;const a=s(wm());Ss.PostgrestTransformBuilder=a.default;const o=s(ym());Ss.PostgrestBuilder=o.default;const c=s(vm());return Ss.PostgrestError=c.default,Ss.default={PostgrestClient:t.default,PostgrestQueryBuilder:e.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:o.default,PostgrestError:c.default},Ss}var N_=B_();const T_=wu(N_),{PostgrestClient:O_,PostgrestQueryBuilder:R5,PostgrestFilterBuilder:j5,PostgrestTransformBuilder:F5,PostgrestBuilder:z5,PostgrestError:U5}=T_;class D_{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const e=parseInt(process.versions.node.split(".")[0]);return e>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${e} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${e} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let e=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(e+=`

Suggested solution: ${t.workaround}`),new Error(e)}static createWebSocket(t,e){const i=this.getWebSocketConstructor();return new i(t,e)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const I_="2.15.1",R_=`realtime-js/${I_}`,j_="1.0.0",td=1e4,F_=1e3,z_=100;var Ec;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Ec||(Ec={}));var us;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(us||(us={}));var sl;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(sl||(sl={}));var nd;(function(s){s.websocket="websocket"})(nd||(nd={}));var _u;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(_u||(_u={}));class U_{constructor(){this.HEADER_LENGTH=1}decode(t,e){return t.constructor===ArrayBuffer?e(this._binaryDecode(t)):e(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const e=new DataView(t),i=new TextDecoder;return this._decodeBroadcast(t,e,i)}_decodeBroadcast(t,e,i){const a=e.getUint8(1),o=e.getUint8(2);let c=this.HEADER_LENGTH+2;const f=i.decode(t.slice(c,c+a));c=c+a;const p=i.decode(t.slice(c,c+o));c=c+o;const v=JSON.parse(i.decode(t.slice(c,t.byteLength)));return{ref:null,topic:f,event:p,payload:v}}}class xm{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Fr;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(Fr||(Fr={}));const m0=(s,t,e={})=>{var i;const a=(i=e.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(t).reduce((o,c)=>(o[c]=q_(c,s,t,a),o),{})},q_=(s,t,e,i)=>{const a=t.find(f=>f.name===s),o=a?.type,c=e[s];return o&&!i.includes(o)?Lm(o,c):rd(c)},Lm=(s,t)=>{if(s.charAt(0)==="_"){const e=s.slice(1,s.length);return $_(t,e)}switch(s){case Fr.bool:return G_(t);case Fr.float4:case Fr.float8:case Fr.int2:case Fr.int4:case Fr.int8:case Fr.numeric:case Fr.oid:return H_(t);case Fr.json:case Fr.jsonb:return W_(t);case Fr.timestamp:return V_(t);case Fr.abstime:case Fr.date:case Fr.daterange:case Fr.int4range:case Fr.int8range:case Fr.money:case Fr.reltime:case Fr.text:case Fr.time:case Fr.timestamptz:case Fr.timetz:case Fr.tsrange:case Fr.tstzrange:return rd(t);default:return rd(t)}},rd=s=>s,G_=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},H_=s=>{if(typeof s=="string"){const t=parseFloat(s);if(!Number.isNaN(t))return t}return s},W_=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(t){return console.log(`JSON parse error: ${t}`),s}return s},$_=(s,t)=>{if(typeof s!="string")return s;const e=s.length-1,i=s[e];if(s[0]==="{"&&i==="}"){let o;const c=s.slice(1,e);try{o=JSON.parse("["+c+"]")}catch{o=c?c.split(","):[]}return o.map(f=>Lm(t,f))}return s},V_=s=>typeof s=="string"?s.replace(" ","T"):s,km=s=>{let t=s;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Nf{constructor(t,e,i={},a=td){this.channel=t,this.event=e,this.payload=i,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var i;return this._hasReceived(t)&&e((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(e))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var g0;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(g0||(g0={}));class Pc{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=e?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},a=>{const{onJoin:o,onLeave:c,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Pc.syncState(this.state,a,o,c),this.pendingDiffs.forEach(p=>{this.state=Pc.syncDiff(this.state,p,o,c)}),this.pendingDiffs=[],f()}),this.channel._on(i.diff,{},a=>{const{onJoin:o,onLeave:c,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Pc.syncDiff(this.state,a,o,c),f())}),this.onJoin((a,o,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:o,newPresences:c})}),this.onLeave((a,o,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:o,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,e,i,a){const o=this.cloneDeep(t),c=this.transformState(e),f={},p={};return this.map(o,(v,b)=>{c[v]||(p[v]=b)}),this.map(c,(v,b)=>{const k=o[v];if(k){const P=b.map(I=>I.presence_ref),w=k.map(I=>I.presence_ref),O=b.filter(I=>w.indexOf(I.presence_ref)<0),A=k.filter(I=>P.indexOf(I.presence_ref)<0);O.length>0&&(f[v]=O),A.length>0&&(p[v]=A)}else f[v]=b}),this.syncDiff(o,{joins:f,leaves:p},i,a)}static syncDiff(t,e,i,a){const{joins:o,leaves:c}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return i||(i=()=>{}),a||(a=()=>{}),this.map(o,(f,p)=>{var v;const b=(v=t[f])!==null&&v!==void 0?v:[];if(t[f]=this.cloneDeep(p),b.length>0){const k=t[f].map(w=>w.presence_ref),P=b.filter(w=>k.indexOf(w.presence_ref)<0);t[f].unshift(...P)}i(f,b,p)}),this.map(c,(f,p)=>{let v=t[f];if(!v)return;const b=p.map(k=>k.presence_ref);v=v.filter(k=>b.indexOf(k.presence_ref)<0),t[f]=v,a(f,v,p),v.length===0&&delete t[f]}),t}static map(t,e){return Object.getOwnPropertyNames(t).map(i=>e(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((e,i)=>{const a=t[i];return"metas"in a?e[i]=a.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):e[i]=a,e},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var _0;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(_0||(_0={}));var Ac;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(Ac||(Ac={}));var Al;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(Al||(Al={}));class Md{constructor(t,e={config:{}},i){this.topic=t,this.params=e,this.socket=i,this.bindings={},this.state=us.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new Nf(this,sl.join,this.params,this.timeout),this.rejoinTimer=new xm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=us.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=us.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=us.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=us.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=us.errored,this.rejoinTimer.scheduleTimeout())}),this._on(sl.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new Pc(this),this.broadcastEndpointURL=km(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,e=this.timeout){var i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==us.closed){const{config:{broadcast:o,presence:c,private:f}}=this.params,p=(a=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(P=>P.filter))!==null&&a!==void 0?a:[],v=!!this.bindings[Ac.PRESENCE]&&this.bindings[Ac.PRESENCE].length>0,b={},k={broadcast:o,presence:Object.assign(Object.assign({},c),{enabled:v}),postgres_changes:p,private:f};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(P=>t?.(Al.CHANNEL_ERROR,P)),this._onClose(()=>t?.(Al.CLOSED)),this.updateJoinPayload(Object.assign({config:k},b)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",async({postgres_changes:P})=>{var w;if(this.socket.setAuth(),P===void 0){t?.(Al.SUBSCRIBED);return}else{const O=this.bindings.postgres_changes,A=(w=O?.length)!==null&&w!==void 0?w:0,I=[];for(let B=0;B<A;B++){const U=O[B],{filter:{event:Z,schema:le,table:pe,filter:ie}}=U,$=P&&P[B];if($&&$.event===Z&&$.schema===le&&$.table===pe&&$.filter===ie)I.push(Object.assign(Object.assign({},U),{id:$.id}));else{this.unsubscribe(),this.state=us.errored,t?.(Al.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=I,t&&t(Al.SUBSCRIBED);return}}).receive("error",P=>{this.state=us.errored,t?.(Al.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(P).join(", ")||"error")))}).receive("timeout",()=>{t?.(Al.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,e={}){return await this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,e,i){return this.state===us.joined&&t===Ac.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,e,i)}async send(t,e={}){var i,a;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:c}=t,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:c,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(i=e.timeout)!==null&&i!==void 0?i:this.timeout);return await((a=v.body)===null||a===void 0?void 0:a.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var c,f,p;const v=this._push(t.type,t,e.timeout||this.timeout);t.type==="broadcast"&&!(!((p=(f=(c=this.params)===null||c===void 0?void 0:c.config)===null||f===void 0?void 0:f.broadcast)===null||p===void 0)&&p.ack)&&o("ok"),v.receive("ok",()=>o("ok")),v.receive("error",()=>o("error")),v.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=us.leaving;const e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(sl.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(a=>{i=new Nf(this,sl.leave,{},t),i.receive("ok",()=>{e(),a("ok")}).receive("timeout",()=>{e(),a("timed out")}).receive("error",()=>{a("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=us.closed,this.bindings={}}async _fetchWithTimeout(t,e,i){const a=new AbortController,o=setTimeout(()=>a.abort(),i),c=await this.socket.fetch(t,Object.assign(Object.assign({},e),{signal:a.signal}));return clearTimeout(o),c}_push(t,e,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Nf(this,t,e,i);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>z_){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(t,e,i){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,i){var a,o;const c=t.toLocaleLowerCase(),{close:f,error:p,leave:v,join:b}=sl;if(i&&[f,p,v,b].indexOf(c)>=0&&i!==this._joinRef())return;let P=this._onMessage(c,e,i);if(e&&!P)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(w=>{var O,A,I;return((O=w.filter)===null||O===void 0?void 0:O.event)==="*"||((I=(A=w.filter)===null||A===void 0?void 0:A.event)===null||I===void 0?void 0:I.toLocaleLowerCase())===c}).map(w=>w.callback(P,i)):(o=this.bindings[c])===null||o===void 0||o.filter(w=>{var O,A,I,B,U,Z;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in w){const le=w.id,pe=(O=w.filter)===null||O===void 0?void 0:O.event;return le&&((A=e.ids)===null||A===void 0?void 0:A.includes(le))&&(pe==="*"||pe?.toLocaleLowerCase()===((I=e.data)===null||I===void 0?void 0:I.type.toLocaleLowerCase()))}else{const le=(U=(B=w?.filter)===null||B===void 0?void 0:B.event)===null||U===void 0?void 0:U.toLocaleLowerCase();return le==="*"||le===((Z=e?.event)===null||Z===void 0?void 0:Z.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===c}).map(w=>{if(typeof P=="object"&&"ids"in P){const O=P.data,{schema:A,table:I,commit_timestamp:B,type:U,errors:Z}=O;P=Object.assign(Object.assign({},{schema:A,table:I,commit_timestamp:B,eventType:U,new:{},old:{},errors:Z}),this._getPayloadRecords(O))}w.callback(P,i)})}_isClosed(){return this.state===us.closed}_isJoined(){return this.state===us.joined}_isJoining(){return this.state===us.joining}_isLeaving(){return this.state===us.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,i){const a=t.toLocaleLowerCase(),o={type:a,filter:e,callback:i};return this.bindings[a]?this.bindings[a].push(o):this.bindings[a]=[o],this}_off(t,e){const i=t.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(a=>{var o;return!(((o=a.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===i&&Md.isEqual(a.filter,e))})),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const i in t)if(t[i]!==e[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(sl.close,{},t)}_onError(t){this._on(sl.error,{},e=>t(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=us.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const e={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(e.new=m0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(e.old=m0(t.columns,t.old_record)),e}}const v0=()=>{},ph={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Z_=[1e3,2e3,5e3,1e4],K_=1e4,J_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Y_{constructor(t,e){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=td,this.transport=null,this.heartbeatIntervalMs=ph.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=v0,this.ref=0,this.reconnectTimer=null,this.logger=v0,this.conn=null,this.sendBuffer=[],this.serializer=new U_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let o;return a?o=a:typeof fetch>"u"?o=(...c)=>Yl(async()=>{const{default:f}=await Promise.resolve().then(()=>oc);return{default:f}},void 0).then(({default:f})=>f(...c)).catch(f=>{throw new Error(`Failed to load @supabase/node-fetch: ${f.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...c)=>o(...c)},!(!((i=e?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=e.params.apikey,this.endPoint=`${t}/${nd.websocket}`,this.httpEndpoint=km(t),this._initializeOptions(e),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(e?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=D_.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const e=t.message;throw e.includes("Node.js")?new Error(`${e}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${e}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:j_}))}disconnect(t,e){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},t?this.conn.close(t,e??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const e=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),e}async removeAllChannels(){const t=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,e,i){this.logger(t,e,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Ec.connecting:return _u.Connecting;case Ec.open:return _u.Open;case Ec.closing:return _u.Closing;default:return _u.Closed}}isConnected(){return this.connectionState()===_u.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,e={config:{}}){const i=`realtime:${t}`,a=this.getChannels().find(o=>o.topic===i);if(a)return a;{const o=new Md(`realtime:${t}`,e,this);return this.channels.push(o),o}}push(t){const{topic:e,event:i,payload:a,ref:o}=t,c=()=>{this.encode(t,f=>{var p;(p=this.conn)===null||p===void 0||p.send(f)})};this.log("push",`${e} ${i} (${o})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(F_,"heartbeat timeout"),setTimeout(()=>{var e;this.isConnected()||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout()},ph.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter(e=>e.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,e=>{e.topic==="phoenix"&&e.event==="phx_reply"&&this.heartbeatCallback(e.payload.status==="ok"?"ok":"error"),e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:a,payload:o,ref:c}=e,f=c?`(${c})`:"",p=o.status||"";this.log("receive",`${p} ${i} ${a} ${f}`.trim(),o),this.channels.filter(v=>v._isMember(i)).forEach(v=>v._trigger(a,o,c)),this._triggerStateCallbacks("message",e)})}_clearTimer(t){var e;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((e=this.reconnectTimer)===null||e===void 0||e.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var e;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(sl.error))}_appendParams(t,e){if(Object.keys(e).length===0)return t;const i=t.match(/\?/)?"&":"?",a=new URLSearchParams(e);return`${t}${i}${a}`}_workerObjectUrl(t){let e;if(t)e=t;else{const i=new Blob([J_],{type:"application/javascript"});e=URL.createObjectURL(i)}return e}_setConnectionState(t,e=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=e)}async _performAuth(t=null){let e;t?e=t:this.accessToken?e=await this.accessToken():e=this.accessTokenValue,this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(i=>{const a={access_token:e,version:R_};e&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(sl.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(e=>{this.log("error",`error setting auth in ${t}`,e)})}_triggerStateCallbacks(t,e){try{this.stateChangeCallbacks[t].forEach(i=>{try{i(e)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(i){this.log("error",`error triggering ${t} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new xm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ph.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var e,i,a,o,c,f,p,v;if(this.transport=(e=t?.transport)!==null&&e!==void 0?e:null,this.timeout=(i=t?.timeout)!==null&&i!==void 0?i:td,this.heartbeatIntervalMs=(a=t?.heartbeatIntervalMs)!==null&&a!==void 0?a:ph.HEARTBEAT_INTERVAL,this.worker=(o=t?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(c=t?.accessToken)!==null&&c!==void 0?c:null,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t?.reconnectAfterMs)!==null&&f!==void 0?f:(b=>Z_[b-1]||K_),this.encode=(p=t?.encode)!==null&&p!==void 0?p:((b,k)=>k(JSON.stringify(b))),this.decode=(v=t?.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class Bd extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function cs(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}class X_ extends Bd{constructor(t,e,i){super(t),this.name="StorageApiError",this.status=e,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class id extends Bd{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}}var Q_=function(s,t,e,i){function a(o){return o instanceof e?o:new e(function(c){c(o)})}return new(e||(e=Promise))(function(o,c){function f(b){try{v(i.next(b))}catch(k){c(k)}}function p(b){try{v(i.throw(b))}catch(k){c(k)}}function v(b){b.done?o(b.value):a(b.value).then(f,p)}v((i=i.apply(s,t||[])).next())})};const Cm=s=>{let t;return s?t=s:typeof fetch>"u"?t=(...e)=>Yl(async()=>{const{default:i}=await Promise.resolve().then(()=>oc);return{default:i}},void 0).then(({default:i})=>i(...e)):t=fetch,(...e)=>t(...e)},ev=()=>Q_(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Yl(()=>Promise.resolve().then(()=>oc),void 0)).Response:Response}),sd=s=>{if(Array.isArray(s))return s.map(e=>sd(e));if(typeof s=="function"||s!==Object(s))return s;const t={};return Object.entries(s).forEach(([e,i])=>{const a=e.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[a]=sd(i)}),t},tv=s=>{if(typeof s!="object"||s===null)return!1;const t=Object.getPrototypeOf(s);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)};var bu=function(s,t,e,i){function a(o){return o instanceof e?o:new e(function(c){c(o)})}return new(e||(e=Promise))(function(o,c){function f(b){try{v(i.next(b))}catch(k){c(k)}}function p(b){try{v(i.throw(b))}catch(k){c(k)}}function v(b){b.done?o(b.value):a(b.value).then(f,p)}v((i=i.apply(s,t||[])).next())})};const Tf=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),nv=(s,t,e)=>bu(void 0,void 0,void 0,function*(){const i=yield ev();s instanceof i&&!e?.noResolveJson?s.json().then(a=>{const o=s.status||500,c=a?.statusCode||o+"";t(new X_(Tf(a),o,c))}).catch(a=>{t(new id(Tf(a),a))}):t(new id(Tf(s),s))}),rv=(s,t,e,i)=>{const a={method:s,headers:t?.headers||{}};return s==="GET"||!i?a:(tv(i)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(i)):a.body=i,t?.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),e))};function Ic(s,t,e,i,a,o){return bu(this,void 0,void 0,function*(){return new Promise((c,f)=>{s(e,rv(t,i,a,o)).then(p=>{if(!p.ok)throw p;return i?.noResolveJson?p:p.json()}).then(p=>c(p)).catch(p=>nv(p,f,i))})})}function Th(s,t,e,i){return bu(this,void 0,void 0,function*(){return Ic(s,"GET",t,e,i)})}function pl(s,t,e,i,a){return bu(this,void 0,void 0,function*(){return Ic(s,"POST",t,i,a,e)})}function ad(s,t,e,i,a){return bu(this,void 0,void 0,function*(){return Ic(s,"PUT",t,i,a,e)})}function iv(s,t,e,i){return bu(this,void 0,void 0,function*(){return Ic(s,"HEAD",t,Object.assign(Object.assign({},e),{noResolveJson:!0}),i)})}function Sm(s,t,e,i,a){return bu(this,void 0,void 0,function*(){return Ic(s,"DELETE",t,i,a,e)})}var Pa=function(s,t,e,i){function a(o){return o instanceof e?o:new e(function(c){c(o)})}return new(e||(e=Promise))(function(o,c){function f(b){try{v(i.next(b))}catch(k){c(k)}}function p(b){try{v(i.throw(b))}catch(k){c(k)}}function v(b){b.done?o(b.value):a(b.value).then(f,p)}v((i=i.apply(s,t||[])).next())})};const sv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},y0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class av{constructor(t,e={},i,a){this.url=t,this.headers=e,this.bucketId=i,this.fetch=Cm(a)}uploadOrUpdate(t,e,i,a){return Pa(this,void 0,void 0,function*(){try{let o;const c=Object.assign(Object.assign({},y0),a);let f=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const p=c.metadata;typeof Blob<"u"&&i instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),p&&o.append("metadata",this.encodeMetadata(p)),o.append("",i)):typeof FormData<"u"&&i instanceof FormData?(o=i,o.append("cacheControl",c.cacheControl),p&&o.append("metadata",this.encodeMetadata(p))):(o=i,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType,p&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),a?.headers&&(f=Object.assign(Object.assign({},f),a.headers));const v=this._removeEmptyFolders(e),b=this._getFinalPath(v),k=yield(t=="PUT"?ad:pl)(this.fetch,`${this.url}/object/${b}`,o,Object.assign({headers:f},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:v,id:k.Id,fullPath:k.Key},error:null}}catch(o){if(cs(o))return{data:null,error:o};throw o}})}upload(t,e,i){return Pa(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,e,i)})}uploadToSignedUrl(t,e,i,a){return Pa(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),c=this._getFinalPath(o),f=new URL(this.url+`/object/upload/sign/${c}`);f.searchParams.set("token",e);try{let p;const v=Object.assign({upsert:y0.upsert},a),b=Object.assign(Object.assign({},this.headers),{"x-upsert":String(v.upsert)});typeof Blob<"u"&&i instanceof Blob?(p=new FormData,p.append("cacheControl",v.cacheControl),p.append("",i)):typeof FormData<"u"&&i instanceof FormData?(p=i,p.append("cacheControl",v.cacheControl)):(p=i,b["cache-control"]=`max-age=${v.cacheControl}`,b["content-type"]=v.contentType);const k=yield ad(this.fetch,f.toString(),p,{headers:b});return{data:{path:o,fullPath:k.Key},error:null}}catch(p){if(cs(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(t,e){return Pa(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t);const a=Object.assign({},this.headers);e?.upsert&&(a["x-upsert"]="true");const o=yield pl(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:a}),c=new URL(this.url+o.url),f=c.searchParams.get("token");if(!f)throw new Bd("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:f},error:null}}catch(i){if(cs(i))return{data:null,error:i};throw i}})}update(t,e,i){return Pa(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,e,i)})}move(t,e,i){return Pa(this,void 0,void 0,function*(){try{return{data:yield pl(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(cs(a))return{data:null,error:a};throw a}})}copy(t,e,i){return Pa(this,void 0,void 0,function*(){try{return{data:{path:(yield pl(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(cs(a))return{data:null,error:a};throw a}})}createSignedUrl(t,e,i){return Pa(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),o=yield pl(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:e},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const c=i?.download?`&download=${i.download===!0?"":i.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${c}`)},{data:o,error:null}}catch(a){if(cs(a))return{data:null,error:a};throw a}})}createSignedUrls(t,e,i){return Pa(this,void 0,void 0,function*(){try{const a=yield pl(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),o=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:a.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${o}`):null})),error:null}}catch(a){if(cs(a))return{data:null,error:a};throw a}})}download(t,e){return Pa(this,void 0,void 0,function*(){const a=typeof e?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(e?.transform||{}),c=o?`?${o}`:"";try{const f=this._getFinalPath(t);return{data:yield(yield Th(this.fetch,`${this.url}/${a}/${f}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(f){if(cs(f))return{data:null,error:f};throw f}})}info(t){return Pa(this,void 0,void 0,function*(){const e=this._getFinalPath(t);try{const i=yield Th(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:sd(i),error:null}}catch(i){if(cs(i))return{data:null,error:i};throw i}})}exists(t){return Pa(this,void 0,void 0,function*(){const e=this._getFinalPath(t);try{return yield iv(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(cs(i)&&i instanceof id){const a=i.originalError;if([400,404].includes(a?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(t,e){const i=this._getFinalPath(t),a=[],o=e?.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&a.push(o);const f=typeof e?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(e?.transform||{});p!==""&&a.push(p);let v=a.join("&");return v!==""&&(v=`?${v}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${i}${v}`)}}}remove(t){return Pa(this,void 0,void 0,function*(){try{return{data:yield Sm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(e){if(cs(e))return{data:null,error:e};throw e}})}list(t,e,i){return Pa(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},sv),e),{prefix:t||""});return{data:yield pl(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},i),error:null}}catch(a){if(cs(a))return{data:null,error:a};throw a}})}listV2(t,e){return Pa(this,void 0,void 0,function*(){try{const i=Object.assign({},t);return{data:yield pl(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},e),error:null}}catch(i){if(cs(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}}const ov="2.11.0",lv={"X-Client-Info":`storage-js/${ov}`};var Gu=function(s,t,e,i){function a(o){return o instanceof e?o:new e(function(c){c(o)})}return new(e||(e=Promise))(function(o,c){function f(b){try{v(i.next(b))}catch(k){c(k)}}function p(b){try{v(i.throw(b))}catch(k){c(k)}}function v(b){b.done?o(b.value):a(b.value).then(f,p)}v((i=i.apply(s,t||[])).next())})};class uv{constructor(t,e={},i,a){const o=new URL(t);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},lv),e),this.fetch=Cm(i)}listBuckets(){return Gu(this,void 0,void 0,function*(){try{return{data:yield Th(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(cs(t))return{data:null,error:t};throw t}})}getBucket(t){return Gu(this,void 0,void 0,function*(){try{return{data:yield Th(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(e){if(cs(e))return{data:null,error:e};throw e}})}createBucket(t,e={public:!1}){return Gu(this,void 0,void 0,function*(){try{return{data:yield pl(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(cs(i))return{data:null,error:i};throw i}})}updateBucket(t,e){return Gu(this,void 0,void 0,function*(){try{return{data:yield ad(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(cs(i))return{data:null,error:i};throw i}})}emptyBucket(t){return Gu(this,void 0,void 0,function*(){try{return{data:yield pl(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(cs(e))return{data:null,error:e};throw e}})}deleteBucket(t){return Gu(this,void 0,void 0,function*(){try{return{data:yield Sm(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(cs(e))return{data:null,error:e};throw e}})}}class cv extends uv{constructor(t,e={},i,a){super(t,e,i,a)}from(t){return new av(this.url,this.headers,t,this.fetch)}}const hv="2.55.0";let Lc="";typeof Deno<"u"?Lc="deno":typeof document<"u"?Lc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Lc="react-native":Lc="node";const fv={"X-Client-Info":`supabase-js-${Lc}/${hv}`},dv={headers:fv},pv={schema:"public"},mv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},gv={};var _v=function(s,t,e,i){function a(o){return o instanceof e?o:new e(function(c){c(o)})}return new(e||(e=Promise))(function(o,c){function f(b){try{v(i.next(b))}catch(k){c(k)}}function p(b){try{v(i.throw(b))}catch(k){c(k)}}function v(b){b.done?o(b.value):a(b.value).then(f,p)}v((i=i.apply(s,t||[])).next())})};const vv=s=>{let t;return s?t=s:typeof fetch>"u"?t=gm:t=fetch,(...e)=>t(...e)},yv=()=>typeof Headers>"u"?_m:Headers,wv=(s,t,e)=>{const i=vv(e),a=yv();return(o,c)=>_v(void 0,void 0,void 0,function*(){var f;const p=(f=yield t())!==null&&f!==void 0?f:s;let v=new a(c?.headers);return v.has("apikey")||v.set("apikey",s),v.has("Authorization")||v.set("Authorization",`Bearer ${p}`),i(o,Object.assign(Object.assign({},c),{headers:v}))})};var bv=function(s,t,e,i){function a(o){return o instanceof e?o:new e(function(c){c(o)})}return new(e||(e=Promise))(function(o,c){function f(b){try{v(i.next(b))}catch(k){c(k)}}function p(b){try{v(i.throw(b))}catch(k){c(k)}}function v(b){b.done?o(b.value):a(b.value).then(f,p)}v((i=i.apply(s,t||[])).next())})};function xv(s){return s.endsWith("/")?s:s+"/"}function Lv(s,t){var e,i;const{db:a,auth:o,realtime:c,global:f}=s,{db:p,auth:v,realtime:b,global:k}=t,P={db:Object.assign(Object.assign({},p),a),auth:Object.assign(Object.assign({},v),o),realtime:Object.assign(Object.assign({},b),c),storage:{},global:Object.assign(Object.assign(Object.assign({},k),f),{headers:Object.assign(Object.assign({},(e=k?.headers)!==null&&e!==void 0?e:{}),(i=f?.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>bv(this,void 0,void 0,function*(){return""})};return s.accessToken?P.accessToken=s.accessToken:delete P.accessToken,P}const Em="2.71.1",Yu=30*1e3,od=3,Of=od*Yu,kv="http://localhost:9999",Cv="supabase.auth.token",Sv={"X-Client-Info":`gotrue-js/${Em}`},ld="X-Supabase-Api-Version",Pm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ev=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Pv=600*1e3;class Nd extends Error{constructor(t,e,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=i}}function qn(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class Av extends Nd{constructor(t,e,i){super(t,e,i),this.name="AuthApiError",this.status=e,this.code=i}}function Mv(s){return qn(s)&&s.name==="AuthApiError"}class Am extends Nd{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}}class eu extends Nd{constructor(t,e,i,a){super(t,i,a),this.name=e,this.status=i}}class Vl extends eu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Bv(s){return qn(s)&&s.name==="AuthSessionMissingError"}class mh extends eu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class gh extends eu{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class _h extends eu{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Nv(s){return qn(s)&&s.name==="AuthImplicitGrantRedirectError"}class w0 extends eu{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ud extends eu{constructor(t,e){super(t,"AuthRetryableFetchError",e,void 0)}}function Df(s){return qn(s)&&s.name==="AuthRetryableFetchError"}class b0 extends eu{constructor(t,e,i){super(t,"AuthWeakPasswordError",e,"weak_password"),this.reasons=i}}class cd extends eu{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Oh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),x0=` 	
\r=`.split(""),Tv=(()=>{const s=new Array(128);for(let t=0;t<s.length;t+=1)s[t]=-1;for(let t=0;t<x0.length;t+=1)s[x0[t].charCodeAt(0)]=-2;for(let t=0;t<Oh.length;t+=1)s[Oh[t].charCodeAt(0)]=t;return s})();function L0(s,t,e){if(s!==null)for(t.queue=t.queue<<8|s,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;e(Oh[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;e(Oh[i]),t.queuedBits-=6}}function Mm(s,t,e){const i=Tv[s];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)e(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function k0(s){const t=[],e=c=>{t.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},o=c=>{Iv(c,i,e)};for(let c=0;c<s.length;c+=1)Mm(s.charCodeAt(c),a,o);return t.join("")}function Ov(s,t){if(s<=127){t(s);return}else if(s<=2047){t(192|s>>6),t(128|s&63);return}else if(s<=65535){t(224|s>>12),t(128|s>>6&63),t(128|s&63);return}else if(s<=1114111){t(240|s>>18),t(128|s>>12&63),t(128|s>>6&63),t(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function Dv(s,t){for(let e=0;e<s.length;e+=1){let i=s.charCodeAt(e);if(i>55295&&i<=56319){const a=(i-55296)*1024&65535;i=(s.charCodeAt(e+1)-56320&65535|a)+65536,e+=1}Ov(i,t)}}function Iv(s,t,e){if(t.utf8seq===0){if(s<=127){e(s);return}for(let i=1;i<6;i+=1)if((s>>7-i&1)===0){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=s&31;else if(t.utf8seq===3)t.codepoint=s&15;else if(t.utf8seq===4)t.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|s&63,t.utf8seq-=1,t.utf8seq===0&&e(t.codepoint)}}function Rv(s){const t=[],e={queue:0,queuedBits:0},i=a=>{t.push(a)};for(let a=0;a<s.length;a+=1)Mm(s.charCodeAt(a),e,i);return new Uint8Array(t)}function jv(s){const t=[];return Dv(s,e=>t.push(e)),new Uint8Array(t)}function Fv(s){const t=[],e={queue:0,queuedBits:0},i=a=>{t.push(a)};return s.forEach(a=>L0(a,e,i)),L0(null,e,i),t.join("")}function zv(s){return Math.round(Date.now()/1e3)+s}function Uv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const t=Math.random()*16|0;return(s=="x"?t:t&3|8).toString(16)})}const rl=()=>typeof window<"u"&&typeof document<"u",du={tested:!1,writable:!1},Bm=()=>{if(!rl())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(du.tested)return du.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),du.tested=!0,du.writable=!0}catch{du.tested=!0,du.writable=!1}return du.writable};function qv(s){const t={},e=new URL(s);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((a,o)=>{t[o]=a})}catch{}return e.searchParams.forEach((i,a)=>{t[a]=i}),t}const Nm=s=>{let t;return s?t=s:typeof fetch>"u"?t=(...e)=>Yl(async()=>{const{default:i}=await Promise.resolve().then(()=>oc);return{default:i}},void 0).then(({default:i})=>i(...e)):t=fetch,(...e)=>t(...e)},Gv=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",Xu=async(s,t,e)=>{await s.setItem(t,JSON.stringify(e))},pu=async(s,t)=>{const e=await s.getItem(t);if(!e)return null;try{return JSON.parse(e)}catch{return e}},Hl=async(s,t)=>{await s.removeItem(t)};class Fh{constructor(){this.promise=new Fh.promiseConstructor((t,e)=>{this.resolve=t,this.reject=e})}}Fh.promiseConstructor=Promise;function If(s){const t=s.split(".");if(t.length!==3)throw new cd("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!Ev.test(t[i]))throw new cd("JWT not in base64url format");return{header:JSON.parse(k0(t[0])),payload:JSON.parse(k0(t[1])),signature:Rv(t[2]),raw:{header:t[0],payload:t[1]}}}async function Hv(s){return await new Promise(t=>{setTimeout(()=>t(null),s)})}function Wv(s,t){return new Promise((i,a)=>{(async()=>{for(let o=0;o<1/0;o++)try{const c=await s(o);if(!t(o,null,c)){i(c);return}}catch(c){if(!t(o,c)){a(c);return}}})()})}function $v(s){return("0"+s.toString(16)).substr(-2)}function Vv(){const t=new Uint32Array(56);if(typeof crypto>"u"){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=e.length;let a="";for(let o=0;o<56;o++)a+=e.charAt(Math.floor(Math.random()*i));return a}return crypto.getRandomValues(t),Array.from(t,$v).join("")}async function Zv(s){const e=new TextEncoder().encode(s),i=await crypto.subtle.digest("SHA-256",e),a=new Uint8Array(i);return Array.from(a).map(o=>String.fromCharCode(o)).join("")}async function Kv(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const e=await Zv(s);return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Hu(s,t,e=!1){const i=Vv();let a=i;e&&(a+="/PASSWORD_RECOVERY"),await Xu(s,`${t}-code-verifier`,a);const o=await Kv(i);return[o,i===o?"plain":"s256"]}const Jv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Yv(s){const t=s.headers.get(ld);if(!t||!t.match(Jv))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Xv(s){if(!s)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(s<=t)throw new Error("JWT has expired")}function Qv(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const e1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Wu(s){if(!e1.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Rf(){const s={};return new Proxy(s,{get:(t,e)=>{if(e==="__isUserNotAvailableProxy")return!0;if(typeof e=="symbol"){const i=e.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${e}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function C0(s){return JSON.parse(JSON.stringify(s))}var t1=function(s,t){var e={};for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&t.indexOf(i)<0&&(e[i]=s[i]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(s);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(s,i[a])&&(e[i[a]]=s[i[a]]);return e};const mu=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),n1=[502,503,504];async function S0(s){var t;if(!Gv(s))throw new ud(mu(s),0);if(n1.includes(s.status))throw new ud(mu(s),s.status);let e;try{e=await s.json()}catch(o){throw new Am(mu(o),o)}let i;const a=Yv(s);if(a&&a.getTime()>=Pm["2024-01-01"].timestamp&&typeof e=="object"&&e&&typeof e.code=="string"?i=e.code:typeof e=="object"&&e&&typeof e.error_code=="string"&&(i=e.error_code),i){if(i==="weak_password")throw new b0(mu(e),s.status,((t=e.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new Vl}else if(typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((o,c)=>o&&typeof c=="string",!0))throw new b0(mu(e),s.status,e.weak_password.reasons);throw new Av(mu(e),s.status||500,i)}const r1=(s,t,e,i)=>{const a={method:s,headers:t?.headers||{}};return s==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(i),Object.assign(Object.assign({},a),e))};async function nr(s,t,e,i){var a;const o=Object.assign({},i?.headers);o[ld]||(o[ld]=Pm["2024-01-01"].name),i?.jwt&&(o.Authorization=`Bearer ${i.jwt}`);const c=(a=i?.query)!==null&&a!==void 0?a:{};i?.redirectTo&&(c.redirect_to=i.redirectTo);const f=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",p=await i1(s,t,e+f,{headers:o,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(p):{data:Object.assign({},p),error:null}}async function i1(s,t,e,i,a,o){const c=r1(t,i,a,o);let f;try{f=await s(e,Object.assign({},c))}catch(p){throw console.error(p),new ud(mu(p),0)}if(f.ok||await S0(f),i?.noResolveJson)return f;try{return await f.json()}catch(p){await S0(p)}}function Pl(s){var t;let e=null;l1(s)&&(e=Object.assign({},s),s.expires_at||(e.expires_at=zv(s.expires_in)));const i=(t=s.user)!==null&&t!==void 0?t:s;return{data:{session:e,user:i},error:null}}function E0(s){const t=Pl(s);return!t.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((e,i)=>e&&typeof i=="string",!0)&&(t.data.weak_password=s.weak_password),t}function Zl(s){var t;return{data:{user:(t=s.user)!==null&&t!==void 0?t:s},error:null}}function s1(s){return{data:s,error:null}}function a1(s){const{action_link:t,email_otp:e,hashed_token:i,redirect_to:a,verification_type:o}=s,c=t1(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:t,email_otp:e,hashed_token:i,redirect_to:a,verification_type:o},p=Object.assign({},c);return{data:{properties:f,user:p},error:null}}function o1(s){return s}function l1(s){return s.access_token&&s.refresh_token&&s.expires_in}const jf=["global","local","others"];var u1=function(s,t){var e={};for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&t.indexOf(i)<0&&(e[i]=s[i]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(s);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(s,i[a])&&(e[i[a]]=s[i[a]]);return e};class c1{constructor({url:t="",headers:e={},fetch:i}){this.url=t,this.headers=e,this.fetch=Nm(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,e=jf[0]){if(jf.indexOf(e)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${jf.join(", ")}`);try{return await nr(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(qn(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,e={}){try{return await nr(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:Zl})}catch(i){if(qn(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:e}=t,i=u1(t,["options"]),a=Object.assign(Object.assign({},i),e);return"newEmail"in i&&(a.new_email=i?.newEmail,delete a.newEmail),await nr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:a1,redirectTo:e?.redirectTo})}catch(e){if(qn(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(t){try{return await nr(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Zl})}catch(e){if(qn(e))return{data:{user:null},error:e};throw e}}async listUsers(t){var e,i,a,o,c,f,p;try{const v={nextPage:null,lastPage:0,total:0},b=await nr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(e=t?.page)===null||e===void 0?void 0:e.toString())!==null&&i!==void 0?i:"",per_page:(o=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:o1});if(b.error)throw b.error;const k=await b.json(),P=(c=b.headers.get("x-total-count"))!==null&&c!==void 0?c:0,w=(p=(f=b.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return w.length>0&&(w.forEach(O=>{const A=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),I=JSON.parse(O.split(";")[1].split("=")[1]);v[`${I}Page`]=A}),v.total=parseInt(P)),{data:Object.assign(Object.assign({},k),v),error:null}}catch(v){if(qn(v))return{data:{users:[]},error:v};throw v}}async getUserById(t){Wu(t);try{return await nr(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Zl})}catch(e){if(qn(e))return{data:{user:null},error:e};throw e}}async updateUserById(t,e){Wu(t);try{return await nr(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:Zl})}catch(i){if(qn(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,e=!1){Wu(t);try{return await nr(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:Zl})}catch(i){if(qn(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){Wu(t.userId);try{const{data:e,error:i}=await nr(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:e,error:i}}catch(e){if(qn(e))return{data:null,error:e};throw e}}async _deleteFactor(t){Wu(t.userId),Wu(t.id);try{return{data:await nr(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(e){if(qn(e))return{data:null,error:e};throw e}}}function P0(s={}){return{getItem:t=>s[t]||null,setItem:(t,e)=>{s[t]=e},removeItem:t=>{delete s[t]}}}function h1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const $u={debug:!!(globalThis&&Bm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Tm extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class f1 extends Tm{}async function d1(s,t,e){$u.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),$u.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async a=>{if(a){$u.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,a.name);try{return await e()}finally{$u.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,a.name)}}else{if(t===0)throw $u.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new f1(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if($u.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await e()}}))}h1();const p1={url:kv,storageKey:Cv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Sv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function A0(s,t,e){return await e()}const Vu={};class Tc{constructor(t){var e,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Tc.nextInstanceID,Tc.nextInstanceID+=1,this.instanceID>0&&rl()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},p1),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new c1({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Nm(a.fetch),this.lock=a.lock||A0,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:rl()&&(!((e=globalThis?.navigator)===null||e===void 0)&&e.locks)?this.lock=d1:this.lock=A0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Bm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=P0(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=P0(this.memoryStorage)),rl()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var t,e;return(e=(t=Vu[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&e!==void 0?e:{keys:[]}}set jwks(t){Vu[this.storageKey]=Object.assign(Object.assign({},Vu[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,e;return(e=(t=Vu[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&e!==void 0?e:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Vu[this.storageKey]=Object.assign(Object.assign({},Vu[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Em}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const e=qv(window.location.href);let i="none";if(this._isImplicitGrantCallback(e)?i="implicit":await this._isPKCECallback(e)&&(i="pkce"),rl()&&this.detectSessionInUrl&&i!=="none"){const{data:a,error:o}=await this._getSessionFromURL(e,i);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Nv(o)){const p=(t=o.details)===null||t===void 0?void 0:t.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:c,redirectType:f}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",f),await this._saveSession(c),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return qn(e)?{error:e}:{error:new Am("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var e,i,a;try{const o=await nr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(e=t?.options)===null||e===void 0?void 0:e.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:Pl}),{data:c,error:f}=o;if(f||!c)return{data:{user:null,session:null},error:f};const p=c.session,v=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:v,session:p},error:null}}catch(o){if(qn(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var e,i,a;try{let o;if("email"in t){const{email:b,password:k,options:P}=t;let w=null,O=null;this.flowType==="pkce"&&([w,O]=await Hu(this.storage,this.storageKey)),o=await nr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:P?.emailRedirectTo,body:{email:b,password:k,data:(e=P?.data)!==null&&e!==void 0?e:{},gotrue_meta_security:{captcha_token:P?.captchaToken},code_challenge:w,code_challenge_method:O},xform:Pl})}else if("phone"in t){const{phone:b,password:k,options:P}=t;o=await nr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:k,data:(i=P?.data)!==null&&i!==void 0?i:{},channel:(a=P?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:P?.captchaToken}},xform:Pl})}else throw new gh("You must provide either an email or phone number and a password");const{data:c,error:f}=o;if(f||!c)return{data:{user:null,session:null},error:f};const p=c.session,v=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:v,session:p},error:null}}catch(o){if(qn(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let e;if("email"in t){const{email:o,password:c,options:f}=t;e=await nr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:E0})}else if("phone"in t){const{phone:o,password:c,options:f}=t;e=await nr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:E0})}else throw new gh("You must provide either an email or phone number and a password");const{data:i,error:a}=e;return a?{data:{user:null,session:null},error:a}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new mh}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:a})}catch(e){if(qn(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOAuth(t){var e,i,a,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(e=t.options)===null||e===void 0?void 0:e.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:e}=t;if(e==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${e}"`)}async signInWithSolana(t){var e,i,a,o,c,f,p,v,b,k,P,w;let O,A;if("message"in t)O=t.message,A=t.signature;else{const{chain:I,wallet:B,statement:U,options:Z}=t;let le;if(rl())if(typeof B=="object")le=B;else{const ie=window;if("solana"in ie&&typeof ie.solana=="object"&&("signIn"in ie.solana&&typeof ie.solana.signIn=="function"||"signMessage"in ie.solana&&typeof ie.solana.signMessage=="function"))le=ie.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof B!="object"||!Z?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");le=B}const pe=new URL((e=Z?.url)!==null&&e!==void 0?e:window.location.href);if("signIn"in le&&le.signIn){const ie=await le.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},Z?.signInWithSolana),{version:"1",domain:pe.host,uri:pe.href}),U?{statement:U}:null));let $;if(Array.isArray(ie)&&ie[0]&&typeof ie[0]=="object")$=ie[0];else if(ie&&typeof ie=="object"&&"signedMessage"in ie&&"signature"in ie)$=ie;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)O=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),A=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in le)||typeof le.signMessage!="function"||!("publicKey"in le)||typeof le!="object"||!le.publicKey||!("toBase58"in le.publicKey)||typeof le.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");O=[`${pe.host} wants you to sign in with your Solana account:`,le.publicKey.toBase58(),...U?["",U,""]:[""],"Version: 1",`URI: ${pe.href}`,`Issued At: ${(a=(i=Z?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((o=Z?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${Z.signInWithSolana.notBefore}`]:[],...!((c=Z?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${Z.signInWithSolana.expirationTime}`]:[],...!((f=Z?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${Z.signInWithSolana.chainId}`]:[],...!((p=Z?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${Z.signInWithSolana.nonce}`]:[],...!((v=Z?.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${Z.signInWithSolana.requestId}`]:[],...!((k=(b=Z?.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||k===void 0)&&k.length?["Resources",...Z.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const ie=await le.signMessage(new TextEncoder().encode(O),"utf8");if(!ie||!(ie instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=ie}}try{const{data:I,error:B}=await nr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:O,signature:Fv(A)},!((P=t.options)===null||P===void 0)&&P.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Pl});if(B)throw B;return!I||!I.session||!I.user?{data:{user:null,session:null},error:new mh}:(I.session&&(await this._saveSession(I.session),await this._notifyAllSubscribers("SIGNED_IN",I.session)),{data:Object.assign({},I),error:B})}catch(I){if(qn(I))return{data:{user:null,session:null},error:I};throw I}}async _exchangeCodeForSession(t){const e=await pu(this.storage,`${this.storageKey}-code-verifier`),[i,a]=(e??"").split("/");try{const{data:o,error:c}=await nr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:Pl});if(await Hl(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new mh}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:a??null}),error:c})}catch(o){if(qn(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:e,provider:i,token:a,access_token:o,nonce:c}=t,f=await nr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:a,access_token:o,nonce:c,gotrue_meta_security:{captcha_token:e?.captchaToken}},xform:Pl}),{data:p,error:v}=f;return v?{data:{user:null,session:null},error:v}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new mh}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:v})}catch(e){if(qn(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOtp(t){var e,i,a,o,c;try{if("email"in t){const{email:f,options:p}=t;let v=null,b=null;this.flowType==="pkce"&&([v,b]=await Hu(this.storage,this.storageKey));const{error:k}=await nr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(e=p?.data)!==null&&e!==void 0?e:{},create_user:(i=p?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:v,code_challenge_method:b},redirectTo:p?.emailRedirectTo});return{data:{user:null,session:null},error:k}}if("phone"in t){const{phone:f,options:p}=t,{data:v,error:b}=await nr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(a=p?.data)!==null&&a!==void 0?a:{},create_user:(o=p?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(c=p?.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:v?.message_id},error:b}}throw new gh("You must provide either an email or phone number.")}catch(f){if(qn(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(t){var e,i;try{let a,o;"options"in t&&(a=(e=t.options)===null||e===void 0?void 0:e.redirectTo,o=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:f}=await nr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:a,xform:Pl});if(f)throw f;if(!c)throw new Error("An error occurred on token verification.");const p=c.session,v=c.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:v,session:p},error:null}}catch(a){if(qn(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var e,i,a;try{let o=null,c=null;return this.flowType==="pkce"&&([o,c]=await Hu(this.storage,this.storageKey)),await nr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(e=t.options)===null||e===void 0?void 0:e.redirectTo)!==null&&i!==void 0?i:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:c}),headers:this.headers,xform:s1})}catch(o){if(qn(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:e},error:i}=t;if(i)throw i;if(!e)throw new Vl;const{error:a}=await nr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:e.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(qn(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const e=`${this.url}/resend`;if("email"in t){const{email:i,type:a,options:o}=t,{error:c}=await nr(this.fetch,"POST",e,{headers:this.headers,body:{email:i,type:a,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in t){const{phone:i,type:a,options:o}=t,{data:c,error:f}=await nr(this.fetch,"POST",e,{headers:this.headers,body:{phone:i,type:a,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return{data:{user:null,session:null,messageId:c?.message_id},error:f}}throw new gh("You must provide either an email or phone number and a type")}catch(e){if(qn(e))return{data:{user:null,session:null},error:e};throw e}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(t,e){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await i,await e()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=e();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const e=await this.__loadSession();return await t(e)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const e=await pu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",e),e!==null&&(this._isValidSession(e)?t=e:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<Of:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){const c=await pu(this.userStorage,this.storageKey+"-user");c?.user?t.user=c.user:t.user=Rf()}if(this.storage.isServer&&t.user){let c=this.suppressGetSessionWarning;t=new Proxy(t,{get:(p,v,b)=>(!c&&v==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,v,b))})}return{data:{session:t},error:null}}const{session:a,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await nr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Zl}):await this._useSession(async e=>{var i,a,o;const{data:c,error:f}=e;if(f)throw f;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Vl}:await nr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0,xform:Zl})})}catch(e){if(qn(e))return Bv(e)&&(await this._removeSession(),await Hl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:e};throw e}}async updateUser(t,e={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,e))}async _updateUser(t,e={}){try{return await this._useSession(async i=>{const{data:a,error:o}=i;if(o)throw o;if(!a.session)throw new Vl;const c=a.session;let f=null,p=null;this.flowType==="pkce"&&t.email!=null&&([f,p]=await Hu(this.storage,this.storageKey));const{data:v,error:b}=await nr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:e?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:f,code_challenge_method:p}),jwt:c.access_token,xform:Zl});if(b)throw b;return c.user=v.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(i){if(qn(i))return{data:{user:null},error:i};throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Vl;const e=Date.now()/1e3;let i=e,a=!0,o=null;const{payload:c}=If(t.access_token);if(c.exp&&(i=c.exp,a=i<=e),a){const{session:f,error:p}=await this._callRefreshToken(t.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!f)return{data:{user:null,session:null},error:null};o=f}else{const{data:f,error:p}=await this._getUser(t.access_token);if(p)throw p;o={access_token:t.access_token,refresh_token:t.refresh_token,user:f.user,token_type:"bearer",expires_in:i-e,expires_at:i},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(e){if(qn(e))return{data:{session:null,user:null},error:e};throw e}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async e=>{var i;if(!t){const{data:c,error:f}=e;if(f)throw f;t=(i=c.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new Vl;const{session:a,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(e){if(qn(e))return{data:{user:null,session:null},error:e};throw e}}async _getSessionFromURL(t,e){try{if(!rl())throw new _h("No browser detected.");if(t.error||t.error_description||t.error_code)throw new _h(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(e){case"implicit":if(this.flowType==="pkce")throw new w0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _h("Not a valid implicit grant flow url.");break;default:}if(e==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new w0("No code detected.");const{data:U,error:Z}=await this._exchangeCodeForSession(t.code);if(Z)throw Z;const le=new URL(window.location.href);return le.searchParams.delete("code"),window.history.replaceState(window.history.state,"",le.toString()),{data:{session:U.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:a,access_token:o,refresh_token:c,expires_in:f,expires_at:p,token_type:v}=t;if(!o||!f||!c||!v)throw new _h("No session defined in URL");const b=Math.round(Date.now()/1e3),k=parseInt(f);let P=b+k;p&&(P=parseInt(p));const w=P-b;w*1e3<=Yu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${k}s`);const O=P-k;b-O>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",O,P,b):b-O<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",O,P,b);const{data:A,error:I}=await this._getUser(o);if(I)throw I;const B={provider_token:i,provider_refresh_token:a,access_token:o,expires_in:k,expires_at:P,refresh_token:c,token_type:v,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:B,redirectType:t.type},error:null}}catch(i){if(qn(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const e=await pu(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&e)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async e=>{var i;const{data:a,error:o}=e;if(o)return{error:o};const c=(i=a.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:f}=await this.admin.signOut(c,t);if(f&&!(Mv(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return t!=="others"&&(await this._removeSession(),await Hl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const e=Uv(),i={id:e,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",e),this.stateChangeEmitters.delete(e)}};return this._debug("#onAuthStateChange()","registered callback with id",e),this.stateChangeEmitters.set(e,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(e)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async e=>{var i,a;try{const{data:{session:o},error:c}=e;if(c)throw c;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,e={}){let i=null,a=null;this.flowType==="pkce"&&([i,a]=await Hu(this.storage,this.storageKey,!0));try{return await nr(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:a,gotrue_meta_security:{captcha_token:e.captchaToken}},headers:this.headers,redirectTo:e.redirectTo})}catch(o){if(qn(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:e,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(t=e.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(e){if(qn(e))return{data:null,error:e};throw e}}async linkIdentity(t){var e;try{const{data:i,error:a}=await this._useSession(async o=>{var c,f,p,v,b;const{data:k,error:P}=o;if(P)throw P;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(f=t.options)===null||f===void 0?void 0:f.scopes,queryParams:(p=t.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await nr(this.fetch,"GET",w,{headers:this.headers,jwt:(b=(v=k.session)===null||v===void 0?void 0:v.access_token)!==null&&b!==void 0?b:void 0})});if(a)throw a;return rl()&&!(!((e=t.options)===null||e===void 0)&&e.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:t.provider,url:i?.url},error:null}}catch(i){if(qn(i))return{data:{provider:t.provider,url:null},error:i};throw i}}async unlinkIdentity(t){try{return await this._useSession(async e=>{var i,a;const{data:o,error:c}=e;if(c)throw c;return await nr(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0})})}catch(e){if(qn(e))return{data:null,error:e};throw e}}async _refreshAccessToken(t){const e=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(e,"begin");try{const i=Date.now();return await Wv(async a=>(a>0&&await Hv(200*Math.pow(2,a-1)),this._debug(e,"refreshing attempt",a),await nr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Pl})),(a,o)=>{const c=200*Math.pow(2,a);return o&&Df(o)&&Date.now()+c-i<Yu})}catch(i){if(this._debug(e,"error",i),qn(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(e,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,e){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:e.redirectTo,scopes:e.scopes,queryParams:e.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",e,"url",i),rl()&&!e.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,e;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const a=await pu(this.storage,this.storageKey);if(a&&this.userStorage){let c=await pu(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:a.user},await Xu(this.userStorage,this.storageKey+"-user",c)),a.user=(t=c?.user)!==null&&t!==void 0?t:Rf()}else if(a&&!a.user&&!a.user){const c=await pu(this.storage,this.storageKey+"-user");c&&c?.user?(a.user=c.user,await Hl(this.storage,this.storageKey+"-user"),await Xu(this.storage,this.storageKey,a)):a.user=Rf()}if(this._debug(i,"session from storage",a),!this._isValidSession(a)){this._debug(i,"session is not valid"),a!==null&&await this._removeSession();return}const o=((e=a.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Of;if(this._debug(i,`session has${o?"":" not"} expired with margin of ${Of}s`),o){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),Df(c)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:f}=await this._getUser(a.access_token);!f&&c?.user?(a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(i,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(i,"error",a),console.error(a);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var e,i;if(!t)throw new Vl;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Fh;const{data:o,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!o.session)throw new Vl;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const f={session:o.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(o){if(this._debug(a,"error",o),qn(o)){const c={session:null,error:o};return Df(o)||await this._removeSession(),(e=this.refreshingDeferred)===null||e===void 0||e.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(o),o}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,e,i=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",e,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:e});const o=[],c=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(t,e)}catch(p){o.push(p)}});if(await Promise.all(c),o.length>0){for(let f=0;f<o.length;f+=1)console.error(o[f]);throw o[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const e=Object.assign({},t),i=e.user&&e.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&e.user&&await Xu(this.userStorage,this.storageKey+"-user",{user:e.user});const a=Object.assign({},e);delete a.user;const o=C0(a);await Xu(this.storage,this.storageKey,o)}else{const a=C0(e);await Xu(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Hl(this.storage,this.storageKey),await Hl(this.storage,this.storageKey+"-code-verifier"),await Hl(this.storage,this.storageKey+"-user"),this.userStorage&&await Hl(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&rl()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(e){console.error("removing visibilitychange callback failed",e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Yu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async e=>{const{data:{session:i}}=e;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((i.expires_at*1e3-t)/Yu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Yu}ms, refresh threshold is ${od} ticks`),a<=od&&await this._callRefreshToken(i.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Tm)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!rl()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const e=`#_onVisibilityChanged(${t})`;this._debug(e,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(e,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,e,i){const a=[`provider=${encodeURIComponent(e)}`];if(i?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&a.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[o,c]=await Hu(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(f.toString())}if(i?.queryParams){const o=new URLSearchParams(i.queryParams);a.push(o.toString())}return i?.skipBrowserRedirect&&a.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async e=>{var i;const{data:a,error:o}=e;return o?{data:null,error:o}:await nr(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token})})}catch(e){if(qn(e))return{data:null,error:e};throw e}}async _enroll(t){try{return await this._useSession(async e=>{var i,a;const{data:o,error:c}=e;if(c)return{data:null,error:c};const f=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:p,error:v}=await nr(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return v?{data:null,error:v}:(t.factorType==="totp"&&(!((a=p?.totp)===null||a===void 0)&&a.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(e){if(qn(e))return{data:null,error:e};throw e}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async e=>{var i;const{data:a,error:o}=e;if(o)return{data:null,error:o};const{data:c,error:f}=await nr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:f})})}catch(e){if(qn(e))return{data:null,error:e};throw e}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async e=>{var i;const{data:a,error:o}=e;return o?{data:null,error:o}:await nr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token})})}catch(e){if(qn(e))return{data:null,error:e};throw e}})}async _challengeAndVerify(t){const{data:e,error:i}=await this._challenge({factorId:t.factorId});return i?{data:null,error:i}:await this._verify({factorId:t.factorId,challengeId:e.id,code:t.code})}async _listFactors(){const{data:{user:t},error:e}=await this.getUser();if(e)return{data:null,error:e};const i=t?.factors||[],a=i.filter(c=>c.factor_type==="totp"&&c.status==="verified"),o=i.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:i,totp:a,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var e,i;const{data:{session:a},error:o}=t;if(o)return{data:null,error:o};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=If(a.access_token);let f=null;c.aal&&(f=c.aal);let p=f;((i=(e=a.user.factors)===null||e===void 0?void 0:e.filter(k=>k.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(p="aal2");const b=c.amr||[];return{data:{currentLevel:f,nextLevel:p,currentAuthenticationMethods:b},error:null}}))}async fetchJwk(t,e={keys:[]}){let i=e.keys.find(f=>f.kid===t);if(i)return i;const a=Date.now();if(i=this.jwks.keys.find(f=>f.kid===t),i&&this.jwks_cached_at+Pv>a)return i;const{data:o,error:c}=await nr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=a,i=o.keys.find(f=>f.kid===t),!i)?null:i}async getClaims(t,e={}){try{let i=t;if(!i){const{data:w,error:O}=await this.getSession();if(O||!w.session)return{data:null,error:O};i=w.session.access_token}const{header:a,payload:o,signature:c,raw:{header:f,payload:p}}=If(i);e?.allowExpired||Xv(o.exp);const v=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,e?.keys?{keys:e.keys}:e?.jwks);if(!v){const{error:w}=await this.getUser(i);if(w)throw w;return{data:{claims:o,header:a,signature:c},error:null}}const b=Qv(a.alg),k=await crypto.subtle.importKey("jwk",v,b,!0,["verify"]);if(!await crypto.subtle.verify(b,k,c,jv(`${f}.${p}`)))throw new cd("Invalid JWT signature");return{data:{claims:o,header:a,signature:c},error:null}}catch(i){if(qn(i))return{data:null,error:i};throw i}}}Tc.nextInstanceID=0;const m1=Tc;class g1 extends m1{constructor(t){super(t)}}var _1=function(s,t,e,i){function a(o){return o instanceof e?o:new e(function(c){c(o)})}return new(e||(e=Promise))(function(o,c){function f(b){try{v(i.next(b))}catch(k){c(k)}}function p(b){try{v(i.throw(b))}catch(k){c(k)}}function v(b){b.done?o(b.value):a(b.value).then(f,p)}v((i=i.apply(s,t||[])).next())})};class v1{constructor(t,e,i){var a,o,c;if(this.supabaseUrl=t,this.supabaseKey=e,!t)throw new Error("supabaseUrl is required.");if(!e)throw new Error("supabaseKey is required.");const f=xv(t),p=new URL(f);this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const v=`sb-${p.hostname.split(".")[0]}-auth-token`,b={db:pv,realtime:gv,auth:Object.assign(Object.assign({},mv),{storageKey:v}),global:dv},k=Lv(i??{},b);this.storageKey=(a=k.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(o=k.global.headers)!==null&&o!==void 0?o:{},k.accessToken?(this.accessToken=k.accessToken,this.auth=new Proxy({},{get:(P,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=k.auth)!==null&&c!==void 0?c:{},this.headers,k.global.fetch),this.fetch=wv(e,this._getAccessToken.bind(this),k.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},k.realtime)),this.rest=new O_(new URL("rest/v1",p).href,{headers:this.headers,schema:k.db.schema,fetch:this.fetch}),this.storage=new cv(this.storageUrl.href,this.headers,this.fetch,i?.storage),k.accessToken||this._listenForAuthEvents()}get functions(){return new x_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},i={}){return this.rest.rpc(t,e,i)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,e;return _1(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(e=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:i,storage:a,storageKey:o,flowType:c,lock:f,debug:p},v,b){const k={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new g1({url:this.authUrl.href,headers:Object.assign(Object.assign({},k),v),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:i,storage:a,flowType:c,lock:f,debug:p,fetch:b,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Y_(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,i)=>{this._handleTokenChanged(e,"CLIENT",i?.access_token)})}_handleTokenChanged(t,e,i){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const y1=(s,t,e)=>new v1(s,t,e);function w1(){if(typeof window<"u"||typeof process>"u")return!1;const s=process.version;if(s==null)return!1;const t=s.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}w1()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const b1="https://tyftyoexdxrjvxjbdyux.supabase.co",x1="sb_publishable_CUCrsx84syqTmA-uMJyF3g_EnrX-aW6",Aa=y1(b1,x1),L1="/pudumaps/assets/pudulogo-pI67wG3d.png";/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var M0="popstate";function k1(s={}){function t(a,o){let{pathname:c="/",search:f="",hash:p=""}=xu(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),hd("",{pathname:c,search:f,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function e(a,o){let c=a.document.querySelector("base"),f="";if(c&&c.getAttribute("href")){let p=a.location.href,v=p.indexOf("#");f=v===-1?p:p.slice(0,v)}return f+"#"+(typeof o=="string"?o:Oc(o))}function i(a,o){al(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return S1(t,e,i,s)}function mi(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function al(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function C1(){return Math.random().toString(36).substring(2,10)}function B0(s,t){return{usr:s.state,key:s.key,idx:t}}function hd(s,t,e=null,i){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof t=="string"?xu(t):t,state:e,key:t&&t.key||i||C1()}}function Oc({pathname:s="/",search:t="",hash:e=""}){return t&&t!=="?"&&(s+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(s+=e.charAt(0)==="#"?e:"#"+e),s}function xu(s){let t={};if(s){let e=s.indexOf("#");e>=0&&(t.hash=s.substring(e),s=s.substring(0,e));let i=s.indexOf("?");i>=0&&(t.search=s.substring(i),s=s.substring(0,i)),s&&(t.pathname=s)}return t}function S1(s,t,e,i={}){let{window:a=document.defaultView,v5Compat:o=!1}=i,c=a.history,f="POP",p=null,v=b();v==null&&(v=0,c.replaceState({...c.state,idx:v},""));function b(){return(c.state||{idx:null}).idx}function k(){f="POP";let I=b(),B=I==null?null:I-v;v=I,p&&p({action:f,location:A.location,delta:B})}function P(I,B){f="PUSH";let U=hd(A.location,I,B);e&&e(U,I),v=b()+1;let Z=B0(U,v),le=A.createHref(U);try{c.pushState(Z,"",le)}catch(pe){if(pe instanceof DOMException&&pe.name==="DataCloneError")throw pe;a.location.assign(le)}o&&p&&p({action:f,location:A.location,delta:1})}function w(I,B){f="REPLACE";let U=hd(A.location,I,B);e&&e(U,I),v=b();let Z=B0(U,v),le=A.createHref(U);c.replaceState(Z,"",le),o&&p&&p({action:f,location:A.location,delta:0})}function O(I){return E1(I)}let A={get action(){return f},get location(){return s(a,c)},listen(I){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(M0,k),p=I,()=>{a.removeEventListener(M0,k),p=null}},createHref(I){return t(a,I)},createURL:O,encodeLocation(I){let B=O(I);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:P,replace:w,go(I){return c.go(I)}};return A}function E1(s,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),mi(e,"No window.location.(origin|href) available to create URL");let i=typeof s=="string"?s:Oc(s);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function Om(s,t,e="/"){return P1(s,t,e,!1)}function P1(s,t,e,i){let a=typeof t=="string"?xu(t):t,o=Nl(a.pathname||"/",e);if(o==null)return null;let c=Dm(s);A1(c);let f=null;for(let p=0;f==null&&p<c.length;++p){let v=z1(o);f=j1(c[p],v,i)}return f}function Dm(s,t=[],e=[],i=""){let a=(o,c,f)=>{let p={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};p.relativePath.startsWith("/")&&(mi(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let v=Bl([i,p.relativePath]),b=e.concat(p);o.children&&o.children.length>0&&(mi(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),Dm(o.children,t,b,v)),!(o.path==null&&!o.index)&&t.push({path:v,score:I1(v,o.index),routesMeta:b})};return s.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))a(o,c);else for(let f of Im(o.path))a(o,c,f)}),t}function Im(s){let t=s.split("/");if(t.length===0)return[];let[e,...i]=t,a=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return a?[o,""]:[o];let c=Im(i.join("/")),f=[];return f.push(...c.map(p=>p===""?o:[o,p].join("/"))),a&&f.push(...c),f.map(p=>s.startsWith("/")&&p===""?"/":p)}function A1(s){s.sort((t,e)=>t.score!==e.score?e.score-t.score:R1(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var M1=/^:[\w-]+$/,B1=3,N1=2,T1=1,O1=10,D1=-2,N0=s=>s==="*";function I1(s,t){let e=s.split("/"),i=e.length;return e.some(N0)&&(i+=D1),t&&(i+=N1),e.filter(a=>!N0(a)).reduce((a,o)=>a+(M1.test(o)?B1:o===""?T1:O1),i)}function R1(s,t){return s.length===t.length&&s.slice(0,-1).every((i,a)=>i===t[a])?s[s.length-1]-t[t.length-1]:0}function j1(s,t,e=!1){let{routesMeta:i}=s,a={},o="/",c=[];for(let f=0;f<i.length;++f){let p=i[f],v=f===i.length-1,b=o==="/"?t:t.slice(o.length)||"/",k=Dh({path:p.relativePath,caseSensitive:p.caseSensitive,end:v},b),P=p.route;if(!k&&v&&e&&!i[i.length-1].route.index&&(k=Dh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},b)),!k)return null;Object.assign(a,k.params),c.push({params:a,pathname:Bl([o,k.pathname]),pathnameBase:H1(Bl([o,k.pathnameBase])),route:P}),k.pathnameBase!=="/"&&(o=Bl([o,k.pathnameBase]))}return c}function Dh(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[e,i]=F1(s.path,s.caseSensitive,s.end),a=t.match(e);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:i.reduce((v,{paramName:b,isOptional:k},P)=>{if(b==="*"){let O=f[P]||"";c=o.slice(0,o.length-O.length).replace(/(.)\/+$/,"$1")}const w=f[P];return k&&!w?v[b]=void 0:v[b]=(w||"").replace(/%2F/g,"/"),v},{}),pathname:o,pathnameBase:c,pattern:s}}function F1(s,t=!1,e=!0){al(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let i=[],a="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,p)=>(i.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(i.push({paramName:"*"}),a+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?a+="\\/*$":s!==""&&s!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),i]}function z1(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return al(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),s}}function Nl(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=s.charAt(e);return i&&i!=="/"?null:s.slice(e)||"/"}function U1(s,t="/"){let{pathname:e,search:i="",hash:a=""}=typeof s=="string"?xu(s):s;return{pathname:e?e.startsWith("/")?e:q1(e,t):t,search:W1(i),hash:$1(a)}}function q1(s,t){let e=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(a=>{a===".."?e.length>1&&e.pop():a!=="."&&e.push(a)}),e.length>1?e.join("/"):"/"}function Ff(s,t,e,i){return`Cannot include a '${s}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function G1(s){return s.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function Rm(s){let t=G1(s);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function jm(s,t,e,i=!1){let a;typeof s=="string"?a=xu(s):(a={...s},mi(!a.pathname||!a.pathname.includes("?"),Ff("?","pathname","search",a)),mi(!a.pathname||!a.pathname.includes("#"),Ff("#","pathname","hash",a)),mi(!a.search||!a.search.includes("#"),Ff("#","search","hash",a)));let o=s===""||a.pathname==="",c=o?"/":a.pathname,f;if(c==null)f=e;else{let k=t.length-1;if(!i&&c.startsWith("..")){let P=c.split("/");for(;P[0]==="..";)P.shift(),k-=1;a.pathname=P.join("/")}f=k>=0?t[k]:"/"}let p=U1(a,f),v=c&&c!=="/"&&c.endsWith("/"),b=(o||c===".")&&e.endsWith("/");return!p.pathname.endsWith("/")&&(v||b)&&(p.pathname+="/"),p}var Bl=s=>s.join("/").replace(/\/\/+/g,"/"),H1=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),W1=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,$1=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function V1(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var Fm=["POST","PUT","PATCH","DELETE"];new Set(Fm);var Z1=["GET",...Fm];new Set(Z1);var lc=lt.createContext(null);lc.displayName="DataRouter";var zh=lt.createContext(null);zh.displayName="DataRouterState";lt.createContext(!1);var zm=lt.createContext({isTransitioning:!1});zm.displayName="ViewTransition";var K1=lt.createContext(new Map);K1.displayName="Fetchers";var J1=lt.createContext(null);J1.displayName="Await";var _l=lt.createContext(null);_l.displayName="Navigation";var Rc=lt.createContext(null);Rc.displayName="Location";var vl=lt.createContext({outlet:null,matches:[],isDataRoute:!1});vl.displayName="Route";var Td=lt.createContext(null);Td.displayName="RouteError";function Y1(s,{relative:t}={}){mi(jc(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=lt.useContext(_l),{hash:a,pathname:o,search:c}=Fc(s,{relative:t}),f=o;return e!=="/"&&(f=o==="/"?e:Bl([e,o])),i.createHref({pathname:f,search:c,hash:a})}function jc(){return lt.useContext(Rc)!=null}function Lu(){return mi(jc(),"useLocation() may be used only in the context of a <Router> component."),lt.useContext(Rc).location}var Um="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qm(s){lt.useContext(_l).static||lt.useLayoutEffect(s)}function Gm(){let{isDataRoute:s}=lt.useContext(vl);return s?hy():X1()}function X1(){mi(jc(),"useNavigate() may be used only in the context of a <Router> component.");let s=lt.useContext(lc),{basename:t,navigator:e}=lt.useContext(_l),{matches:i}=lt.useContext(vl),{pathname:a}=Lu(),o=JSON.stringify(Rm(i)),c=lt.useRef(!1);return qm(()=>{c.current=!0}),lt.useCallback((p,v={})=>{if(al(c.current,Um),!c.current)return;if(typeof p=="number"){e.go(p);return}let b=jm(p,JSON.parse(o),a,v.relative==="path");s==null&&t!=="/"&&(b.pathname=b.pathname==="/"?t:Bl([t,b.pathname])),(v.replace?e.replace:e.push)(b,v.state,v)},[t,e,o,a,s])}lt.createContext(null);function Q1(){let{matches:s}=lt.useContext(vl),t=s[s.length-1];return t?t.params:{}}function Fc(s,{relative:t}={}){let{matches:e}=lt.useContext(vl),{pathname:i}=Lu(),a=JSON.stringify(Rm(e));return lt.useMemo(()=>jm(s,JSON.parse(a),i,t==="path"),[s,a,i,t])}function ey(s,t){return Hm(s,t)}function Hm(s,t,e,i){mi(jc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=lt.useContext(_l),{matches:o}=lt.useContext(vl),c=o[o.length-1],f=c?c.params:{},p=c?c.pathname:"/",v=c?c.pathnameBase:"/",b=c&&c.route;{let B=b&&b.path||"";Wm(p,!b||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let k=Lu(),P;if(t){let B=typeof t=="string"?xu(t):t;mi(v==="/"||B.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${B.pathname}" was given in the \`location\` prop.`),P=B}else P=k;let w=P.pathname||"/",O=w;if(v!=="/"){let B=v.replace(/^\//,"").split("/");O="/"+w.replace(/^\//,"").split("/").slice(B.length).join("/")}let A=Om(s,{pathname:O});al(b||A!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),al(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=sy(A&&A.map(B=>Object.assign({},B,{params:Object.assign({},f,B.params),pathname:Bl([v,a.encodeLocation?a.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?v:Bl([v,a.encodeLocation?a.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),o,e,i);return t&&I?lt.createElement(Rc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},I):I}function ty(){let s=cy(),t=V1(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),e=s instanceof Error?s.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",s),c=lt.createElement(lt.Fragment,null,lt.createElement("p",null," Hey developer "),lt.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",lt.createElement("code",{style:o},"ErrorBoundary")," or"," ",lt.createElement("code",{style:o},"errorElement")," prop on your route.")),lt.createElement(lt.Fragment,null,lt.createElement("h2",null,"Unexpected Application Error!"),lt.createElement("h3",{style:{fontStyle:"italic"}},t),e?lt.createElement("pre",{style:a},e):null,c)}var ny=lt.createElement(ty,null),ry=class extends lt.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,t){return t.location!==s.location||t.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:t.error,location:t.location,revalidation:s.revalidation||t.revalidation}}componentDidCatch(s,t){console.error("React Router caught the following error during render",s,t)}render(){return this.state.error!==void 0?lt.createElement(vl.Provider,{value:this.props.routeContext},lt.createElement(Td.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function iy({routeContext:s,match:t,children:e}){let i=lt.useContext(lc);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),lt.createElement(vl.Provider,{value:s},e)}function sy(s,t=[],e=null,i=null){if(s==null){if(!e)return null;if(e.errors)s=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)s=e.matches;else return null}let a=s,o=e?.errors;if(o!=null){let p=a.findIndex(v=>v.route.id&&o?.[v.route.id]!==void 0);mi(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,f=-1;if(e)for(let p=0;p<a.length;p++){let v=a[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=p),v.route.id){let{loaderData:b,errors:k}=e,P=v.route.loader&&!b.hasOwnProperty(v.route.id)&&(!k||k[v.route.id]===void 0);if(v.route.lazy||P){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((p,v,b)=>{let k,P=!1,w=null,O=null;e&&(k=o&&v.route.id?o[v.route.id]:void 0,w=v.route.errorElement||ny,c&&(f<0&&b===0?(Wm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,O=null):f===b&&(P=!0,O=v.route.hydrateFallbackElement||null)));let A=t.concat(a.slice(0,b+1)),I=()=>{let B;return k?B=w:P?B=O:v.route.Component?B=lt.createElement(v.route.Component,null):v.route.element?B=v.route.element:B=p,lt.createElement(iy,{match:v,routeContext:{outlet:p,matches:A,isDataRoute:e!=null},children:B})};return e&&(v.route.ErrorBoundary||v.route.errorElement||b===0)?lt.createElement(ry,{location:e.location,revalidation:e.revalidation,component:w,error:k,children:I(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):I()},null)}function Od(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ay(s){let t=lt.useContext(lc);return mi(t,Od(s)),t}function oy(s){let t=lt.useContext(zh);return mi(t,Od(s)),t}function ly(s){let t=lt.useContext(vl);return mi(t,Od(s)),t}function Dd(s){let t=ly(s),e=t.matches[t.matches.length-1];return mi(e.route.id,`${s} can only be used on routes that contain a unique "id"`),e.route.id}function uy(){return Dd("useRouteId")}function cy(){let s=lt.useContext(Td),t=oy("useRouteError"),e=Dd("useRouteError");return s!==void 0?s:t.errors?.[e]}function hy(){let{router:s}=ay("useNavigate"),t=Dd("useNavigate"),e=lt.useRef(!1);return qm(()=>{e.current=!0}),lt.useCallback(async(a,o={})=>{al(e.current,Um),e.current&&(typeof a=="number"?s.navigate(a):await s.navigate(a,{fromRouteId:t,...o}))},[s,t])}var T0={};function Wm(s,t,e){!t&&!T0[s]&&(T0[s]=!0,al(!1,e))}lt.memo(fy);function fy({routes:s,future:t,state:e}){return Hm(s,void 0,e,t)}function kc(s){mi(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function dy({basename:s="/",children:t=null,location:e,navigationType:i="POP",navigator:a,static:o=!1}){mi(!jc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=s.replace(/^\/*/,"/"),f=lt.useMemo(()=>({basename:c,navigator:a,static:o,future:{}}),[c,a,o]);typeof e=="string"&&(e=xu(e));let{pathname:p="/",search:v="",hash:b="",state:k=null,key:P="default"}=e,w=lt.useMemo(()=>{let O=Nl(p,c);return O==null?null:{location:{pathname:O,search:v,hash:b,state:k,key:P},navigationType:i}},[c,p,v,b,k,P,i]);return al(w!=null,`<Router basename="${c}"> is not able to match the URL "${p}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:lt.createElement(_l.Provider,{value:f},lt.createElement(Rc.Provider,{children:t,value:w}))}function py({children:s,location:t}){return ey(fd(s),t)}function fd(s,t=[]){let e=[];return lt.Children.forEach(s,(i,a)=>{if(!lt.isValidElement(i))return;let o=[...t,a];if(i.type===lt.Fragment){e.push.apply(e,fd(i.props.children,o));return}mi(i.type===kc,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mi(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=fd(i.props.children,o)),e.push(c)}),e}var Sh="get",Eh="application/x-www-form-urlencoded";function Uh(s){return s!=null&&typeof s.tagName=="string"}function my(s){return Uh(s)&&s.tagName.toLowerCase()==="button"}function gy(s){return Uh(s)&&s.tagName.toLowerCase()==="form"}function _y(s){return Uh(s)&&s.tagName.toLowerCase()==="input"}function vy(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function yy(s,t){return s.button===0&&(!t||t==="_self")&&!vy(s)}var vh=null;function wy(){if(vh===null)try{new FormData(document.createElement("form"),0),vh=!1}catch{vh=!0}return vh}var by=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zf(s){return s!=null&&!by.has(s)?(al(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Eh}"`),null):s}function xy(s,t){let e,i,a,o,c;if(gy(s)){let f=s.getAttribute("action");i=f?Nl(f,t):null,e=s.getAttribute("method")||Sh,a=zf(s.getAttribute("enctype"))||Eh,o=new FormData(s)}else if(my(s)||_y(s)&&(s.type==="submit"||s.type==="image")){let f=s.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=s.getAttribute("formaction")||f.getAttribute("action");if(i=p?Nl(p,t):null,e=s.getAttribute("formmethod")||f.getAttribute("method")||Sh,a=zf(s.getAttribute("formenctype"))||zf(f.getAttribute("enctype"))||Eh,o=new FormData(f,s),!wy()){let{name:v,type:b,value:k}=s;if(b==="image"){let P=v?`${v}.`:"";o.append(`${P}x`,"0"),o.append(`${P}y`,"0")}else v&&o.append(v,k)}}else{if(Uh(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Sh,i=null,a=Eh,c=s}return o&&a==="text/plain"&&(c=o,o=void 0),{action:i,method:e.toLowerCase(),encType:a,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Id(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function Ly(s,t,e){let i=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return i.pathname==="/"?i.pathname=`_root.${e}`:t&&Nl(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${e}`,i}async function ky(s,t){if(s.id in t)return t[s.id];try{let e=await import(s.module);return t[s.id]=e,e}catch(e){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Cy(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function Sy(s,t,e){let i=await Promise.all(s.map(async a=>{let o=t.routes[a.route.id];if(o){let c=await ky(o,e);return c.links?c.links():[]}return[]}));return My(i.flat(1).filter(Cy).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function O0(s,t,e,i,a,o){let c=(p,v)=>e[v]?p.route.id!==e[v].route.id:!0,f=(p,v)=>e[v].pathname!==p.pathname||e[v].route.path?.endsWith("*")&&e[v].params["*"]!==p.params["*"];return o==="assets"?t.filter((p,v)=>c(p,v)||f(p,v)):o==="data"?t.filter((p,v)=>{let b=i.routes[p.route.id];if(!b||!b.hasLoader)return!1;if(c(p,v)||f(p,v))return!0;if(p.route.shouldRevalidate){let k=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof k=="boolean")return k}return!0}):[]}function Ey(s,t,{includeHydrateFallback:e}={}){return Py(s.map(i=>{let a=t.routes[i.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),e&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function Py(s){return[...new Set(s)]}function Ay(s){let t={},e=Object.keys(s).sort();for(let i of e)t[i]=s[i];return t}function My(s,t){let e=new Set;return new Set(t),s.reduce((i,a)=>{let o=JSON.stringify(Ay(a));return e.has(o)||(e.add(o),i.push({key:o,link:a})),i},[])}function $m(){let s=lt.useContext(lc);return Id(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function By(){let s=lt.useContext(zh);return Id(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Rd=lt.createContext(void 0);Rd.displayName="FrameworkContext";function Vm(){let s=lt.useContext(Rd);return Id(s,"You must render this element inside a <HydratedRouter> element"),s}function Ny(s,t){let e=lt.useContext(Rd),[i,a]=lt.useState(!1),[o,c]=lt.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:v,onMouseLeave:b,onTouchStart:k}=t,P=lt.useRef(null);lt.useEffect(()=>{if(s==="render"&&c(!0),s==="viewport"){let A=B=>{B.forEach(U=>{c(U.isIntersecting)})},I=new IntersectionObserver(A,{threshold:.5});return P.current&&I.observe(P.current),()=>{I.disconnect()}}},[s]),lt.useEffect(()=>{if(i){let A=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(A)}}},[i]);let w=()=>{a(!0)},O=()=>{a(!1),c(!1)};return e?s!=="intent"?[o,P,{}]:[o,P,{onFocus:wc(f,w),onBlur:wc(p,O),onMouseEnter:wc(v,w),onMouseLeave:wc(b,O),onTouchStart:wc(k,w)}]:[!1,P,{}]}function wc(s,t){return e=>{s&&s(e),e.defaultPrevented||t(e)}}function Ty({page:s,...t}){let{router:e}=$m(),i=lt.useMemo(()=>Om(e.routes,s,e.basename),[e.routes,s,e.basename]);return i?lt.createElement(Dy,{page:s,matches:i,...t}):null}function Oy(s){let{manifest:t,routeModules:e}=Vm(),[i,a]=lt.useState([]);return lt.useEffect(()=>{let o=!1;return Sy(s,t,e).then(c=>{o||a(c)}),()=>{o=!0}},[s,t,e]),i}function Dy({page:s,matches:t,...e}){let i=Lu(),{manifest:a,routeModules:o}=Vm(),{basename:c}=$m(),{loaderData:f,matches:p}=By(),v=lt.useMemo(()=>O0(s,t,p,a,i,"data"),[s,t,p,a,i]),b=lt.useMemo(()=>O0(s,t,p,a,i,"assets"),[s,t,p,a,i]),k=lt.useMemo(()=>{if(s===i.pathname+i.search+i.hash)return[];let O=new Set,A=!1;if(t.forEach(B=>{let U=a.routes[B.route.id];!U||!U.hasLoader||(!v.some(Z=>Z.route.id===B.route.id)&&B.route.id in f&&o[B.route.id]?.shouldRevalidate||U.hasClientLoader?A=!0:O.add(B.route.id))}),O.size===0)return[];let I=Ly(s,c,"data");return A&&O.size>0&&I.searchParams.set("_routes",t.filter(B=>O.has(B.route.id)).map(B=>B.route.id).join(",")),[I.pathname+I.search]},[c,f,i,a,v,t,s,o]),P=lt.useMemo(()=>Ey(b,a),[b,a]),w=Oy(b);return lt.createElement(lt.Fragment,null,k.map(O=>lt.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...e})),P.map(O=>lt.createElement("link",{key:O,rel:"modulepreload",href:O,...e})),w.map(({key:O,link:A})=>lt.createElement("link",{key:O,nonce:e.nonce,...A})))}function Iy(...s){return t=>{s.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var Zm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Zm&&(window.__reactRouterVersion="7.8.0")}catch{}function Ry({basename:s,children:t,window:e}){let i=lt.useRef();i.current==null&&(i.current=k1({window:e,v5Compat:!0}));let a=i.current,[o,c]=lt.useState({action:a.action,location:a.location}),f=lt.useCallback(p=>{lt.startTransition(()=>c(p))},[c]);return lt.useLayoutEffect(()=>a.listen(f),[a,f]),lt.createElement(dy,{basename:s,children:t,location:o.location,navigationType:o.action,navigator:a})}var Km=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qh=lt.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:a,reloadDocument:o,replace:c,state:f,target:p,to:v,preventScrollReset:b,viewTransition:k,...P},w){let{basename:O}=lt.useContext(_l),A=typeof v=="string"&&Km.test(v),I,B=!1;if(typeof v=="string"&&A&&(I=v,Zm))try{let ue=new URL(window.location.href),Me=v.startsWith("//")?new URL(ue.protocol+v):new URL(v),J=Nl(Me.pathname,O);Me.origin===ue.origin&&J!=null?v=J+Me.search+Me.hash:B=!0}catch{al(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=Y1(v,{relative:a}),[Z,le,pe]=Ny(i,P),ie=Uy(v,{replace:c,state:f,target:p,preventScrollReset:b,relative:a,viewTransition:k});function $(ue){t&&t(ue),ue.defaultPrevented||ie(ue)}let Y=lt.createElement("a",{...P,...pe,href:I||U,onClick:B||o?t:$,ref:Iy(w,le),target:p,"data-discover":!A&&e==="render"?"true":void 0});return Z&&!A?lt.createElement(lt.Fragment,null,Y,lt.createElement(Ty,{page:U})):Y});qh.displayName="Link";var jy=lt.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:a=!1,style:o,to:c,viewTransition:f,children:p,...v},b){let k=Fc(c,{relative:v.relative}),P=Lu(),w=lt.useContext(zh),{navigator:O,basename:A}=lt.useContext(_l),I=w!=null&&$y(k)&&f===!0,B=O.encodeLocation?O.encodeLocation(k).pathname:k.pathname,U=P.pathname,Z=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;e||(U=U.toLowerCase(),Z=Z?Z.toLowerCase():null,B=B.toLowerCase()),Z&&A&&(Z=Nl(Z,A)||Z);const le=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let pe=U===B||!a&&U.startsWith(B)&&U.charAt(le)==="/",ie=Z!=null&&(Z===B||!a&&Z.startsWith(B)&&Z.charAt(B.length)==="/"),$={isActive:pe,isPending:ie,isTransitioning:I},Y=pe?t:void 0,ue;typeof i=="function"?ue=i($):ue=[i,pe?"active":null,ie?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let Me=typeof o=="function"?o($):o;return lt.createElement(qh,{...v,"aria-current":Y,className:ue,ref:b,style:Me,to:c,viewTransition:f},typeof p=="function"?p($):p)});jy.displayName="NavLink";var Fy=lt.forwardRef(({discover:s="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:a,state:o,method:c=Sh,action:f,onSubmit:p,relative:v,preventScrollReset:b,viewTransition:k,...P},w)=>{let O=Hy(),A=Wy(f,{relative:v}),I=c.toLowerCase()==="get"?"get":"post",B=typeof f=="string"&&Km.test(f),U=Z=>{if(p&&p(Z),Z.defaultPrevented)return;Z.preventDefault();let le=Z.nativeEvent.submitter,pe=le?.getAttribute("formmethod")||c;O(le||Z.currentTarget,{fetcherKey:t,method:pe,navigate:e,replace:a,state:o,relative:v,preventScrollReset:b,viewTransition:k})};return lt.createElement("form",{ref:w,method:I,action:A,onSubmit:i?p:U,...P,"data-discover":!B&&s==="render"?"true":void 0})});Fy.displayName="Form";function zy(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jm(s){let t=lt.useContext(lc);return mi(t,zy(s)),t}function Uy(s,{target:t,replace:e,state:i,preventScrollReset:a,relative:o,viewTransition:c}={}){let f=Gm(),p=Lu(),v=Fc(s,{relative:o});return lt.useCallback(b=>{if(yy(b,t)){b.preventDefault();let k=e!==void 0?e:Oc(p)===Oc(v);f(s,{replace:k,state:i,preventScrollReset:a,relative:o,viewTransition:c})}},[p,f,v,e,i,t,s,a,o,c])}var qy=0,Gy=()=>`__${String(++qy)}__`;function Hy(){let{router:s}=Jm("useSubmit"),{basename:t}=lt.useContext(_l),e=uy();return lt.useCallback(async(i,a={})=>{let{action:o,method:c,encType:f,formData:p,body:v}=xy(i,t);if(a.navigate===!1){let b=a.fetcherKey||Gy();await s.fetch(b,e,a.action||o,{preventScrollReset:a.preventScrollReset,formData:p,body:v,formMethod:a.method||c,formEncType:a.encType||f,flushSync:a.flushSync})}else await s.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:p,body:v,formMethod:a.method||c,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:e,flushSync:a.flushSync,viewTransition:a.viewTransition})},[s,t,e])}function Wy(s,{relative:t}={}){let{basename:e}=lt.useContext(_l),i=lt.useContext(vl);mi(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),o={...Fc(s||".",{relative:t})},c=Lu();if(s==null){o.search=c.search;let f=new URLSearchParams(o.search),p=f.getAll("index");if(p.some(b=>b==="")){f.delete("index"),p.filter(k=>k).forEach(k=>f.append("index",k));let b=f.toString();o.search=b?`?${b}`:""}}return(!s||s===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:Bl([e,o.pathname])),Oc(o)}function $y(s,{relative:t}={}){let e=lt.useContext(zm);mi(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Jm("useViewTransitionState"),a=Fc(s,{relative:t});if(!e.isTransitioning)return!1;let o=Nl(e.currentLocation.pathname,i)||e.currentLocation.pathname,c=Nl(e.nextLocation.pathname,i)||e.nextLocation.pathname;return Dh(a.pathname,c)!=null||Dh(a.pathname,o)!=null}mm();function yh(){const[s,t]=lt.useState(""),[e,i]=lt.useState(""),[a,o]=lt.useState(!1),[c,f]=lt.useState(!1),[p,v]=lt.useState(null),b=Gm(),k=async w=>{w.preventDefault(),o(!0),v(null);const{error:O}=await Aa.auth.signInWithPassword({email:s,password:e});O?v(O.message):b("/dashboard",{replace:!0}),o(!1)},P=async()=>{f(!0),v(null);const{error:w}=await Aa.auth.signUp({email:s,password:e});w?v(w.message):b("/dashboard",{replace:!0}),f(!1)};return Ve.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:Ve.jsxs("div",{className:"card max-w-md w-full",children:[Ve.jsxs("div",{className:"text-center mb-6",children:[Ve.jsx("img",{src:L1,alt:"Pudumaps logo",className:"w-16 h-16 mx-auto"}),Ve.jsx("h1",{className:"text-2xl font-bold mt-2",children:"Pudumaps"}),Ve.jsx("p",{className:"text-gray-400 text-sm",children:"Inicia sesin o crea tu cuenta"})]}),Ve.jsxs("form",{className:"space-y-5",onSubmit:k,children:[Ve.jsxs("div",{children:[Ve.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Correo electrnico"}),Ve.jsx("input",{type:"email",className:"input",value:s,onChange:w=>t(w.target.value),placeholder:"ejemplo@correo.com",required:!0})]}),Ve.jsxs("div",{children:[Ve.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Contrasea"}),Ve.jsx("input",{type:"password",className:"input",value:e,onChange:w=>i(w.target.value),placeholder:"********",required:!0})]}),p&&Ve.jsx("p",{className:"text-red-400 text-sm",children:p}),Ve.jsx("button",{type:"submit",className:"btn btn-primary w-full",disabled:a,children:a?"Entrando...":"Entrar"}),Ve.jsx("button",{type:"button",onClick:P,className:"btn btn-secondary w-full",disabled:c,children:c?"Creando...":"Crear cuenta"})]}),Ve.jsxs("p",{className:"text-center text-gray-500 text-sm mt-6",children:["Primera vez?"," ",Ve.jsx("span",{className:"text-green-400",children:"Crea tu cuenta"})," y revisa tu correo para confirmar."]}),Ve.jsxs("div",{className:"mt-8 border-t border-gray-700 pt-4 text-sm text-gray-400",children:[Ve.jsx("h3",{className:"text-gray-200 font-semibold mb-3",children:" Roadmap Pudumaps"}),Ve.jsxs("div",{className:"space-y-3",children:[Ve.jsxs("div",{children:[Ve.jsx("h4",{className:"text-gray-300 font-medium",children:" Ahora"}),Ve.jsxs("ul",{className:"list-disc list-inside",children:[Ve.jsx("li",{children:"Gestin de proyectos (crear, editar, eliminar, favoritos)"}),Ve.jsx("li",{children:"Capas GeoJSON con estilos editables y persistentes"}),Ve.jsx("li",{children:"Capas externas WMS con consulta GetFeatureInfo"}),Ve.jsx("li",{children:"Exportacin de mapas a KMZ y PDF"})]})]}),Ve.jsxs("div",{children:[Ve.jsx("h4",{className:"text-gray-300 font-medium",children:" Prximo"}),Ve.jsxs("ul",{className:"list-disc list-inside",children:[Ve.jsx("li",{children:"Soporte para servicios ArcGIS REST"}),Ve.jsx("li",{children:"Herramientas de medicin y dibujo en el mapa"}),Ve.jsx("li",{children:"Compartir proyectos de forma pblica/privada"})]})]}),Ve.jsxs("div",{children:[Ve.jsx("h4",{className:"text-gray-300 font-medium",children:" Futuro"}),Ve.jsxs("ul",{className:"list-disc list-inside",children:[Ve.jsx("li",{children:"Roles y permisos colaborativos por proyecto"}),Ve.jsx("li",{children:"Filtros y estadsticas por atributos"}),Ve.jsx("li",{children:"Optimizacin para grandes volmenes de datos"})]})]})]})]})]})})}function Vy({id:s,initialName:t,initialDescription:e,onClose:i,onUpdated:a,onNotify:o}){const[c,f]=lt.useState(t),[p,v]=lt.useState(e||""),[b,k]=lt.useState(!1);async function P(){if(!c){o?.(" El proyecto debe tener un nombre","error");return}k(!0);const{error:w}=await Aa.from("projects").update({name:c,description:p}).eq("id",s);if(k(!1),w){o?.(" No se pudo actualizar el proyecto","error");return}a(),i(),o?.(" Proyecto actualizado","success")}return Ve.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-60 z-50",children:Ve.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-md p-6 space-y-4",children:[Ve.jsx("h2",{className:"text-lg font-semibold text-white",children:" Editar proyecto"}),Ve.jsxs("div",{className:"space-y-3",children:[Ve.jsxs("div",{children:[Ve.jsx("label",{className:"block text-sm text-gray-300",children:"Nombre"}),Ve.jsx("input",{type:"text",className:"input w-full",value:c,onChange:w=>f(w.target.value)})]}),Ve.jsxs("div",{children:[Ve.jsx("label",{className:"block text-sm text-gray-300",children:"Descripcin"}),Ve.jsx("input",{type:"text",className:"input w-full",value:p,onChange:w=>v(w.target.value)})]})]}),Ve.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[Ve.jsx("button",{onClick:i,className:"px-3 py-1.5 rounded-md bg-gray-600 hover:bg-gray-500 text-white transition",children:"Cancelar"}),Ve.jsx("button",{onClick:P,disabled:b,className:"px-3 py-1.5 rounded-md bg-green-600 hover:bg-green-700 text-white transition disabled:opacity-60",children:b?"Guardando":"Guardar"})]})]})})}function Zy({id:s,name:t,description:e,isFavorite:i,onDelete:a,onUpdated:o,onToggleFavorite:c,onNotify:f}){const[p,v]=lt.useState(!1);return Ve.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-md p-5 flex justify-between items-center hover:bg-gray-750 transition",children:[Ve.jsxs("div",{children:[Ve.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[" ",t,Ve.jsx("button",{onClick:c,className:"ml-2 text-lg focus:outline-none hover:scale-110 transition",title:i?"Quitar de favoritos":"Marcar como favorito",children:i?"":""})]}),e?Ve.jsx("p",{className:"text-sm text-gray-400",children:e}):Ve.jsx("p",{className:"text-sm text-gray-600 italic",children:"Sin descripcin"})]}),Ve.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[Ve.jsx(qh,{to:`/project/${s}`,className:"px-3 py-1.5 text-sm font-medium rounded-md bg-blue-600 hover:bg-blue-700 text-white transition",children:"Abrir"}),Ve.jsx("button",{onClick:()=>v(!0),className:"px-3 py-1.5 text-sm font-medium rounded-md border border-yellow-500 text-yellow-500 hover:bg-yellow-500 hover:text-white transition",children:" Editar"}),Ve.jsx("button",{onClick:()=>a(s),className:"px-3 py-1.5 text-sm font-medium rounded-md border border-red-500 text-red-500 hover:bg-red-500 hover:text-white transition",children:" Eliminar"})]}),p&&Ve.jsx(Vy,{id:s,initialName:t,initialDescription:e,onClose:()=>v(!1),onUpdated:o,onNotify:f})]})}function Ky({onProjectCreated:s,onNotify:t}){const[e,i]=lt.useState(""),[a,o]=lt.useState(""),[c,f]=lt.useState(!1);async function p(){if(!e){t?.(" El proyecto debe tener un nombre","error");return}f(!0);const{data:{user:v}}=await Aa.auth.getUser(),{error:b}=await Aa.from("projects").insert([{name:e,description:a,owner_id:v?.id}]);if(f(!1),b){t?.(" No se pudo crear el proyecto","error");return}i(""),o(""),s(),t?.(" Proyecto creado","success")}return Ve.jsxs("div",{className:"card space-y-4",children:[Ve.jsx("h2",{className:"subtitle",children:"Tus proyectos"}),Ve.jsx("input",{type:"text",placeholder:"Nombre del proyecto",value:e,onChange:v=>i(v.target.value),className:"input"}),Ve.jsx("input",{type:"text",placeholder:"Descripcin (ej: Capas base de Chile)",value:a,onChange:v=>o(v.target.value),className:"input"}),Ve.jsx("div",{className:"flex gap-3",children:Ve.jsx("button",{onClick:p,disabled:c,className:"btn btn-primary disabled:opacity-60",children:c?"Creando":"Crear y abrir"})})]})}function Ym({message:s,type:t="info",duration:e=3e3,onClose:i}){const[a,o]=lt.useState(!0);if(lt.useEffect(()=>{const v=setTimeout(()=>o(!1),e-300),b=setTimeout(()=>i&&i(),e);return()=>{clearTimeout(v),clearTimeout(b)}},[e,i]),!a)return null;const c="px-4 py-2 rounded-md shadow-md text-sm font-medium flex items-center gap-2 transition-opacity duration-300",f={success:"bg-green-600 text-white",error:"bg-red-600 text-white",info:"bg-blue-600 text-white"},p={success:"",error:"",info:""};return Ve.jsxs("div",{className:`${c} ${f[t]}`,children:[Ve.jsx("span",{children:p[t]}),Ve.jsx("span",{children:s})]})}function Jy({message:s,onConfirm:t,onCancel:e}){return Ve.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-60 z-50",children:Ve.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-sm p-6 space-y-4",children:[Ve.jsx("h2",{className:"text-lg font-semibold text-white",children:" Confirmar accin"}),Ve.jsx("p",{className:"text-gray-300",children:s}),Ve.jsxs("div",{className:"flex justify-end gap-3",children:[Ve.jsx("button",{onClick:e,className:"px-3 py-1.5 rounded-md bg-gray-600 hover:bg-gray-500 text-white transition",children:"Cancelar"}),Ve.jsx("button",{onClick:t,className:"px-3 py-1.5 rounded-md bg-red-600 hover:bg-red-700 text-white transition",children:"Eliminar"})]})]})})}function Yy({email:s}){const[t,e]=lt.useState([]),[i,a]=lt.useState(null),[o,c]=lt.useState(null),[f,p]=lt.useState("");function v(A,I="info"){a({msg:A,type:I})}async function b(){const{data:A,error:I}=await Aa.from("projects").select("id, name, description, owner_id, is_favorite").order("is_favorite",{ascending:!1}).order("created_at",{ascending:!1});if(I){v(" No se pudieron cargar los proyectos","error");return}A&&e(A)}async function k(A,I=!1){const{error:B}=await Aa.from("projects").update({is_favorite:!I}).eq("id",A);if(B){v(" No se pudo actualizar favorito","error");return}b(),v(I?" Proyecto quitado de favoritos":" Proyecto marcado como favorito","success")}async function P(A){const{error:I}=await Aa.from("projects").delete().eq("id",A);if(I){v(" Error al eliminar proyecto","error");return}e(B=>B.filter(U=>U.id!==A)),v(" Proyecto eliminado","success")}async function w(){await Aa.auth.signOut(),v(" Sesin cerrada","info"),setTimeout(()=>window.location.reload(),1e3)}lt.useEffect(()=>{b()},[]);const O=t.filter(A=>A.name.toLowerCase().includes(f.toLowerCase())||(A.description?.toLowerCase()||"").includes(f.toLowerCase()));return Ve.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-100 p-6 relative",children:[i&&Ve.jsx("div",{className:"fixed top-4 right-4 z-50",children:Ve.jsx(Ym,{message:i.msg,type:i.type,duration:3e3,onClose:()=>a(null)})}),Ve.jsxs("div",{className:"max-w-3xl mx-auto space-y-8",children:[Ve.jsxs("div",{className:"flex items-center justify-between",children:[Ve.jsxs("div",{children:[Ve.jsx("h1",{className:"title",children:"Sesin iniciada en Pudumaps"}),Ve.jsx("p",{className:"text-muted",children:s})]}),Ve.jsx("button",{onClick:w,className:"btn btn-danger",children:"Cerrar sesin"})]}),Ve.jsx(Ky,{onProjectCreated:()=>{b(),v(" Proyecto creado","success")},onNotify:v}),Ve.jsx("div",{children:Ve.jsx("input",{type:"text",placeholder:" Buscar proyectos...",value:f,onChange:A=>p(A.target.value),className:"input w-full"})}),Ve.jsxs("div",{className:"space-y-3",children:[O.map(A=>Ve.jsx(Zy,{id:A.id,name:A.name,description:A.description,isFavorite:A.is_favorite??!1,onDelete:I=>c(I),onUpdated:()=>{b(),v(" Proyecto actualizado","success")},onToggleFavorite:()=>k(A.id,A.is_favorite??!1),onNotify:v},A.id)),O.length===0&&Ve.jsx("p",{className:"text-muted text-center",children:"No se encontraron proyectos."})]})]}),o&&Ve.jsx(Jy,{message:"Seguro que deseas eliminar este proyecto?",onCancel:()=>c(null),onConfirm:()=>{P(o),c(null)}})]})}function D0({children:s,fallback:t}){const[e,i]=lt.useState(null),[a,o]=lt.useState(!0);return lt.useEffect(()=>{Aa.auth.getSession().then(({data:f})=>{i(f.session),o(!1)});const{data:{subscription:c}}=Aa.auth.onAuthStateChange((f,p)=>{i(p)});return()=>c.unsubscribe()},[]),a?Ve.jsx("div",{className:"flex min-h-screen items-center justify-center",children:Ve.jsx("div",{className:"bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-100 rounded-xl shadow p-6",children:"Cargando"})}):e?Ve.jsx(Ve.Fragment,{children:s(e)}):Ve.jsx(Ve.Fragment,{children:t})}function Xy({projectId:s,onLayerAdded:t,onError:e}){const i=lt.useRef(null),[a,o]=lt.useState(!1);async function c(f){if(!f||f.length===0)return;const p=f[0];o(!0);try{const v=await p.text(),b=JSON.parse(v),{data:k,error:P}=await Aa.from("project_layers").insert({project_id:s,name:p.name.replace(/\.[^.]+$/,""),geojson:b}).select().single();if(P)throw P;const w={layer_id:k.id,color:"#3388ff",weight:2,opacity:1,fillColor:"#3388ff",fillOpacity:.2,radius:6};t?.(k,w)}catch(v){console.error(v),e?.(v.message||"No se pudo subir el archivo")}finally{o(!1)}}return Ve.jsxs("div",{className:"flex items-center gap-2",children:[Ve.jsx("input",{ref:i,type:"file",accept:".geojson,.json",className:"hidden",onChange:f=>c(f.target.files)}),Ve.jsx("button",{type:"button",onClick:()=>i.current?.click(),disabled:a,className:"w-full sm:w-auto px-3 sm:px-4 py-2 text-xs sm:text-sm bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium shadow disabled:opacity-60 transition",children:a?"Subiendo":" Subir GeoJSON/KMZ/KML"})]})}function Qy({layers:s,visible:t,onToggleVisible:e,onZoom:i,onDelete:a}){return s.length===0?Ve.jsx("div",{className:"hint",children:"No hay capas todava. Sube una para empezar."}):Ve.jsx("div",{className:"layer-list",children:s.map(o=>Ve.jsxs("div",{className:"layer-item",children:[Ve.jsxs("label",{children:[Ve.jsx("input",{type:"checkbox",checked:t[o.id],onChange:()=>e(o.id)}),o.name]}),Ve.jsx("button",{onClick:()=>i(o),children:""}),Ve.jsx("button",{onClick:()=>a(o),children:""})]},o.id))})}function e2(s,t){const e=lt.useRef(t);lt.useEffect(function(){t!==e.current&&s.attributionControl!=null&&(e.current!=null&&s.attributionControl.removeAttribution(e.current),t!=null&&s.attributionControl.addAttribution(t)),e.current=t},[s,t])}const t2=1;function n2(s){return Object.freeze({__version:t2,map:s})}function Xm(s,t){return Object.freeze({...s,...t})}const Qm=lt.createContext(null),jd=Qm.Provider;function Fd(){const s=lt.useContext(Qm);if(s==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return s}function r2(s){function t(e,i){const{instance:a,context:o}=s(e).current;return lt.useImperativeHandle(i,()=>a),e.children==null?null:Nc.createElement(jd,{value:o},e.children)}return lt.forwardRef(t)}function eg(s){function t(e,i){const{instance:a}=s(e).current;return lt.useImperativeHandle(i,()=>a),null}return lt.forwardRef(t)}function tg(s){return function(e){const i=Fd(),a=s(e,i),{instance:o}=a.current,c=lt.useRef(e.position),{position:f}=e;return lt.useEffect(function(){return o.addTo(i.map),function(){o.remove()}},[i.map,o]),lt.useEffect(function(){f!=null&&f!==c.current&&(o.setPosition(f),c.current=f)},[o,f]),a}}function i2(s,t){const e=lt.useRef();lt.useEffect(function(){return t!=null&&s.instance.on(t),e.current=t,function(){e.current!=null&&s.instance.off(e.current),e.current=null}},[s,t])}function ng(s,t){const e=s.pane??t.pane;return e?{...s,pane:e}:s}var Cc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var s2=Cc.exports,I0;function rg(){return I0||(I0=1,(function(s,t){(function(e,i){i(t)})(s2,(function(e){var i="1.9.4";function a(r){var d,x,T,V;for(x=1,T=arguments.length;x<T;x++){V=arguments[x];for(d in V)r[d]=V[d]}return r}var o=Object.create||(function(){function r(){}return function(d){return r.prototype=d,new r}})();function c(r,d){var x=Array.prototype.slice;if(r.bind)return r.bind.apply(r,x.call(arguments,1));var T=x.call(arguments,2);return function(){return r.apply(d,T.length?T.concat(x.call(arguments)):arguments)}}var f=0;function p(r){return"_leaflet_id"in r||(r._leaflet_id=++f),r._leaflet_id}function v(r,d,x){var T,V,fe,We;return We=function(){T=!1,V&&(fe.apply(x,V),V=!1)},fe=function(){T?V=arguments:(r.apply(x,arguments),setTimeout(We,d),T=!0)},fe}function b(r,d,x){var T=d[1],V=d[0],fe=T-V;return r===T&&x?r:((r-V)%fe+fe)%fe+V}function k(){return!1}function P(r,d){if(d===!1)return r;var x=Math.pow(10,d===void 0?6:d);return Math.round(r*x)/x}function w(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function O(r){return w(r).split(/\s+/)}function A(r,d){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?o(r.options):{});for(var x in d)r.options[x]=d[x];return r.options}function I(r,d,x){var T=[];for(var V in r)T.push(encodeURIComponent(x?V.toUpperCase():V)+"="+encodeURIComponent(r[V]));return(!d||d.indexOf("?")===-1?"?":"&")+T.join("&")}var B=/\{ *([\w_ -]+) *\}/g;function U(r,d){return r.replace(B,function(x,T){var V=d[T];if(V===void 0)throw new Error("No value provided for variable "+x);return typeof V=="function"&&(V=V(d)),V})}var Z=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function le(r,d){for(var x=0;x<r.length;x++)if(r[x]===d)return x;return-1}var pe="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ie(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var $=0;function Y(r){var d=+new Date,x=Math.max(0,16-(d-$));return $=d+x,window.setTimeout(r,x)}var ue=window.requestAnimationFrame||ie("RequestAnimationFrame")||Y,Me=window.cancelAnimationFrame||ie("CancelAnimationFrame")||ie("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function J(r,d,x){if(x&&ue===Y)r.call(d);else return ue.call(window,c(r,d))}function G(r){r&&Me.call(window,r)}var se={__proto__:null,extend:a,create:o,bind:c,get lastId(){return f},stamp:p,throttle:v,wrapNum:b,falseFn:k,formatNum:P,trim:w,splitWords:O,setOptions:A,getParamString:I,template:U,isArray:Z,indexOf:le,emptyImageUrl:pe,requestFn:ue,cancelFn:Me,requestAnimFrame:J,cancelAnimFrame:G};function j(){}j.extend=function(r){var d=function(){A(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},x=d.__super__=this.prototype,T=o(x);T.constructor=d,d.prototype=T;for(var V in this)Object.prototype.hasOwnProperty.call(this,V)&&V!=="prototype"&&V!=="__super__"&&(d[V]=this[V]);return r.statics&&a(d,r.statics),r.includes&&(Ae(r.includes),a.apply(null,[T].concat(r.includes))),a(T,r),delete T.statics,delete T.includes,T.options&&(T.options=x.options?o(x.options):{},a(T.options,r.options)),T._initHooks=[],T.callInitHooks=function(){if(!this._initHooksCalled){x.callInitHooks&&x.callInitHooks.call(this),this._initHooksCalled=!0;for(var fe=0,We=T._initHooks.length;fe<We;fe++)T._initHooks[fe].call(this)}},d},j.include=function(r){var d=this.prototype.options;return a(this.prototype,r),r.options&&(this.prototype.options=d,this.mergeOptions(r.options)),this},j.mergeOptions=function(r){return a(this.prototype.options,r),this},j.addInitHook=function(r){var d=Array.prototype.slice.call(arguments,1),x=typeof r=="function"?r:function(){this[r].apply(this,d)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(x),this};function Ae(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=Z(r)?r:[r];for(var d=0;d<r.length;d++)r[d]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ue={on:function(r,d,x){if(typeof r=="object")for(var T in r)this._on(T,r[T],d);else{r=O(r);for(var V=0,fe=r.length;V<fe;V++)this._on(r[V],d,x)}return this},off:function(r,d,x){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var T in r)this._off(T,r[T],d);else{r=O(r);for(var V=arguments.length===1,fe=0,We=r.length;fe<We;fe++)V?this._off(r[fe]):this._off(r[fe],d,x)}return this},_on:function(r,d,x,T){if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}if(this._listens(r,d,x)===!1){x===this&&(x=void 0);var V={fn:d,ctx:x};T&&(V.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(V)}},_off:function(r,d,x){var T,V,fe;if(this._events&&(T=this._events[r],!!T)){if(arguments.length===1){if(this._firingCount)for(V=0,fe=T.length;V<fe;V++)T[V].fn=k;delete this._events[r];return}if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}var We=this._listens(r,d,x);if(We!==!1){var mt=T[We];this._firingCount&&(mt.fn=k,this._events[r]=T=T.slice()),T.splice(We,1)}}},fire:function(r,d,x){if(!this.listens(r,x))return this;var T=a({},d,{type:r,target:this,sourceTarget:d&&d.sourceTarget||this});if(this._events){var V=this._events[r];if(V){this._firingCount=this._firingCount+1||1;for(var fe=0,We=V.length;fe<We;fe++){var mt=V[fe],xt=mt.fn;mt.once&&this.off(r,xt,mt.ctx),xt.call(mt.ctx||this,T)}this._firingCount--}}return x&&this._propagateEvent(T),this},listens:function(r,d,x,T){typeof r!="string"&&console.warn('"string" type argument expected');var V=d;typeof d!="function"&&(T=!!d,V=void 0,x=void 0);var fe=this._events&&this._events[r];if(fe&&fe.length&&this._listens(r,V,x)!==!1)return!0;if(T){for(var We in this._eventParents)if(this._eventParents[We].listens(r,d,x,T))return!0}return!1},_listens:function(r,d,x){if(!this._events)return!1;var T=this._events[r]||[];if(!d)return!!T.length;x===this&&(x=void 0);for(var V=0,fe=T.length;V<fe;V++)if(T[V].fn===d&&T[V].ctx===x)return V;return!1},once:function(r,d,x){if(typeof r=="object")for(var T in r)this._on(T,r[T],d,!0);else{r=O(r);for(var V=0,fe=r.length;V<fe;V++)this._on(r[V],d,x,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[p(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[p(r)],this},_propagateEvent:function(r){for(var d in this._eventParents)this._eventParents[d].fire(r.type,a({layer:r.target,propagatedFrom:r.target},r),!0)}};Ue.addEventListener=Ue.on,Ue.removeEventListener=Ue.clearAllEventListeners=Ue.off,Ue.addOneTimeEventListener=Ue.once,Ue.fireEvent=Ue.fire,Ue.hasEventListeners=Ue.listens;var je=j.extend(Ue);function Le(r,d,x){this.x=x?Math.round(r):r,this.y=x?Math.round(d):d}var Be=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};Le.prototype={clone:function(){return new Le(this.x,this.y)},add:function(r){return this.clone()._add(Ee(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(Ee(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new Le(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new Le(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Be(this.x),this.y=Be(this.y),this},distanceTo:function(r){r=Ee(r);var d=r.x-this.x,x=r.y-this.y;return Math.sqrt(d*d+x*x)},equals:function(r){return r=Ee(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=Ee(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+P(this.x)+", "+P(this.y)+")"}};function Ee(r,d,x){return r instanceof Le?r:Z(r)?new Le(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new Le(r.x,r.y):new Le(r,d,x)}function re(r,d){if(r)for(var x=d?[r,d]:r,T=0,V=x.length;T<V;T++)this.extend(x[T])}re.prototype={extend:function(r){var d,x;if(!r)return this;if(r instanceof Le||typeof r[0]=="number"||"x"in r)d=x=Ee(r);else if(r=F(r),d=r.min,x=r.max,!d||!x)return this;return!this.min&&!this.max?(this.min=d.clone(),this.max=x.clone()):(this.min.x=Math.min(d.x,this.min.x),this.max.x=Math.max(x.x,this.max.x),this.min.y=Math.min(d.y,this.min.y),this.max.y=Math.max(x.y,this.max.y)),this},getCenter:function(r){return Ee((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return Ee(this.min.x,this.max.y)},getTopRight:function(){return Ee(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var d,x;return typeof r[0]=="number"||r instanceof Le?r=Ee(r):r=F(r),r instanceof re?(d=r.min,x=r.max):d=x=r,d.x>=this.min.x&&x.x<=this.max.x&&d.y>=this.min.y&&x.y<=this.max.y},intersects:function(r){r=F(r);var d=this.min,x=this.max,T=r.min,V=r.max,fe=V.x>=d.x&&T.x<=x.x,We=V.y>=d.y&&T.y<=x.y;return fe&&We},overlaps:function(r){r=F(r);var d=this.min,x=this.max,T=r.min,V=r.max,fe=V.x>d.x&&T.x<x.x,We=V.y>d.y&&T.y<x.y;return fe&&We},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var d=this.min,x=this.max,T=Math.abs(d.x-x.x)*r,V=Math.abs(d.y-x.y)*r;return F(Ee(d.x-T,d.y-V),Ee(x.x+T,x.y+V))},equals:function(r){return r?(r=F(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function F(r,d){return!r||r instanceof re?r:new re(r,d)}function ce(r,d){if(r)for(var x=d?[r,d]:r,T=0,V=x.length;T<V;T++)this.extend(x[T])}ce.prototype={extend:function(r){var d=this._southWest,x=this._northEast,T,V;if(r instanceof _e)T=r,V=r;else if(r instanceof ce){if(T=r._southWest,V=r._northEast,!T||!V)return this}else return r?this.extend(Te(r)||me(r)):this;return!d&&!x?(this._southWest=new _e(T.lat,T.lng),this._northEast=new _e(V.lat,V.lng)):(d.lat=Math.min(T.lat,d.lat),d.lng=Math.min(T.lng,d.lng),x.lat=Math.max(V.lat,x.lat),x.lng=Math.max(V.lng,x.lng)),this},pad:function(r){var d=this._southWest,x=this._northEast,T=Math.abs(d.lat-x.lat)*r,V=Math.abs(d.lng-x.lng)*r;return new ce(new _e(d.lat-T,d.lng-V),new _e(x.lat+T,x.lng+V))},getCenter:function(){return new _e((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new _e(this.getNorth(),this.getWest())},getSouthEast:function(){return new _e(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof _e||"lat"in r?r=Te(r):r=me(r);var d=this._southWest,x=this._northEast,T,V;return r instanceof ce?(T=r.getSouthWest(),V=r.getNorthEast()):T=V=r,T.lat>=d.lat&&V.lat<=x.lat&&T.lng>=d.lng&&V.lng<=x.lng},intersects:function(r){r=me(r);var d=this._southWest,x=this._northEast,T=r.getSouthWest(),V=r.getNorthEast(),fe=V.lat>=d.lat&&T.lat<=x.lat,We=V.lng>=d.lng&&T.lng<=x.lng;return fe&&We},overlaps:function(r){r=me(r);var d=this._southWest,x=this._northEast,T=r.getSouthWest(),V=r.getNorthEast(),fe=V.lat>d.lat&&T.lat<x.lat,We=V.lng>d.lng&&T.lng<x.lng;return fe&&We},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,d){return r?(r=me(r),this._southWest.equals(r.getSouthWest(),d)&&this._northEast.equals(r.getNorthEast(),d)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function me(r,d){return r instanceof ce?r:new ce(r,d)}function _e(r,d,x){if(isNaN(r)||isNaN(d))throw new Error("Invalid LatLng object: ("+r+", "+d+")");this.lat=+r,this.lng=+d,x!==void 0&&(this.alt=+x)}_e.prototype={equals:function(r,d){if(!r)return!1;r=Te(r);var x=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return x<=(d===void 0?1e-9:d)},toString:function(r){return"LatLng("+P(this.lat,r)+", "+P(this.lng,r)+")"},distanceTo:function(r){return $e.distance(this,Te(r))},wrap:function(){return $e.wrapLatLng(this)},toBounds:function(r){var d=180*r/40075017,x=d/Math.cos(Math.PI/180*this.lat);return me([this.lat-d,this.lng-x],[this.lat+d,this.lng+x])},clone:function(){return new _e(this.lat,this.lng,this.alt)}};function Te(r,d,x){return r instanceof _e?r:Z(r)&&typeof r[0]!="object"?r.length===3?new _e(r[0],r[1],r[2]):r.length===2?new _e(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new _e(r.lat,"lng"in r?r.lng:r.lon,r.alt):d===void 0?null:new _e(r,d,x)}var Je={latLngToPoint:function(r,d){var x=this.projection.project(r),T=this.scale(d);return this.transformation._transform(x,T)},pointToLatLng:function(r,d){var x=this.scale(d),T=this.transformation.untransform(r,x);return this.projection.unproject(T)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var d=this.projection.bounds,x=this.scale(r),T=this.transformation.transform(d.min,x),V=this.transformation.transform(d.max,x);return new re(T,V)},infinite:!1,wrapLatLng:function(r){var d=this.wrapLng?b(r.lng,this.wrapLng,!0):r.lng,x=this.wrapLat?b(r.lat,this.wrapLat,!0):r.lat,T=r.alt;return new _e(x,d,T)},wrapLatLngBounds:function(r){var d=r.getCenter(),x=this.wrapLatLng(d),T=d.lat-x.lat,V=d.lng-x.lng;if(T===0&&V===0)return r;var fe=r.getSouthWest(),We=r.getNorthEast(),mt=new _e(fe.lat-T,fe.lng-V),xt=new _e(We.lat-T,We.lng-V);return new ce(mt,xt)}},$e=a({},Je,{wrapLng:[-180,180],R:6371e3,distance:function(r,d){var x=Math.PI/180,T=r.lat*x,V=d.lat*x,fe=Math.sin((d.lat-r.lat)*x/2),We=Math.sin((d.lng-r.lng)*x/2),mt=fe*fe+Math.cos(T)*Math.cos(V)*We*We,xt=2*Math.atan2(Math.sqrt(mt),Math.sqrt(1-mt));return this.R*xt}}),Xe=6378137,Nt={R:Xe,MAX_LATITUDE:85.0511287798,project:function(r){var d=Math.PI/180,x=this.MAX_LATITUDE,T=Math.max(Math.min(x,r.lat),-x),V=Math.sin(T*d);return new Le(this.R*r.lng*d,this.R*Math.log((1+V)/(1-V))/2)},unproject:function(r){var d=180/Math.PI;return new _e((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*d,r.x*d/this.R)},bounds:(function(){var r=Xe*Math.PI;return new re([-r,-r],[r,r])})()};function Ot(r,d,x,T){if(Z(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=d,this._c=x,this._d=T}Ot.prototype={transform:function(r,d){return this._transform(r.clone(),d)},_transform:function(r,d){return d=d||1,r.x=d*(this._a*r.x+this._b),r.y=d*(this._c*r.y+this._d),r},untransform:function(r,d){return d=d||1,new Le((r.x/d-this._b)/this._a,(r.y/d-this._d)/this._c)}};function Gt(r,d,x,T){return new Ot(r,d,x,T)}var qt=a({},$e,{code:"EPSG:3857",projection:Nt,transformation:(function(){var r=.5/(Math.PI*Nt.R);return Gt(r,.5,-r,.5)})()}),K=a({},qt,{code:"EPSG:900913"});function Fe(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function he(r,d){var x="",T,V,fe,We,mt,xt;for(T=0,fe=r.length;T<fe;T++){for(mt=r[T],V=0,We=mt.length;V<We;V++)xt=mt[V],x+=(V?"L":"M")+xt.x+" "+xt.y;x+=d?Kt.svg?"z":"x":""}return x||"M0 0"}var Pe=document.documentElement.style,be="ActiveXObject"in window,Oe=be&&!document.addEventListener,st="msLaunchUri"in navigator&&!("documentMode"in document),ct=Vn("webkit"),Ge=Vn("android"),Lt=Vn("android 2")||Vn("android 3"),It=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Bt=Ge&&Vn("Google")&&It<537&&!("AudioNode"in window),Ut=!!window.opera,an=!st&&Vn("chrome"),tn=Vn("gecko")&&!ct&&!Ut&&!be,on=!an&&Vn("safari"),wn=Vn("phantom"),$t="OTransition"in Pe,ur=navigator.platform.indexOf("Win")===0,hn=be&&"transition"in Pe,Dr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Lt,zn="MozPerspective"in Pe,Fn=!window.L_DISABLE_3D&&(hn||Dr||zn)&&!$t&&!wn,Ar=typeof orientation<"u"||Vn("mobile"),Wn=Ar&&ct,Ps=Ar&&Dr,ar=!window.PointerEvent&&window.MSPointerEvent,Ir=!!(window.PointerEvent||ar),Mr="ontouchstart"in window||!!window.TouchEvent,or=!window.L_NO_TOUCH&&(Mr||Ir),En=Ar&&Ut,Yn=Ar&&tn,ma=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Zr=(function(){var r=!1;try{var d=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",k,d),window.removeEventListener("testPassiveEventSupport",k,d)}catch{}return r})(),hs=(function(){return!!document.createElement("canvas").getContext})(),Zi=!!(document.createElementNS&&Fe("svg").createSVGRect),dn=!!Zi&&(function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Ki=!Zi&&(function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var d=r.firstChild;return d.style.behavior="url(#default#VML)",d&&typeof d.adj=="object"}catch{return!1}})(),Ii=navigator.platform.indexOf("Mac")===0,Ri=navigator.platform.indexOf("Linux")===0;function Vn(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var Kt={ie:be,ielt9:Oe,edge:st,webkit:ct,android:Ge,android23:Lt,androidStock:Bt,opera:Ut,chrome:an,gecko:tn,safari:on,phantom:wn,opera12:$t,win:ur,ie3d:hn,webkit3d:Dr,gecko3d:zn,any3d:Fn,mobile:Ar,mobileWebkit:Wn,mobileWebkit3d:Ps,msPointer:ar,pointer:Ir,touch:or,touchNative:Mr,mobileOpera:En,mobileGecko:Yn,retina:ma,passiveEvents:Zr,canvas:hs,svg:Zi,vml:Ki,inlineSvg:dn,mac:Ii,linux:Ri},ii=Kt.msPointer?"MSPointerDown":"pointerdown",ga=Kt.msPointer?"MSPointerMove":"pointermove",As=Kt.msPointer?"MSPointerUp":"pointerup",fs=Kt.msPointer?"MSPointerCancel":"pointercancel",Ji={touchstart:ii,touchmove:ga,touchend:As,touchcancel:fs},Kr={touchstart:wr,touchmove:eo,touchend:eo,touchcancel:eo},gi={},ji=!1;function qs(r,d,x){return d==="touchstart"&&Ba(),Kr[d]?(x=Kr[d].bind(this,x),r.addEventListener(Ji[d],x,!1),x):(console.warn("wrong event specified:",d),k)}function Ma(r,d,x){if(!Ji[d]){console.warn("wrong event specified:",d);return}r.removeEventListener(Ji[d],x,!1)}function Xa(r){gi[r.pointerId]=r}function Qa(r){gi[r.pointerId]&&(gi[r.pointerId]=r)}function Gs(r){delete gi[r.pointerId]}function Ba(){ji||(document.addEventListener(ii,Xa,!0),document.addEventListener(ga,Qa,!0),document.addEventListener(As,Gs,!0),document.addEventListener(fs,Gs,!0),ji=!0)}function eo(r,d){if(d.pointerType!==(d.MSPOINTER_TYPE_MOUSE||"mouse")){d.touches=[];for(var x in gi)d.touches.push(gi[x]);d.changedTouches=[d],r(d)}}function wr(r,d){d.MSPOINTER_TYPE_TOUCH&&d.pointerType===d.MSPOINTER_TYPE_TOUCH&&gr(d),eo(r,d)}function wl(r){var d={},x,T;for(T in r)x=r[T],d[T]=x&&x.bind?x.bind(r):x;return r=d,d.type="dblclick",d.detail=2,d.isTrusted=!1,d._simulated=!0,d}var Na=200;function Io(r,d){r.addEventListener("dblclick",d);var x=0,T;function V(fe){if(fe.detail!==1){T=fe.detail;return}if(!(fe.pointerType==="mouse"||fe.sourceCapabilities&&!fe.sourceCapabilities.firesTouchEvents)){var We=zi(fe);if(!(We.some(function(xt){return xt instanceof HTMLLabelElement&&xt.attributes.for})&&!We.some(function(xt){return xt instanceof HTMLInputElement||xt instanceof HTMLSelectElement}))){var mt=Date.now();mt-x<=Na?(T++,T===2&&d(wl(fe))):T=1,x=mt}}}return r.addEventListener("click",V),{dblclick:d,simDblclick:V}}function _o(r,d){r.removeEventListener("dblclick",d.dblclick),r.removeEventListener("click",d.simDblclick)}var to=Ra(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ta=Ra(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Oa=Ta==="webkitTransition"||Ta==="OTransition"?Ta+"End":"transitionend";function Yi(r){return typeof r=="string"?document.getElementById(r):r}function Xi(r,d){var x=r.style[d]||r.currentStyle&&r.currentStyle[d];if((!x||x==="auto")&&document.defaultView){var T=document.defaultView.getComputedStyle(r,null);x=T?T[d]:null}return x==="auto"?null:x}function An(r,d,x){var T=document.createElement(r);return T.className=d||"",x&&x.appendChild(T),T}function Mn(r){var d=r.parentNode;d&&d.removeChild(r)}function Da(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function _a(r){var d=r.parentNode;d&&d.lastChild!==r&&d.appendChild(r)}function Qi(r){var d=r.parentNode;d&&d.firstChild!==r&&d.insertBefore(r,d.firstChild)}function Hs(r,d){if(r.classList!==void 0)return r.classList.contains(d);var x=si(r);return x.length>0&&new RegExp("(^|\\s)"+d+"(\\s|$)").test(x)}function Ln(r,d){if(r.classList!==void 0)for(var x=O(d),T=0,V=x.length;T<V;T++)r.classList.add(x[T]);else if(!Hs(r,d)){var fe=si(r);Ia(r,(fe?fe+" ":"")+d)}}function $n(r,d){r.classList!==void 0?r.classList.remove(d):Ia(r,w((" "+si(r)+" ").replace(" "+d+" "," ")))}function Ia(r,d){r.className.baseVal===void 0?r.className=d:r.className.baseVal=d}function si(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function Jr(r,d){"opacity"in r.style?r.style.opacity=d:"filter"in r.style&&Ro(r,d)}function Ro(r,d){var x=!1,T="DXImageTransform.Microsoft.Alpha";try{x=r.filters.item(T)}catch{if(d===1)return}d=Math.round(d*100),x?(x.Enabled=d!==100,x.Opacity=d):r.style.filter+=" progid:"+T+"(opacity="+d+")"}function Ra(r){for(var d=document.documentElement.style,x=0;x<r.length;x++)if(r[x]in d)return r[x];return!1}function Fi(r,d,x){var T=d||new Le(0,0);r.style[to]=(Kt.ie3d?"translate("+T.x+"px,"+T.y+"px)":"translate3d("+T.x+"px,"+T.y+"px,0)")+(x?" scale("+x+")":"")}function kr(r,d){r._leaflet_pos=d,Kt.any3d?Fi(r,d):(r.style.left=d.x+"px",r.style.top=d.y+"px")}function ds(r){return r._leaflet_pos||new Le(0,0)}var Gn,Ws,vo;if("onselectstart"in document)Gn=function(){xn(window,"selectstart",gr)},Ws=function(){Hn(window,"selectstart",gr)};else{var $s=Ra(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Gn=function(){if($s){var r=document.documentElement.style;vo=r[$s],r[$s]="none"}},Ws=function(){$s&&(document.documentElement.style[$s]=vo,vo=void 0)}}function yo(){xn(window,"dragstart",gr)}function ps(){Hn(window,"dragstart",gr)}var Vs,Zs;function va(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(dr(),Vs=r,Zs=r.style.outlineStyle,r.style.outlineStyle="none",xn(window,"keydown",dr))}function dr(){Vs&&(Vs.style.outlineStyle=Zs,Vs=void 0,Zs=void 0,Hn(window,"keydown",dr))}function Ms(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function es(r){var d=r.getBoundingClientRect();return{x:d.width/r.offsetWidth||1,y:d.height/r.offsetHeight||1,boundingClientRect:d}}var bn={__proto__:null,TRANSFORM:to,TRANSITION:Ta,TRANSITION_END:Oa,get:Yi,getStyle:Xi,create:An,remove:Mn,empty:Da,toFront:_a,toBack:Qi,hasClass:Hs,addClass:Ln,removeClass:$n,setClass:Ia,getClass:si,setOpacity:Jr,testProp:Ra,setTransform:Fi,setPosition:kr,getPosition:ds,get disableTextSelection(){return Gn},get enableTextSelection(){return Ws},disableImageDrag:yo,enableImageDrag:ps,preventOutline:va,restoreOutline:dr,getSizedParentNode:Ms,getScale:es};function xn(r,d,x,T){if(d&&typeof d=="object")for(var V in d)ja(r,V,d[V],x);else{d=O(d);for(var fe=0,We=d.length;fe<We;fe++)ja(r,d[fe],x,T)}return this}var zr="_leaflet_events";function Hn(r,d,x,T){if(arguments.length===1)wo(r),delete r[zr];else if(d&&typeof d=="object")for(var V in d)ts(r,V,d[V],x);else if(d=O(d),arguments.length===2)wo(r,function(mt){return le(d,mt)!==-1});else for(var fe=0,We=d.length;fe<We;fe++)ts(r,d[fe],x,T);return this}function wo(r,d){for(var x in r[zr]){var T=x.split(/\d/)[0];(!d||d(T))&&ts(r,T,null,null,x)}}var Ks={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ja(r,d,x,T){var V=d+p(x)+(T?"_"+p(T):"");if(r[zr]&&r[zr][V])return this;var fe=function(mt){return x.call(T||r,mt||window.event)},We=fe;!Kt.touchNative&&Kt.pointer&&d.indexOf("touch")===0?fe=qs(r,d,fe):Kt.touch&&d==="dblclick"?fe=Io(r,fe):"addEventListener"in r?d==="touchstart"||d==="touchmove"||d==="wheel"||d==="mousewheel"?r.addEventListener(Ks[d]||d,fe,Kt.passiveEvents?{passive:!1}:!1):d==="mouseenter"||d==="mouseleave"?(fe=function(mt){mt=mt||window.event,Js(r,mt)&&We(mt)},r.addEventListener(Ks[d],fe,!1)):r.addEventListener(d,We,!1):r.attachEvent("on"+d,fe),r[zr]=r[zr]||{},r[zr][V]=fe}function ts(r,d,x,T,V){V=V||d+p(x)+(T?"_"+p(T):"");var fe=r[zr]&&r[zr][V];if(!fe)return this;!Kt.touchNative&&Kt.pointer&&d.indexOf("touch")===0?Ma(r,d,fe):Kt.touch&&d==="dblclick"?_o(r,fe):"removeEventListener"in r?r.removeEventListener(Ks[d]||d,fe,!1):r.detachEvent("on"+d,fe),r[zr][V]=null}function ms(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function bo(r){return ja(r,"wheel",ms),this}function no(r){return xn(r,"mousedown touchstart dblclick contextmenu",ms),r._leaflet_disable_click=!0,this}function gr(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function ai(r){return gr(r),ms(r),this}function zi(r){if(r.composedPath)return r.composedPath();for(var d=[],x=r.target;x;)d.push(x),x=x.parentNode;return d}function ro(r,d){if(!d)return new Le(r.clientX,r.clientY);var x=es(d),T=x.boundingClientRect;return new Le((r.clientX-T.left)/x.x-d.clientLeft,(r.clientY-T.top)/x.y-d.clientTop)}var io=Kt.linux&&Kt.chrome?window.devicePixelRatio:Kt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function xo(r){return Kt.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/io:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function Js(r,d){var x=d.relatedTarget;if(!x)return!0;try{for(;x&&x!==r;)x=x.parentNode}catch{return!1}return x!==r}var Ys={__proto__:null,on:xn,off:Hn,stopPropagation:ms,disableScrollPropagation:bo,disableClickPropagation:no,preventDefault:gr,stop:ai,getPropagationPath:zi,getMousePosition:ro,getWheelDelta:xo,isExternalTarget:Js,addListener:xn,removeListener:Hn},so=je.extend({run:function(r,d,x,T){this.stop(),this._el=r,this._inProgress=!0,this._duration=x||.25,this._easeOutPower=1/Math.max(T||.5,.2),this._startPos=ds(r),this._offset=d.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=J(this._animate,this),this._step()},_step:function(r){var d=+new Date-this._startTime,x=this._duration*1e3;d<x?this._runFrame(this._easeOut(d/x),r):(this._runFrame(1),this._complete())},_runFrame:function(r,d){var x=this._startPos.add(this._offset.multiplyBy(r));d&&x._round(),kr(this._el,x),this.fire("step")},_complete:function(){G(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),In=je.extend({options:{crs:qt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,d){d=A(this,d),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),d.maxBounds&&this.setMaxBounds(d.maxBounds),d.zoom!==void 0&&(this._zoom=this._limitZoom(d.zoom)),d.center&&d.zoom!==void 0&&this.setView(Te(d.center),d.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ta&&Kt.any3d&&!Kt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),xn(this._proxy,Oa,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,d,x){if(d=d===void 0?this._zoom:this._limitZoom(d),r=this._limitCenter(Te(r),d,this.options.maxBounds),x=x||{},this._stop(),this._loaded&&!x.reset&&x!==!0){x.animate!==void 0&&(x.zoom=a({animate:x.animate},x.zoom),x.pan=a({animate:x.animate,duration:x.duration},x.pan));var T=this._zoom!==d?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,d,x.zoom):this._tryAnimatedPan(r,x.pan);if(T)return clearTimeout(this._sizeTimer),this}return this._resetView(r,d,x.pan&&x.pan.noMoveStart),this},setZoom:function(r,d){return this._loaded?this.setView(this.getCenter(),r,{zoom:d}):(this._zoom=r,this)},zoomIn:function(r,d){return r=r||(Kt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,d)},zoomOut:function(r,d){return r=r||(Kt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,d)},setZoomAround:function(r,d,x){var T=this.getZoomScale(d),V=this.getSize().divideBy(2),fe=r instanceof Le?r:this.latLngToContainerPoint(r),We=fe.subtract(V).multiplyBy(1-1/T),mt=this.containerPointToLatLng(V.add(We));return this.setView(mt,d,{zoom:x})},_getBoundsCenterZoom:function(r,d){d=d||{},r=r.getBounds?r.getBounds():me(r);var x=Ee(d.paddingTopLeft||d.padding||[0,0]),T=Ee(d.paddingBottomRight||d.padding||[0,0]),V=this.getBoundsZoom(r,!1,x.add(T));if(V=typeof d.maxZoom=="number"?Math.min(d.maxZoom,V):V,V===1/0)return{center:r.getCenter(),zoom:V};var fe=T.subtract(x).divideBy(2),We=this.project(r.getSouthWest(),V),mt=this.project(r.getNorthEast(),V),xt=this.unproject(We.add(mt).divideBy(2).add(fe),V);return{center:xt,zoom:V}},fitBounds:function(r,d){if(r=me(r),!r.isValid())throw new Error("Bounds are not valid.");var x=this._getBoundsCenterZoom(r,d);return this.setView(x.center,x.zoom,d)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,d){return this.setView(r,this._zoom,{pan:d})},panBy:function(r,d){if(r=Ee(r).round(),d=d||{},!r.x&&!r.y)return this.fire("moveend");if(d.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new so,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),d.noMoveStart||this.fire("movestart"),d.animate!==!1){Ln(this._mapPane,"leaflet-pan-anim");var x=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,x,d.duration||.25,d.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,d,x){if(x=x||{},x.animate===!1||!Kt.any3d)return this.setView(r,d,x);this._stop();var T=this.project(this.getCenter()),V=this.project(r),fe=this.getSize(),We=this._zoom;r=Te(r),d=d===void 0?We:d;var mt=Math.max(fe.x,fe.y),xt=mt*this.getZoomScale(We,d),Rt=V.distanceTo(T)||1,Yt=1.42,pn=Yt*Yt;function On(Un){var ni=Un?-1:1,tu=Un?xt:mt,aa=xt*xt-mt*mt+ni*pn*pn*Rt*Rt,Wa=2*tu*pn*Rt,Fs=aa/Wa,La=Math.sqrt(Fs*Fs+1)-Fs,Ho=La<1e-9?-18:Math.log(La);return Ho}function di(Un){return(Math.exp(Un)-Math.exp(-Un))/2}function Wr(Un){return(Math.exp(Un)+Math.exp(-Un))/2}function Pi(Un){return di(Un)/Wr(Un)}var Pr=On(0);function ia(Un){return mt*(Wr(Pr)/Wr(Pr+Yt*Un))}function Go(Un){return mt*(Wr(Pr)*Pi(Pr+Yt*Un)-di(Pr))/pn}function ei(Un){return 1-Math.pow(1-Un,1.5)}var os=Date.now(),ti=(On(1)-Pr)/Yt,sa=x.duration?1e3*x.duration:1e3*ti*.8;function co(){var Un=(Date.now()-os)/sa,ni=ei(Un)*ti;Un<=1?(this._flyToFrame=J(co,this),this._move(this.unproject(T.add(V.subtract(T).multiplyBy(Go(ni)/Rt)),We),this.getScaleZoom(mt/ia(ni),We),{flyTo:!0})):this._move(r,d)._moveEnd(!0)}return this._moveStart(!0,x.noMoveStart),co.call(this),this},flyToBounds:function(r,d){var x=this._getBoundsCenterZoom(r,d);return this.flyTo(x.center,x.zoom,d)},setMaxBounds:function(r){return r=me(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var d=this.options.minZoom;return this.options.minZoom=r,this._loaded&&d!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var d=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&d!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,d){this._enforcingBounds=!0;var x=this.getCenter(),T=this._limitCenter(x,this._zoom,me(r));return x.equals(T)||this.panTo(T,d),this._enforcingBounds=!1,this},panInside:function(r,d){d=d||{};var x=Ee(d.paddingTopLeft||d.padding||[0,0]),T=Ee(d.paddingBottomRight||d.padding||[0,0]),V=this.project(this.getCenter()),fe=this.project(r),We=this.getPixelBounds(),mt=F([We.min.add(x),We.max.subtract(T)]),xt=mt.getSize();if(!mt.contains(fe)){this._enforcingBounds=!0;var Rt=fe.subtract(mt.getCenter()),Yt=mt.extend(fe).getSize().subtract(xt);V.x+=Rt.x<0?-Yt.x:Yt.x,V.y+=Rt.y<0?-Yt.y:Yt.y,this.panTo(this.unproject(V),d),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=a({animate:!1,pan:!0},r===!0?{animate:!0}:r);var d=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var x=this.getSize(),T=d.divideBy(2).round(),V=x.divideBy(2).round(),fe=T.subtract(V);return!fe.x&&!fe.y?this:(r.animate&&r.pan?this.panBy(fe):(r.pan&&this._rawPanBy(fe),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:d,newSize:x}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=a({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var d=c(this._handleGeolocationResponse,this),x=c(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(d,x,r):navigator.geolocation.getCurrentPosition(d,x,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var d=r.code,x=r.message||(d===1?"permission denied":d===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:d,message:"Geolocation error: "+x+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var d=r.coords.latitude,x=r.coords.longitude,T=new _e(d,x),V=T.toBounds(r.coords.accuracy*2),fe=this._locateOptions;if(fe.setView){var We=this.getBoundsZoom(V);this.setView(T,fe.maxZoom?Math.min(We,fe.maxZoom):We)}var mt={latlng:T,bounds:V,timestamp:r.timestamp};for(var xt in r.coords)typeof r.coords[xt]=="number"&&(mt[xt]=r.coords[xt]);this.fire("locationfound",mt)}},addHandler:function(r,d){if(!d)return this;var x=this[r]=new d(this);return this._handlers.push(x),this.options[r]&&x.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Mn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(G(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)Mn(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,d){var x="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),T=An("div",x,d||this._mapPane);return r&&(this._panes[r]=T),T},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),d=this.unproject(r.getBottomLeft()),x=this.unproject(r.getTopRight());return new ce(d,x)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,d,x){r=me(r),x=Ee(x||[0,0]);var T=this.getZoom()||0,V=this.getMinZoom(),fe=this.getMaxZoom(),We=r.getNorthWest(),mt=r.getSouthEast(),xt=this.getSize().subtract(x),Rt=F(this.project(mt,T),this.project(We,T)).getSize(),Yt=Kt.any3d?this.options.zoomSnap:1,pn=xt.x/Rt.x,On=xt.y/Rt.y,di=d?Math.max(pn,On):Math.min(pn,On);return T=this.getScaleZoom(di,T),Yt&&(T=Math.round(T/(Yt/100))*(Yt/100),T=d?Math.ceil(T/Yt)*Yt:Math.floor(T/Yt)*Yt),Math.max(V,Math.min(fe,T))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Le(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,d){var x=this._getTopLeftPoint(r,d);return new re(x,x.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,d){var x=this.options.crs;return d=d===void 0?this._zoom:d,x.scale(r)/x.scale(d)},getScaleZoom:function(r,d){var x=this.options.crs;d=d===void 0?this._zoom:d;var T=x.zoom(r*x.scale(d));return isNaN(T)?1/0:T},project:function(r,d){return d=d===void 0?this._zoom:d,this.options.crs.latLngToPoint(Te(r),d)},unproject:function(r,d){return d=d===void 0?this._zoom:d,this.options.crs.pointToLatLng(Ee(r),d)},layerPointToLatLng:function(r){var d=Ee(r).add(this.getPixelOrigin());return this.unproject(d)},latLngToLayerPoint:function(r){var d=this.project(Te(r))._round();return d._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(Te(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(me(r))},distance:function(r,d){return this.options.crs.distance(Te(r),Te(d))},containerPointToLayerPoint:function(r){return Ee(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return Ee(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var d=this.containerPointToLayerPoint(Ee(r));return this.layerPointToLatLng(d)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Te(r)))},mouseEventToContainerPoint:function(r){return ro(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var d=this._container=Yi(r);if(d){if(d._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");xn(d,"scroll",this._onScroll,this),this._containerId=p(d)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&Kt.any3d,Ln(r,"leaflet-container"+(Kt.touch?" leaflet-touch":"")+(Kt.retina?" leaflet-retina":"")+(Kt.ielt9?" leaflet-oldie":"")+(Kt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var d=Xi(r,"position");d!=="absolute"&&d!=="relative"&&d!=="fixed"&&d!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),kr(this._mapPane,new Le(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ln(r.markerPane,"leaflet-zoom-hide"),Ln(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,d,x){kr(this._mapPane,new Le(0,0));var T=!this._loaded;this._loaded=!0,d=this._limitZoom(d),this.fire("viewprereset");var V=this._zoom!==d;this._moveStart(V,x)._move(r,d)._moveEnd(V),this.fire("viewreset"),T&&this.fire("load")},_moveStart:function(r,d){return r&&this.fire("zoomstart"),d||this.fire("movestart"),this},_move:function(r,d,x,T){d===void 0&&(d=this._zoom);var V=this._zoom!==d;return this._zoom=d,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),T?x&&x.pinch&&this.fire("zoom",x):((V||x&&x.pinch)&&this.fire("zoom",x),this.fire("move",x)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return G(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){kr(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[p(this._container)]=this;var d=r?Hn:xn;d(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&d(window,"resize",this._onResize,this),Kt.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){G(this._resizeRequest),this._resizeRequest=J(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,d){for(var x=[],T,V=d==="mouseout"||d==="mouseover",fe=r.target||r.srcElement,We=!1;fe;){if(T=this._targets[p(fe)],T&&(d==="click"||d==="preclick")&&this._draggableMoved(T)){We=!0;break}if(T&&T.listens(d,!0)&&(V&&!Js(fe,r)||(x.push(T),V))||fe===this._container)break;fe=fe.parentNode}return!x.length&&!We&&!V&&this.listens(d,!0)&&(x=[this]),x},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var d=r.target||r.srcElement;if(!(!this._loaded||d._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(d))){var x=r.type;x==="mousedown"&&va(d),this._fireDOMEvent(r,x)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,d,x){if(r.type==="click"){var T=a({},r);T.type="preclick",this._fireDOMEvent(T,T.type,x)}var V=this._findEventTargets(r,d);if(x){for(var fe=[],We=0;We<x.length;We++)x[We].listens(d,!0)&&fe.push(x[We]);V=fe.concat(V)}if(V.length){d==="contextmenu"&&gr(r);var mt=V[0],xt={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var Rt=mt.getLatLng&&(!mt._radius||mt._radius<=10);xt.containerPoint=Rt?this.latLngToContainerPoint(mt.getLatLng()):this.mouseEventToContainerPoint(r),xt.layerPoint=this.containerPointToLayerPoint(xt.containerPoint),xt.latlng=Rt?mt.getLatLng():this.layerPointToLatLng(xt.layerPoint)}for(We=0;We<V.length;We++)if(V[We].fire(d,xt,!0),xt.originalEvent._stopped||V[We].options.bubblingMouseEvents===!1&&le(this._mouseEvents,d)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,d=this._handlers.length;r<d;r++)this._handlers[r].disable()},whenReady:function(r,d){return this._loaded?r.call(d||this,{target:this}):this.on("load",r,d),this},_getMapPanePos:function(){return ds(this._mapPane)||new Le(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,d){var x=r&&d!==void 0?this._getNewPixelOrigin(r,d):this.getPixelOrigin();return x.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,d){var x=this.getSize()._divideBy(2);return this.project(r,d)._subtract(x)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,d,x){var T=this._getNewPixelOrigin(x,d);return this.project(r,d)._subtract(T)},_latLngBoundsToNewLayerBounds:function(r,d,x){var T=this._getNewPixelOrigin(x,d);return F([this.project(r.getSouthWest(),d)._subtract(T),this.project(r.getNorthWest(),d)._subtract(T),this.project(r.getSouthEast(),d)._subtract(T),this.project(r.getNorthEast(),d)._subtract(T)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,d,x){if(!x)return r;var T=this.project(r,d),V=this.getSize().divideBy(2),fe=new re(T.subtract(V),T.add(V)),We=this._getBoundsOffset(fe,x,d);return Math.abs(We.x)<=1&&Math.abs(We.y)<=1?r:this.unproject(T.add(We),d)},_limitOffset:function(r,d){if(!d)return r;var x=this.getPixelBounds(),T=new re(x.min.add(r),x.max.add(r));return r.add(this._getBoundsOffset(T,d))},_getBoundsOffset:function(r,d,x){var T=F(this.project(d.getNorthEast(),x),this.project(d.getSouthWest(),x)),V=T.min.subtract(r.min),fe=T.max.subtract(r.max),We=this._rebound(V.x,-fe.x),mt=this._rebound(V.y,-fe.y);return new Le(We,mt)},_rebound:function(r,d){return r+d>0?Math.round(r-d)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(d))},_limitZoom:function(r){var d=this.getMinZoom(),x=this.getMaxZoom(),T=Kt.any3d?this.options.zoomSnap:1;return T&&(r=Math.round(r/T)*T),Math.max(d,Math.min(x,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){$n(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,d){var x=this._getCenterOffset(r)._trunc();return(d&&d.animate)!==!0&&!this.getSize().contains(x)?!1:(this.panBy(x,d),!0)},_createAnimProxy:function(){var r=this._proxy=An("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(d){var x=to,T=this._proxy.style[x];Fi(this._proxy,this.project(d.center,d.zoom),this.getZoomScale(d.zoom,1)),T===this._proxy.style[x]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Mn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),d=this.getZoom();Fi(this._proxy,this.project(r,d),this.getZoomScale(d,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,d,x){if(this._animatingZoom)return!0;if(x=x||{},!this._zoomAnimated||x.animate===!1||this._nothingToAnimate()||Math.abs(d-this._zoom)>this.options.zoomAnimationThreshold)return!1;var T=this.getZoomScale(d),V=this._getCenterOffset(r)._divideBy(1-1/T);return x.animate!==!0&&!this.getSize().contains(V)?!1:(J(function(){this._moveStart(!0,x.noMoveStart||!1)._animateZoom(r,d,!0)},this),!0)},_animateZoom:function(r,d,x,T){this._mapPane&&(x&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=d,Ln(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:d,noUpdate:T}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&$n(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function gs(r,d){return new In(r,d)}var gn=j.extend({options:{position:"topright"},initialize:function(r){A(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var d=this._map;return d&&d.removeControl(this),this.options.position=r,d&&d.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var d=this._container=this.onAdd(r),x=this.getPosition(),T=r._controlCorners[x];return Ln(d,"leaflet-control"),x.indexOf("bottom")!==-1?T.insertBefore(d,T.firstChild):T.appendChild(d),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Mn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),Yr=function(r){return new gn(r)};In.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},d="leaflet-",x=this._controlContainer=An("div",d+"control-container",this._container);function T(V,fe){var We=d+V+" "+d+fe;r[V+fe]=An("div",We,x)}T("top","left"),T("top","right"),T("bottom","left"),T("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)Mn(this._controlCorners[r]);Mn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Fa=gn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,d,x,T){return x<T?-1:T<x?1:0}},initialize:function(r,d,x){A(this,x),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var T in r)this._addLayer(r[T],T);for(T in d)this._addLayer(d[T],T,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return gn.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,d){return this._addLayer(r,d),this._map?this._update():this},addOverlay:function(r,d){return this._addLayer(r,d,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var d=this._getLayer(p(r));return d&&this._layers.splice(this._layers.indexOf(d),1),this._map?this._update():this},expand:function(){Ln(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(Ln(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):$n(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return $n(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",d=this._container=An("div",r),x=this.options.collapsed;d.setAttribute("aria-haspopup",!0),no(d),bo(d);var T=this._section=An("section",r+"-list");x&&(this._map.on("click",this.collapse,this),xn(d,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var V=this._layersLink=An("a",r+"-toggle",d);V.href="#",V.title="Layers",V.setAttribute("role","button"),xn(V,{keydown:function(fe){fe.keyCode===13&&this._expandSafely()},click:function(fe){gr(fe),this._expandSafely()}},this),x||this.expand(),this._baseLayersList=An("div",r+"-base",T),this._separator=An("div",r+"-separator",T),this._overlaysList=An("div",r+"-overlays",T),d.appendChild(T)},_getLayer:function(r){for(var d=0;d<this._layers.length;d++)if(this._layers[d]&&p(this._layers[d].layer)===r)return this._layers[d]},_addLayer:function(r,d,x){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:d,overlay:x}),this.options.sortLayers&&this._layers.sort(c(function(T,V){return this.options.sortFunction(T.layer,V.layer,T.name,V.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Da(this._baseLayersList),Da(this._overlaysList),this._layerControlInputs=[];var r,d,x,T,V=0;for(x=0;x<this._layers.length;x++)T=this._layers[x],this._addItem(T),d=d||T.overlay,r=r||!T.overlay,V+=T.overlay?0:1;return this.options.hideSingleBase&&(r=r&&V>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=d&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var d=this._getLayer(p(r.target)),x=d.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;x&&this._map.fire(x,d)},_createRadioElement:function(r,d){var x='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(d?' checked="checked"':"")+"/>",T=document.createElement("div");return T.innerHTML=x,T.firstChild},_addItem:function(r){var d=document.createElement("label"),x=this._map.hasLayer(r.layer),T;r.overlay?(T=document.createElement("input"),T.type="checkbox",T.className="leaflet-control-layers-selector",T.defaultChecked=x):T=this._createRadioElement("leaflet-base-layers_"+p(this),x),this._layerControlInputs.push(T),T.layerId=p(r.layer),xn(T,"click",this._onInputClick,this);var V=document.createElement("span");V.innerHTML=" "+r.name;var fe=document.createElement("span");d.appendChild(fe),fe.appendChild(T),fe.appendChild(V);var We=r.overlay?this._overlaysList:this._baseLayersList;return We.appendChild(d),this._checkDisabledLayers(),d},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,d,x,T=[],V=[];this._handlingClick=!0;for(var fe=r.length-1;fe>=0;fe--)d=r[fe],x=this._getLayer(d.layerId).layer,d.checked?T.push(x):d.checked||V.push(x);for(fe=0;fe<V.length;fe++)this._map.hasLayer(V[fe])&&this._map.removeLayer(V[fe]);for(fe=0;fe<T.length;fe++)this._map.hasLayer(T[fe])||this._map.addLayer(T[fe]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,d,x,T=this._map.getZoom(),V=r.length-1;V>=0;V--)d=r[V],x=this._getLayer(d.layerId).layer,d.disabled=x.options.minZoom!==void 0&&T<x.options.minZoom||x.options.maxZoom!==void 0&&T>x.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,xn(r,"click",gr),this.expand();var d=this;setTimeout(function(){Hn(r,"click",gr),d._preventClick=!1})}}),Bs=function(r,d,x){return new Fa(r,d,x)},oi=gn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var d="leaflet-control-zoom",x=An("div",d+" leaflet-bar"),T=this.options;return this._zoomInButton=this._createButton(T.zoomInText,T.zoomInTitle,d+"-in",x,this._zoomIn),this._zoomOutButton=this._createButton(T.zoomOutText,T.zoomOutTitle,d+"-out",x,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),x},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,d,x,T,V){var fe=An("a",x,T);return fe.innerHTML=r,fe.href="#",fe.title=d,fe.setAttribute("role","button"),fe.setAttribute("aria-label",d),no(fe),xn(fe,"click",ai),xn(fe,"click",V,this),xn(fe,"click",this._refocusOnMap,this),fe},_updateDisabled:function(){var r=this._map,d="leaflet-disabled";$n(this._zoomInButton,d),$n(this._zoomOutButton,d),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(Ln(this._zoomOutButton,d),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(Ln(this._zoomInButton,d),this._zoomInButton.setAttribute("aria-disabled","true"))}});In.mergeOptions({zoomControl:!0}),In.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new oi,this.addControl(this.zoomControl))});var Lo=function(r){return new oi(r)},Cr=gn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var d="leaflet-control-scale",x=An("div",d),T=this.options;return this._addScales(T,d+"-line",x),r.on(T.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),x},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,d,x){r.metric&&(this._mScale=An("div",d,x)),r.imperial&&(this._iScale=An("div",d,x))},_update:function(){var r=this._map,d=r.getSize().y/2,x=r.distance(r.containerPointToLatLng([0,d]),r.containerPointToLatLng([this.options.maxWidth,d]));this._updateScales(x)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var d=this._getRoundNum(r),x=d<1e3?d+" m":d/1e3+" km";this._updateScale(this._mScale,x,d/r)},_updateImperial:function(r){var d=r*3.2808399,x,T,V;d>5280?(x=d/5280,T=this._getRoundNum(x),this._updateScale(this._iScale,T+" mi",T/x)):(V=this._getRoundNum(d),this._updateScale(this._iScale,V+" ft",V/d))},_updateScale:function(r,d,x){r.style.width=Math.round(this.options.maxWidth*x)+"px",r.innerHTML=d},_getRoundNum:function(r){var d=Math.pow(10,(Math.floor(r)+"").length-1),x=r/d;return x=x>=10?10:x>=5?5:x>=3?3:x>=2?2:1,d*x}}),Ns=function(r){return new Cr(r)},za='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',_i=gn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Kt.inlineSvg?za+" ":"")+"Leaflet</a>"},initialize:function(r){A(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=An("div","leaflet-control-attribution"),no(this._container);for(var d in r._layers)r._layers[d].getAttribution&&this.addAttribution(r._layers[d].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var d in this._attributions)this._attributions[d]&&r.push(d);var x=[];this.options.prefix&&x.push(this.options.prefix),r.length&&x.push(r.join(", ")),this._container.innerHTML=x.join(' <span aria-hidden="true">|</span> ')}}});In.mergeOptions({attributionControl:!0}),In.addInitHook(function(){this.options.attributionControl&&new _i().addTo(this)});var ko=function(r){return new _i(r)};gn.Layers=Fa,gn.Zoom=oi,gn.Scale=Cr,gn.Attribution=_i,Yr.layers=Bs,Yr.zoom=Lo,Yr.scale=Ns,Yr.attribution=ko;var Br=j.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Br.addTo=function(r,d){return r.addHandler(d,this),this};var Co={Events:Ue},Ts=Kt.touch?"touchstart mousedown":"mousedown",ki=je.extend({options:{clickTolerance:3},initialize:function(r,d,x,T){A(this,T),this._element=r,this._dragStartTarget=d||r,this._preventOutline=x},enable:function(){this._enabled||(xn(this._dragStartTarget,Ts,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ki._dragging===this&&this.finishDrag(!0),Hn(this._dragStartTarget,Ts,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!Hs(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){ki._dragging===this&&this.finishDrag();return}if(!(ki._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(ki._dragging=this,this._preventOutline&&va(this._element),yo(),Gn(),!this._moving)){this.fire("down");var d=r.touches?r.touches[0]:r,x=Ms(this._element);this._startPoint=new Le(d.clientX,d.clientY),this._startPos=ds(this._element),this._parentScale=es(x);var T=r.type==="mousedown";xn(document,T?"mousemove":"touchmove",this._onMove,this),xn(document,T?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var d=r.touches&&r.touches.length===1?r.touches[0]:r,x=new Le(d.clientX,d.clientY)._subtract(this._startPoint);!x.x&&!x.y||Math.abs(x.x)+Math.abs(x.y)<this.options.clickTolerance||(x.x/=this._parentScale.x,x.y/=this._parentScale.y,gr(r),this._moved||(this.fire("dragstart"),this._moved=!0,Ln(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ln(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(x),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),kr(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){$n(document.body,"leaflet-dragging"),this._lastTarget&&($n(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Hn(document,"mousemove touchmove",this._onMove,this),Hn(document,"mouseup touchend touchcancel",this._onUp,this),ps(),Ws();var d=this._moved&&this._moving;this._moving=!1,ki._dragging=!1,d&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function ao(r,d,x){var T,V=[1,4,2,8],fe,We,mt,xt,Rt,Yt,pn,On;for(fe=0,Yt=r.length;fe<Yt;fe++)r[fe]._code=kt(r[fe],d);for(mt=0;mt<4;mt++){for(pn=V[mt],T=[],fe=0,Yt=r.length,We=Yt-1;fe<Yt;We=fe++)xt=r[fe],Rt=r[We],xt._code&pn?Rt._code&pn||(On=ft(Rt,xt,pn,d,x),On._code=kt(On,d),T.push(On)):(Rt._code&pn&&(On=ft(Rt,xt,pn,d,x),On._code=kt(On,d),T.push(On)),T.push(xt));r=T}return r}function jo(r,d){var x,T,V,fe,We,mt,xt,Rt,Yt;if(!r||r.length===0)throw new Error("latlngs not passed");en(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var pn=Te([0,0]),On=me(r),di=On.getNorthWest().distanceTo(On.getSouthWest())*On.getNorthEast().distanceTo(On.getNorthWest());di<1700&&(pn=Fo(r));var Wr=r.length,Pi=[];for(x=0;x<Wr;x++){var Pr=Te(r[x]);Pi.push(d.project(Te([Pr.lat-pn.lat,Pr.lng-pn.lng])))}for(mt=xt=Rt=0,x=0,T=Wr-1;x<Wr;T=x++)V=Pi[x],fe=Pi[T],We=V.y*fe.x-fe.y*V.x,xt+=(V.x+fe.x)*We,Rt+=(V.y+fe.y)*We,mt+=We*3;mt===0?Yt=Pi[0]:Yt=[xt/mt,Rt/mt];var ia=d.unproject(Ee(Yt));return Te([ia.lat+pn.lat,ia.lng+pn.lng])}function Fo(r){for(var d=0,x=0,T=0,V=0;V<r.length;V++){var fe=Te(r[V]);d+=fe.lat,x+=fe.lng,T++}return Te([d/T,x/T])}var So={__proto__:null,clipPolygon:ao,polygonCenter:jo,centroid:Fo};function Xs(r,d){if(!d||!r.length)return r.slice();var x=d*d;return r=ne(r,x),r=Nr(r,x),r}function oo(r,d,x){return Math.sqrt(Jt(r,d,x,!0))}function Ua(r,d,x){return Jt(r,d,x)}function Nr(r,d){var x=r.length,T=typeof Uint8Array<"u"?Uint8Array:Array,V=new T(x);V[0]=V[x-1]=1,M(r,V,d,0,x-1);var fe,We=[];for(fe=0;fe<x;fe++)V[fe]&&We.push(r[fe]);return We}function M(r,d,x,T,V){var fe=0,We,mt,xt;for(mt=T+1;mt<=V-1;mt++)xt=Jt(r[mt],r[T],r[V],!0),xt>fe&&(We=mt,fe=xt);fe>x&&(d[We]=1,M(r,d,x,T,We),M(r,d,x,We,V))}function ne(r,d){for(var x=[r[0]],T=1,V=0,fe=r.length;T<fe;T++)jt(r[T],r[V])>d&&(x.push(r[T]),V=T);return V<fe-1&&x.push(r[fe-1]),x}var Ie;function Ze(r,d,x,T,V){var fe=T?Ie:kt(r,x),We=kt(d,x),mt,xt,Rt;for(Ie=We;;){if(!(fe|We))return[r,d];if(fe&We)return!1;mt=fe||We,xt=ft(r,d,mt,x,V),Rt=kt(xt,x),mt===fe?(r=xt,fe=Rt):(d=xt,We=Rt)}}function ft(r,d,x,T,V){var fe=d.x-r.x,We=d.y-r.y,mt=T.min,xt=T.max,Rt,Yt;return x&8?(Rt=r.x+fe*(xt.y-r.y)/We,Yt=xt.y):x&4?(Rt=r.x+fe*(mt.y-r.y)/We,Yt=mt.y):x&2?(Rt=xt.x,Yt=r.y+We*(xt.x-r.x)/fe):x&1&&(Rt=mt.x,Yt=r.y+We*(mt.x-r.x)/fe),new Le(Rt,Yt,V)}function kt(r,d){var x=0;return r.x<d.min.x?x|=1:r.x>d.max.x&&(x|=2),r.y<d.min.y?x|=4:r.y>d.max.y&&(x|=8),x}function jt(r,d){var x=d.x-r.x,T=d.y-r.y;return x*x+T*T}function Jt(r,d,x,T){var V=d.x,fe=d.y,We=x.x-V,mt=x.y-fe,xt=We*We+mt*mt,Rt;return xt>0&&(Rt=((r.x-V)*We+(r.y-fe)*mt)/xt,Rt>1?(V=x.x,fe=x.y):Rt>0&&(V+=We*Rt,fe+=mt*Rt)),We=r.x-V,mt=r.y-fe,T?We*We+mt*mt:new Le(V,fe)}function en(r){return!Z(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function _n(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),en(r)}function kn(r,d){var x,T,V,fe,We,mt,xt,Rt;if(!r||r.length===0)throw new Error("latlngs not passed");en(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Yt=Te([0,0]),pn=me(r),On=pn.getNorthWest().distanceTo(pn.getSouthWest())*pn.getNorthEast().distanceTo(pn.getNorthWest());On<1700&&(Yt=Fo(r));var di=r.length,Wr=[];for(x=0;x<di;x++){var Pi=Te(r[x]);Wr.push(d.project(Te([Pi.lat-Yt.lat,Pi.lng-Yt.lng])))}for(x=0,T=0;x<di-1;x++)T+=Wr[x].distanceTo(Wr[x+1])/2;if(T===0)Rt=Wr[0];else for(x=0,fe=0;x<di-1;x++)if(We=Wr[x],mt=Wr[x+1],V=We.distanceTo(mt),fe+=V,fe>T){xt=(fe-T)/V,Rt=[mt.x-xt*(mt.x-We.x),mt.y-xt*(mt.y-We.y)];break}var Pr=d.unproject(Ee(Rt));return Te([Pr.lat+Yt.lat,Pr.lng+Yt.lng])}var Rn={__proto__:null,simplify:Xs,pointToSegmentDistance:oo,closestPointOnSegment:Ua,clipSegment:Ze,_getEdgeIntersection:ft,_getBitCode:kt,_sqClosestPointOnSegment:Jt,isFlat:en,_flat:_n,polylineCenter:kn},_r={project:function(r){return new Le(r.lng,r.lat)},unproject:function(r){return new _e(r.y,r.x)},bounds:new re([-180,-90],[180,90])},Zn={R:6378137,R_MINOR:6356752314245179e-9,bounds:new re([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var d=Math.PI/180,x=this.R,T=r.lat*d,V=this.R_MINOR/x,fe=Math.sqrt(1-V*V),We=fe*Math.sin(T),mt=Math.tan(Math.PI/4-T/2)/Math.pow((1-We)/(1+We),fe/2);return T=-x*Math.log(Math.max(mt,1e-10)),new Le(r.lng*d*x,T)},unproject:function(r){for(var d=180/Math.PI,x=this.R,T=this.R_MINOR/x,V=Math.sqrt(1-T*T),fe=Math.exp(-r.y/x),We=Math.PI/2-2*Math.atan(fe),mt=0,xt=.1,Rt;mt<15&&Math.abs(xt)>1e-7;mt++)Rt=V*Math.sin(We),Rt=Math.pow((1-Rt)/(1+Rt),V/2),xt=Math.PI/2-2*Math.atan(fe*Rt)-We,We+=xt;return new _e(We*d,r.x*d/x)}},rr={__proto__:null,LonLat:_r,Mercator:Zn,SphericalMercator:Nt},Ur=a({},$e,{code:"EPSG:3395",projection:Zn,transformation:(function(){var r=.5/(Math.PI*Zn.R);return Gt(r,.5,-r,.5)})()}),Rr=a({},$e,{code:"EPSG:4326",projection:_r,transformation:Gt(1/180,1,-1/180,.5)}),ns=a({},Je,{projection:_r,transformation:Gt(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,d){var x=d.lng-r.lng,T=d.lat-r.lat;return Math.sqrt(x*x+T*T)},infinite:!0});Je.Earth=$e,Je.EPSG3395=Ur,Je.EPSG3857=qt,Je.EPSG900913=K,Je.EPSG4326=Rr,Je.Simple=ns;var cr=je.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[p(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[p(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var d=r.target;if(d.hasLayer(this)){if(this._map=d,this._zoomAnimated=d._zoomAnimated,this.getEvents){var x=this.getEvents();d.on(x,this),this.once("remove",function(){d.off(x,this)},this)}this.onAdd(d),this.fire("add"),d.fire("layeradd",{layer:this})}}});In.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var d=p(r);return this._layers[d]?this:(this._layers[d]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var d=p(r);return this._layers[d]?(this._loaded&&r.onRemove(this),delete this._layers[d],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return p(r)in this._layers},eachLayer:function(r,d){for(var x in this._layers)r.call(d,this._layers[x]);return this},_addLayers:function(r){r=r?Z(r)?r:[r]:[];for(var d=0,x=r.length;d<x;d++)this.addLayer(r[d])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[p(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var d=p(r);this._zoomBoundLayers[d]&&(delete this._zoomBoundLayers[d],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,d=-1/0,x=this._getZoomSpan();for(var T in this._zoomBoundLayers){var V=this._zoomBoundLayers[T].options;r=V.minZoom===void 0?r:Math.min(r,V.minZoom),d=V.maxZoom===void 0?d:Math.max(d,V.maxZoom)}this._layersMaxZoom=d===-1/0?void 0:d,this._layersMinZoom=r===1/0?void 0:r,x!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var li=cr.extend({initialize:function(r,d){A(this,d),this._layers={};var x,T;if(r)for(x=0,T=r.length;x<T;x++)this.addLayer(r[x])},addLayer:function(r){var d=this.getLayerId(r);return this._layers[d]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var d=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[d]&&this._map.removeLayer(this._layers[d]),delete this._layers[d],this},hasLayer:function(r){var d=typeof r=="number"?r:this.getLayerId(r);return d in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var d=Array.prototype.slice.call(arguments,1),x,T;for(x in this._layers)T=this._layers[x],T[r]&&T[r].apply(T,d);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,d){for(var x in this._layers)r.call(d,this._layers[x]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return p(r)}}),qa=function(r,d){return new li(r,d)},Ci=li.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),li.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),li.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new ce;for(var d in this._layers){var x=this._layers[d];r.extend(x.getBounds?x.getBounds():x.getLatLng())}return r}}),Eo=function(r,d){return new Ci(r,d)},_s=j.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){A(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,d){var x=this._getIconUrl(r);if(!x){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var T=this._createImg(x,d&&d.tagName==="IMG"?d:null);return this._setIconStyles(T,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(T.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),T},_setIconStyles:function(r,d){var x=this.options,T=x[d+"Size"];typeof T=="number"&&(T=[T,T]);var V=Ee(T),fe=Ee(d==="shadow"&&x.shadowAnchor||x.iconAnchor||V&&V.divideBy(2,!0));r.className="leaflet-marker-"+d+" "+(x.className||""),fe&&(r.style.marginLeft=-fe.x+"px",r.style.marginTop=-fe.y+"px"),V&&(r.style.width=V.x+"px",r.style.height=V.y+"px")},_createImg:function(r,d){return d=d||document.createElement("img"),d.src=r,d},_getIconUrl:function(r){return Kt.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function Po(r){return new _s(r)}var Qs=_s.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof Qs.imagePath!="string"&&(Qs.imagePath=this._detectIconPath()),(this.options.imagePath||Qs.imagePath)+_s.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var d=function(x,T,V){var fe=T.exec(x);return fe&&fe[V]};return r=d(r,/^url\((['"])?(.+)\1\)$/,2),r&&d(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=An("div","leaflet-default-icon-path",document.body),d=Xi(r,"background-image")||Xi(r,"backgroundImage");if(document.body.removeChild(r),d=this._stripUrl(d),d)return d;var x=document.querySelector('link[href$="leaflet.css"]');return x?x.href.substring(0,x.href.length-11-1):""}}),ea=Br.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new ki(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ln(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&$n(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var d=this._marker,x=d._map,T=this._marker.options.autoPanSpeed,V=this._marker.options.autoPanPadding,fe=ds(d._icon),We=x.getPixelBounds(),mt=x.getPixelOrigin(),xt=F(We.min._subtract(mt).add(V),We.max._subtract(mt).subtract(V));if(!xt.contains(fe)){var Rt=Ee((Math.max(xt.max.x,fe.x)-xt.max.x)/(We.max.x-xt.max.x)-(Math.min(xt.min.x,fe.x)-xt.min.x)/(We.min.x-xt.min.x),(Math.max(xt.max.y,fe.y)-xt.max.y)/(We.max.y-xt.max.y)-(Math.min(xt.min.y,fe.y)-xt.min.y)/(We.min.y-xt.min.y)).multiplyBy(T);x.panBy(Rt,{animate:!1}),this._draggable._newPos._add(Rt),this._draggable._startPos._add(Rt),kr(d._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=J(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(G(this._panRequest),this._panRequest=J(this._adjustPan.bind(this,r)))},_onDrag:function(r){var d=this._marker,x=d._shadow,T=ds(d._icon),V=d._map.layerPointToLatLng(T);x&&kr(x,T),d._latlng=V,r.latlng=V,r.oldLatLng=this._oldLatLng,d.fire("move",r).fire("drag",r)},_onDragEnd:function(r){G(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),vr=cr.extend({options:{icon:new Qs,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,d){A(this,d),this._latlng=Te(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var d=this._latlng;return this._latlng=Te(r),this.update(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,d="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),x=r.icon.createIcon(this._icon),T=!1;x!==this._icon&&(this._icon&&this._removeIcon(),T=!0,r.title&&(x.title=r.title),x.tagName==="IMG"&&(x.alt=r.alt||"")),Ln(x,d),r.keyboard&&(x.tabIndex="0",x.setAttribute("role","button")),this._icon=x,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&xn(x,"focus",this._panOnFocus,this);var V=r.icon.createShadow(this._shadow),fe=!1;V!==this._shadow&&(this._removeShadow(),fe=!0),V&&(Ln(V,d),V.alt=""),this._shadow=V,r.opacity<1&&this._updateOpacity(),T&&this.getPane().appendChild(this._icon),this._initInteraction(),V&&fe&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Hn(this._icon,"focus",this._panOnFocus,this),Mn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Mn(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&kr(this._icon,r),this._shadow&&kr(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var d=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(d)},_initInteraction:function(){if(this.options.interactive&&(Ln(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ea)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ea(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&Jr(this._icon,r),this._shadow&&Jr(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var d=this.options.icon.options,x=d.iconSize?Ee(d.iconSize):Ee(0,0),T=d.iconAnchor?Ee(d.iconAnchor):Ee(0,0);r.panInside(this._latlng,{paddingTopLeft:T,paddingBottomRight:x.subtract(T)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Ao(r,d){return new vr(r,d)}var Ui=cr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return A(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Si=Ui.extend({options:{fill:!0,radius:10},initialize:function(r,d){A(this,d),this._latlng=Te(r),this._radius=this.options.radius},setLatLng:function(r){var d=this._latlng;return this._latlng=Te(r),this.redraw(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var d=r&&r.radius||this._radius;return Ui.prototype.setStyle.call(this,r),this.setRadius(d),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,d=this._radiusY||r,x=this._clickTolerance(),T=[r+x,d+x];this._pxBounds=new re(this._point.subtract(T),this._point.add(T))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function lo(r,d){return new Si(r,d)}var ui=Si.extend({initialize:function(r,d,x){if(typeof d=="number"&&(d=a({},x,{radius:d})),A(this,d),this._latlng=Te(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new ce(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:Ui.prototype.setStyle,_project:function(){var r=this._latlng.lng,d=this._latlng.lat,x=this._map,T=x.options.crs;if(T.distance===$e.distance){var V=Math.PI/180,fe=this._mRadius/$e.R/V,We=x.project([d+fe,r]),mt=x.project([d-fe,r]),xt=We.add(mt).divideBy(2),Rt=x.unproject(xt).lat,Yt=Math.acos((Math.cos(fe*V)-Math.sin(d*V)*Math.sin(Rt*V))/(Math.cos(d*V)*Math.cos(Rt*V)))/V;(isNaN(Yt)||Yt===0)&&(Yt=fe/Math.cos(Math.PI/180*d)),this._point=xt.subtract(x.getPixelOrigin()),this._radius=isNaN(Yt)?0:xt.x-x.project([Rt,r-Yt]).x,this._radiusY=xt.y-We.y}else{var pn=T.unproject(T.project(this._latlng).subtract([this._mRadius,0]));this._point=x.latLngToLayerPoint(this._latlng),this._radius=this._point.x-x.latLngToLayerPoint(pn).x}this._updateBounds()}});function rs(r,d,x){return new ui(r,d,x)}var ci=Ui.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,d){A(this,d),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var d=1/0,x=null,T=Jt,V,fe,We=0,mt=this._parts.length;We<mt;We++)for(var xt=this._parts[We],Rt=1,Yt=xt.length;Rt<Yt;Rt++){V=xt[Rt-1],fe=xt[Rt];var pn=T(r,V,fe,!0);pn<d&&(d=pn,x=T(r,V,fe))}return x&&(x.distance=Math.sqrt(d)),x},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return kn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,d){return d=d||this._defaultShape(),r=Te(r),d.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new ce,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return en(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var d=[],x=en(r),T=0,V=r.length;T<V;T++)x?(d[T]=Te(r[T]),this._bounds.extend(d[T])):d[T]=this._convertLatLngs(r[T]);return d},_project:function(){var r=new re;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),d=new Le(r,r);this._rawPxBounds&&(this._pxBounds=new re([this._rawPxBounds.min.subtract(d),this._rawPxBounds.max.add(d)]))},_projectLatlngs:function(r,d,x){var T=r[0]instanceof _e,V=r.length,fe,We;if(T){for(We=[],fe=0;fe<V;fe++)We[fe]=this._map.latLngToLayerPoint(r[fe]),x.extend(We[fe]);d.push(We)}else for(fe=0;fe<V;fe++)this._projectLatlngs(r[fe],d,x)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var d=this._parts,x,T,V,fe,We,mt,xt;for(x=0,V=0,fe=this._rings.length;x<fe;x++)for(xt=this._rings[x],T=0,We=xt.length;T<We-1;T++)mt=Ze(xt[T],xt[T+1],r,T,!0),mt&&(d[V]=d[V]||[],d[V].push(mt[0]),(mt[1]!==xt[T+1]||T===We-2)&&(d[V].push(mt[1]),V++))}},_simplifyPoints:function(){for(var r=this._parts,d=this.options.smoothFactor,x=0,T=r.length;x<T;x++)r[x]=Xs(r[x],d)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,d){var x,T,V,fe,We,mt,xt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(x=0,fe=this._parts.length;x<fe;x++)for(mt=this._parts[x],T=0,We=mt.length,V=We-1;T<We;V=T++)if(!(!d&&T===0)&&oo(r,mt[V],mt[T])<=xt)return!0;return!1}});function ul(r,d){return new ci(r,d)}ci._flat=_n;var Sr=ci.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return jo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var d=ci.prototype._convertLatLngs.call(this,r),x=d.length;return x>=2&&d[0]instanceof _e&&d[0].equals(d[x-1])&&d.pop(),d},_setLatLngs:function(r){ci.prototype._setLatLngs.call(this,r),en(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return en(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,d=this.options.weight,x=new Le(d,d);if(r=new re(r.min.subtract(x),r.max.add(x)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var T=0,V=this._rings.length,fe;T<V;T++)fe=ao(this._rings[T],r,!0),fe.length&&this._parts.push(fe)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var d=!1,x,T,V,fe,We,mt,xt,Rt;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(fe=0,xt=this._parts.length;fe<xt;fe++)for(x=this._parts[fe],We=0,Rt=x.length,mt=Rt-1;We<Rt;mt=We++)T=x[We],V=x[mt],T.y>r.y!=V.y>r.y&&r.x<(V.x-T.x)*(r.y-T.y)/(V.y-T.y)+T.x&&(d=!d);return d||ci.prototype._containsPoint.call(this,r,!0)}});function ta(r,d){return new Sr(r,d)}var is=Ci.extend({initialize:function(r,d){A(this,d),this._layers={},r&&this.addData(r)},addData:function(r){var d=Z(r)?r:r.features,x,T,V;if(d){for(x=0,T=d.length;x<T;x++)V=d[x],(V.geometries||V.geometry||V.features||V.coordinates)&&this.addData(V);return this}var fe=this.options;if(fe.filter&&!fe.filter(r))return this;var We=ya(r,fe);return We?(We.feature=vs(r),We.defaultOptions=We.options,this.resetStyle(We),fe.onEachFeature&&fe.onEachFeature(r,We),this.addLayer(We)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=a({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(d){this._setLayerStyle(d,r)},this)},_setLayerStyle:function(r,d){r.setStyle&&(typeof d=="function"&&(d=d(r.feature)),r.setStyle(d))}});function ya(r,d){var x=r.type==="Feature"?r.geometry:r,T=x?x.coordinates:null,V=[],fe=d&&d.pointToLayer,We=d&&d.coordsToLatLng||Ds,mt,xt,Rt,Yt;if(!T&&!x)return null;switch(x.type){case"Point":return mt=We(T),Os(fe,r,mt,d);case"MultiPoint":for(Rt=0,Yt=T.length;Rt<Yt;Rt++)mt=We(T[Rt]),V.push(Os(fe,r,mt,d));return new Ci(V);case"LineString":case"MultiLineString":return xt=Xr(T,x.type==="LineString"?0:1,We),new ci(xt,d);case"Polygon":case"MultiPolygon":return xt=Xr(T,x.type==="Polygon"?1:2,We),new Sr(xt,d);case"GeometryCollection":for(Rt=0,Yt=x.geometries.length;Rt<Yt;Rt++){var pn=ya({geometry:x.geometries[Rt],type:"Feature",properties:r.properties},d);pn&&V.push(pn)}return new Ci(V);case"FeatureCollection":for(Rt=0,Yt=x.features.length;Rt<Yt;Rt++){var On=ya(x.features[Rt],d);On&&V.push(On)}return new Ci(V);default:throw new Error("Invalid GeoJSON object.")}}function Os(r,d,x,T){return r?r(d,x):new vr(x,T&&T.markersInheritOptions&&T)}function Ds(r){return new _e(r[1],r[0],r[2])}function Xr(r,d,x){for(var T=[],V=0,fe=r.length,We;V<fe;V++)We=d?Xr(r[V],d-1,x):(x||Ds)(r[V]),T.push(We);return T}function qr(r,d){return r=Te(r),r.alt!==void 0?[P(r.lng,d),P(r.lat,d),P(r.alt,d)]:[P(r.lng,d),P(r.lat,d)]}function Is(r,d,x,T){for(var V=[],fe=0,We=r.length;fe<We;fe++)V.push(d?Is(r[fe],en(r[fe])?0:d-1,x,T):qr(r[fe],T));return!d&&x&&V.length>0&&V.push(V[0].slice()),V}function qi(r,d){return r.feature?a({},r.feature,{geometry:d}):vs(d)}function vs(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var wa={toGeoJSON:function(r){return qi(this,{type:"Point",coordinates:qr(this.getLatLng(),r)})}};vr.include(wa),ui.include(wa),Si.include(wa),ci.include({toGeoJSON:function(r){var d=!en(this._latlngs),x=Is(this._latlngs,d?1:0,!1,r);return qi(this,{type:(d?"Multi":"")+"LineString",coordinates:x})}}),Sr.include({toGeoJSON:function(r){var d=!en(this._latlngs),x=d&&!en(this._latlngs[0]),T=Is(this._latlngs,x?2:d?1:0,!0,r);return d||(T=[T]),qi(this,{type:(x?"Multi":"")+"Polygon",coordinates:T})}}),li.include({toMultiPoint:function(r){var d=[];return this.eachLayer(function(x){d.push(x.toGeoJSON(r).geometry.coordinates)}),qi(this,{type:"MultiPoint",coordinates:d})},toGeoJSON:function(r){var d=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(d==="MultiPoint")return this.toMultiPoint(r);var x=d==="GeometryCollection",T=[];return this.eachLayer(function(V){if(V.toGeoJSON){var fe=V.toGeoJSON(r);if(x)T.push(fe.geometry);else{var We=vs(fe);We.type==="FeatureCollection"?T.push.apply(T,We.features):T.push(We)}}}),x?qi(this,{geometries:T,type:"GeometryCollection"}):{type:"FeatureCollection",features:T}}});function ys(r,d){return new is(r,d)}var Xn=ys,Gi=cr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,d,x){this._url=r,this._bounds=me(d),A(this,x)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ln(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Mn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&_a(this._image),this},bringToBack:function(){return this._map&&Qi(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=me(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",d=this._image=r?this._url:An("img");if(Ln(d,"leaflet-image-layer"),this._zoomAnimated&&Ln(d,"leaflet-zoom-animated"),this.options.className&&Ln(d,this.options.className),d.onselectstart=k,d.onmousemove=k,d.onload=c(this.fire,this,"load"),d.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=d.src;return}d.src=this._url,d.alt=this.options.alt},_animateZoom:function(r){var d=this._map.getZoomScale(r.zoom),x=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;Fi(this._image,x,d)},_reset:function(){var r=this._image,d=new re(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),x=d.getSize();kr(r,d.min),r.style.width=x.x+"px",r.style.height=x.y+"px"},_updateOpacity:function(){Jr(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),vi=function(r,d,x){return new Gi(r,d,x)},hi=Gi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",d=this._image=r?this._url:An("video");if(Ln(d,"leaflet-image-layer"),this._zoomAnimated&&Ln(d,"leaflet-zoom-animated"),this.options.className&&Ln(d,this.options.className),d.onselectstart=k,d.onmousemove=k,d.onloadeddata=c(this.fire,this,"load"),r){for(var x=d.getElementsByTagName("source"),T=[],V=0;V<x.length;V++)T.push(x[V].src);this._url=x.length>0?T:[d.src];return}Z(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(d.style,"objectFit")&&(d.style.objectFit="fill"),d.autoplay=!!this.options.autoplay,d.loop=!!this.options.loop,d.muted=!!this.options.muted,d.playsInline=!!this.options.playsInline;for(var fe=0;fe<this._url.length;fe++){var We=An("source");We.src=this._url[fe],d.appendChild(We)}}});function Ga(r,d,x){return new hi(r,d,x)}var Mo=Gi.extend({_initImage:function(){var r=this._image=this._url;Ln(r,"leaflet-image-layer"),this._zoomAnimated&&Ln(r,"leaflet-zoom-animated"),this.options.className&&Ln(r,this.options.className),r.onselectstart=k,r.onmousemove=k}});function uo(r,d,x){return new Mo(r,d,x)}var yi=cr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,d){r&&(r instanceof _e||Z(r))?(this._latlng=Te(r),A(this,d)):(A(this,r),this._source=d),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&Jr(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&Jr(this._container,1),this.bringToFront(),this.options.interactive&&(Ln(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(Jr(this._container,0),this._removeTimeout=setTimeout(c(Mn,void 0,this._container),200)):Mn(this._container),this.options.interactive&&($n(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=Te(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&_a(this._container),this},bringToBack:function(){return this._map&&Qi(this._container),this},_prepareOpen:function(r){var d=this._source;if(!d._map)return!1;if(d instanceof Ci){d=null;var x=this._source._layers;for(var T in x)if(x[T]._map){d=x[T];break}if(!d)return!1;this._source=d}if(!r)if(d.getCenter)r=d.getCenter();else if(d.getLatLng)r=d.getLatLng();else if(d.getBounds)r=d.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,d=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof d=="string")r.innerHTML=d;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(d)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),d=Ee(this.options.offset),x=this._getAnchor();this._zoomAnimated?kr(this._container,r.add(x)):d=d.add(r).add(x);var T=this._containerBottom=-d.y,V=this._containerLeft=-Math.round(this._containerWidth/2)+d.x;this._container.style.bottom=T+"px",this._container.style.left=V+"px"}},_getAnchor:function(){return[0,0]}});In.include({_initOverlay:function(r,d,x,T){var V=d;return V instanceof r||(V=new r(T).setContent(d)),x&&V.setLatLng(x),V}}),cr.include({_initOverlay:function(r,d,x,T){var V=x;return V instanceof r?(A(V,T),V._source=this):(V=d&&!T?d:new r(T,this),V.setContent(x)),V}});var Hi=yi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,yi.prototype.openOn.call(this,r)},onAdd:function(r){yi.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ui||this._source.on("preclick",ms))},onRemove:function(r){yi.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ui||this._source.off("preclick",ms))},getEvents:function(){var r=yi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",d=this._container=An("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),x=this._wrapper=An("div",r+"-content-wrapper",d);if(this._contentNode=An("div",r+"-content",x),no(d),bo(this._contentNode),xn(d,"contextmenu",ms),this._tipContainer=An("div",r+"-tip-container",d),this._tip=An("div",r+"-tip",this._tipContainer),this.options.closeButton){var T=this._closeButton=An("a",r+"-close-button",d);T.setAttribute("role","button"),T.setAttribute("aria-label","Close popup"),T.href="#close",T.innerHTML='<span aria-hidden="true">&#215;</span>',xn(T,"click",function(V){gr(V),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,d=r.style;d.width="",d.whiteSpace="nowrap";var x=r.offsetWidth;x=Math.min(x,this.options.maxWidth),x=Math.max(x,this.options.minWidth),d.width=x+1+"px",d.whiteSpace="",d.height="";var T=r.offsetHeight,V=this.options.maxHeight,fe="leaflet-popup-scrolled";V&&T>V?(d.height=V+"px",Ln(r,fe)):$n(r,fe),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var d=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),x=this._getAnchor();kr(this._container,d.add(x))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,d=parseInt(Xi(this._container,"marginBottom"),10)||0,x=this._container.offsetHeight+d,T=this._containerWidth,V=new Le(this._containerLeft,-x-this._containerBottom);V._add(ds(this._container));var fe=r.layerPointToContainerPoint(V),We=Ee(this.options.autoPanPadding),mt=Ee(this.options.autoPanPaddingTopLeft||We),xt=Ee(this.options.autoPanPaddingBottomRight||We),Rt=r.getSize(),Yt=0,pn=0;fe.x+T+xt.x>Rt.x&&(Yt=fe.x+T-Rt.x+xt.x),fe.x-Yt-mt.x<0&&(Yt=fe.x-mt.x),fe.y+x+xt.y>Rt.y&&(pn=fe.y+x-Rt.y+xt.y),fe.y-pn-mt.y<0&&(pn=fe.y-mt.y),(Yt||pn)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([Yt,pn]))}},_getAnchor:function(){return Ee(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ss=function(r,d){return new Hi(r,d)};In.mergeOptions({closePopupOnClick:!0}),In.include({openPopup:function(r,d,x){return this._initOverlay(Hi,r,d,x).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),cr.include({bindPopup:function(r,d){return this._popup=this._initOverlay(Hi,this._popup,r,d),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof Ci||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){ai(r);var d=r.layer||r.target;if(this._popup._source===d&&!(d instanceof Ui)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=d,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var ws=yi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){yi.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){yi.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=yi.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",d=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=An("div",d),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+p(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var d,x,T=this._map,V=this._container,fe=T.latLngToContainerPoint(T.getCenter()),We=T.layerPointToContainerPoint(r),mt=this.options.direction,xt=V.offsetWidth,Rt=V.offsetHeight,Yt=Ee(this.options.offset),pn=this._getAnchor();mt==="top"?(d=xt/2,x=Rt):mt==="bottom"?(d=xt/2,x=0):mt==="center"?(d=xt/2,x=Rt/2):mt==="right"?(d=0,x=Rt/2):mt==="left"?(d=xt,x=Rt/2):We.x<fe.x?(mt="right",d=0,x=Rt/2):(mt="left",d=xt+(Yt.x+pn.x)*2,x=Rt/2),r=r.subtract(Ee(d,x,!0)).add(Yt).add(pn),$n(V,"leaflet-tooltip-right"),$n(V,"leaflet-tooltip-left"),$n(V,"leaflet-tooltip-top"),$n(V,"leaflet-tooltip-bottom"),Ln(V,"leaflet-tooltip-"+mt),kr(V,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&Jr(this._container,r)},_animateZoom:function(r){var d=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(d)},_getAnchor:function(){return Ee(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),na=function(r,d){return new ws(r,d)};In.include({openTooltip:function(r,d,x){return this._initOverlay(ws,r,d,x).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),cr.include({bindTooltip:function(r,d){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ws,this._tooltip,r,d),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var d=r?"off":"on",x={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?x.add=this._openTooltip:(x.mouseover=this._openTooltip,x.mouseout=this.closeTooltip,x.click=this._openTooltip,this._map?this._addFocusListeners():x.add=this._addFocusListeners),this._tooltip.options.sticky&&(x.mousemove=this._moveTooltip),this[d](x),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof Ci||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var d=typeof r.getElement=="function"&&r.getElement();d&&(xn(d,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),xn(d,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var d=typeof r.getElement=="function"&&r.getElement();d&&d.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var d=this;this._map.once("moveend",function(){d._openOnceFlag=!1,d._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var d=r.latlng,x,T;this._tooltip.options.sticky&&r.originalEvent&&(x=this._map.mouseEventToContainerPoint(r.originalEvent),T=this._map.containerPointToLayerPoint(x),d=this._map.layerPointToLatLng(T)),this._tooltip.setLatLng(d)}});var ra=_s.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var d=r&&r.tagName==="DIV"?r:document.createElement("div"),x=this.options;if(x.html instanceof Element?(Da(d),d.appendChild(x.html)):d.innerHTML=x.html!==!1?x.html:"",x.bgPos){var T=Ee(x.bgPos);d.style.backgroundPosition=-T.x+"px "+-T.y+"px"}return this._setIconStyles(d,"icon"),d},createShadow:function(){return null}});function ba(r){return new ra(r)}_s.Default=Qs;var bs=cr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Kt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){A(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),Mn(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(_a(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Qi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof Le?r:new Le(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var d=this.getPane().children,x=-r(-1/0,1/0),T=0,V=d.length,fe;T<V;T++)fe=d[T].style.zIndex,d[T]!==this._container&&fe&&(x=r(x,+fe));isFinite(x)&&(this.options.zIndex=x+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Kt.ielt9){Jr(this._container,this.options.opacity);var r=+new Date,d=!1,x=!1;for(var T in this._tiles){var V=this._tiles[T];if(!(!V.current||!V.loaded)){var fe=Math.min(1,(r-V.loaded)/200);Jr(V.el,fe),fe<1?d=!0:(V.active?x=!0:this._onOpaqueTile(V),V.active=!0)}}x&&!this._noPrune&&this._pruneTiles(),d&&(G(this._fadeFrame),this._fadeFrame=J(this._updateOpacity,this))}},_onOpaqueTile:k,_initContainer:function(){this._container||(this._container=An("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,d=this.options.maxZoom;if(r!==void 0){for(var x in this._levels)x=Number(x),this._levels[x].el.children.length||x===r?(this._levels[x].el.style.zIndex=d-Math.abs(r-x),this._onUpdateLevel(x)):(Mn(this._levels[x].el),this._removeTilesAtZoom(x),this._onRemoveLevel(x),delete this._levels[x]);var T=this._levels[r],V=this._map;return T||(T=this._levels[r]={},T.el=An("div","leaflet-tile-container leaflet-zoom-animated",this._container),T.el.style.zIndex=d,T.origin=V.project(V.unproject(V.getPixelOrigin()),r).round(),T.zoom=r,this._setZoomTransform(T,V.getCenter(),V.getZoom()),k(T.el.offsetWidth),this._onCreateLevel(T)),this._level=T,T}},_onUpdateLevel:k,_onRemoveLevel:k,_onCreateLevel:k,_pruneTiles:function(){if(this._map){var r,d,x=this._map.getZoom();if(x>this.options.maxZoom||x<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)d=this._tiles[r],d.retain=d.current;for(r in this._tiles)if(d=this._tiles[r],d.current&&!d.active){var T=d.coords;this._retainParent(T.x,T.y,T.z,T.z-5)||this._retainChildren(T.x,T.y,T.z,T.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var d in this._tiles)this._tiles[d].coords.z===r&&this._removeTile(d)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)Mn(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,d,x,T){var V=Math.floor(r/2),fe=Math.floor(d/2),We=x-1,mt=new Le(+V,+fe);mt.z=+We;var xt=this._tileCoordsToKey(mt),Rt=this._tiles[xt];return Rt&&Rt.active?(Rt.retain=!0,!0):(Rt&&Rt.loaded&&(Rt.retain=!0),We>T?this._retainParent(V,fe,We,T):!1)},_retainChildren:function(r,d,x,T){for(var V=2*r;V<2*r+2;V++)for(var fe=2*d;fe<2*d+2;fe++){var We=new Le(V,fe);We.z=x+1;var mt=this._tileCoordsToKey(We),xt=this._tiles[mt];if(xt&&xt.active){xt.retain=!0;continue}else xt&&xt.loaded&&(xt.retain=!0);x+1<T&&this._retainChildren(V,fe,x+1,T)}},_resetView:function(r){var d=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),d,d)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var d=this.options;return d.minNativeZoom!==void 0&&r<d.minNativeZoom?d.minNativeZoom:d.maxNativeZoom!==void 0&&d.maxNativeZoom<r?d.maxNativeZoom:r},_setView:function(r,d,x,T){var V=Math.round(d);this.options.maxZoom!==void 0&&V>this.options.maxZoom||this.options.minZoom!==void 0&&V<this.options.minZoom?V=void 0:V=this._clampZoom(V);var fe=this.options.updateWhenZooming&&V!==this._tileZoom;(!T||fe)&&(this._tileZoom=V,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),V!==void 0&&this._update(r),x||this._pruneTiles(),this._noPrune=!!x),this._setZoomTransforms(r,d)},_setZoomTransforms:function(r,d){for(var x in this._levels)this._setZoomTransform(this._levels[x],r,d)},_setZoomTransform:function(r,d,x){var T=this._map.getZoomScale(x,r.zoom),V=r.origin.multiplyBy(T).subtract(this._map._getNewPixelOrigin(d,x)).round();Kt.any3d?Fi(r.el,V,T):kr(r.el,V)},_resetGrid:function(){var r=this._map,d=r.options.crs,x=this._tileSize=this.getTileSize(),T=this._tileZoom,V=this._map.getPixelWorldBounds(this._tileZoom);V&&(this._globalTileRange=this._pxBoundsToTileRange(V)),this._wrapX=d.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,d.wrapLng[0]],T).x/x.x),Math.ceil(r.project([0,d.wrapLng[1]],T).x/x.y)],this._wrapY=d.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([d.wrapLat[0],0],T).y/x.x),Math.ceil(r.project([d.wrapLat[1],0],T).y/x.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var d=this._map,x=d._animatingZoom?Math.max(d._animateToZoom,d.getZoom()):d.getZoom(),T=d.getZoomScale(x,this._tileZoom),V=d.project(r,this._tileZoom).floor(),fe=d.getSize().divideBy(T*2);return new re(V.subtract(fe),V.add(fe))},_update:function(r){var d=this._map;if(d){var x=this._clampZoom(d.getZoom());if(r===void 0&&(r=d.getCenter()),this._tileZoom!==void 0){var T=this._getTiledPixelBounds(r),V=this._pxBoundsToTileRange(T),fe=V.getCenter(),We=[],mt=this.options.keepBuffer,xt=new re(V.getBottomLeft().subtract([mt,-mt]),V.getTopRight().add([mt,-mt]));if(!(isFinite(V.min.x)&&isFinite(V.min.y)&&isFinite(V.max.x)&&isFinite(V.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Rt in this._tiles){var Yt=this._tiles[Rt].coords;(Yt.z!==this._tileZoom||!xt.contains(new Le(Yt.x,Yt.y)))&&(this._tiles[Rt].current=!1)}if(Math.abs(x-this._tileZoom)>1){this._setView(r,x);return}for(var pn=V.min.y;pn<=V.max.y;pn++)for(var On=V.min.x;On<=V.max.x;On++){var di=new Le(On,pn);if(di.z=this._tileZoom,!!this._isValidTile(di)){var Wr=this._tiles[this._tileCoordsToKey(di)];Wr?Wr.current=!0:We.push(di)}}if(We.sort(function(Pr,ia){return Pr.distanceTo(fe)-ia.distanceTo(fe)}),We.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Pi=document.createDocumentFragment();for(On=0;On<We.length;On++)this._addTile(We[On],Pi);this._level.el.appendChild(Pi)}}}},_isValidTile:function(r){var d=this._map.options.crs;if(!d.infinite){var x=this._globalTileRange;if(!d.wrapLng&&(r.x<x.min.x||r.x>x.max.x)||!d.wrapLat&&(r.y<x.min.y||r.y>x.max.y))return!1}if(!this.options.bounds)return!0;var T=this._tileCoordsToBounds(r);return me(this.options.bounds).overlaps(T)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var d=this._map,x=this.getTileSize(),T=r.scaleBy(x),V=T.add(x),fe=d.unproject(T,r.z),We=d.unproject(V,r.z);return[fe,We]},_tileCoordsToBounds:function(r){var d=this._tileCoordsToNwSe(r),x=new ce(d[0],d[1]);return this.options.noWrap||(x=this._map.wrapLatLngBounds(x)),x},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var d=r.split(":"),x=new Le(+d[0],+d[1]);return x.z=+d[2],x},_removeTile:function(r){var d=this._tiles[r];d&&(Mn(d.el),delete this._tiles[r],this.fire("tileunload",{tile:d.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){Ln(r,"leaflet-tile");var d=this.getTileSize();r.style.width=d.x+"px",r.style.height=d.y+"px",r.onselectstart=k,r.onmousemove=k,Kt.ielt9&&this.options.opacity<1&&Jr(r,this.options.opacity)},_addTile:function(r,d){var x=this._getTilePos(r),T=this._tileCoordsToKey(r),V=this.createTile(this._wrapCoords(r),c(this._tileReady,this,r));this._initTile(V),this.createTile.length<2&&J(c(this._tileReady,this,r,null,V)),kr(V,x),this._tiles[T]={el:V,coords:r,current:!0},d.appendChild(V),this.fire("tileloadstart",{tile:V,coords:r})},_tileReady:function(r,d,x){d&&this.fire("tileerror",{error:d,tile:x,coords:r});var T=this._tileCoordsToKey(r);x=this._tiles[T],x&&(x.loaded=+new Date,this._map._fadeAnimated?(Jr(x.el,0),G(this._fadeFrame),this._fadeFrame=J(this._updateOpacity,this)):(x.active=!0,this._pruneTiles()),d||(Ln(x.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:x.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Kt.ielt9||!this._map._fadeAnimated?J(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var d=new Le(this._wrapX?b(r.x,this._wrapX):r.x,this._wrapY?b(r.y,this._wrapY):r.y);return d.z=r.z,d},_pxBoundsToTileRange:function(r){var d=this.getTileSize();return new re(r.min.unscaleBy(d).floor(),r.max.unscaleBy(d).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function fi(r){return new bs(r)}var Gr=bs.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,d){this._url=r,d=A(this,d),d.detectRetina&&Kt.retina&&d.maxZoom>0?(d.tileSize=Math.floor(d.tileSize/2),d.zoomReverse?(d.zoomOffset--,d.minZoom=Math.min(d.maxZoom,d.minZoom+1)):(d.zoomOffset++,d.maxZoom=Math.max(d.minZoom,d.maxZoom-1)),d.minZoom=Math.max(0,d.minZoom)):d.zoomReverse?d.minZoom=Math.min(d.maxZoom,d.minZoom):d.maxZoom=Math.max(d.minZoom,d.maxZoom),typeof d.subdomains=="string"&&(d.subdomains=d.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,d){return this._url===r&&d===void 0&&(d=!0),this._url=r,d||this.redraw(),this},createTile:function(r,d){var x=document.createElement("img");return xn(x,"load",c(this._tileOnLoad,this,d,x)),xn(x,"error",c(this._tileOnError,this,d,x)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(x.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(x.referrerPolicy=this.options.referrerPolicy),x.alt="",x.src=this.getTileUrl(r),x},getTileUrl:function(r){var d={r:Kt.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var x=this._globalTileRange.max.y-r.y;this.options.tms&&(d.y=x),d["-y"]=x}return U(this._url,a(d,this.options))},_tileOnLoad:function(r,d){Kt.ielt9?setTimeout(c(r,this,null,d),0):r(null,d)},_tileOnError:function(r,d,x){var T=this.options.errorTileUrl;T&&d.getAttribute("src")!==T&&(d.src=T),r(x,d)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,d=this.options.maxZoom,x=this.options.zoomReverse,T=this.options.zoomOffset;return x&&(r=d-r),r+T},_getSubdomain:function(r){var d=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[d]},_abortLoading:function(){var r,d;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(d=this._tiles[r].el,d.onload=k,d.onerror=k,!d.complete)){d.src=pe;var x=this._tiles[r].coords;Mn(d),delete this._tiles[r],this.fire("tileabort",{tile:d,coords:x})}},_removeTile:function(r){var d=this._tiles[r];if(d)return d.el.setAttribute("src",pe),bs.prototype._removeTile.call(this,r)},_tileReady:function(r,d,x){if(!(!this._map||x&&x.getAttribute("src")===pe))return bs.prototype._tileReady.call(this,r,d,x)}});function ir(r,d){return new Gr(r,d)}var Qn=Gr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,d){this._url=r;var x=a({},this.defaultWmsParams);for(var T in d)T in this.options||(x[T]=d[T]);d=A(this,d);var V=d.detectRetina&&Kt.retina?2:1,fe=this.getTileSize();x.width=fe.x*V,x.height=fe.y*V,this.wmsParams=x},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var d=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[d]=this._crs.code,Gr.prototype.onAdd.call(this,r)},getTileUrl:function(r){var d=this._tileCoordsToNwSe(r),x=this._crs,T=F(x.project(d[0]),x.project(d[1])),V=T.min,fe=T.max,We=(this._wmsVersion>=1.3&&this._crs===Rr?[V.y,V.x,fe.y,fe.x]:[V.x,V.y,fe.x,fe.y]).join(","),mt=Gr.prototype.getTileUrl.call(this,r);return mt+I(this.wmsParams,mt,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+We},setParams:function(r,d){return a(this.wmsParams,r),d||this.redraw(),this}});function Er(r,d){return new Qn(r,d)}Gr.WMS=Qn,ir.wms=Er;var lr=cr.extend({options:{padding:.1},initialize:function(r){A(this,r),p(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ln(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,d){var x=this._map.getZoomScale(d,this._zoom),T=this._map.getSize().multiplyBy(.5+this.options.padding),V=this._map.project(this._center,d),fe=T.multiplyBy(-x).add(V).subtract(this._map._getNewPixelOrigin(r,d));Kt.any3d?Fi(this._container,fe,x):kr(this._container,fe)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,d=this._map.getSize(),x=this._map.containerPointToLayerPoint(d.multiplyBy(-r)).round();this._bounds=new re(x,x.add(d.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),xs=lr.extend({options:{tolerance:0},getEvents:function(){var r=lr.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){lr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");xn(r,"mousemove",this._onMouseMove,this),xn(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),xn(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){G(this._redrawRequest),delete this._ctx,Mn(this._container),Hn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var d in this._layers)r=this._layers[d],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){lr.prototype._update.call(this);var r=this._bounds,d=this._container,x=r.getSize(),T=Kt.retina?2:1;kr(d,r.min),d.width=T*x.x,d.height=T*x.y,d.style.width=x.x+"px",d.style.height=x.y+"px",Kt.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){lr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[p(r)]=r;var d=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=d),this._drawLast=d,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var d=r._order,x=d.next,T=d.prev;x?x.prev=T:this._drawLast=T,T?T.next=x:this._drawFirst=x,delete r._order,delete this._layers[p(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var d=r.options.dashArray.split(/[, ]+/),x=[],T,V;for(V=0;V<d.length;V++){if(T=Number(d[V]),isNaN(T))return;x.push(T)}r.options._dashArray=x}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||J(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var d=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new re,this._redrawBounds.extend(r._pxBounds.min.subtract([d,d])),this._redrawBounds.extend(r._pxBounds.max.add([d,d]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var d=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,d.x,d.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,d=this._redrawBounds;if(this._ctx.save(),d){var x=d.getSize();this._ctx.beginPath(),this._ctx.rect(d.min.x,d.min.y,x.x,x.y),this._ctx.clip()}this._drawing=!0;for(var T=this._drawFirst;T;T=T.next)r=T.layer,(!d||r._pxBounds&&r._pxBounds.intersects(d))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,d){if(this._drawing){var x,T,V,fe,We=r._parts,mt=We.length,xt=this._ctx;if(mt){for(xt.beginPath(),x=0;x<mt;x++){for(T=0,V=We[x].length;T<V;T++)fe=We[x][T],xt[T?"lineTo":"moveTo"](fe.x,fe.y);d&&xt.closePath()}this._fillStroke(xt,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var d=r._point,x=this._ctx,T=Math.max(Math.round(r._radius),1),V=(Math.max(Math.round(r._radiusY),1)||T)/T;V!==1&&(x.save(),x.scale(1,V)),x.beginPath(),x.arc(d.x,d.y/V,T,0,Math.PI*2,!1),V!==1&&x.restore(),this._fillStroke(x,r)}},_fillStroke:function(r,d){var x=d.options;x.fill&&(r.globalAlpha=x.fillOpacity,r.fillStyle=x.fillColor||x.color,r.fill(x.fillRule||"evenodd")),x.stroke&&x.weight!==0&&(r.setLineDash&&r.setLineDash(d.options&&d.options._dashArray||[]),r.globalAlpha=x.opacity,r.lineWidth=x.weight,r.strokeStyle=x.color,r.lineCap=x.lineCap,r.lineJoin=x.lineJoin,r.stroke())},_onClick:function(r){for(var d=this._map.mouseEventToLayerPoint(r),x,T,V=this._drawFirst;V;V=V.next)x=V.layer,x.options.interactive&&x._containsPoint(d)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(x))&&(T=x);this._fireEvent(T?[T]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var d=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,d)}},_handleMouseOut:function(r){var d=this._hoveredLayer;d&&($n(this._container,"leaflet-interactive"),this._fireEvent([d],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,d){if(!this._mouseHoverThrottled){for(var x,T,V=this._drawFirst;V;V=V.next)x=V.layer,x.options.interactive&&x._containsPoint(d)&&(T=x);T!==this._hoveredLayer&&(this._handleMouseOut(r),T&&(Ln(this._container,"leaflet-interactive"),this._fireEvent([T],r,"mouseover"),this._hoveredLayer=T)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,d,x){this._map._fireDOMEvent(d,x||d.type,r)},_bringToFront:function(r){var d=r._order;if(d){var x=d.next,T=d.prev;if(x)x.prev=T;else return;T?T.next=x:x&&(this._drawFirst=x),d.prev=this._drawLast,this._drawLast.next=d,d.next=null,this._drawLast=d,this._requestRedraw(r)}},_bringToBack:function(r){var d=r._order;if(d){var x=d.next,T=d.prev;if(T)T.next=x;else return;x?x.prev=T:T&&(this._drawLast=T),d.prev=null,d.next=this._drawFirst,this._drawFirst.prev=d,this._drawFirst=d,this._requestRedraw(r)}}});function xa(r){return Kt.canvas?new xs(r):null}var Rs=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),zo={_initContainer:function(){this._container=An("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(lr.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var d=r._container=Rs("shape");Ln(d,"leaflet-vml-shape "+(this.options.className||"")),d.coordsize="1 1",r._path=Rs("path"),d.appendChild(r._path),this._updateStyle(r),this._layers[p(r)]=r},_addPath:function(r){var d=r._container;this._container.appendChild(d),r.options.interactive&&r.addInteractiveTarget(d)},_removePath:function(r){var d=r._container;Mn(d),r.removeInteractiveTarget(d),delete this._layers[p(r)]},_updateStyle:function(r){var d=r._stroke,x=r._fill,T=r.options,V=r._container;V.stroked=!!T.stroke,V.filled=!!T.fill,T.stroke?(d||(d=r._stroke=Rs("stroke")),V.appendChild(d),d.weight=T.weight+"px",d.color=T.color,d.opacity=T.opacity,T.dashArray?d.dashStyle=Z(T.dashArray)?T.dashArray.join(" "):T.dashArray.replace(/( *, *)/g," "):d.dashStyle="",d.endcap=T.lineCap.replace("butt","flat"),d.joinstyle=T.lineJoin):d&&(V.removeChild(d),r._stroke=null),T.fill?(x||(x=r._fill=Rs("fill")),V.appendChild(x),x.color=T.fillColor||T.color,x.opacity=T.fillOpacity):x&&(V.removeChild(x),r._fill=null)},_updateCircle:function(r){var d=r._point.round(),x=Math.round(r._radius),T=Math.round(r._radiusY||x);this._setPath(r,r._empty()?"M0 0":"AL "+d.x+","+d.y+" "+x+","+T+" 0,"+65535*360)},_setPath:function(r,d){r._path.v=d},_bringToFront:function(r){_a(r._container)},_bringToBack:function(r){Qi(r._container)}},Ei=Kt.vml?Rs:Fe,Tr=lr.extend({_initContainer:function(){this._container=Ei("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ei("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Mn(this._container),Hn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){lr.prototype._update.call(this);var r=this._bounds,d=r.getSize(),x=this._container;(!this._svgSize||!this._svgSize.equals(d))&&(this._svgSize=d,x.setAttribute("width",d.x),x.setAttribute("height",d.y)),kr(x,r.min),x.setAttribute("viewBox",[r.min.x,r.min.y,d.x,d.y].join(" ")),this.fire("update")}},_initPath:function(r){var d=r._path=Ei("path");r.options.className&&Ln(d,r.options.className),r.options.interactive&&Ln(d,"leaflet-interactive"),this._updateStyle(r),this._layers[p(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){Mn(r._path),r.removeInteractiveTarget(r._path),delete this._layers[p(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var d=r._path,x=r.options;d&&(x.stroke?(d.setAttribute("stroke",x.color),d.setAttribute("stroke-opacity",x.opacity),d.setAttribute("stroke-width",x.weight),d.setAttribute("stroke-linecap",x.lineCap),d.setAttribute("stroke-linejoin",x.lineJoin),x.dashArray?d.setAttribute("stroke-dasharray",x.dashArray):d.removeAttribute("stroke-dasharray"),x.dashOffset?d.setAttribute("stroke-dashoffset",x.dashOffset):d.removeAttribute("stroke-dashoffset")):d.setAttribute("stroke","none"),x.fill?(d.setAttribute("fill",x.fillColor||x.color),d.setAttribute("fill-opacity",x.fillOpacity),d.setAttribute("fill-rule",x.fillRule||"evenodd")):d.setAttribute("fill","none"))},_updatePoly:function(r,d){this._setPath(r,he(r._parts,d))},_updateCircle:function(r){var d=r._point,x=Math.max(Math.round(r._radius),1),T=Math.max(Math.round(r._radiusY),1)||x,V="a"+x+","+T+" 0 1,0 ",fe=r._empty()?"M0 0":"M"+(d.x-x)+","+d.y+V+x*2+",0 "+V+-x*2+",0 ";this._setPath(r,fe)},_setPath:function(r,d){r._path.setAttribute("d",d)},_bringToFront:function(r){_a(r._path)},_bringToBack:function(r){Qi(r._path)}});Kt.vml&&Tr.include(zo);function sr(r){return Kt.svg||Kt.vml?new Tr(r):null}In.include({getRenderer:function(r){var d=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return d||(d=this._renderer=this._createRenderer()),this.hasLayer(d)||this.addLayer(d),d},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var d=this._paneRenderers[r];return d===void 0&&(d=this._createRenderer({pane:r}),this._paneRenderers[r]=d),d},_createRenderer:function(r){return this.options.preferCanvas&&xa(r)||sr(r)}});var Wi=Sr.extend({initialize:function(r,d){Sr.prototype.initialize.call(this,this._boundsToLatLngs(r),d)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=me(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function $i(r,d){return new Wi(r,d)}Tr.create=Ei,Tr.pointsToPath=he,is.geometryToLayer=ya,is.coordsToLatLng=Ds,is.coordsToLatLngs=Xr,is.latLngToCoords=qr,is.latLngsToCoords=Is,is.getFeature=qi,is.asFeature=vs,In.mergeOptions({boxZoom:!0});var yn=Br.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){xn(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Hn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Mn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Gn(),yo(),this._startPoint=this._map.mouseEventToContainerPoint(r),xn(document,{contextmenu:ai,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=An("div","leaflet-zoom-box",this._container),Ln(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var d=new re(this._point,this._startPoint),x=d.getSize();kr(this._box,d.min),this._box.style.width=x.x+"px",this._box.style.height=x.y+"px"},_finish:function(){this._moved&&(Mn(this._box),$n(this._container,"leaflet-crosshair")),Ws(),ps(),Hn(document,{contextmenu:ai,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var d=new ce(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(d).fire("boxzoomend",{boxZoomBounds:d})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});In.addInitHook("addHandler","boxZoom",yn),In.mergeOptions({doubleClickZoom:!0});var Uo=Br.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var d=this._map,x=d.getZoom(),T=d.options.zoomDelta,V=r.originalEvent.shiftKey?x-T:x+T;d.options.doubleClickZoom==="center"?d.setZoom(V):d.setZoomAround(r.containerPoint,V)}});In.addInitHook("addHandler","doubleClickZoom",Uo),In.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ha=Br.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new ki(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}Ln(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){$n(this._map._container,"leaflet-grab"),$n(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var d=me(this._map.options.maxBounds);this._offsetLimit=F(this._map.latLngToContainerPoint(d.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(d.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var d=this._lastTime=+new Date,x=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(x),this._times.push(d),this._prunePositions(d)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),d=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=d.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,d){return r-(r-d)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),d=this._offsetLimit;r.x<d.min.x&&(r.x=this._viscousLimit(r.x,d.min.x)),r.y<d.min.y&&(r.y=this._viscousLimit(r.y,d.min.y)),r.x>d.max.x&&(r.x=this._viscousLimit(r.x,d.max.x)),r.y>d.max.y&&(r.y=this._viscousLimit(r.y,d.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,d=Math.round(r/2),x=this._initialWorldOffset,T=this._draggable._newPos.x,V=(T-d+x)%r+d-x,fe=(T+d+x)%r-d-x,We=Math.abs(V+x)<Math.abs(fe+x)?V:fe;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=We},_onDragEnd:function(r){var d=this._map,x=d.options,T=!x.inertia||r.noInertia||this._times.length<2;if(d.fire("dragend",r),T)d.fire("moveend");else{this._prunePositions(+new Date);var V=this._lastPos.subtract(this._positions[0]),fe=(this._lastTime-this._times[0])/1e3,We=x.easeLinearity,mt=V.multiplyBy(We/fe),xt=mt.distanceTo([0,0]),Rt=Math.min(x.inertiaMaxSpeed,xt),Yt=mt.multiplyBy(Rt/xt),pn=Rt/(x.inertiaDeceleration*We),On=Yt.multiplyBy(-pn/2).round();!On.x&&!On.y?d.fire("moveend"):(On=d._limitOffset(On,d.options.maxBounds),J(function(){d.panBy(On,{duration:pn,easeLinearity:We,noMoveStart:!0,animate:!0})}))}}});In.addInitHook("addHandler","dragging",Ha),In.mergeOptions({keyboard:!0,keyboardPanDelta:80});var as=Br.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),xn(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Hn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,d=document.documentElement,x=r.scrollTop||d.scrollTop,T=r.scrollLeft||d.scrollLeft;this._map._container.focus(),window.scrollTo(T,x)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var d=this._panKeys={},x=this.keyCodes,T,V;for(T=0,V=x.left.length;T<V;T++)d[x.left[T]]=[-1*r,0];for(T=0,V=x.right.length;T<V;T++)d[x.right[T]]=[r,0];for(T=0,V=x.down.length;T<V;T++)d[x.down[T]]=[0,r];for(T=0,V=x.up.length;T<V;T++)d[x.up[T]]=[0,-1*r]},_setZoomDelta:function(r){var d=this._zoomKeys={},x=this.keyCodes,T,V;for(T=0,V=x.zoomIn.length;T<V;T++)d[x.zoomIn[T]]=r;for(T=0,V=x.zoomOut.length;T<V;T++)d[x.zoomOut[T]]=-r},_addHooks:function(){xn(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Hn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var d=r.keyCode,x=this._map,T;if(d in this._panKeys){if(!x._panAnim||!x._panAnim._inProgress)if(T=this._panKeys[d],r.shiftKey&&(T=Ee(T).multiplyBy(3)),x.options.maxBounds&&(T=x._limitOffset(Ee(T),x.options.maxBounds)),x.options.worldCopyJump){var V=x.wrapLatLng(x.unproject(x.project(x.getCenter()).add(T)));x.panTo(V)}else x.panBy(T)}else if(d in this._zoomKeys)x.setZoom(x.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[d]);else if(d===27&&x._popup&&x._popup.options.closeOnEscapeKey)x.closePopup();else return;ai(r)}}});In.addInitHook("addHandler","keyboard",as),In.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Pn=Br.extend({addHooks:function(){xn(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Hn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var d=xo(r),x=this._map.options.wheelDebounceTime;this._delta+=d,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var T=Math.max(x-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),T),ai(r)},_performZoom:function(){var r=this._map,d=r.getZoom(),x=this._map.options.zoomSnap||0;r._stop();var T=this._delta/(this._map.options.wheelPxPerZoomLevel*4),V=4*Math.log(2/(1+Math.exp(-Math.abs(T))))/Math.LN2,fe=x?Math.ceil(V/x)*x:V,We=r._limitZoom(d+(this._delta>0?fe:-fe))-d;this._delta=0,this._startTime=null,We&&(r.options.scrollWheelZoom==="center"?r.setZoom(d+We):r.setZoomAround(this._lastMousePos,d+We))}});In.addInitHook("addHandler","scrollWheelZoom",Pn);var qo=600;In.mergeOptions({tapHold:Kt.touchNative&&Kt.safari&&Kt.mobile,tapTolerance:15});var Qr=Br.extend({addHooks:function(){xn(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Hn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var d=r.touches[0];this._startPos=this._newPos=new Le(d.clientX,d.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(xn(document,"touchend",gr),xn(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",d))},this),qo),xn(document,"touchend touchcancel contextmenu",this._cancel,this),xn(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){Hn(document,"touchend",gr),Hn(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),Hn(document,"touchend touchcancel contextmenu",this._cancel,this),Hn(document,"touchmove",this._onMove,this)},_onMove:function(r){var d=r.touches[0];this._newPos=new Le(d.clientX,d.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,d){var x=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:d.screenX,screenY:d.screenY,clientX:d.clientX,clientY:d.clientY});x._simulated=!0,d.target.dispatchEvent(x)}});In.addInitHook("addHandler","tapHold",Qr),In.mergeOptions({touchZoom:Kt.touch,bounceAtZoomLimits:!0});var Hr=Br.extend({addHooks:function(){Ln(this._map._container,"leaflet-touch-zoom"),xn(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){$n(this._map._container,"leaflet-touch-zoom"),Hn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var d=this._map;if(!(!r.touches||r.touches.length!==2||d._animatingZoom||this._zooming)){var x=d.mouseEventToContainerPoint(r.touches[0]),T=d.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=d.getSize()._divideBy(2),this._startLatLng=d.containerPointToLatLng(this._centerPoint),d.options.touchZoom!=="center"&&(this._pinchStartLatLng=d.containerPointToLatLng(x.add(T)._divideBy(2))),this._startDist=x.distanceTo(T),this._startZoom=d.getZoom(),this._moved=!1,this._zooming=!0,d._stop(),xn(document,"touchmove",this._onTouchMove,this),xn(document,"touchend touchcancel",this._onTouchEnd,this),gr(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var d=this._map,x=d.mouseEventToContainerPoint(r.touches[0]),T=d.mouseEventToContainerPoint(r.touches[1]),V=x.distanceTo(T)/this._startDist;if(this._zoom=d.getScaleZoom(V,this._startZoom),!d.options.bounceAtZoomLimits&&(this._zoom<d.getMinZoom()&&V<1||this._zoom>d.getMaxZoom()&&V>1)&&(this._zoom=d._limitZoom(this._zoom)),d.options.touchZoom==="center"){if(this._center=this._startLatLng,V===1)return}else{var fe=x._add(T)._divideBy(2)._subtract(this._centerPoint);if(V===1&&fe.x===0&&fe.y===0)return;this._center=d.unproject(d.project(this._pinchStartLatLng,this._zoom).subtract(fe),this._zoom)}this._moved||(d._moveStart(!0,!1),this._moved=!0),G(this._animRequest);var We=c(d._move,d,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=J(We,this,!0),gr(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,G(this._animRequest),Hn(document,"touchmove",this._onTouchMove,this),Hn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});In.addInitHook("addHandler","touchZoom",Hr),In.BoxZoom=yn,In.DoubleClickZoom=Uo,In.Drag=Ha,In.Keyboard=as,In.ScrollWheelZoom=Pn,In.TapHold=Qr,In.TouchZoom=Hr,e.Bounds=re,e.Browser=Kt,e.CRS=Je,e.Canvas=xs,e.Circle=ui,e.CircleMarker=Si,e.Class=j,e.Control=gn,e.DivIcon=ra,e.DivOverlay=yi,e.DomEvent=Ys,e.DomUtil=bn,e.Draggable=ki,e.Evented=je,e.FeatureGroup=Ci,e.GeoJSON=is,e.GridLayer=bs,e.Handler=Br,e.Icon=_s,e.ImageOverlay=Gi,e.LatLng=_e,e.LatLngBounds=ce,e.Layer=cr,e.LayerGroup=li,e.LineUtil=Rn,e.Map=In,e.Marker=vr,e.Mixin=Co,e.Path=Ui,e.Point=Le,e.PolyUtil=So,e.Polygon=Sr,e.Polyline=ci,e.Popup=Hi,e.PosAnimation=so,e.Projection=rr,e.Rectangle=Wi,e.Renderer=lr,e.SVG=Tr,e.SVGOverlay=Mo,e.TileLayer=Gr,e.Tooltip=ws,e.Transformation=Ot,e.Util=se,e.VideoOverlay=hi,e.bind=c,e.bounds=F,e.canvas=xa,e.circle=rs,e.circleMarker=lo,e.control=Yr,e.divIcon=ba,e.extend=a,e.featureGroup=Eo,e.geoJSON=ys,e.geoJson=Xn,e.gridLayer=fi,e.icon=Po,e.imageOverlay=vi,e.latLng=Te,e.latLngBounds=me,e.layerGroup=qa,e.map=gs,e.marker=Ao,e.point=Ee,e.polygon=ta,e.polyline=ul,e.popup=ss,e.rectangle=$i,e.setOptions=A,e.stamp=p,e.svg=sr,e.svgOverlay=uo,e.tileLayer=ir,e.tooltip=na,e.transformation=Gt,e.version=i,e.videoOverlay=Ga;var js=window.L;e.noConflict=function(){return window.L=js,this},window.L=e}))})(Cc,Cc.exports)),Cc.exports}var ku=rg();const Ml=wu(ku);function zd(s,t,e){return Object.freeze({instance:s,context:t,container:e})}function Ud(s,t){return t==null?function(i,a){const o=lt.useRef();return o.current||(o.current=s(i,a)),o}:function(i,a){const o=lt.useRef();o.current||(o.current=s(i,a));const c=lt.useRef(i),{instance:f}=o.current;return lt.useEffect(function(){c.current!==i&&(t(f,i,c.current),c.current=i)},[f,i,a]),o}}function a2(s,t){lt.useEffect(function(){return(t.layerContainer??t.map).addLayer(s.instance),function(){t.layerContainer?.removeLayer(s.instance),t.map.removeLayer(s.instance)}},[t,s])}function o2(s){return function(e){const i=Fd(),a=s(ng(e,i),i);return e2(i.map,e.attribution),i2(a.current,e.eventHandlers),a2(a.current,i),a}}function ig(s){function t(a,o){return zd(s(a),o)}const e=Ud(t),i=tg(e);return eg(i)}function l2(s,t){const e=Ud(s,t),i=o2(e);return eg(i)}function u2(s,t,e){const{opacity:i,zIndex:a}=t;i!=null&&i!==e.opacity&&s.setOpacity(i),a!=null&&a!==e.zIndex&&s.setZIndex(a)}const c2=Ud(function({children:t,...e},i){const a=new ku.Control.Layers(void 0,void 0,e);return zd(a,Xm(i,{layersControl:a}))},function(t,e,i){e.collapsed!==i.collapsed&&(e.collapsed===!0?t.collapse():t.expand())}),h2=tg(c2),Mc=r2(h2);function sg(s){return function(e){const i=Fd(),a=lt.useRef(e),[o,c]=lt.useState(null),{layersControl:f,map:p}=i,v=lt.useCallback(P=>{f!=null&&(a.current.checked&&p.addLayer(P),s(f,P,a.current.name),c(P))},[f,p]),b=lt.useCallback(P=>{f?.removeLayer(P),c(null)},[f]),k=lt.useMemo(()=>Xm(i,{layerContainer:{addLayer:v,removeLayer:b}}),[i,v,b]);return lt.useEffect(()=>{o!==null&&a.current!==e&&(e.checked===!0&&(a.current.checked==null||a.current.checked===!1)?p.addLayer(o):a.current.checked===!0&&(e.checked==null||e.checked===!1)&&p.removeLayer(o),a.current=e)}),e.children?Nc.createElement(jd,{value:k},e.children):null}}Mc.BaseLayer=sg(function(t,e,i){t.addBaseLayer(e,i)});Mc.Overlay=sg(function(t,e,i){t.addOverlay(e,i)});function dd(){return dd=Object.assign||function(s){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(s[i]=e[i])}return s},dd.apply(this,arguments)}function f2({bounds:s,boundsOptions:t,center:e,children:i,className:a,id:o,placeholder:c,style:f,whenReady:p,zoom:v,...b},k){const[P]=lt.useState({className:a,id:o,style:f}),[w,O]=lt.useState(null);lt.useImperativeHandle(k,()=>w?.map??null,[w]);const A=lt.useCallback(B=>{if(B!==null&&w===null){const U=new ku.Map(B,b);e!=null&&v!=null?U.setView(e,v):s!=null&&U.fitBounds(s,t),p!=null&&U.whenReady(p),O(n2(U))}},[]);lt.useEffect(()=>()=>{w?.map.remove()},[w]);const I=w?Nc.createElement(jd,{value:w},i):c??null;return Nc.createElement("div",dd({},P,{ref:A}),I)}const d2=lt.forwardRef(f2),p2=ig(function(t){return new ku.Control.Scale(t)}),R0=l2(function({url:t,...e},i){const a=new ku.TileLayer(t,ng(e,i));return zd(a,i)},function(t,e,i){u2(t,e,i);const{url:a}=e;a!=null&&a!==i.url&&t.setUrl(a)}),m2=ig(function(t){return new ku.Control.Zoom(t)});function wh(s){throw new Error('Could not dynamically require "'+s+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Uf={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var j0;function g2(){return j0||(j0=1,(function(s,t){(function(e){s.exports=e()})(function(){return(function e(i,a,o){function c(v,b){if(!a[v]){if(!i[v]){var k=typeof wh=="function"&&wh;if(!b&&k)return k(v,!0);if(f)return f(v,!0);var P=new Error("Cannot find module '"+v+"'");throw P.code="MODULE_NOT_FOUND",P}var w=a[v]={exports:{}};i[v][0].call(w.exports,function(O){var A=i[v][1][O];return c(A||O)},w,w.exports,e,i,a,o)}return a[v].exports}for(var f=typeof wh=="function"&&wh,p=0;p<o.length;p++)c(o[p]);return c})({1:[function(e,i,a){var o=e("./utils"),c=e("./support"),f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(p){for(var v,b,k,P,w,O,A,I=[],B=0,U=p.length,Z=U,le=o.getTypeOf(p)!=="string";B<p.length;)Z=U-B,k=le?(v=p[B++],b=B<U?p[B++]:0,B<U?p[B++]:0):(v=p.charCodeAt(B++),b=B<U?p.charCodeAt(B++):0,B<U?p.charCodeAt(B++):0),P=v>>2,w=(3&v)<<4|b>>4,O=1<Z?(15&b)<<2|k>>6:64,A=2<Z?63&k:64,I.push(f.charAt(P)+f.charAt(w)+f.charAt(O)+f.charAt(A));return I.join("")},a.decode=function(p){var v,b,k,P,w,O,A=0,I=0,B="data:";if(p.substr(0,B.length)===B)throw new Error("Invalid base64 input, it looks like a data url.");var U,Z=3*(p=p.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(p.charAt(p.length-1)===f.charAt(64)&&Z--,p.charAt(p.length-2)===f.charAt(64)&&Z--,Z%1!=0)throw new Error("Invalid base64 input, bad content length.");for(U=c.uint8array?new Uint8Array(0|Z):new Array(0|Z);A<p.length;)v=f.indexOf(p.charAt(A++))<<2|(P=f.indexOf(p.charAt(A++)))>>4,b=(15&P)<<4|(w=f.indexOf(p.charAt(A++)))>>2,k=(3&w)<<6|(O=f.indexOf(p.charAt(A++))),U[I++]=v,w!==64&&(U[I++]=b),O!==64&&(U[I++]=k);return U}},{"./support":30,"./utils":32}],2:[function(e,i,a){var o=e("./external"),c=e("./stream/DataWorker"),f=e("./stream/Crc32Probe"),p=e("./stream/DataLengthProbe");function v(b,k,P,w,O){this.compressedSize=b,this.uncompressedSize=k,this.crc32=P,this.compression=w,this.compressedContent=O}v.prototype={getContentWorker:function(){var b=new c(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new p("data_length")),k=this;return b.on("end",function(){if(this.streamInfo.data_length!==k.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),b},getCompressedWorker:function(){return new c(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},v.createWorkerFrom=function(b,k,P){return b.pipe(new f).pipe(new p("uncompressedSize")).pipe(k.compressWorker(P)).pipe(new p("compressedSize")).withStreamInfo("compression",k)},i.exports=v},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,i,a){var o=e("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},a.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,i,a){var o=e("./utils"),c=(function(){for(var f,p=[],v=0;v<256;v++){f=v;for(var b=0;b<8;b++)f=1&f?3988292384^f>>>1:f>>>1;p[v]=f}return p})();i.exports=function(f,p){return f!==void 0&&f.length?o.getTypeOf(f)!=="string"?(function(v,b,k,P){var w=c,O=P+k;v^=-1;for(var A=P;A<O;A++)v=v>>>8^w[255&(v^b[A])];return-1^v})(0|p,f,f.length,0):(function(v,b,k,P){var w=c,O=P+k;v^=-1;for(var A=P;A<O;A++)v=v>>>8^w[255&(v^b.charCodeAt(A))];return-1^v})(0|p,f,f.length,0):0}},{"./utils":32}],5:[function(e,i,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(e,i,a){var o=null;o=typeof Promise<"u"?Promise:e("lie"),i.exports={Promise:o}},{lie:37}],7:[function(e,i,a){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",c=e("pako"),f=e("./utils"),p=e("./stream/GenericWorker"),v=o?"uint8array":"array";function b(k,P){p.call(this,"FlateWorker/"+k),this._pako=null,this._pakoAction=k,this._pakoOptions=P,this.meta={}}a.magic="\b\0",f.inherits(b,p),b.prototype.processChunk=function(k){this.meta=k.meta,this._pako===null&&this._createPako(),this._pako.push(f.transformTo(v,k.data),!1)},b.prototype.flush=function(){p.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},b.prototype.cleanUp=function(){p.prototype.cleanUp.call(this),this._pako=null},b.prototype._createPako=function(){this._pako=new c[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var k=this;this._pako.onData=function(P){k.push({data:P,meta:k.meta})}},a.compressWorker=function(k){return new b("Deflate",k)},a.uncompressWorker=function(){return new b("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,i,a){function o(w,O){var A,I="";for(A=0;A<O;A++)I+=String.fromCharCode(255&w),w>>>=8;return I}function c(w,O,A,I,B,U){var Z,le,pe=w.file,ie=w.compression,$=U!==v.utf8encode,Y=f.transformTo("string",U(pe.name)),ue=f.transformTo("string",v.utf8encode(pe.name)),Me=pe.comment,J=f.transformTo("string",U(Me)),G=f.transformTo("string",v.utf8encode(Me)),se=ue.length!==pe.name.length,j=G.length!==Me.length,Ae="",Ue="",je="",Le=pe.dir,Be=pe.date,Ee={crc32:0,compressedSize:0,uncompressedSize:0};O&&!A||(Ee.crc32=w.crc32,Ee.compressedSize=w.compressedSize,Ee.uncompressedSize=w.uncompressedSize);var re=0;O&&(re|=8),$||!se&&!j||(re|=2048);var F=0,ce=0;Le&&(F|=16),B==="UNIX"?(ce=798,F|=(function(_e,Te){var Je=_e;return _e||(Je=Te?16893:33204),(65535&Je)<<16})(pe.unixPermissions,Le)):(ce=20,F|=(function(_e){return 63&(_e||0)})(pe.dosPermissions)),Z=Be.getUTCHours(),Z<<=6,Z|=Be.getUTCMinutes(),Z<<=5,Z|=Be.getUTCSeconds()/2,le=Be.getUTCFullYear()-1980,le<<=4,le|=Be.getUTCMonth()+1,le<<=5,le|=Be.getUTCDate(),se&&(Ue=o(1,1)+o(b(Y),4)+ue,Ae+="up"+o(Ue.length,2)+Ue),j&&(je=o(1,1)+o(b(J),4)+G,Ae+="uc"+o(je.length,2)+je);var me="";return me+=`
\0`,me+=o(re,2),me+=ie.magic,me+=o(Z,2),me+=o(le,2),me+=o(Ee.crc32,4),me+=o(Ee.compressedSize,4),me+=o(Ee.uncompressedSize,4),me+=o(Y.length,2),me+=o(Ae.length,2),{fileRecord:k.LOCAL_FILE_HEADER+me+Y+Ae,dirRecord:k.CENTRAL_FILE_HEADER+o(ce,2)+me+o(J.length,2)+"\0\0\0\0"+o(F,4)+o(I,4)+Y+Ae+J}}var f=e("../utils"),p=e("../stream/GenericWorker"),v=e("../utf8"),b=e("../crc32"),k=e("../signature");function P(w,O,A,I){p.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=O,this.zipPlatform=A,this.encodeFileName=I,this.streamFiles=w,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}f.inherits(P,p),P.prototype.push=function(w){var O=w.meta.percent||0,A=this.entriesCount,I=this._sources.length;this.accumulate?this.contentBuffer.push(w):(this.bytesWritten+=w.data.length,p.prototype.push.call(this,{data:w.data,meta:{currentFile:this.currentFile,percent:A?(O+100*(A-I-1))/A:100}}))},P.prototype.openedSource=function(w){this.currentSourceOffset=this.bytesWritten,this.currentFile=w.file.name;var O=this.streamFiles&&!w.file.dir;if(O){var A=c(w,O,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:A.fileRecord,meta:{percent:0}})}else this.accumulate=!0},P.prototype.closedSource=function(w){this.accumulate=!1;var O=this.streamFiles&&!w.file.dir,A=c(w,O,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(A.dirRecord),O)this.push({data:(function(I){return k.DATA_DESCRIPTOR+o(I.crc32,4)+o(I.compressedSize,4)+o(I.uncompressedSize,4)})(w),meta:{percent:100}});else for(this.push({data:A.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},P.prototype.flush=function(){for(var w=this.bytesWritten,O=0;O<this.dirRecords.length;O++)this.push({data:this.dirRecords[O],meta:{percent:100}});var A=this.bytesWritten-w,I=(function(B,U,Z,le,pe){var ie=f.transformTo("string",pe(le));return k.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(B,2)+o(B,2)+o(U,4)+o(Z,4)+o(ie.length,2)+ie})(this.dirRecords.length,A,w,this.zipComment,this.encodeFileName);this.push({data:I,meta:{percent:100}})},P.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},P.prototype.registerPrevious=function(w){this._sources.push(w);var O=this;return w.on("data",function(A){O.processChunk(A)}),w.on("end",function(){O.closedSource(O.previous.streamInfo),O._sources.length?O.prepareNextSource():O.end()}),w.on("error",function(A){O.error(A)}),this},P.prototype.resume=function(){return!!p.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},P.prototype.error=function(w){var O=this._sources;if(!p.prototype.error.call(this,w))return!1;for(var A=0;A<O.length;A++)try{O[A].error(w)}catch{}return!0},P.prototype.lock=function(){p.prototype.lock.call(this);for(var w=this._sources,O=0;O<w.length;O++)w[O].lock()},i.exports=P},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,i,a){var o=e("../compressions"),c=e("./ZipFileWorker");a.generateWorker=function(f,p,v){var b=new c(p.streamFiles,v,p.platform,p.encodeFileName),k=0;try{f.forEach(function(P,w){k++;var O=(function(U,Z){var le=U||Z,pe=o[le];if(!pe)throw new Error(le+" is not a valid compression method !");return pe})(w.options.compression,p.compression),A=w.options.compressionOptions||p.compressionOptions||{},I=w.dir,B=w.date;w._compressWorker(O,A).withStreamInfo("file",{name:P,dir:I,date:B,comment:w.comment||"",unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions}).pipe(b)}),b.entriesCount=k}catch(P){b.error(P)}return b}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,i,a){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var c=new o;for(var f in this)typeof this[f]!="function"&&(c[f]=this[f]);return c}}(o.prototype=e("./object")).loadAsync=e("./load"),o.support=e("./support"),o.defaults=e("./defaults"),o.version="3.10.1",o.loadAsync=function(c,f){return new o().loadAsync(c,f)},o.external=e("./external"),i.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,i,a){var o=e("./utils"),c=e("./external"),f=e("./utf8"),p=e("./zipEntries"),v=e("./stream/Crc32Probe"),b=e("./nodejsUtils");function k(P){return new c.Promise(function(w,O){var A=P.decompressed.getContentWorker().pipe(new v);A.on("error",function(I){O(I)}).on("end",function(){A.streamInfo.crc32!==P.decompressed.crc32?O(new Error("Corrupted zip : CRC32 mismatch")):w()}).resume()})}i.exports=function(P,w){var O=this;return w=o.extend(w||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:f.utf8decode}),b.isNode&&b.isStream(P)?c.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",P,!0,w.optimizedBinaryString,w.base64).then(function(A){var I=new p(w);return I.load(A),I}).then(function(A){var I=[c.Promise.resolve(A)],B=A.files;if(w.checkCRC32)for(var U=0;U<B.length;U++)I.push(k(B[U]));return c.Promise.all(I)}).then(function(A){for(var I=A.shift(),B=I.files,U=0;U<B.length;U++){var Z=B[U],le=Z.fileNameStr,pe=o.resolve(Z.fileNameStr);O.file(pe,Z.decompressed,{binary:!0,optimizedBinaryString:!0,date:Z.date,dir:Z.dir,comment:Z.fileCommentStr.length?Z.fileCommentStr:null,unixPermissions:Z.unixPermissions,dosPermissions:Z.dosPermissions,createFolders:w.createFolders}),Z.dir||(O.file(pe).unsafeOriginalName=le)}return I.zipComment.length&&(O.comment=I.zipComment),O})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,i,a){var o=e("../utils"),c=e("../stream/GenericWorker");function f(p,v){c.call(this,"Nodejs stream input adapter for "+p),this._upstreamEnded=!1,this._bindStream(v)}o.inherits(f,c),f.prototype._bindStream=function(p){var v=this;(this._stream=p).pause(),p.on("data",function(b){v.push({data:b,meta:{percent:0}})}).on("error",function(b){v.isPaused?this.generatedError=b:v.error(b)}).on("end",function(){v.isPaused?v._upstreamEnded=!0:v.end()})},f.prototype.pause=function(){return!!c.prototype.pause.call(this)&&(this._stream.pause(),!0)},f.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},i.exports=f},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,i,a){var o=e("readable-stream").Readable;function c(f,p,v){o.call(this,p),this._helper=f;var b=this;f.on("data",function(k,P){b.push(k)||b._helper.pause(),v&&v(P)}).on("error",function(k){b.emit("error",k)}).on("end",function(){b.push(null)})}e("../utils").inherits(c,o),c.prototype._read=function(){this._helper.resume()},i.exports=c},{"../utils":32,"readable-stream":16}],14:[function(e,i,a){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,c){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,c);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,c)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var c=new Buffer(o);return c.fill(0),c},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(e,i,a){function o(pe,ie,$){var Y,ue=f.getTypeOf(ie),Me=f.extend($||{},b);Me.date=Me.date||new Date,Me.compression!==null&&(Me.compression=Me.compression.toUpperCase()),typeof Me.unixPermissions=="string"&&(Me.unixPermissions=parseInt(Me.unixPermissions,8)),Me.unixPermissions&&16384&Me.unixPermissions&&(Me.dir=!0),Me.dosPermissions&&16&Me.dosPermissions&&(Me.dir=!0),Me.dir&&(pe=B(pe)),Me.createFolders&&(Y=I(pe))&&U.call(this,Y,!0);var J=ue==="string"&&Me.binary===!1&&Me.base64===!1;$&&$.binary!==void 0||(Me.binary=!J),(ie instanceof k&&ie.uncompressedSize===0||Me.dir||!ie||ie.length===0)&&(Me.base64=!1,Me.binary=!0,ie="",Me.compression="STORE",ue="string");var G=null;G=ie instanceof k||ie instanceof p?ie:O.isNode&&O.isStream(ie)?new A(pe,ie):f.prepareContent(pe,ie,Me.binary,Me.optimizedBinaryString,Me.base64);var se=new P(pe,G,Me);this.files[pe]=se}var c=e("./utf8"),f=e("./utils"),p=e("./stream/GenericWorker"),v=e("./stream/StreamHelper"),b=e("./defaults"),k=e("./compressedObject"),P=e("./zipObject"),w=e("./generate"),O=e("./nodejsUtils"),A=e("./nodejs/NodejsStreamInputAdapter"),I=function(pe){pe.slice(-1)==="/"&&(pe=pe.substring(0,pe.length-1));var ie=pe.lastIndexOf("/");return 0<ie?pe.substring(0,ie):""},B=function(pe){return pe.slice(-1)!=="/"&&(pe+="/"),pe},U=function(pe,ie){return ie=ie!==void 0?ie:b.createFolders,pe=B(pe),this.files[pe]||o.call(this,pe,null,{dir:!0,createFolders:ie}),this.files[pe]};function Z(pe){return Object.prototype.toString.call(pe)==="[object RegExp]"}var le={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(pe){var ie,$,Y;for(ie in this.files)Y=this.files[ie],($=ie.slice(this.root.length,ie.length))&&ie.slice(0,this.root.length)===this.root&&pe($,Y)},filter:function(pe){var ie=[];return this.forEach(function($,Y){pe($,Y)&&ie.push(Y)}),ie},file:function(pe,ie,$){if(arguments.length!==1)return pe=this.root+pe,o.call(this,pe,ie,$),this;if(Z(pe)){var Y=pe;return this.filter(function(Me,J){return!J.dir&&Y.test(Me)})}var ue=this.files[this.root+pe];return ue&&!ue.dir?ue:null},folder:function(pe){if(!pe)return this;if(Z(pe))return this.filter(function(ue,Me){return Me.dir&&pe.test(ue)});var ie=this.root+pe,$=U.call(this,ie),Y=this.clone();return Y.root=$.name,Y},remove:function(pe){pe=this.root+pe;var ie=this.files[pe];if(ie||(pe.slice(-1)!=="/"&&(pe+="/"),ie=this.files[pe]),ie&&!ie.dir)delete this.files[pe];else for(var $=this.filter(function(ue,Me){return Me.name.slice(0,pe.length)===pe}),Y=0;Y<$.length;Y++)delete this.files[$[Y].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(pe){var ie,$={};try{if(($=f.extend(pe||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:c.utf8encode})).type=$.type.toLowerCase(),$.compression=$.compression.toUpperCase(),$.type==="binarystring"&&($.type="string"),!$.type)throw new Error("No output type specified.");f.checkSupport($.type),$.platform!=="darwin"&&$.platform!=="freebsd"&&$.platform!=="linux"&&$.platform!=="sunos"||($.platform="UNIX"),$.platform==="win32"&&($.platform="DOS");var Y=$.comment||this.comment||"";ie=w.generateWorker(this,$,Y)}catch(ue){(ie=new p("error")).error(ue)}return new v(ie,$.type||"string",$.mimeType)},generateAsync:function(pe,ie){return this.generateInternalStream(pe).accumulate(ie)},generateNodeStream:function(pe,ie){return(pe=pe||{}).type||(pe.type="nodebuffer"),this.generateInternalStream(pe).toNodejsStream(ie)}};i.exports=le},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,i,a){i.exports=e("stream")},{stream:void 0}],17:[function(e,i,a){var o=e("./DataReader");function c(f){o.call(this,f);for(var p=0;p<this.data.length;p++)f[p]=255&f[p]}e("../utils").inherits(c,o),c.prototype.byteAt=function(f){return this.data[this.zero+f]},c.prototype.lastIndexOfSignature=function(f){for(var p=f.charCodeAt(0),v=f.charCodeAt(1),b=f.charCodeAt(2),k=f.charCodeAt(3),P=this.length-4;0<=P;--P)if(this.data[P]===p&&this.data[P+1]===v&&this.data[P+2]===b&&this.data[P+3]===k)return P-this.zero;return-1},c.prototype.readAndCheckSignature=function(f){var p=f.charCodeAt(0),v=f.charCodeAt(1),b=f.charCodeAt(2),k=f.charCodeAt(3),P=this.readData(4);return p===P[0]&&v===P[1]&&b===P[2]&&k===P[3]},c.prototype.readData=function(f){if(this.checkOffset(f),f===0)return[];var p=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,p},i.exports=c},{"../utils":32,"./DataReader":18}],18:[function(e,i,a){var o=e("../utils");function c(f){this.data=f,this.length=f.length,this.index=0,this.zero=0}c.prototype={checkOffset:function(f){this.checkIndex(this.index+f)},checkIndex:function(f){if(this.length<this.zero+f||f<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+f+"). Corrupted zip ?")},setIndex:function(f){this.checkIndex(f),this.index=f},skip:function(f){this.setIndex(this.index+f)},byteAt:function(){},readInt:function(f){var p,v=0;for(this.checkOffset(f),p=this.index+f-1;p>=this.index;p--)v=(v<<8)+this.byteAt(p);return this.index+=f,v},readString:function(f){return o.transformTo("string",this.readData(f))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var f=this.readInt(4);return new Date(Date.UTC(1980+(f>>25&127),(f>>21&15)-1,f>>16&31,f>>11&31,f>>5&63,(31&f)<<1))}},i.exports=c},{"../utils":32}],19:[function(e,i,a){var o=e("./Uint8ArrayReader");function c(f){o.call(this,f)}e("../utils").inherits(c,o),c.prototype.readData=function(f){this.checkOffset(f);var p=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,p},i.exports=c},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,i,a){var o=e("./DataReader");function c(f){o.call(this,f)}e("../utils").inherits(c,o),c.prototype.byteAt=function(f){return this.data.charCodeAt(this.zero+f)},c.prototype.lastIndexOfSignature=function(f){return this.data.lastIndexOf(f)-this.zero},c.prototype.readAndCheckSignature=function(f){return f===this.readData(4)},c.prototype.readData=function(f){this.checkOffset(f);var p=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,p},i.exports=c},{"../utils":32,"./DataReader":18}],21:[function(e,i,a){var o=e("./ArrayReader");function c(f){o.call(this,f)}e("../utils").inherits(c,o),c.prototype.readData=function(f){if(this.checkOffset(f),f===0)return new Uint8Array(0);var p=this.data.subarray(this.zero+this.index,this.zero+this.index+f);return this.index+=f,p},i.exports=c},{"../utils":32,"./ArrayReader":17}],22:[function(e,i,a){var o=e("../utils"),c=e("../support"),f=e("./ArrayReader"),p=e("./StringReader"),v=e("./NodeBufferReader"),b=e("./Uint8ArrayReader");i.exports=function(k){var P=o.getTypeOf(k);return o.checkSupport(P),P!=="string"||c.uint8array?P==="nodebuffer"?new v(k):c.uint8array?new b(o.transformTo("uint8array",k)):new f(o.transformTo("array",k)):new p(k)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,i,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,i,a){var o=e("./GenericWorker"),c=e("../utils");function f(p){o.call(this,"ConvertWorker to "+p),this.destType=p}c.inherits(f,o),f.prototype.processChunk=function(p){this.push({data:c.transformTo(this.destType,p.data),meta:p.meta})},i.exports=f},{"../utils":32,"./GenericWorker":28}],25:[function(e,i,a){var o=e("./GenericWorker"),c=e("../crc32");function f(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(f,o),f.prototype.processChunk=function(p){this.streamInfo.crc32=c(p.data,this.streamInfo.crc32||0),this.push(p)},i.exports=f},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,i,a){var o=e("../utils"),c=e("./GenericWorker");function f(p){c.call(this,"DataLengthProbe for "+p),this.propName=p,this.withStreamInfo(p,0)}o.inherits(f,c),f.prototype.processChunk=function(p){if(p){var v=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=v+p.data.length}c.prototype.processChunk.call(this,p)},i.exports=f},{"../utils":32,"./GenericWorker":28}],27:[function(e,i,a){var o=e("../utils"),c=e("./GenericWorker");function f(p){c.call(this,"DataWorker");var v=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,p.then(function(b){v.dataIsReady=!0,v.data=b,v.max=b&&b.length||0,v.type=o.getTypeOf(b),v.isPaused||v._tickAndRepeat()},function(b){v.error(b)})}o.inherits(f,c),f.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this.data=null},f.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},f.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},f.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var p=null,v=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":p=this.data.substring(this.index,v);break;case"uint8array":p=this.data.subarray(this.index,v);break;case"array":case"nodebuffer":p=this.data.slice(this.index,v)}return this.index=v,this.push({data:p,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=f},{"../utils":32,"./GenericWorker":28}],28:[function(e,i,a){function o(c){this.name=c||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(c){this.emit("data",c)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(c){this.emit("error",c)}return!0},error:function(c){return!this.isFinished&&(this.isPaused?this.generatedError=c:(this.isFinished=!0,this.emit("error",c),this.previous&&this.previous.error(c),this.cleanUp()),!0)},on:function(c,f){return this._listeners[c].push(f),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(c,f){if(this._listeners[c])for(var p=0;p<this._listeners[c].length;p++)this._listeners[c][p].call(this,f)},pipe:function(c){return c.registerPrevious(this)},registerPrevious:function(c){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=c.streamInfo,this.mergeStreamInfo(),this.previous=c;var f=this;return c.on("data",function(p){f.processChunk(p)}),c.on("end",function(){f.end()}),c.on("error",function(p){f.error(p)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var c=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),c=!0),this.previous&&this.previous.resume(),!c},flush:function(){},processChunk:function(c){this.push(c)},withStreamInfo:function(c,f){return this.extraStreamInfo[c]=f,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var c in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,c)&&(this.streamInfo[c]=this.extraStreamInfo[c])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var c="Worker "+this.name;return this.previous?this.previous+" -> "+c:c}},i.exports=o},{}],29:[function(e,i,a){var o=e("../utils"),c=e("./ConvertWorker"),f=e("./GenericWorker"),p=e("../base64"),v=e("../support"),b=e("../external"),k=null;if(v.nodestream)try{k=e("../nodejs/NodejsStreamOutputAdapter")}catch{}function P(O,A){return new b.Promise(function(I,B){var U=[],Z=O._internalType,le=O._outputType,pe=O._mimeType;O.on("data",function(ie,$){U.push(ie),A&&A($)}).on("error",function(ie){U=[],B(ie)}).on("end",function(){try{var ie=(function($,Y,ue){switch($){case"blob":return o.newBlob(o.transformTo("arraybuffer",Y),ue);case"base64":return p.encode(Y);default:return o.transformTo($,Y)}})(le,(function($,Y){var ue,Me=0,J=null,G=0;for(ue=0;ue<Y.length;ue++)G+=Y[ue].length;switch($){case"string":return Y.join("");case"array":return Array.prototype.concat.apply([],Y);case"uint8array":for(J=new Uint8Array(G),ue=0;ue<Y.length;ue++)J.set(Y[ue],Me),Me+=Y[ue].length;return J;case"nodebuffer":return Buffer.concat(Y);default:throw new Error("concat : unsupported type '"+$+"'")}})(Z,U),pe);I(ie)}catch($){B($)}U=[]}).resume()})}function w(O,A,I){var B=A;switch(A){case"blob":case"arraybuffer":B="uint8array";break;case"base64":B="string"}try{this._internalType=B,this._outputType=A,this._mimeType=I,o.checkSupport(B),this._worker=O.pipe(new c(B)),O.lock()}catch(U){this._worker=new f("error"),this._worker.error(U)}}w.prototype={accumulate:function(O){return P(this,O)},on:function(O,A){var I=this;return O==="data"?this._worker.on(O,function(B){A.call(I,B.data,B.meta)}):this._worker.on(O,function(){o.delay(A,arguments,I)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(O){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new k(this,{objectMode:this._outputType!=="nodebuffer"},O)}},i.exports=w},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,i,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var o=new ArrayBuffer(0);try{a.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);c.append(o),a.blob=c.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!e("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(e,i,a){for(var o=e("./utils"),c=e("./support"),f=e("./nodejsUtils"),p=e("./stream/GenericWorker"),v=new Array(256),b=0;b<256;b++)v[b]=252<=b?6:248<=b?5:240<=b?4:224<=b?3:192<=b?2:1;v[254]=v[254]=1;function k(){p.call(this,"utf-8 decode"),this.leftOver=null}function P(){p.call(this,"utf-8 encode")}a.utf8encode=function(w){return c.nodebuffer?f.newBufferFrom(w,"utf-8"):(function(O){var A,I,B,U,Z,le=O.length,pe=0;for(U=0;U<le;U++)(64512&(I=O.charCodeAt(U)))==55296&&U+1<le&&(64512&(B=O.charCodeAt(U+1)))==56320&&(I=65536+(I-55296<<10)+(B-56320),U++),pe+=I<128?1:I<2048?2:I<65536?3:4;for(A=c.uint8array?new Uint8Array(pe):new Array(pe),U=Z=0;Z<pe;U++)(64512&(I=O.charCodeAt(U)))==55296&&U+1<le&&(64512&(B=O.charCodeAt(U+1)))==56320&&(I=65536+(I-55296<<10)+(B-56320),U++),I<128?A[Z++]=I:(I<2048?A[Z++]=192|I>>>6:(I<65536?A[Z++]=224|I>>>12:(A[Z++]=240|I>>>18,A[Z++]=128|I>>>12&63),A[Z++]=128|I>>>6&63),A[Z++]=128|63&I);return A})(w)},a.utf8decode=function(w){return c.nodebuffer?o.transformTo("nodebuffer",w).toString("utf-8"):(function(O){var A,I,B,U,Z=O.length,le=new Array(2*Z);for(A=I=0;A<Z;)if((B=O[A++])<128)le[I++]=B;else if(4<(U=v[B]))le[I++]=65533,A+=U-1;else{for(B&=U===2?31:U===3?15:7;1<U&&A<Z;)B=B<<6|63&O[A++],U--;1<U?le[I++]=65533:B<65536?le[I++]=B:(B-=65536,le[I++]=55296|B>>10&1023,le[I++]=56320|1023&B)}return le.length!==I&&(le.subarray?le=le.subarray(0,I):le.length=I),o.applyFromCharCode(le)})(w=o.transformTo(c.uint8array?"uint8array":"array",w))},o.inherits(k,p),k.prototype.processChunk=function(w){var O=o.transformTo(c.uint8array?"uint8array":"array",w.data);if(this.leftOver&&this.leftOver.length){if(c.uint8array){var A=O;(O=new Uint8Array(A.length+this.leftOver.length)).set(this.leftOver,0),O.set(A,this.leftOver.length)}else O=this.leftOver.concat(O);this.leftOver=null}var I=(function(U,Z){var le;for((Z=Z||U.length)>U.length&&(Z=U.length),le=Z-1;0<=le&&(192&U[le])==128;)le--;return le<0||le===0?Z:le+v[U[le]]>Z?le:Z})(O),B=O;I!==O.length&&(c.uint8array?(B=O.subarray(0,I),this.leftOver=O.subarray(I,O.length)):(B=O.slice(0,I),this.leftOver=O.slice(I,O.length))),this.push({data:a.utf8decode(B),meta:w.meta})},k.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=k,o.inherits(P,p),P.prototype.processChunk=function(w){this.push({data:a.utf8encode(w.data),meta:w.meta})},a.Utf8EncodeWorker=P},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,i,a){var o=e("./support"),c=e("./base64"),f=e("./nodejsUtils"),p=e("./external");function v(A){return A}function b(A,I){for(var B=0;B<A.length;++B)I[B]=255&A.charCodeAt(B);return I}e("setimmediate"),a.newBlob=function(A,I){a.checkSupport("blob");try{return new Blob([A],{type:I})}catch{try{var B=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return B.append(A),B.getBlob(I)}catch{throw new Error("Bug : can't construct the Blob.")}}};var k={stringifyByChunk:function(A,I,B){var U=[],Z=0,le=A.length;if(le<=B)return String.fromCharCode.apply(null,A);for(;Z<le;)I==="array"||I==="nodebuffer"?U.push(String.fromCharCode.apply(null,A.slice(Z,Math.min(Z+B,le)))):U.push(String.fromCharCode.apply(null,A.subarray(Z,Math.min(Z+B,le)))),Z+=B;return U.join("")},stringifyByChar:function(A){for(var I="",B=0;B<A.length;B++)I+=String.fromCharCode(A[B]);return I},applyCanBeUsed:{uint8array:(function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,f.allocBuffer(1)).length===1}catch{return!1}})()}};function P(A){var I=65536,B=a.getTypeOf(A),U=!0;if(B==="uint8array"?U=k.applyCanBeUsed.uint8array:B==="nodebuffer"&&(U=k.applyCanBeUsed.nodebuffer),U)for(;1<I;)try{return k.stringifyByChunk(A,B,I)}catch{I=Math.floor(I/2)}return k.stringifyByChar(A)}function w(A,I){for(var B=0;B<A.length;B++)I[B]=A[B];return I}a.applyFromCharCode=P;var O={};O.string={string:v,array:function(A){return b(A,new Array(A.length))},arraybuffer:function(A){return O.string.uint8array(A).buffer},uint8array:function(A){return b(A,new Uint8Array(A.length))},nodebuffer:function(A){return b(A,f.allocBuffer(A.length))}},O.array={string:P,array:v,arraybuffer:function(A){return new Uint8Array(A).buffer},uint8array:function(A){return new Uint8Array(A)},nodebuffer:function(A){return f.newBufferFrom(A)}},O.arraybuffer={string:function(A){return P(new Uint8Array(A))},array:function(A){return w(new Uint8Array(A),new Array(A.byteLength))},arraybuffer:v,uint8array:function(A){return new Uint8Array(A)},nodebuffer:function(A){return f.newBufferFrom(new Uint8Array(A))}},O.uint8array={string:P,array:function(A){return w(A,new Array(A.length))},arraybuffer:function(A){return A.buffer},uint8array:v,nodebuffer:function(A){return f.newBufferFrom(A)}},O.nodebuffer={string:P,array:function(A){return w(A,new Array(A.length))},arraybuffer:function(A){return O.nodebuffer.uint8array(A).buffer},uint8array:function(A){return w(A,new Uint8Array(A.length))},nodebuffer:v},a.transformTo=function(A,I){if(I=I||"",!A)return I;a.checkSupport(A);var B=a.getTypeOf(I);return O[B][A](I)},a.resolve=function(A){for(var I=A.split("/"),B=[],U=0;U<I.length;U++){var Z=I[U];Z==="."||Z===""&&U!==0&&U!==I.length-1||(Z===".."?B.pop():B.push(Z))}return B.join("/")},a.getTypeOf=function(A){return typeof A=="string"?"string":Object.prototype.toString.call(A)==="[object Array]"?"array":o.nodebuffer&&f.isBuffer(A)?"nodebuffer":o.uint8array&&A instanceof Uint8Array?"uint8array":o.arraybuffer&&A instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(A){if(!o[A.toLowerCase()])throw new Error(A+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(A){var I,B,U="";for(B=0;B<(A||"").length;B++)U+="\\x"+((I=A.charCodeAt(B))<16?"0":"")+I.toString(16).toUpperCase();return U},a.delay=function(A,I,B){setImmediate(function(){A.apply(B||null,I||[])})},a.inherits=function(A,I){function B(){}B.prototype=I.prototype,A.prototype=new B},a.extend=function(){var A,I,B={};for(A=0;A<arguments.length;A++)for(I in arguments[A])Object.prototype.hasOwnProperty.call(arguments[A],I)&&B[I]===void 0&&(B[I]=arguments[A][I]);return B},a.prepareContent=function(A,I,B,U,Z){return p.Promise.resolve(I).then(function(le){return o.blob&&(le instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(le))!==-1)&&typeof FileReader<"u"?new p.Promise(function(pe,ie){var $=new FileReader;$.onload=function(Y){pe(Y.target.result)},$.onerror=function(Y){ie(Y.target.error)},$.readAsArrayBuffer(le)}):le}).then(function(le){var pe=a.getTypeOf(le);return pe?(pe==="arraybuffer"?le=a.transformTo("uint8array",le):pe==="string"&&(Z?le=c.decode(le):B&&U!==!0&&(le=(function(ie){return b(ie,o.uint8array?new Uint8Array(ie.length):new Array(ie.length))})(le))),le):p.Promise.reject(new Error("Can't read the data of '"+A+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,i,a){var o=e("./reader/readerFor"),c=e("./utils"),f=e("./signature"),p=e("./zipEntry"),v=e("./support");function b(k){this.files=[],this.loadOptions=k}b.prototype={checkSignature:function(k){if(!this.reader.readAndCheckSignature(k)){this.reader.index-=4;var P=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+c.pretty(P)+", expected "+c.pretty(k)+")")}},isSignature:function(k,P){var w=this.reader.index;this.reader.setIndex(k);var O=this.reader.readString(4)===P;return this.reader.setIndex(w),O},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var k=this.reader.readData(this.zipCommentLength),P=v.uint8array?"uint8array":"array",w=c.transformTo(P,k);this.zipComment=this.loadOptions.decodeFileName(w)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var k,P,w,O=this.zip64EndOfCentralSize-44;0<O;)k=this.reader.readInt(2),P=this.reader.readInt(4),w=this.reader.readData(P),this.zip64ExtensibleData[k]={id:k,length:P,value:w}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var k,P;for(k=0;k<this.files.length;k++)P=this.files[k],this.reader.setIndex(P.localHeaderOffset),this.checkSignature(f.LOCAL_FILE_HEADER),P.readLocalPart(this.reader),P.handleUTF8(),P.processAttributes()},readCentralDir:function(){var k;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(f.CENTRAL_FILE_HEADER);)(k=new p({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(k);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var k=this.reader.lastIndexOfSignature(f.CENTRAL_DIRECTORY_END);if(k<0)throw this.isSignature(0,f.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(k);var P=k;if(this.checkSignature(f.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===c.MAX_VALUE_16BITS||this.diskWithCentralDirStart===c.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===c.MAX_VALUE_16BITS||this.centralDirRecords===c.MAX_VALUE_16BITS||this.centralDirSize===c.MAX_VALUE_32BITS||this.centralDirOffset===c.MAX_VALUE_32BITS){if(this.zip64=!0,(k=this.reader.lastIndexOfSignature(f.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(k),this.checkSignature(f.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,f.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(f.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(f.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var w=this.centralDirOffset+this.centralDirSize;this.zip64&&(w+=20,w+=12+this.zip64EndOfCentralSize);var O=P-w;if(0<O)this.isSignature(P,f.CENTRAL_FILE_HEADER)||(this.reader.zero=O);else if(O<0)throw new Error("Corrupted zip: missing "+Math.abs(O)+" bytes.")},prepareReader:function(k){this.reader=o(k)},load:function(k){this.prepareReader(k),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=b},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,i,a){var o=e("./reader/readerFor"),c=e("./utils"),f=e("./compressedObject"),p=e("./crc32"),v=e("./utf8"),b=e("./compressions"),k=e("./support");function P(w,O){this.options=w,this.loadOptions=O}P.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(w){var O,A;if(w.skip(22),this.fileNameLength=w.readInt(2),A=w.readInt(2),this.fileName=w.readData(this.fileNameLength),w.skip(A),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((O=(function(I){for(var B in b)if(Object.prototype.hasOwnProperty.call(b,B)&&b[B].magic===I)return b[B];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+c.pretty(this.compressionMethod)+" unknown (inner file : "+c.transformTo("string",this.fileName)+")");this.decompressed=new f(this.compressedSize,this.uncompressedSize,this.crc32,O,w.readData(this.compressedSize))},readCentralPart:function(w){this.versionMadeBy=w.readInt(2),w.skip(2),this.bitFlag=w.readInt(2),this.compressionMethod=w.readString(2),this.date=w.readDate(),this.crc32=w.readInt(4),this.compressedSize=w.readInt(4),this.uncompressedSize=w.readInt(4);var O=w.readInt(2);if(this.extraFieldsLength=w.readInt(2),this.fileCommentLength=w.readInt(2),this.diskNumberStart=w.readInt(2),this.internalFileAttributes=w.readInt(2),this.externalFileAttributes=w.readInt(4),this.localHeaderOffset=w.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");w.skip(O),this.readExtraFields(w),this.parseZIP64ExtraField(w),this.fileComment=w.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var w=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),w==0&&(this.dosPermissions=63&this.externalFileAttributes),w==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var w=o(this.extraFields[1].value);this.uncompressedSize===c.MAX_VALUE_32BITS&&(this.uncompressedSize=w.readInt(8)),this.compressedSize===c.MAX_VALUE_32BITS&&(this.compressedSize=w.readInt(8)),this.localHeaderOffset===c.MAX_VALUE_32BITS&&(this.localHeaderOffset=w.readInt(8)),this.diskNumberStart===c.MAX_VALUE_32BITS&&(this.diskNumberStart=w.readInt(4))}},readExtraFields:function(w){var O,A,I,B=w.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});w.index+4<B;)O=w.readInt(2),A=w.readInt(2),I=w.readData(A),this.extraFields[O]={id:O,length:A,value:I};w.setIndex(B)},handleUTF8:function(){var w=k.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=v.utf8decode(this.fileName),this.fileCommentStr=v.utf8decode(this.fileComment);else{var O=this.findExtraFieldUnicodePath();if(O!==null)this.fileNameStr=O;else{var A=c.transformTo(w,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(A)}var I=this.findExtraFieldUnicodeComment();if(I!==null)this.fileCommentStr=I;else{var B=c.transformTo(w,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(B)}}},findExtraFieldUnicodePath:function(){var w=this.extraFields[28789];if(w){var O=o(w.value);return O.readInt(1)!==1||p(this.fileName)!==O.readInt(4)?null:v.utf8decode(O.readData(w.length-5))}return null},findExtraFieldUnicodeComment:function(){var w=this.extraFields[25461];if(w){var O=o(w.value);return O.readInt(1)!==1||p(this.fileComment)!==O.readInt(4)?null:v.utf8decode(O.readData(w.length-5))}return null}},i.exports=P},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,i,a){function o(O,A,I){this.name=O,this.dir=I.dir,this.date=I.date,this.comment=I.comment,this.unixPermissions=I.unixPermissions,this.dosPermissions=I.dosPermissions,this._data=A,this._dataBinary=I.binary,this.options={compression:I.compression,compressionOptions:I.compressionOptions}}var c=e("./stream/StreamHelper"),f=e("./stream/DataWorker"),p=e("./utf8"),v=e("./compressedObject"),b=e("./stream/GenericWorker");o.prototype={internalStream:function(O){var A=null,I="string";try{if(!O)throw new Error("No output type specified.");var B=(I=O.toLowerCase())==="string"||I==="text";I!=="binarystring"&&I!=="text"||(I="string"),A=this._decompressWorker();var U=!this._dataBinary;U&&!B&&(A=A.pipe(new p.Utf8EncodeWorker)),!U&&B&&(A=A.pipe(new p.Utf8DecodeWorker))}catch(Z){(A=new b("error")).error(Z)}return new c(A,I,"")},async:function(O,A){return this.internalStream(O).accumulate(A)},nodeStream:function(O,A){return this.internalStream(O||"nodebuffer").toNodejsStream(A)},_compressWorker:function(O,A){if(this._data instanceof v&&this._data.compression.magic===O.magic)return this._data.getCompressedWorker();var I=this._decompressWorker();return this._dataBinary||(I=I.pipe(new p.Utf8EncodeWorker)),v.createWorkerFrom(I,O,A)},_decompressWorker:function(){return this._data instanceof v?this._data.getContentWorker():this._data instanceof b?this._data:new f(this._data)}};for(var k=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],P=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},w=0;w<k.length;w++)o.prototype[k[w]]=P;i.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,i,a){(function(o){var c,f,p=o.MutationObserver||o.WebKitMutationObserver;if(p){var v=0,b=new p(O),k=o.document.createTextNode("");b.observe(k,{characterData:!0}),c=function(){k.data=v=++v%2}}else if(o.setImmediate||o.MessageChannel===void 0)c="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var A=o.document.createElement("script");A.onreadystatechange=function(){O(),A.onreadystatechange=null,A.parentNode.removeChild(A),A=null},o.document.documentElement.appendChild(A)}:function(){setTimeout(O,0)};else{var P=new o.MessageChannel;P.port1.onmessage=O,c=function(){P.port2.postMessage(0)}}var w=[];function O(){var A,I;f=!0;for(var B=w.length;B;){for(I=w,w=[],A=-1;++A<B;)I[A]();B=w.length}f=!1}i.exports=function(A){w.push(A)!==1||f||c()}}).call(this,typeof Kl<"u"?Kl:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(e,i,a){var o=e("immediate");function c(){}var f={},p=["REJECTED"],v=["FULFILLED"],b=["PENDING"];function k(B){if(typeof B!="function")throw new TypeError("resolver must be a function");this.state=b,this.queue=[],this.outcome=void 0,B!==c&&A(this,B)}function P(B,U,Z){this.promise=B,typeof U=="function"&&(this.onFulfilled=U,this.callFulfilled=this.otherCallFulfilled),typeof Z=="function"&&(this.onRejected=Z,this.callRejected=this.otherCallRejected)}function w(B,U,Z){o(function(){var le;try{le=U(Z)}catch(pe){return f.reject(B,pe)}le===B?f.reject(B,new TypeError("Cannot resolve promise with itself")):f.resolve(B,le)})}function O(B){var U=B&&B.then;if(B&&(typeof B=="object"||typeof B=="function")&&typeof U=="function")return function(){U.apply(B,arguments)}}function A(B,U){var Z=!1;function le($){Z||(Z=!0,f.reject(B,$))}function pe($){Z||(Z=!0,f.resolve(B,$))}var ie=I(function(){U(pe,le)});ie.status==="error"&&le(ie.value)}function I(B,U){var Z={};try{Z.value=B(U),Z.status="success"}catch(le){Z.status="error",Z.value=le}return Z}(i.exports=k).prototype.finally=function(B){if(typeof B!="function")return this;var U=this.constructor;return this.then(function(Z){return U.resolve(B()).then(function(){return Z})},function(Z){return U.resolve(B()).then(function(){throw Z})})},k.prototype.catch=function(B){return this.then(null,B)},k.prototype.then=function(B,U){if(typeof B!="function"&&this.state===v||typeof U!="function"&&this.state===p)return this;var Z=new this.constructor(c);return this.state!==b?w(Z,this.state===v?B:U,this.outcome):this.queue.push(new P(Z,B,U)),Z},P.prototype.callFulfilled=function(B){f.resolve(this.promise,B)},P.prototype.otherCallFulfilled=function(B){w(this.promise,this.onFulfilled,B)},P.prototype.callRejected=function(B){f.reject(this.promise,B)},P.prototype.otherCallRejected=function(B){w(this.promise,this.onRejected,B)},f.resolve=function(B,U){var Z=I(O,U);if(Z.status==="error")return f.reject(B,Z.value);var le=Z.value;if(le)A(B,le);else{B.state=v,B.outcome=U;for(var pe=-1,ie=B.queue.length;++pe<ie;)B.queue[pe].callFulfilled(U)}return B},f.reject=function(B,U){B.state=p,B.outcome=U;for(var Z=-1,le=B.queue.length;++Z<le;)B.queue[Z].callRejected(U);return B},k.resolve=function(B){return B instanceof this?B:f.resolve(new this(c),B)},k.reject=function(B){var U=new this(c);return f.reject(U,B)},k.all=function(B){var U=this;if(Object.prototype.toString.call(B)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Z=B.length,le=!1;if(!Z)return this.resolve([]);for(var pe=new Array(Z),ie=0,$=-1,Y=new this(c);++$<Z;)ue(B[$],$);return Y;function ue(Me,J){U.resolve(Me).then(function(G){pe[J]=G,++ie!==Z||le||(le=!0,f.resolve(Y,pe))},function(G){le||(le=!0,f.reject(Y,G))})}},k.race=function(B){var U=this;if(Object.prototype.toString.call(B)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Z=B.length,le=!1;if(!Z)return this.resolve([]);for(var pe=-1,ie=new this(c);++pe<Z;)$=B[pe],U.resolve($).then(function(Y){le||(le=!0,f.resolve(ie,Y))},function(Y){le||(le=!0,f.reject(ie,Y))});var $;return ie}},{immediate:36}],38:[function(e,i,a){var o={};(0,e("./lib/utils/common").assign)(o,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),i.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,i,a){var o=e("./zlib/deflate"),c=e("./utils/common"),f=e("./utils/strings"),p=e("./zlib/messages"),v=e("./zlib/zstream"),b=Object.prototype.toString,k=0,P=-1,w=0,O=8;function A(B){if(!(this instanceof A))return new A(B);this.options=c.assign({level:P,method:O,chunkSize:16384,windowBits:15,memLevel:8,strategy:w,to:""},B||{});var U=this.options;U.raw&&0<U.windowBits?U.windowBits=-U.windowBits:U.gzip&&0<U.windowBits&&U.windowBits<16&&(U.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new v,this.strm.avail_out=0;var Z=o.deflateInit2(this.strm,U.level,U.method,U.windowBits,U.memLevel,U.strategy);if(Z!==k)throw new Error(p[Z]);if(U.header&&o.deflateSetHeader(this.strm,U.header),U.dictionary){var le;if(le=typeof U.dictionary=="string"?f.string2buf(U.dictionary):b.call(U.dictionary)==="[object ArrayBuffer]"?new Uint8Array(U.dictionary):U.dictionary,(Z=o.deflateSetDictionary(this.strm,le))!==k)throw new Error(p[Z]);this._dict_set=!0}}function I(B,U){var Z=new A(U);if(Z.push(B,!0),Z.err)throw Z.msg||p[Z.err];return Z.result}A.prototype.push=function(B,U){var Z,le,pe=this.strm,ie=this.options.chunkSize;if(this.ended)return!1;le=U===~~U?U:U===!0?4:0,typeof B=="string"?pe.input=f.string2buf(B):b.call(B)==="[object ArrayBuffer]"?pe.input=new Uint8Array(B):pe.input=B,pe.next_in=0,pe.avail_in=pe.input.length;do{if(pe.avail_out===0&&(pe.output=new c.Buf8(ie),pe.next_out=0,pe.avail_out=ie),(Z=o.deflate(pe,le))!==1&&Z!==k)return this.onEnd(Z),!(this.ended=!0);pe.avail_out!==0&&(pe.avail_in!==0||le!==4&&le!==2)||(this.options.to==="string"?this.onData(f.buf2binstring(c.shrinkBuf(pe.output,pe.next_out))):this.onData(c.shrinkBuf(pe.output,pe.next_out)))}while((0<pe.avail_in||pe.avail_out===0)&&Z!==1);return le===4?(Z=o.deflateEnd(this.strm),this.onEnd(Z),this.ended=!0,Z===k):le!==2||(this.onEnd(k),!(pe.avail_out=0))},A.prototype.onData=function(B){this.chunks.push(B)},A.prototype.onEnd=function(B){B===k&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=B,this.msg=this.strm.msg},a.Deflate=A,a.deflate=I,a.deflateRaw=function(B,U){return(U=U||{}).raw=!0,I(B,U)},a.gzip=function(B,U){return(U=U||{}).gzip=!0,I(B,U)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,i,a){var o=e("./zlib/inflate"),c=e("./utils/common"),f=e("./utils/strings"),p=e("./zlib/constants"),v=e("./zlib/messages"),b=e("./zlib/zstream"),k=e("./zlib/gzheader"),P=Object.prototype.toString;function w(A){if(!(this instanceof w))return new w(A);this.options=c.assign({chunkSize:16384,windowBits:0,to:""},A||{});var I=this.options;I.raw&&0<=I.windowBits&&I.windowBits<16&&(I.windowBits=-I.windowBits,I.windowBits===0&&(I.windowBits=-15)),!(0<=I.windowBits&&I.windowBits<16)||A&&A.windowBits||(I.windowBits+=32),15<I.windowBits&&I.windowBits<48&&(15&I.windowBits)==0&&(I.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new b,this.strm.avail_out=0;var B=o.inflateInit2(this.strm,I.windowBits);if(B!==p.Z_OK)throw new Error(v[B]);this.header=new k,o.inflateGetHeader(this.strm,this.header)}function O(A,I){var B=new w(I);if(B.push(A,!0),B.err)throw B.msg||v[B.err];return B.result}w.prototype.push=function(A,I){var B,U,Z,le,pe,ie,$=this.strm,Y=this.options.chunkSize,ue=this.options.dictionary,Me=!1;if(this.ended)return!1;U=I===~~I?I:I===!0?p.Z_FINISH:p.Z_NO_FLUSH,typeof A=="string"?$.input=f.binstring2buf(A):P.call(A)==="[object ArrayBuffer]"?$.input=new Uint8Array(A):$.input=A,$.next_in=0,$.avail_in=$.input.length;do{if($.avail_out===0&&($.output=new c.Buf8(Y),$.next_out=0,$.avail_out=Y),(B=o.inflate($,p.Z_NO_FLUSH))===p.Z_NEED_DICT&&ue&&(ie=typeof ue=="string"?f.string2buf(ue):P.call(ue)==="[object ArrayBuffer]"?new Uint8Array(ue):ue,B=o.inflateSetDictionary(this.strm,ie)),B===p.Z_BUF_ERROR&&Me===!0&&(B=p.Z_OK,Me=!1),B!==p.Z_STREAM_END&&B!==p.Z_OK)return this.onEnd(B),!(this.ended=!0);$.next_out&&($.avail_out!==0&&B!==p.Z_STREAM_END&&($.avail_in!==0||U!==p.Z_FINISH&&U!==p.Z_SYNC_FLUSH)||(this.options.to==="string"?(Z=f.utf8border($.output,$.next_out),le=$.next_out-Z,pe=f.buf2string($.output,Z),$.next_out=le,$.avail_out=Y-le,le&&c.arraySet($.output,$.output,Z,le,0),this.onData(pe)):this.onData(c.shrinkBuf($.output,$.next_out)))),$.avail_in===0&&$.avail_out===0&&(Me=!0)}while((0<$.avail_in||$.avail_out===0)&&B!==p.Z_STREAM_END);return B===p.Z_STREAM_END&&(U=p.Z_FINISH),U===p.Z_FINISH?(B=o.inflateEnd(this.strm),this.onEnd(B),this.ended=!0,B===p.Z_OK):U!==p.Z_SYNC_FLUSH||(this.onEnd(p.Z_OK),!($.avail_out=0))},w.prototype.onData=function(A){this.chunks.push(A)},w.prototype.onEnd=function(A){A===p.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=A,this.msg=this.strm.msg},a.Inflate=w,a.inflate=O,a.inflateRaw=function(A,I){return(I=I||{}).raw=!0,O(A,I)},a.ungzip=O},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,i,a){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(p){for(var v=Array.prototype.slice.call(arguments,1);v.length;){var b=v.shift();if(b){if(typeof b!="object")throw new TypeError(b+"must be non-object");for(var k in b)b.hasOwnProperty(k)&&(p[k]=b[k])}}return p},a.shrinkBuf=function(p,v){return p.length===v?p:p.subarray?p.subarray(0,v):(p.length=v,p)};var c={arraySet:function(p,v,b,k,P){if(v.subarray&&p.subarray)p.set(v.subarray(b,b+k),P);else for(var w=0;w<k;w++)p[P+w]=v[b+w]},flattenChunks:function(p){var v,b,k,P,w,O;for(v=k=0,b=p.length;v<b;v++)k+=p[v].length;for(O=new Uint8Array(k),v=P=0,b=p.length;v<b;v++)w=p[v],O.set(w,P),P+=w.length;return O}},f={arraySet:function(p,v,b,k,P){for(var w=0;w<k;w++)p[P+w]=v[b+w]},flattenChunks:function(p){return[].concat.apply([],p)}};a.setTyped=function(p){p?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,c)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,f))},a.setTyped(o)},{}],42:[function(e,i,a){var o=e("./common"),c=!0,f=!0;try{String.fromCharCode.apply(null,[0])}catch{c=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{f=!1}for(var p=new o.Buf8(256),v=0;v<256;v++)p[v]=252<=v?6:248<=v?5:240<=v?4:224<=v?3:192<=v?2:1;function b(k,P){if(P<65537&&(k.subarray&&f||!k.subarray&&c))return String.fromCharCode.apply(null,o.shrinkBuf(k,P));for(var w="",O=0;O<P;O++)w+=String.fromCharCode(k[O]);return w}p[254]=p[254]=1,a.string2buf=function(k){var P,w,O,A,I,B=k.length,U=0;for(A=0;A<B;A++)(64512&(w=k.charCodeAt(A)))==55296&&A+1<B&&(64512&(O=k.charCodeAt(A+1)))==56320&&(w=65536+(w-55296<<10)+(O-56320),A++),U+=w<128?1:w<2048?2:w<65536?3:4;for(P=new o.Buf8(U),A=I=0;I<U;A++)(64512&(w=k.charCodeAt(A)))==55296&&A+1<B&&(64512&(O=k.charCodeAt(A+1)))==56320&&(w=65536+(w-55296<<10)+(O-56320),A++),w<128?P[I++]=w:(w<2048?P[I++]=192|w>>>6:(w<65536?P[I++]=224|w>>>12:(P[I++]=240|w>>>18,P[I++]=128|w>>>12&63),P[I++]=128|w>>>6&63),P[I++]=128|63&w);return P},a.buf2binstring=function(k){return b(k,k.length)},a.binstring2buf=function(k){for(var P=new o.Buf8(k.length),w=0,O=P.length;w<O;w++)P[w]=k.charCodeAt(w);return P},a.buf2string=function(k,P){var w,O,A,I,B=P||k.length,U=new Array(2*B);for(w=O=0;w<B;)if((A=k[w++])<128)U[O++]=A;else if(4<(I=p[A]))U[O++]=65533,w+=I-1;else{for(A&=I===2?31:I===3?15:7;1<I&&w<B;)A=A<<6|63&k[w++],I--;1<I?U[O++]=65533:A<65536?U[O++]=A:(A-=65536,U[O++]=55296|A>>10&1023,U[O++]=56320|1023&A)}return b(U,O)},a.utf8border=function(k,P){var w;for((P=P||k.length)>k.length&&(P=k.length),w=P-1;0<=w&&(192&k[w])==128;)w--;return w<0||w===0?P:w+p[k[w]]>P?w:P}},{"./common":41}],43:[function(e,i,a){i.exports=function(o,c,f,p){for(var v=65535&o|0,b=o>>>16&65535|0,k=0;f!==0;){for(f-=k=2e3<f?2e3:f;b=b+(v=v+c[p++]|0)|0,--k;);v%=65521,b%=65521}return v|b<<16|0}},{}],44:[function(e,i,a){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,i,a){var o=(function(){for(var c,f=[],p=0;p<256;p++){c=p;for(var v=0;v<8;v++)c=1&c?3988292384^c>>>1:c>>>1;f[p]=c}return f})();i.exports=function(c,f,p,v){var b=o,k=v+p;c^=-1;for(var P=v;P<k;P++)c=c>>>8^b[255&(c^f[P])];return-1^c}},{}],46:[function(e,i,a){var o,c=e("../utils/common"),f=e("./trees"),p=e("./adler32"),v=e("./crc32"),b=e("./messages"),k=0,P=4,w=0,O=-2,A=-1,I=4,B=2,U=8,Z=9,le=286,pe=30,ie=19,$=2*le+1,Y=15,ue=3,Me=258,J=Me+ue+1,G=42,se=113,j=1,Ae=2,Ue=3,je=4;function Le(K,Fe){return K.msg=b[Fe],Fe}function Be(K){return(K<<1)-(4<K?9:0)}function Ee(K){for(var Fe=K.length;0<=--Fe;)K[Fe]=0}function re(K){var Fe=K.state,he=Fe.pending;he>K.avail_out&&(he=K.avail_out),he!==0&&(c.arraySet(K.output,Fe.pending_buf,Fe.pending_out,he,K.next_out),K.next_out+=he,Fe.pending_out+=he,K.total_out+=he,K.avail_out-=he,Fe.pending-=he,Fe.pending===0&&(Fe.pending_out=0))}function F(K,Fe){f._tr_flush_block(K,0<=K.block_start?K.block_start:-1,K.strstart-K.block_start,Fe),K.block_start=K.strstart,re(K.strm)}function ce(K,Fe){K.pending_buf[K.pending++]=Fe}function me(K,Fe){K.pending_buf[K.pending++]=Fe>>>8&255,K.pending_buf[K.pending++]=255&Fe}function _e(K,Fe){var he,Pe,be=K.max_chain_length,Oe=K.strstart,st=K.prev_length,ct=K.nice_match,Ge=K.strstart>K.w_size-J?K.strstart-(K.w_size-J):0,Lt=K.window,It=K.w_mask,Bt=K.prev,Ut=K.strstart+Me,an=Lt[Oe+st-1],tn=Lt[Oe+st];K.prev_length>=K.good_match&&(be>>=2),ct>K.lookahead&&(ct=K.lookahead);do if(Lt[(he=Fe)+st]===tn&&Lt[he+st-1]===an&&Lt[he]===Lt[Oe]&&Lt[++he]===Lt[Oe+1]){Oe+=2,he++;do;while(Lt[++Oe]===Lt[++he]&&Lt[++Oe]===Lt[++he]&&Lt[++Oe]===Lt[++he]&&Lt[++Oe]===Lt[++he]&&Lt[++Oe]===Lt[++he]&&Lt[++Oe]===Lt[++he]&&Lt[++Oe]===Lt[++he]&&Lt[++Oe]===Lt[++he]&&Oe<Ut);if(Pe=Me-(Ut-Oe),Oe=Ut-Me,st<Pe){if(K.match_start=Fe,ct<=(st=Pe))break;an=Lt[Oe+st-1],tn=Lt[Oe+st]}}while((Fe=Bt[Fe&It])>Ge&&--be!=0);return st<=K.lookahead?st:K.lookahead}function Te(K){var Fe,he,Pe,be,Oe,st,ct,Ge,Lt,It,Bt=K.w_size;do{if(be=K.window_size-K.lookahead-K.strstart,K.strstart>=Bt+(Bt-J)){for(c.arraySet(K.window,K.window,Bt,Bt,0),K.match_start-=Bt,K.strstart-=Bt,K.block_start-=Bt,Fe=he=K.hash_size;Pe=K.head[--Fe],K.head[Fe]=Bt<=Pe?Pe-Bt:0,--he;);for(Fe=he=Bt;Pe=K.prev[--Fe],K.prev[Fe]=Bt<=Pe?Pe-Bt:0,--he;);be+=Bt}if(K.strm.avail_in===0)break;if(st=K.strm,ct=K.window,Ge=K.strstart+K.lookahead,Lt=be,It=void 0,It=st.avail_in,Lt<It&&(It=Lt),he=It===0?0:(st.avail_in-=It,c.arraySet(ct,st.input,st.next_in,It,Ge),st.state.wrap===1?st.adler=p(st.adler,ct,It,Ge):st.state.wrap===2&&(st.adler=v(st.adler,ct,It,Ge)),st.next_in+=It,st.total_in+=It,It),K.lookahead+=he,K.lookahead+K.insert>=ue)for(Oe=K.strstart-K.insert,K.ins_h=K.window[Oe],K.ins_h=(K.ins_h<<K.hash_shift^K.window[Oe+1])&K.hash_mask;K.insert&&(K.ins_h=(K.ins_h<<K.hash_shift^K.window[Oe+ue-1])&K.hash_mask,K.prev[Oe&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=Oe,Oe++,K.insert--,!(K.lookahead+K.insert<ue)););}while(K.lookahead<J&&K.strm.avail_in!==0)}function Je(K,Fe){for(var he,Pe;;){if(K.lookahead<J){if(Te(K),K.lookahead<J&&Fe===k)return j;if(K.lookahead===0)break}if(he=0,K.lookahead>=ue&&(K.ins_h=(K.ins_h<<K.hash_shift^K.window[K.strstart+ue-1])&K.hash_mask,he=K.prev[K.strstart&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=K.strstart),he!==0&&K.strstart-he<=K.w_size-J&&(K.match_length=_e(K,he)),K.match_length>=ue)if(Pe=f._tr_tally(K,K.strstart-K.match_start,K.match_length-ue),K.lookahead-=K.match_length,K.match_length<=K.max_lazy_match&&K.lookahead>=ue){for(K.match_length--;K.strstart++,K.ins_h=(K.ins_h<<K.hash_shift^K.window[K.strstart+ue-1])&K.hash_mask,he=K.prev[K.strstart&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=K.strstart,--K.match_length!=0;);K.strstart++}else K.strstart+=K.match_length,K.match_length=0,K.ins_h=K.window[K.strstart],K.ins_h=(K.ins_h<<K.hash_shift^K.window[K.strstart+1])&K.hash_mask;else Pe=f._tr_tally(K,0,K.window[K.strstart]),K.lookahead--,K.strstart++;if(Pe&&(F(K,!1),K.strm.avail_out===0))return j}return K.insert=K.strstart<ue-1?K.strstart:ue-1,Fe===P?(F(K,!0),K.strm.avail_out===0?Ue:je):K.last_lit&&(F(K,!1),K.strm.avail_out===0)?j:Ae}function $e(K,Fe){for(var he,Pe,be;;){if(K.lookahead<J){if(Te(K),K.lookahead<J&&Fe===k)return j;if(K.lookahead===0)break}if(he=0,K.lookahead>=ue&&(K.ins_h=(K.ins_h<<K.hash_shift^K.window[K.strstart+ue-1])&K.hash_mask,he=K.prev[K.strstart&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=K.strstart),K.prev_length=K.match_length,K.prev_match=K.match_start,K.match_length=ue-1,he!==0&&K.prev_length<K.max_lazy_match&&K.strstart-he<=K.w_size-J&&(K.match_length=_e(K,he),K.match_length<=5&&(K.strategy===1||K.match_length===ue&&4096<K.strstart-K.match_start)&&(K.match_length=ue-1)),K.prev_length>=ue&&K.match_length<=K.prev_length){for(be=K.strstart+K.lookahead-ue,Pe=f._tr_tally(K,K.strstart-1-K.prev_match,K.prev_length-ue),K.lookahead-=K.prev_length-1,K.prev_length-=2;++K.strstart<=be&&(K.ins_h=(K.ins_h<<K.hash_shift^K.window[K.strstart+ue-1])&K.hash_mask,he=K.prev[K.strstart&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=K.strstart),--K.prev_length!=0;);if(K.match_available=0,K.match_length=ue-1,K.strstart++,Pe&&(F(K,!1),K.strm.avail_out===0))return j}else if(K.match_available){if((Pe=f._tr_tally(K,0,K.window[K.strstart-1]))&&F(K,!1),K.strstart++,K.lookahead--,K.strm.avail_out===0)return j}else K.match_available=1,K.strstart++,K.lookahead--}return K.match_available&&(Pe=f._tr_tally(K,0,K.window[K.strstart-1]),K.match_available=0),K.insert=K.strstart<ue-1?K.strstart:ue-1,Fe===P?(F(K,!0),K.strm.avail_out===0?Ue:je):K.last_lit&&(F(K,!1),K.strm.avail_out===0)?j:Ae}function Xe(K,Fe,he,Pe,be){this.good_length=K,this.max_lazy=Fe,this.nice_length=he,this.max_chain=Pe,this.func=be}function Nt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=U,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c.Buf16(2*$),this.dyn_dtree=new c.Buf16(2*(2*pe+1)),this.bl_tree=new c.Buf16(2*(2*ie+1)),Ee(this.dyn_ltree),Ee(this.dyn_dtree),Ee(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c.Buf16(Y+1),this.heap=new c.Buf16(2*le+1),Ee(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c.Buf16(2*le+1),Ee(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ot(K){var Fe;return K&&K.state?(K.total_in=K.total_out=0,K.data_type=B,(Fe=K.state).pending=0,Fe.pending_out=0,Fe.wrap<0&&(Fe.wrap=-Fe.wrap),Fe.status=Fe.wrap?G:se,K.adler=Fe.wrap===2?0:1,Fe.last_flush=k,f._tr_init(Fe),w):Le(K,O)}function Gt(K){var Fe=Ot(K);return Fe===w&&(function(he){he.window_size=2*he.w_size,Ee(he.head),he.max_lazy_match=o[he.level].max_lazy,he.good_match=o[he.level].good_length,he.nice_match=o[he.level].nice_length,he.max_chain_length=o[he.level].max_chain,he.strstart=0,he.block_start=0,he.lookahead=0,he.insert=0,he.match_length=he.prev_length=ue-1,he.match_available=0,he.ins_h=0})(K.state),Fe}function qt(K,Fe,he,Pe,be,Oe){if(!K)return O;var st=1;if(Fe===A&&(Fe=6),Pe<0?(st=0,Pe=-Pe):15<Pe&&(st=2,Pe-=16),be<1||Z<be||he!==U||Pe<8||15<Pe||Fe<0||9<Fe||Oe<0||I<Oe)return Le(K,O);Pe===8&&(Pe=9);var ct=new Nt;return(K.state=ct).strm=K,ct.wrap=st,ct.gzhead=null,ct.w_bits=Pe,ct.w_size=1<<ct.w_bits,ct.w_mask=ct.w_size-1,ct.hash_bits=be+7,ct.hash_size=1<<ct.hash_bits,ct.hash_mask=ct.hash_size-1,ct.hash_shift=~~((ct.hash_bits+ue-1)/ue),ct.window=new c.Buf8(2*ct.w_size),ct.head=new c.Buf16(ct.hash_size),ct.prev=new c.Buf16(ct.w_size),ct.lit_bufsize=1<<be+6,ct.pending_buf_size=4*ct.lit_bufsize,ct.pending_buf=new c.Buf8(ct.pending_buf_size),ct.d_buf=1*ct.lit_bufsize,ct.l_buf=3*ct.lit_bufsize,ct.level=Fe,ct.strategy=Oe,ct.method=he,Gt(K)}o=[new Xe(0,0,0,0,function(K,Fe){var he=65535;for(he>K.pending_buf_size-5&&(he=K.pending_buf_size-5);;){if(K.lookahead<=1){if(Te(K),K.lookahead===0&&Fe===k)return j;if(K.lookahead===0)break}K.strstart+=K.lookahead,K.lookahead=0;var Pe=K.block_start+he;if((K.strstart===0||K.strstart>=Pe)&&(K.lookahead=K.strstart-Pe,K.strstart=Pe,F(K,!1),K.strm.avail_out===0)||K.strstart-K.block_start>=K.w_size-J&&(F(K,!1),K.strm.avail_out===0))return j}return K.insert=0,Fe===P?(F(K,!0),K.strm.avail_out===0?Ue:je):(K.strstart>K.block_start&&(F(K,!1),K.strm.avail_out),j)}),new Xe(4,4,8,4,Je),new Xe(4,5,16,8,Je),new Xe(4,6,32,32,Je),new Xe(4,4,16,16,$e),new Xe(8,16,32,32,$e),new Xe(8,16,128,128,$e),new Xe(8,32,128,256,$e),new Xe(32,128,258,1024,$e),new Xe(32,258,258,4096,$e)],a.deflateInit=function(K,Fe){return qt(K,Fe,U,15,8,0)},a.deflateInit2=qt,a.deflateReset=Gt,a.deflateResetKeep=Ot,a.deflateSetHeader=function(K,Fe){return K&&K.state?K.state.wrap!==2?O:(K.state.gzhead=Fe,w):O},a.deflate=function(K,Fe){var he,Pe,be,Oe;if(!K||!K.state||5<Fe||Fe<0)return K?Le(K,O):O;if(Pe=K.state,!K.output||!K.input&&K.avail_in!==0||Pe.status===666&&Fe!==P)return Le(K,K.avail_out===0?-5:O);if(Pe.strm=K,he=Pe.last_flush,Pe.last_flush=Fe,Pe.status===G)if(Pe.wrap===2)K.adler=0,ce(Pe,31),ce(Pe,139),ce(Pe,8),Pe.gzhead?(ce(Pe,(Pe.gzhead.text?1:0)+(Pe.gzhead.hcrc?2:0)+(Pe.gzhead.extra?4:0)+(Pe.gzhead.name?8:0)+(Pe.gzhead.comment?16:0)),ce(Pe,255&Pe.gzhead.time),ce(Pe,Pe.gzhead.time>>8&255),ce(Pe,Pe.gzhead.time>>16&255),ce(Pe,Pe.gzhead.time>>24&255),ce(Pe,Pe.level===9?2:2<=Pe.strategy||Pe.level<2?4:0),ce(Pe,255&Pe.gzhead.os),Pe.gzhead.extra&&Pe.gzhead.extra.length&&(ce(Pe,255&Pe.gzhead.extra.length),ce(Pe,Pe.gzhead.extra.length>>8&255)),Pe.gzhead.hcrc&&(K.adler=v(K.adler,Pe.pending_buf,Pe.pending,0)),Pe.gzindex=0,Pe.status=69):(ce(Pe,0),ce(Pe,0),ce(Pe,0),ce(Pe,0),ce(Pe,0),ce(Pe,Pe.level===9?2:2<=Pe.strategy||Pe.level<2?4:0),ce(Pe,3),Pe.status=se);else{var st=U+(Pe.w_bits-8<<4)<<8;st|=(2<=Pe.strategy||Pe.level<2?0:Pe.level<6?1:Pe.level===6?2:3)<<6,Pe.strstart!==0&&(st|=32),st+=31-st%31,Pe.status=se,me(Pe,st),Pe.strstart!==0&&(me(Pe,K.adler>>>16),me(Pe,65535&K.adler)),K.adler=1}if(Pe.status===69)if(Pe.gzhead.extra){for(be=Pe.pending;Pe.gzindex<(65535&Pe.gzhead.extra.length)&&(Pe.pending!==Pe.pending_buf_size||(Pe.gzhead.hcrc&&Pe.pending>be&&(K.adler=v(K.adler,Pe.pending_buf,Pe.pending-be,be)),re(K),be=Pe.pending,Pe.pending!==Pe.pending_buf_size));)ce(Pe,255&Pe.gzhead.extra[Pe.gzindex]),Pe.gzindex++;Pe.gzhead.hcrc&&Pe.pending>be&&(K.adler=v(K.adler,Pe.pending_buf,Pe.pending-be,be)),Pe.gzindex===Pe.gzhead.extra.length&&(Pe.gzindex=0,Pe.status=73)}else Pe.status=73;if(Pe.status===73)if(Pe.gzhead.name){be=Pe.pending;do{if(Pe.pending===Pe.pending_buf_size&&(Pe.gzhead.hcrc&&Pe.pending>be&&(K.adler=v(K.adler,Pe.pending_buf,Pe.pending-be,be)),re(K),be=Pe.pending,Pe.pending===Pe.pending_buf_size)){Oe=1;break}Oe=Pe.gzindex<Pe.gzhead.name.length?255&Pe.gzhead.name.charCodeAt(Pe.gzindex++):0,ce(Pe,Oe)}while(Oe!==0);Pe.gzhead.hcrc&&Pe.pending>be&&(K.adler=v(K.adler,Pe.pending_buf,Pe.pending-be,be)),Oe===0&&(Pe.gzindex=0,Pe.status=91)}else Pe.status=91;if(Pe.status===91)if(Pe.gzhead.comment){be=Pe.pending;do{if(Pe.pending===Pe.pending_buf_size&&(Pe.gzhead.hcrc&&Pe.pending>be&&(K.adler=v(K.adler,Pe.pending_buf,Pe.pending-be,be)),re(K),be=Pe.pending,Pe.pending===Pe.pending_buf_size)){Oe=1;break}Oe=Pe.gzindex<Pe.gzhead.comment.length?255&Pe.gzhead.comment.charCodeAt(Pe.gzindex++):0,ce(Pe,Oe)}while(Oe!==0);Pe.gzhead.hcrc&&Pe.pending>be&&(K.adler=v(K.adler,Pe.pending_buf,Pe.pending-be,be)),Oe===0&&(Pe.status=103)}else Pe.status=103;if(Pe.status===103&&(Pe.gzhead.hcrc?(Pe.pending+2>Pe.pending_buf_size&&re(K),Pe.pending+2<=Pe.pending_buf_size&&(ce(Pe,255&K.adler),ce(Pe,K.adler>>8&255),K.adler=0,Pe.status=se)):Pe.status=se),Pe.pending!==0){if(re(K),K.avail_out===0)return Pe.last_flush=-1,w}else if(K.avail_in===0&&Be(Fe)<=Be(he)&&Fe!==P)return Le(K,-5);if(Pe.status===666&&K.avail_in!==0)return Le(K,-5);if(K.avail_in!==0||Pe.lookahead!==0||Fe!==k&&Pe.status!==666){var ct=Pe.strategy===2?(function(Ge,Lt){for(var It;;){if(Ge.lookahead===0&&(Te(Ge),Ge.lookahead===0)){if(Lt===k)return j;break}if(Ge.match_length=0,It=f._tr_tally(Ge,0,Ge.window[Ge.strstart]),Ge.lookahead--,Ge.strstart++,It&&(F(Ge,!1),Ge.strm.avail_out===0))return j}return Ge.insert=0,Lt===P?(F(Ge,!0),Ge.strm.avail_out===0?Ue:je):Ge.last_lit&&(F(Ge,!1),Ge.strm.avail_out===0)?j:Ae})(Pe,Fe):Pe.strategy===3?(function(Ge,Lt){for(var It,Bt,Ut,an,tn=Ge.window;;){if(Ge.lookahead<=Me){if(Te(Ge),Ge.lookahead<=Me&&Lt===k)return j;if(Ge.lookahead===0)break}if(Ge.match_length=0,Ge.lookahead>=ue&&0<Ge.strstart&&(Bt=tn[Ut=Ge.strstart-1])===tn[++Ut]&&Bt===tn[++Ut]&&Bt===tn[++Ut]){an=Ge.strstart+Me;do;while(Bt===tn[++Ut]&&Bt===tn[++Ut]&&Bt===tn[++Ut]&&Bt===tn[++Ut]&&Bt===tn[++Ut]&&Bt===tn[++Ut]&&Bt===tn[++Ut]&&Bt===tn[++Ut]&&Ut<an);Ge.match_length=Me-(an-Ut),Ge.match_length>Ge.lookahead&&(Ge.match_length=Ge.lookahead)}if(Ge.match_length>=ue?(It=f._tr_tally(Ge,1,Ge.match_length-ue),Ge.lookahead-=Ge.match_length,Ge.strstart+=Ge.match_length,Ge.match_length=0):(It=f._tr_tally(Ge,0,Ge.window[Ge.strstart]),Ge.lookahead--,Ge.strstart++),It&&(F(Ge,!1),Ge.strm.avail_out===0))return j}return Ge.insert=0,Lt===P?(F(Ge,!0),Ge.strm.avail_out===0?Ue:je):Ge.last_lit&&(F(Ge,!1),Ge.strm.avail_out===0)?j:Ae})(Pe,Fe):o[Pe.level].func(Pe,Fe);if(ct!==Ue&&ct!==je||(Pe.status=666),ct===j||ct===Ue)return K.avail_out===0&&(Pe.last_flush=-1),w;if(ct===Ae&&(Fe===1?f._tr_align(Pe):Fe!==5&&(f._tr_stored_block(Pe,0,0,!1),Fe===3&&(Ee(Pe.head),Pe.lookahead===0&&(Pe.strstart=0,Pe.block_start=0,Pe.insert=0))),re(K),K.avail_out===0))return Pe.last_flush=-1,w}return Fe!==P?w:Pe.wrap<=0?1:(Pe.wrap===2?(ce(Pe,255&K.adler),ce(Pe,K.adler>>8&255),ce(Pe,K.adler>>16&255),ce(Pe,K.adler>>24&255),ce(Pe,255&K.total_in),ce(Pe,K.total_in>>8&255),ce(Pe,K.total_in>>16&255),ce(Pe,K.total_in>>24&255)):(me(Pe,K.adler>>>16),me(Pe,65535&K.adler)),re(K),0<Pe.wrap&&(Pe.wrap=-Pe.wrap),Pe.pending!==0?w:1)},a.deflateEnd=function(K){var Fe;return K&&K.state?(Fe=K.state.status)!==G&&Fe!==69&&Fe!==73&&Fe!==91&&Fe!==103&&Fe!==se&&Fe!==666?Le(K,O):(K.state=null,Fe===se?Le(K,-3):w):O},a.deflateSetDictionary=function(K,Fe){var he,Pe,be,Oe,st,ct,Ge,Lt,It=Fe.length;if(!K||!K.state||(Oe=(he=K.state).wrap)===2||Oe===1&&he.status!==G||he.lookahead)return O;for(Oe===1&&(K.adler=p(K.adler,Fe,It,0)),he.wrap=0,It>=he.w_size&&(Oe===0&&(Ee(he.head),he.strstart=0,he.block_start=0,he.insert=0),Lt=new c.Buf8(he.w_size),c.arraySet(Lt,Fe,It-he.w_size,he.w_size,0),Fe=Lt,It=he.w_size),st=K.avail_in,ct=K.next_in,Ge=K.input,K.avail_in=It,K.next_in=0,K.input=Fe,Te(he);he.lookahead>=ue;){for(Pe=he.strstart,be=he.lookahead-(ue-1);he.ins_h=(he.ins_h<<he.hash_shift^he.window[Pe+ue-1])&he.hash_mask,he.prev[Pe&he.w_mask]=he.head[he.ins_h],he.head[he.ins_h]=Pe,Pe++,--be;);he.strstart=Pe,he.lookahead=ue-1,Te(he)}return he.strstart+=he.lookahead,he.block_start=he.strstart,he.insert=he.lookahead,he.lookahead=0,he.match_length=he.prev_length=ue-1,he.match_available=0,K.next_in=ct,K.input=Ge,K.avail_in=st,he.wrap=Oe,w},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,i,a){i.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,i,a){i.exports=function(o,c){var f,p,v,b,k,P,w,O,A,I,B,U,Z,le,pe,ie,$,Y,ue,Me,J,G,se,j,Ae;f=o.state,p=o.next_in,j=o.input,v=p+(o.avail_in-5),b=o.next_out,Ae=o.output,k=b-(c-o.avail_out),P=b+(o.avail_out-257),w=f.dmax,O=f.wsize,A=f.whave,I=f.wnext,B=f.window,U=f.hold,Z=f.bits,le=f.lencode,pe=f.distcode,ie=(1<<f.lenbits)-1,$=(1<<f.distbits)-1;e:do{Z<15&&(U+=j[p++]<<Z,Z+=8,U+=j[p++]<<Z,Z+=8),Y=le[U&ie];t:for(;;){if(U>>>=ue=Y>>>24,Z-=ue,(ue=Y>>>16&255)===0)Ae[b++]=65535&Y;else{if(!(16&ue)){if((64&ue)==0){Y=le[(65535&Y)+(U&(1<<ue)-1)];continue t}if(32&ue){f.mode=12;break e}o.msg="invalid literal/length code",f.mode=30;break e}Me=65535&Y,(ue&=15)&&(Z<ue&&(U+=j[p++]<<Z,Z+=8),Me+=U&(1<<ue)-1,U>>>=ue,Z-=ue),Z<15&&(U+=j[p++]<<Z,Z+=8,U+=j[p++]<<Z,Z+=8),Y=pe[U&$];n:for(;;){if(U>>>=ue=Y>>>24,Z-=ue,!(16&(ue=Y>>>16&255))){if((64&ue)==0){Y=pe[(65535&Y)+(U&(1<<ue)-1)];continue n}o.msg="invalid distance code",f.mode=30;break e}if(J=65535&Y,Z<(ue&=15)&&(U+=j[p++]<<Z,(Z+=8)<ue&&(U+=j[p++]<<Z,Z+=8)),w<(J+=U&(1<<ue)-1)){o.msg="invalid distance too far back",f.mode=30;break e}if(U>>>=ue,Z-=ue,(ue=b-k)<J){if(A<(ue=J-ue)&&f.sane){o.msg="invalid distance too far back",f.mode=30;break e}if(se=B,(G=0)===I){if(G+=O-ue,ue<Me){for(Me-=ue;Ae[b++]=B[G++],--ue;);G=b-J,se=Ae}}else if(I<ue){if(G+=O+I-ue,(ue-=I)<Me){for(Me-=ue;Ae[b++]=B[G++],--ue;);if(G=0,I<Me){for(Me-=ue=I;Ae[b++]=B[G++],--ue;);G=b-J,se=Ae}}}else if(G+=I-ue,ue<Me){for(Me-=ue;Ae[b++]=B[G++],--ue;);G=b-J,se=Ae}for(;2<Me;)Ae[b++]=se[G++],Ae[b++]=se[G++],Ae[b++]=se[G++],Me-=3;Me&&(Ae[b++]=se[G++],1<Me&&(Ae[b++]=se[G++]))}else{for(G=b-J;Ae[b++]=Ae[G++],Ae[b++]=Ae[G++],Ae[b++]=Ae[G++],2<(Me-=3););Me&&(Ae[b++]=Ae[G++],1<Me&&(Ae[b++]=Ae[G++]))}break}}break}}while(p<v&&b<P);p-=Me=Z>>3,U&=(1<<(Z-=Me<<3))-1,o.next_in=p,o.next_out=b,o.avail_in=p<v?v-p+5:5-(p-v),o.avail_out=b<P?P-b+257:257-(b-P),f.hold=U,f.bits=Z}},{}],49:[function(e,i,a){var o=e("../utils/common"),c=e("./adler32"),f=e("./crc32"),p=e("./inffast"),v=e("./inftrees"),b=1,k=2,P=0,w=-2,O=1,A=852,I=592;function B(G){return(G>>>24&255)+(G>>>8&65280)+((65280&G)<<8)+((255&G)<<24)}function U(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Z(G){var se;return G&&G.state?(se=G.state,G.total_in=G.total_out=se.total=0,G.msg="",se.wrap&&(G.adler=1&se.wrap),se.mode=O,se.last=0,se.havedict=0,se.dmax=32768,se.head=null,se.hold=0,se.bits=0,se.lencode=se.lendyn=new o.Buf32(A),se.distcode=se.distdyn=new o.Buf32(I),se.sane=1,se.back=-1,P):w}function le(G){var se;return G&&G.state?((se=G.state).wsize=0,se.whave=0,se.wnext=0,Z(G)):w}function pe(G,se){var j,Ae;return G&&G.state?(Ae=G.state,se<0?(j=0,se=-se):(j=1+(se>>4),se<48&&(se&=15)),se&&(se<8||15<se)?w:(Ae.window!==null&&Ae.wbits!==se&&(Ae.window=null),Ae.wrap=j,Ae.wbits=se,le(G))):w}function ie(G,se){var j,Ae;return G?(Ae=new U,(G.state=Ae).window=null,(j=pe(G,se))!==P&&(G.state=null),j):w}var $,Y,ue=!0;function Me(G){if(ue){var se;for($=new o.Buf32(512),Y=new o.Buf32(32),se=0;se<144;)G.lens[se++]=8;for(;se<256;)G.lens[se++]=9;for(;se<280;)G.lens[se++]=7;for(;se<288;)G.lens[se++]=8;for(v(b,G.lens,0,288,$,0,G.work,{bits:9}),se=0;se<32;)G.lens[se++]=5;v(k,G.lens,0,32,Y,0,G.work,{bits:5}),ue=!1}G.lencode=$,G.lenbits=9,G.distcode=Y,G.distbits=5}function J(G,se,j,Ae){var Ue,je=G.state;return je.window===null&&(je.wsize=1<<je.wbits,je.wnext=0,je.whave=0,je.window=new o.Buf8(je.wsize)),Ae>=je.wsize?(o.arraySet(je.window,se,j-je.wsize,je.wsize,0),je.wnext=0,je.whave=je.wsize):(Ae<(Ue=je.wsize-je.wnext)&&(Ue=Ae),o.arraySet(je.window,se,j-Ae,Ue,je.wnext),(Ae-=Ue)?(o.arraySet(je.window,se,j-Ae,Ae,0),je.wnext=Ae,je.whave=je.wsize):(je.wnext+=Ue,je.wnext===je.wsize&&(je.wnext=0),je.whave<je.wsize&&(je.whave+=Ue))),0}a.inflateReset=le,a.inflateReset2=pe,a.inflateResetKeep=Z,a.inflateInit=function(G){return ie(G,15)},a.inflateInit2=ie,a.inflate=function(G,se){var j,Ae,Ue,je,Le,Be,Ee,re,F,ce,me,_e,Te,Je,$e,Xe,Nt,Ot,Gt,qt,K,Fe,he,Pe,be=0,Oe=new o.Buf8(4),st=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!G||!G.state||!G.output||!G.input&&G.avail_in!==0)return w;(j=G.state).mode===12&&(j.mode=13),Le=G.next_out,Ue=G.output,Ee=G.avail_out,je=G.next_in,Ae=G.input,Be=G.avail_in,re=j.hold,F=j.bits,ce=Be,me=Ee,Fe=P;e:for(;;)switch(j.mode){case O:if(j.wrap===0){j.mode=13;break}for(;F<16;){if(Be===0)break e;Be--,re+=Ae[je++]<<F,F+=8}if(2&j.wrap&&re===35615){Oe[j.check=0]=255&re,Oe[1]=re>>>8&255,j.check=f(j.check,Oe,2,0),F=re=0,j.mode=2;break}if(j.flags=0,j.head&&(j.head.done=!1),!(1&j.wrap)||(((255&re)<<8)+(re>>8))%31){G.msg="incorrect header check",j.mode=30;break}if((15&re)!=8){G.msg="unknown compression method",j.mode=30;break}if(F-=4,K=8+(15&(re>>>=4)),j.wbits===0)j.wbits=K;else if(K>j.wbits){G.msg="invalid window size",j.mode=30;break}j.dmax=1<<K,G.adler=j.check=1,j.mode=512&re?10:12,F=re=0;break;case 2:for(;F<16;){if(Be===0)break e;Be--,re+=Ae[je++]<<F,F+=8}if(j.flags=re,(255&j.flags)!=8){G.msg="unknown compression method",j.mode=30;break}if(57344&j.flags){G.msg="unknown header flags set",j.mode=30;break}j.head&&(j.head.text=re>>8&1),512&j.flags&&(Oe[0]=255&re,Oe[1]=re>>>8&255,j.check=f(j.check,Oe,2,0)),F=re=0,j.mode=3;case 3:for(;F<32;){if(Be===0)break e;Be--,re+=Ae[je++]<<F,F+=8}j.head&&(j.head.time=re),512&j.flags&&(Oe[0]=255&re,Oe[1]=re>>>8&255,Oe[2]=re>>>16&255,Oe[3]=re>>>24&255,j.check=f(j.check,Oe,4,0)),F=re=0,j.mode=4;case 4:for(;F<16;){if(Be===0)break e;Be--,re+=Ae[je++]<<F,F+=8}j.head&&(j.head.xflags=255&re,j.head.os=re>>8),512&j.flags&&(Oe[0]=255&re,Oe[1]=re>>>8&255,j.check=f(j.check,Oe,2,0)),F=re=0,j.mode=5;case 5:if(1024&j.flags){for(;F<16;){if(Be===0)break e;Be--,re+=Ae[je++]<<F,F+=8}j.length=re,j.head&&(j.head.extra_len=re),512&j.flags&&(Oe[0]=255&re,Oe[1]=re>>>8&255,j.check=f(j.check,Oe,2,0)),F=re=0}else j.head&&(j.head.extra=null);j.mode=6;case 6:if(1024&j.flags&&(Be<(_e=j.length)&&(_e=Be),_e&&(j.head&&(K=j.head.extra_len-j.length,j.head.extra||(j.head.extra=new Array(j.head.extra_len)),o.arraySet(j.head.extra,Ae,je,_e,K)),512&j.flags&&(j.check=f(j.check,Ae,_e,je)),Be-=_e,je+=_e,j.length-=_e),j.length))break e;j.length=0,j.mode=7;case 7:if(2048&j.flags){if(Be===0)break e;for(_e=0;K=Ae[je+_e++],j.head&&K&&j.length<65536&&(j.head.name+=String.fromCharCode(K)),K&&_e<Be;);if(512&j.flags&&(j.check=f(j.check,Ae,_e,je)),Be-=_e,je+=_e,K)break e}else j.head&&(j.head.name=null);j.length=0,j.mode=8;case 8:if(4096&j.flags){if(Be===0)break e;for(_e=0;K=Ae[je+_e++],j.head&&K&&j.length<65536&&(j.head.comment+=String.fromCharCode(K)),K&&_e<Be;);if(512&j.flags&&(j.check=f(j.check,Ae,_e,je)),Be-=_e,je+=_e,K)break e}else j.head&&(j.head.comment=null);j.mode=9;case 9:if(512&j.flags){for(;F<16;){if(Be===0)break e;Be--,re+=Ae[je++]<<F,F+=8}if(re!==(65535&j.check)){G.msg="header crc mismatch",j.mode=30;break}F=re=0}j.head&&(j.head.hcrc=j.flags>>9&1,j.head.done=!0),G.adler=j.check=0,j.mode=12;break;case 10:for(;F<32;){if(Be===0)break e;Be--,re+=Ae[je++]<<F,F+=8}G.adler=j.check=B(re),F=re=0,j.mode=11;case 11:if(j.havedict===0)return G.next_out=Le,G.avail_out=Ee,G.next_in=je,G.avail_in=Be,j.hold=re,j.bits=F,2;G.adler=j.check=1,j.mode=12;case 12:if(se===5||se===6)break e;case 13:if(j.last){re>>>=7&F,F-=7&F,j.mode=27;break}for(;F<3;){if(Be===0)break e;Be--,re+=Ae[je++]<<F,F+=8}switch(j.last=1&re,F-=1,3&(re>>>=1)){case 0:j.mode=14;break;case 1:if(Me(j),j.mode=20,se!==6)break;re>>>=2,F-=2;break e;case 2:j.mode=17;break;case 3:G.msg="invalid block type",j.mode=30}re>>>=2,F-=2;break;case 14:for(re>>>=7&F,F-=7&F;F<32;){if(Be===0)break e;Be--,re+=Ae[je++]<<F,F+=8}if((65535&re)!=(re>>>16^65535)){G.msg="invalid stored block lengths",j.mode=30;break}if(j.length=65535&re,F=re=0,j.mode=15,se===6)break e;case 15:j.mode=16;case 16:if(_e=j.length){if(Be<_e&&(_e=Be),Ee<_e&&(_e=Ee),_e===0)break e;o.arraySet(Ue,Ae,je,_e,Le),Be-=_e,je+=_e,Ee-=_e,Le+=_e,j.length-=_e;break}j.mode=12;break;case 17:for(;F<14;){if(Be===0)break e;Be--,re+=Ae[je++]<<F,F+=8}if(j.nlen=257+(31&re),re>>>=5,F-=5,j.ndist=1+(31&re),re>>>=5,F-=5,j.ncode=4+(15&re),re>>>=4,F-=4,286<j.nlen||30<j.ndist){G.msg="too many length or distance symbols",j.mode=30;break}j.have=0,j.mode=18;case 18:for(;j.have<j.ncode;){for(;F<3;){if(Be===0)break e;Be--,re+=Ae[je++]<<F,F+=8}j.lens[st[j.have++]]=7&re,re>>>=3,F-=3}for(;j.have<19;)j.lens[st[j.have++]]=0;if(j.lencode=j.lendyn,j.lenbits=7,he={bits:j.lenbits},Fe=v(0,j.lens,0,19,j.lencode,0,j.work,he),j.lenbits=he.bits,Fe){G.msg="invalid code lengths set",j.mode=30;break}j.have=0,j.mode=19;case 19:for(;j.have<j.nlen+j.ndist;){for(;Xe=(be=j.lencode[re&(1<<j.lenbits)-1])>>>16&255,Nt=65535&be,!(($e=be>>>24)<=F);){if(Be===0)break e;Be--,re+=Ae[je++]<<F,F+=8}if(Nt<16)re>>>=$e,F-=$e,j.lens[j.have++]=Nt;else{if(Nt===16){for(Pe=$e+2;F<Pe;){if(Be===0)break e;Be--,re+=Ae[je++]<<F,F+=8}if(re>>>=$e,F-=$e,j.have===0){G.msg="invalid bit length repeat",j.mode=30;break}K=j.lens[j.have-1],_e=3+(3&re),re>>>=2,F-=2}else if(Nt===17){for(Pe=$e+3;F<Pe;){if(Be===0)break e;Be--,re+=Ae[je++]<<F,F+=8}F-=$e,K=0,_e=3+(7&(re>>>=$e)),re>>>=3,F-=3}else{for(Pe=$e+7;F<Pe;){if(Be===0)break e;Be--,re+=Ae[je++]<<F,F+=8}F-=$e,K=0,_e=11+(127&(re>>>=$e)),re>>>=7,F-=7}if(j.have+_e>j.nlen+j.ndist){G.msg="invalid bit length repeat",j.mode=30;break}for(;_e--;)j.lens[j.have++]=K}}if(j.mode===30)break;if(j.lens[256]===0){G.msg="invalid code -- missing end-of-block",j.mode=30;break}if(j.lenbits=9,he={bits:j.lenbits},Fe=v(b,j.lens,0,j.nlen,j.lencode,0,j.work,he),j.lenbits=he.bits,Fe){G.msg="invalid literal/lengths set",j.mode=30;break}if(j.distbits=6,j.distcode=j.distdyn,he={bits:j.distbits},Fe=v(k,j.lens,j.nlen,j.ndist,j.distcode,0,j.work,he),j.distbits=he.bits,Fe){G.msg="invalid distances set",j.mode=30;break}if(j.mode=20,se===6)break e;case 20:j.mode=21;case 21:if(6<=Be&&258<=Ee){G.next_out=Le,G.avail_out=Ee,G.next_in=je,G.avail_in=Be,j.hold=re,j.bits=F,p(G,me),Le=G.next_out,Ue=G.output,Ee=G.avail_out,je=G.next_in,Ae=G.input,Be=G.avail_in,re=j.hold,F=j.bits,j.mode===12&&(j.back=-1);break}for(j.back=0;Xe=(be=j.lencode[re&(1<<j.lenbits)-1])>>>16&255,Nt=65535&be,!(($e=be>>>24)<=F);){if(Be===0)break e;Be--,re+=Ae[je++]<<F,F+=8}if(Xe&&(240&Xe)==0){for(Ot=$e,Gt=Xe,qt=Nt;Xe=(be=j.lencode[qt+((re&(1<<Ot+Gt)-1)>>Ot)])>>>16&255,Nt=65535&be,!(Ot+($e=be>>>24)<=F);){if(Be===0)break e;Be--,re+=Ae[je++]<<F,F+=8}re>>>=Ot,F-=Ot,j.back+=Ot}if(re>>>=$e,F-=$e,j.back+=$e,j.length=Nt,Xe===0){j.mode=26;break}if(32&Xe){j.back=-1,j.mode=12;break}if(64&Xe){G.msg="invalid literal/length code",j.mode=30;break}j.extra=15&Xe,j.mode=22;case 22:if(j.extra){for(Pe=j.extra;F<Pe;){if(Be===0)break e;Be--,re+=Ae[je++]<<F,F+=8}j.length+=re&(1<<j.extra)-1,re>>>=j.extra,F-=j.extra,j.back+=j.extra}j.was=j.length,j.mode=23;case 23:for(;Xe=(be=j.distcode[re&(1<<j.distbits)-1])>>>16&255,Nt=65535&be,!(($e=be>>>24)<=F);){if(Be===0)break e;Be--,re+=Ae[je++]<<F,F+=8}if((240&Xe)==0){for(Ot=$e,Gt=Xe,qt=Nt;Xe=(be=j.distcode[qt+((re&(1<<Ot+Gt)-1)>>Ot)])>>>16&255,Nt=65535&be,!(Ot+($e=be>>>24)<=F);){if(Be===0)break e;Be--,re+=Ae[je++]<<F,F+=8}re>>>=Ot,F-=Ot,j.back+=Ot}if(re>>>=$e,F-=$e,j.back+=$e,64&Xe){G.msg="invalid distance code",j.mode=30;break}j.offset=Nt,j.extra=15&Xe,j.mode=24;case 24:if(j.extra){for(Pe=j.extra;F<Pe;){if(Be===0)break e;Be--,re+=Ae[je++]<<F,F+=8}j.offset+=re&(1<<j.extra)-1,re>>>=j.extra,F-=j.extra,j.back+=j.extra}if(j.offset>j.dmax){G.msg="invalid distance too far back",j.mode=30;break}j.mode=25;case 25:if(Ee===0)break e;if(_e=me-Ee,j.offset>_e){if((_e=j.offset-_e)>j.whave&&j.sane){G.msg="invalid distance too far back",j.mode=30;break}Te=_e>j.wnext?(_e-=j.wnext,j.wsize-_e):j.wnext-_e,_e>j.length&&(_e=j.length),Je=j.window}else Je=Ue,Te=Le-j.offset,_e=j.length;for(Ee<_e&&(_e=Ee),Ee-=_e,j.length-=_e;Ue[Le++]=Je[Te++],--_e;);j.length===0&&(j.mode=21);break;case 26:if(Ee===0)break e;Ue[Le++]=j.length,Ee--,j.mode=21;break;case 27:if(j.wrap){for(;F<32;){if(Be===0)break e;Be--,re|=Ae[je++]<<F,F+=8}if(me-=Ee,G.total_out+=me,j.total+=me,me&&(G.adler=j.check=j.flags?f(j.check,Ue,me,Le-me):c(j.check,Ue,me,Le-me)),me=Ee,(j.flags?re:B(re))!==j.check){G.msg="incorrect data check",j.mode=30;break}F=re=0}j.mode=28;case 28:if(j.wrap&&j.flags){for(;F<32;){if(Be===0)break e;Be--,re+=Ae[je++]<<F,F+=8}if(re!==(4294967295&j.total)){G.msg="incorrect length check",j.mode=30;break}F=re=0}j.mode=29;case 29:Fe=1;break e;case 30:Fe=-3;break e;case 31:return-4;case 32:default:return w}return G.next_out=Le,G.avail_out=Ee,G.next_in=je,G.avail_in=Be,j.hold=re,j.bits=F,(j.wsize||me!==G.avail_out&&j.mode<30&&(j.mode<27||se!==4))&&J(G,G.output,G.next_out,me-G.avail_out)?(j.mode=31,-4):(ce-=G.avail_in,me-=G.avail_out,G.total_in+=ce,G.total_out+=me,j.total+=me,j.wrap&&me&&(G.adler=j.check=j.flags?f(j.check,Ue,me,G.next_out-me):c(j.check,Ue,me,G.next_out-me)),G.data_type=j.bits+(j.last?64:0)+(j.mode===12?128:0)+(j.mode===20||j.mode===15?256:0),(ce==0&&me===0||se===4)&&Fe===P&&(Fe=-5),Fe)},a.inflateEnd=function(G){if(!G||!G.state)return w;var se=G.state;return se.window&&(se.window=null),G.state=null,P},a.inflateGetHeader=function(G,se){var j;return G&&G.state?(2&(j=G.state).wrap)==0?w:((j.head=se).done=!1,P):w},a.inflateSetDictionary=function(G,se){var j,Ae=se.length;return G&&G.state?(j=G.state).wrap!==0&&j.mode!==11?w:j.mode===11&&c(1,se,Ae,0)!==j.check?-3:J(G,se,Ae,Ae)?(j.mode=31,-4):(j.havedict=1,P):w},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,i,a){var o=e("../utils/common"),c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],f=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],v=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(b,k,P,w,O,A,I,B){var U,Z,le,pe,ie,$,Y,ue,Me,J=B.bits,G=0,se=0,j=0,Ae=0,Ue=0,je=0,Le=0,Be=0,Ee=0,re=0,F=null,ce=0,me=new o.Buf16(16),_e=new o.Buf16(16),Te=null,Je=0;for(G=0;G<=15;G++)me[G]=0;for(se=0;se<w;se++)me[k[P+se]]++;for(Ue=J,Ae=15;1<=Ae&&me[Ae]===0;Ae--);if(Ae<Ue&&(Ue=Ae),Ae===0)return O[A++]=20971520,O[A++]=20971520,B.bits=1,0;for(j=1;j<Ae&&me[j]===0;j++);for(Ue<j&&(Ue=j),G=Be=1;G<=15;G++)if(Be<<=1,(Be-=me[G])<0)return-1;if(0<Be&&(b===0||Ae!==1))return-1;for(_e[1]=0,G=1;G<15;G++)_e[G+1]=_e[G]+me[G];for(se=0;se<w;se++)k[P+se]!==0&&(I[_e[k[P+se]]++]=se);if($=b===0?(F=Te=I,19):b===1?(F=c,ce-=257,Te=f,Je-=257,256):(F=p,Te=v,-1),G=j,ie=A,Le=se=re=0,le=-1,pe=(Ee=1<<(je=Ue))-1,b===1&&852<Ee||b===2&&592<Ee)return 1;for(;;){for(Y=G-Le,Me=I[se]<$?(ue=0,I[se]):I[se]>$?(ue=Te[Je+I[se]],F[ce+I[se]]):(ue=96,0),U=1<<G-Le,j=Z=1<<je;O[ie+(re>>Le)+(Z-=U)]=Y<<24|ue<<16|Me|0,Z!==0;);for(U=1<<G-1;re&U;)U>>=1;if(U!==0?(re&=U-1,re+=U):re=0,se++,--me[G]==0){if(G===Ae)break;G=k[P+I[se]]}if(Ue<G&&(re&pe)!==le){for(Le===0&&(Le=Ue),ie+=j,Be=1<<(je=G-Le);je+Le<Ae&&!((Be-=me[je+Le])<=0);)je++,Be<<=1;if(Ee+=1<<je,b===1&&852<Ee||b===2&&592<Ee)return 1;O[le=re&pe]=Ue<<24|je<<16|ie-A|0}}return re!==0&&(O[ie+re]=G-Le<<24|64<<16|0),B.bits=Ue,0}},{"../utils/common":41}],51:[function(e,i,a){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,i,a){var o=e("../utils/common"),c=0,f=1;function p(be){for(var Oe=be.length;0<=--Oe;)be[Oe]=0}var v=0,b=29,k=256,P=k+1+b,w=30,O=19,A=2*P+1,I=15,B=16,U=7,Z=256,le=16,pe=17,ie=18,$=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Y=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ue=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Me=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=new Array(2*(P+2));p(J);var G=new Array(2*w);p(G);var se=new Array(512);p(se);var j=new Array(256);p(j);var Ae=new Array(b);p(Ae);var Ue,je,Le,Be=new Array(w);function Ee(be,Oe,st,ct,Ge){this.static_tree=be,this.extra_bits=Oe,this.extra_base=st,this.elems=ct,this.max_length=Ge,this.has_stree=be&&be.length}function re(be,Oe){this.dyn_tree=be,this.max_code=0,this.stat_desc=Oe}function F(be){return be<256?se[be]:se[256+(be>>>7)]}function ce(be,Oe){be.pending_buf[be.pending++]=255&Oe,be.pending_buf[be.pending++]=Oe>>>8&255}function me(be,Oe,st){be.bi_valid>B-st?(be.bi_buf|=Oe<<be.bi_valid&65535,ce(be,be.bi_buf),be.bi_buf=Oe>>B-be.bi_valid,be.bi_valid+=st-B):(be.bi_buf|=Oe<<be.bi_valid&65535,be.bi_valid+=st)}function _e(be,Oe,st){me(be,st[2*Oe],st[2*Oe+1])}function Te(be,Oe){for(var st=0;st|=1&be,be>>>=1,st<<=1,0<--Oe;);return st>>>1}function Je(be,Oe,st){var ct,Ge,Lt=new Array(I+1),It=0;for(ct=1;ct<=I;ct++)Lt[ct]=It=It+st[ct-1]<<1;for(Ge=0;Ge<=Oe;Ge++){var Bt=be[2*Ge+1];Bt!==0&&(be[2*Ge]=Te(Lt[Bt]++,Bt))}}function $e(be){var Oe;for(Oe=0;Oe<P;Oe++)be.dyn_ltree[2*Oe]=0;for(Oe=0;Oe<w;Oe++)be.dyn_dtree[2*Oe]=0;for(Oe=0;Oe<O;Oe++)be.bl_tree[2*Oe]=0;be.dyn_ltree[2*Z]=1,be.opt_len=be.static_len=0,be.last_lit=be.matches=0}function Xe(be){8<be.bi_valid?ce(be,be.bi_buf):0<be.bi_valid&&(be.pending_buf[be.pending++]=be.bi_buf),be.bi_buf=0,be.bi_valid=0}function Nt(be,Oe,st,ct){var Ge=2*Oe,Lt=2*st;return be[Ge]<be[Lt]||be[Ge]===be[Lt]&&ct[Oe]<=ct[st]}function Ot(be,Oe,st){for(var ct=be.heap[st],Ge=st<<1;Ge<=be.heap_len&&(Ge<be.heap_len&&Nt(Oe,be.heap[Ge+1],be.heap[Ge],be.depth)&&Ge++,!Nt(Oe,ct,be.heap[Ge],be.depth));)be.heap[st]=be.heap[Ge],st=Ge,Ge<<=1;be.heap[st]=ct}function Gt(be,Oe,st){var ct,Ge,Lt,It,Bt=0;if(be.last_lit!==0)for(;ct=be.pending_buf[be.d_buf+2*Bt]<<8|be.pending_buf[be.d_buf+2*Bt+1],Ge=be.pending_buf[be.l_buf+Bt],Bt++,ct===0?_e(be,Ge,Oe):(_e(be,(Lt=j[Ge])+k+1,Oe),(It=$[Lt])!==0&&me(be,Ge-=Ae[Lt],It),_e(be,Lt=F(--ct),st),(It=Y[Lt])!==0&&me(be,ct-=Be[Lt],It)),Bt<be.last_lit;);_e(be,Z,Oe)}function qt(be,Oe){var st,ct,Ge,Lt=Oe.dyn_tree,It=Oe.stat_desc.static_tree,Bt=Oe.stat_desc.has_stree,Ut=Oe.stat_desc.elems,an=-1;for(be.heap_len=0,be.heap_max=A,st=0;st<Ut;st++)Lt[2*st]!==0?(be.heap[++be.heap_len]=an=st,be.depth[st]=0):Lt[2*st+1]=0;for(;be.heap_len<2;)Lt[2*(Ge=be.heap[++be.heap_len]=an<2?++an:0)]=1,be.depth[Ge]=0,be.opt_len--,Bt&&(be.static_len-=It[2*Ge+1]);for(Oe.max_code=an,st=be.heap_len>>1;1<=st;st--)Ot(be,Lt,st);for(Ge=Ut;st=be.heap[1],be.heap[1]=be.heap[be.heap_len--],Ot(be,Lt,1),ct=be.heap[1],be.heap[--be.heap_max]=st,be.heap[--be.heap_max]=ct,Lt[2*Ge]=Lt[2*st]+Lt[2*ct],be.depth[Ge]=(be.depth[st]>=be.depth[ct]?be.depth[st]:be.depth[ct])+1,Lt[2*st+1]=Lt[2*ct+1]=Ge,be.heap[1]=Ge++,Ot(be,Lt,1),2<=be.heap_len;);be.heap[--be.heap_max]=be.heap[1],(function(tn,on){var wn,$t,ur,hn,Dr,zn,Fn=on.dyn_tree,Ar=on.max_code,Wn=on.stat_desc.static_tree,Ps=on.stat_desc.has_stree,ar=on.stat_desc.extra_bits,Ir=on.stat_desc.extra_base,Mr=on.stat_desc.max_length,or=0;for(hn=0;hn<=I;hn++)tn.bl_count[hn]=0;for(Fn[2*tn.heap[tn.heap_max]+1]=0,wn=tn.heap_max+1;wn<A;wn++)Mr<(hn=Fn[2*Fn[2*($t=tn.heap[wn])+1]+1]+1)&&(hn=Mr,or++),Fn[2*$t+1]=hn,Ar<$t||(tn.bl_count[hn]++,Dr=0,Ir<=$t&&(Dr=ar[$t-Ir]),zn=Fn[2*$t],tn.opt_len+=zn*(hn+Dr),Ps&&(tn.static_len+=zn*(Wn[2*$t+1]+Dr)));if(or!==0){do{for(hn=Mr-1;tn.bl_count[hn]===0;)hn--;tn.bl_count[hn]--,tn.bl_count[hn+1]+=2,tn.bl_count[Mr]--,or-=2}while(0<or);for(hn=Mr;hn!==0;hn--)for($t=tn.bl_count[hn];$t!==0;)Ar<(ur=tn.heap[--wn])||(Fn[2*ur+1]!==hn&&(tn.opt_len+=(hn-Fn[2*ur+1])*Fn[2*ur],Fn[2*ur+1]=hn),$t--)}})(be,Oe),Je(Lt,an,be.bl_count)}function K(be,Oe,st){var ct,Ge,Lt=-1,It=Oe[1],Bt=0,Ut=7,an=4;for(It===0&&(Ut=138,an=3),Oe[2*(st+1)+1]=65535,ct=0;ct<=st;ct++)Ge=It,It=Oe[2*(ct+1)+1],++Bt<Ut&&Ge===It||(Bt<an?be.bl_tree[2*Ge]+=Bt:Ge!==0?(Ge!==Lt&&be.bl_tree[2*Ge]++,be.bl_tree[2*le]++):Bt<=10?be.bl_tree[2*pe]++:be.bl_tree[2*ie]++,Lt=Ge,an=(Bt=0)===It?(Ut=138,3):Ge===It?(Ut=6,3):(Ut=7,4))}function Fe(be,Oe,st){var ct,Ge,Lt=-1,It=Oe[1],Bt=0,Ut=7,an=4;for(It===0&&(Ut=138,an=3),ct=0;ct<=st;ct++)if(Ge=It,It=Oe[2*(ct+1)+1],!(++Bt<Ut&&Ge===It)){if(Bt<an)for(;_e(be,Ge,be.bl_tree),--Bt!=0;);else Ge!==0?(Ge!==Lt&&(_e(be,Ge,be.bl_tree),Bt--),_e(be,le,be.bl_tree),me(be,Bt-3,2)):Bt<=10?(_e(be,pe,be.bl_tree),me(be,Bt-3,3)):(_e(be,ie,be.bl_tree),me(be,Bt-11,7));Lt=Ge,an=(Bt=0)===It?(Ut=138,3):Ge===It?(Ut=6,3):(Ut=7,4)}}p(Be);var he=!1;function Pe(be,Oe,st,ct){me(be,(v<<1)+(ct?1:0),3),(function(Ge,Lt,It,Bt){Xe(Ge),ce(Ge,It),ce(Ge,~It),o.arraySet(Ge.pending_buf,Ge.window,Lt,It,Ge.pending),Ge.pending+=It})(be,Oe,st)}a._tr_init=function(be){he||((function(){var Oe,st,ct,Ge,Lt,It=new Array(I+1);for(Ge=ct=0;Ge<b-1;Ge++)for(Ae[Ge]=ct,Oe=0;Oe<1<<$[Ge];Oe++)j[ct++]=Ge;for(j[ct-1]=Ge,Ge=Lt=0;Ge<16;Ge++)for(Be[Ge]=Lt,Oe=0;Oe<1<<Y[Ge];Oe++)se[Lt++]=Ge;for(Lt>>=7;Ge<w;Ge++)for(Be[Ge]=Lt<<7,Oe=0;Oe<1<<Y[Ge]-7;Oe++)se[256+Lt++]=Ge;for(st=0;st<=I;st++)It[st]=0;for(Oe=0;Oe<=143;)J[2*Oe+1]=8,Oe++,It[8]++;for(;Oe<=255;)J[2*Oe+1]=9,Oe++,It[9]++;for(;Oe<=279;)J[2*Oe+1]=7,Oe++,It[7]++;for(;Oe<=287;)J[2*Oe+1]=8,Oe++,It[8]++;for(Je(J,P+1,It),Oe=0;Oe<w;Oe++)G[2*Oe+1]=5,G[2*Oe]=Te(Oe,5);Ue=new Ee(J,$,k+1,P,I),je=new Ee(G,Y,0,w,I),Le=new Ee(new Array(0),ue,0,O,U)})(),he=!0),be.l_desc=new re(be.dyn_ltree,Ue),be.d_desc=new re(be.dyn_dtree,je),be.bl_desc=new re(be.bl_tree,Le),be.bi_buf=0,be.bi_valid=0,$e(be)},a._tr_stored_block=Pe,a._tr_flush_block=function(be,Oe,st,ct){var Ge,Lt,It=0;0<be.level?(be.strm.data_type===2&&(be.strm.data_type=(function(Bt){var Ut,an=4093624447;for(Ut=0;Ut<=31;Ut++,an>>>=1)if(1&an&&Bt.dyn_ltree[2*Ut]!==0)return c;if(Bt.dyn_ltree[18]!==0||Bt.dyn_ltree[20]!==0||Bt.dyn_ltree[26]!==0)return f;for(Ut=32;Ut<k;Ut++)if(Bt.dyn_ltree[2*Ut]!==0)return f;return c})(be)),qt(be,be.l_desc),qt(be,be.d_desc),It=(function(Bt){var Ut;for(K(Bt,Bt.dyn_ltree,Bt.l_desc.max_code),K(Bt,Bt.dyn_dtree,Bt.d_desc.max_code),qt(Bt,Bt.bl_desc),Ut=O-1;3<=Ut&&Bt.bl_tree[2*Me[Ut]+1]===0;Ut--);return Bt.opt_len+=3*(Ut+1)+5+5+4,Ut})(be),Ge=be.opt_len+3+7>>>3,(Lt=be.static_len+3+7>>>3)<=Ge&&(Ge=Lt)):Ge=Lt=st+5,st+4<=Ge&&Oe!==-1?Pe(be,Oe,st,ct):be.strategy===4||Lt===Ge?(me(be,2+(ct?1:0),3),Gt(be,J,G)):(me(be,4+(ct?1:0),3),(function(Bt,Ut,an,tn){var on;for(me(Bt,Ut-257,5),me(Bt,an-1,5),me(Bt,tn-4,4),on=0;on<tn;on++)me(Bt,Bt.bl_tree[2*Me[on]+1],3);Fe(Bt,Bt.dyn_ltree,Ut-1),Fe(Bt,Bt.dyn_dtree,an-1)})(be,be.l_desc.max_code+1,be.d_desc.max_code+1,It+1),Gt(be,be.dyn_ltree,be.dyn_dtree)),$e(be),ct&&Xe(be)},a._tr_tally=function(be,Oe,st){return be.pending_buf[be.d_buf+2*be.last_lit]=Oe>>>8&255,be.pending_buf[be.d_buf+2*be.last_lit+1]=255&Oe,be.pending_buf[be.l_buf+be.last_lit]=255&st,be.last_lit++,Oe===0?be.dyn_ltree[2*st]++:(be.matches++,Oe--,be.dyn_ltree[2*(j[st]+k+1)]++,be.dyn_dtree[2*F(Oe)]++),be.last_lit===be.lit_bufsize-1},a._tr_align=function(be){me(be,2,3),_e(be,Z,J),(function(Oe){Oe.bi_valid===16?(ce(Oe,Oe.bi_buf),Oe.bi_buf=0,Oe.bi_valid=0):8<=Oe.bi_valid&&(Oe.pending_buf[Oe.pending++]=255&Oe.bi_buf,Oe.bi_buf>>=8,Oe.bi_valid-=8)})(be)}},{"../utils/common":41}],53:[function(e,i,a){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,i,a){(function(o){(function(c,f){if(!c.setImmediate){var p,v,b,k,P=1,w={},O=!1,A=c.document,I=Object.getPrototypeOf&&Object.getPrototypeOf(c);I=I&&I.setTimeout?I:c,p={}.toString.call(c.process)==="[object process]"?function(le){process.nextTick(function(){U(le)})}:(function(){if(c.postMessage&&!c.importScripts){var le=!0,pe=c.onmessage;return c.onmessage=function(){le=!1},c.postMessage("","*"),c.onmessage=pe,le}})()?(k="setImmediate$"+Math.random()+"$",c.addEventListener?c.addEventListener("message",Z,!1):c.attachEvent("onmessage",Z),function(le){c.postMessage(k+le,"*")}):c.MessageChannel?((b=new MessageChannel).port1.onmessage=function(le){U(le.data)},function(le){b.port2.postMessage(le)}):A&&"onreadystatechange"in A.createElement("script")?(v=A.documentElement,function(le){var pe=A.createElement("script");pe.onreadystatechange=function(){U(le),pe.onreadystatechange=null,v.removeChild(pe),pe=null},v.appendChild(pe)}):function(le){setTimeout(U,0,le)},I.setImmediate=function(le){typeof le!="function"&&(le=new Function(""+le));for(var pe=new Array(arguments.length-1),ie=0;ie<pe.length;ie++)pe[ie]=arguments[ie+1];var $={callback:le,args:pe};return w[P]=$,p(P),P++},I.clearImmediate=B}function B(le){delete w[le]}function U(le){if(O)setTimeout(U,0,le);else{var pe=w[le];if(pe){O=!0;try{(function(ie){var $=ie.callback,Y=ie.args;switch(Y.length){case 0:$();break;case 1:$(Y[0]);break;case 2:$(Y[0],Y[1]);break;case 3:$(Y[0],Y[1],Y[2]);break;default:$.apply(f,Y)}})(pe)}finally{B(le),O=!1}}}}function Z(le){le.source===c&&typeof le.data=="string"&&le.data.indexOf(k)===0&&U(+le.data.slice(k.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof Kl<"u"?Kl:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Uf)),Uf.exports}var _2=g2();const v2=wu(_2);var Zu={},F0;function y2(){if(F0)return Zu;F0=1,Zu.attr=s,Zu.tagClose=t,Zu.tag=e,Zu.encode=i;function s(a){return a&&a.length?" "+a.map(function(o){return o[0]+'="'+o[1]+'"'}).join(" "):""}function t(a,o){return"<"+a+s(o)+"/>"}function e(a,o,c){return"<"+a+s(c)+">"+o+"</"+a+">"}function i(a){return(a===null?"":a.toString()).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}return Zu}var qf,z0;function w2(){if(z0)return qf;z0=1;var s=y2(),t=s.tag,e=s.encode;qf=function(Y,ue){return ue=ue||{documentName:void 0,documentDescription:void 0,name:"name",description:"description",simplestyle:!1,timestamp:"timestamp"},'<?xml version="1.0" encoding="UTF-8"?>'+t("kml",t("Document",o(ue)+c(ue)+a(Y,ue)),[["xmlns","http://www.opengis.net/kml/2.2"]])};function i($,Y){return function(ue){if(!ue.properties||!b.valid(ue.geometry))return"";var Me=b.any(ue.geometry);if(!Me)return"";var J="",G="";if($.simplestyle){var se=le(ue.properties);se&&(b.isPoint(ue.geometry)&&O(ue.properties)?(Y.indexOf(se)===-1&&(J=A(ue.properties,se),Y.push(se)),G=t("styleUrl","#"+se)):(b.isPolygon(ue.geometry)||b.isLine(ue.geometry))&&U(ue.properties)&&(Y.indexOf(se)===-1&&(J=Z(ue.properties,se),Y.push(se)),G=t("styleUrl","#"+se)))}return J+t("Placemark",f(ue.properties,$)+p(ue.properties,$)+P(ue.properties)+v(ue.properties,$)+Me+G)}}function a($,Y){if(!$.type)return"";var ue=[];switch($.type){case"FeatureCollection":return $.features?$.features.map(i(Y,ue)).join(""):"";case"Feature":return i(Y,ue)($);default:return i(Y,ue)({type:"Feature",geometry:$,properties:{}})}}function o($){return $.documentName!==void 0?t("name",$.documentName):""}function c($){return $.documentDescription!==void 0?t("description",$.documentDescription):""}function f($,Y){return $[Y.name]?t("name",e($[Y.name])):""}function p($,Y){return $[Y.description]?t("description",e($[Y.description])):""}function v($,Y){return $[Y.timestamp]?t("TimeStamp",t("when",e($[Y.timestamp]))):""}var b={Point:function($){return t("Point",t("coordinates",$.coordinates.join(",")))},LineString:function($){return t("LineString",t("coordinates",k($.coordinates)))},Polygon:function($){if(!$.coordinates.length)return"";var Y=$.coordinates[0],ue=$.coordinates.slice(1),Me=t("outerBoundaryIs",t("LinearRing",t("coordinates",k(Y)))),J=ue.map(function(G){return t("innerBoundaryIs",t("LinearRing",t("coordinates",k(G))))}).join("");return t("Polygon",Me+J)},MultiPoint:function($){return $.coordinates.length?t("MultiGeometry",$.coordinates.map(function(Y){return b.Point({coordinates:Y})}).join("")):""},MultiPolygon:function($){return $.coordinates.length?t("MultiGeometry",$.coordinates.map(function(Y){return b.Polygon({coordinates:Y})}).join("")):""},MultiLineString:function($){return $.coordinates.length?t("MultiGeometry",$.coordinates.map(function(Y){return b.LineString({coordinates:Y})}).join("")):""},GeometryCollection:function($){return t("MultiGeometry",$.geometries.map(b.any).join(""))},valid:function($){return $&&$.type&&($.coordinates||$.type==="GeometryCollection"&&$.geometries&&$.geometries.every(b.valid))},any:function($){return b[$.type]?b[$.type]($):""},isPoint:function($){return $.type==="Point"||$.type==="MultiPoint"},isPolygon:function($){return $.type==="Polygon"||$.type==="MultiPolygon"},isLine:function($){return $.type==="LineString"||$.type==="MultiLineString"}};function k($){return $.map(function(Y){return Y.join(",")}).join(" ")}function P($){return t("ExtendedData",ie($).map(w).join(""))}function w($){return t("Data",t("value",e($[1])),[["name",e($[0])]])}function O($){return!!($["marker-size"]||$["marker-symbol"]||$["marker-color"])}function A($,Y){return t("Style",t("IconStyle",t("Icon",t("href",I($))))+B(),[["id",Y]])}function I($){var Y=$["marker-size"]||"medium",ue=$["marker-symbol"]?"-"+$["marker-symbol"]:"",Me=($["marker-color"]||"7e7e7e").replace("#","");return"https://api.tiles.mapbox.com/v3/marker/pin-"+Y.charAt(0)+ue+"+"+Me+".png"}function B($){return t("hotSpot","",[["xunits","fraction"],["yunits","fraction"],["x",.5],["y",.5]])}function U($){for(var Y in $)if({stroke:!0,"stroke-opacity":!0,"stroke-width":!0,fill:!0,"fill-opacity":!0}[Y])return!0}function Z($,Y){var ue=t("LineStyle",[t("color",pe($.stroke,$["stroke-opacity"])||"ff555555")+t("width",$["stroke-width"]===void 0?2:$["stroke-width"])]),Me="";return($.fill||$["fill-opacity"])&&(Me=t("PolyStyle",[t("color",pe($.fill,$["fill-opacity"])||"88555555")])),t("Style",ue+Me,[["id",Y]])}function le($){var Y="";return $["marker-symbol"]&&(Y=Y+"ms"+$["marker-symbol"]),$["marker-color"]&&(Y=Y+"mc"+$["marker-color"].replace("#","")),$["marker-size"]&&(Y=Y+"ms"+$["marker-size"]),$.stroke&&(Y=Y+"s"+$.stroke.replace("#","")),$["stroke-width"]&&(Y=Y+"sw"+$["stroke-width"].toString().replace(".","")),$["stroke-opacity"]&&(Y=Y+"mo"+$["stroke-opacity"].toString().replace(".","")),$.fill&&(Y=Y+"f"+$.fill.replace("#","")),$["fill-opacity"]&&(Y=Y+"fo"+$["fill-opacity"].toString().replace(".","")),Y}function pe($,Y){if(typeof $!="string")return"";if($=$.replace("#","").toLowerCase(),$.length===3)$=$[0]+$[0]+$[1]+$[1]+$[2]+$[2];else if($.length!==6)return"";var ue=$[0]+$[1],Me=$[2]+$[3],J=$[4]+$[5],G="ff";return typeof Y=="number"&&Y>=0&&Y<=1&&(G=(Y*255).toString(16),G.indexOf(".")>-1&&(G=G.substr(0,G.indexOf("."))),G.length<2&&(G="0"+G)),G+J+Me+ue}function ie($){var Y=[];for(var ue in $)Y.push([ue,$[ue]]);return Y}return qf}var b2=w2();const x2=wu(b2);function Lr(s){"@babel/helpers - typeof";return Lr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lr(s)}var pa=Uint8Array,go=Uint16Array,qd=Int32Array,Gh=new pa([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Hh=new pa([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),pd=new pa([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ag=function(s,t){for(var e=new go(31),i=0;i<31;++i)e[i]=t+=1<<s[i-1];for(var a=new qd(e[30]),i=1;i<30;++i)for(var o=e[i];o<e[i+1];++o)a[o]=o-e[i]<<5|i;return{b:e,r:a}},og=ag(Gh,2),lg=og.b,md=og.r;lg[28]=258,md[258]=28;var ug=ag(Hh,0),L2=ug.b,U0=ug.r,gd=new go(32768);for(var Vr=0;Vr<32768;++Vr){var Wl=(Vr&43690)>>1|(Vr&21845)<<1;Wl=(Wl&52428)>>2|(Wl&13107)<<2,Wl=(Wl&61680)>>4|(Wl&3855)<<4,gd[Vr]=((Wl&65280)>>8|(Wl&255)<<8)>>1}var gl=(function(s,t,e){for(var i=s.length,a=0,o=new go(t);a<i;++a)s[a]&&++o[s[a]-1];var c=new go(t);for(a=1;a<t;++a)c[a]=c[a-1]+o[a-1]<<1;var f;if(e){f=new go(1<<t);var p=15-t;for(a=0;a<i;++a)if(s[a])for(var v=a<<4|s[a],b=t-s[a],k=c[s[a]-1]++<<b,P=k|(1<<b)-1;k<=P;++k)f[gd[k]>>p]=v}else for(f=new go(i),a=0;a<i;++a)s[a]&&(f[a]=gd[c[s[a]-1]++]>>15-s[a]);return f}),Xl=new pa(288);for(var Vr=0;Vr<144;++Vr)Xl[Vr]=8;for(var Vr=144;Vr<256;++Vr)Xl[Vr]=9;for(var Vr=256;Vr<280;++Vr)Xl[Vr]=7;for(var Vr=280;Vr<288;++Vr)Xl[Vr]=8;var Dc=new pa(32);for(var Vr=0;Vr<32;++Vr)Dc[Vr]=5;var k2=gl(Xl,9,0),C2=gl(Xl,9,1),S2=gl(Dc,5,0),E2=gl(Dc,5,1),Gf=function(s){for(var t=s[0],e=1;e<s.length;++e)s[e]>t&&(t=s[e]);return t},tl=function(s,t,e){var i=t/8|0;return(s[i]|s[i+1]<<8)>>(t&7)&e},Hf=function(s,t){var e=t/8|0;return(s[e]|s[e+1]<<8|s[e+2]<<16)>>(t&7)},Gd=function(s){return(s+7)/8|0},cg=function(s,t,e){return(e==null||e>s.length)&&(e=s.length),new pa(s.subarray(t,e))},P2=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],il=function(s,t,e){var i=new Error(t||P2[s]);if(i.code=s,Error.captureStackTrace&&Error.captureStackTrace(i,il),!e)throw i;return i},A2=function(s,t,e,i){var a=s.length,o=0;if(!a||t.f&&!t.l)return e||new pa(0);var c=!e,f=c||t.i!=2,p=t.i;c&&(e=new pa(a*3));var v=function(Ot){var Gt=e.length;if(Ot>Gt){var qt=new pa(Math.max(Gt*2,Ot));qt.set(e),e=qt}},b=t.f||0,k=t.p||0,P=t.b||0,w=t.l,O=t.d,A=t.m,I=t.n,B=a*8;do{if(!w){b=tl(s,k,1);var U=tl(s,k+1,3);if(k+=3,U)if(U==1)w=C2,O=E2,A=9,I=5;else if(U==2){var ie=tl(s,k,31)+257,$=tl(s,k+10,15)+4,Y=ie+tl(s,k+5,31)+1;k+=14;for(var ue=new pa(Y),Me=new pa(19),J=0;J<$;++J)Me[pd[J]]=tl(s,k+J*3,7);k+=$*3;for(var G=Gf(Me),se=(1<<G)-1,j=gl(Me,G,1),J=0;J<Y;){var Ae=j[tl(s,k,se)];k+=Ae&15;var Z=Ae>>4;if(Z<16)ue[J++]=Z;else{var Ue=0,je=0;for(Z==16?(je=3+tl(s,k,3),k+=2,Ue=ue[J-1]):Z==17?(je=3+tl(s,k,7),k+=3):Z==18&&(je=11+tl(s,k,127),k+=7);je--;)ue[J++]=Ue}}var Le=ue.subarray(0,ie),Be=ue.subarray(ie);A=Gf(Le),I=Gf(Be),w=gl(Le,A,1),O=gl(Be,I,1)}else il(1);else{var Z=Gd(k)+4,le=s[Z-4]|s[Z-3]<<8,pe=Z+le;if(pe>a){p&&il(0);break}f&&v(P+le),e.set(s.subarray(Z,pe),P),t.b=P+=le,t.p=k=pe*8,t.f=b;continue}if(k>B){p&&il(0);break}}f&&v(P+131072);for(var Ee=(1<<A)-1,re=(1<<I)-1,F=k;;F=k){var Ue=w[Hf(s,k)&Ee],ce=Ue>>4;if(k+=Ue&15,k>B){p&&il(0);break}if(Ue||il(2),ce<256)e[P++]=ce;else if(ce==256){F=k,w=null;break}else{var me=ce-254;if(ce>264){var J=ce-257,_e=Gh[J];me=tl(s,k,(1<<_e)-1)+lg[J],k+=_e}var Te=O[Hf(s,k)&re],Je=Te>>4;Te||il(3),k+=Te&15;var Be=L2[Je];if(Je>3){var _e=Hh[Je];Be+=Hf(s,k)&(1<<_e)-1,k+=_e}if(k>B){p&&il(0);break}f&&v(P+131072);var $e=P+me;if(P<Be){var Xe=o-Be,Nt=Math.min(Be,$e);for(Xe+P<0&&il(3);P<Nt;++P)e[P]=i[Xe+P]}for(;P<$e;++P)e[P]=e[P-Be]}}t.l=w,t.p=F,t.b=P,t.f=b,w&&(b=1,t.m=A,t.d=O,t.n=I)}while(!b);return P!=e.length&&c?cg(e,0,P):e.subarray(0,P)},El=function(s,t,e){e<<=t&7;var i=t/8|0;s[i]|=e,s[i+1]|=e>>8},bc=function(s,t,e){e<<=t&7;var i=t/8|0;s[i]|=e,s[i+1]|=e>>8,s[i+2]|=e>>16},Wf=function(s,t){for(var e=[],i=0;i<s.length;++i)s[i]&&e.push({s:i,f:s[i]});var a=e.length,o=e.slice();if(!a)return{t:fg,l:0};if(a==1){var c=new pa(e[0].s+1);return c[e[0].s]=1,{t:c,l:1}}e.sort(function(pe,ie){return pe.f-ie.f}),e.push({s:-1,f:25001});var f=e[0],p=e[1],v=0,b=1,k=2;for(e[0]={s:-1,f:f.f+p.f,l:f,r:p};b!=a-1;)f=e[e[v].f<e[k].f?v++:k++],p=e[v!=b&&e[v].f<e[k].f?v++:k++],e[b++]={s:-1,f:f.f+p.f,l:f,r:p};for(var P=o[0].s,i=1;i<a;++i)o[i].s>P&&(P=o[i].s);var w=new go(P+1),O=_d(e[b-1],w,0);if(O>t){var i=0,A=0,I=O-t,B=1<<I;for(o.sort(function(ie,$){return w[$.s]-w[ie.s]||ie.f-$.f});i<a;++i){var U=o[i].s;if(w[U]>t)A+=B-(1<<O-w[U]),w[U]=t;else break}for(A>>=I;A>0;){var Z=o[i].s;w[Z]<t?A-=1<<t-w[Z]++-1:++i}for(;i>=0&&A;--i){var le=o[i].s;w[le]==t&&(--w[le],++A)}O=t}return{t:new pa(w),l:O}},_d=function(s,t,e){return s.s==-1?Math.max(_d(s.l,t,e+1),_d(s.r,t,e+1)):t[s.s]=e},q0=function(s){for(var t=s.length;t&&!s[--t];);for(var e=new go(++t),i=0,a=s[0],o=1,c=function(p){e[i++]=p},f=1;f<=t;++f)if(s[f]==a&&f!=t)++o;else{if(!a&&o>2){for(;o>138;o-=138)c(32754);o>2&&(c(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(c(a),--o;o>6;o-=6)c(8304);o>2&&(c(o-3<<5|8208),o=0)}for(;o--;)c(a);o=1,a=s[f]}return{c:e.subarray(0,i),n:t}},xc=function(s,t){for(var e=0,i=0;i<t.length;++i)e+=s[i]*t[i];return e},hg=function(s,t,e){var i=e.length,a=Gd(t+2);s[a]=i&255,s[a+1]=i>>8,s[a+2]=s[a]^255,s[a+3]=s[a+1]^255;for(var o=0;o<i;++o)s[a+o+4]=e[o];return(a+4+i)*8},G0=function(s,t,e,i,a,o,c,f,p,v,b){El(t,b++,e),++a[256];for(var k=Wf(a,15),P=k.t,w=k.l,O=Wf(o,15),A=O.t,I=O.l,B=q0(P),U=B.c,Z=B.n,le=q0(A),pe=le.c,ie=le.n,$=new go(19),Y=0;Y<U.length;++Y)++$[U[Y]&31];for(var Y=0;Y<pe.length;++Y)++$[pe[Y]&31];for(var ue=Wf($,7),Me=ue.t,J=ue.l,G=19;G>4&&!Me[pd[G-1]];--G);var se=v+5<<3,j=xc(a,Xl)+xc(o,Dc)+c,Ae=xc(a,P)+xc(o,A)+c+14+3*G+xc($,Me)+2*$[16]+3*$[17]+7*$[18];if(p>=0&&se<=j&&se<=Ae)return hg(t,b,s.subarray(p,p+v));var Ue,je,Le,Be;if(El(t,b,1+(Ae<j)),b+=2,Ae<j){Ue=gl(P,w,0),je=P,Le=gl(A,I,0),Be=A;var Ee=gl(Me,J,0);El(t,b,Z-257),El(t,b+5,ie-1),El(t,b+10,G-4),b+=14;for(var Y=0;Y<G;++Y)El(t,b+3*Y,Me[pd[Y]]);b+=3*G;for(var re=[U,pe],F=0;F<2;++F)for(var ce=re[F],Y=0;Y<ce.length;++Y){var me=ce[Y]&31;El(t,b,Ee[me]),b+=Me[me],me>15&&(El(t,b,ce[Y]>>5&127),b+=ce[Y]>>12)}}else Ue=k2,je=Xl,Le=S2,Be=Dc;for(var Y=0;Y<f;++Y){var _e=i[Y];if(_e>255){var me=_e>>18&31;bc(t,b,Ue[me+257]),b+=je[me+257],me>7&&(El(t,b,_e>>23&31),b+=Gh[me]);var Te=_e&31;bc(t,b,Le[Te]),b+=Be[Te],Te>3&&(bc(t,b,_e>>5&8191),b+=Hh[Te])}else bc(t,b,Ue[_e]),b+=je[_e]}return bc(t,b,Ue[256]),b+je[256]},M2=new qd([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),fg=new pa(0),B2=function(s,t,e,i,a,o){var c=o.z||s.length,f=new pa(i+c+5*(1+Math.ceil(c/7e3))+a),p=f.subarray(i,f.length-a),v=o.l,b=(o.r||0)&7;if(t){b&&(p[0]=o.r>>3);for(var k=M2[t-1],P=k>>13,w=k&8191,O=(1<<e)-1,A=o.p||new go(32768),I=o.h||new go(O+1),B=Math.ceil(e/3),U=2*B,Z=function(K){return(s[K]^s[K+1]<<B^s[K+2]<<U)&O},le=new qd(25e3),pe=new go(288),ie=new go(32),$=0,Y=0,ue=o.i||0,Me=0,J=o.w||0,G=0;ue+2<c;++ue){var se=Z(ue),j=ue&32767,Ae=I[se];if(A[j]=Ae,I[se]=j,J<=ue){var Ue=c-ue;if(($>7e3||Me>24576)&&(Ue>423||!v)){b=G0(s,p,0,le,pe,ie,Y,Me,G,ue-G,b),Me=$=Y=0,G=ue;for(var je=0;je<286;++je)pe[je]=0;for(var je=0;je<30;++je)ie[je]=0}var Le=2,Be=0,Ee=w,re=j-Ae&32767;if(Ue>2&&se==Z(ue-re))for(var F=Math.min(P,Ue)-1,ce=Math.min(32767,ue),me=Math.min(258,Ue);re<=ce&&--Ee&&j!=Ae;){if(s[ue+Le]==s[ue+Le-re]){for(var _e=0;_e<me&&s[ue+_e]==s[ue+_e-re];++_e);if(_e>Le){if(Le=_e,Be=re,_e>F)break;for(var Te=Math.min(re,_e-2),Je=0,je=0;je<Te;++je){var $e=ue-re+je&32767,Xe=A[$e],Nt=$e-Xe&32767;Nt>Je&&(Je=Nt,Ae=$e)}}}j=Ae,Ae=A[j],re+=j-Ae&32767}if(Be){le[Me++]=268435456|md[Le]<<18|U0[Be];var Ot=md[Le]&31,Gt=U0[Be]&31;Y+=Gh[Ot]+Hh[Gt],++pe[257+Ot],++ie[Gt],J=ue+Le,++$}else le[Me++]=s[ue],++pe[s[ue]]}}for(ue=Math.max(ue,J);ue<c;++ue)le[Me++]=s[ue],++pe[s[ue]];b=G0(s,p,v,le,pe,ie,Y,Me,G,ue-G,b),v||(o.r=b&7|p[b/8|0]<<3,b-=7,o.h=I,o.p=A,o.i=ue,o.w=J)}else{for(var ue=o.w||0;ue<c+v;ue+=65535){var qt=ue+65535;qt>=c&&(p[b/8|0]=v,qt=c),b=hg(p,b+1,s.subarray(ue,qt))}o.i=c}return cg(f,0,i+Gd(b)+a)},dg=function(){var s=1,t=0;return{p:function(e){for(var i=s,a=t,o=e.length|0,c=0;c!=o;){for(var f=Math.min(c+2655,o);c<f;++c)a+=i+=e[c];i=(i&65535)+15*(i>>16),a=(a&65535)+15*(a>>16)}s=i,t=a},d:function(){return s%=65521,t%=65521,(s&255)<<24|(s&65280)<<8|(t&255)<<8|t>>8}}},N2=function(s,t,e,i,a){if(!a&&(a={l:1},t.dictionary)){var o=t.dictionary.subarray(-32768),c=new pa(o.length+s.length);c.set(o),c.set(s,o.length),s=c,a.w=o.length}return B2(s,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(s.length)))*1.5):20:12+t.mem,e,i,a)},pg=function(s,t,e){for(;e;++t)s[t]=e,e>>>=8},T2=function(s,t){var e=t.level,i=e==0?0:e<6?1:e==9?3:2;if(s[0]=120,s[1]=i<<6|(t.dictionary&&32),s[1]|=31-(s[0]<<8|s[1])%31,t.dictionary){var a=dg();a.p(t.dictionary),pg(s,2,a.d())}},O2=function(s,t){return((s[0]&15)!=8||s[0]>>4>7||(s[0]<<8|s[1])%31)&&il(6,"invalid zlib data"),(s[1]>>5&1)==1&&il(6,"invalid zlib data: "+(s[1]&32?"need":"unexpected")+" dictionary"),(s[1]>>3&4)+2};function vd(s,t){t||(t={});var e=dg();e.p(s);var i=N2(s,t,t.dictionary?6:2,4);return T2(i,t),pg(i,i.length-4,e.d()),i}function D2(s,t){return A2(s.subarray(O2(s),-4),{i:2},t,t)}var I2=typeof TextDecoder<"u"&&new TextDecoder,R2=0;try{I2.decode(fg,{stream:!0}),R2=1}catch{}var Nn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function $f(){Nn.console&&typeof Nn.console.log=="function"&&Nn.console.log.apply(Nn.console,arguments)}var Or={log:$f,warn:function(s){Nn.console&&(typeof Nn.console.warn=="function"?Nn.console.warn.apply(Nn.console,arguments):$f.call(null,arguments))},error:function(s){Nn.console&&(typeof Nn.console.error=="function"?Nn.console.error.apply(Nn.console,arguments):$f(s))}};function Vf(s,t,e){var i=new XMLHttpRequest;i.open("GET",s),i.responseType="blob",i.onload=function(){gu(i.response,t,e)},i.onerror=function(){Or.error("could not download file")},i.send()}function H0(s){var t=new XMLHttpRequest;t.open("HEAD",s,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function bh(s){try{s.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),s.dispatchEvent(t)}}var Bc,yd,gu=Nn.saveAs||((typeof window>"u"?"undefined":Lr(window))!=="object"||window!==Nn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(s,t,e){var i=Nn.URL||Nn.webkitURL,a=document.createElement("a");t=t||s.name||"download",a.download=t,a.rel="noopener",typeof s=="string"?(a.href=s,a.origin!==location.origin?H0(a.href)?Vf(s,t,e):bh(a,a.target="_blank"):bh(a)):(a.href=i.createObjectURL(s),setTimeout((function(){i.revokeObjectURL(a.href)}),4e4),setTimeout((function(){bh(a)}),0))}:"msSaveOrOpenBlob"in navigator?function(s,t,e){if(t=t||s.name||"download",typeof s=="string")if(H0(s))Vf(s,t,e);else{var i=document.createElement("a");i.href=s,i.target="_blank",setTimeout((function(){bh(i)}))}else navigator.msSaveOrOpenBlob((function(a,o){return o===void 0?o={autoBom:!1}:Lr(o)!=="object"&&(Or.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(s,e),t)}:function(s,t,e,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof s=="string")return Vf(s,t,e);var a=s.type==="application/octet-stream",o=/constructor/i.test(Nn.HTMLElement)||Nn.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&o)&&(typeof FileReader>"u"?"undefined":Lr(FileReader))==="object"){var f=new FileReader;f.onloadend=function(){var b=f.result;b=c?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=b:location=b,i=null},f.readAsDataURL(s)}else{var p=Nn.URL||Nn.webkitURL,v=p.createObjectURL(s);i?i.location=v:location.href=v,i=null,setTimeout((function(){p.revokeObjectURL(v)}),4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function mg(s){var t;s=s||"",this.ok=!1,s.charAt(0)=="#"&&(s=s.substr(1,6)),s={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[s=(s=s.replace(/ /g,"")).toLowerCase()]||s;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(f){return[parseInt(f[1]),parseInt(f[2]),parseInt(f[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(f){return[parseInt(f[1],16),parseInt(f[2],16),parseInt(f[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(f){return[parseInt(f[1]+f[1],16),parseInt(f[2]+f[2],16),parseInt(f[3]+f[3],16)]}}],i=0;i<e.length;i++){var a=e[i].re,o=e[i].process,c=a.exec(s);c&&(t=o(c),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var f=this.r.toString(16),p=this.g.toString(16),v=this.b.toString(16);return f.length==1&&(f="0"+f),p.length==1&&(p="0"+p),v.length==1&&(v="0"+v),"#"+f+p+v}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Zf(s,t){var e=s[0],i=s[1],a=s[2],o=s[3];e=ca(e,i,a,o,t[0],7,-680876936),o=ca(o,e,i,a,t[1],12,-389564586),a=ca(a,o,e,i,t[2],17,606105819),i=ca(i,a,o,e,t[3],22,-1044525330),e=ca(e,i,a,o,t[4],7,-176418897),o=ca(o,e,i,a,t[5],12,1200080426),a=ca(a,o,e,i,t[6],17,-1473231341),i=ca(i,a,o,e,t[7],22,-45705983),e=ca(e,i,a,o,t[8],7,1770035416),o=ca(o,e,i,a,t[9],12,-1958414417),a=ca(a,o,e,i,t[10],17,-42063),i=ca(i,a,o,e,t[11],22,-1990404162),e=ca(e,i,a,o,t[12],7,1804603682),o=ca(o,e,i,a,t[13],12,-40341101),a=ca(a,o,e,i,t[14],17,-1502002290),e=ha(e,i=ca(i,a,o,e,t[15],22,1236535329),a,o,t[1],5,-165796510),o=ha(o,e,i,a,t[6],9,-1069501632),a=ha(a,o,e,i,t[11],14,643717713),i=ha(i,a,o,e,t[0],20,-373897302),e=ha(e,i,a,o,t[5],5,-701558691),o=ha(o,e,i,a,t[10],9,38016083),a=ha(a,o,e,i,t[15],14,-660478335),i=ha(i,a,o,e,t[4],20,-405537848),e=ha(e,i,a,o,t[9],5,568446438),o=ha(o,e,i,a,t[14],9,-1019803690),a=ha(a,o,e,i,t[3],14,-187363961),i=ha(i,a,o,e,t[8],20,1163531501),e=ha(e,i,a,o,t[13],5,-1444681467),o=ha(o,e,i,a,t[2],9,-51403784),a=ha(a,o,e,i,t[7],14,1735328473),e=fa(e,i=ha(i,a,o,e,t[12],20,-1926607734),a,o,t[5],4,-378558),o=fa(o,e,i,a,t[8],11,-2022574463),a=fa(a,o,e,i,t[11],16,1839030562),i=fa(i,a,o,e,t[14],23,-35309556),e=fa(e,i,a,o,t[1],4,-1530992060),o=fa(o,e,i,a,t[4],11,1272893353),a=fa(a,o,e,i,t[7],16,-155497632),i=fa(i,a,o,e,t[10],23,-1094730640),e=fa(e,i,a,o,t[13],4,681279174),o=fa(o,e,i,a,t[0],11,-358537222),a=fa(a,o,e,i,t[3],16,-722521979),i=fa(i,a,o,e,t[6],23,76029189),e=fa(e,i,a,o,t[9],4,-640364487),o=fa(o,e,i,a,t[12],11,-421815835),a=fa(a,o,e,i,t[15],16,530742520),e=da(e,i=fa(i,a,o,e,t[2],23,-995338651),a,o,t[0],6,-198630844),o=da(o,e,i,a,t[7],10,1126891415),a=da(a,o,e,i,t[14],15,-1416354905),i=da(i,a,o,e,t[5],21,-57434055),e=da(e,i,a,o,t[12],6,1700485571),o=da(o,e,i,a,t[3],10,-1894986606),a=da(a,o,e,i,t[10],15,-1051523),i=da(i,a,o,e,t[1],21,-2054922799),e=da(e,i,a,o,t[8],6,1873313359),o=da(o,e,i,a,t[15],10,-30611744),a=da(a,o,e,i,t[6],15,-1560198380),i=da(i,a,o,e,t[13],21,1309151649),e=da(e,i,a,o,t[4],6,-145523070),o=da(o,e,i,a,t[11],10,-1120210379),a=da(a,o,e,i,t[2],15,718787259),i=da(i,a,o,e,t[9],21,-343485551),s[0]=Jl(e,s[0]),s[1]=Jl(i,s[1]),s[2]=Jl(a,s[2]),s[3]=Jl(o,s[3])}function Wh(s,t,e,i,a,o){return t=Jl(Jl(t,s),Jl(i,o)),Jl(t<<a|t>>>32-a,e)}function ca(s,t,e,i,a,o,c){return Wh(t&e|~t&i,s,t,a,o,c)}function ha(s,t,e,i,a,o,c){return Wh(t&i|e&~i,s,t,a,o,c)}function fa(s,t,e,i,a,o,c){return Wh(t^e^i,s,t,a,o,c)}function da(s,t,e,i,a,o,c){return Wh(e^(t|~i),s,t,a,o,c)}function gg(s){var t,e=s.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=s.length;t+=64)Zf(i,j2(s.substring(t-64,t)));s=s.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<s.length;t++)a[t>>2]|=s.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(Zf(i,a),t=0;t<16;t++)a[t]=0;return a[14]=8*e,Zf(i,a),i}function j2(s){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=s.charCodeAt(t)+(s.charCodeAt(t+1)<<8)+(s.charCodeAt(t+2)<<16)+(s.charCodeAt(t+3)<<24);return e}Bc=Nn.atob.bind(Nn),yd=Nn.btoa.bind(Nn);var W0="0123456789abcdef".split("");function F2(s){for(var t="",e=0;e<4;e++)t+=W0[s>>8*e+4&15]+W0[s>>8*e&15];return t}function z2(s){return String.fromCharCode((255&s)>>0,(65280&s)>>8,(16711680&s)>>16,(4278190080&s)>>24)}function wd(s){return gg(s).map(z2).join("")}var U2=(function(s){for(var t=0;t<s.length;t++)s[t]=F2(s[t]);return s.join("")})(gg("hello"))!="5d41402abc4b2a76b9719d911017c592";function Jl(s,t){if(U2){var e=(65535&s)+(65535&t);return(s>>16)+(t>>16)+(e>>16)<<16|65535&e}return s+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function bd(s,t){var e,i,a,o;if(s!==e){for(var c=(a=s,o=1+(256/s.length>>0),new Array(o+1).join(a)),f=[],p=0;p<256;p++)f[p]=p;var v=0;for(p=0;p<256;p++){var b=f[p];v=(v+b+c.charCodeAt(p))%256,f[p]=f[v],f[v]=b}e=s,i=f}else f=i;var k=t.length,P=0,w=0,O="";for(p=0;p<k;p++)w=(w+(b=f[P=(P+1)%256]))%256,f[P]=f[w],f[w]=b,c=f[(f[P]+f[w])%256],O+=String.fromCharCode(t.charCodeAt(p)^c);return O}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var $0={print:4,modify:8,copy:16,"annot-forms":32};function Qu(s,t,e,i){this.v=1,this.r=2;var a=192;s.forEach((function(f){if($0.perm!==void 0)throw new Error("Invalid permission: "+f);a+=$0[f]})),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(t+this.padding).substr(0,32),c=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,c),this.P=-(1+(255^a)),this.encryptionKey=wd(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=bd(this.encryptionKey,this.padding)}function ec(s){if(/[^\u0000-\u00ff]/.test(s))throw new Error("Invalid PDF Name Object: "+s+", Only accept ASCII characters.");for(var t="",e=s.length,i=0;i<e;i++){var a=s.charCodeAt(i);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=s[i]}return t}function V0(s){if(Lr(s)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,i,a){if(a=a||!1,typeof e!="string"||typeof i!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var o=Math.random().toString(35);return t[e][o]=[i,!!a],o},this.unsubscribe=function(e){for(var i in t)if(t[i][e])return delete t[i][e],Object.keys(t[i]).length===0&&delete t[i],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var i=Array.prototype.slice.call(arguments,1),a=[];for(var o in t[e]){var c=t[e][o];try{c[0].apply(s,i)}catch(f){Nn.console&&Or.error("jsPDF PubSub Error",f.message,f)}c[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Ih(s){if(!(this instanceof Ih))return new Ih(s);var t="opacity,stroke-opacity".split(",");for(var e in s)s.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=s[e]);this.id="",this.objectNumber=-1}function _g(s,t){this.gState=s,this.matrix=t,this.id="",this.objectNumber=-1}function vu(s,t,e,i,a){if(!(this instanceof vu))return new vu(s,t,e,i,a);this.type=s==="axial"?2:3,this.coords=t,this.colors=e,_g.call(this,i,a)}function tc(s,t,e,i,a){if(!(this instanceof tc))return new tc(s,t,e,i,a);this.boundingBox=s,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,_g.call(this,i,a)}function Bn(s){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],a=arguments[2],o=arguments[3],c=[],f=1,p=16,v="S",b=null;Lr(s=s||{})==="object"&&(e=s.orientation,i=s.unit||i,a=s.format||a,o=s.compress||s.compressPdf||o,(b=s.encryption||null)!==null&&(b.userPassword=b.userPassword||"",b.ownerPassword=b.ownerPassword||"",b.userPermissions=b.userPermissions||[]),f=typeof s.userUnit=="number"?Math.abs(s.userUnit):1,s.precision!==void 0&&(t=s.precision),s.floatPrecision!==void 0&&(p=s.floatPrecision),v=s.defaultPathOperation||"S"),c=s.filters||(o===!0?["FlateEncode"]:c),i=i||"mm",e=(""+(e||"P")).toLowerCase();var k=s.putOnlyUsedFonts||!1,P={},w={internal:{},__private__:{}};w.__private__.PubSub=V0;var O="1.3",A=w.__private__.getPdfVersion=function(){return O};w.__private__.setPdfVersion=function(M){O=M};var I={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};w.__private__.getPageFormats=function(){return I};var B=w.__private__.getPageFormat=function(M){return I[M]};a=a||"a4";var U={COMPAT:"compat",ADVANCED:"advanced"},Z=U.COMPAT;function le(){this.saveGraphicsState(),he(new dn($t,0,0,-$t,0,Ua()*$t).toString()+" cm"),this.setFontSize(this.getFontSize()/$t),v="n",Z=U.ADVANCED}function pe(){this.restoreGraphicsState(),v="S",Z=U.COMPAT}var ie=w.__private__.combineFontStyleAndFontWeight=function(M,ne){if(M=="bold"&&ne=="normal"||M=="bold"&&ne==400||M=="normal"&&ne=="italic"||M=="bold"&&ne=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ne&&(M=ne==400||ne==="normal"?M==="italic"?"italic":"normal":ne!=700&&ne!=="bold"||M!=="normal"?(ne==700?"bold":ne)+""+M:"bold"),M};w.advancedAPI=function(M){var ne=Z===U.COMPAT;return ne&&le.call(this),typeof M!="function"||(M(this),ne&&pe.call(this)),this},w.compatAPI=function(M){var ne=Z===U.ADVANCED;return ne&&pe.call(this),typeof M!="function"||(M(this),ne&&le.call(this)),this},w.isAdvancedAPI=function(){return Z===U.ADVANCED};var $,Y=function(M){if(Z!==U.ADVANCED)throw new Error(M+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ue=w.roundToPrecision=w.__private__.roundToPrecision=function(M,ne){var Ie=t||ne;if(isNaN(M)||isNaN(Ie))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return M.toFixed(Ie).replace(/0+$/,"")};$=w.hpf=w.__private__.hpf=typeof p=="number"?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return ue(M,p)}:p==="smart"?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return ue(M,M>-1&&M<1?16:5)}:function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return ue(M,16)};var Me=w.f2=w.__private__.f2=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f2");return ue(M,2)},J=w.__private__.f3=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f3");return ue(M,3)},G=w.scale=w.__private__.scale=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.scale");return Z===U.COMPAT?M*$t:Z===U.ADVANCED?M:void 0},se=function(M){return Z===U.COMPAT?Ua()-M:Z===U.ADVANCED?M:void 0},j=function(M){return G(se(M))};w.__private__.setPrecision=w.setPrecision=function(M){typeof parseInt(M,10)=="number"&&(t=parseInt(M,10))};var Ae,Ue="00000000000000000000000000000000",je=w.__private__.getFileId=function(){return Ue},Le=w.__private__.setFileId=function(M){return Ue=M!==void 0&&/^[a-fA-F0-9]{32}$/.test(M)?M.toUpperCase():Ue.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),b!==null&&(dr=new Qu(b.userPermissions,b.userPassword,b.ownerPassword,Ue)),Ue};w.setFileId=function(M){return Le(M),this},w.getFileId=function(){return je()};var Be=w.__private__.convertDateToPDFDate=function(M){var ne=M.getTimezoneOffset(),Ie=ne<0?"+":"-",Ze=Math.floor(Math.abs(ne/60)),ft=Math.abs(ne%60),kt=[Ie,me(Ze),"'",me(ft),"'"].join("");return["D:",M.getFullYear(),me(M.getMonth()+1),me(M.getDate()),me(M.getHours()),me(M.getMinutes()),me(M.getSeconds()),kt].join("")},Ee=w.__private__.convertPDFDateToDate=function(M){var ne=parseInt(M.substr(2,4),10),Ie=parseInt(M.substr(6,2),10)-1,Ze=parseInt(M.substr(8,2),10),ft=parseInt(M.substr(10,2),10),kt=parseInt(M.substr(12,2),10),jt=parseInt(M.substr(14,2),10);return new Date(ne,Ie,Ze,ft,kt,jt,0)},re=w.__private__.setCreationDate=function(M){var ne;if(M===void 0&&(M=new Date),M instanceof Date)ne=Be(M);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(M))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ne=M}return Ae=ne},F=w.__private__.getCreationDate=function(M){var ne=Ae;return M==="jsDate"&&(ne=Ee(Ae)),ne};w.setCreationDate=function(M){return re(M),this},w.getCreationDate=function(M){return F(M)};var ce,me=w.__private__.padd2=function(M){return("0"+parseInt(M)).slice(-2)},_e=w.__private__.padd2Hex=function(M){return("00"+(M=M.toString())).substr(M.length)},Te=0,Je=[],$e=[],Xe=0,Nt=[],Ot=[],Gt=!1,qt=$e,K=function(){Te=0,Xe=0,$e=[],Je=[],Nt=[],As=Kt(),fs=Kt()};w.__private__.setCustomOutputDestination=function(M){Gt=!0,qt=M};var Fe=function(M){Gt||(qt=M)};w.__private__.resetCustomOutputDestination=function(){Gt=!1,qt=$e};var he=w.__private__.out=function(M){return M=M.toString(),Xe+=M.length+1,qt.push(M),qt},Pe=w.__private__.write=function(M){return he(arguments.length===1?M.toString():Array.prototype.join.call(arguments," "))},be=w.__private__.getArrayBuffer=function(M){for(var ne=M.length,Ie=new ArrayBuffer(ne),Ze=new Uint8Array(Ie);ne--;)Ze[ne]=M.charCodeAt(ne);return Ie},Oe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];w.__private__.getStandardFonts=function(){return Oe};var st=s.fontSize||16;w.__private__.setFontSize=w.setFontSize=function(M){return st=Z===U.ADVANCED?M/$t:M,this};var ct,Ge=w.__private__.getFontSize=w.getFontSize=function(){return Z===U.COMPAT?st:st*$t},Lt=s.R2L||!1;w.__private__.setR2L=w.setR2L=function(M){return Lt=M,this},w.__private__.getR2L=w.getR2L=function(){return Lt};var It,Bt=w.__private__.setZoomMode=function(M){var ne=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(M))ct=M;else if(isNaN(M)){if(ne.indexOf(M)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+M+'" is not recognized.');ct=M}else ct=parseInt(M,10)};w.__private__.getZoomMode=function(){return ct};var Ut,an=w.__private__.setPageMode=function(M){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(M)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+M+'" is not recognized.');It=M};w.__private__.getPageMode=function(){return It};var tn=w.__private__.setLayoutMode=function(M){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(M)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+M+'" is not recognized.');Ut=M};w.__private__.getLayoutMode=function(){return Ut},w.__private__.setDisplayMode=w.setDisplayMode=function(M,ne,Ie){return Bt(M),tn(ne),an(Ie),this};var on={title:"",subject:"",author:"",keywords:"",creator:""};w.__private__.getDocumentProperty=function(M){if(Object.keys(on).indexOf(M)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return on[M]},w.__private__.getDocumentProperties=function(){return on},w.__private__.setDocumentProperties=w.setProperties=w.setDocumentProperties=function(M){for(var ne in on)on.hasOwnProperty(ne)&&M[ne]&&(on[ne]=M[ne]);return this},w.__private__.setDocumentProperty=function(M,ne){if(Object.keys(on).indexOf(M)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return on[M]=ne};var wn,$t,ur,hn,Dr,zn={},Fn={},Ar=[],Wn={},Ps={},ar={},Ir={},Mr=null,or=0,En=[],Yn=new V0(w),ma=s.hotfixes||[],Zr={},hs={},Zi=[],dn=function M(ne,Ie,Ze,ft,kt,jt){if(!(this instanceof M))return new M(ne,Ie,Ze,ft,kt,jt);isNaN(ne)&&(ne=1),isNaN(Ie)&&(Ie=0),isNaN(Ze)&&(Ze=0),isNaN(ft)&&(ft=1),isNaN(kt)&&(kt=0),isNaN(jt)&&(jt=0),this._matrix=[ne,Ie,Ze,ft,kt,jt]};Object.defineProperty(dn.prototype,"sx",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(dn.prototype,"shy",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(dn.prototype,"shx",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(dn.prototype,"sy",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(dn.prototype,"tx",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(dn.prototype,"ty",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(dn.prototype,"a",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(dn.prototype,"b",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(dn.prototype,"c",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(dn.prototype,"d",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(dn.prototype,"e",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(dn.prototype,"f",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(dn.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(dn.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(dn.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(dn.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),dn.prototype.join=function(M){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map($).join(M)},dn.prototype.multiply=function(M){var ne=M.sx*this.sx+M.shy*this.shx,Ie=M.sx*this.shy+M.shy*this.sy,Ze=M.shx*this.sx+M.sy*this.shx,ft=M.shx*this.shy+M.sy*this.sy,kt=M.tx*this.sx+M.ty*this.shx+this.tx,jt=M.tx*this.shy+M.ty*this.sy+this.ty;return new dn(ne,Ie,Ze,ft,kt,jt)},dn.prototype.decompose=function(){var M=this.sx,ne=this.shy,Ie=this.shx,Ze=this.sy,ft=this.tx,kt=this.ty,jt=Math.sqrt(M*M+ne*ne),Jt=(M/=jt)*Ie+(ne/=jt)*Ze;Ie-=M*Jt,Ze-=ne*Jt;var en=Math.sqrt(Ie*Ie+Ze*Ze);return Jt/=en,M*(Ze/=en)<ne*(Ie/=en)&&(M=-M,ne=-ne,Jt=-Jt,jt=-jt),{scale:new dn(jt,0,0,en,0,0),translate:new dn(1,0,0,1,ft,kt),rotate:new dn(M,ne,-ne,M,0,0),skew:new dn(1,0,Jt,1,0,0)}},dn.prototype.toString=function(M){return this.join(" ")},dn.prototype.inversed=function(){var M=this.sx,ne=this.shy,Ie=this.shx,Ze=this.sy,ft=this.tx,kt=this.ty,jt=1/(M*Ze-ne*Ie),Jt=Ze*jt,en=-ne*jt,_n=-Ie*jt,kn=M*jt;return new dn(Jt,en,_n,kn,-Jt*ft-_n*kt,-en*ft-kn*kt)},dn.prototype.applyToPoint=function(M){var ne=M.x*this.sx+M.y*this.shx+this.tx,Ie=M.x*this.shy+M.y*this.sy+this.ty;return new Ts(ne,Ie)},dn.prototype.applyToRectangle=function(M){var ne=this.applyToPoint(M),Ie=this.applyToPoint(new Ts(M.x+M.w,M.y+M.h));return new ki(ne.x,ne.y,Ie.x-ne.x,Ie.y-ne.y)},dn.prototype.clone=function(){var M=this.sx,ne=this.shy,Ie=this.shx,Ze=this.sy,ft=this.tx,kt=this.ty;return new dn(M,ne,Ie,Ze,ft,kt)},w.Matrix=dn;var Ki=w.matrixMult=function(M,ne){return ne.multiply(M)},Ii=new dn(1,0,0,1,0,0);w.unitMatrix=w.identityMatrix=Ii;var Ri=function(M,ne){if(!Ps[M]){var Ie=(ne instanceof vu?"Sh":"P")+(Object.keys(Wn).length+1).toString(10);ne.id=Ie,Ps[M]=Ie,Wn[Ie]=ne,Yn.publish("addPattern",ne)}};w.ShadingPattern=vu,w.TilingPattern=tc,w.addShadingPattern=function(M,ne){return Y("addShadingPattern()"),Ri(M,ne),this},w.beginTilingPattern=function(M){Y("beginTilingPattern()"),jo(M.boundingBox[0],M.boundingBox[1],M.boundingBox[2]-M.boundingBox[0],M.boundingBox[3]-M.boundingBox[1],M.matrix)},w.endTilingPattern=function(M,ne){Y("endTilingPattern()"),ne.stream=Ot[ce].join(`
`),Ri(M,ne),Yn.publish("endTilingPattern",ne),Zi.pop().restore()};var Vn=w.__private__.newObject=function(){var M=Kt();return ii(M,!0),M},Kt=w.__private__.newObjectDeferred=function(){return Te++,Je[Te]=function(){return Xe},Te},ii=function(M,ne){return ne=typeof ne=="boolean"&&ne,Je[M]=Xe,ne&&he(M+" 0 obj"),M},ga=w.__private__.newAdditionalObject=function(){var M={objId:Kt(),content:""};return Nt.push(M),M},As=Kt(),fs=Kt(),Ji=w.__private__.decodeColorString=function(M){var ne=M.split(" ");if(ne.length!==2||ne[1]!=="g"&&ne[1]!=="G")ne.length===5&&(ne[4]==="k"||ne[4]==="K")&&(ne=[(1-ne[0])*(1-ne[3]),(1-ne[1])*(1-ne[3]),(1-ne[2])*(1-ne[3]),"r"]);else{var Ie=parseFloat(ne[0]);ne=[Ie,Ie,Ie,"r"]}for(var Ze="#",ft=0;ft<3;ft++)Ze+=("0"+Math.floor(255*parseFloat(ne[ft])).toString(16)).slice(-2);return Ze},Kr=w.__private__.encodeColorString=function(M){var ne;typeof M=="string"&&(M={ch1:M});var Ie=M.ch1,Ze=M.ch2,ft=M.ch3,kt=M.ch4,jt=M.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ie=="string"&&Ie.charAt(0)!=="#"){var Jt=new mg(Ie);if(Jt.ok)Ie=Jt.toHex();else if(!/^\d*\.?\d*$/.test(Ie))throw new Error('Invalid color "'+Ie+'" passed to jsPDF.encodeColorString.')}if(typeof Ie=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ie)&&(Ie="#"+Ie[1]+Ie[1]+Ie[2]+Ie[2]+Ie[3]+Ie[3]),typeof Ie=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ie)){var en=parseInt(Ie.substr(1),16);Ie=en>>16&255,Ze=en>>8&255,ft=255&en}if(Ze===void 0||kt===void 0&&Ie===Ze&&Ze===ft)if(typeof Ie=="string")ne=Ie+" "+jt[0];else switch(M.precision){case 2:ne=Me(Ie/255)+" "+jt[0];break;case 3:default:ne=J(Ie/255)+" "+jt[0]}else if(kt===void 0||Lr(kt)==="object"){if(kt&&!isNaN(kt.a)&&kt.a===0)return ne=["1.","1.","1.",jt[1]].join(" ");if(typeof Ie=="string")ne=[Ie,Ze,ft,jt[1]].join(" ");else switch(M.precision){case 2:ne=[Me(Ie/255),Me(Ze/255),Me(ft/255),jt[1]].join(" ");break;default:case 3:ne=[J(Ie/255),J(Ze/255),J(ft/255),jt[1]].join(" ")}}else if(typeof Ie=="string")ne=[Ie,Ze,ft,kt,jt[2]].join(" ");else switch(M.precision){case 2:ne=[Me(Ie),Me(Ze),Me(ft),Me(kt),jt[2]].join(" ");break;case 3:default:ne=[J(Ie),J(Ze),J(ft),J(kt),jt[2]].join(" ")}return ne},gi=w.__private__.getFilters=function(){return c},ji=w.__private__.putStream=function(M){var ne=(M=M||{}).data||"",Ie=M.filters||gi(),Ze=M.alreadyAppliedFilters||[],ft=M.addLength1||!1,kt=ne.length,jt=M.objectId,Jt=function(Ur){return Ur};if(b!==null&&jt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");b!==null&&(Jt=dr.encryptor(jt,0));var en={};Ie===!0&&(Ie=["FlateEncode"]);var _n=M.additionalKeyValues||[],kn=(en=Bn.API.processDataByFilters!==void 0?Bn.API.processDataByFilters(ne,Ie):{data:ne,reverseChain:[]}).reverseChain+(Array.isArray(Ze)?Ze.join(" "):Ze.toString());if(en.data.length!==0&&(_n.push({key:"Length",value:en.data.length}),ft===!0&&_n.push({key:"Length1",value:kt})),kn.length!=0)if(kn.split("/").length-1==1)_n.push({key:"Filter",value:kn});else{_n.push({key:"Filter",value:"["+kn+"]"});for(var Rn=0;Rn<_n.length;Rn+=1)if(_n[Rn].key==="DecodeParms"){for(var _r=[],Zn=0;Zn<en.reverseChain.split("/").length-1;Zn+=1)_r.push("null");_r.push(_n[Rn].value),_n[Rn].value="["+_r.join(" ")+"]"}}he("<<");for(var rr=0;rr<_n.length;rr++)he("/"+_n[rr].key+" "+_n[rr].value);he(">>"),en.data.length!==0&&(he("stream"),he(Jt(en.data)),he("endstream"))},qs=w.__private__.putPage=function(M){var ne=M.number,Ie=M.data,Ze=M.objId,ft=M.contentsObjId;ii(Ze,!0),he("<</Type /Page"),he("/Parent "+M.rootDictionaryObjId+" 0 R"),he("/Resources "+M.resourceDictionaryObjId+" 0 R"),he("/MediaBox ["+parseFloat($(M.mediaBox.bottomLeftX))+" "+parseFloat($(M.mediaBox.bottomLeftY))+" "+$(M.mediaBox.topRightX)+" "+$(M.mediaBox.topRightY)+"]"),M.cropBox!==null&&he("/CropBox ["+$(M.cropBox.bottomLeftX)+" "+$(M.cropBox.bottomLeftY)+" "+$(M.cropBox.topRightX)+" "+$(M.cropBox.topRightY)+"]"),M.bleedBox!==null&&he("/BleedBox ["+$(M.bleedBox.bottomLeftX)+" "+$(M.bleedBox.bottomLeftY)+" "+$(M.bleedBox.topRightX)+" "+$(M.bleedBox.topRightY)+"]"),M.trimBox!==null&&he("/TrimBox ["+$(M.trimBox.bottomLeftX)+" "+$(M.trimBox.bottomLeftY)+" "+$(M.trimBox.topRightX)+" "+$(M.trimBox.topRightY)+"]"),M.artBox!==null&&he("/ArtBox ["+$(M.artBox.bottomLeftX)+" "+$(M.artBox.bottomLeftY)+" "+$(M.artBox.topRightX)+" "+$(M.artBox.topRightY)+"]"),typeof M.userUnit=="number"&&M.userUnit!==1&&he("/UserUnit "+M.userUnit),Yn.publish("putPage",{objId:Ze,pageContext:En[ne],pageNumber:ne,page:Ie}),he("/Contents "+ft+" 0 R"),he(">>"),he("endobj");var kt=Ie.join(`
`);return Z===U.ADVANCED&&(kt+=`
Q`),ii(ft,!0),ji({data:kt,filters:gi(),objectId:ft}),he("endobj"),Ze},Ma=w.__private__.putPages=function(){var M,ne,Ie=[];for(M=1;M<=or;M++)En[M].objId=Kt(),En[M].contentsObjId=Kt();for(M=1;M<=or;M++)Ie.push(qs({number:M,data:Ot[M],objId:En[M].objId,contentsObjId:En[M].contentsObjId,mediaBox:En[M].mediaBox,cropBox:En[M].cropBox,bleedBox:En[M].bleedBox,trimBox:En[M].trimBox,artBox:En[M].artBox,userUnit:En[M].userUnit,rootDictionaryObjId:As,resourceDictionaryObjId:fs}));ii(As,!0),he("<</Type /Pages");var Ze="/Kids [";for(ne=0;ne<or;ne++)Ze+=Ie[ne]+" 0 R ";he(Ze+"]"),he("/Count "+or),he(">>"),he("endobj"),Yn.publish("postPutPages")},Xa=function(M){Yn.publish("putFont",{font:M,out:he,newObject:Vn,putStream:ji}),M.isAlreadyPutted!==!0&&(M.objectNumber=Vn(),he("<<"),he("/Type /Font"),he("/BaseFont /"+ec(M.postScriptName)),he("/Subtype /Type1"),typeof M.encoding=="string"&&he("/Encoding /"+M.encoding),he("/FirstChar 32"),he("/LastChar 255"),he(">>"),he("endobj"))},Qa=function(){for(var M in zn)zn.hasOwnProperty(M)&&(k===!1||k===!0&&P.hasOwnProperty(M))&&Xa(zn[M])},Gs=function(M){M.objectNumber=Vn();var ne=[];ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Form"}),ne.push({key:"BBox",value:"["+[$(M.x),$(M.y),$(M.x+M.width),$(M.y+M.height)].join(" ")+"]"}),ne.push({key:"Matrix",value:"["+M.matrix.toString()+"]"});var Ie=M.pages[1].join(`
`);ji({data:Ie,additionalKeyValues:ne,objectId:M.objectNumber}),he("endobj")},Ba=function(){for(var M in Zr)Zr.hasOwnProperty(M)&&Gs(Zr[M])},eo=function(M,ne){var Ie,Ze=[],ft=1/(ne-1);for(Ie=0;Ie<1;Ie+=ft)Ze.push(Ie);if(Ze.push(1),M[0].offset!=0){var kt={offset:0,color:M[0].color};M.unshift(kt)}if(M[M.length-1].offset!=1){var jt={offset:1,color:M[M.length-1].color};M.push(jt)}for(var Jt="",en=0,_n=0;_n<Ze.length;_n++){for(Ie=Ze[_n];Ie>M[en+1].offset;)en++;var kn=M[en].offset,Rn=(Ie-kn)/(M[en+1].offset-kn),_r=M[en].color,Zn=M[en+1].color;Jt+=_e(Math.round((1-Rn)*_r[0]+Rn*Zn[0]).toString(16))+_e(Math.round((1-Rn)*_r[1]+Rn*Zn[1]).toString(16))+_e(Math.round((1-Rn)*_r[2]+Rn*Zn[2]).toString(16))}return Jt.trim()},wr=function(M,ne){ne||(ne=21);var Ie=Vn(),Ze=eo(M.colors,ne),ft=[];ft.push({key:"FunctionType",value:"0"}),ft.push({key:"Domain",value:"[0.0 1.0]"}),ft.push({key:"Size",value:"["+ne+"]"}),ft.push({key:"BitsPerSample",value:"8"}),ft.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ft.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ji({data:Ze,additionalKeyValues:ft,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ie}),he("endobj"),M.objectNumber=Vn(),he("<< /ShadingType "+M.type),he("/ColorSpace /DeviceRGB");var kt="/Coords ["+$(parseFloat(M.coords[0]))+" "+$(parseFloat(M.coords[1]))+" ";M.type===2?kt+=$(parseFloat(M.coords[2]))+" "+$(parseFloat(M.coords[3])):kt+=$(parseFloat(M.coords[2]))+" "+$(parseFloat(M.coords[3]))+" "+$(parseFloat(M.coords[4]))+" "+$(parseFloat(M.coords[5])),he(kt+="]"),M.matrix&&he("/Matrix ["+M.matrix.toString()+"]"),he("/Function "+Ie+" 0 R"),he("/Extend [true true]"),he(">>"),he("endobj")},wl=function(M,ne){var Ie=Kt(),Ze=Vn();ne.push({resourcesOid:Ie,objectOid:Ze}),M.objectNumber=Ze;var ft=[];ft.push({key:"Type",value:"/Pattern"}),ft.push({key:"PatternType",value:"1"}),ft.push({key:"PaintType",value:"1"}),ft.push({key:"TilingType",value:"1"}),ft.push({key:"BBox",value:"["+M.boundingBox.map($).join(" ")+"]"}),ft.push({key:"XStep",value:$(M.xStep)}),ft.push({key:"YStep",value:$(M.yStep)}),ft.push({key:"Resources",value:Ie+" 0 R"}),M.matrix&&ft.push({key:"Matrix",value:"["+M.matrix.toString()+"]"}),ji({data:M.stream,additionalKeyValues:ft,objectId:M.objectNumber}),he("endobj")},Na=function(M){var ne;for(ne in Wn)Wn.hasOwnProperty(ne)&&(Wn[ne]instanceof vu?wr(Wn[ne]):Wn[ne]instanceof tc&&wl(Wn[ne],M))},Io=function(M){for(var ne in M.objectNumber=Vn(),he("<<"),M)switch(ne){case"opacity":he("/ca "+Me(M[ne]));break;case"stroke-opacity":he("/CA "+Me(M[ne]))}he(">>"),he("endobj")},_o=function(){var M;for(M in ar)ar.hasOwnProperty(M)&&Io(ar[M])},to=function(){for(var M in he("/XObject <<"),Zr)Zr.hasOwnProperty(M)&&Zr[M].objectNumber>=0&&he("/"+M+" "+Zr[M].objectNumber+" 0 R");Yn.publish("putXobjectDict"),he(">>")},Ta=function(){dr.oid=Vn(),he("<<"),he("/Filter /Standard"),he("/V "+dr.v),he("/R "+dr.r),he("/U <"+dr.toHexString(dr.U)+">"),he("/O <"+dr.toHexString(dr.O)+">"),he("/P "+dr.P),he(">>"),he("endobj")},Oa=function(){for(var M in he("/Font <<"),zn)zn.hasOwnProperty(M)&&(k===!1||k===!0&&P.hasOwnProperty(M))&&he("/"+M+" "+zn[M].objectNumber+" 0 R");he(">>")},Yi=function(){if(Object.keys(Wn).length>0){for(var M in he("/Shading <<"),Wn)Wn.hasOwnProperty(M)&&Wn[M]instanceof vu&&Wn[M].objectNumber>=0&&he("/"+M+" "+Wn[M].objectNumber+" 0 R");Yn.publish("putShadingPatternDict"),he(">>")}},Xi=function(M){if(Object.keys(Wn).length>0){for(var ne in he("/Pattern <<"),Wn)Wn.hasOwnProperty(ne)&&Wn[ne]instanceof w.TilingPattern&&Wn[ne].objectNumber>=0&&Wn[ne].objectNumber<M&&he("/"+ne+" "+Wn[ne].objectNumber+" 0 R");Yn.publish("putTilingPatternDict"),he(">>")}},An=function(){if(Object.keys(ar).length>0){var M;for(M in he("/ExtGState <<"),ar)ar.hasOwnProperty(M)&&ar[M].objectNumber>=0&&he("/"+M+" "+ar[M].objectNumber+" 0 R");Yn.publish("putGStateDict"),he(">>")}},Mn=function(M){ii(M.resourcesOid,!0),he("<<"),he("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Oa(),Yi(),Xi(M.objectOid),An(),to(),he(">>"),he("endobj")},Da=function(){var M=[];Qa(),_o(),Ba(),Na(M),Yn.publish("putResources"),M.forEach(Mn),Mn({resourcesOid:fs,objectOid:Number.MAX_SAFE_INTEGER}),Yn.publish("postPutResources")},_a=function(){Yn.publish("putAdditionalObjects");for(var M=0;M<Nt.length;M++){var ne=Nt[M];ii(ne.objId,!0),he(ne.content),he("endobj")}Yn.publish("postPutAdditionalObjects")},Qi=function(M){Fn[M.fontName]=Fn[M.fontName]||{},Fn[M.fontName][M.fontStyle]=M.id},Hs=function(M,ne,Ie,Ze,ft){var kt={id:"F"+(Object.keys(zn).length+1).toString(10),postScriptName:M,fontName:ne,fontStyle:Ie,encoding:Ze,isStandardFont:ft||!1,metadata:{}};return Yn.publish("addFont",{font:kt,instance:this}),zn[kt.id]=kt,Qi(kt),kt.id},Ln=function(M){for(var ne=0,Ie=Oe.length;ne<Ie;ne++){var Ze=Hs.call(this,M[ne][0],M[ne][1],M[ne][2],Oe[ne][3],!0);k===!1&&(P[Ze]=!0);var ft=M[ne][0].split("-");Qi({id:Ze,fontName:ft[0],fontStyle:ft[1]||""})}Yn.publish("addFonts",{fonts:zn,dictionary:Fn})},$n=function(M){return M.foo=function(){try{return M.apply(this,arguments)}catch(Ze){var ne=Ze.stack||"";~ne.indexOf(" at ")&&(ne=ne.split(" at ")[1]);var Ie="Error in function "+ne.split(`
`)[0].split("<")[0]+": "+Ze.message;if(!Nn.console)throw new Error(Ie);Nn.console.error(Ie,Ze),Nn.alert&&alert(Ie)}},M.foo.bar=M,M.foo},Ia=function(M,ne){var Ie,Ze,ft,kt,jt,Jt,en,_n,kn;if(ft=(ne=ne||{}).sourceEncoding||"Unicode",jt=ne.outputEncoding,(ne.autoencode||jt)&&zn[wn].metadata&&zn[wn].metadata[ft]&&zn[wn].metadata[ft].encoding&&(kt=zn[wn].metadata[ft].encoding,!jt&&zn[wn].encoding&&(jt=zn[wn].encoding),!jt&&kt.codePages&&(jt=kt.codePages[0]),typeof jt=="string"&&(jt=kt[jt]),jt)){for(en=!1,Jt=[],Ie=0,Ze=M.length;Ie<Ze;Ie++)(_n=jt[M.charCodeAt(Ie)])?Jt.push(String.fromCharCode(_n)):Jt.push(M[Ie]),Jt[Ie].charCodeAt(0)>>8&&(en=!0);M=Jt.join("")}for(Ie=M.length;en===void 0&&Ie!==0;)M.charCodeAt(Ie-1)>>8&&(en=!0),Ie--;if(!en)return M;for(Jt=ne.noBOM?[]:[254,255],Ie=0,Ze=M.length;Ie<Ze;Ie++){if((kn=(_n=M.charCodeAt(Ie))>>8)>>8)throw new Error("Character at position "+Ie+" of string '"+M+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Jt.push(kn),Jt.push(_n-(kn<<8))}return String.fromCharCode.apply(void 0,Jt)},si=w.__private__.pdfEscape=w.pdfEscape=function(M,ne){return Ia(M,ne).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Jr=w.__private__.beginPage=function(M){Ot[++or]=[],En[or]={objId:0,contentsObjId:0,userUnit:Number(f),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(M[0]),topRightY:Number(M[1])}},Fi(or),Fe(Ot[ce])},Ro=function(M,ne){var Ie,Ze,ft;switch(e=ne||e,typeof M=="string"&&(Ie=B(M.toLowerCase()),Array.isArray(Ie)&&(Ze=Ie[0],ft=Ie[1])),Array.isArray(M)&&(Ze=M[0]*$t,ft=M[1]*$t),isNaN(Ze)&&(Ze=a[0],ft=a[1]),(Ze>14400||ft>14400)&&(Or.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ze=Math.min(14400,Ze),ft=Math.min(14400,ft)),a=[Ze,ft],e.substr(0,1)){case"l":ft>Ze&&(a=[ft,Ze]);break;case"p":Ze>ft&&(a=[ft,Ze])}Jr(a),Ys(xo),he(oi),ko!==0&&he(ko+" J"),Br!==0&&he(Br+" j"),Yn.publish("addPage",{pageNumber:or})},Ra=function(M){M>0&&M<=or&&(Ot.splice(M,1),En.splice(M,1),or--,ce>or&&(ce=or),this.setPage(ce))},Fi=function(M){M>0&&M<=or&&(ce=M)},kr=w.__private__.getNumberOfPages=w.getNumberOfPages=function(){return Ot.length-1},ds=function(M,ne,Ie){var Ze,ft=void 0;return Ie=Ie||{},M=M!==void 0?M:zn[wn].fontName,ne=ne!==void 0?ne:zn[wn].fontStyle,Ze=M.toLowerCase(),Fn[Ze]!==void 0&&Fn[Ze][ne]!==void 0?ft=Fn[Ze][ne]:Fn[M]!==void 0&&Fn[M][ne]!==void 0?ft=Fn[M][ne]:Ie.disableWarning===!1&&Or.warn("Unable to look up font label for font '"+M+"', '"+ne+"'. Refer to getFontList() for available fonts."),ft||Ie.noFallback||(ft=Fn.times[ne])==null&&(ft=Fn.times.normal),ft},Gn=w.__private__.putInfo=function(){var M=Vn(),ne=function(Ze){return Ze};for(var Ie in b!==null&&(ne=dr.encryptor(M,0)),he("<<"),he("/Producer ("+si(ne("jsPDF "+Bn.version))+")"),on)on.hasOwnProperty(Ie)&&on[Ie]&&he("/"+Ie.substr(0,1).toUpperCase()+Ie.substr(1)+" ("+si(ne(on[Ie]))+")");he("/CreationDate ("+si(ne(Ae))+")"),he(">>"),he("endobj")},Ws=w.__private__.putCatalog=function(M){var ne=(M=M||{}).rootDictionaryObjId||As;switch(Vn(),he("<<"),he("/Type /Catalog"),he("/Pages "+ne+" 0 R"),ct||(ct="fullwidth"),ct){case"fullwidth":he("/OpenAction [3 0 R /FitH null]");break;case"fullheight":he("/OpenAction [3 0 R /FitV null]");break;case"fullpage":he("/OpenAction [3 0 R /Fit]");break;case"original":he("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ie=""+ct;Ie.substr(Ie.length-1)==="%"&&(ct=parseInt(ct)/100),typeof ct=="number"&&he("/OpenAction [3 0 R /XYZ null null "+Me(ct)+"]")}switch(Ut||(Ut="continuous"),Ut){case"continuous":he("/PageLayout /OneColumn");break;case"single":he("/PageLayout /SinglePage");break;case"two":case"twoleft":he("/PageLayout /TwoColumnLeft");break;case"tworight":he("/PageLayout /TwoColumnRight")}It&&he("/PageMode /"+It),Yn.publish("putCatalog"),he(">>"),he("endobj")},vo=w.__private__.putTrailer=function(){he("trailer"),he("<<"),he("/Size "+(Te+1)),he("/Root "+Te+" 0 R"),he("/Info "+(Te-1)+" 0 R"),b!==null&&he("/Encrypt "+dr.oid+" 0 R"),he("/ID [ <"+Ue+"> <"+Ue+"> ]"),he(">>")},$s=w.__private__.putHeader=function(){he("%PDF-"+O),he("%")},yo=w.__private__.putXRef=function(){var M="0000000000";he("xref"),he("0 "+(Te+1)),he("0000000000 65535 f ");for(var ne=1;ne<=Te;ne++)typeof Je[ne]=="function"?he((M+Je[ne]()).slice(-10)+" 00000 n "):Je[ne]!==void 0?he((M+Je[ne]).slice(-10)+" 00000 n "):he("0000000000 00000 n ")},ps=w.__private__.buildDocument=function(){K(),Fe($e),Yn.publish("buildDocument"),$s(),Ma(),_a(),Da(),b!==null&&Ta(),Gn(),Ws();var M=Xe;return yo(),vo(),he("startxref"),he(""+M),he("%%EOF"),Fe(Ot[ce]),$e.join(`
`)},Vs=w.__private__.getBlob=function(M){return new Blob([be(M)],{type:"application/pdf"})},Zs=w.output=w.__private__.output=$n((function(M,ne){switch(typeof(ne=ne||{})=="string"?ne={filename:ne}:ne.filename=ne.filename||"generated.pdf",M){case void 0:return ps();case"save":w.save(ne.filename);break;case"arraybuffer":return be(ps());case"blob":return Vs(ps());case"bloburi":case"bloburl":if(Nn.URL!==void 0&&typeof Nn.URL.createObjectURL=="function")return Nn.URL&&Nn.URL.createObjectURL(Vs(ps()))||void 0;Or.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ie="",Ze=ps();try{Ie=yd(Ze)}catch{Ie=yd(unescape(encodeURIComponent(Ze)))}return"data:application/pdf;filename="+ne.filename+";base64,"+Ie;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Nn)==="[object Window]"){var ft="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",kt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ne.pdfObjectUrl&&(ft=ne.pdfObjectUrl,kt="");var jt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ft+'"'+kt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ne)+");<\/script></body></html>",Jt=Nn.open();return Jt!==null&&Jt.document.write(jt),Jt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Nn)==="[object Window]"){var en='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ne.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ne.filename+'" width="500px" height="400px" /></body></html>',_n=Nn.open();if(_n!==null){_n.document.write(en);var kn=this;_n.document.documentElement.querySelector("#pdfViewer").onload=function(){_n.document.title=ne.filename,_n.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(kn.output("bloburl"))}}return _n}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Nn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Rn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ne)+'"></iframe></body></html>',_r=Nn.open();if(_r!==null&&(_r.document.write(Rn),_r.document.title=ne.filename),_r||typeof safari>"u")return _r;break;case"datauri":case"dataurl":return Nn.document.location.href=this.output("datauristring",ne);default:return null}})),va=function(M){return Array.isArray(ma)===!0&&ma.indexOf(M)>-1};switch(i){case"pt":$t=1;break;case"mm":$t=72/25.4;break;case"cm":$t=72/2.54;break;case"in":$t=72;break;case"px":$t=va("px_scaling")==1?.75:96/72;break;case"pc":case"em":$t=12;break;case"ex":$t=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);$t=i}var dr=null;re(),Le();var Ms=function(M){return b!==null?dr.encryptor(M,0):function(ne){return ne}},es=w.__private__.getPageInfo=w.getPageInfo=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:En[M].objId,pageNumber:M,pageContext:En[M]}},bn=w.__private__.getPageInfoByObjId=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ne in En)if(En[ne].objId===M)break;return es(ne)},xn=w.__private__.getCurrentPageInfo=w.getCurrentPageInfo=function(){return{objId:En[ce].objId,pageNumber:ce,pageContext:En[ce]}};w.addPage=function(){return Ro.apply(this,arguments),this},w.setPage=function(){return Fi.apply(this,arguments),Fe.call(this,Ot[ce]),this},w.insertPage=function(M){return this.addPage(),this.movePage(ce,M),this},w.movePage=function(M,ne){var Ie,Ze;if(M>ne){Ie=Ot[M],Ze=En[M];for(var ft=M;ft>ne;ft--)Ot[ft]=Ot[ft-1],En[ft]=En[ft-1];Ot[ne]=Ie,En[ne]=Ze,this.setPage(ne)}else if(M<ne){Ie=Ot[M],Ze=En[M];for(var kt=M;kt<ne;kt++)Ot[kt]=Ot[kt+1],En[kt]=En[kt+1];Ot[ne]=Ie,En[ne]=Ze,this.setPage(ne)}return this},w.deletePage=function(){return Ra.apply(this,arguments),this},w.__private__.text=w.text=function(M,ne,Ie,Ze,ft){var kt,jt,Jt,en,_n,kn,Rn,_r,Zn,rr=(Ze=Ze||{}).scope||this;if(typeof M=="number"&&typeof ne=="number"&&(typeof Ie=="string"||Array.isArray(Ie))){var Ur=Ie;Ie=ne,ne=M,M=Ur}if(arguments[3]instanceof dn?(Y("The transform parameter of text() with a Matrix value"),Zn=ft):(Jt=arguments[4],en=arguments[5],Lr(Rn=arguments[3])==="object"&&Rn!==null||(typeof Jt=="string"&&(en=Jt,Jt=null),typeof Rn=="string"&&(en=Rn,Rn=null),typeof Rn=="number"&&(Jt=Rn,Rn=null),Ze={flags:Rn,angle:Jt,align:en})),isNaN(ne)||isNaN(Ie)||M==null)throw new Error("Invalid arguments passed to jsPDF.text");if(M.length===0)return rr;var Rr="",ns=!1,cr=typeof Ze.lineHeightFactor=="number"?Ze.lineHeightFactor:io,li=rr.internal.scaleFactor;function qa(ir){return ir=ir.split("	").join(Array(Ze.TabLen||9).join(" ")),si(ir,Rn)}function Ci(ir){for(var Qn,Er=ir.concat(),lr=[],xs=Er.length;xs--;)typeof(Qn=Er.shift())=="string"?lr.push(Qn):Array.isArray(ir)&&(Qn.length===1||Qn[1]===void 0&&Qn[2]===void 0)?lr.push(Qn[0]):lr.push([Qn[0],Qn[1],Qn[2]]);return lr}function Eo(ir,Qn){var Er;if(typeof ir=="string")Er=Qn(ir)[0];else if(Array.isArray(ir)){for(var lr,xs,xa=ir.concat(),Rs=[],zo=xa.length;zo--;)typeof(lr=xa.shift())=="string"?Rs.push(Qn(lr)[0]):Array.isArray(lr)&&typeof lr[0]=="string"&&(xs=Qn(lr[0],lr[1],lr[2]),Rs.push([xs[0],xs[1],xs[2]]));Er=Rs}return Er}var _s=!1,Po=!0;if(typeof M=="string")_s=!0;else if(Array.isArray(M)){var Qs=M.concat();jt=[];for(var ea,vr=Qs.length;vr--;)(typeof(ea=Qs.shift())!="string"||Array.isArray(ea)&&typeof ea[0]!="string")&&(Po=!1);_s=Po}if(_s===!1)throw new Error('Type of text must be string or Array. "'+M+'" is not recognized.');typeof M=="string"&&(M=M.match(/[\r?\n]/)?M.split(/\r\n|\r|\n/g):[M]);var Ao=st/rr.internal.scaleFactor,Ui=Ao*(cr-1);switch(Ze.baseline){case"bottom":Ie-=Ui;break;case"top":Ie+=Ao-Ui;break;case"hanging":Ie+=Ao-2*Ui;break;case"middle":Ie+=Ao/2-Ui}if((kn=Ze.maxWidth||0)>0&&(typeof M=="string"?M=rr.splitTextToSize(M,kn):Object.prototype.toString.call(M)==="[object Array]"&&(M=M.reduce((function(ir,Qn){return ir.concat(rr.splitTextToSize(Qn,kn))}),[]))),kt={text:M,x:ne,y:Ie,options:Ze,mutex:{pdfEscape:si,activeFontKey:wn,fonts:zn,activeFontSize:st}},Yn.publish("preProcessText",kt),M=kt.text,Jt=(Ze=kt.options).angle,!(Zn instanceof dn)&&Jt&&typeof Jt=="number"){Jt*=Math.PI/180,Ze.rotationDirection===0&&(Jt=-Jt),Z===U.ADVANCED&&(Jt=-Jt);var Si=Math.cos(Jt),lo=Math.sin(Jt);Zn=new dn(Si,lo,-lo,Si,0,0)}else Jt&&Jt instanceof dn&&(Zn=Jt);Z!==U.ADVANCED||Zn||(Zn=Ii),(_n=Ze.charSpace||za)!==void 0&&(Rr+=$(G(_n))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(_r=Ze.horizontalScale)!==void 0&&(Rr+=$(100*_r)+` Tz
`),Ze.lang;var ui=-1,rs=Ze.renderingMode!==void 0?Ze.renderingMode:Ze.stroke,ci=rr.internal.getCurrentPageInfo().pageContext;switch(rs){case 0:case!1:case"fill":ui=0;break;case 1:case!0:case"stroke":ui=1;break;case 2:case"fillThenStroke":ui=2;break;case 3:case"invisible":ui=3;break;case 4:case"fillAndAddForClipping":ui=4;break;case 5:case"strokeAndAddPathForClipping":ui=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ui=6;break;case 7:case"addToPathForClipping":ui=7}var ul=ci.usedRenderingMode!==void 0?ci.usedRenderingMode:-1;ui!==-1?Rr+=ui+` Tr
`:ul!==-1&&(Rr+=`0 Tr
`),ui!==-1&&(ci.usedRenderingMode=ui),en=Ze.align||"left";var Sr,ta=st*cr,is=rr.internal.pageSize.getWidth(),ya=zn[wn];_n=Ze.charSpace||za,kn=Ze.maxWidth||0,Rn=Object.assign({autoencode:!0,noBOM:!0},Ze.flags);var Os=[],Ds=function(ir){return rr.getStringUnitWidth(ir,{font:ya,charSpace:_n,fontSize:st,doKerning:!1})*st/li};if(Object.prototype.toString.call(M)==="[object Array]"){var Xr;jt=Ci(M),en!=="left"&&(Sr=jt.map(Ds));var qr,Is=0;if(en==="right"){ne-=Sr[0],M=[],vr=jt.length;for(var qi=0;qi<vr;qi++)qi===0?(qr=gn(ne),Xr=Yr(Ie)):(qr=G(Is-Sr[qi]),Xr=-ta),M.push([jt[qi],qr,Xr]),Is=Sr[qi]}else if(en==="center"){ne-=Sr[0]/2,M=[],vr=jt.length;for(var vs=0;vs<vr;vs++)vs===0?(qr=gn(ne),Xr=Yr(Ie)):(qr=G((Is-Sr[vs])/2),Xr=-ta),M.push([jt[vs],qr,Xr]),Is=Sr[vs]}else if(en==="left"){M=[],vr=jt.length;for(var wa=0;wa<vr;wa++)M.push(jt[wa])}else if(en==="justify"&&ya.encoding==="Identity-H"){M=[],vr=jt.length,kn=kn!==0?kn:is;for(var ys=0,Xn=0;Xn<vr;Xn++)if(Xr=Xn===0?Yr(Ie):-ta,qr=Xn===0?gn(ne):ys,Xn<vr-1){var Gi=G((kn-Sr[Xn])/(jt[Xn].split(" ").length-1)),vi=jt[Xn].split(" ");M.push([vi[0]+" ",qr,Xr]),ys=0;for(var hi=1;hi<vi.length;hi++){var Ga=(Ds(vi[hi-1]+" "+vi[hi])-Ds(vi[hi]))*li+Gi;hi==vi.length-1?M.push([vi[hi],Ga,0]):M.push([vi[hi]+" ",Ga,0]),ys-=Ga}}else M.push([jt[Xn],qr,Xr]);M.push(["",ys,0])}else{if(en!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(M=[],vr=jt.length,kn=kn!==0?kn:is,Xn=0;Xn<vr;Xn++)Xr=Xn===0?Yr(Ie):-ta,qr=Xn===0?gn(ne):0,Xn<vr-1?Os.push($(G((kn-Sr[Xn])/(jt[Xn].split(" ").length-1)))):Os.push(0),M.push([jt[Xn],qr,Xr])}}var Mo=typeof Ze.R2L=="boolean"?Ze.R2L:Lt;Mo===!0&&(M=Eo(M,(function(ir,Qn,Er){return[ir.split("").reverse().join(""),Qn,Er]}))),kt={text:M,x:ne,y:Ie,options:Ze,mutex:{pdfEscape:si,activeFontKey:wn,fonts:zn,activeFontSize:st}},Yn.publish("postProcessText",kt),M=kt.text,ns=kt.mutex.isHex||!1;var uo=zn[wn].encoding;uo!=="WinAnsiEncoding"&&uo!=="StandardEncoding"||(M=Eo(M,(function(ir,Qn,Er){return[qa(ir),Qn,Er]}))),jt=Ci(M),M=[];for(var yi,Hi,ss,ws=0,na=1,ra=Array.isArray(jt[0])?na:ws,ba="",bs=function(ir,Qn,Er){var lr="";return Er instanceof dn?(Er=typeof Ze.angle=="number"?Ki(Er,new dn(1,0,0,1,ir,Qn)):Ki(new dn(1,0,0,1,ir,Qn),Er),Z===U.ADVANCED&&(Er=Ki(new dn(1,0,0,-1,0,0),Er)),lr=Er.join(" ")+` Tm
`):lr=$(ir)+" "+$(Qn)+` Td
`,lr},fi=0;fi<jt.length;fi++){switch(ba="",ra){case na:ss=(ns?"<":"(")+jt[fi][0]+(ns?">":")"),yi=parseFloat(jt[fi][1]),Hi=parseFloat(jt[fi][2]);break;case ws:ss=(ns?"<":"(")+jt[fi]+(ns?">":")"),yi=gn(ne),Hi=Yr(Ie)}Os!==void 0&&Os[fi]!==void 0&&(ba=Os[fi]+` Tw
`),fi===0?M.push(ba+bs(yi,Hi,Zn)+ss):ra===ws?M.push(ba+ss):ra===na&&M.push(ba+bs(yi,Hi,Zn)+ss)}M=ra===ws?M.join(` Tj
T* `):M.join(` Tj
`),M+=` Tj
`;var Gr=`BT
/`;return Gr+=wn+" "+st+` Tf
`,Gr+=$(st*cr)+` TL
`,Gr+=Cr+`
`,Gr+=Rr,Gr+=M,he(Gr+="ET"),P[wn]=!0,rr};var zr=w.__private__.clip=w.clip=function(M){return he(M==="evenodd"?"W*":"W"),this};w.clipEvenOdd=function(){return zr("evenodd")},w.__private__.discardPath=w.discardPath=function(){return he("n"),this};var Hn=w.__private__.isValidStyle=function(M){var ne=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(M)!==-1&&(ne=!0),ne};w.__private__.setDefaultPathOperation=w.setDefaultPathOperation=function(M){return Hn(M)&&(v=M),this};var wo=w.__private__.getStyle=w.getStyle=function(M){var ne=v;switch(M){case"D":case"S":ne="S";break;case"F":ne="f";break;case"FD":case"DF":ne="B";break;case"f":case"f*":case"B":case"B*":ne=M}return ne},Ks=w.close=function(){return he("h"),this};w.stroke=function(){return he("S"),this},w.fill=function(M){return ja("f",M),this},w.fillEvenOdd=function(M){return ja("f*",M),this},w.fillStroke=function(M){return ja("B",M),this},w.fillStrokeEvenOdd=function(M){return ja("B*",M),this};var ja=function(M,ne){Lr(ne)==="object"?bo(ne,M):he(M)},ts=function(M){M===null||Z===U.ADVANCED&&M===void 0||(M=wo(M),he(M))};function ms(M,ne,Ie,Ze,ft){var kt=new tc(ne||this.boundingBox,Ie||this.xStep,Ze||this.yStep,this.gState,ft||this.matrix);kt.stream=this.stream;var jt=M+"$$"+this.cloneIndex+++"$$";return Ri(jt,kt),kt}var bo=function(M,ne){var Ie=Ps[M.key],Ze=Wn[Ie];if(Ze instanceof vu)he("q"),he(no(ne)),Ze.gState&&w.setGState(Ze.gState),he(M.matrix.toString()+" cm"),he("/"+Ie+" sh"),he("Q");else if(Ze instanceof tc){var ft=new dn(1,0,0,-1,0,Ua());M.matrix&&(ft=ft.multiply(M.matrix||Ii),Ie=ms.call(Ze,M.key,M.boundingBox,M.xStep,M.yStep,ft).id),he("q"),he("/Pattern cs"),he("/"+Ie+" scn"),Ze.gState&&w.setGState(Ze.gState),he(ne),he("Q")}},no=function(M){switch(M){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},gr=w.moveTo=function(M,ne){return he($(G(M))+" "+$(j(ne))+" m"),this},ai=w.lineTo=function(M,ne){return he($(G(M))+" "+$(j(ne))+" l"),this},zi=w.curveTo=function(M,ne,Ie,Ze,ft,kt){return he([$(G(M)),$(j(ne)),$(G(Ie)),$(j(Ze)),$(G(ft)),$(j(kt)),"c"].join(" ")),this};w.__private__.line=w.line=function(M,ne,Ie,Ze,ft){if(isNaN(M)||isNaN(ne)||isNaN(Ie)||isNaN(Ze)||!Hn(ft))throw new Error("Invalid arguments passed to jsPDF.line");return Z===U.COMPAT?this.lines([[Ie-M,Ze-ne]],M,ne,[1,1],ft||"S"):this.lines([[Ie-M,Ze-ne]],M,ne,[1,1]).stroke()},w.__private__.lines=w.lines=function(M,ne,Ie,Ze,ft,kt){var jt,Jt,en,_n,kn,Rn,_r,Zn,rr,Ur,Rr,ns;if(typeof M=="number"&&(ns=Ie,Ie=ne,ne=M,M=ns),Ze=Ze||[1,1],kt=kt||!1,isNaN(ne)||isNaN(Ie)||!Array.isArray(M)||!Array.isArray(Ze)||!Hn(ft)||typeof kt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(gr(ne,Ie),jt=Ze[0],Jt=Ze[1],_n=M.length,Ur=ne,Rr=Ie,en=0;en<_n;en++)(kn=M[en]).length===2?(Ur=kn[0]*jt+Ur,Rr=kn[1]*Jt+Rr,ai(Ur,Rr)):(Rn=kn[0]*jt+Ur,_r=kn[1]*Jt+Rr,Zn=kn[2]*jt+Ur,rr=kn[3]*Jt+Rr,Ur=kn[4]*jt+Ur,Rr=kn[5]*Jt+Rr,zi(Rn,_r,Zn,rr,Ur,Rr));return kt&&Ks(),ts(ft),this},w.path=function(M){for(var ne=0;ne<M.length;ne++){var Ie=M[ne],Ze=Ie.c;switch(Ie.op){case"m":gr(Ze[0],Ze[1]);break;case"l":ai(Ze[0],Ze[1]);break;case"c":zi.apply(this,Ze);break;case"h":Ks()}}return this},w.__private__.rect=w.rect=function(M,ne,Ie,Ze,ft){if(isNaN(M)||isNaN(ne)||isNaN(Ie)||isNaN(Ze)||!Hn(ft))throw new Error("Invalid arguments passed to jsPDF.rect");return Z===U.COMPAT&&(Ze=-Ze),he([$(G(M)),$(j(ne)),$(G(Ie)),$(G(Ze)),"re"].join(" ")),ts(ft),this},w.__private__.triangle=w.triangle=function(M,ne,Ie,Ze,ft,kt,jt){if(isNaN(M)||isNaN(ne)||isNaN(Ie)||isNaN(Ze)||isNaN(ft)||isNaN(kt)||!Hn(jt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ie-M,Ze-ne],[ft-Ie,kt-Ze],[M-ft,ne-kt]],M,ne,[1,1],jt,!0),this},w.__private__.roundedRect=w.roundedRect=function(M,ne,Ie,Ze,ft,kt,jt){if(isNaN(M)||isNaN(ne)||isNaN(Ie)||isNaN(Ze)||isNaN(ft)||isNaN(kt)||!Hn(jt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Jt=4/3*(Math.SQRT2-1);return ft=Math.min(ft,.5*Ie),kt=Math.min(kt,.5*Ze),this.lines([[Ie-2*ft,0],[ft*Jt,0,ft,kt-kt*Jt,ft,kt],[0,Ze-2*kt],[0,kt*Jt,-ft*Jt,kt,-ft,kt],[2*ft-Ie,0],[-ft*Jt,0,-ft,-kt*Jt,-ft,-kt],[0,2*kt-Ze],[0,-kt*Jt,ft*Jt,-kt,ft,-kt]],M+ft,ne,[1,1],jt,!0),this},w.__private__.ellipse=w.ellipse=function(M,ne,Ie,Ze,ft){if(isNaN(M)||isNaN(ne)||isNaN(Ie)||isNaN(Ze)||!Hn(ft))throw new Error("Invalid arguments passed to jsPDF.ellipse");var kt=4/3*(Math.SQRT2-1)*Ie,jt=4/3*(Math.SQRT2-1)*Ze;return gr(M+Ie,ne),zi(M+Ie,ne-jt,M+kt,ne-Ze,M,ne-Ze),zi(M-kt,ne-Ze,M-Ie,ne-jt,M-Ie,ne),zi(M-Ie,ne+jt,M-kt,ne+Ze,M,ne+Ze),zi(M+kt,ne+Ze,M+Ie,ne+jt,M+Ie,ne),ts(ft),this},w.__private__.circle=w.circle=function(M,ne,Ie,Ze){if(isNaN(M)||isNaN(ne)||isNaN(Ie)||!Hn(Ze))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(M,ne,Ie,Ie,Ze)},w.setFont=function(M,ne,Ie){return Ie&&(ne=ie(ne,Ie)),wn=ds(M,ne,{disableWarning:!1}),this};var ro=w.__private__.getFont=w.getFont=function(){return zn[ds.apply(w,arguments)]};w.__private__.getFontList=w.getFontList=function(){var M,ne,Ie={};for(M in Fn)if(Fn.hasOwnProperty(M))for(ne in Ie[M]=[],Fn[M])Fn[M].hasOwnProperty(ne)&&Ie[M].push(ne);return Ie},w.addFont=function(M,ne,Ie,Ze,ft){var kt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&kt.indexOf(arguments[3])!==-1?ft=arguments[3]:arguments[3]&&kt.indexOf(arguments[3])==-1&&(Ie=ie(Ie,Ze)),ft=ft||"Identity-H",Hs.call(this,M,ne,Ie,ft)};var io,xo=s.lineWidth||.200025,Js=w.__private__.getLineWidth=w.getLineWidth=function(){return xo},Ys=w.__private__.setLineWidth=w.setLineWidth=function(M){return xo=M,he($(G(M))+" w"),this};w.__private__.setLineDash=Bn.API.setLineDash=Bn.API.setLineDashPattern=function(M,ne){if(M=M||[],ne=ne||0,isNaN(ne)||!Array.isArray(M))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return M=M.map((function(Ie){return $(G(Ie))})).join(" "),ne=$(G(ne)),he("["+M+"] "+ne+" d"),this};var so=w.__private__.getLineHeight=w.getLineHeight=function(){return st*io};w.__private__.getLineHeight=w.getLineHeight=function(){return st*io};var In=w.__private__.setLineHeightFactor=w.setLineHeightFactor=function(M){return typeof(M=M||1.15)=="number"&&(io=M),this},gs=w.__private__.getLineHeightFactor=w.getLineHeightFactor=function(){return io};In(s.lineHeight);var gn=w.__private__.getHorizontalCoordinate=function(M){return G(M)},Yr=w.__private__.getVerticalCoordinate=function(M){return Z===U.ADVANCED?M:En[ce].mediaBox.topRightY-En[ce].mediaBox.bottomLeftY-G(M)},Fa=w.__private__.getHorizontalCoordinateString=w.getHorizontalCoordinateString=function(M){return $(gn(M))},Bs=w.__private__.getVerticalCoordinateString=w.getVerticalCoordinateString=function(M){return $(Yr(M))},oi=s.strokeColor||"0 G";w.__private__.getStrokeColor=w.getDrawColor=function(){return Ji(oi)},w.__private__.setStrokeColor=w.setDrawColor=function(M,ne,Ie,Ze){return oi=Kr({ch1:M,ch2:ne,ch3:Ie,ch4:Ze,pdfColorType:"draw",precision:2}),he(oi),this};var Lo=s.fillColor||"0 g";w.__private__.getFillColor=w.getFillColor=function(){return Ji(Lo)},w.__private__.setFillColor=w.setFillColor=function(M,ne,Ie,Ze){return Lo=Kr({ch1:M,ch2:ne,ch3:Ie,ch4:Ze,pdfColorType:"fill",precision:2}),he(Lo),this};var Cr=s.textColor||"0 g",Ns=w.__private__.getTextColor=w.getTextColor=function(){return Ji(Cr)};w.__private__.setTextColor=w.setTextColor=function(M,ne,Ie,Ze){return Cr=Kr({ch1:M,ch2:ne,ch3:Ie,ch4:Ze,pdfColorType:"text",precision:3}),this};var za=s.charSpace,_i=w.__private__.getCharSpace=w.getCharSpace=function(){return parseFloat(za||0)};w.__private__.setCharSpace=w.setCharSpace=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return za=M,this};var ko=0;w.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},w.__private__.setLineCap=w.setLineCap=function(M){var ne=w.CapJoinStyles[M];if(ne===void 0)throw new Error("Line cap style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ko=ne,he(ne+" J"),this};var Br=0;w.__private__.setLineJoin=w.setLineJoin=function(M){var ne=w.CapJoinStyles[M];if(ne===void 0)throw new Error("Line join style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Br=ne,he(ne+" j"),this},w.__private__.setLineMiterLimit=w.__private__.setMiterLimit=w.setLineMiterLimit=w.setMiterLimit=function(M){if(M=M||0,isNaN(M))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return he($(G(M))+" M"),this},w.GState=Ih,w.setGState=function(M){(M=typeof M=="string"?ar[Ir[M]]:Co(null,M)).equals(Mr)||(he("/"+M.id+" gs"),Mr=M)};var Co=function(M,ne){if(!M||!Ir[M]){var Ie=!1;for(var Ze in ar)if(ar.hasOwnProperty(Ze)&&ar[Ze].equals(ne)){Ie=!0;break}if(Ie)ne=ar[Ze];else{var ft="GS"+(Object.keys(ar).length+1).toString(10);ar[ft]=ne,ne.id=ft}return M&&(Ir[M]=ne.id),Yn.publish("addGState",ne),ne}};w.addGState=function(M,ne){return Co(M,ne),this},w.saveGraphicsState=function(){return he("q"),Ar.push({key:wn,size:st,color:Cr}),this},w.restoreGraphicsState=function(){he("Q");var M=Ar.pop();return wn=M.key,st=M.size,Cr=M.color,Mr=null,this},w.setCurrentTransformationMatrix=function(M){return he(M.toString()+" cm"),this},w.comment=function(M){return he("#"+M),this};var Ts=function(M,ne){var Ie=M||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ie},set:function(kt){isNaN(kt)||(Ie=parseFloat(kt))}});var Ze=ne||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ze},set:function(kt){isNaN(kt)||(Ze=parseFloat(kt))}});var ft="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ft},set:function(kt){ft=kt.toString()}}),this},ki=function(M,ne,Ie,Ze){Ts.call(this,M,ne),this.type="rect";var ft=Ie||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ft},set:function(jt){isNaN(jt)||(ft=parseFloat(jt))}});var kt=Ze||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return kt},set:function(jt){isNaN(jt)||(kt=parseFloat(jt))}}),this},ao=function(){this.page=or,this.currentPage=ce,this.pages=Ot.slice(0),this.pagesContext=En.slice(0),this.x=ur,this.y=hn,this.matrix=Dr,this.width=Xs(ce),this.height=Ua(ce),this.outputDestination=qt,this.id="",this.objectNumber=-1};ao.prototype.restore=function(){or=this.page,ce=this.currentPage,En=this.pagesContext,Ot=this.pages,ur=this.x,hn=this.y,Dr=this.matrix,oo(ce,this.width),Nr(ce,this.height),qt=this.outputDestination};var jo=function(M,ne,Ie,Ze,ft){Zi.push(new ao),or=ce=0,Ot=[],ur=M,hn=ne,Dr=ft,Jr([Ie,Ze])},Fo=function(M){if(hs[M])Zi.pop().restore();else{var ne=new ao,Ie="Xo"+(Object.keys(Zr).length+1).toString(10);ne.id=Ie,hs[M]=Ie,Zr[Ie]=ne,Yn.publish("addFormObject",ne),Zi.pop().restore()}};for(var So in w.beginFormObject=function(M,ne,Ie,Ze,ft){return jo(M,ne,Ie,Ze,ft),this},w.endFormObject=function(M){return Fo(M),this},w.doFormObject=function(M,ne){var Ie=Zr[hs[M]];return he("q"),he(ne.toString()+" cm"),he("/"+Ie.id+" Do"),he("Q"),this},w.getFormObject=function(M){var ne=Zr[hs[M]];return{x:ne.x,y:ne.y,width:ne.width,height:ne.height,matrix:ne.matrix}},w.save=function(M,ne){return M=M||"generated.pdf",(ne=ne||{}).returnPromise=ne.returnPromise||!1,ne.returnPromise===!1?(gu(Vs(ps()),M),typeof gu.unload=="function"&&Nn.setTimeout&&setTimeout(gu.unload,911),this):new Promise((function(Ie,Ze){try{var ft=gu(Vs(ps()),M);typeof gu.unload=="function"&&Nn.setTimeout&&setTimeout(gu.unload,911),Ie(ft)}catch(kt){Ze(kt.message)}}))},Bn.API)Bn.API.hasOwnProperty(So)&&(So==="events"&&Bn.API.events.length?(function(M,ne){var Ie,Ze,ft;for(ft=ne.length-1;ft!==-1;ft--)Ie=ne[ft][0],Ze=ne[ft][1],M.subscribe.apply(M,[Ie].concat(typeof Ze=="function"?[Ze]:Ze))})(Yn,Bn.API.events):w[So]=Bn.API[So]);var Xs=w.getPageWidth=function(M){return(En[M=M||ce].mediaBox.topRightX-En[M].mediaBox.bottomLeftX)/$t},oo=w.setPageWidth=function(M,ne){En[M].mediaBox.topRightX=ne*$t+En[M].mediaBox.bottomLeftX},Ua=w.getPageHeight=function(M){return(En[M=M||ce].mediaBox.topRightY-En[M].mediaBox.bottomLeftY)/$t},Nr=w.setPageHeight=function(M,ne){En[M].mediaBox.topRightY=ne*$t+En[M].mediaBox.bottomLeftY};return w.internal={pdfEscape:si,getStyle:wo,getFont:ro,getFontSize:Ge,getCharSpace:_i,getTextColor:Ns,getLineHeight:so,getLineHeightFactor:gs,getLineWidth:Js,write:Pe,getHorizontalCoordinate:gn,getVerticalCoordinate:Yr,getCoordinateString:Fa,getVerticalCoordinateString:Bs,collections:{},newObject:Vn,newAdditionalObject:ga,newObjectDeferred:Kt,newObjectDeferredBegin:ii,getFilters:gi,putStream:ji,events:Yn,scaleFactor:$t,pageSize:{getWidth:function(){return Xs(ce)},setWidth:function(M){oo(ce,M)},getHeight:function(){return Ua(ce)},setHeight:function(M){Nr(ce,M)}},encryptionOptions:b,encryption:dr,getEncryptor:Ms,output:Zs,getNumberOfPages:kr,pages:Ot,out:he,f2:Me,f3:J,getPageInfo:es,getPageInfoByObjId:bn,getCurrentPageInfo:xn,getPDFVersion:A,Point:Ts,Rectangle:ki,Matrix:dn,hasHotfix:va},Object.defineProperty(w.internal.pageSize,"width",{get:function(){return Xs(ce)},set:function(M){oo(ce,M)},enumerable:!0,configurable:!0}),Object.defineProperty(w.internal.pageSize,"height",{get:function(){return Ua(ce)},set:function(M){Nr(ce,M)},enumerable:!0,configurable:!0}),Ln.call(w,Oe),wn="F1",Ro(a,e),Yn.publish("initialized"),w}Qu.prototype.lsbFirstWord=function(s){return String.fromCharCode(s>>0&255,s>>8&255,s>>16&255,s>>24&255)},Qu.prototype.toHexString=function(s){return s.split("").map((function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)})).join("")},Qu.prototype.hexToBytes=function(s){for(var t=[],e=0;e<s.length;e+=2)t.push(String.fromCharCode(parseInt(s.substr(e,2),16)));return t.join("")},Qu.prototype.processOwnerPassword=function(s,t){return bd(wd(t).substr(0,5),s)},Qu.prototype.encryptor=function(s,t){var e=wd(this.encryptionKey+String.fromCharCode(255&s,s>>8&255,s>>16&255,255&t,t>>8&255)).substr(0,10);return function(i){return bd(e,i)}},Ih.prototype.equals=function(s){var t,e="id,objectNumber,equals";if(!s||Lr(s)!==Lr(this))return!1;var i=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!s.hasOwnProperty(t)||this[t]!==s[t])return!1;i++}for(t in s)s.hasOwnProperty(t)&&e.indexOf(t)<0&&i--;return i===0},Bn.API={events:[]},Bn.version="3.0.1";var Li=Bn.API,Hd=1,Cu=function(s){return s.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ku=function(s){return s.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},jn=function(s){return s.toFixed(2)},$l=function(s){return s.toFixed(5)};Li.__acroform__={};var Ya=function(s,t){s.prototype=Object.create(t.prototype),s.prototype.constructor=s},Z0=function(s){return s*Hd},dl=function(s){var t=new yg,e=cn.internal.getHeight(s)||0,i=cn.internal.getWidth(s)||0;return t.BBox=[0,0,Number(jn(i)),Number(jn(e))],t},q2=Li.__acroform__.setBit=function(s,t){if(s=s||0,t=t||0,isNaN(s)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return s|=1<<t},G2=Li.__acroform__.clearBit=function(s,t){if(s=s||0,t=t||0,isNaN(s)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return s&=~(1<<t)},H2=Li.__acroform__.getBit=function(s,t){if(isNaN(s)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(s&1<<t)==0?0:1},Ti=Li.__acroform__.getBitForPdf=function(s,t){if(isNaN(s)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return H2(s,t-1)},Oi=Li.__acroform__.setBitForPdf=function(s,t){if(isNaN(s)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return q2(s,t-1)},Di=Li.__acroform__.clearBitForPdf=function(s,t){if(isNaN(s)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return G2(s,t-1)},W2=Li.__acroform__.calculateCoordinates=function(s,t){var e=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,a=s[0],o=s[1],c=s[2],f=s[3],p={};return p.lowerLeft_X=e(a)||0,p.lowerLeft_Y=i(o+f)||0,p.upperRight_X=e(a+c)||0,p.upperRight_Y=i(o)||0,[Number(jn(p.lowerLeft_X)),Number(jn(p.lowerLeft_Y)),Number(jn(p.upperRight_X)),Number(jn(p.upperRight_Y))]},$2=function(s){if(s.appearanceStreamContent)return s.appearanceStreamContent;if(s.V||s.DV){var t=[],e=s._V||s.DV,i=xd(s,e),a=s.scope.internal.getFont(s.fontName,s.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(s.scope.__private__.encodeColorString(s.color)),t.push("/"+a+" "+jn(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=dl(s);return o.scope=s.scope,o.stream=t.join(`
`),o}},xd=function(s,t){var e=s.fontSize===0?s.maxFontSize:s.fontSize,i={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=s.multiline?a.map((function(J){return J.split(`
`)})):a.map((function(J){return[J]}));var o=e,c=cn.internal.getHeight(s)||0;c=c<0?-c:c;var f=cn.internal.getWidth(s)||0;f=f<0?-f:f;var p=function(J,G,se){if(J+1<a.length){var j=G+" "+a[J+1][0];return xh(j,s,se).width<=f-4}return!1};o++;e:for(;o>0;){t="",o--;var v,b,k=xh("3",s,o).height,P=s.multiline?c-o:(c-k)/2,w=P+=2,O=0,A=0,I=0;if(o<=0){t=`(...) Tj
`,t+="% Width of Text: "+xh(t,s,o=12).width+", FieldWidth:"+f+`
`;break}for(var B="",U=0,Z=0;Z<a.length;Z++)if(a.hasOwnProperty(Z)){var le=!1;if(a[Z].length!==1&&I!==a[Z].length-1){if((k+2)*(U+2)+2>c)continue e;B+=a[Z][I],le=!0,A=Z,Z--}else{B=(B+=a[Z][I]+" ").substr(B.length-1)==" "?B.substr(0,B.length-1):B;var pe=parseInt(Z),ie=p(pe,B,o),$=Z>=a.length-1;if(ie&&!$){B+=" ",I=0;continue}if(ie||$){if($)A=pe;else if(s.multiline&&(k+2)*(U+2)+2>c)continue e}else{if(!s.multiline||(k+2)*(U+2)+2>c)continue e;A=pe}}for(var Y="",ue=O;ue<=A;ue++){var Me=a[ue];if(s.multiline){if(ue===A){Y+=Me[I]+" ",I=(I+1)%Me.length;continue}if(ue===O){Y+=Me[Me.length-1]+" ";continue}}Y+=Me[0]+" "}switch(Y=Y.substr(Y.length-1)==" "?Y.substr(0,Y.length-1):Y,b=xh(Y,s,o).width,s.textAlign){case"right":v=f-b-2;break;case"center":v=(f-b)/2;break;case"left":default:v=2}t+=jn(v)+" "+jn(w)+` Td
`,t+="("+Cu(Y)+`) Tj
`,t+=-jn(v)+` 0 Td
`,w=-(o+2),b=0,O=le?A:A+1,U++,B=""}break}return i.text=t,i.fontSize=o,i},xh=function(s,t,e){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(s,{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:a}},V2={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Z2=function(s,t){var e={type:"reference",object:s};t.internal.getPageInfo(s.page).pageContext.annotations.find((function(i){return i.type===e.type&&i.object===e.object}))===void 0&&t.internal.getPageInfo(s.page).pageContext.annotations.push(e)},K2=function(s,t){for(var e in s)if(s.hasOwnProperty(e)){var i=e,a=s[e];t.internal.newObjectDeferredBegin(a.objId,!0),Lr(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete s[i]}},J2=function(s,t){if(t.scope=s,s.internal!==void 0&&(s.internal.acroformPlugin===void 0||s.internal.acroformPlugin.isInitialized===!1)){if(ol.FieldNum=0,s.internal.acroformPlugin=JSON.parse(JSON.stringify(V2)),s.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Hd=s.internal.scaleFactor,s.internal.acroformPlugin.acroFormDictionaryRoot=new wg,s.internal.acroformPlugin.acroFormDictionaryRoot.scope=s,s.internal.acroformPlugin.acroFormDictionaryRoot._eventID=s.internal.events.subscribe("postPutResources",(function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(s)})),s.internal.events.subscribe("buildDocument",(function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];o.objId=void 0,o.hasAnnotation&&Z2(o,e)}})(s)})),s.internal.events.subscribe("putCatalog",(function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(s)})),s.internal.events.subscribe("postPutPages",(function(e){(function(i,a){var o=!i;for(var c in i||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(c)){var f=i[c],p=[],v=f.Rect;if(f.Rect&&(f.Rect=W2(f.Rect,a)),a.internal.newObjectDeferredBegin(f.objId,!0),f.DA=cn.createDefaultAppearanceStream(f),Lr(f)==="object"&&typeof f.getKeyValueListForStream=="function"&&(p=f.getKeyValueListForStream()),f.Rect=v,f.hasAppearanceStream&&!f.appearanceStreamContent){var b=$2(f);p.push({key:"AP",value:"<</N "+b+">>"}),a.internal.acroformPlugin.xForms.push(b)}if(f.appearanceStreamContent){var k="";for(var P in f.appearanceStreamContent)if(f.appearanceStreamContent.hasOwnProperty(P)){var w=f.appearanceStreamContent[P];if(k+="/"+P+" ",k+="<<",Object.keys(w).length>=1||Array.isArray(w)){for(var c in w)if(w.hasOwnProperty(c)){var O=w[c];typeof O=="function"&&(O=O.call(a,f)),k+="/"+c+" "+O+" ",a.internal.acroformPlugin.xForms.indexOf(O)>=0||a.internal.acroformPlugin.xForms.push(O)}}else typeof(O=w)=="function"&&(O=O.call(a,f)),k+="/"+c+" "+O,a.internal.acroformPlugin.xForms.indexOf(O)>=0||a.internal.acroformPlugin.xForms.push(O);k+=">>"}p.push({key:"AP",value:`<<
`+k+">>"})}a.internal.putStream({additionalKeyValues:p,objectId:f.objId}),a.internal.out("endobj")}o&&K2(a.internal.acroformPlugin.xForms,a)})(e,s)})),s.internal.acroformPlugin.isInitialized=!0}},vg=Li.__acroform__.arrayToPdfArray=function(s,t,e){var i=function(c){return c};if(Array.isArray(s)){for(var a="[",o=0;o<s.length;o++)switch(o!==0&&(a+=" "),Lr(s[o])){case"boolean":case"number":case"object":a+=s[o].toString();break;case"string":s[o].substr(0,1)!=="/"?(t!==void 0&&e&&(i=e.internal.getEncryptor(t)),a+="("+Cu(i(s[o].toString()))+")"):a+=s[o].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Kf=function(s,t,e){var i=function(a){return a};return t!==void 0&&e&&(i=e.internal.getEncryptor(t)),(s=s||"").toString(),s="("+Cu(i(s))+")"},ml=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(s){this._objId=s}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ml.prototype.toString=function(){return this.objId+" 0 R"},ml.prototype.putStream=function(){var s=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:s,objectId:this.objId}),this.scope.internal.out("endobj")},ml.prototype.getKeyValueListForStream=function(){var s=[],t=Object.getOwnPropertyNames(this).filter((function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"}));for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var i=t[e],a=this[i];a&&(Array.isArray(a)?s.push({key:i,value:vg(a,this.objId,this.scope)}):a instanceof ml?(a.scope=this.scope,s.push({key:i,value:a.objId+" 0 R"})):typeof a!="function"&&s.push({key:i,value:a}))}return s};var yg=function(){ml.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var s,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){s=e.trim()},get:function(){return s||null}})};Ya(yg,ml);var wg=function(){ml.call(this);var s,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(s){var e=function(i){return i};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+Cu(e(s))+")"}},set:function(e){s=e}})};Ya(wg,ml);var ol=function s(){ml.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(B){if(isNaN(B))throw new Error('Invalid value "'+B+'" for attribute F supplied.');t=B}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ti(t,3)},set:function(B){B?this.F=Oi(t,3):this.F=Di(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(B){if(isNaN(B))throw new Error('Invalid value "'+B+'" for attribute Ff supplied.');e=B}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(B){i=B!==void 0?B:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(B){i[0]=B}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(B){i[1]=B}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(B){i[2]=B}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(B){i[3]=B}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(B){switch(B){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=B;break;default:throw new Error('Invalid value "'+B+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Rh)return;o="FieldObject"+s.FieldNum++}var B=function(U){return U};return this.scope&&(B=this.scope.internal.getEncryptor(this.objId)),"("+Cu(B(o))+")"},set:function(B){o=B.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(B){o=B}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(B){c=B}});var f="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return f},set:function(B){f=B}});var p=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return p},set:function(B){p=B}});var v=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return v===void 0?50/Hd:v},set:function(B){v=B}});var b="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return b},set:function(B){b=B}});var k="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!k||this instanceof Rh||this instanceof yu))return Kf(k,this.objId,this.scope)},set:function(B){B=B.toString(),k=B}});var P=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(P)return this instanceof Es?P:Kf(P,this.objId,this.scope)},set:function(B){B=B.toString(),P=this instanceof Es?B:B.substr(0,1)==="("?Ku(B.substr(1,B.length-2)):Ku(B)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Es?Ku(P.substr(1,P.length-1)):P},set:function(B){B=B.toString(),P=this instanceof Es?"/"+B:B}});var w=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(w)return w},set:function(B){this.V=B}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof Es?w:Kf(w,this.objId,this.scope)},set:function(B){B=B.toString(),w=this instanceof Es?B:B.substr(0,1)==="("?Ku(B.substr(1,B.length-2)):Ku(B)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Es?Ku(w.substr(1,w.length-1)):w},set:function(B){B=B.toString(),w=this instanceof Es?"/"+B:B}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var O,A=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return A},set:function(B){B=!!B,A=B}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(O)return O},set:function(B){O=B}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ti(this.Ff,1)},set:function(B){B?this.Ff=Oi(this.Ff,1):this.Ff=Di(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ti(this.Ff,2)},set:function(B){B?this.Ff=Oi(this.Ff,2):this.Ff=Di(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ti(this.Ff,3)},set:function(B){B?this.Ff=Oi(this.Ff,3):this.Ff=Di(this.Ff,3)}});var I=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(I!==null)return I},set:function(B){if([0,1,2].indexOf(B)===-1)throw new Error('Invalid value "'+B+'" for attribute Q supplied.');I=B}}),Object.defineProperty(this,"textAlign",{get:function(){var B;switch(I){case 0:default:B="left";break;case 1:B="center";break;case 2:B="right"}return B},configurable:!0,enumerable:!0,set:function(B){switch(B){case"right":case 2:I=2;break;case"center":case 1:I=1;break;case"left":case 0:default:I=0}}})};Ya(ol,ml);var nc=function(){ol.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var s=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return s},set:function(e){s=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return s},set:function(e){s=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return vg(t,this.objId,this.scope)},set:function(e){var i,a;a=[],typeof(i=e)=="string"&&(a=(function(o,c,f){f||(f=1);for(var p,v=[];p=c.exec(o);)v.push(p[f]);return v})(i,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,i){for(i=i||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ti(this.Ff,18)},set:function(e){e?this.Ff=Oi(this.Ff,18):this.Ff=Di(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ti(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=Oi(this.Ff,19):this.Ff=Di(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ti(this.Ff,20)},set:function(e){e?(this.Ff=Oi(this.Ff,20),t.sort()):this.Ff=Di(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ti(this.Ff,22)},set:function(e){e?this.Ff=Oi(this.Ff,22):this.Ff=Di(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ti(this.Ff,23)},set:function(e){e?this.Ff=Oi(this.Ff,23):this.Ff=Di(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ti(this.Ff,27)},set:function(e){e?this.Ff=Oi(this.Ff,27):this.Ff=Di(this.Ff,27)}}),this.hasAppearanceStream=!1};Ya(nc,ol);var rc=function(){nc.call(this),this.fontName="helvetica",this.combo=!1};Ya(rc,nc);var ic=function(){rc.call(this),this.combo=!0};Ya(ic,rc);var Ph=function(){ic.call(this),this.edit=!0};Ya(Ph,ic);var Es=function(){ol.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ti(this.Ff,15)},set:function(e){e?this.Ff=Oi(this.Ff,15):this.Ff=Di(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ti(this.Ff,16)},set:function(e){e?this.Ff=Oi(this.Ff,16):this.Ff=Di(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ti(this.Ff,17)},set:function(e){e?this.Ff=Oi(this.Ff,17):this.Ff=Di(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ti(this.Ff,26)},set:function(e){e?this.Ff=Oi(this.Ff,26):this.Ff=Di(this.Ff,26)}});var s,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(o){return o};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var i,a=[];for(i in a.push("<<"),t)a.push("/"+i+" ("+Cu(e(t[i]))+")");return a.push(">>"),a.join(`
`)}},set:function(e){Lr(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return s},set:function(e){s=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return s.substr(1,s.length-1)},set:function(e){s="/"+e}})};Ya(Es,ol);var Ah=function(){Es.call(this),this.pushButton=!0};Ya(Ah,Es);var sc=function(){Es.call(this),this.radio=!0,this.pushButton=!1;var s=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return s},set:function(t){s=t!==void 0?t:[]}})};Ya(sc,Es);var Rh=function(){var s,t;ol.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return s},set:function(a){s=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var e,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(f){return f};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,c=[];for(o in c.push("<<"),i)c.push("/"+o+" ("+Cu(a(i[o]))+")");return c.push(">>"),c.join(`
`)},set:function(a){Lr(a)==="object"&&(i=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(a){typeof a=="string"&&(i.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(a){e="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=cn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ya(Rh,ol),sc.prototype.setAppearance=function(s){if(!("createAppearanceStream"in s)||!("getCA"in s))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=s.createAppearanceStream(e.optionName),e.caption=s.getCA()}},sc.prototype.createOption=function(s){var t=new Rh;return t.Parent=this,t.optionName=s,this.Kids.push(t),Y2.call(this.scope,t),t};var Mh=function(){Es.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=cn.CheckBox.createAppearanceStream()};Ya(Mh,Es);var yu=function(){ol.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ti(this.Ff,13)},set:function(t){t?this.Ff=Oi(this.Ff,13):this.Ff=Di(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ti(this.Ff,21)},set:function(t){t?this.Ff=Oi(this.Ff,21):this.Ff=Di(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ti(this.Ff,23)},set:function(t){t?this.Ff=Oi(this.Ff,23):this.Ff=Di(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ti(this.Ff,24)},set:function(t){t?this.Ff=Oi(this.Ff,24):this.Ff=Di(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ti(this.Ff,25)},set:function(t){t?this.Ff=Oi(this.Ff,25):this.Ff=Di(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ti(this.Ff,26)},set:function(t){t?this.Ff=Oi(this.Ff,26):this.Ff=Di(this.Ff,26)}});var s=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return s},set:function(t){s=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return s},set:function(t){Number.isInteger(t)&&(s=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ya(yu,ol);var Bh=function(){yu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ti(this.Ff,14)},set:function(s){s?this.Ff=Oi(this.Ff,14):this.Ff=Di(this.Ff,14)}}),this.password=!0};Ya(Bh,yu);var cn={CheckBox:{createAppearanceStream:function(){return{N:{On:cn.CheckBox.YesNormal},D:{On:cn.CheckBox.YesPushDown,Off:cn.CheckBox.OffPushDown}}},YesPushDown:function(s){var t=dl(s);t.scope=s.scope;var e=[],i=s.scope.internal.getFont(s.fontName,s.fontStyle).id,a=s.scope.__private__.encodeColorString(s.color),o=xd(s,s.caption);return e.push("0.749023 g"),e.push("0 0 "+jn(cn.internal.getWidth(s))+" "+jn(cn.internal.getHeight(s))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+i+" "+jn(o.fontSize)+" Tf "+a),e.push("BT"),e.push(o.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(s){var t=dl(s);t.scope=s.scope;var e=s.scope.internal.getFont(s.fontName,s.fontStyle).id,i=s.scope.__private__.encodeColorString(s.color),a=[],o=cn.internal.getHeight(s),c=cn.internal.getWidth(s),f=xd(s,s.caption);return a.push("1 g"),a.push("0 0 "+jn(c)+" "+jn(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+jn(c-1)+" "+jn(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+e+" "+jn(f.fontSize)+" Tf "+i),a.push(f.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(s){var t=dl(s);t.scope=s.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+jn(cn.internal.getWidth(s))+" "+jn(cn.internal.getHeight(s))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(s){var t={D:{Off:cn.RadioButton.Circle.OffPushDown},N:{}};return t.N[s]=cn.RadioButton.Circle.YesNormal,t.D[s]=cn.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(s){var t=dl(s);t.scope=s.scope;var e=[],i=cn.internal.getWidth(s)<=cn.internal.getHeight(s)?cn.internal.getWidth(s)/4:cn.internal.getHeight(s)/4;i=Number((.9*i).toFixed(5));var a=cn.internal.Bezier_C,o=Number((i*a).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+$l(cn.internal.getWidth(s)/2)+" "+$l(cn.internal.getHeight(s)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),e.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),e.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),e.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(s){var t=dl(s);t.scope=s.scope;var e=[],i=cn.internal.getWidth(s)<=cn.internal.getHeight(s)?cn.internal.getWidth(s)/4:cn.internal.getHeight(s)/4;i=Number((.9*i).toFixed(5));var a=Number((2*i).toFixed(5)),o=Number((a*cn.internal.Bezier_C).toFixed(5)),c=Number((i*cn.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+$l(cn.internal.getWidth(s)/2)+" "+$l(cn.internal.getHeight(s)/2)+" cm"),e.push(a+" 0 m"),e.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),e.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),e.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),e.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+$l(cn.internal.getWidth(s)/2)+" "+$l(cn.internal.getHeight(s)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+c+" "+c+" "+i+" 0 "+i+" c"),e.push("-"+c+" "+i+" -"+i+" "+c+" -"+i+" 0 c"),e.push("-"+i+" -"+c+" -"+c+" -"+i+" 0 -"+i+" c"),e.push(c+" -"+i+" "+i+" -"+c+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(s){var t=dl(s);t.scope=s.scope;var e=[],i=cn.internal.getWidth(s)<=cn.internal.getHeight(s)?cn.internal.getWidth(s)/4:cn.internal.getHeight(s)/4;i=Number((.9*i).toFixed(5));var a=Number((2*i).toFixed(5)),o=Number((a*cn.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+$l(cn.internal.getWidth(s)/2)+" "+$l(cn.internal.getHeight(s)/2)+" cm"),e.push(a+" 0 m"),e.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),e.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),e.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),e.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(s){var t={D:{Off:cn.RadioButton.Cross.OffPushDown},N:{}};return t.N[s]=cn.RadioButton.Cross.YesNormal,t.D[s]=cn.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(s){var t=dl(s);t.scope=s.scope;var e=[],i=cn.internal.calculateCross(s);return e.push("q"),e.push("1 1 "+jn(cn.internal.getWidth(s)-2)+" "+jn(cn.internal.getHeight(s)-2)+" re"),e.push("W"),e.push("n"),e.push(jn(i.x1.x)+" "+jn(i.x1.y)+" m"),e.push(jn(i.x2.x)+" "+jn(i.x2.y)+" l"),e.push(jn(i.x4.x)+" "+jn(i.x4.y)+" m"),e.push(jn(i.x3.x)+" "+jn(i.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(s){var t=dl(s);t.scope=s.scope;var e=cn.internal.calculateCross(s),i=[];return i.push("0.749023 g"),i.push("0 0 "+jn(cn.internal.getWidth(s))+" "+jn(cn.internal.getHeight(s))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+jn(cn.internal.getWidth(s)-2)+" "+jn(cn.internal.getHeight(s)-2)+" re"),i.push("W"),i.push("n"),i.push(jn(e.x1.x)+" "+jn(e.x1.y)+" m"),i.push(jn(e.x2.x)+" "+jn(e.x2.y)+" l"),i.push(jn(e.x4.x)+" "+jn(e.x4.y)+" m"),i.push(jn(e.x3.x)+" "+jn(e.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(s){var t=dl(s);t.scope=s.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+jn(cn.internal.getWidth(s))+" "+jn(cn.internal.getHeight(s))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(s){var t=s.scope.internal.getFont(s.fontName,s.fontStyle).id,e=s.scope.__private__.encodeColorString(s.color);return"/"+t+" "+s.fontSize+" Tf "+e}};cn.internal={Bezier_C:.551915024494,calculateCross:function(s){var t=cn.internal.getWidth(s),e=cn.internal.getHeight(s),i=Math.min(t,e);return{x1:{x:(t-i)/2,y:(e-i)/2+i},x2:{x:(t-i)/2+i,y:(e-i)/2},x3:{x:(t-i)/2,y:(e-i)/2},x4:{x:(t-i)/2+i,y:(e-i)/2+i}}}},cn.internal.getWidth=function(s){var t=0;return Lr(s)==="object"&&(t=Z0(s.Rect[2])),t},cn.internal.getHeight=function(s){var t=0;return Lr(s)==="object"&&(t=Z0(s.Rect[3])),t};var Y2=Li.addField=function(s){if(J2(this,s),!(s instanceof ol))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=s).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),s.page=s.scope.internal.getCurrentPageInfo().pageNumber,this};Li.AcroFormChoiceField=nc,Li.AcroFormListBox=rc,Li.AcroFormComboBox=ic,Li.AcroFormEditBox=Ph,Li.AcroFormButton=Es,Li.AcroFormPushButton=Ah,Li.AcroFormRadioButton=sc,Li.AcroFormCheckBox=Mh,Li.AcroFormTextField=yu,Li.AcroFormPasswordField=Bh,Li.AcroFormAppearance=cn,Li.AcroForm={ChoiceField:nc,ListBox:rc,ComboBox:ic,EditBox:Ph,Button:Es,PushButton:Ah,RadioButton:sc,CheckBox:Mh,TextField:yu,PasswordField:Bh,Appearance:cn},Bn.AcroForm={ChoiceField:nc,ListBox:rc,ComboBox:ic,EditBox:Ph,Button:Es,PushButton:Ah,RadioButton:sc,CheckBox:Mh,TextField:yu,PasswordField:Bh,Appearance:cn};Bn.AcroForm;function bg(s){return s.reduce((function(t,e,i){return t[e]=i,t}),{})}(function(s){s.__addimage__={};var t="UNKNOWN",e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=s.__addimage__.getImageFileTypeByImageData=function(J,G){var se,j,Ae,Ue,je,Le=t;if((G=G||t)==="RGBA"||J.data!==void 0&&J.data instanceof Uint8ClampedArray&&"height"in J&&"width"in J)return"RGBA";if(ie(J))for(je in e)for(Ae=e[je],se=0;se<Ae.length;se+=1){for(Ue=!0,j=0;j<Ae[se].length;j+=1)if(Ae[se][j]!==void 0&&Ae[se][j]!==J[j]){Ue=!1;break}if(Ue===!0){Le=je;break}}else for(je in e)for(Ae=e[je],se=0;se<Ae.length;se+=1){for(Ue=!0,j=0;j<Ae[se].length;j+=1)if(Ae[se][j]!==void 0&&Ae[se][j]!==J.charCodeAt(j)){Ue=!1;break}if(Ue===!0){Le=je;break}}return Le===t&&G!==t&&(Le=G),Le},a=function J(G){for(var se=this.internal.write,j=this.internal.putStream,Ae=(0,this.internal.getFilters)();Ae.indexOf("FlateEncode")!==-1;)Ae.splice(Ae.indexOf("FlateEncode"),1);G.objectId=this.internal.newObject();var Ue=[];if(Ue.push({key:"Type",value:"/XObject"}),Ue.push({key:"Subtype",value:"/Image"}),Ue.push({key:"Width",value:G.width}),Ue.push({key:"Height",value:G.height}),G.colorSpace===I.INDEXED?Ue.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(G.palette.length/3-1)+" "+("sMask"in G&&G.sMask!==void 0?G.objectId+2:G.objectId+1)+" 0 R]"}):(Ue.push({key:"ColorSpace",value:"/"+G.colorSpace}),G.colorSpace===I.DEVICE_CMYK&&Ue.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Ue.push({key:"BitsPerComponent",value:G.bitsPerComponent}),"decodeParameters"in G&&G.decodeParameters!==void 0&&Ue.push({key:"DecodeParms",value:"<<"+G.decodeParameters+">>"}),"transparency"in G&&Array.isArray(G.transparency)){for(var je="",Le=0,Be=G.transparency.length;Le<Be;Le++)je+=G.transparency[Le]+" "+G.transparency[Le]+" ";Ue.push({key:"Mask",value:"["+je+"]"})}G.sMask!==void 0&&Ue.push({key:"SMask",value:G.objectId+1+" 0 R"});var Ee=G.filter!==void 0?["/"+G.filter]:void 0;if(j({data:G.data,additionalKeyValues:Ue,alreadyAppliedFilters:Ee,objectId:G.objectId}),se("endobj"),"sMask"in G&&G.sMask!==void 0){var re="/Predictor "+G.predictor+" /Colors 1 /BitsPerComponent "+G.bitsPerComponent+" /Columns "+G.width,F={width:G.width,height:G.height,colorSpace:"DeviceGray",bitsPerComponent:G.bitsPerComponent,decodeParameters:re,data:G.sMask};"filter"in G&&(F.filter=G.filter),J.call(this,F)}if(G.colorSpace===I.INDEXED){var ce=this.internal.newObject();j({data:Y(new Uint8Array(G.palette)),objectId:ce}),se("endobj")}},o=function(){var J=this.internal.collections.addImage_images;for(var G in J)a.call(this,J[G])},c=function(){var J,G=this.internal.collections.addImage_images,se=this.internal.write;for(var j in G)se("/I"+(J=G[j]).index,J.objectId,"0","R")},f=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",c))},p=function(){var J=this.internal.collections.addImage_images;return f.call(this),J},v=function(){return Object.keys(this.internal.collections.addImage_images).length},b=function(J){return typeof s["process"+J.toUpperCase()]=="function"},k=function(J){return Lr(J)==="object"&&J.nodeType===1},P=function(J,G){if(J.nodeName==="IMG"&&J.hasAttribute("src")){var se=""+J.getAttribute("src");if(se.indexOf("data:image/")===0)return Bc(unescape(se).split("base64,").pop());var j=s.loadFile(se,!0);if(j!==void 0)return j}if(J.nodeName==="CANVAS"){if(J.width===0||J.height===0)throw new Error("Given canvas must have data. Canvas width: "+J.width+", height: "+J.height);var Ae;switch(G){case"PNG":Ae="image/png";break;case"WEBP":Ae="image/webp";break;case"JPEG":case"JPG":default:Ae="image/jpeg"}return Bc(J.toDataURL(Ae,1).split("base64,").pop())}},w=function(J){var G=this.internal.collections.addImage_images;if(G){for(var se in G)if(J===G[se].alias)return G[se]}},O=function(J,G,se){return J||G||(J=-96,G=-96),J<0&&(J=-1*se.width*72/J/this.internal.scaleFactor),G<0&&(G=-1*se.height*72/G/this.internal.scaleFactor),J===0&&(J=G*se.width/se.height),G===0&&(G=J*se.height/se.width),[J,G]},A=function(J,G,se,j,Ae,Ue){var je=O.call(this,se,j,Ae),Le=this.internal.getCoordinateString,Be=this.internal.getVerticalCoordinateString,Ee=p.call(this);if(se=je[0],j=je[1],Ee[Ae.index]=Ae,Ue){Ue*=Math.PI/180;var re=Math.cos(Ue),F=Math.sin(Ue),ce=function(_e){return _e.toFixed(4)},me=[ce(re),ce(F),ce(-1*F),ce(re),0,0,"cm"]}this.internal.write("q"),Ue?(this.internal.write([1,"0","0",1,Le(J),Be(G+j),"cm"].join(" ")),this.internal.write(me.join(" ")),this.internal.write([Le(se),"0","0",Le(j),"0","0","cm"].join(" "))):this.internal.write([Le(se),"0","0",Le(j),Le(J),Be(G+j),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Ae.index+" Do"),this.internal.write("Q")},I=s.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};s.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var B=s.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},U=s.__addimage__.sHashCode=function(J){var G,se,j=0;if(typeof J=="string")for(se=J.length,G=0;G<se;G++)j=(j<<5)-j+J.charCodeAt(G),j|=0;else if(ie(J))for(se=J.byteLength/2,G=0;G<se;G++)j=(j<<5)-j+J[G],j|=0;return j},Z=s.__addimage__.validateStringAsBase64=function(J){(J=J||"").toString().trim();var G=!0;return J.length===0&&(G=!1),J.length%4!=0&&(G=!1),/^[A-Za-z0-9+/]+$/.test(J.substr(0,J.length-2))===!1&&(G=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(J.substr(-2))===!1&&(G=!1),G},le=s.__addimage__.extractImageFromDataUrl=function(J){if(J==null||!(J=J.trim()).startsWith("data:"))return null;var G=J.indexOf(",");return G<0?null:J.substring(0,G).trim().endsWith("base64")?J.substring(G+1):null},pe=s.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};s.__addimage__.isArrayBuffer=function(J){return pe()&&J instanceof ArrayBuffer};var ie=s.__addimage__.isArrayBufferView=function(J){return pe()&&typeof Uint32Array<"u"&&(J instanceof Int8Array||J instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&J instanceof Uint8ClampedArray||J instanceof Int16Array||J instanceof Uint16Array||J instanceof Int32Array||J instanceof Uint32Array||J instanceof Float32Array||J instanceof Float64Array)},$=s.__addimage__.binaryStringToUint8Array=function(J){for(var G=J.length,se=new Uint8Array(G),j=0;j<G;j++)se[j]=J.charCodeAt(j);return se},Y=s.__addimage__.arrayBufferToBinaryString=function(J){for(var G="",se=ie(J)?J:new Uint8Array(J),j=0;j<se.length;j+=8192)G+=String.fromCharCode.apply(null,se.subarray(j,j+8192));return G};s.addImage=function(){var J,G,se,j,Ae,Ue,je,Le,Be;if(typeof arguments[1]=="number"?(G=t,se=arguments[1],j=arguments[2],Ae=arguments[3],Ue=arguments[4],je=arguments[5],Le=arguments[6],Be=arguments[7]):(G=arguments[1],se=arguments[2],j=arguments[3],Ae=arguments[4],Ue=arguments[5],je=arguments[6],Le=arguments[7],Be=arguments[8]),Lr(J=arguments[0])==="object"&&!k(J)&&"imageData"in J){var Ee=J;J=Ee.imageData,G=Ee.format||G||t,se=Ee.x||se||0,j=Ee.y||j||0,Ae=Ee.w||Ee.width||Ae,Ue=Ee.h||Ee.height||Ue,je=Ee.alias||je,Le=Ee.compression||Le,Be=Ee.rotation||Ee.angle||Be}var re=this.internal.getFilters();if(Le===void 0&&re.indexOf("FlateEncode")!==-1&&(Le="SLOW"),isNaN(se)||isNaN(j))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var F=ue.call(this,J,G,je,Le);return A.call(this,se,j,Ae,Ue,F,Be),this};var ue=function(J,G,se,j){var Ae,Ue,je;if(typeof J=="string"&&i(J)===t){J=unescape(J);var Le=Me(J,!1);(Le!==""||(Le=s.loadFile(J,!0))!==void 0)&&(J=Le)}if(k(J)&&(J=P(J,G)),G=i(J,G),!b(G))throw new Error("addImage does not support files of type '"+G+"', please ensure that a plugin for '"+G+"' support is added.");if(((je=se)==null||je.length===0)&&(se=(function(Be){return typeof Be=="string"||ie(Be)?U(Be):ie(Be.data)?U(Be.data):null})(J)),(Ae=w.call(this,se))||(pe()&&(J instanceof Uint8Array||G==="RGBA"||(Ue=J,J=$(J))),Ae=this["process"+G.toUpperCase()](J,v.call(this),se,(function(Be){return Be&&typeof Be=="string"&&(Be=Be.toUpperCase()),Be in s.image_compression?Be:B.NONE})(j),Ue)),!Ae)throw new Error("An unknown error occurred whilst processing the image.");return Ae},Me=s.__addimage__.convertBase64ToBinaryString=function(J,G){G=typeof G!="boolean"||G;var se,j="";if(typeof J=="string"){var Ae;se=(Ae=le(J))!==null&&Ae!==void 0?Ae:J;try{j=Bc(se)}catch(Ue){if(G)throw Z(se)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Ue.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return j};s.getImageProperties=function(J){var G,se,j="";if(k(J)&&(J=P(J)),typeof J=="string"&&i(J)===t&&((j=Me(J,!1))===""&&(j=s.loadFile(J)||""),J=j),se=i(J),!b(se))throw new Error("addImage does not support files of type '"+se+"', please ensure that a plugin for '"+se+"' support is added.");if(!pe()||J instanceof Uint8Array||(J=$(J)),!(G=this["process"+se.toUpperCase()](J)))throw new Error("An unknown error occurred whilst processing the image");return G.fileType=se,G}})(Bn.API),(function(s){var t=function(e){if(e!==void 0&&e!="")return!0};Bn.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),s.events.push(["putPage",function(e){for(var i,a,o,c=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString,p=this.internal.getPageInfoByObjId(e.objId),v=e.pageContext.annotations,b=!1,k=0;k<v.length&&!b;k++)switch((i=v[k]).type){case"link":(t(i.options.url)||t(i.options.pageNumber))&&(b=!0);break;case"reference":case"text":case"freetext":b=!0}if(b!=0){this.internal.write("/Annots [");for(var P=0;P<v.length;P++){i=v[P];var w=this.internal.pdfEscape,O=this.internal.getEncryptor(e.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var A=this.internal.newAdditionalObject(),I=this.internal.newAdditionalObject(),B=this.internal.getEncryptor(A.objId),U=i.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+c(i.bounds.x)+" "+f(i.bounds.y+i.bounds.h)+" "+c(i.bounds.x+i.bounds.w)+" "+f(i.bounds.y)+"] ")+"/Contents ("+w(B(i.contents))+")",o+=" /Popup "+I.objId+" 0 R",o+=" /P "+p.objId+" 0 R",o+=" /T ("+w(B(U))+") >>",A.content=o;var Z=A.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+c(i.bounds.x+30)+" "+f(i.bounds.y+i.bounds.h)+" "+c(i.bounds.x+i.bounds.w+30)+" "+f(i.bounds.y)+"] ")+" /Parent "+Z,i.open&&(o+=" /Open true"),o+=" >>",I.content=o,this.internal.write(A.objId,"0 R",I.objId,"0 R");break;case"freetext":a="/Rect ["+c(i.bounds.x)+" "+f(i.bounds.y)+" "+c(i.bounds.x+i.bounds.w)+" "+f(i.bounds.y+i.bounds.h)+"] ";var le=i.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+w(O(i.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+le+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(i.options.name){var pe=this.annotations._nameMap[i.options.name];i.options.pageNumber=pe.page,i.options.top=pe.y}else i.options.top||(i.options.top=0);if(a="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",o="",i.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+w(O(i.options.url))+") >>";else if(i.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,o+=" /FitV "+i.options.left+"]";break;case"XYZ":default:var ie=f(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),o+=" /XYZ "+i.options.left+" "+ie+" "+i.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),s.createAnnotation=function(e){var i=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":i.pageContext.annotations.push(e)}},s.link=function(e,i,a,o,c){var f=this.internal.getCurrentPageInfo(),p=this.internal.getCoordinateString,v=this.internal.getVerticalCoordinateString;f.pageContext.annotations.push({finalBounds:{x:p(e),y:v(i),w:p(e+a),h:v(i+o)},options:c,type:"link"})},s.textWithLink=function(e,i,a,o){var c,f,p=this.getTextWidth(e),v=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){f=o.maxWidth;var b=this.splitTextToSize(e,f).length;c=Math.ceil(v*b)}else f=p,c=v;return this.text(e,i,a,o),a+=.2*v,o.align==="center"&&(i-=p/2),o.align==="right"&&(i-=p),this.link(i,a-v,f,c,o),p},s.getTextWidth=function(e){var i=this.internal.getFontSize();return this.getStringUnitWidth(e)*i/this.internal.scaleFactor}})(Bn.API),(function(s){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];s.__arabicParser__={};var o=s.__arabicParser__.isInArabicSubstitutionA=function(A){return t[A.charCodeAt(0)]!==void 0},c=s.__arabicParser__.isArabicLetter=function(A){return typeof A=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(A)},f=s.__arabicParser__.isArabicEndLetter=function(A){return c(A)&&o(A)&&t[A.charCodeAt(0)].length<=2},p=s.__arabicParser__.isArabicAlfLetter=function(A){return c(A)&&a.indexOf(A.charCodeAt(0))>=0};s.__arabicParser__.arabicLetterHasIsolatedForm=function(A){return c(A)&&o(A)&&t[A.charCodeAt(0)].length>=1};var v=s.__arabicParser__.arabicLetterHasFinalForm=function(A){return c(A)&&o(A)&&t[A.charCodeAt(0)].length>=2};s.__arabicParser__.arabicLetterHasInitialForm=function(A){return c(A)&&o(A)&&t[A.charCodeAt(0)].length>=3};var b=s.__arabicParser__.arabicLetterHasMedialForm=function(A){return c(A)&&o(A)&&t[A.charCodeAt(0)].length==4},k=s.__arabicParser__.resolveLigatures=function(A){var I=0,B=e,U="",Z=0;for(I=0;I<A.length;I+=1)B[A.charCodeAt(I)]!==void 0?(Z++,typeof(B=B[A.charCodeAt(I)])=="number"&&(U+=String.fromCharCode(B),B=e,Z=0),I===A.length-1&&(B=e,U+=A.charAt(I-(Z-1)),I-=Z-1,Z=0)):(B=e,U+=A.charAt(I-Z),I-=Z,Z=0);return U};s.__arabicParser__.isArabicDiacritic=function(A){return A!==void 0&&i[A.charCodeAt(0)]!==void 0};var P=s.__arabicParser__.getCorrectForm=function(A,I,B){return c(A)?o(A)===!1?-1:!v(A)||!c(I)&&!c(B)||!c(B)&&f(I)||f(A)&&!c(I)||f(A)&&p(I)||f(A)&&f(I)?0:b(A)&&c(I)&&!f(I)&&c(B)&&v(B)?3:f(A)||!c(B)?1:2:-1},w=function(A){var I=0,B=0,U=0,Z="",le="",pe="",ie=(A=A||"").split("\\s+"),$=[];for(I=0;I<ie.length;I+=1){for($.push(""),B=0;B<ie[I].length;B+=1)Z=ie[I][B],le=ie[I][B-1],pe=ie[I][B+1],c(Z)?(U=P(Z,le,pe),$[I]+=U!==-1?String.fromCharCode(t[Z.charCodeAt(0)][U]):Z):$[I]+=Z;$[I]=k($[I])}return $.join(" ")},O=s.__arabicParser__.processArabic=s.processArabic=function(){var A,I=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,B=[];if(Array.isArray(I)){var U=0;for(B=[],U=0;U<I.length;U+=1)Array.isArray(I[U])?B.push([w(I[U][0]),I[U][1],I[U][2]]):B.push([w(I[U])]);A=B}else A=w(I);return typeof arguments[0]=="string"?A:(arguments[0].text=A,arguments[0])};s.events.push(["preProcessText",O])})(Bn.API),Bn.API.autoPrint=function(s){var t;switch((s=s||{}).variant=s.variant||"non-conform",s.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",(function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+t+" 0 R")}))}return this},(function(s){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(f){e=f}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(f){i=isNaN(f)||Number.isInteger(f)===!1||f<0?150:f,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(f){a=isNaN(f)||Number.isInteger(f)===!1||f<0?300:f,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(f){o=f}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(f){c=f}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,i){var a;if((e=e||"2d")!=="2d")return null;for(a in i)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=i[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},s.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(Bn.API),(function(s){var t={left:0,top:0,bottom:0,right:0},e=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var p=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return p},set:function(A){p=A}});var v=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return v},set:function(A){v=A}});var b=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return b},set:function(A){b=A}});var k=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return k},set:function(A){k=A}});var P=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return P},set:function(A){P=A}});var w=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return w},set:function(A){w=A}});var O=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return O},set:function(A){O=A}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},s.setHeaderFunction=function(p){return i.call(this),this.internal.__cell__.headerFunction=typeof p=="function"?p:void 0,this},s.getTextDimensions=function(p,v){i.call(this);var b=(v=v||{}).fontSize||this.getFontSize(),k=v.font||this.getFont(),P=v.scaleFactor||this.internal.scaleFactor,w=0,O=0,A=0,I=this;if(!Array.isArray(p)&&typeof p!="string"){if(typeof p!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");p=String(p)}var B=v.maxWidth;B>0?typeof p=="string"?p=this.splitTextToSize(p,B):Object.prototype.toString.call(p)==="[object Array]"&&(p=p.reduce((function(Z,le){return Z.concat(I.splitTextToSize(le,B))}),[])):p=Array.isArray(p)?p:[p];for(var U=0;U<p.length;U++)w<(A=this.getStringUnitWidth(p[U],{font:k})*b)&&(w=A);return w!==0&&(O=p.length),{w:w/=P,h:Math.max((O*b*this.getLineHeightFactor()-b*(this.getLineHeightFactor()-1))/P,0)}},s.cellAddPage=function(){i.call(this),this.addPage();var p=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new o(p.left,p.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=s.cell=function(){var p;p=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var v=this.internal.__cell__.lastCell,b=this.internal.__cell__.padding,k=this.internal.__cell__.margins||t,P=this.internal.__cell__.tableHeaderRow,w=this.internal.__cell__.printHeaders;return v.lineNumber!==void 0&&(v.lineNumber===p.lineNumber?(p.x=(v.x||0)+(v.width||0),p.y=v.y||0):v.y+v.height+p.height+k.bottom>this.getPageHeight()?(this.cellAddPage(),p.y=k.top,w&&P&&(this.printHeaderRow(p.lineNumber,!0),p.y+=P[0].height)):p.y=v.y+v.height||p.y),p.text[0]!==void 0&&(this.rect(p.x,p.y,p.width,p.height,e===!0?"FD":void 0),p.align==="right"?this.text(p.text,p.x+p.width-b,p.y+b,{align:"right",baseline:"top"}):p.align==="center"?this.text(p.text,p.x+p.width/2,p.y+b,{align:"center",baseline:"top",maxWidth:p.width-b-b}):this.text(p.text,p.x+b,p.y+b,{align:"left",baseline:"top",maxWidth:p.width-b-b})),this.internal.__cell__.lastCell=p,this};s.table=function(p,v,b,k,P){if(i.call(this),!b)throw new Error("No data for PDF table.");var w,O,A,I,B=[],U=[],Z=[],le={},pe={},ie=[],$=[],Y=(P=P||{}).autoSize||!1,ue=P.printHeaders!==!1,Me=P.css&&P.css["font-size"]!==void 0?16*P.css["font-size"]:P.fontSize||12,J=P.margins||Object.assign({width:this.getPageWidth()},t),G=typeof P.padding=="number"?P.padding:3,se=P.headerBackgroundColor||"#c8c8c8",j=P.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=ue,this.internal.__cell__.margins=J,this.internal.__cell__.table_font_size=Me,this.internal.__cell__.padding=G,this.internal.__cell__.headerBackgroundColor=se,this.internal.__cell__.headerTextColor=j,this.setFontSize(Me),k==null)U=B=Object.keys(b[0]),Z=B.map((function(){return"left"}));else if(Array.isArray(k)&&Lr(k[0])==="object")for(B=k.map((function(Ee){return Ee.name})),U=k.map((function(Ee){return Ee.prompt||Ee.name||""})),Z=k.map((function(Ee){return Ee.align||"left"})),w=0;w<k.length;w+=1)pe[k[w].name]=k[w].width*(19.049976/25.4);else Array.isArray(k)&&typeof k[0]=="string"&&(U=B=k,Z=B.map((function(){return"left"})));if(Y||Array.isArray(k)&&typeof k[0]=="string")for(w=0;w<B.length;w+=1){for(le[I=B[w]]=b.map((function(Ee){return Ee[I]})),this.setFont(void 0,"bold"),ie.push(this.getTextDimensions(U[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),O=le[I],this.setFont(void 0,"normal"),A=0;A<O.length;A+=1)ie.push(this.getTextDimensions(O[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);pe[I]=Math.max.apply(null,ie)+G+G,ie=[]}if(ue){var Ae={};for(w=0;w<B.length;w+=1)Ae[B[w]]={},Ae[B[w]].text=U[w],Ae[B[w]].align=Z[w];var Ue=f.call(this,Ae,pe);$=B.map((function(Ee){return new o(p,v,pe[Ee],Ue,Ae[Ee].text,void 0,Ae[Ee].align)})),this.setTableHeaderRow($),this.printHeaderRow(1,!1)}var je=k.reduce((function(Ee,re){return Ee[re.name]=re.align,Ee}),{});for(w=0;w<b.length;w+=1){"rowStart"in P&&P.rowStart instanceof Function&&P.rowStart({row:w,data:b[w]},this);var Le=f.call(this,b[w],pe);for(A=0;A<B.length;A+=1){var Be=b[w][B[A]];"cellStart"in P&&P.cellStart instanceof Function&&P.cellStart({row:w,col:A,data:Be},this),c.call(this,new o(p,v,pe[B[A]],Le,Be,w+2,je[B[A]]))}}return this.internal.__cell__.table_x=p,this.internal.__cell__.table_y=v,this};var f=function(p,v){var b=this.internal.__cell__.padding,k=this.internal.__cell__.table_font_size,P=this.internal.scaleFactor;return Object.keys(p).map((function(w){var O=p[w];return this.splitTextToSize(O.hasOwnProperty("text")?O.text:O,v[w]-b-b)}),this).map((function(w){return this.getLineHeightFactor()*w.length*k/P+b+b}),this).reduce((function(w,O){return Math.max(w,O)}),0)};s.setTableHeaderRow=function(p){i.call(this),this.internal.__cell__.tableHeaderRow=p},s.printHeaderRow=function(p,v){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var b;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var k=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(k[0],k[1],k[2],k[3],void 0,-1)}this.setFont(void 0,"bold");for(var P=[],w=0;w<this.internal.__cell__.tableHeaderRow.length;w+=1){b=this.internal.__cell__.tableHeaderRow[w].clone(),v&&(b.y=this.internal.__cell__.margins.top||0,P.push(b)),b.lineNumber=p;var O=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,b),this.setTextColor(O)}P.length>0&&this.setTableHeaderRow(P),this.setFont(void 0,"normal"),e=!1}})(Bn.API);var xg={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Lg=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Ld=bg(Lg),kg=[100,200,300,400,500,600,700,800,900],X2=bg(kg);function kd(s){var t=s.family.replace(/"|'/g,"").toLowerCase(),e=(function(o){return xg[o=o||"normal"]?o:"normal"})(s.style),i=(function(o){if(!o)return 400;if(typeof o=="number")return o>=100&&o<=900&&o%100==0?o:400;if(/^\d00$/.test(o))return parseInt(o);switch(o){case"bold":return 700;case"normal":default:return 400}})(s.weight),a=(function(o){return typeof Ld[o=o||"normal"]=="number"?o:"normal"})(s.stretch);return{family:t,style:e,weight:i,stretch:a,src:s.src||[],ref:s.ref||{name:t,style:[a,e,i].join(" ")}}}function K0(s,t,e,i){var a;for(a=e;a>=0&&a<t.length;a+=i)if(s[t[a]])return s[t[a]];for(a=e;a>=0&&a<t.length;a-=i)if(s[t[a]])return s[t[a]]}var Q2={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},J0={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Y0(s){return[s.stretch,s.style,s.weight,s.family].join(" ")}function e5(s,t,e){for(var i=(e=e||{}).defaultFontFamily||"times",a=Object.assign({},Q2,e.genericFontFamilies||{}),o=null,c=null,f=0;f<t.length;++f)if(a[(o=kd(t[f])).family]&&(o.family=a[o.family]),s.hasOwnProperty(o.family)){c=s[o.family];break}if(!(c=c||s[i]))throw new Error("Could not find a font-family for the rule '"+Y0(o)+"' and default family '"+i+"'.");if(c=(function(p,v){if(v[p])return v[p];var b=Ld[p],k=b<=Ld.normal?-1:1,P=K0(v,Lg,b,k);if(!P)throw new Error("Could not find a matching font-stretch value for "+p);return P})(o.stretch,c),c=(function(p,v){if(v[p])return v[p];for(var b=xg[p],k=0;k<b.length;++k)if(v[b[k]])return v[b[k]];throw new Error("Could not find a matching font-style for "+p)})(o.style,c),!(c=(function(p,v){if(v[p])return v[p];if(p===400&&v[500])return v[500];if(p===500&&v[400])return v[400];var b=X2[p],k=K0(v,kg,b,p<400?-1:1);if(!k)throw new Error("Could not find a matching font-weight for value "+p);return k})(o.weight,c)))throw new Error("Failed to resolve a font for the rule '"+Y0(o)+"'.");return c}function X0(s){return s.trimLeft()}function t5(s,t){for(var e=0;e<s.length;){if(s.charAt(e)===t)return[s.substring(0,e),s.substring(e+1)];e+=1}return null}function n5(s){var t=s.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],s.substring(t[0].length)]}var Lh,Q0,em,Jf=["times"];(function(s){var t,e,i,a,o,c,f,p,v,b=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new p,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new c,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new c,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};s.events.push(["initialized",function(){this.context2d=new k(this),t=this.internal.f2,e=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,c=this.internal.Point,f=this.internal.Rectangle,p=this.internal.Matrix,v=new b}]);var k=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var ce=F;Object.defineProperty(this,"pdf",{get:function(){return ce}});var me=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return me},set:function(Fe){me=!!Fe}});var _e=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return _e},set:function(Fe){_e=!!Fe}});var Te=0;Object.defineProperty(this,"posX",{get:function(){return Te},set:function(Fe){isNaN(Fe)||(Te=Fe)}});var Je=0;Object.defineProperty(this,"posY",{get:function(){return Je},set:function(Fe){isNaN(Fe)||(Je=Fe)}}),Object.defineProperty(this,"margin",{get:function(){return v.margin},set:function(Fe){var he;typeof Fe=="number"?he=[Fe,Fe,Fe,Fe]:((he=new Array(4))[0]=Fe[0],he[1]=Fe.length>=2?Fe[1]:he[0],he[2]=Fe.length>=3?Fe[2]:he[0],he[3]=Fe.length>=4?Fe[3]:he[1]),v.margin=he}});var $e=!1;Object.defineProperty(this,"autoPaging",{get:function(){return $e},set:function(Fe){$e=Fe}});var Xe=0;Object.defineProperty(this,"lastBreak",{get:function(){return Xe},set:function(Fe){Xe=Fe}});var Nt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Nt},set:function(Fe){Nt=Fe}}),Object.defineProperty(this,"ctx",{get:function(){return v},set:function(Fe){Fe instanceof b&&(v=Fe)}}),Object.defineProperty(this,"path",{get:function(){return v.path},set:function(Fe){v.path=Fe}});var Ot=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ot},set:function(Fe){Ot=Fe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Fe){var he;he=P(Fe),this.ctx.fillStyle=he.style,this.ctx.isFillTransparent=he.a===0,this.ctx.fillOpacity=he.a,this.pdf.setFillColor(he.r,he.g,he.b,{a:he.a}),this.pdf.setTextColor(he.r,he.g,he.b,{a:he.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Fe){var he=P(Fe);this.ctx.strokeStyle=he.style,this.ctx.isStrokeTransparent=he.a===0,this.ctx.strokeOpacity=he.a,he.a===0?this.pdf.setDrawColor(255,255,255):(he.a,this.pdf.setDrawColor(he.r,he.g,he.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Fe){["butt","round","square"].indexOf(Fe)!==-1&&(this.ctx.lineCap=Fe,this.pdf.setLineCap(Fe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Fe){isNaN(Fe)||(this.ctx.lineWidth=Fe,this.pdf.setLineWidth(Fe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Fe){["bevel","round","miter"].indexOf(Fe)!==-1&&(this.ctx.lineJoin=Fe,this.pdf.setLineJoin(Fe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Fe){isNaN(Fe)||(this.ctx.miterLimit=Fe,this.pdf.setMiterLimit(Fe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Fe){this.ctx.textBaseline=Fe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Fe){["right","end","center","left","start"].indexOf(Fe)!==-1&&(this.ctx.textAlign=Fe)}});var Gt=null;function qt(Fe,he){if(Gt===null){var Pe=(function(be){var Oe=[];return Object.keys(be).forEach((function(st){be[st].forEach((function(ct){var Ge=null;switch(ct){case"bold":Ge={family:st,weight:"bold"};break;case"italic":Ge={family:st,style:"italic"};break;case"bolditalic":Ge={family:st,weight:"bold",style:"italic"};break;case"":case"normal":Ge={family:st}}Ge!==null&&(Ge.ref={name:st,style:ct},Oe.push(Ge))}))})),Oe})(Fe.getFontList());Gt=(function(be){for(var Oe={},st=0;st<be.length;++st){var ct=kd(be[st]),Ge=ct.family,Lt=ct.stretch,It=ct.style,Bt=ct.weight;Oe[Ge]=Oe[Ge]||{},Oe[Ge][Lt]=Oe[Ge][Lt]||{},Oe[Ge][Lt][It]=Oe[Ge][Lt][It]||{},Oe[Ge][Lt][It][Bt]=ct}return Oe})(Pe.concat(he))}return Gt}var K=null;Object.defineProperty(this,"fontFaces",{get:function(){return K},set:function(Fe){Gt=null,K=Fe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Fe){var he;if(this.ctx.font=Fe,(he=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Fe))!==null){var Pe=he[1];he[2];var be=he[3],Oe=he[4];he[5];var st=he[6],ct=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Oe)[2];Oe=Math.floor(ct==="px"?parseFloat(Oe)*this.pdf.internal.scaleFactor:ct==="em"?parseFloat(Oe)*this.pdf.getFontSize():parseFloat(Oe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Oe);var Ge=(function(on){var wn,$t,ur=[],hn=on.trim();if(hn==="")return Jf;if(hn in J0)return[J0[hn]];for(;hn!=="";){switch($t=null,wn=(hn=X0(hn)).charAt(0)){case'"':case"'":$t=t5(hn.substring(1),wn);break;default:$t=n5(hn)}if($t===null||(ur.push($t[0]),(hn=X0($t[1]))!==""&&hn.charAt(0)!==","))return Jf;hn=hn.replace(/^,/,"")}return ur})(st);if(this.fontFaces){var Lt=e5(qt(this.pdf,this.fontFaces),Ge.map((function(on){return{family:on,stretch:"normal",weight:be,style:Pe}})));this.pdf.setFont(Lt.ref.name,Lt.ref.style)}else{var It="";(be==="bold"||parseInt(be,10)>=700||Pe==="bold")&&(It="bold"),Pe==="italic"&&(It+="italic"),It.length===0&&(It="normal");for(var Bt="",Ut={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},an=0;an<Ge.length;an++){if(this.pdf.internal.getFont(Ge[an],It,{noFallback:!0,disableWarning:!0})!==void 0){Bt=Ge[an];break}if(It==="bolditalic"&&this.pdf.internal.getFont(Ge[an],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Bt=Ge[an],It="bold";else if(this.pdf.internal.getFont(Ge[an],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Bt=Ge[an],It="normal";break}}if(Bt===""){for(var tn=0;tn<Ge.length;tn++)if(Ut[Ge[tn]]){Bt=Ut[Ge[tn]];break}}Bt=Bt===""?"Times":Bt,this.pdf.setFont(Bt,It)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Fe){this.ctx.globalCompositeOperation=Fe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Fe){this.ctx.globalAlpha=Fe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Fe){this.ctx.lineDashOffset=Fe,re.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Fe){this.ctx.lineDash=Fe,re.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Fe){this.ctx.ignoreClearRect=!!Fe}})};k.prototype.setLineDash=function(F){this.lineDash=F},k.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},k.prototype.fill=function(){le.call(this,"fill",!1)},k.prototype.stroke=function(){le.call(this,"stroke",!1)},k.prototype.beginPath=function(){this.path=[{type:"begin"}]},k.prototype.moveTo=function(F,ce){if(isNaN(F)||isNaN(ce))throw Or.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var me=this.ctx.transform.applyToPoint(new c(F,ce));this.path.push({type:"mt",x:me.x,y:me.y}),this.ctx.lastPoint=new c(F,ce)},k.prototype.closePath=function(){var F=new c(0,0),ce=0;for(ce=this.path.length-1;ce!==-1;ce--)if(this.path[ce].type==="begin"&&Lr(this.path[ce+1])==="object"&&typeof this.path[ce+1].x=="number"){F=new c(this.path[ce+1].x,this.path[ce+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(F.x,F.y)},k.prototype.lineTo=function(F,ce){if(isNaN(F)||isNaN(ce))throw Or.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var me=this.ctx.transform.applyToPoint(new c(F,ce));this.path.push({type:"lt",x:me.x,y:me.y}),this.ctx.lastPoint=new c(me.x,me.y)},k.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),le.call(this,null,!0)},k.prototype.quadraticCurveTo=function(F,ce,me,_e){if(isNaN(me)||isNaN(_e)||isNaN(F)||isNaN(ce))throw Or.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Te=this.ctx.transform.applyToPoint(new c(me,_e)),Je=this.ctx.transform.applyToPoint(new c(F,ce));this.path.push({type:"qct",x1:Je.x,y1:Je.y,x:Te.x,y:Te.y}),this.ctx.lastPoint=new c(Te.x,Te.y)},k.prototype.bezierCurveTo=function(F,ce,me,_e,Te,Je){if(isNaN(Te)||isNaN(Je)||isNaN(F)||isNaN(ce)||isNaN(me)||isNaN(_e))throw Or.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var $e=this.ctx.transform.applyToPoint(new c(Te,Je)),Xe=this.ctx.transform.applyToPoint(new c(F,ce)),Nt=this.ctx.transform.applyToPoint(new c(me,_e));this.path.push({type:"bct",x1:Xe.x,y1:Xe.y,x2:Nt.x,y2:Nt.y,x:$e.x,y:$e.y}),this.ctx.lastPoint=new c($e.x,$e.y)},k.prototype.arc=function(F,ce,me,_e,Te,Je){if(isNaN(F)||isNaN(ce)||isNaN(me)||isNaN(_e)||isNaN(Te))throw Or.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Je=!!Je,!this.ctx.transform.isIdentity){var $e=this.ctx.transform.applyToPoint(new c(F,ce));F=$e.x,ce=$e.y;var Xe=this.ctx.transform.applyToPoint(new c(0,me)),Nt=this.ctx.transform.applyToPoint(new c(0,0));me=Math.sqrt(Math.pow(Xe.x-Nt.x,2)+Math.pow(Xe.y-Nt.y,2))}Math.abs(Te-_e)>=2*Math.PI&&(_e=0,Te=2*Math.PI),this.path.push({type:"arc",x:F,y:ce,radius:me,startAngle:_e,endAngle:Te,counterclockwise:Je})},k.prototype.arcTo=function(F,ce,me,_e,Te){throw new Error("arcTo not implemented.")},k.prototype.rect=function(F,ce,me,_e){if(isNaN(F)||isNaN(ce)||isNaN(me)||isNaN(_e))throw Or.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,ce),this.lineTo(F+me,ce),this.lineTo(F+me,ce+_e),this.lineTo(F,ce+_e),this.lineTo(F,ce),this.lineTo(F+me,ce),this.lineTo(F,ce)},k.prototype.fillRect=function(F,ce,me,_e){if(isNaN(F)||isNaN(ce)||isNaN(me)||isNaN(_e))throw Or.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!w.call(this)){var Te={};this.lineCap!=="butt"&&(Te.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Te.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,ce,me,_e),this.fill(),Te.hasOwnProperty("lineCap")&&(this.lineCap=Te.lineCap),Te.hasOwnProperty("lineJoin")&&(this.lineJoin=Te.lineJoin)}},k.prototype.strokeRect=function(F,ce,me,_e){if(isNaN(F)||isNaN(ce)||isNaN(me)||isNaN(_e))throw Or.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");O.call(this)||(this.beginPath(),this.rect(F,ce,me,_e),this.stroke())},k.prototype.clearRect=function(F,ce,me,_e){if(isNaN(F)||isNaN(ce)||isNaN(me)||isNaN(_e))throw Or.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,ce,me,_e))},k.prototype.save=function(F){F=typeof F!="boolean"||F;for(var ce=this.pdf.internal.getCurrentPageInfo().pageNumber,me=0;me<this.pdf.internal.getNumberOfPages();me++)this.pdf.setPage(me+1),this.pdf.internal.out("q");if(this.pdf.setPage(ce),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var _e=new b(this.ctx);this.ctxStack.push(this.ctx),this.ctx=_e}},k.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var ce=this.pdf.internal.getCurrentPageInfo().pageNumber,me=0;me<this.pdf.internal.getNumberOfPages();me++)this.pdf.setPage(me+1),this.pdf.internal.out("Q");this.pdf.setPage(ce),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},k.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var P=function(F){var ce,me,_e,Te;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))ce=0,me=0,_e=0,Te=0;else{var Je=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if(Je!==null)ce=parseInt(Je[1]),me=parseInt(Je[2]),_e=parseInt(Je[3]),Te=1;else if((Je=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)ce=parseInt(Je[1]),me=parseInt(Je[2]),_e=parseInt(Je[3]),Te=parseFloat(Je[4]);else{if(Te=1,typeof F=="string"&&F.charAt(0)!=="#"){var $e=new mg(F);F=$e.ok?$e.toHex():"#000000"}F.length===4?(ce=F.substring(1,2),ce+=ce,me=F.substring(2,3),me+=me,_e=F.substring(3,4),_e+=_e):(ce=F.substring(1,3),me=F.substring(3,5),_e=F.substring(5,7)),ce=parseInt(ce,16),me=parseInt(me,16),_e=parseInt(_e,16)}}return{r:ce,g:me,b:_e,a:Te,style:F}},w=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},O=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};k.prototype.fillText=function(F,ce,me,_e){if(isNaN(ce)||isNaN(me)||typeof F!="string")throw Or.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(_e=isNaN(_e)?void 0:_e,!w.call(this)){var Te=Le(this.ctx.transform.rotation),Je=this.ctx.transform.scaleX;G.call(this,{text:F,x:ce,y:me,scale:Je,angle:Te,align:this.textAlign,maxWidth:_e})}},k.prototype.strokeText=function(F,ce,me,_e){if(isNaN(ce)||isNaN(me)||typeof F!="string")throw Or.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!O.call(this)){_e=isNaN(_e)?void 0:_e;var Te=Le(this.ctx.transform.rotation),Je=this.ctx.transform.scaleX;G.call(this,{text:F,x:ce,y:me,scale:Je,renderingMode:"stroke",angle:Te,align:this.textAlign,maxWidth:_e})}},k.prototype.measureText=function(F){if(typeof F!="string")throw Or.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var ce=this.pdf,me=this.pdf.internal.scaleFactor,_e=ce.internal.getFontSize(),Te=ce.getStringUnitWidth(F)*_e/ce.internal.scaleFactor,Je=function($e){var Xe=($e=$e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Xe}}),this};return new Je({width:Te*=Math.round(96*me/72*1e4)/1e4})},k.prototype.scale=function(F,ce){if(isNaN(F)||isNaN(ce))throw Or.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var me=new p(F,0,0,ce,0,0);this.ctx.transform=this.ctx.transform.multiply(me)},k.prototype.rotate=function(F){if(isNaN(F))throw Or.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var ce=new p(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply(ce)},k.prototype.translate=function(F,ce){if(isNaN(F)||isNaN(ce))throw Or.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var me=new p(1,0,0,1,F,ce);this.ctx.transform=this.ctx.transform.multiply(me)},k.prototype.transform=function(F,ce,me,_e,Te,Je){if(isNaN(F)||isNaN(ce)||isNaN(me)||isNaN(_e)||isNaN(Te)||isNaN(Je))throw Or.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var $e=new p(F,ce,me,_e,Te,Je);this.ctx.transform=this.ctx.transform.multiply($e)},k.prototype.setTransform=function(F,ce,me,_e,Te,Je){F=isNaN(F)?1:F,ce=isNaN(ce)?0:ce,me=isNaN(me)?0:me,_e=isNaN(_e)?1:_e,Te=isNaN(Te)?0:Te,Je=isNaN(Je)?0:Je,this.ctx.transform=new p(F,ce,me,_e,Te,Je)};var A=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};k.prototype.drawImage=function(F,ce,me,_e,Te,Je,$e,Xe,Nt){var Ot=this.pdf.getImageProperties(F),Gt=1,qt=1,K=1,Fe=1;_e!==void 0&&Xe!==void 0&&(K=Xe/_e,Fe=Nt/Te,Gt=Ot.width/_e*Xe/_e,qt=Ot.height/Te*Nt/Te),Je===void 0&&(Je=ce,$e=me,ce=0,me=0),_e!==void 0&&Xe===void 0&&(Xe=_e,Nt=Te),_e===void 0&&Xe===void 0&&(Xe=Ot.width,Nt=Ot.height);for(var he,Pe=this.ctx.transform.decompose(),be=Le(Pe.rotate.shx),Oe=new p,st=(Oe=(Oe=(Oe=Oe.multiply(Pe.translate)).multiply(Pe.skew)).multiply(Pe.scale)).applyToRectangle(new f(Je-ce*K,$e-me*Fe,_e*Gt,Te*qt)),ct=I.call(this,st),Ge=[],Lt=0;Lt<ct.length;Lt+=1)Ge.indexOf(ct[Lt])===-1&&Ge.push(ct[Lt]);if(Z(Ge),this.autoPaging)for(var It=Ge[0],Bt=Ge[Ge.length-1],Ut=It;Ut<Bt+1;Ut++){this.pdf.setPage(Ut);var an=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],tn=Ut===1?this.posY+this.margin[0]:this.margin[0],on=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],$t=Ut===1?0:on+(Ut-2)*wn;if(this.ctx.clip_path.length!==0){var ur=this.path;he=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=U(he,this.posX+this.margin[3],-$t+tn+this.ctx.prevPageLastElemOffset),pe.call(this,"fill",!0),this.path=ur}var hn=JSON.parse(JSON.stringify(st));hn=U([hn],this.posX+this.margin[3],-$t+tn+this.ctx.prevPageLastElemOffset)[0];var Dr=(Ut>It||Ut<Bt)&&A.call(this);Dr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],an,wn,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",hn.x,hn.y,hn.w,hn.h,null,null,be),Dr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(F,"JPEG",st.x,st.y,st.w,st.h,null,null,be)};var I=function(F,ce,me){var _e=[];ce=ce||this.pdf.internal.pageSize.width,me=me||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Te=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":_e.push(Math.floor((F.y+Te)/me)+1);break;case"arc":_e.push(Math.floor((F.y+Te-F.radius)/me)+1),_e.push(Math.floor((F.y+Te+F.radius)/me)+1);break;case"qct":var Je=Be(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);_e.push(Math.floor((Je.y+Te)/me)+1),_e.push(Math.floor((Je.y+Je.h+Te)/me)+1);break;case"bct":var $e=Ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);_e.push(Math.floor(($e.y+Te)/me)+1),_e.push(Math.floor(($e.y+$e.h+Te)/me)+1);break;case"rect":_e.push(Math.floor((F.y+Te)/me)+1),_e.push(Math.floor((F.y+F.h+Te)/me)+1)}for(var Xe=0;Xe<_e.length;Xe+=1)for(;this.pdf.internal.getNumberOfPages()<_e[Xe];)B.call(this);return _e},B=function(){var F=this.fillStyle,ce=this.strokeStyle,me=this.font,_e=this.lineCap,Te=this.lineWidth,Je=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=ce,this.font=me,this.lineCap=_e,this.lineWidth=Te,this.lineJoin=Je},U=function(F,ce,me){for(var _e=0;_e<F.length;_e++)switch(F[_e].type){case"bct":F[_e].x2+=ce,F[_e].y2+=me;case"qct":F[_e].x1+=ce,F[_e].y1+=me;case"mt":case"lt":case"arc":default:F[_e].x+=ce,F[_e].y+=me}return F},Z=function(F){return F.sort((function(ce,me){return ce-me}))},le=function(F,ce){for(var me,_e,Te=this.fillStyle,Je=this.strokeStyle,$e=this.lineCap,Xe=this.lineWidth,Nt=Math.abs(Xe*this.ctx.transform.scaleX),Ot=this.lineJoin,Gt=JSON.parse(JSON.stringify(this.path)),qt=JSON.parse(JSON.stringify(this.path)),K=[],Fe=0;Fe<qt.length;Fe++)if(qt[Fe].x!==void 0)for(var he=I.call(this,qt[Fe]),Pe=0;Pe<he.length;Pe+=1)K.indexOf(he[Pe])===-1&&K.push(he[Pe]);for(var be=0;be<K.length;be++)for(;this.pdf.internal.getNumberOfPages()<K[be];)B.call(this);if(Z(K),this.autoPaging)for(var Oe=K[0],st=K[K.length-1],ct=Oe;ct<st+1;ct++){this.pdf.setPage(ct),this.fillStyle=Te,this.strokeStyle=Je,this.lineCap=$e,this.lineWidth=Nt,this.lineJoin=Ot;var Ge=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Lt=ct===1?this.posY+this.margin[0]:this.margin[0],It=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ut=ct===1?0:It+(ct-2)*Bt;if(this.ctx.clip_path.length!==0){var an=this.path;me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=U(me,this.posX+this.margin[3],-Ut+Lt+this.ctx.prevPageLastElemOffset),pe.call(this,F,!0),this.path=an}if(_e=JSON.parse(JSON.stringify(Gt)),this.path=U(_e,this.posX+this.margin[3],-Ut+Lt+this.ctx.prevPageLastElemOffset),ce===!1||ct===0){var tn=(ct>Oe||ct<st)&&A.call(this);tn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ge,Bt,null).clip().discardPath()),pe.call(this,F,ce),tn&&this.pdf.restoreGraphicsState()}this.lineWidth=Xe}else this.lineWidth=Nt,pe.call(this,F,ce),this.lineWidth=Xe;this.path=Gt},pe=function(F,ce){if((F!=="stroke"||ce||!O.call(this))&&(F==="stroke"||ce||!w.call(this))){for(var me,_e,Te=[],Je=this.path,$e=0;$e<Je.length;$e++){var Xe=Je[$e];switch(Xe.type){case"begin":Te.push({begin:!0});break;case"close":Te.push({close:!0});break;case"mt":Te.push({start:Xe,deltas:[],abs:[]});break;case"lt":var Nt=Te.length;if(Je[$e-1]&&!isNaN(Je[$e-1].x)&&(me=[Xe.x-Je[$e-1].x,Xe.y-Je[$e-1].y],Nt>0)){for(;Nt>=0;Nt--)if(Te[Nt-1].close!==!0&&Te[Nt-1].begin!==!0){Te[Nt-1].deltas.push(me),Te[Nt-1].abs.push(Xe);break}}break;case"bct":me=[Xe.x1-Je[$e-1].x,Xe.y1-Je[$e-1].y,Xe.x2-Je[$e-1].x,Xe.y2-Je[$e-1].y,Xe.x-Je[$e-1].x,Xe.y-Je[$e-1].y],Te[Te.length-1].deltas.push(me);break;case"qct":var Ot=Je[$e-1].x+2/3*(Xe.x1-Je[$e-1].x),Gt=Je[$e-1].y+2/3*(Xe.y1-Je[$e-1].y),qt=Xe.x+2/3*(Xe.x1-Xe.x),K=Xe.y+2/3*(Xe.y1-Xe.y),Fe=Xe.x,he=Xe.y;me=[Ot-Je[$e-1].x,Gt-Je[$e-1].y,qt-Je[$e-1].x,K-Je[$e-1].y,Fe-Je[$e-1].x,he-Je[$e-1].y],Te[Te.length-1].deltas.push(me);break;case"arc":Te.push({deltas:[],abs:[],arc:!0}),Array.isArray(Te[Te.length-1].abs)&&Te[Te.length-1].abs.push(Xe)}}_e=ce?null:F==="stroke"?"stroke":"fill";for(var Pe=!1,be=0;be<Te.length;be++)if(Te[be].arc)for(var Oe=Te[be].abs,st=0;st<Oe.length;st++){var ct=Oe[st];ct.type==="arc"?Y.call(this,ct.x,ct.y,ct.radius,ct.startAngle,ct.endAngle,ct.counterclockwise,void 0,ce,!Pe):se.call(this,ct.x,ct.y),Pe=!0}else if(Te[be].close===!0)this.pdf.internal.out("h"),Pe=!1;else if(Te[be].begin!==!0){var Ge=Te[be].start.x,Lt=Te[be].start.y;j.call(this,Te[be].deltas,Ge,Lt),Pe=!0}_e&&ue.call(this,_e),ce&&Me.call(this)}},ie=function(F){var ce=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,me=ce*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-me;case"top":return F+ce-me;case"hanging":return F+ce-2*me;case"middle":return F+ce/2-me;case"ideographic":return F;case"alphabetic":default:return F}},$=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};k.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function(ce,me){this.colorStops.push([ce,me])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},k.prototype.createPattern=function(){return this.createLinearGradient()},k.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Y=function(F,ce,me,_e,Te,Je,$e,Xe,Nt){for(var Ot=Ue.call(this,me,_e,Te,Je),Gt=0;Gt<Ot.length;Gt++){var qt=Ot[Gt];Gt===0&&(Nt?J.call(this,qt.x1+F,qt.y1+ce):se.call(this,qt.x1+F,qt.y1+ce)),Ae.call(this,F,ce,qt.x2,qt.y2,qt.x3,qt.y3,qt.x4,qt.y4)}Xe?Me.call(this):ue.call(this,$e)},ue=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Me=function(){this.pdf.clip(),this.pdf.discardPath()},J=function(F,ce){this.pdf.internal.out(e(F)+" "+i(ce)+" m")},G=function(F){var ce;switch(F.align){case"right":case"end":ce="right";break;case"center":ce="center";break;case"left":case"start":default:ce="left"}var me=this.pdf.getTextDimensions(F.text),_e=ie.call(this,F.y),Te=$.call(this,_e)-me.h,Je=this.ctx.transform.applyToPoint(new c(F.x,_e)),$e=this.ctx.transform.decompose(),Xe=new p;Xe=(Xe=(Xe=Xe.multiply($e.translate)).multiply($e.skew)).multiply($e.scale);for(var Nt,Ot,Gt,qt=this.ctx.transform.applyToRectangle(new f(F.x,_e,me.w,me.h)),K=Xe.applyToRectangle(new f(F.x,Te,me.w,me.h)),Fe=I.call(this,K),he=[],Pe=0;Pe<Fe.length;Pe+=1)he.indexOf(Fe[Pe])===-1&&he.push(Fe[Pe]);if(Z(he),this.autoPaging)for(var be=he[0],Oe=he[he.length-1],st=be;st<Oe+1;st++){this.pdf.setPage(st);var ct=st===1?this.posY+this.margin[0]:this.margin[0],Ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Lt=this.pdf.internal.pageSize.height-this.margin[2],It=Lt-this.margin[0],Bt=this.pdf.internal.pageSize.width-this.margin[1],Ut=Bt-this.margin[3],an=st===1?0:Ge+(st-2)*It;if(this.ctx.clip_path.length!==0){var tn=this.path;Nt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=U(Nt,this.posX+this.margin[3],-1*an+ct),pe.call(this,"fill",!0),this.path=tn}var on=U([JSON.parse(JSON.stringify(K))],this.posX+this.margin[3],-an+ct+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(Ot=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ot*F.scale),Gt=this.lineWidth,this.lineWidth=Gt*F.scale);var wn=this.autoPaging!=="text";if(wn||on.y+on.h<=Lt){if(wn||on.y>=ct&&on.x<=Bt){var $t=wn?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||Bt-on.x)[0],ur=U([JSON.parse(JSON.stringify(qt))],this.posX+this.margin[3],-an+ct+this.ctx.prevPageLastElemOffset)[0],hn=wn&&(st>be||st<Oe)&&A.call(this);hn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ut,It,null).clip().discardPath()),this.pdf.text($t,ur.x,ur.y,{angle:F.angle,align:ce,renderingMode:F.renderingMode}),hn&&this.pdf.restoreGraphicsState()}}else on.y<Lt&&(this.ctx.prevPageLastElemOffset+=Lt-on.y);F.scale>=.01&&(this.pdf.setFontSize(Ot),this.lineWidth=Gt)}else F.scale>=.01&&(Ot=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ot*F.scale),Gt=this.lineWidth,this.lineWidth=Gt*F.scale),this.pdf.text(F.text,Je.x+this.posX,Je.y+this.posY,{angle:F.angle,align:ce,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(Ot),this.lineWidth=Gt)},se=function(F,ce,me,_e){me=me||0,_e=_e||0,this.pdf.internal.out(e(F+me)+" "+i(ce+_e)+" l")},j=function(F,ce,me){return this.pdf.lines(F,ce,me,null,null)},Ae=function(F,ce,me,_e,Te,Je,$e,Xe){this.pdf.internal.out([t(a(me+F)),t(o(_e+ce)),t(a(Te+F)),t(o(Je+ce)),t(a($e+F)),t(o(Xe+ce)),"c"].join(" "))},Ue=function(F,ce,me,_e){for(var Te=2*Math.PI,Je=Math.PI/2;ce>me;)ce-=Te;var $e=Math.abs(me-ce);$e<Te&&_e&&($e=Te-$e);for(var Xe=[],Nt=_e?-1:1,Ot=ce;$e>1e-5;){var Gt=Ot+Nt*Math.min($e,Je);Xe.push(je.call(this,F,Ot,Gt)),$e-=Math.abs(Gt-Ot),Ot=Gt}return Xe},je=function(F,ce,me){var _e=(me-ce)/2,Te=F*Math.cos(_e),Je=F*Math.sin(_e),$e=Te,Xe=-Je,Nt=$e*$e+Xe*Xe,Ot=Nt+$e*Te+Xe*Je,Gt=4/3*(Math.sqrt(2*Nt*Ot)-Ot)/($e*Je-Xe*Te),qt=$e-Gt*Xe,K=Xe+Gt*$e,Fe=qt,he=-K,Pe=_e+ce,be=Math.cos(Pe),Oe=Math.sin(Pe);return{x1:F*Math.cos(ce),y1:F*Math.sin(ce),x2:qt*be-K*Oe,y2:qt*Oe+K*be,x3:Fe*be-he*Oe,y3:Fe*Oe+he*be,x4:F*Math.cos(me),y4:F*Math.sin(me)}},Le=function(F){return 180*F/Math.PI},Be=function(F,ce,me,_e,Te,Je){var $e=F+.5*(me-F),Xe=ce+.5*(_e-ce),Nt=Te+.5*(me-Te),Ot=Je+.5*(_e-Je),Gt=Math.min(F,Te,$e,Nt),qt=Math.max(F,Te,$e,Nt),K=Math.min(ce,Je,Xe,Ot),Fe=Math.max(ce,Je,Xe,Ot);return new f(Gt,K,qt-Gt,Fe-K)},Ee=function(F,ce,me,_e,Te,Je,$e,Xe){var Nt,Ot,Gt,qt,K,Fe,he,Pe,be,Oe,st,ct,Ge,Lt,It=me-F,Bt=_e-ce,Ut=Te-me,an=Je-_e,tn=$e-Te,on=Xe-Je;for(Ot=0;Ot<41;Ot++)be=(he=(Gt=F+(Nt=Ot/40)*It)+Nt*((K=me+Nt*Ut)-Gt))+Nt*(K+Nt*(Te+Nt*tn-K)-he),Oe=(Pe=(qt=ce+Nt*Bt)+Nt*((Fe=_e+Nt*an)-qt))+Nt*(Fe+Nt*(Je+Nt*on-Fe)-Pe),Ot==0?(st=be,ct=Oe,Ge=be,Lt=Oe):(st=Math.min(st,be),ct=Math.min(ct,Oe),Ge=Math.max(Ge,be),Lt=Math.max(Lt,Oe));return new f(Math.round(st),Math.round(ct),Math.round(Ge-st),Math.round(Lt-ct))},re=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,ce,me=(F=this.ctx.lineDash,ce=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:ce}));this.prevLineDash!==me&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=me)}}})(Bn.API),(function(s){var t=function(o){var c,f,p,v,b,k,P,w,O,A;for(f=[],p=0,v=(o+=c="\0\0\0\0".slice(o.length%4||4)).length;v>p;p+=4)(b=(o.charCodeAt(p)<<24)+(o.charCodeAt(p+1)<<16)+(o.charCodeAt(p+2)<<8)+o.charCodeAt(p+3))!==0?(k=(b=((b=((b=((b=(b-(A=b%85))/85)-(O=b%85))/85)-(w=b%85))/85)-(P=b%85))/85)%85,f.push(k+33,P+33,w+33,O+33,A+33)):f.push(122);return(function(I,B){for(var U=B;U>0;U--)I.pop()})(f,c.length),String.fromCharCode.apply(String,f)+"~>"},e=function(o){var c,f,p,v,b,k=String,P="length",w=255,O="charCodeAt",A="slice",I="replace";for(o[A](-2),o=o[A](0,-2)[I](/\s/g,"")[I]("z","!!!!!"),p=[],v=0,b=(o+=c="uuuuu"[A](o[P]%5||5))[P];b>v;v+=5)f=52200625*(o[O](v)-33)+614125*(o[O](v+1)-33)+7225*(o[O](v+2)-33)+85*(o[O](v+3)-33)+(o[O](v+4)-33),p.push(w&f>>24,w&f>>16,w&f>>8,w&f);return(function(B,U){for(var Z=U;Z>0;Z--)B.pop()})(p,c[P]),k.fromCharCode.apply(k,p)},i=function(o){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),c.test(o)===!1)return"";for(var f="",p=0;p<o.length;p+=2)f+=String.fromCharCode("0x"+(o[p]+o[p+1]));return f},a=function(o){for(var c=new Uint8Array(o.length),f=o.length;f--;)c[f]=o.charCodeAt(f);return o=(c=vd(c)).reduce((function(p,v){return p+String.fromCharCode(v)}),"")};s.processDataByFilters=function(o,c){var f=0,p=o||"",v=[];for(typeof(c=c||[])=="string"&&(c=[c]),f=0;f<c.length;f+=1)switch(c[f]){case"ASCII85Decode":case"/ASCII85Decode":p=e(p),v.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":p=t(p),v.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":p=i(p),v.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":p=p.split("").map((function(b){return("0"+b.charCodeAt().toString(16)).slice(-2)})).join("")+">",v.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":p=a(p),v.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[f]+'" is not implemented')}return{data:p,reverseChain:v.reverse().join(" ")}}})(Bn.API),(function(s){s.loadFile=function(t,e,i){return(function(a,o,c){o=o!==!1,c=typeof c=="function"?c:function(){};var f=void 0;try{f=(function(p,v,b){var k=new XMLHttpRequest,P=0,w=function(O){var A=O.length,I=[],B=String.fromCharCode;for(P=0;P<A;P+=1)I.push(B(255&O.charCodeAt(P)));return I.join("")};if(k.open("GET",p,!v),k.overrideMimeType("text/plain; charset=x-user-defined"),v===!1&&(k.onload=function(){k.status===200?b(w(this.responseText)):b(void 0)}),k.send(null),v&&k.status===200)return w(k.responseText)})(a,o,c)}catch{}return f})(t,e,i)},s.loadImageFile=s.loadFile})(Bn.API),(function(s){function t(){return(Nn.html2canvas?Promise.resolve(Nn.html2canvas):Yl(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch((function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))})).then((function(c){return c.default?c.default:c}))}function e(){return(Nn.DOMPurify?Promise.resolve(Nn.DOMPurify):Yl(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch((function(c){return Promise.reject(new Error("Could not load dompurify: "+c))})).then((function(c){return c.default?c.default:c}))}var i=function(c){var f=Lr(c);return f==="undefined"?"undefined":f==="string"||c instanceof String?"string":f==="number"||c instanceof Number?"number":f==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":f==="object"?"object":"unknown"},a=function(c,f){var p=document.createElement(c);for(var v in f.className&&(p.className=f.className),f.innerHTML&&f.dompurify&&(p.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)p.style[v]=f.style[v];return p},o=function c(f){var p=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),v=c.convert(Promise.resolve(),p);return v=(v=v.setProgress(1,c,1,[c])).set(f)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(c,f){return c.__proto__=f||o.prototype,c},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(c,f){return this.then((function(){switch(f=f||(function(p){switch(i(p)){case"string":return"string";case"element":return p.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c)){case"string":return this.then(e).then((function(p){return this.set({src:a("div",{innerHTML:c,dompurify:p})})}));case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}}))},o.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=(function p(v,b){for(var k=v.nodeType===3?document.createTextNode(v.nodeValue):v.cloneNode(!1),P=v.firstChild;P;P=P.nextSibling)b!==!0&&P.nodeType===1&&P.nodeName==="SCRIPT"||k.appendChild(p(P,b));return v.nodeType===1&&(v.nodeName==="CANVAS"?(k.width=v.width,k.height=v.height,k.getContext("2d").drawImage(v,0,0)):v.nodeName!=="TEXTAREA"&&v.nodeName!=="SELECT"||(k.value=v.value),k.addEventListener("load",(function(){k.scrollTop=v.scrollTop,k.scrollLeft=v.scrollLeft}),!0)),k})(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},o.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(t).then((function(f){var p=Object.assign({},this.opt.html2canvas);return delete p.onrendered,f(this.prop.container,p)})).then((function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)}))},o.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(t).then((function(f){var p=this.opt.jsPDF,v=this.opt.fontFaces,b=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,k=Object.assign({async:!0,allowTaint:!0,scale:b,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete k.onrendered,p.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,p.context2d.posX=this.opt.x,p.context2d.posY=this.opt.y,p.context2d.margin=this.opt.margin,p.context2d.fontFaces=v,v)for(var P=0;P<v.length;++P){var w=v[P],O=w.src.find((function(A){return A.format==="truetype"}));O&&p.addFont(O.url,w.ref.name,w.ref.style)}return k.windowHeight=k.windowHeight||0,k.windowHeight=k.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):k.windowHeight,p.context2d.save(!0),f(this.prop.container,k)})).then((function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)}))},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c}))},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},o.prototype.output=function(c,f,p){return(p=p||"pdf").toLowerCase()==="img"||p.toLowerCase()==="image"?this.outputImg(c,f):this.outputPdf(c,f)},o.prototype.outputPdf=function(c,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(c,f)}))},o.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}}))},o.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},o.prototype.set=function(c){if(i(c)!=="object")return this;var f=Object.keys(c||{}).map((function(p){if(p in o.template.prop)return function(){this.prop[p]=c[p]};switch(p){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[p]=c[p]}}}),this);return this.then((function(){return this.thenList(f)}))},o.prototype.get=function(c,f){return this.then((function(){var p=c in o.template.prop?this.prop[c]:this.opt[c];return f?f(p):p}))},o.prototype.setMargin=function(c){return this.then((function(){switch(i(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c})).then(this.setPageSize)},o.prototype.setPageSize=function(c){function f(p,v){return Math.floor(p*v/72*96)}return this.then((function(){(c=c||Bn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:f(c.inner.width,c.k),height:f(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c}))},o.prototype.setProgress=function(c,f,p,v){return c!=null&&(this.progress.val=c),f!=null&&(this.progress.state=f),p!=null&&(this.progress.n=p),v!=null&&(this.progress.stack=v),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(c,f,p,v){return this.setProgress(c?this.progress.val+c:null,f||null,p?this.progress.n+p:null,v?this.progress.stack.concat(v):null)},o.prototype.then=function(c,f){var p=this;return this.thenCore(c,f,(function(v,b){return p.updateProgress(null,null,1,[v]),Promise.prototype.then.call(this,(function(k){return p.updateProgress(null,v),k})).then(v,b).then((function(k){return p.updateProgress(1),k}))}))},o.prototype.thenCore=function(c,f,p){p=p||Promise.prototype.then,c&&(c=c.bind(this)),f&&(f=f.bind(this));var v=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:o.convert(Object.assign({},this),Promise.prototype),b=p.call(v,c,f);return o.convert(b,this.__proto__)},o.prototype.thenExternal=function(c,f){return Promise.prototype.then.call(this,c,f)},o.prototype.thenList=function(c){var f=this;return c.forEach((function(p){f=f.thenCore(p)})),f},o.prototype.catch=function(c){c&&(c=c.bind(this));var f=Promise.prototype.catch.call(this,c);return o.convert(f,this)},o.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},o.prototype.error=function(c){return this.then((function(){throw new Error(c)}))},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Bn.getPageSize=function(c,f,p){if(Lr(c)==="object"){var v=c;c=v.orientation,f=v.unit||f,p=v.format||p}f=f||"mm",p=p||"a4",c=(""+(c||"P")).toLowerCase();var b,k=(""+p).toLowerCase(),P={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":b=1;break;case"mm":b=72/25.4;break;case"cm":b=72/2.54;break;case"in":b=72;break;case"px":b=.75;break;case"pc":case"em":b=12;break;case"ex":b=6;break;default:throw"Invalid unit: "+f}var w,O=0,A=0;if(P.hasOwnProperty(k))O=P[k][1]/b,A=P[k][0]/b;else try{O=p[1],A=p[0]}catch{throw new Error("Invalid format: "+p)}if(c==="p"||c==="portrait")c="p",A>O&&(w=A,A=O,O=w);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",O>A&&(w=A,A=O,O=w)}return{width:A,height:O,unit:f,k:b,orientation:c}},s.html=function(c,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(kd):null;var p=new o(f);return f.worker?p:p.from(c).doCallback()}})(Bn.API),Bn.API.addJS=function(s){return em=s,this.internal.events.subscribe("postPutResources",(function(){Lh=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Lh+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Q0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+em+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){Lh!==void 0&&Q0!==void 0&&this.internal.out("/Names <</JavaScript "+Lh+" 0 R>>")})),this},(function(s){var t;s.events.push(["postPutResources",function(){var e=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=e.outline.render().split(/\r\n/),o=0;o<a.length;o++){var c=a[o],f=i.exec(c);if(f!=null){var p=f[1];e.internal.newObjectDeferredBegin(p,!1)}e.internal.write(c)}if(this.outline.createNamedDestinations){var v=this.internal.pages.length,b=[];for(o=0;o<v;o++){var k=e.internal.newObject();b.push(k);var P=e.internal.getPageInfo(o+1);e.internal.write("<< /D["+P.objId+" 0 R /XYZ null null null]>> endobj")}var w=e.internal.newObject();for(e.internal.write("<< /Names [ "),o=0;o<b.length;o++)e.internal.write("(page_"+(o+1)+")"+b[o]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+w+" 0 R"),e.internal.write(">>","endobj")}}]),s.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),s.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(i,a,o){var c={title:a,options:o,children:[]};return i==null&&(i=this.root),i.children.push(c),c},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(i){i.id=e.internal.newObjectDeferred();for(var a=0;a<i.children.length;a++)this.genIds_r(i.children[a])},e.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},e.outline.renderItems=function(i){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<i.children.length;o++){var c=i.children[o];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(i)),o>0&&this.line("/Prev "+this.makeRef(i.children[o-1])),o<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[o+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var f=this.count=this.count_r({count:0},c);if(f>0&&this.line("/Count "+f),c.options&&c.options.pageNumber){var p=e.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+p.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var v=0;v<i.children.length;v++)this.renderItems(i.children[v])},e.outline.line=function(i){this.ctx.val+=i+`\r
`},e.outline.makeRef=function(i){return i.id+" 0 R"},e.outline.makeString=function(i){return"("+e.internal.pdfEscape(i)+")"},e.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(i,a){for(var o=0;o<a.children.length;o++)i.count++,this.count_r(i,a.children[o]);return i.count}}])})(Bn.API),(function(s){var t=[192,193,194,195,196,197,198,199];s.processJPEG=function(e,i,a,o,c,f){var p,v=this.decode.DCT_DECODE,b=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=c||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(p=(function(k){for(var P,w=256*k.charCodeAt(4)+k.charCodeAt(5),O=k.length,A={width:0,height:0,numcomponents:1},I=4;I<O;I+=2){if(I+=w,t.indexOf(k.charCodeAt(I+1))!==-1){P=256*k.charCodeAt(I+5)+k.charCodeAt(I+6),A={width:256*k.charCodeAt(I+7)+k.charCodeAt(I+8),height:P,numcomponents:k.charCodeAt(I+9)};break}w=256*k.charCodeAt(I+2)+k.charCodeAt(I+3)}return A})(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:f=this.color_spaces.DEVICE_GRAY;break;case 4:f=this.color_spaces.DEVICE_CMYK;break;case 3:f=this.color_spaces.DEVICE_RGB}b={data:e,width:p.width,height:p.height,colorSpace:f,bitsPerComponent:8,filter:v,index:i,alias:a}}return b}})(Bn.API);var Ju,kh,tm,nm,rm,r5=(function(){var s,t,e;function i(o){var c,f,p,v,b,k,P,w,O,A,I,B,U,Z;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},k=null;;){switch(c=this.readUInt32(),O=(function(){var le,pe;for(pe=[],le=0;le<4;++le)pe.push(String.fromCharCode(this.data[this.pos++]));return pe}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(c);break;case"fcTL":k&&this.animation.frames.push(k),this.pos+=4,k={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},b=this.readUInt16(),v=this.readUInt16()||100,k.delay=1e3*b/v,k.disposeOp=this.data[this.pos++],k.blendOp=this.data[this.pos++],k.data=[];break;case"IDAT":case"fdAT":for(O==="fdAT"&&(this.pos+=4,c-=4),o=k?.data||this.imgData,B=0;0<=c?B<c:B>c;0<=c?++B:--B)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(p=this.palette.length/3,this.transparency.indexed=this.read(c),this.transparency.indexed.length>p)throw new Error("More transparent colors than palette size");if((A=p-this.transparency.indexed.length)>0)for(U=0;0<=A?U<A:U>A;0<=A?++U:--U)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(c)[0];break;case 2:this.transparency.rgb=this.read(c)}break;case"tEXt":P=(I=this.read(c)).indexOf(0),w=String.fromCharCode.apply(String,I.slice(0,P)),this.text[w]=String.fromCharCode.apply(String,I.slice(P+1));break;case"IEND":return k&&this.animation.frames.push(k),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(Z=this.colorType)===4||Z===6,f=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*f,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=c}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(o){var c,f;for(f=[],c=0;0<=o?c<o:c>o;0<=o?++c:--c)f.push(this.data[this.pos++]);return f},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(o){var c=this.pixelBitlength/8,f=new Uint8Array(this.width*this.height*c),p=0,v=this;if(o==null&&(o=this.imgData),o.length===0)return new Uint8Array(0);function b(k,P,w,O){var A,I,B,U,Z,le,pe,ie,$,Y,ue,Me,J,G,se,j,Ae,Ue,je,Le,Be,Ee=Math.ceil((v.width-k)/w),re=Math.ceil((v.height-P)/O),F=v.width==Ee&&v.height==re;for(G=c*Ee,Me=F?f:new Uint8Array(G*re),le=o.length,J=0,I=0;J<re&&p<le;){switch(o[p++]){case 0:for(U=Ae=0;Ae<G;U=Ae+=1)Me[I++]=o[p++];break;case 1:for(U=Ue=0;Ue<G;U=Ue+=1)A=o[p++],Z=U<c?0:Me[I-c],Me[I++]=(A+Z)%256;break;case 2:for(U=je=0;je<G;U=je+=1)A=o[p++],B=(U-U%c)/c,se=J&&Me[(J-1)*G+B*c+U%c],Me[I++]=(se+A)%256;break;case 3:for(U=Le=0;Le<G;U=Le+=1)A=o[p++],B=(U-U%c)/c,Z=U<c?0:Me[I-c],se=J&&Me[(J-1)*G+B*c+U%c],Me[I++]=(A+Math.floor((Z+se)/2))%256;break;case 4:for(U=Be=0;Be<G;U=Be+=1)A=o[p++],B=(U-U%c)/c,Z=U<c?0:Me[I-c],J===0?se=j=0:(se=Me[(J-1)*G+B*c+U%c],j=B&&Me[(J-1)*G+(B-1)*c+U%c]),pe=Z+se-j,ie=Math.abs(pe-Z),Y=Math.abs(pe-se),ue=Math.abs(pe-j),$=ie<=Y&&ie<=ue?Z:Y<=ue?se:j,Me[I++]=(A+$)%256;break;default:throw new Error("Invalid filter algorithm: "+o[p-1])}if(!F){var ce=((P+J*O)*v.width+k)*c,me=J*G;for(U=0;U<Ee;U+=1){for(var _e=0;_e<c;_e+=1)f[ce++]=Me[me++];ce+=(w-1)*c}}J++}}return o=D2(o),v.interlaceMethod==1?(b(0,0,8,8),b(4,0,8,8),b(0,4,4,8),b(2,0,4,4),b(0,2,2,4),b(1,0,2,2),b(0,1,1,2)):b(0,0,1,1),f},i.prototype.decodePalette=function(){var o,c,f,p,v,b,k,P,w;for(f=this.palette,b=this.transparency.indexed||[],v=new Uint8Array((b.length||0)+f.length),p=0,o=0,c=k=0,P=f.length;k<P;c=k+=3)v[p++]=f[c],v[p++]=f[c+1],v[p++]=f[c+2],v[p++]=(w=b[o++])!=null?w:255;return v},i.prototype.copyToImageData=function(o,c){var f,p,v,b,k,P,w,O,A,I,B;if(p=this.colors,A=null,f=this.hasAlphaChannel,this.palette.length&&(A=(B=this._decodedPalette)!=null?B:this._decodedPalette=this.decodePalette(),p=4,f=!0),O=(v=o.data||o).length,k=A||c,b=P=0,p===1)for(;b<O;)w=A?4*c[b/4]:P,I=k[w++],v[b++]=I,v[b++]=I,v[b++]=I,v[b++]=f?k[w++]:255,P=w;else for(;b<O;)w=A?4*c[b/4]:P,v[b++]=k[w++],v[b++]=k[w++],v[b++]=k[w++],v[b++]=f?k[w++]:255,P=w},i.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var a=function(){if(Object.prototype.toString.call(Nn)==="[object Window]"){try{t=Nn.document.createElement("canvas"),e=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),s=function(o){var c;if(a()===!0)return e.width=o.width,e.height=o.height,e.clearRect(0,0,o.width,o.height),e.putImageData(o,0,0),(c=new Image).src=t.toDataURL(),c;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(o){var c,f,p,v,b,k,P,w;if(this.animation){for(w=[],f=b=0,k=(P=this.animation.frames).length;b<k;f=++b)c=P[f],p=o.createImageData(c.width,c.height),v=this.decodePixels(new Uint8Array(c.data)),this.copyToImageData(p,v),c.imageData=p,w.push(c.image=s(p));return w}},i.prototype.renderFrame=function(o,c){var f,p,v;return f=(p=this.animation.frames)[c],v=p[c-1],c===0&&o.clearRect(0,0,this.width,this.height),v?.disposeOp===1?o.clearRect(v.xOffset,v.yOffset,v.width,v.height):v?.disposeOp===2&&o.putImageData(v.imageData,v.xOffset,v.yOffset),f.blendOp===0&&o.clearRect(f.xOffset,f.yOffset,f.width,f.height),o.drawImage(f.image,f.xOffset,f.yOffset)},i.prototype.animate=function(o){var c,f,p,v,b,k,P=this;return f=0,k=this.animation,v=k.numFrames,p=k.frames,b=k.numPlays,(c=function(){var w,O;if(w=f++%v,O=p[w],P.renderFrame(o,w),v>1&&f/v<b)return P.animation._timeout=setTimeout(c,O.delay)})()},i.prototype.stopAnimation=function(){var o;return clearTimeout((o=this.animation)!=null?o._timeout:void 0)},i.prototype.render=function(o){var c,f;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,c=o.getContext("2d"),this.animation?(this.decodeFrames(c),this.animate(c)):(f=c.createImageData(this.width,this.height),this.copyToImageData(f,this.decodePixels()),c.putImageData(f,0,0))},i})();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function i5(s){var t=0;if(s[t++]!==71||s[t++]!==73||s[t++]!==70||s[t++]!==56||(s[t++]+1&253)!=56||s[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=s[t++]|s[t++]<<8,i=s[t++]|s[t++]<<8,a=s[t++],o=a>>7,c=1<<(7&a)+1;s[t++],s[t++];var f=null,p=null;o&&(f=t,p=c,t+=3*c);var v=!0,b=[],k=0,P=null,w=0,O=null;for(this.width=e,this.height=i;v&&t<s.length;)switch(s[t++]){case 33:switch(s[t++]){case 255:if(s[t]!==11||s[t+1]==78&&s[t+2]==69&&s[t+3]==84&&s[t+4]==83&&s[t+5]==67&&s[t+6]==65&&s[t+7]==80&&s[t+8]==69&&s[t+9]==50&&s[t+10]==46&&s[t+11]==48&&s[t+12]==3&&s[t+13]==1&&s[t+16]==0)t+=14,O=s[t++]|s[t++]<<8,t++;else for(t+=12;;){if(!((J=s[t++])>=0))throw Error("Invalid block size");if(J===0)break;t+=J}break;case 249:if(s[t++]!==4||s[t+4]!==0)throw new Error("Invalid graphics extension block.");var A=s[t++];k=s[t++]|s[t++]<<8,P=s[t++],(1&A)==0&&(P=null),w=A>>2&7,t++;break;case 254:for(;;){if(!((J=s[t++])>=0))throw Error("Invalid block size");if(J===0)break;t+=J}break;default:throw new Error("Unknown graphic control label: 0x"+s[t-1].toString(16))}break;case 44:var I=s[t++]|s[t++]<<8,B=s[t++]|s[t++]<<8,U=s[t++]|s[t++]<<8,Z=s[t++]|s[t++]<<8,le=s[t++],pe=le>>6&1,ie=1<<(7&le)+1,$=f,Y=p,ue=!1;le>>7&&(ue=!0,$=t,Y=ie,t+=3*ie);var Me=t;for(t++;;){var J;if(!((J=s[t++])>=0))throw Error("Invalid block size");if(J===0)break;t+=J}b.push({x:I,y:B,width:U,height:Z,has_local_palette:ue,palette_offset:$,palette_size:Y,data_offset:Me,data_length:t-Me,transparent_index:P,interlaced:!!pe,delay:k,disposal:w});break;case 59:v=!1;break;default:throw new Error("Unknown gif block: 0x"+s[t-1].toString(16))}this.numFrames=function(){return b.length},this.loopCount=function(){return O},this.frameInfo=function(G){if(G<0||G>=b.length)throw new Error("Frame index out of range.");return b[G]},this.decodeAndBlitFrameBGRA=function(G,se){var j=this.frameInfo(G),Ae=j.width*j.height,Ue=new Uint8Array(Ae);im(s,j.data_offset,Ue,Ae);var je=j.palette_offset,Le=j.transparent_index;Le===null&&(Le=256);var Be=j.width,Ee=e-Be,re=Be,F=4*(j.y*e+j.x),ce=4*((j.y+j.height)*e+j.x),me=F,_e=4*Ee;j.interlaced===!0&&(_e+=4*e*7);for(var Te=8,Je=0,$e=Ue.length;Je<$e;++Je){var Xe=Ue[Je];if(re===0&&(re=Be,(me+=_e)>=ce&&(_e=4*Ee+4*e*(Te-1),me=F+(Be+Ee)*(Te<<1),Te>>=1)),Xe===Le)me+=4;else{var Nt=s[je+3*Xe],Ot=s[je+3*Xe+1],Gt=s[je+3*Xe+2];se[me++]=Gt,se[me++]=Ot,se[me++]=Nt,se[me++]=255}--re}},this.decodeAndBlitFrameRGBA=function(G,se){var j=this.frameInfo(G),Ae=j.width*j.height,Ue=new Uint8Array(Ae);im(s,j.data_offset,Ue,Ae);var je=j.palette_offset,Le=j.transparent_index;Le===null&&(Le=256);var Be=j.width,Ee=e-Be,re=Be,F=4*(j.y*e+j.x),ce=4*((j.y+j.height)*e+j.x),me=F,_e=4*Ee;j.interlaced===!0&&(_e+=4*e*7);for(var Te=8,Je=0,$e=Ue.length;Je<$e;++Je){var Xe=Ue[Je];if(re===0&&(re=Be,(me+=_e)>=ce&&(_e=4*Ee+4*e*(Te-1),me=F+(Be+Ee)*(Te<<1),Te>>=1)),Xe===Le)me+=4;else{var Nt=s[je+3*Xe],Ot=s[je+3*Xe+1],Gt=s[je+3*Xe+2];se[me++]=Nt,se[me++]=Ot,se[me++]=Gt,se[me++]=255}--re}}}function im(s,t,e,i){for(var a=s[t++],o=1<<a,c=o+1,f=c+1,p=a+1,v=(1<<p)-1,b=0,k=0,P=0,w=s[t++],O=new Int32Array(4096),A=null;;){for(;b<16&&w!==0;)k|=s[t++]<<b,b+=8,w===1?w=s[t++]:--w;if(b<p)break;var I=k&v;if(k>>=p,b-=p,I!==o){if(I===c)break;for(var B=I<f?I:A,U=0,Z=B;Z>o;)Z=O[Z]>>8,++U;var le=Z;if(P+U+(B!==I?1:0)>i)return void Or.log("Warning, gif stream longer than expected.");e[P++]=le;var pe=P+=U;for(B!==I&&(e[P++]=le),Z=B;U--;)Z=O[Z],e[--pe]=255&Z,Z>>=8;A!==null&&f<4096&&(O[f++]=A<<8|le,f>=v+1&&p<12&&(++p,v=v<<1|1)),A=I}else f=c+1,v=(1<<(p=a+1))-1,A=null}return P!==i&&Or.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Yf(s){var t,e,i,a,o,c=Math.floor,f=new Array(64),p=new Array(64),v=new Array(64),b=new Array(64),k=new Array(65535),P=new Array(65535),w=new Array(64),O=new Array(64),A=[],I=0,B=7,U=new Array(64),Z=new Array(64),le=new Array(64),pe=new Array(256),ie=new Array(2048),$=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Y=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],ue=[0,1,2,3,4,5,6,7,8,9,10,11],Me=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],J=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],G=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],se=[0,1,2,3,4,5,6,7,8,9,10,11],j=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ae=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ue(F,ce){for(var me=0,_e=0,Te=new Array,Je=1;Je<=16;Je++){for(var $e=1;$e<=F[Je];$e++)Te[ce[_e]]=[],Te[ce[_e]][0]=me,Te[ce[_e]][1]=Je,_e++,me++;me*=2}return Te}function je(F){for(var ce=F[0],me=F[1]-1;me>=0;)ce&1<<me&&(I|=1<<B),me--,--B<0&&(I==255?(Le(255),Le(0)):Le(I),B=7,I=0)}function Le(F){A.push(F)}function Be(F){Le(F>>8&255),Le(255&F)}function Ee(F,ce,me,_e,Te){for(var Je,$e=Te[0],Xe=Te[240],Nt=(function(Oe,st){var ct,Ge,Lt,It,Bt,Ut,an,tn,on,wn,$t=0;for(on=0;on<8;++on){ct=Oe[$t],Ge=Oe[$t+1],Lt=Oe[$t+2],It=Oe[$t+3],Bt=Oe[$t+4],Ut=Oe[$t+5],an=Oe[$t+6];var ur=ct+(tn=Oe[$t+7]),hn=ct-tn,Dr=Ge+an,zn=Ge-an,Fn=Lt+Ut,Ar=Lt-Ut,Wn=It+Bt,Ps=It-Bt,ar=ur+Wn,Ir=ur-Wn,Mr=Dr+Fn,or=Dr-Fn;Oe[$t]=ar+Mr,Oe[$t+4]=ar-Mr;var En=.707106781*(or+Ir);Oe[$t+2]=Ir+En,Oe[$t+6]=Ir-En;var Yn=.382683433*((ar=Ps+Ar)-(or=zn+hn)),ma=.5411961*ar+Yn,Zr=1.306562965*or+Yn,hs=.707106781*(Mr=Ar+zn),Zi=hn+hs,dn=hn-hs;Oe[$t+5]=dn+ma,Oe[$t+3]=dn-ma,Oe[$t+1]=Zi+Zr,Oe[$t+7]=Zi-Zr,$t+=8}for($t=0,on=0;on<8;++on){ct=Oe[$t],Ge=Oe[$t+8],Lt=Oe[$t+16],It=Oe[$t+24],Bt=Oe[$t+32],Ut=Oe[$t+40],an=Oe[$t+48];var Ki=ct+(tn=Oe[$t+56]),Ii=ct-tn,Ri=Ge+an,Vn=Ge-an,Kt=Lt+Ut,ii=Lt-Ut,ga=It+Bt,As=It-Bt,fs=Ki+ga,Ji=Ki-ga,Kr=Ri+Kt,gi=Ri-Kt;Oe[$t]=fs+Kr,Oe[$t+32]=fs-Kr;var ji=.707106781*(gi+Ji);Oe[$t+16]=Ji+ji,Oe[$t+48]=Ji-ji;var qs=.382683433*((fs=As+ii)-(gi=Vn+Ii)),Ma=.5411961*fs+qs,Xa=1.306562965*gi+qs,Qa=.707106781*(Kr=ii+Vn),Gs=Ii+Qa,Ba=Ii-Qa;Oe[$t+40]=Ba+Ma,Oe[$t+24]=Ba-Ma,Oe[$t+8]=Gs+Xa,Oe[$t+56]=Gs-Xa,$t++}for(on=0;on<64;++on)wn=Oe[on]*st[on],w[on]=wn>0?wn+.5|0:wn-.5|0;return w})(F,ce),Ot=0;Ot<64;++Ot)O[$[Ot]]=Nt[Ot];var Gt=O[0]-me;me=O[0],Gt==0?je(_e[0]):(je(_e[P[Je=32767+Gt]]),je(k[Je]));for(var qt=63;qt>0&&O[qt]==0;)qt--;if(qt==0)return je($e),me;for(var K,Fe=1;Fe<=qt;){for(var he=Fe;O[Fe]==0&&Fe<=qt;)++Fe;var Pe=Fe-he;if(Pe>=16){K=Pe>>4;for(var be=1;be<=K;++be)je(Xe);Pe&=15}Je=32767+O[Fe],je(Te[(Pe<<4)+P[Je]]),je(k[Je]),Fe++}return qt!=63&&je($e),me}function re(F){F=Math.min(Math.max(F,1),100),o!=F&&((function(ce){for(var me=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],_e=0;_e<64;_e++){var Te=c((me[_e]*ce+50)/100);Te=Math.min(Math.max(Te,1),255),f[$[_e]]=Te}for(var Je=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],$e=0;$e<64;$e++){var Xe=c((Je[$e]*ce+50)/100);Xe=Math.min(Math.max(Xe,1),255),p[$[$e]]=Xe}for(var Nt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ot=0,Gt=0;Gt<8;Gt++)for(var qt=0;qt<8;qt++)v[Ot]=1/(f[$[Ot]]*Nt[Gt]*Nt[qt]*8),b[Ot]=1/(p[$[Ot]]*Nt[Gt]*Nt[qt]*8),Ot++})(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),o=F)}this.encode=function(F,ce){ce&&re(ce),A=new Array,I=0,B=7,Be(65496),Be(65504),Be(16),Le(74),Le(70),Le(73),Le(70),Le(0),Le(1),Le(1),Le(0),Be(1),Be(1),Le(0),Le(0),(function(){Be(65499),Be(132),Le(0);for(var Ge=0;Ge<64;Ge++)Le(f[Ge]);Le(1);for(var Lt=0;Lt<64;Lt++)Le(p[Lt])})(),(function(Ge,Lt){Be(65472),Be(17),Le(8),Be(Lt),Be(Ge),Le(3),Le(1),Le(17),Le(0),Le(2),Le(17),Le(1),Le(3),Le(17),Le(1)})(F.width,F.height),(function(){Be(65476),Be(418),Le(0);for(var Ge=0;Ge<16;Ge++)Le(Y[Ge+1]);for(var Lt=0;Lt<=11;Lt++)Le(ue[Lt]);Le(16);for(var It=0;It<16;It++)Le(Me[It+1]);for(var Bt=0;Bt<=161;Bt++)Le(J[Bt]);Le(1);for(var Ut=0;Ut<16;Ut++)Le(G[Ut+1]);for(var an=0;an<=11;an++)Le(se[an]);Le(17);for(var tn=0;tn<16;tn++)Le(j[tn+1]);for(var on=0;on<=161;on++)Le(Ae[on])})(),Be(65498),Be(12),Le(3),Le(1),Le(0),Le(2),Le(17),Le(3),Le(17),Le(0),Le(63),Le(0);var me=0,_e=0,Te=0;I=0,B=7,this.encode.displayName="_encode_";for(var Je,$e,Xe,Nt,Ot,Gt,qt,K,Fe,he=F.data,Pe=F.width,be=F.height,Oe=4*Pe,st=0;st<be;){for(Je=0;Je<Oe;){for(Ot=Oe*st+Je,qt=-1,K=0,Fe=0;Fe<64;Fe++)Gt=Ot+(K=Fe>>3)*Oe+(qt=4*(7&Fe)),st+K>=be&&(Gt-=Oe*(st+1+K-be)),Je+qt>=Oe&&(Gt-=Je+qt-Oe+4),$e=he[Gt++],Xe=he[Gt++],Nt=he[Gt++],U[Fe]=(ie[$e]+ie[Xe+256>>0]+ie[Nt+512>>0]>>16)-128,Z[Fe]=(ie[$e+768>>0]+ie[Xe+1024>>0]+ie[Nt+1280>>0]>>16)-128,le[Fe]=(ie[$e+1280>>0]+ie[Xe+1536>>0]+ie[Nt+1792>>0]>>16)-128;me=Ee(U,v,me,t,i),_e=Ee(Z,b,_e,e,a),Te=Ee(le,b,Te,e,a),Je+=32}st+=8}if(B>=0){var ct=[];ct[1]=B+1,ct[0]=(1<<B+1)-1,je(ct)}return Be(65497),new Uint8Array(A)},s=s||50,(function(){for(var F=String.fromCharCode,ce=0;ce<256;ce++)pe[ce]=F(ce)})(),t=Ue(Y,ue),e=Ue(G,se),i=Ue(Me,J),a=Ue(j,Ae),(function(){for(var F=1,ce=2,me=1;me<=15;me++){for(var _e=F;_e<ce;_e++)P[32767+_e]=me,k[32767+_e]=[],k[32767+_e][1]=me,k[32767+_e][0]=_e;for(var Te=-(ce-1);Te<=-F;Te++)P[32767+Te]=me,k[32767+Te]=[],k[32767+Te][1]=me,k[32767+Te][0]=ce-1+Te;F<<=1,ce<<=1}})(),(function(){for(var F=0;F<256;F++)ie[F]=19595*F,ie[F+256>>0]=38470*F,ie[F+512>>0]=7471*F+32768,ie[F+768>>0]=-11059*F,ie[F+1024>>0]=-21709*F,ie[F+1280>>0]=32768*F+8421375,ie[F+1536>>0]=-27439*F,ie[F+1792>>0]=-5329*F})(),re(s)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function nl(s,t){if(this.pos=0,this.buffer=s,this.datav=new DataView(s.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function sm(s){function t(Y){if(!Y)throw Error("assert :P")}function e(Y,ue,Me){for(var J=0;4>J;J++)if(Y[ue+J]!=Me.charCodeAt(J))return!0;return!1}function i(Y,ue,Me,J,G){for(var se=0;se<G;se++)Y[ue+se]=Me[J+se]}function a(Y,ue,Me,J){for(var G=0;G<J;G++)Y[ue+G]=Me}function o(Y){return new Int32Array(Y)}function c(Y,ue){for(var Me=[],J=0;J<Y;J++)Me.push(new ue);return Me}function f(Y,ue){var Me=[];return(function J(G,se,j){for(var Ae=j[se],Ue=0;Ue<Ae&&(G.push(j.length>se+1?[]:new ue),!(j.length<se+1));Ue++)J(G[Ue],se+1,j)})(Me,0,Y),Me}var p=function(){var Y=this;function ue(_,E){for(var R=1<<E-1>>>0;_&R;)R>>>=1;return R?(_&R-1)+R:_}function Me(_,E,R,W,ee){t(!(W%R));do _[E+(W-=R)]=ee;while(0<W)}function J(_,E,R,W,ee){if(t(2328>=ee),512>=ee)var ae=o(512);else if((ae=o(ee))==null)return 0;return(function(de,ye,we,Se,Ye,_t){var vt,ot,Pt=ye,Ct=1<<we,tt=o(16),nt=o(16);for(t(Ye!=0),t(Se!=null),t(de!=null),t(0<we),ot=0;ot<Ye;++ot){if(15<Se[ot])return 0;++tt[Se[ot]]}if(tt[0]==Ye)return 0;for(nt[1]=0,vt=1;15>vt;++vt){if(tt[vt]>1<<vt)return 0;nt[vt+1]=nt[vt]+tt[vt]}for(ot=0;ot<Ye;++ot)vt=Se[ot],0<Se[ot]&&(_t[nt[vt]++]=ot);if(nt[15]==1)return(Se=new G).g=0,Se.value=_t[0],Me(de,Pt,1,Ct,Se),Ct;var At,Mt=-1,Tt=Ct-1,Qt=0,l=1,h=1,m=1<<we;for(ot=0,vt=1,Ye=2;vt<=we;++vt,Ye<<=1){if(l+=h<<=1,0>(h-=tt[vt]))return 0;for(;0<tt[vt];--tt[vt])(Se=new G).g=vt,Se.value=_t[ot++],Me(de,Pt+Qt,Ye,m,Se),Qt=ue(Qt,vt)}for(vt=we+1,Ye=2;15>=vt;++vt,Ye<<=1){if(l+=h<<=1,0>(h-=tt[vt]))return 0;for(;0<tt[vt];--tt[vt]){if(Se=new G,(Qt&Tt)!=Mt){for(Pt+=m,At=1<<(Mt=vt)-we;15>Mt&&!(0>=(At-=tt[Mt]));)++Mt,At<<=1;Ct+=m=1<<(At=Mt-we),de[ye+(Mt=Qt&Tt)].g=At+we,de[ye+Mt].value=Pt-ye-Mt}Se.g=vt-we,Se.value=_t[ot++],Me(de,Pt+(Qt>>we),Ye,m,Se),Qt=ue(Qt,vt)}}return l!=2*nt[15]-1?0:Ct})(_,E,R,W,ee,ae)}function G(){this.value=this.g=0}function se(){this.value=this.g=0}function j(){this.G=c(5,G),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(vr,se)}function Ae(_,E,R,W){t(_!=null),t(E!=null),t(2147483648>W),_.Ca=254,_.I=0,_.b=-8,_.Ka=0,_.oa=E,_.pa=R,_.Jd=E,_.Yc=R+W,_.Zc=4<=W?R+W-4+1:R,Je(_)}function Ue(_,E){for(var R=0;0<E--;)R|=Xe(_,128)<<E;return R}function je(_,E){var R=Ue(_,E);return $e(_)?-R:R}function Le(_,E,R,W){var ee,ae=0;for(t(_!=null),t(E!=null),t(4294967288>W),_.Sb=W,_.Ra=0,_.u=0,_.h=0,4<W&&(W=4),ee=0;ee<W;++ee)ae+=E[R+ee]<<8*ee;_.Ra=ae,_.bb=W,_.oa=E,_.pa=R}function Be(_){for(;8<=_.u&&_.bb<_.Sb;)_.Ra>>>=8,_.Ra+=_.oa[_.pa+_.bb]<<Si-8>>>0,++_.bb,_.u-=8;me(_)&&(_.h=1,_.u=0)}function Ee(_,E){if(t(0<=E),!_.h&&E<=Ui){var R=ce(_)&Ao[E];return _.u+=E,Be(_),R}return _.h=1,_.u=0}function re(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function F(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ce(_){return _.Ra>>>(_.u&Si-1)>>>0}function me(_){return t(_.bb<=_.Sb),_.h||_.bb==_.Sb&&_.u>Si}function _e(_,E){_.u=E,_.h=me(_)}function Te(_){_.u>=lo&&(t(_.u>=lo),Be(_))}function Je(_){t(_!=null&&_.oa!=null),_.pa<_.Zc?(_.I=(_.oa[_.pa++]|_.I<<8)>>>0,_.b+=8):(t(_!=null&&_.oa!=null),_.pa<_.Yc?(_.b+=8,_.I=_.oa[_.pa++]|_.I<<8):_.Ka?_.b=0:(_.I<<=8,_.b+=8,_.Ka=1))}function $e(_){return Ue(_,1)}function Xe(_,E){var R=_.Ca;0>_.b&&Je(_);var W=_.b,ee=R*E>>>8,ae=(_.I>>>W>ee)+0;for(ae?(R-=ee,_.I-=ee+1<<W>>>0):R=ee+1,W=R,ee=0;256<=W;)ee+=8,W>>=8;return W=7^ee+ui[W],_.b-=W,_.Ca=(R<<W)-1,ae}function Nt(_,E,R){_[E+0]=R>>24&255,_[E+1]=R>>16&255,_[E+2]=R>>8&255,_[E+3]=R>>0&255}function Ot(_,E){return _[E+0]<<0|_[E+1]<<8}function Gt(_,E){return Ot(_,E)|_[E+2]<<16}function qt(_,E){return Ot(_,E)|Ot(_,E+2)<<16}function K(_,E){var R=1<<E;return t(_!=null),t(0<E),_.X=o(R),_.X==null?0:(_.Mb=32-E,_.Xa=E,1)}function Fe(_,E){t(_!=null),t(E!=null),t(_.Xa==E.Xa),i(E.X,0,_.X,0,1<<E.Xa)}function he(){this.X=[],this.Xa=this.Mb=0}function Pe(_,E,R,W){t(R!=null),t(W!=null);var ee=R[0],ae=W[0];return ee==0&&(ee=(_*ae+E/2)/E),ae==0&&(ae=(E*ee+_/2)/_),0>=ee||0>=ae?0:(R[0]=ee,W[0]=ae,1)}function be(_,E){return _+(1<<E)-1>>>E}function Oe(_,E){return((4278255360&_)+(4278255360&E)>>>0&4278255360)+((16711935&_)+(16711935&E)>>>0&16711935)>>>0}function st(_,E){Y[E]=function(R,W,ee,ae,de,ye,we){var Se;for(Se=0;Se<de;++Se){var Ye=Y[_](ye[we+Se-1],ee,ae+Se);ye[we+Se]=Oe(R[W+Se],Ye)}}}function ct(){this.ud=this.hd=this.jd=0}function Ge(_,E){return((4278124286&(_^E))>>>1)+(_&E)>>>0}function Lt(_){return 0<=_&&256>_?_:0>_?0:255<_?255:void 0}function It(_,E){return Lt(_+(_-E+.5>>1))}function Bt(_,E,R){return Math.abs(E-R)-Math.abs(_-R)}function Ut(_,E,R,W,ee,ae,de){for(W=ae[de-1],R=0;R<ee;++R)ae[de+R]=W=Oe(_[E+R],W)}function an(_,E,R,W,ee){var ae;for(ae=0;ae<R;++ae){var de=_[E+ae],ye=de>>8&255,we=16711935&(we=(we=16711935&de)+((ye<<16)+ye));W[ee+ae]=(4278255360&de)+we>>>0}}function tn(_,E){E.jd=_>>0&255,E.hd=_>>8&255,E.ud=_>>16&255}function on(_,E,R,W,ee,ae){var de;for(de=0;de<W;++de){var ye=E[R+de],we=ye>>>8,Se=ye,Ye=255&(Ye=(Ye=ye>>>16)+((_.jd<<24>>24)*(we<<24>>24)>>>5));Se=255&(Se=(Se=Se+((_.hd<<24>>24)*(we<<24>>24)>>>5))+((_.ud<<24>>24)*(Ye<<24>>24)>>>5)),ee[ae+de]=(4278255360&ye)+(Ye<<16)+Se}}function wn(_,E,R,W,ee){Y[E]=function(ae,de,ye,we,Se,Ye,_t,vt,ot){for(we=_t;we<vt;++we)for(_t=0;_t<ot;++_t)Se[Ye++]=ee(ye[W(ae[de++])])},Y[_]=function(ae,de,ye,we,Se,Ye,_t){var vt=8>>ae.b,ot=ae.Ea,Pt=ae.K[0],Ct=ae.w;if(8>vt)for(ae=(1<<ae.b)-1,Ct=(1<<vt)-1;de<ye;++de){var tt,nt=0;for(tt=0;tt<ot;++tt)tt&ae||(nt=W(we[Se++])),Ye[_t++]=ee(Pt[nt&Ct]),nt>>=vt}else Y["VP8LMapColor"+R](we,Se,Pt,Ct,Ye,_t,de,ye,ot)}}function $t(_,E,R,W,ee){for(R=E+R;E<R;){var ae=_[E++];W[ee++]=ae>>16&255,W[ee++]=ae>>8&255,W[ee++]=ae>>0&255}}function ur(_,E,R,W,ee){for(R=E+R;E<R;){var ae=_[E++];W[ee++]=ae>>16&255,W[ee++]=ae>>8&255,W[ee++]=ae>>0&255,W[ee++]=ae>>24&255}}function hn(_,E,R,W,ee){for(R=E+R;E<R;){var ae=(de=_[E++])>>16&240|de>>12&15,de=de>>0&240|de>>28&15;W[ee++]=ae,W[ee++]=de}}function Dr(_,E,R,W,ee){for(R=E+R;E<R;){var ae=(de=_[E++])>>16&248|de>>13&7,de=de>>5&224|de>>3&31;W[ee++]=ae,W[ee++]=de}}function zn(_,E,R,W,ee){for(R=E+R;E<R;){var ae=_[E++];W[ee++]=ae>>0&255,W[ee++]=ae>>8&255,W[ee++]=ae>>16&255}}function Fn(_,E,R,W,ee,ae){if(ae==0)for(R=E+R;E<R;)Nt(W,((ae=_[E++])[0]>>24|ae[1]>>8&65280|ae[2]<<8&16711680|ae[3]<<24)>>>0),ee+=32;else i(W,ee,_,E,R)}function Ar(_,E){Y[E][0]=Y[_+"0"],Y[E][1]=Y[_+"1"],Y[E][2]=Y[_+"2"],Y[E][3]=Y[_+"3"],Y[E][4]=Y[_+"4"],Y[E][5]=Y[_+"5"],Y[E][6]=Y[_+"6"],Y[E][7]=Y[_+"7"],Y[E][8]=Y[_+"8"],Y[E][9]=Y[_+"9"],Y[E][10]=Y[_+"10"],Y[E][11]=Y[_+"11"],Y[E][12]=Y[_+"12"],Y[E][13]=Y[_+"13"],Y[E][14]=Y[_+"0"],Y[E][15]=Y[_+"0"]}function Wn(_){return _==Qr||_==Hr||_==js||_==r}function Ps(){this.eb=[],this.size=this.A=this.fb=0}function ar(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ir(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ps,this.f.kb=new ar,this.sd=null}function Mr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function or(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function En(_){return alert("todo:WebPSamplerProcessPlane"),_.T}function Yn(_,E){var R=_.T,W=E.ba.f.RGBA,ee=W.eb,ae=W.fb+_.ka*W.A,de=ni[E.ba.S],ye=_.y,we=_.O,Se=_.f,Ye=_.N,_t=_.ea,vt=_.W,ot=E.cc,Pt=E.dc,Ct=E.Mc,tt=E.Nc,nt=_.ka,At=_.ka+_.T,Mt=_.U,Tt=Mt+1>>1;for(nt==0?de(ye,we,null,null,Se,Ye,_t,vt,Se,Ye,_t,vt,ee,ae,null,null,Mt):(de(E.ec,E.fc,ye,we,ot,Pt,Ct,tt,Se,Ye,_t,vt,ee,ae-W.A,ee,ae,Mt),++R);nt+2<At;nt+=2)ot=Se,Pt=Ye,Ct=_t,tt=vt,Ye+=_.Rc,vt+=_.Rc,ae+=2*W.A,de(ye,(we+=2*_.fa)-_.fa,ye,we,ot,Pt,Ct,tt,Se,Ye,_t,vt,ee,ae-W.A,ee,ae,Mt);return we+=_.fa,_.j+At<_.o?(i(E.ec,E.fc,ye,we,Mt),i(E.cc,E.dc,Se,Ye,Tt),i(E.Mc,E.Nc,_t,vt,Tt),R--):1&At||de(ye,we,null,null,Se,Ye,_t,vt,Se,Ye,_t,vt,ee,ae+W.A,null,null,Mt),R}function ma(_,E,R){var W=_.F,ee=[_.J];if(W!=null){var ae=_.U,de=E.ba.S,ye=de==as||de==js;E=E.ba.f.RGBA;var we=[0],Se=_.ka;we[0]=_.T,_.Kb&&(Se==0?--we[0]:(--Se,ee[0]-=_.width),_.j+_.ka+_.T==_.o&&(we[0]=_.o-_.j-Se));var Ye=E.eb;Se=E.fb+Se*E.A,_=Qn(W,ee[0],_.width,ae,we,Ye,Se+(ye?0:3),E.A),t(R==we),_&&Wn(de)&&Gr(Ye,Se,ye,ae,we,E.A)}return 0}function Zr(_){var E=_.ma,R=E.ba.S,W=11>R,ee=R==yn||R==Ha||R==as||R==Pn||R==12||Wn(R);if(E.memory=null,E.Ib=null,E.Jb=null,E.Nd=null,!Po(E.Oa,_,ee?11:12))return 0;if(ee&&Wn(R)&&jt(),_.da)alert("todo:use_scaling");else{if(W){if(E.Ib=En,_.Kb){if(R=_.U+1>>1,E.memory=o(_.U+2*R),E.memory==null)return 0;E.ec=E.memory,E.fc=0,E.cc=E.ec,E.dc=E.fc+_.U,E.Mc=E.cc,E.Nc=E.dc+R,E.Ib=Yn,jt()}}else alert("todo:EmitYUV");ee&&(E.Jb=ma,W&&ft())}if(W&&!$r){for(_=0;256>_;++_)Ai[_]=89858*(_-128)+oa>>ho,Mi[_]=-22014*(_-128)+oa,cl[_]=-45773*(_-128),Wo[_]=113618*(_-128)+oa>>ho;for(_=hr;_<pr;++_)E=76283*(_-16)+oa>>ho,$o[_-hr]=cr(E,255),nu[_-hr]=cr(E+8>>4,15);$r=1}return 1}function hs(_){var E=_.ma,R=_.U,W=_.T;return t(!(1&_.ka)),0>=R||0>=W?0:(R=E.Ib(_,E),E.Jb!=null&&E.Jb(_,E,R),E.Dc+=R,1)}function Zi(_){_.ma.memory=null}function dn(_,E,R,W){return Ee(_,8)!=47?0:(E[0]=Ee(_,14)+1,R[0]=Ee(_,14)+1,W[0]=Ee(_,1),Ee(_,3)!=0?0:!_.h)}function Ki(_,E){if(4>_)return _+1;var R=_-2>>1;return(2+(1&_)<<R)+Ee(E,R)+1}function Ii(_,E){return 120<E?E-120:1<=(R=((R=We[E-1])>>4)*_+(8-(15&R)))?R:1;var R}function Ri(_,E,R){var W=ce(R),ee=_[E+=255&W].g-8;return 0<ee&&(_e(R,R.u+8),W=ce(R),E+=_[E].value,E+=W&(1<<ee)-1),_e(R,R.u+_[E].g),_[E].value}function Vn(_,E,R){return R.g+=_.g,R.value+=_.value<<E>>>0,t(8>=R.g),_.g}function Kt(_,E,R){var W=_.xc;return t((E=W==0?0:_.vc[_.md*(R>>W)+(E>>W)])<_.Wb),_.Ya[E]}function ii(_,E,R,W){var ee=_.ab,ae=_.c*E,de=_.C;E=de+E;var ye=R,we=W;for(W=_.Ta,R=_.Ua;0<ee--;){var Se=_.gc[ee],Ye=de,_t=E,vt=ye,ot=we,Pt=(we=W,ye=R,Se.Ea);switch(t(Ye<_t),t(_t<=Se.nc),Se.hc){case 2:ul(vt,ot,(_t-Ye)*Pt,we,ye);break;case 0:var Ct=Ye,tt=_t,nt=we,At=ye,Mt=(m=Se).Ea;Ct==0&&(rs(vt,ot,null,null,1,nt,At),Ut(vt,ot+1,0,0,Mt-1,nt,At+1),ot+=Mt,At+=Mt,++Ct);for(var Tt=1<<m.b,Qt=Tt-1,l=be(Mt,m.b),h=m.K,m=m.w+(Ct>>m.b)*l;Ct<tt;){var y=h,S=m,N=1;for(ci(vt,ot,nt,At-Mt,1,nt,At);N<Mt;){var z=(N&~Qt)+Tt;z>Mt&&(z=Mt),(0,Os[y[S++]>>8&15])(vt,ot+ +N,nt,At+N-Mt,z-N,nt,At+N),N=z}ot+=Mt,At+=Mt,++Ct&Qt||(m+=l)}_t!=Se.nc&&i(we,ye-Pt,we,ye+(_t-Ye-1)*Pt,Pt);break;case 1:for(Pt=vt,tt=ot,Mt=(vt=Se.Ea)-(At=vt&~(nt=(ot=1<<Se.b)-1)),Ct=be(vt,Se.b),Tt=Se.K,Se=Se.w+(Ye>>Se.b)*Ct;Ye<_t;){for(Qt=Tt,l=Se,h=new ct,m=tt+At,y=tt+vt;tt<m;)tn(Qt[l++],h),Ds(h,Pt,tt,ot,we,ye),tt+=ot,ye+=ot;tt<y&&(tn(Qt[l++],h),Ds(h,Pt,tt,Mt,we,ye),tt+=Mt,ye+=Mt),++Ye&nt||(Se+=Ct)}break;case 3:if(vt==we&&ot==ye&&0<Se.b){for(tt=we,vt=Pt=ye+(_t-Ye)*Pt-(At=(_t-Ye)*be(Se.Ea,Se.b)),ot=we,nt=ye,Ct=[],At=(Mt=At)-1;0<=At;--At)Ct[At]=ot[nt+At];for(At=Mt-1;0<=At;--At)tt[vt+At]=Ct[At];Sr(Se,Ye,_t,we,Pt,we,ye)}else Sr(Se,Ye,_t,vt,ot,we,ye)}ye=W,we=R}we!=R&&i(W,R,ye,we,ae)}function ga(_,E){var R=_.V,W=_.Ba+_.c*_.C,ee=E-_.C;if(t(E<=_.l.o),t(16>=ee),0<ee){var ae=_.l,de=_.Ta,ye=_.Ua,we=ae.width;if(ii(_,ee,R,W),ee=ye=[ye],t((R=_.C)<(W=E)),t(ae.v<ae.va),W>ae.o&&(W=ae.o),R<ae.j){var Se=ae.j-R;R=ae.j,ee[0]+=Se*we}if(R>=W?R=0:(ee[0]+=4*ae.v,ae.ka=R-ae.j,ae.U=ae.va-ae.v,ae.T=W-R,R=1),R){if(ye=ye[0],11>(R=_.ca).S){var Ye=R.f.RGBA,_t=(W=R.S,ee=ae.U,ae=ae.T,Se=Ye.eb,Ye.A),vt=ae;for(Ye=Ye.fb+_.Ma*Ye.A;0<vt--;){var ot=de,Pt=ye,Ct=ee,tt=Se,nt=Ye;switch(W){case $i:Xr(ot,Pt,Ct,tt,nt);break;case yn:qr(ot,Pt,Ct,tt,nt);break;case Qr:qr(ot,Pt,Ct,tt,nt),Gr(tt,nt,0,Ct,1,0);break;case Uo:vs(ot,Pt,Ct,tt,nt);break;case Ha:Fn(ot,Pt,Ct,tt,nt,1);break;case Hr:Fn(ot,Pt,Ct,tt,nt,1),Gr(tt,nt,0,Ct,1,0);break;case as:Fn(ot,Pt,Ct,tt,nt,0);break;case js:Fn(ot,Pt,Ct,tt,nt,0),Gr(tt,nt,1,Ct,1,0);break;case Pn:Is(ot,Pt,Ct,tt,nt);break;case r:Is(ot,Pt,Ct,tt,nt),ir(tt,nt,Ct,1,0);break;case qo:qi(ot,Pt,Ct,tt,nt);break;default:t(0)}ye+=we,Ye+=_t}_.Ma+=ae}else alert("todo:EmitRescaledRowsYUVA");t(_.Ma<=R.height)}}_.C=E,t(_.C<=_.i)}function As(_){var E;if(0<_.ua)return 0;for(E=0;E<_.Wb;++E){var R=_.Ya[E].G,W=_.Ya[E].H;if(0<R[1][W[1]+0].g||0<R[2][W[2]+0].g||0<R[3][W[3]+0].g)return 0}return 1}function fs(_,E,R,W,ee,ae){if(_.Z!=0){var de=_.qd,ye=_.rd;for(t(Un[_.Z]!=null);E<R;++E)Un[_.Z](de,ye,W,ee,W,ee,ae),de=W,ye=ee,ee+=ae;_.qd=de,_.rd=ye}}function Ji(_,E){var R=_.l.ma,W=R.Z==0||R.Z==1?_.l.j:_.C;if(W=_.C<W?W:_.C,t(E<=_.l.o),E>W){var ee=_.l.width,ae=R.ca,de=R.tb+ee*W,ye=_.V,we=_.Ba+_.c*W,Se=_.gc;t(_.ab==1),t(Se[0].hc==3),is(Se[0],W,E,ye,we,ae,de),fs(R,W,E,ae,de,ee)}_.C=_.Ma=E}function Kr(_,E,R,W,ee,ae,de){var ye=_.$/W,we=_.$%W,Se=_.m,Ye=_.s,_t=R+_.$,vt=_t;ee=R+W*ee;var ot=R+W*ae,Pt=280+Ye.ua,Ct=_.Pb?ye:16777216,tt=0<Ye.ua?Ye.Wa:null,nt=Ye.wc,At=_t<ot?Kt(Ye,we,ye):null;t(_.C<ae),t(ot<=ee);var Mt=!1;e:for(;;){for(;Mt||_t<ot;){var Tt=0;if(ye>=Ct){var Qt=_t-R;t((Ct=_).Pb),Ct.wd=Ct.m,Ct.xd=Qt,0<Ct.s.ua&&Fe(Ct.s.Wa,Ct.s.vb),Ct=ye+xt}if(we&nt||(At=Kt(Ye,we,ye)),t(At!=null),At.Qb&&(E[_t]=At.qb,Mt=!0),!Mt)if(Te(Se),At.jc){Tt=Se,Qt=E;var l=_t,h=At.pd[ce(Tt)&vr-1];t(At.jc),256>h.g?(_e(Tt,Tt.u+h.g),Qt[l]=h.value,Tt=0):(_e(Tt,Tt.u+h.g-256),t(256<=h.value),Tt=h.value),Tt==0&&(Mt=!0)}else Tt=Ri(At.G[0],At.H[0],Se);if(Se.h)break;if(Mt||256>Tt){if(!Mt)if(At.nd)E[_t]=(At.qb|Tt<<8)>>>0;else{if(Te(Se),Mt=Ri(At.G[1],At.H[1],Se),Te(Se),Qt=Ri(At.G[2],At.H[2],Se),l=Ri(At.G[3],At.H[3],Se),Se.h)break;E[_t]=(l<<24|Mt<<16|Tt<<8|Qt)>>>0}if(Mt=!1,++_t,++we>=W&&(we=0,++ye,de!=null&&ye<=ae&&!(ye%16)&&de(_,ye),tt!=null))for(;vt<_t;)Tt=E[vt++],tt.X[(506832829*Tt&4294967295)>>>tt.Mb]=Tt}else if(280>Tt){if(Tt=Ki(Tt-256,Se),Qt=Ri(At.G[4],At.H[4],Se),Te(Se),Qt=Ii(W,Qt=Ki(Qt,Se)),Se.h)break;if(_t-R<Qt||ee-_t<Tt)break e;for(l=0;l<Tt;++l)E[_t+l]=E[_t+l-Qt];for(_t+=Tt,we+=Tt;we>=W;)we-=W,++ye,de!=null&&ye<=ae&&!(ye%16)&&de(_,ye);if(t(_t<=ee),we&nt&&(At=Kt(Ye,we,ye)),tt!=null)for(;vt<_t;)Tt=E[vt++],tt.X[(506832829*Tt&4294967295)>>>tt.Mb]=Tt}else{if(!(Tt<Pt))break e;for(Mt=Tt-280,t(tt!=null);vt<_t;)Tt=E[vt++],tt.X[(506832829*Tt&4294967295)>>>tt.Mb]=Tt;Tt=_t,t(!(Mt>>>(Qt=tt).Xa)),E[Tt]=Qt.X[Mt],Mt=!0}Mt||t(Se.h==me(Se))}if(_.Pb&&Se.h&&_t<ee)t(_.m.h),_.a=5,_.m=_.wd,_.$=_.xd,0<_.s.ua&&Fe(_.s.vb,_.s.Wa);else{if(Se.h)break e;de?.(_,ye>ae?ae:ye),_.a=0,_.$=_t-R}return 1}return _.a=3,0}function gi(_){t(_!=null),_.vc=null,_.yc=null,_.Ya=null;var E=_.Wa;E!=null&&(E.X=null),_.vb=null,t(_!=null)}function ji(){var _=new Fo;return _==null?null:(_.a=0,_.xb=co,Ar("Predictor","VP8LPredictors"),Ar("Predictor","VP8LPredictors_C"),Ar("PredictorAdd","VP8LPredictorsAdd"),Ar("PredictorAdd","VP8LPredictorsAdd_C"),ul=an,Ds=on,Xr=$t,qr=ur,Is=hn,qi=Dr,vs=zn,Y.VP8LMapColor32b=ta,Y.VP8LMapColor8b=ya,_)}function qs(_,E,R,W,ee){var ae=1,de=[_],ye=[E],we=W.m,Se=W.s,Ye=null,_t=0;e:for(;;){if(R)for(;ae&&Ee(we,1);){var vt=de,ot=ye,Pt=W,Ct=1,tt=Pt.m,nt=Pt.gc[Pt.ab],At=Ee(tt,2);if(Pt.Oc&1<<At)ae=0;else{switch(Pt.Oc|=1<<At,nt.hc=At,nt.Ea=vt[0],nt.nc=ot[0],nt.K=[null],++Pt.ab,t(4>=Pt.ab),At){case 0:case 1:nt.b=Ee(tt,3)+2,Ct=qs(be(nt.Ea,nt.b),be(nt.nc,nt.b),0,Pt,nt.K),nt.K=nt.K[0];break;case 3:var Mt,Tt=Ee(tt,8)+1,Qt=16<Tt?0:4<Tt?1:2<Tt?2:3;if(vt[0]=be(nt.Ea,Qt),nt.b=Qt,Mt=Ct=qs(Tt,1,0,Pt,nt.K)){var l,h=Tt,m=nt,y=1<<(8>>m.b),S=o(y);if(S==null)Mt=0;else{var N=m.K[0],z=m.w;for(S[0]=m.K[0][0],l=1;l<1*h;++l)S[l]=Oe(N[z+l],S[l-1]);for(;l<4*y;++l)S[l]=0;m.K[0]=null,m.K[0]=S,Mt=1}}Ct=Mt;break;case 2:break;default:t(0)}ae=Ct}}if(de=de[0],ye=ye[0],ae&&Ee(we,1)&&!(ae=1<=(_t=Ee(we,4))&&11>=_t)){W.a=3;break e}var H;if(H=ae)t:{var X,te,Re,Ne=W,ut=de,gt=ye,Et=_t,Wt=R,Zt=Ne.m,mn=Ne.s,De=[null],qe=1,rt=0,yt=mt[Et];n:for(;;){if(Wt&&Ee(Zt,1)){var it=Ee(Zt,3)+2,dt=be(ut,it),Q=be(gt,it),ge=dt*Q;if(!qs(dt,Q,0,Ne,De))break n;for(De=De[0],mn.xc=it,X=0;X<ge;++X){var xe=De[X]>>8&65535;De[X]=xe,xe>=qe&&(qe=xe+1)}}if(Zt.h)break n;for(te=0;5>te;++te){var ve=T[te];!te&&0<Et&&(ve+=1<<Et),rt<ve&&(rt=ve)}var ke=c(qe*yt,G),Ce=qe,Ke=c(Ce,j);if(Ke==null)var He=null;else t(65536>=Ce),He=Ke;var Qe=o(rt);if(He==null||Qe==null||ke==null){Ne.a=1;break n}var pt=ke;for(X=Re=0;X<qe;++X){var ht=He[X],Dt=ht.G,Xt=ht.H,nn=0,rn=1,Kn=0;for(te=0;5>te;++te){ve=T[te],Dt[te]=pt,Xt[te]=Re,!te&&0<Et&&(ve+=1<<Et);i:{var Jn,Dn=ve,tr=Ne,br=Qe,xl=pt,Ll=Re,yr=0,ri=tr.m,Zo=Ee(ri,1);if(a(br,0,0,Dn),Zo){var Ls=Ee(ri,1)+1,wi=Ee(ri,1),xr=Ee(ri,wi==0?1:8);br[xr]=1,Ls==2&&(br[xr=Ee(ri,8)]=1);var No=1}else{var jr=o(19),bi=Ee(ri,4)+4;if(19<bi){tr.a=3;var pi=0;break i}for(Jn=0;Jn<bi;++Jn)jr[fe[Jn]]=Ee(ri,3);var Ol=void 0,Ko=void 0,Dl=tr,$h=jr,Bi=Dn,Su=br,su=0,To=Dl.m,fo=8,ka=c(128,G);r:for(;J(ka,0,7,$h,19);){if(Ee(To,1)){var au=2+2*Ee(To,3);if((Ol=2+Ee(To,au))>Bi)break r}else Ol=Bi;for(Ko=0;Ko<Bi&&Ol--;){Te(To);var Eu=ka[0+(127&ce(To))];_e(To,To.u+Eu.g);var hl=Eu.value;if(16>hl)Su[Ko++]=hl,hl!=0&&(fo=hl);else{var zc=hl==16,uc=hl-16,Uc=x[uc],cc=Ee(To,d[uc])+Uc;if(Ko+cc>Bi)break r;for(var qc=zc?fo:0;0<cc--;)Su[Ko++]=qc}}su=1;break r}su||(Dl.a=3),No=su}(No=No&&!ri.h)&&(yr=J(xl,Ll,8,br,Dn)),No&&yr!=0?pi=yr:(tr.a=3,pi=0)}if(pi==0)break n;if(rn&&V[te]==1&&(rn=pt[Re].g==0),nn+=pt[Re].g,Re+=pi,3>=te){var Il,Pu=Qe[0];for(Il=1;Il<ve;++Il)Qe[Il]>Pu&&(Pu=Qe[Il]);Kn+=Pu}}if(ht.nd=rn,ht.Qb=0,rn&&(ht.qb=(Dt[3][Xt[3]+0].value<<24|Dt[1][Xt[1]+0].value<<16|Dt[2][Xt[2]+0].value)>>>0,nn==0&&256>Dt[0][Xt[0]+0].value&&(ht.Qb=1,ht.qb+=Dt[0][Xt[0]+0].value<<8)),ht.jc=!ht.Qb&&6>Kn,ht.jc){var ou,Ca=ht;for(ou=0;ou<vr;++ou){var Jo=ou,po=Ca.pd[Jo],kl=Ca.G[0][Ca.H[0]+Jo];256<=kl.value?(po.g=kl.g+256,po.value=kl.value):(po.g=0,po.value=0,Jo>>=Vn(kl,8,po),Jo>>=Vn(Ca.G[1][Ca.H[1]+Jo],16,po),Jo>>=Vn(Ca.G[2][Ca.H[2]+Jo],0,po),Vn(Ca.G[3][Ca.H[3]+Jo],24,po))}}}mn.vc=De,mn.Wb=qe,mn.Ya=He,mn.yc=ke,H=1;break t}H=0}if(!(ae=H)){W.a=3;break e}if(0<_t){if(Se.ua=1<<_t,!K(Se.Wa,_t)){W.a=1,ae=0;break e}}else Se.ua=0;var Au=W,Mu=de,Gc=ye,Bu=Au.s,Nu=Bu.xc;if(Au.c=Mu,Au.i=Gc,Bu.md=be(Mu,Nu),Bu.wc=Nu==0?-1:(1<<Nu)-1,R){W.xb=sa;break e}if((Ye=o(de*ye))==null){W.a=1,ae=0;break e}ae=(ae=Kr(W,Ye,0,de,ye,ye,null))&&!we.h;break e}return ae?(ee!=null?ee[0]=Ye:(t(Ye==null),t(R)),W.$=0,R||gi(Se)):gi(Se),ae}function Ma(_,E){var R=_.c*_.i,W=R+E+16*E;return t(_.c<=E),_.V=o(W),_.V==null?(_.Ta=null,_.Ua=0,_.a=1,0):(_.Ta=_.V,_.Ua=_.Ba+R+E,1)}function Xa(_,E){var R=_.C,W=E-R,ee=_.V,ae=_.Ba+_.c*R;for(t(E<=_.l.o);0<W;){var de=16<W?16:W,ye=_.l.ma,we=_.l.width,Se=we*de,Ye=ye.ca,_t=ye.tb+we*R,vt=_.Ta,ot=_.Ua;ii(_,de,ee,ae),Er(vt,ot,Ye,_t,Se),fs(ye,R,R+de,Ye,_t,we),W-=de,ee+=de*_.c,R+=de}t(R==E),_.C=_.Ma=E}function Qa(){this.ub=this.yd=this.td=this.Rb=0}function Gs(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ba(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function eo(){this.Yb=(function(){var _=[];return(function E(R,W,ee){for(var ae=ee[W],de=0;de<ae&&(R.push(ee.length>W+1?[]:0),!(ee.length<W+1));de++)E(R[de],W+1,ee)})(_,0,[3,11]),_})()}function wr(){this.jb=o(3),this.Wc=f([4,8],eo),this.Xc=f([4,17],eo)}function wl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Na(){this.ld=this.La=this.dd=this.tc=0}function Io(){this.Na=this.la=0}function _o(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function to(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ta(){this.uc=this.M=this.Nb=0,this.wa=Array(new Na),this.Y=0,this.ya=Array(new to),this.aa=0,this.l=new Xi}function Oa(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Yi(){this.cb=this.a=0,this.sc="",this.m=new re,this.Od=new Qa,this.Kc=new Gs,this.ed=new wl,this.Qa=new Ba,this.Ic=this.$c=this.Aa=0,this.D=new Ta,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,re),this.ia=0,this.pb=c(4,_o),this.Pa=new wr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Oa),this.Hd=0,this.rb=Array(new Io),this.sb=0,this.wa=Array(new Na),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new to),this.L=this.aa=0,this.gd=f([4,2],Na),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Xi(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function An(){var _=new Yi;return _!=null&&(_.a=0,_.sc="OK",_.cb=0,_.Xb=0,pn||(pn=Qi)),_}function Mn(_,E,R){return _.a==0&&(_.a=E,_.sc=R,_.cb=0),0}function Da(_,E,R){return 3<=R&&_[E+0]==157&&_[E+1]==1&&_[E+2]==42}function _a(_,E){if(_==null)return 0;if(_.a=0,_.sc="OK",E==null)return Mn(_,2,"null VP8Io passed to VP8GetHeaders()");var R=E.data,W=E.w,ee=E.ha;if(4>ee)return Mn(_,7,"Truncated header.");var ae=R[W+0]|R[W+1]<<8|R[W+2]<<16,de=_.Od;if(de.Rb=!(1&ae),de.td=ae>>1&7,de.yd=ae>>4&1,de.ub=ae>>5,3<de.td)return Mn(_,3,"Incorrect keyframe parameters.");if(!de.yd)return Mn(_,4,"Frame not displayable.");W+=3,ee-=3;var ye=_.Kc;if(de.Rb){if(7>ee)return Mn(_,7,"cannot parse picture header");if(!Da(R,W,ee))return Mn(_,3,"Bad code word");ye.c=16383&(R[W+4]<<8|R[W+3]),ye.Td=R[W+4]>>6,ye.i=16383&(R[W+6]<<8|R[W+5]),ye.Ud=R[W+6]>>6,W+=7,ee-=7,_.za=ye.c+15>>4,_.Ub=ye.i+15>>4,E.width=ye.c,E.height=ye.i,E.Da=0,E.j=0,E.v=0,E.va=E.width,E.o=E.height,E.da=0,E.ib=E.width,E.hb=E.height,E.U=E.width,E.T=E.height,a((ae=_.Pa).jb,0,255,ae.jb.length),t((ae=_.Qa)!=null),ae.Cb=0,ae.Bb=0,ae.Fb=1,a(ae.Zb,0,0,ae.Zb.length),a(ae.Lb,0,0,ae.Lb)}if(de.ub>ee)return Mn(_,7,"bad partition length");Ae(ae=_.m,R,W,de.ub),W+=de.ub,ee-=de.ub,de.Rb&&(ye.Ld=$e(ae),ye.Kd=$e(ae)),ye=_.Qa;var we,Se=_.Pa;if(t(ae!=null),t(ye!=null),ye.Cb=$e(ae),ye.Cb){if(ye.Bb=$e(ae),$e(ae)){for(ye.Fb=$e(ae),we=0;4>we;++we)ye.Zb[we]=$e(ae)?je(ae,7):0;for(we=0;4>we;++we)ye.Lb[we]=$e(ae)?je(ae,6):0}if(ye.Bb)for(we=0;3>we;++we)Se.jb[we]=$e(ae)?Ue(ae,8):255}else ye.Bb=0;if(ae.Ka)return Mn(_,3,"cannot parse segment header");if((ye=_.ed).zd=$e(ae),ye.Tb=Ue(ae,6),ye.wb=Ue(ae,3),ye.Pc=$e(ae),ye.Pc&&$e(ae)){for(Se=0;4>Se;++Se)$e(ae)&&(ye.vd[Se]=je(ae,6));for(Se=0;4>Se;++Se)$e(ae)&&(ye.od[Se]=je(ae,6))}if(_.L=ye.Tb==0?0:ye.zd?1:2,ae.Ka)return Mn(_,3,"cannot parse filter header");var Ye=ee;if(ee=we=W,W=we+Ye,ye=Ye,_.Xb=(1<<Ue(_.m,2))-1,Ye<3*(Se=_.Xb))R=7;else{for(we+=3*Se,ye-=3*Se,Ye=0;Ye<Se;++Ye){var _t=R[ee+0]|R[ee+1]<<8|R[ee+2]<<16;_t>ye&&(_t=ye),Ae(_.Jc[+Ye],R,we,_t),we+=_t,ye-=_t,ee+=3}Ae(_.Jc[+Se],R,we,ye),R=we<W?0:5}if(R!=0)return Mn(_,R,"cannot parse partitions");for(R=Ue(we=_.m,7),ee=$e(we)?je(we,4):0,W=$e(we)?je(we,4):0,ye=$e(we)?je(we,4):0,Se=$e(we)?je(we,4):0,we=$e(we)?je(we,4):0,Ye=_.Qa,_t=0;4>_t;++_t){if(Ye.Cb){var vt=Ye.Zb[_t];Ye.Fb||(vt+=R)}else{if(0<_t){_.pb[_t]=_.pb[0];continue}vt=R}var ot=_.pb[_t];ot.Sc[0]=Rt[cr(vt+ee,127)],ot.Sc[1]=Yt[cr(vt+0,127)],ot.Eb[0]=2*Rt[cr(vt+W,127)],ot.Eb[1]=101581*Yt[cr(vt+ye,127)]>>16,8>ot.Eb[1]&&(ot.Eb[1]=8),ot.Qc[0]=Rt[cr(vt+Se,117)],ot.Qc[1]=Yt[cr(vt+we,127)],ot.lc=vt+we}if(!de.Rb)return Mn(_,4,"Not a key frame.");for($e(ae),de=_.Pa,R=0;4>R;++R){for(ee=0;8>ee;++ee)for(W=0;3>W;++W)for(ye=0;11>ye;++ye)Se=Xe(ae,ia[R][ee][W][ye])?Ue(ae,8):Pi[R][ee][W][ye],de.Wc[R][ee].Yb[W][ye]=Se;for(ee=0;17>ee;++ee)de.Xc[R][ee]=de.Wc[R][Go[ee]]}return _.kc=$e(ae),_.kc&&(_.Bd=Ue(ae,8)),_.cb=1}function Qi(_,E,R,W,ee,ae,de){var ye=E[ee].Yb[R];for(R=0;16>ee;++ee){if(!Xe(_,ye[R+0]))return ee;for(;!Xe(_,ye[R+1]);)if(ye=E[++ee].Yb[0],R=0,ee==16)return 16;var we=E[ee+1].Yb;if(Xe(_,ye[R+2])){var Se=_,Ye=0;if(Xe(Se,(vt=ye)[(_t=R)+3]))if(Xe(Se,vt[_t+6])){for(ye=0,_t=2*(Ye=Xe(Se,vt[_t+8]))+(vt=Xe(Se,vt[_t+9+Ye])),Ye=0,vt=On[_t];vt[ye];++ye)Ye+=Ye+Xe(Se,vt[ye]);Ye+=3+(8<<_t)}else Xe(Se,vt[_t+7])?(Ye=7+2*Xe(Se,165),Ye+=Xe(Se,145)):Ye=5+Xe(Se,159);else Ye=Xe(Se,vt[_t+4])?3+Xe(Se,vt[_t+5]):2;ye=we[2]}else Ye=1,ye=we[1];we=de+di[ee],0>(Se=_).b&&Je(Se);var _t,vt=Se.b,ot=(_t=Se.Ca>>1)-(Se.I>>vt)>>31;--Se.b,Se.Ca+=ot,Se.Ca|=1,Se.I-=(_t+1&ot)<<vt,ae[we]=((Ye^ot)-ot)*W[(0<ee)+0]}return 16}function Hs(_){var E=_.rb[_.sb-1];E.la=0,E.Na=0,a(_.zc,0,0,_.zc.length),_.ja=0}function Ln(_,E){if(_==null)return 0;if(E==null)return Mn(_,2,"NULL VP8Io parameter in VP8Decode().");if(!_.cb&&!_a(_,E))return 0;if(t(_.cb),E.ac==null||E.ac(E)){E.ob&&(_.L=0);var R=Vo[_.L];if(_.L==2?(_.yb=0,_.zb=0):(_.yb=E.v-R>>4,_.zb=E.j-R>>4,0>_.yb&&(_.yb=0),0>_.zb&&(_.zb=0)),_.Va=E.o+15+R>>4,_.Hb=E.va+15+R>>4,_.Hb>_.za&&(_.Hb=_.za),_.Va>_.Ub&&(_.Va=_.Ub),0<_.L){var W=_.ed;for(R=0;4>R;++R){var ee;if(_.Qa.Cb){var ae=_.Qa.Lb[R];_.Qa.Fb||(ae+=W.Tb)}else ae=W.Tb;for(ee=0;1>=ee;++ee){var de=_.gd[R][ee],ye=ae;if(W.Pc&&(ye+=W.vd[0],ee&&(ye+=W.od[0])),0<(ye=0>ye?0:63<ye?63:ye)){var we=ye;0<W.wb&&(we=4<W.wb?we>>2:we>>1)>9-W.wb&&(we=9-W.wb),1>we&&(we=1),de.dd=we,de.tc=2*ye+we,de.ld=40<=ye?2:15<=ye?1:0}else de.tc=0;de.La=ee}}}R=0}else Mn(_,6,"Frame setup failed"),R=_.a;if(R=R==0){if(R){_.$c=0,0<_.Aa||(_.Ic=$a);e:{R=_.Ic,W=4*(we=_.za);var Se=32*we,Ye=we+1,_t=0<_.L?we*(0<_.Aa?2:1):0,vt=(_.Aa==2?2:1)*we;if((de=W+832+(ee=3*(16*R+Vo[_.L])/2*Se)+(ae=_.Fa!=null&&0<_.Fa.length?_.Kc.c*_.Kc.i:0))!=de)R=0;else{if(de>_.Vb){if(_.Vb=0,_.Ec=o(de),_.Fc=0,_.Ec==null){R=Mn(_,1,"no memory during frame initialization.");break e}_.Vb=de}de=_.Ec,ye=_.Fc,_.Ac=de,_.Bc=ye,ye+=W,_.Gd=c(Se,Oa),_.Hd=0,_.rb=c(Ye+1,Io),_.sb=1,_.wa=_t?c(_t,Na):null,_.Y=0,_.D.Nb=0,_.D.wa=_.wa,_.D.Y=_.Y,0<_.Aa&&(_.D.Y+=we),t(!0),_.oc=de,_.pc=ye,ye+=832,_.ya=c(vt,to),_.aa=0,_.D.ya=_.ya,_.D.aa=_.aa,_.Aa==2&&(_.D.aa+=we),_.R=16*we,_.B=8*we,we=(Se=Vo[_.L])*_.R,Se=Se/2*_.B,_.sa=de,_.ta=ye+we,_.qa=_.sa,_.ra=_.ta+16*R*_.R+Se,_.Ha=_.qa,_.Ia=_.ra+8*R*_.B+Se,_.$c=0,ye+=ee,_.mb=ae?de:null,_.nb=ae?ye:null,t(ye+ae<=_.Fc+_.Vb),Hs(_),a(_.Ac,_.Bc,0,W),R=1}}if(R){if(E.ka=0,E.y=_.sa,E.O=_.ta,E.f=_.qa,E.N=_.ra,E.ea=_.Ha,E.Vd=_.Ia,E.fa=_.R,E.Rc=_.B,E.F=null,E.J=0,!zo){for(R=-255;255>=R;++R)lr[255+R]=0>R?-R:R;for(R=-1020;1020>=R;++R)xs[1020+R]=-128>R?-128:127<R?127:R;for(R=-112;112>=R;++R)xa[112+R]=-16>R?-16:15<R?15:R;for(R=-255;510>=R;++R)Rs[255+R]=0>R?0:255<R?255:R;zo=1}wa=Gn,ys=Ra,Gi=Fi,vi=kr,hi=ds,Xn=Ro,Ga=Lo,Mo=Cr,uo=_i,yi=ko,Hi=Ns,ss=za,ws=Br,na=Co,ra=gs,ba=gn,bs=Yr,fi=Fa,os[0]=Hn,os[1]=vo,os[2]=xn,os[3]=zr,os[4]=wo,os[5]=ja,os[6]=Ks,os[7]=ts,os[8]=bo,os[9]=ms,ei[0]=va,ei[1]=yo,ei[2]=ps,ei[3]=Vs,ei[4]=dr,ei[5]=Ms,ei[6]=es,ti[0]=zi,ti[1]=$s,ti[2]=no,ti[3]=gr,ti[4]=io,ti[5]=ro,ti[6]=xo,R=1}else R=0}R&&(R=(function(ot,Pt){for(ot.M=0;ot.M<ot.Va;++ot.M){var Ct,tt=ot.Jc[ot.M&ot.Xb],nt=ot.m,At=ot;for(Ct=0;Ct<At.za;++Ct){var Mt=nt,Tt=At,Qt=Tt.Ac,l=Tt.Bc+4*Ct,h=Tt.zc,m=Tt.ya[Tt.aa+Ct];if(Tt.Qa.Bb?m.$b=Xe(Mt,Tt.Pa.jb[0])?2+Xe(Mt,Tt.Pa.jb[2]):Xe(Mt,Tt.Pa.jb[1]):m.$b=0,Tt.kc&&(m.Ad=Xe(Mt,Tt.Bd)),m.Za=!Xe(Mt,145)+0,m.Za){var y=m.Ob,S=0;for(Tt=0;4>Tt;++Tt){var N,z=h[0+Tt];for(N=0;4>N;++N){z=Pr[Qt[l+N]][z];for(var H=Wr[Xe(Mt,z[0])];0<H;)H=Wr[2*H+Xe(Mt,z[H])];z=-H,Qt[l+N]=z}i(y,S,Qt,l,4),S+=4,h[0+Tt]=z}}else z=Xe(Mt,156)?Xe(Mt,128)?1:3:Xe(Mt,163)?2:0,m.Ob[0]=z,a(Qt,l,z,4),a(h,0,z,4);m.Dd=Xe(Mt,142)?Xe(Mt,114)?Xe(Mt,183)?1:3:2:0}if(At.m.Ka)return Mn(ot,7,"Premature end-of-partition0 encountered.");for(;ot.ja<ot.za;++ot.ja){if(At=tt,Mt=(nt=ot).rb[nt.sb-1],Qt=nt.rb[nt.sb+nt.ja],Ct=nt.ya[nt.aa+nt.ja],l=nt.kc?Ct.Ad:0)Mt.la=Qt.la=0,Ct.Za||(Mt.Na=Qt.Na=0),Ct.Hc=0,Ct.Gc=0,Ct.ia=0;else{var X,te;if(Mt=Qt,Qt=At,l=nt.Pa.Xc,h=nt.ya[nt.aa+nt.ja],m=nt.pb[h.$b],Tt=h.ad,y=0,S=nt.rb[nt.sb-1],z=N=0,a(Tt,y,0,384),h.Za)var Re=0,Ne=l[3];else{H=o(16);var ut=Mt.Na+S.Na;if(ut=pn(Qt,l[1],ut,m.Eb,0,H,0),Mt.Na=S.Na=(0<ut)+0,1<ut)wa(H,0,Tt,y);else{var gt=H[0]+3>>3;for(H=0;256>H;H+=16)Tt[y+H]=gt}Re=1,Ne=l[0]}var Et=15&Mt.la,Wt=15&S.la;for(H=0;4>H;++H){var Zt=1&Wt;for(gt=te=0;4>gt;++gt)Et=Et>>1|(Zt=(ut=pn(Qt,Ne,ut=Zt+(1&Et),m.Sc,Re,Tt,y))>Re)<<7,te=te<<2|(3<ut?3:1<ut?2:Tt[y+0]!=0),y+=16;Et>>=4,Wt=Wt>>1|Zt<<7,N=(N<<8|te)>>>0}for(Ne=Et,Re=Wt>>4,X=0;4>X;X+=2){for(te=0,Et=Mt.la>>4+X,Wt=S.la>>4+X,H=0;2>H;++H){for(Zt=1&Wt,gt=0;2>gt;++gt)ut=Zt+(1&Et),Et=Et>>1|(Zt=0<(ut=pn(Qt,l[2],ut,m.Qc,0,Tt,y)))<<3,te=te<<2|(3<ut?3:1<ut?2:Tt[y+0]!=0),y+=16;Et>>=2,Wt=Wt>>1|Zt<<5}z|=te<<4*X,Ne|=Et<<4<<X,Re|=(240&Wt)<<X}Mt.la=Ne,S.la=Re,h.Hc=N,h.Gc=z,h.ia=43690&z?0:m.ia,l=!(N|z)}if(0<nt.L&&(nt.wa[nt.Y+nt.ja]=nt.gd[Ct.$b][Ct.Za],nt.wa[nt.Y+nt.ja].La|=!l),At.Ka)return Mn(ot,7,"Premature end-of-file encountered.")}if(Hs(ot),nt=Pt,At=1,Ct=(tt=ot).D,Mt=0<tt.L&&tt.M>=tt.zb&&tt.M<=tt.Va,tt.Aa==0)e:{if(Ct.M=tt.M,Ct.uc=Mt,Eo(tt,Ct),At=1,Ct=(te=tt.D).Nb,Mt=(z=Vo[tt.L])*tt.R,Qt=z/2*tt.B,H=16*Ct*tt.R,gt=8*Ct*tt.B,l=tt.sa,h=tt.ta-Mt+H,m=tt.qa,Tt=tt.ra-Qt+gt,y=tt.Ha,S=tt.Ia-Qt+gt,Wt=(Et=te.M)==0,N=Et>=tt.Va-1,tt.Aa==2&&Eo(tt,te),te.uc)for(Zt=(ut=tt).D.M,t(ut.D.uc),te=ut.yb;te<ut.Hb;++te){Re=te,Ne=Zt;var mn=(De=(ve=ut).D).Nb;X=ve.R;var De=De.wa[De.Y+Re],qe=ve.sa,rt=ve.ta+16*mn*X+16*Re,yt=De.dd,it=De.tc;if(it!=0)if(t(3<=it),ve.L==1)0<Re&&ba(qe,rt,X,it+4),De.La&&fi(qe,rt,X,it),0<Ne&&ra(qe,rt,X,it+4),De.La&&bs(qe,rt,X,it);else{var dt=ve.B,Q=ve.qa,ge=ve.ra+8*mn*dt+8*Re,xe=ve.Ha,ve=ve.Ia+8*mn*dt+8*Re;mn=De.ld,0<Re&&(Mo(qe,rt,X,it+4,yt,mn),yi(Q,ge,xe,ve,dt,it+4,yt,mn)),De.La&&(ss(qe,rt,X,it,yt,mn),na(Q,ge,xe,ve,dt,it,yt,mn)),0<Ne&&(Ga(qe,rt,X,it+4,yt,mn),uo(Q,ge,xe,ve,dt,it+4,yt,mn)),De.La&&(Hi(qe,rt,X,it,yt,mn),ws(Q,ge,xe,ve,dt,it,yt,mn))}}if(tt.ia&&alert("todo:DitherRow"),nt.put!=null){if(te=16*Et,Et=16*(Et+1),Wt?(nt.y=tt.sa,nt.O=tt.ta+H,nt.f=tt.qa,nt.N=tt.ra+gt,nt.ea=tt.Ha,nt.W=tt.Ia+gt):(te-=z,nt.y=l,nt.O=h,nt.f=m,nt.N=Tt,nt.ea=y,nt.W=S),N||(Et-=z),Et>nt.o&&(Et=nt.o),nt.F=null,nt.J=null,tt.Fa!=null&&0<tt.Fa.length&&te<Et&&(nt.J=Nr(tt,nt,te,Et-te),nt.F=tt.mb,nt.F==null&&nt.F.length==0)){At=Mn(tt,3,"Could not decode alpha data.");break e}te<nt.j&&(z=nt.j-te,te=nt.j,t(!(1&z)),nt.O+=tt.R*z,nt.N+=tt.B*(z>>1),nt.W+=tt.B*(z>>1),nt.F!=null&&(nt.J+=nt.width*z)),te<Et&&(nt.O+=nt.v,nt.N+=nt.v>>1,nt.W+=nt.v>>1,nt.F!=null&&(nt.J+=nt.v),nt.ka=te-nt.j,nt.U=nt.va-nt.v,nt.T=Et-te,At=nt.put(nt))}Ct+1!=tt.Ic||N||(i(tt.sa,tt.ta-Mt,l,h+16*tt.R,Mt),i(tt.qa,tt.ra-Qt,m,Tt+8*tt.B,Qt),i(tt.Ha,tt.Ia-Qt,y,S+8*tt.B,Qt))}if(!At)return Mn(ot,6,"Output aborted.")}return 1})(_,E)),E.bc!=null&&E.bc(E),R&=1}return R?(_.cb=0,R):0}function $n(_,E,R,W,ee){ee=_[E+R+32*W]+(ee>>3),_[E+R+32*W]=-256&ee?0>ee?0:255:ee}function Ia(_,E,R,W,ee,ae){$n(_,E,0,R,W+ee),$n(_,E,1,R,W+ae),$n(_,E,2,R,W-ae),$n(_,E,3,R,W-ee)}function si(_){return(20091*_>>16)+_}function Jr(_,E,R,W){var ee,ae=0,de=o(16);for(ee=0;4>ee;++ee){var ye=_[E+0]+_[E+8],we=_[E+0]-_[E+8],Se=(35468*_[E+4]>>16)-si(_[E+12]),Ye=si(_[E+4])+(35468*_[E+12]>>16);de[ae+0]=ye+Ye,de[ae+1]=we+Se,de[ae+2]=we-Se,de[ae+3]=ye-Ye,ae+=4,E++}for(ee=ae=0;4>ee;++ee)ye=(_=de[ae+0]+4)+de[ae+8],we=_-de[ae+8],Se=(35468*de[ae+4]>>16)-si(de[ae+12]),$n(R,W,0,0,ye+(Ye=si(de[ae+4])+(35468*de[ae+12]>>16))),$n(R,W,1,0,we+Se),$n(R,W,2,0,we-Se),$n(R,W,3,0,ye-Ye),ae++,W+=32}function Ro(_,E,R,W){var ee=_[E+0]+4,ae=35468*_[E+4]>>16,de=si(_[E+4]),ye=35468*_[E+1]>>16;Ia(R,W,0,ee+de,_=si(_[E+1]),ye),Ia(R,W,1,ee+ae,_,ye),Ia(R,W,2,ee-ae,_,ye),Ia(R,W,3,ee-de,_,ye)}function Ra(_,E,R,W,ee){Jr(_,E,R,W),ee&&Jr(_,E+16,R,W+4)}function Fi(_,E,R,W){ys(_,E+0,R,W,1),ys(_,E+32,R,W+128,1)}function kr(_,E,R,W){var ee;for(_=_[E+0]+4,ee=0;4>ee;++ee)for(E=0;4>E;++E)$n(R,W,E,ee,_)}function ds(_,E,R,W){_[E+0]&&vi(_,E+0,R,W),_[E+16]&&vi(_,E+16,R,W+4),_[E+32]&&vi(_,E+32,R,W+128),_[E+48]&&vi(_,E+48,R,W+128+4)}function Gn(_,E,R,W){var ee,ae=o(16);for(ee=0;4>ee;++ee){var de=_[E+0+ee]+_[E+12+ee],ye=_[E+4+ee]+_[E+8+ee],we=_[E+4+ee]-_[E+8+ee],Se=_[E+0+ee]-_[E+12+ee];ae[0+ee]=de+ye,ae[8+ee]=de-ye,ae[4+ee]=Se+we,ae[12+ee]=Se-we}for(ee=0;4>ee;++ee)de=(_=ae[0+4*ee]+3)+ae[3+4*ee],ye=ae[1+4*ee]+ae[2+4*ee],we=ae[1+4*ee]-ae[2+4*ee],Se=_-ae[3+4*ee],R[W+0]=de+ye>>3,R[W+16]=Se+we>>3,R[W+32]=de-ye>>3,R[W+48]=Se-we>>3,W+=64}function Ws(_,E,R){var W,ee=E-32,ae=sr,de=255-_[ee-1];for(W=0;W<R;++W){var ye,we=ae,Se=de+_[E-1];for(ye=0;ye<R;++ye)_[E+ye]=we[Se+_[ee+ye]];E+=32}}function vo(_,E){Ws(_,E,4)}function $s(_,E){Ws(_,E,8)}function yo(_,E){Ws(_,E,16)}function ps(_,E){var R;for(R=0;16>R;++R)i(_,E+32*R,_,E-32,16)}function Vs(_,E){var R;for(R=16;0<R;--R)a(_,E,_[E-1],16),E+=32}function Zs(_,E,R){var W;for(W=0;16>W;++W)a(E,R+32*W,_,16)}function va(_,E){var R,W=16;for(R=0;16>R;++R)W+=_[E-1+32*R]+_[E+R-32];Zs(W>>5,_,E)}function dr(_,E){var R,W=8;for(R=0;16>R;++R)W+=_[E-1+32*R];Zs(W>>4,_,E)}function Ms(_,E){var R,W=8;for(R=0;16>R;++R)W+=_[E+R-32];Zs(W>>4,_,E)}function es(_,E){Zs(128,_,E)}function bn(_,E,R){return _+2*E+R+2>>2}function xn(_,E){var R,W=E-32;for(W=new Uint8Array([bn(_[W-1],_[W+0],_[W+1]),bn(_[W+0],_[W+1],_[W+2]),bn(_[W+1],_[W+2],_[W+3]),bn(_[W+2],_[W+3],_[W+4])]),R=0;4>R;++R)i(_,E+32*R,W,0,W.length)}function zr(_,E){var R=_[E-1],W=_[E-1+32],ee=_[E-1+64],ae=_[E-1+96];Nt(_,E+0,16843009*bn(_[E-1-32],R,W)),Nt(_,E+32,16843009*bn(R,W,ee)),Nt(_,E+64,16843009*bn(W,ee,ae)),Nt(_,E+96,16843009*bn(ee,ae,ae))}function Hn(_,E){var R,W=4;for(R=0;4>R;++R)W+=_[E+R-32]+_[E-1+32*R];for(W>>=3,R=0;4>R;++R)a(_,E+32*R,W,4)}function wo(_,E){var R=_[E-1+0],W=_[E-1+32],ee=_[E-1+64],ae=_[E-1-32],de=_[E+0-32],ye=_[E+1-32],we=_[E+2-32],Se=_[E+3-32];_[E+0+96]=bn(W,ee,_[E-1+96]),_[E+1+96]=_[E+0+64]=bn(R,W,ee),_[E+2+96]=_[E+1+64]=_[E+0+32]=bn(ae,R,W),_[E+3+96]=_[E+2+64]=_[E+1+32]=_[E+0+0]=bn(de,ae,R),_[E+3+64]=_[E+2+32]=_[E+1+0]=bn(ye,de,ae),_[E+3+32]=_[E+2+0]=bn(we,ye,de),_[E+3+0]=bn(Se,we,ye)}function Ks(_,E){var R=_[E+1-32],W=_[E+2-32],ee=_[E+3-32],ae=_[E+4-32],de=_[E+5-32],ye=_[E+6-32],we=_[E+7-32];_[E+0+0]=bn(_[E+0-32],R,W),_[E+1+0]=_[E+0+32]=bn(R,W,ee),_[E+2+0]=_[E+1+32]=_[E+0+64]=bn(W,ee,ae),_[E+3+0]=_[E+2+32]=_[E+1+64]=_[E+0+96]=bn(ee,ae,de),_[E+3+32]=_[E+2+64]=_[E+1+96]=bn(ae,de,ye),_[E+3+64]=_[E+2+96]=bn(de,ye,we),_[E+3+96]=bn(ye,we,we)}function ja(_,E){var R=_[E-1+0],W=_[E-1+32],ee=_[E-1+64],ae=_[E-1-32],de=_[E+0-32],ye=_[E+1-32],we=_[E+2-32],Se=_[E+3-32];_[E+0+0]=_[E+1+64]=ae+de+1>>1,_[E+1+0]=_[E+2+64]=de+ye+1>>1,_[E+2+0]=_[E+3+64]=ye+we+1>>1,_[E+3+0]=we+Se+1>>1,_[E+0+96]=bn(ee,W,R),_[E+0+64]=bn(W,R,ae),_[E+0+32]=_[E+1+96]=bn(R,ae,de),_[E+1+32]=_[E+2+96]=bn(ae,de,ye),_[E+2+32]=_[E+3+96]=bn(de,ye,we),_[E+3+32]=bn(ye,we,Se)}function ts(_,E){var R=_[E+0-32],W=_[E+1-32],ee=_[E+2-32],ae=_[E+3-32],de=_[E+4-32],ye=_[E+5-32],we=_[E+6-32],Se=_[E+7-32];_[E+0+0]=R+W+1>>1,_[E+1+0]=_[E+0+64]=W+ee+1>>1,_[E+2+0]=_[E+1+64]=ee+ae+1>>1,_[E+3+0]=_[E+2+64]=ae+de+1>>1,_[E+0+32]=bn(R,W,ee),_[E+1+32]=_[E+0+96]=bn(W,ee,ae),_[E+2+32]=_[E+1+96]=bn(ee,ae,de),_[E+3+32]=_[E+2+96]=bn(ae,de,ye),_[E+3+64]=bn(de,ye,we),_[E+3+96]=bn(ye,we,Se)}function ms(_,E){var R=_[E-1+0],W=_[E-1+32],ee=_[E-1+64],ae=_[E-1+96];_[E+0+0]=R+W+1>>1,_[E+2+0]=_[E+0+32]=W+ee+1>>1,_[E+2+32]=_[E+0+64]=ee+ae+1>>1,_[E+1+0]=bn(R,W,ee),_[E+3+0]=_[E+1+32]=bn(W,ee,ae),_[E+3+32]=_[E+1+64]=bn(ee,ae,ae),_[E+3+64]=_[E+2+64]=_[E+0+96]=_[E+1+96]=_[E+2+96]=_[E+3+96]=ae}function bo(_,E){var R=_[E-1+0],W=_[E-1+32],ee=_[E-1+64],ae=_[E-1+96],de=_[E-1-32],ye=_[E+0-32],we=_[E+1-32],Se=_[E+2-32];_[E+0+0]=_[E+2+32]=R+de+1>>1,_[E+0+32]=_[E+2+64]=W+R+1>>1,_[E+0+64]=_[E+2+96]=ee+W+1>>1,_[E+0+96]=ae+ee+1>>1,_[E+3+0]=bn(ye,we,Se),_[E+2+0]=bn(de,ye,we),_[E+1+0]=_[E+3+32]=bn(R,de,ye),_[E+1+32]=_[E+3+64]=bn(W,R,de),_[E+1+64]=_[E+3+96]=bn(ee,W,R),_[E+1+96]=bn(ae,ee,W)}function no(_,E){var R;for(R=0;8>R;++R)i(_,E+32*R,_,E-32,8)}function gr(_,E){var R;for(R=0;8>R;++R)a(_,E,_[E-1],8),E+=32}function ai(_,E,R){var W;for(W=0;8>W;++W)a(E,R+32*W,_,8)}function zi(_,E){var R,W=8;for(R=0;8>R;++R)W+=_[E+R-32]+_[E-1+32*R];ai(W>>4,_,E)}function ro(_,E){var R,W=4;for(R=0;8>R;++R)W+=_[E+R-32];ai(W>>3,_,E)}function io(_,E){var R,W=4;for(R=0;8>R;++R)W+=_[E-1+32*R];ai(W>>3,_,E)}function xo(_,E){ai(128,_,E)}function Js(_,E,R){var W=_[E-R],ee=_[E+0],ae=3*(ee-W)+Ei[1020+_[E-2*R]-_[E+R]],de=Tr[112+(ae+4>>3)];_[E-R]=sr[255+W+Tr[112+(ae+3>>3)]],_[E+0]=sr[255+ee-de]}function Ys(_,E,R,W){var ee=_[E+0],ae=_[E+R];return Wi[255+_[E-2*R]-_[E-R]]>W||Wi[255+ae-ee]>W}function so(_,E,R,W){return 4*Wi[255+_[E-R]-_[E+0]]+Wi[255+_[E-2*R]-_[E+R]]<=W}function In(_,E,R,W,ee){var ae=_[E-3*R],de=_[E-2*R],ye=_[E-R],we=_[E+0],Se=_[E+R],Ye=_[E+2*R],_t=_[E+3*R];return 4*Wi[255+ye-we]+Wi[255+de-Se]>W?0:Wi[255+_[E-4*R]-ae]<=ee&&Wi[255+ae-de]<=ee&&Wi[255+de-ye]<=ee&&Wi[255+_t-Ye]<=ee&&Wi[255+Ye-Se]<=ee&&Wi[255+Se-we]<=ee}function gs(_,E,R,W){var ee=2*W+1;for(W=0;16>W;++W)so(_,E+W,R,ee)&&Js(_,E+W,R)}function gn(_,E,R,W){var ee=2*W+1;for(W=0;16>W;++W)so(_,E+W*R,1,ee)&&Js(_,E+W*R,1)}function Yr(_,E,R,W){var ee;for(ee=3;0<ee;--ee)gs(_,E+=4*R,R,W)}function Fa(_,E,R,W){var ee;for(ee=3;0<ee;--ee)gn(_,E+=4,R,W)}function Bs(_,E,R,W,ee,ae,de,ye){for(ae=2*ae+1;0<ee--;){if(In(_,E,R,ae,de))if(Ys(_,E,R,ye))Js(_,E,R);else{var we=_,Se=E,Ye=R,_t=we[Se-2*Ye],vt=we[Se-Ye],ot=we[Se+0],Pt=we[Se+Ye],Ct=we[Se+2*Ye],tt=27*(At=Ei[1020+3*(ot-vt)+Ei[1020+_t-Pt]])+63>>7,nt=18*At+63>>7,At=9*At+63>>7;we[Se-3*Ye]=sr[255+we[Se-3*Ye]+At],we[Se-2*Ye]=sr[255+_t+nt],we[Se-Ye]=sr[255+vt+tt],we[Se+0]=sr[255+ot-tt],we[Se+Ye]=sr[255+Pt-nt],we[Se+2*Ye]=sr[255+Ct-At]}E+=W}}function oi(_,E,R,W,ee,ae,de,ye){for(ae=2*ae+1;0<ee--;){if(In(_,E,R,ae,de))if(Ys(_,E,R,ye))Js(_,E,R);else{var we=_,Se=E,Ye=R,_t=we[Se-Ye],vt=we[Se+0],ot=we[Se+Ye],Pt=Tr[112+((Ct=3*(vt-_t))+4>>3)],Ct=Tr[112+(Ct+3>>3)],tt=Pt+1>>1;we[Se-2*Ye]=sr[255+we[Se-2*Ye]+tt],we[Se-Ye]=sr[255+_t+Ct],we[Se+0]=sr[255+vt-Pt],we[Se+Ye]=sr[255+ot-tt]}E+=W}}function Lo(_,E,R,W,ee,ae){Bs(_,E,R,1,16,W,ee,ae)}function Cr(_,E,R,W,ee,ae){Bs(_,E,1,R,16,W,ee,ae)}function Ns(_,E,R,W,ee,ae){var de;for(de=3;0<de;--de)oi(_,E+=4*R,R,1,16,W,ee,ae)}function za(_,E,R,W,ee,ae){var de;for(de=3;0<de;--de)oi(_,E+=4,1,R,16,W,ee,ae)}function _i(_,E,R,W,ee,ae,de,ye){Bs(_,E,ee,1,8,ae,de,ye),Bs(R,W,ee,1,8,ae,de,ye)}function ko(_,E,R,W,ee,ae,de,ye){Bs(_,E,1,ee,8,ae,de,ye),Bs(R,W,1,ee,8,ae,de,ye)}function Br(_,E,R,W,ee,ae,de,ye){oi(_,E+4*ee,ee,1,8,ae,de,ye),oi(R,W+4*ee,ee,1,8,ae,de,ye)}function Co(_,E,R,W,ee,ae,de,ye){oi(_,E+4,1,ee,8,ae,de,ye),oi(R,W+4,1,ee,8,ae,de,ye)}function Ts(){this.ba=new Ir,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new or,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ki(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ao(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function jo(){this.ua=0,this.Wa=new he,this.vb=new he,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new j,this.yc=new G}function Fo(){this.xb=this.a=0,this.l=new Xi,this.ca=new Ir,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new F,this.Pb=0,this.wd=new F,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new jo,this.ab=0,this.gc=c(4,ao),this.Oc=0}function So(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Xi,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Xs(_,E,R,W,ee,ae,de){for(_=_==null?0:_[E+0],E=0;E<de;++E)ee[ae+E]=_+R[W+E]&255,_=ee[ae+E]}function oo(_,E,R,W,ee,ae,de){var ye;if(_==null)Xs(null,null,R,W,ee,ae,de);else for(ye=0;ye<de;++ye)ee[ae+ye]=_[E+ye]+R[W+ye]&255}function Ua(_,E,R,W,ee,ae,de){if(_==null)Xs(null,null,R,W,ee,ae,de);else{var ye,we=_[E+0],Se=we,Ye=we;for(ye=0;ye<de;++ye)Se=Ye+(we=_[E+ye])-Se,Ye=R[W+ye]+(-256&Se?0>Se?0:255:Se)&255,Se=we,ee[ae+ye]=Ye}}function Nr(_,E,R,W){var ee=E.width,ae=E.o;if(t(_!=null&&E!=null),0>R||0>=W||R+W>ae)return null;if(!_.Cc){if(_.ga==null){var de;if(_.ga=new So,(de=_.ga==null)||(de=E.width*E.o,t(_.Gb.length==0),_.Gb=o(de),_.Uc=0,_.Gb==null?de=0:(_.mb=_.Gb,_.nb=_.Uc,_.rc=null,de=1),de=!de),!de){de=_.ga;var ye=_.Fa,we=_.P,Se=_.qc,Ye=_.mb,_t=_.nb,vt=we+1,ot=Se-1,Pt=de.l;if(t(ye!=null&&Ye!=null&&E!=null),Un[0]=null,Un[1]=Xs,Un[2]=oo,Un[3]=Ua,de.ca=Ye,de.tb=_t,de.c=E.width,de.i=E.height,t(0<de.c&&0<de.i),1>=Se)E=0;else if(de.$a=ye[we+0]>>0&3,de.Z=ye[we+0]>>2&3,de.Lc=ye[we+0]>>4&3,we=ye[we+0]>>6&3,0>de.$a||1<de.$a||4<=de.Z||1<de.Lc||we)E=0;else if(Pt.put=hs,Pt.ac=Zr,Pt.bc=Zi,Pt.ma=de,Pt.width=E.width,Pt.height=E.height,Pt.Da=E.Da,Pt.v=E.v,Pt.va=E.va,Pt.j=E.j,Pt.o=E.o,de.$a)e:{t(de.$a==1),E=ji();t:for(;;){if(E==null){E=0;break e}if(t(de!=null),de.mc=E,E.c=de.c,E.i=de.i,E.l=de.l,E.l.ma=de,E.l.width=de.c,E.l.height=de.i,E.a=0,Le(E.m,ye,vt,ot),!qs(de.c,de.i,1,E,null)||(E.ab==1&&E.gc[0].hc==3&&As(E.s)?(de.ic=1,ye=E.c*E.i,E.Ta=null,E.Ua=0,E.V=o(ye),E.Ba=0,E.V==null?(E.a=1,E=0):E=1):(de.ic=0,E=Ma(E,de.c)),!E))break t;E=1;break e}de.mc=null,E=0}else E=ot>=de.c*de.i;de=!E}if(de)return null;_.ga.Lc!=1?_.Ga=0:W=ae-R}t(_.ga!=null),t(R+W<=ae);e:{if(E=(ye=_.ga).c,ae=ye.l.o,ye.$a==0){if(vt=_.rc,ot=_.Vc,Pt=_.Fa,we=_.P+1+R*E,Se=_.mb,Ye=_.nb+R*E,t(we<=_.P+_.qc),ye.Z!=0)for(t(Un[ye.Z]!=null),de=0;de<W;++de)Un[ye.Z](vt,ot,Pt,we,Se,Ye,E),vt=Se,ot=Ye,Ye+=E,we+=E;else for(de=0;de<W;++de)i(Se,Ye,Pt,we,E),vt=Se,ot=Ye,Ye+=E,we+=E;_.rc=vt,_.Vc=ot}else{if(t(ye.mc!=null),E=R+W,t((de=ye.mc)!=null),t(E<=de.i),de.C>=E)E=1;else if(ye.ic||ft(),ye.ic){ye=de.V,vt=de.Ba,ot=de.c;var Ct=de.i,tt=(Pt=1,we=de.$/ot,Se=de.$%ot,Ye=de.m,_t=de.s,de.$),nt=ot*Ct,At=ot*E,Mt=_t.wc,Tt=tt<At?Kt(_t,Se,we):null;t(tt<=nt),t(E<=Ct),t(As(_t));t:for(;;){for(;!Ye.h&&tt<At;){if(Se&Mt||(Tt=Kt(_t,Se,we)),t(Tt!=null),Te(Ye),256>(Ct=Ri(Tt.G[0],Tt.H[0],Ye)))ye[vt+tt]=Ct,++tt,++Se>=ot&&(Se=0,++we<=E&&!(we%16)&&Ji(de,we));else{if(!(280>Ct)){Pt=0;break t}Ct=Ki(Ct-256,Ye);var Qt,l=Ri(Tt.G[4],Tt.H[4],Ye);if(Te(Ye),!(tt>=(l=Ii(ot,l=Ki(l,Ye)))&&nt-tt>=Ct)){Pt=0;break t}for(Qt=0;Qt<Ct;++Qt)ye[vt+tt+Qt]=ye[vt+tt+Qt-l];for(tt+=Ct,Se+=Ct;Se>=ot;)Se-=ot,++we<=E&&!(we%16)&&Ji(de,we);tt<At&&Se&Mt&&(Tt=Kt(_t,Se,we))}t(Ye.h==me(Ye))}Ji(de,we>E?E:we);break t}!Pt||Ye.h&&tt<nt?(Pt=0,de.a=Ye.h?5:3):de.$=tt,E=Pt}else E=Kr(de,de.V,de.Ba,de.c,de.i,E,Xa);if(!E){W=0;break e}}R+W>=ae&&(_.Cc=1),W=1}if(!W)return null;if(_.Cc&&((W=_.ga)!=null&&(W.mc=null),_.ga=null,0<_.Ga))return alert("todo:WebPDequantizeLevels"),null}return _.nb+R*ee}function M(_,E,R,W,ee,ae){for(;0<ee--;){var de,ye=_,we=E+(R?1:0),Se=_,Ye=E+(R?0:3);for(de=0;de<W;++de){var _t=Se[Ye+4*de];_t!=255&&(_t*=32897,ye[we+4*de+0]=ye[we+4*de+0]*_t>>23,ye[we+4*de+1]=ye[we+4*de+1]*_t>>23,ye[we+4*de+2]=ye[we+4*de+2]*_t>>23)}E+=ae}}function ne(_,E,R,W,ee){for(;0<W--;){var ae;for(ae=0;ae<R;++ae){var de=_[E+2*ae+0],ye=15&(Se=_[E+2*ae+1]),we=4369*ye,Se=(240&Se|Se>>4)*we>>16;_[E+2*ae+0]=(240&de|de>>4)*we>>16&240|(15&de|de<<4)*we>>16>>4&15,_[E+2*ae+1]=240&Se|ye}E+=ee}}function Ie(_,E,R,W,ee,ae,de,ye){var we,Se,Ye=255;for(Se=0;Se<ee;++Se){for(we=0;we<W;++we){var _t=_[E+we];ae[de+4*we]=_t,Ye&=_t}E+=R,de+=ye}return Ye!=255}function Ze(_,E,R,W,ee){var ae;for(ae=0;ae<ee;++ae)R[W+ae]=_[E+ae]>>8}function ft(){Gr=M,ir=ne,Qn=Ie,Er=Ze}function kt(_,E,R){Y[_]=function(W,ee,ae,de,ye,we,Se,Ye,_t,vt,ot,Pt,Ct,tt,nt,At,Mt){var Tt,Qt=Mt-1>>1,l=ye[we+0]|Se[Ye+0]<<16,h=_t[vt+0]|ot[Pt+0]<<16;t(W!=null);var m=3*l+h+131074>>2;for(E(W[ee+0],255&m,m>>16,Ct,tt),ae!=null&&(m=3*h+l+131074>>2,E(ae[de+0],255&m,m>>16,nt,At)),Tt=1;Tt<=Qt;++Tt){var y=ye[we+Tt]|Se[Ye+Tt]<<16,S=_t[vt+Tt]|ot[Pt+Tt]<<16,N=l+y+h+S+524296,z=N+2*(y+h)>>3;m=z+l>>1,l=(N=N+2*(l+S)>>3)+y>>1,E(W[ee+2*Tt-1],255&m,m>>16,Ct,tt+(2*Tt-1)*R),E(W[ee+2*Tt-0],255&l,l>>16,Ct,tt+(2*Tt-0)*R),ae!=null&&(m=N+h>>1,l=z+S>>1,E(ae[de+2*Tt-1],255&m,m>>16,nt,At+(2*Tt-1)*R),E(ae[de+2*Tt+0],255&l,l>>16,nt,At+(2*Tt+0)*R)),l=y,h=S}1&Mt||(m=3*l+h+131074>>2,E(W[ee+Mt-1],255&m,m>>16,Ct,tt+(Mt-1)*R),ae!=null&&(m=3*h+l+131074>>2,E(ae[de+Mt-1],255&m,m>>16,nt,At+(Mt-1)*R)))}}function jt(){ni[$i]=tu,ni[yn]=Wa,ni[Uo]=aa,ni[Ha]=Fs,ni[as]=La,ni[Pn]=Ho,ni[qo]=Tl,ni[Qr]=Wa,ni[Hr]=Fs,ni[js]=La,ni[r]=Ho}function Jt(_){return _&-16384?0>_?0:255:_>>Bo}function en(_,E){return Jt((19077*_>>8)+(26149*E>>8)-14234)}function _n(_,E,R){return Jt((19077*_>>8)-(6419*E>>8)-(13320*R>>8)+8708)}function kn(_,E){return Jt((19077*_>>8)+(33050*E>>8)-17685)}function Rn(_,E,R,W,ee){W[ee+0]=en(_,R),W[ee+1]=_n(_,E,R),W[ee+2]=kn(_,E)}function _r(_,E,R,W,ee){W[ee+0]=kn(_,E),W[ee+1]=_n(_,E,R),W[ee+2]=en(_,R)}function Zn(_,E,R,W,ee){var ae=_n(_,E,R);E=ae<<3&224|kn(_,E)>>3,W[ee+0]=248&en(_,R)|ae>>5,W[ee+1]=E}function rr(_,E,R,W,ee){var ae=240&kn(_,E)|15;W[ee+0]=240&en(_,R)|_n(_,E,R)>>4,W[ee+1]=ae}function Ur(_,E,R,W,ee){W[ee+0]=255,Rn(_,E,R,W,ee+1)}function Rr(_,E,R,W,ee){_r(_,E,R,W,ee),W[ee+3]=255}function ns(_,E,R,W,ee){Rn(_,E,R,W,ee),W[ee+3]=255}function cr(_,E){return 0>_?0:_>E?E:_}function li(_,E,R){Y[_]=function(W,ee,ae,de,ye,we,Se,Ye,_t){for(var vt=Ye+(-2&_t)*R;Ye!=vt;)E(W[ee+0],ae[de+0],ye[we+0],Se,Ye),E(W[ee+1],ae[de+0],ye[we+0],Se,Ye+R),ee+=2,++de,++we,Ye+=2*R;1&_t&&E(W[ee+0],ae[de+0],ye[we+0],Se,Ye)}}function qa(_,E,R){return R==0?_==0?E==0?6:5:E==0?4:0:R}function Ci(_,E,R,W,ee){switch(_>>>30){case 3:ys(E,R,W,ee,0);break;case 2:Xn(E,R,W,ee);break;case 1:vi(E,R,W,ee)}}function Eo(_,E){var R,W,ee=E.M,ae=E.Nb,de=_.oc,ye=_.pc+40,we=_.oc,Se=_.pc+584,Ye=_.oc,_t=_.pc+600;for(R=0;16>R;++R)de[ye+32*R-1]=129;for(R=0;8>R;++R)we[Se+32*R-1]=129,Ye[_t+32*R-1]=129;for(0<ee?de[ye-1-32]=we[Se-1-32]=Ye[_t-1-32]=129:(a(de,ye-32-1,127,21),a(we,Se-32-1,127,9),a(Ye,_t-32-1,127,9)),W=0;W<_.za;++W){var vt=E.ya[E.aa+W];if(0<W){for(R=-1;16>R;++R)i(de,ye+32*R-4,de,ye+32*R+12,4);for(R=-1;8>R;++R)i(we,Se+32*R-4,we,Se+32*R+4,4),i(Ye,_t+32*R-4,Ye,_t+32*R+4,4)}var ot=_.Gd,Pt=_.Hd+W,Ct=vt.ad,tt=vt.Hc;if(0<ee&&(i(de,ye-32,ot[Pt].y,0,16),i(we,Se-32,ot[Pt].f,0,8),i(Ye,_t-32,ot[Pt].ea,0,8)),vt.Za){var nt=de,At=ye-32+16;for(0<ee&&(W>=_.za-1?a(nt,At,ot[Pt].y[15],4):i(nt,At,ot[Pt+1].y,0,4)),R=0;4>R;R++)nt[At+128+R]=nt[At+256+R]=nt[At+384+R]=nt[At+0+R];for(R=0;16>R;++R,tt<<=2)nt=de,At=ye+ru[R],os[vt.Ob[R]](nt,At),Ci(tt,Ct,16*+R,nt,At)}else if(nt=qa(W,ee,vt.Ob[0]),ei[nt](de,ye),tt!=0)for(R=0;16>R;++R,tt<<=2)Ci(tt,Ct,16*+R,de,ye+ru[R]);for(R=vt.Gc,nt=qa(W,ee,vt.Dd),ti[nt](we,Se),ti[nt](Ye,_t),tt=Ct,nt=we,At=Se,255&(vt=R>>0)&&(170&vt?Gi(tt,256,nt,At):hi(tt,256,nt,At)),vt=Ye,tt=_t,255&(R>>=8)&&(170&R?Gi(Ct,320,vt,tt):hi(Ct,320,vt,tt)),ee<_.Ub-1&&(i(ot[Pt].y,0,de,ye+480,16),i(ot[Pt].f,0,we,Se+224,8),i(ot[Pt].ea,0,Ye,_t+224,8)),R=8*ae*_.B,ot=_.sa,Pt=_.ta+16*W+16*ae*_.R,Ct=_.qa,vt=_.ra+8*W+R,tt=_.Ha,nt=_.Ia+8*W+R,R=0;16>R;++R)i(ot,Pt+R*_.R,de,ye+32*R,16);for(R=0;8>R;++R)i(Ct,vt+R*_.B,we,Se+32*R,8),i(tt,nt+R*_.B,Ye,_t+32*R,8)}}function _s(_,E,R,W,ee,ae,de,ye,we){var Se=[0],Ye=[0],_t=0,vt=we!=null?we.kd:0,ot=we??new ki;if(_==null||12>R)return 7;ot.data=_,ot.w=E,ot.ha=R,E=[E],R=[R],ot.gb=[ot.gb];e:{var Pt=E,Ct=R,tt=ot.gb;if(t(_!=null),t(Ct!=null),t(tt!=null),tt[0]=0,12<=Ct[0]&&!e(_,Pt[0],"RIFF")){if(e(_,Pt[0]+8,"WEBP")){tt=3;break e}var nt=qt(_,Pt[0]+4);if(12>nt||4294967286<nt){tt=3;break e}if(vt&&nt>Ct[0]-8){tt=7;break e}tt[0]=nt,Pt[0]+=12,Ct[0]-=12}tt=0}if(tt!=0)return tt;for(nt=0<ot.gb[0],R=R[0];;){e:{var At=_;Ct=E,tt=R;var Mt=Se,Tt=Ye,Qt=Pt=[0];if((m=_t=[_t])[0]=0,8>tt[0])tt=7;else{if(!e(At,Ct[0],"VP8X")){if(qt(At,Ct[0]+4)!=10){tt=3;break e}if(18>tt[0]){tt=7;break e}var l=qt(At,Ct[0]+8),h=1+Gt(At,Ct[0]+12);if(2147483648<=h*(At=1+Gt(At,Ct[0]+15))){tt=3;break e}Qt!=null&&(Qt[0]=l),Mt!=null&&(Mt[0]=h),Tt!=null&&(Tt[0]=At),Ct[0]+=18,tt[0]-=18,m[0]=1}tt=0}}if(_t=_t[0],Pt=Pt[0],tt!=0)return tt;if(Ct=!!(2&Pt),!nt&&_t)return 3;if(ae!=null&&(ae[0]=!!(16&Pt)),de!=null&&(de[0]=Ct),ye!=null&&(ye[0]=0),de=Se[0],Pt=Ye[0],_t&&Ct&&we==null){tt=0;break}if(4>R){tt=7;break}if(nt&&_t||!nt&&!_t&&!e(_,E[0],"ALPH")){R=[R],ot.na=[ot.na],ot.P=[ot.P],ot.Sa=[ot.Sa];e:{l=_,tt=E,nt=R;var m=ot.gb;Mt=ot.na,Tt=ot.P,Qt=ot.Sa,h=22,t(l!=null),t(nt!=null),At=tt[0];var y=nt[0];for(t(Mt!=null),t(Qt!=null),Mt[0]=null,Tt[0]=null,Qt[0]=0;;){if(tt[0]=At,nt[0]=y,8>y){tt=7;break e}var S=qt(l,At+4);if(4294967286<S){tt=3;break e}var N=8+S+1&-2;if(h+=N,0<m&&h>m){tt=3;break e}if(!e(l,At,"VP8 ")||!e(l,At,"VP8L")){tt=0;break e}if(y[0]<N){tt=7;break e}e(l,At,"ALPH")||(Mt[0]=l,Tt[0]=At+8,Qt[0]=S),At+=N,y-=N}}if(R=R[0],ot.na=ot.na[0],ot.P=ot.P[0],ot.Sa=ot.Sa[0],tt!=0)break}R=[R],ot.Ja=[ot.Ja],ot.xa=[ot.xa];e:if(m=_,tt=E,nt=R,Mt=ot.gb[0],Tt=ot.Ja,Qt=ot.xa,l=tt[0],At=!e(m,l,"VP8 "),h=!e(m,l,"VP8L"),t(m!=null),t(nt!=null),t(Tt!=null),t(Qt!=null),8>nt[0])tt=7;else{if(At||h){if(m=qt(m,l+4),12<=Mt&&m>Mt-12){tt=3;break e}if(vt&&m>nt[0]-8){tt=7;break e}Tt[0]=m,tt[0]+=8,nt[0]-=8,Qt[0]=h}else Qt[0]=5<=nt[0]&&m[l+0]==47&&!(m[l+4]>>5),Tt[0]=nt[0];tt=0}if(R=R[0],ot.Ja=ot.Ja[0],ot.xa=ot.xa[0],E=E[0],tt!=0)break;if(4294967286<ot.Ja)return 3;if(ye==null||Ct||(ye[0]=ot.xa?2:1),de=[de],Pt=[Pt],ot.xa){if(5>R){tt=7;break}ye=de,vt=Pt,Ct=ae,_==null||5>R?_=0:5<=R&&_[E+0]==47&&!(_[E+4]>>5)?(nt=[0],m=[0],Mt=[0],Le(Tt=new F,_,E,R),dn(Tt,nt,m,Mt)?(ye!=null&&(ye[0]=nt[0]),vt!=null&&(vt[0]=m[0]),Ct!=null&&(Ct[0]=Mt[0]),_=1):_=0):_=0}else{if(10>R){tt=7;break}ye=Pt,_==null||10>R||!Da(_,E+3,R-3)?_=0:(vt=_[E+0]|_[E+1]<<8|_[E+2]<<16,Ct=16383&(_[E+7]<<8|_[E+6]),_=16383&(_[E+9]<<8|_[E+8]),1&vt||3<(vt>>1&7)||!(vt>>4&1)||vt>>5>=ot.Ja||!Ct||!_?_=0:(de&&(de[0]=Ct),ye&&(ye[0]=_),_=1))}if(!_||(de=de[0],Pt=Pt[0],_t&&(Se[0]!=de||Ye[0]!=Pt)))return 3;we!=null&&(we[0]=ot,we.offset=E-we.w,t(4294967286>E-we.w),t(we.offset==we.ha-R));break}return tt==0||tt==7&&_t&&we==null?(ae!=null&&(ae[0]|=ot.na!=null&&0<ot.na.length),W!=null&&(W[0]=de),ee!=null&&(ee[0]=Pt),0):tt}function Po(_,E,R){var W=E.width,ee=E.height,ae=0,de=0,ye=W,we=ee;if(E.Da=_!=null&&0<_.Da,E.Da&&(ye=_.cd,we=_.bd,ae=_.v,de=_.j,11>R||(ae&=-2,de&=-2),0>ae||0>de||0>=ye||0>=we||ae+ye>W||de+we>ee))return 0;if(E.v=ae,E.j=de,E.va=ae+ye,E.o=de+we,E.U=ye,E.T=we,E.da=_!=null&&0<_.da,E.da){if(!Pe(ye,we,R=[_.ib],ae=[_.hb]))return 0;E.ib=R[0],E.hb=ae[0]}return E.ob=_!=null&&_.ob,E.Kb=_==null||!_.Sd,E.da&&(E.ob=E.ib<3*W/4&&E.hb<3*ee/4,E.Kb=0),1}function Qs(_){if(_==null)return 2;if(11>_.S){var E=_.f.RGBA;E.fb+=(_.height-1)*E.A,E.A=-E.A}else E=_.f.kb,_=_.height,E.O+=(_-1)*E.fa,E.fa=-E.fa,E.N+=(_-1>>1)*E.Ab,E.Ab=-E.Ab,E.W+=(_-1>>1)*E.Db,E.Db=-E.Db,E.F!=null&&(E.J+=(_-1)*E.lb,E.lb=-E.lb);return 0}function ea(_,E,R,W){if(W==null||0>=_||0>=E)return 2;if(R!=null){if(R.Da){var ee=R.cd,ae=R.bd,de=-2&R.v,ye=-2&R.j;if(0>de||0>ye||0>=ee||0>=ae||de+ee>_||ye+ae>E)return 2;_=ee,E=ae}if(R.da){if(!Pe(_,E,ee=[R.ib],ae=[R.hb]))return 2;_=ee[0],E=ae[0]}}W.width=_,W.height=E;e:{var we=W.width,Se=W.height;if(_=W.S,0>=we||0>=Se||!(_>=$i&&13>_))_=2;else{if(0>=W.Rd&&W.sd==null){de=ae=ee=E=0;var Ye=(ye=we*bl[_])*Se;if(11>_||(ae=(Se+1)/2*(E=(we+1)/2),_==12&&(de=(ee=we)*Se)),(Se=o(Ye+2*ae+de))==null){_=1;break e}W.sd=Se,11>_?((we=W.f.RGBA).eb=Se,we.fb=0,we.A=ye,we.size=Ye):((we=W.f.kb).y=Se,we.O=0,we.fa=ye,we.Fd=Ye,we.f=Se,we.N=0+Ye,we.Ab=E,we.Cd=ae,we.ea=Se,we.W=0+Ye+ae,we.Db=E,we.Ed=ae,_==12&&(we.F=Se,we.J=0+Ye+2*ae),we.Tc=de,we.lb=ee)}if(E=1,ee=W.S,ae=W.width,de=W.height,ee>=$i&&13>ee)if(11>ee)_=W.f.RGBA,E&=(ye=Math.abs(_.A))*(de-1)+ae<=_.size,E&=ye>=ae*bl[ee],E&=_.eb!=null;else{_=W.f.kb,ye=(ae+1)/2,Ye=(de+1)/2,we=Math.abs(_.fa),Se=Math.abs(_.Ab);var _t=Math.abs(_.Db),vt=Math.abs(_.lb),ot=vt*(de-1)+ae;E&=we*(de-1)+ae<=_.Fd,E&=Se*(Ye-1)+ye<=_.Cd,E=(E&=_t*(Ye-1)+ye<=_.Ed)&we>=ae&Se>=ye&_t>=ye,E&=_.y!=null,E&=_.f!=null,E&=_.ea!=null,ee==12&&(E&=vt>=ae,E&=ot<=_.Tc,E&=_.F!=null)}else E=0;_=E?0:2}}return _!=0||R!=null&&R.fd&&(_=Qs(W)),_}var vr=64,Ao=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ui=24,Si=32,lo=8,ui=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];st("Predictor0","PredictorAdd0"),Y.Predictor0=function(){return 4278190080},Y.Predictor1=function(_){return _},Y.Predictor2=function(_,E,R){return E[R+0]},Y.Predictor3=function(_,E,R){return E[R+1]},Y.Predictor4=function(_,E,R){return E[R-1]},Y.Predictor5=function(_,E,R){return Ge(Ge(_,E[R+1]),E[R+0])},Y.Predictor6=function(_,E,R){return Ge(_,E[R-1])},Y.Predictor7=function(_,E,R){return Ge(_,E[R+0])},Y.Predictor8=function(_,E,R){return Ge(E[R-1],E[R+0])},Y.Predictor9=function(_,E,R){return Ge(E[R+0],E[R+1])},Y.Predictor10=function(_,E,R){return Ge(Ge(_,E[R-1]),Ge(E[R+0],E[R+1]))},Y.Predictor11=function(_,E,R){var W=E[R+0];return 0>=Bt(W>>24&255,_>>24&255,(E=E[R-1])>>24&255)+Bt(W>>16&255,_>>16&255,E>>16&255)+Bt(W>>8&255,_>>8&255,E>>8&255)+Bt(255&W,255&_,255&E)?W:_},Y.Predictor12=function(_,E,R){var W=E[R+0];return(Lt((_>>24&255)+(W>>24&255)-((E=E[R-1])>>24&255))<<24|Lt((_>>16&255)+(W>>16&255)-(E>>16&255))<<16|Lt((_>>8&255)+(W>>8&255)-(E>>8&255))<<8|Lt((255&_)+(255&W)-(255&E)))>>>0},Y.Predictor13=function(_,E,R){var W=E[R-1];return(It((_=Ge(_,E[R+0]))>>24&255,W>>24&255)<<24|It(_>>16&255,W>>16&255)<<16|It(_>>8&255,W>>8&255)<<8|It(_>>0&255,W>>0&255))>>>0};var rs=Y.PredictorAdd0;Y.PredictorAdd1=Ut,st("Predictor2","PredictorAdd2"),st("Predictor3","PredictorAdd3"),st("Predictor4","PredictorAdd4"),st("Predictor5","PredictorAdd5"),st("Predictor6","PredictorAdd6"),st("Predictor7","PredictorAdd7"),st("Predictor8","PredictorAdd8"),st("Predictor9","PredictorAdd9"),st("Predictor10","PredictorAdd10"),st("Predictor11","PredictorAdd11"),st("Predictor12","PredictorAdd12"),st("Predictor13","PredictorAdd13");var ci=Y.PredictorAdd2;wn("ColorIndexInverseTransform","MapARGB","32b",(function(_){return _>>8&255}),(function(_){return _})),wn("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(_){return _}),(function(_){return _>>8&255}));var ul,Sr=Y.ColorIndexInverseTransform,ta=Y.MapARGB,is=Y.VP8LColorIndexInverseTransformAlpha,ya=Y.MapAlpha,Os=Y.VP8LPredictorsAdd=[];Os.length=16,(Y.VP8LPredictors=[]).length=16,(Y.VP8LPredictorsAdd_C=[]).length=16,(Y.VP8LPredictors_C=[]).length=16;var Ds,Xr,qr,Is,qi,vs,wa,ys,Xn,Gi,vi,hi,Ga,Mo,uo,yi,Hi,ss,ws,na,ra,ba,bs,fi,Gr,ir,Qn,Er,lr=o(511),xs=o(2041),xa=o(225),Rs=o(767),zo=0,Ei=xs,Tr=xa,sr=Rs,Wi=lr,$i=0,yn=1,Uo=2,Ha=3,as=4,Pn=5,qo=6,Qr=7,Hr=8,js=9,r=10,d=[2,3,7],x=[3,3,11],T=[280,256,256,256,40],V=[0,1,1,1,0],fe=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],We=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],mt=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],xt=8,Rt=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Yt=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],pn=null,On=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],di=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Wr=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Pi=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Pr=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ia=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Go=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ei=[],os=[],ti=[],sa=1,co=2,Un=[],ni=[];kt("UpsampleRgbLinePair",Rn,3),kt("UpsampleBgrLinePair",_r,3),kt("UpsampleRgbaLinePair",ns,4),kt("UpsampleBgraLinePair",Rr,4),kt("UpsampleArgbLinePair",Ur,4),kt("UpsampleRgba4444LinePair",rr,2),kt("UpsampleRgb565LinePair",Zn,2);var tu=Y.UpsampleRgbLinePair,aa=Y.UpsampleBgrLinePair,Wa=Y.UpsampleRgbaLinePair,Fs=Y.UpsampleBgraLinePair,La=Y.UpsampleArgbLinePair,Ho=Y.UpsampleRgba4444LinePair,Tl=Y.UpsampleRgb565LinePair,ho=16,oa=1<<ho-1,hr=-227,pr=482,Bo=6,$r=0,Ai=o(256),Wo=o(256),cl=o(256),Mi=o(256),$o=o(pr-hr),nu=o(pr-hr);li("YuvToRgbRow",Rn,3),li("YuvToBgrRow",_r,3),li("YuvToRgbaRow",ns,4),li("YuvToBgraRow",Rr,4),li("YuvToArgbRow",Ur,4),li("YuvToRgba4444Row",rr,2),li("YuvToRgb565Row",Zn,2);var ru=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Vo=[0,2,8],iu=[8,7,6,4,4,2,2,2,1,1,1,1],$a=1;this.WebPDecodeRGBA=function(_,E,R,W,ee){var ae=yn,de=new Ts,ye=new Ir;de.ba=ye,ye.S=ae,ye.width=[ye.width],ye.height=[ye.height];var we=ye.width,Se=ye.height,Ye=new Mr;if(Ye==null||_==null)var _t=2;else t(Ye!=null),_t=_s(_,E,R,Ye.width,Ye.height,Ye.Pd,Ye.Qd,Ye.format,null);if(_t!=0?we=0:(we!=null&&(we[0]=Ye.width[0]),Se!=null&&(Se[0]=Ye.height[0]),we=1),we){ye.width=ye.width[0],ye.height=ye.height[0],W!=null&&(W[0]=ye.width),ee!=null&&(ee[0]=ye.height);e:{if(W=new Xi,(ee=new ki).data=_,ee.w=E,ee.ha=R,ee.kd=1,E=[0],t(ee!=null),((_=_s(ee.data,ee.w,ee.ha,null,null,null,E,null,ee))==0||_==7)&&E[0]&&(_=4),(E=_)==0){if(t(de!=null),W.data=ee.data,W.w=ee.w+ee.offset,W.ha=ee.ha-ee.offset,W.put=hs,W.ac=Zr,W.bc=Zi,W.ma=de,ee.xa){if((_=ji())==null){de=1;break e}if((function(vt,ot){var Pt=[0],Ct=[0],tt=[0];t:for(;;){if(vt==null)return 0;if(ot==null)return vt.a=2,0;if(vt.l=ot,vt.a=0,Le(vt.m,ot.data,ot.w,ot.ha),!dn(vt.m,Pt,Ct,tt)){vt.a=3;break t}if(vt.xb=co,ot.width=Pt[0],ot.height=Ct[0],!qs(Pt[0],Ct[0],1,vt,null))break t;return 1}return t(vt.a!=0),0})(_,W)){if(W=(E=ea(W.width,W.height,de.Oa,de.ba))==0){t:{W=_;n:for(;;){if(W==null){W=0;break t}if(t(W.s.yc!=null),t(W.s.Ya!=null),t(0<W.s.Wb),t((R=W.l)!=null),t((ee=R.ma)!=null),W.xb!=0){if(W.ca=ee.ba,W.tb=ee.tb,t(W.ca!=null),!Po(ee.Oa,R,Ha)){W.a=2;break n}if(!Ma(W,R.width)||R.da)break n;if((R.da||Wn(W.ca.S))&&ft(),11>W.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),W.ca.f.kb.F!=null&&ft()),W.Pb&&0<W.s.ua&&W.s.vb.X==null&&!K(W.s.vb,W.s.Wa.Xa)){W.a=1;break n}W.xb=0}if(!Kr(W,W.V,W.Ba,W.c,W.i,R.o,ga))break n;ee.Dc=W.Ma,W=1;break t}t(W.a!=0),W=0}W=!W}W&&(E=_.a)}else E=_.a}else{if((_=new An)==null){de=1;break e}if(_.Fa=ee.na,_.P=ee.P,_.qc=ee.Sa,_a(_,W)){if((E=ea(W.width,W.height,de.Oa,de.ba))==0){if(_.Aa=0,R=de.Oa,t((ee=_)!=null),R!=null){if(0<(we=0>(we=R.Md)?0:100<we?255:255*we/100)){for(Se=Ye=0;4>Se;++Se)12>(_t=ee.pb[Se]).lc&&(_t.ia=we*iu[0>_t.lc?0:_t.lc]>>3),Ye|=_t.ia;Ye&&(alert("todo:VP8InitRandom"),ee.ia=1)}ee.Ga=R.Id,100<ee.Ga?ee.Ga=100:0>ee.Ga&&(ee.Ga=0)}Ln(_,W)||(E=_.a)}}else E=_.a}E==0&&de.Oa!=null&&de.Oa.fd&&(E=Qs(de.ba))}de=E}ae=de!=0?null:11>ae?ye.f.RGBA.eb:ye.f.kb.y}else ae=null;return ae};var bl=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function v(Y,ue){for(var Me="",J=0;J<4;J++)Me+=String.fromCharCode(Y[ue++]);return Me}function b(Y,ue){return(Y[ue+0]<<0|Y[ue+1]<<8|Y[ue+2]<<16)>>>0}function k(Y,ue){return(Y[ue+0]<<0|Y[ue+1]<<8|Y[ue+2]<<16|Y[ue+3]<<24)>>>0}new p;var P=[0],w=[0],O=[],A=new p,I=s,B=(function(Y,ue){var Me={},J=0,G=!1,se=0,j=0;if(Me.frames=[],!(function(ce,me,_e,Te){for(var Je=0;Je<Te;Je++)if(ce[me+Je]!=_e.charCodeAt(Je))return!0;return!1})(Y,ue,"RIFF",4)){for(k(Y,ue+=4),ue+=8;ue<Y.length;){var Ae=v(Y,ue),Ue=k(Y,ue+=4);ue+=4;var je=Ue+(1&Ue);switch(Ae){case"VP8 ":case"VP8L":Me.frames[J]===void 0&&(Me.frames[J]={}),(Ee=Me.frames[J]).src_off=G?j:ue-8,Ee.src_size=se+Ue+8,J++,G&&(G=!1,se=0,j=0);break;case"VP8X":(Ee=Me.header={}).feature_flags=Y[ue];var Le=ue+4;Ee.canvas_width=1+b(Y,Le),Le+=3,Ee.canvas_height=1+b(Y,Le),Le+=3;break;case"ALPH":G=!0,se=je+8,j=ue-8;break;case"ANIM":(Ee=Me.header).bgcolor=k(Y,ue),Le=ue+4,Ee.loop_count=(re=Y)[(F=Le)+0]<<0|re[F+1]<<8,Le+=2;break;case"ANMF":var Be,Ee;(Ee=Me.frames[J]={}).offset_x=2*b(Y,ue),ue+=3,Ee.offset_y=2*b(Y,ue),ue+=3,Ee.width=1+b(Y,ue),ue+=3,Ee.height=1+b(Y,ue),ue+=3,Ee.duration=b(Y,ue),ue+=3,Be=Y[ue++],Ee.dispose=1&Be,Ee.blend=Be>>1&1}Ae!="ANMF"&&(ue+=je)}var re,F;return Me}})(I,0);B.response=I,B.rgbaoutput=!0,B.dataurl=!1;var U=B.header?B.header:null,Z=B.frames?B.frames:null;if(U){U.loop_counter=U.loop_count,P=[U.canvas_height],w=[U.canvas_width];for(var le=0;le<Z.length&&Z[le].blend!=0;le++);}var pe=Z[0],ie=A.WebPDecodeRGBA(I,pe.src_off,pe.src_size,w,P);pe.rgba=ie,pe.imgwidth=w[0],pe.imgheight=P[0];for(var $=0;$<w[0]*P[0]*4;$++)O[$]=ie[$];return this.width=w,this.height=P,this.data=O,this}(function(s){var t=function(){return typeof vd=="function"},e=function(P,w,O,A){var I=4,B=c;switch(A){case s.image_compression.FAST:I=1,B=o;break;case s.image_compression.MEDIUM:I=6,B=f;break;case s.image_compression.SLOW:I=9,B=p}P=i(P,w,O,B);var U=vd(P,{level:I});return s.__addimage__.arrayBufferToBinaryString(U)},i=function(P,w,O,A){for(var I,B,U,Z=P.length/w,le=new Uint8Array(P.length+Z),pe=b(),ie=0;ie<Z;ie+=1){if(U=ie*w,I=P.subarray(U,U+w),A)le.set(A(I,O,B),U+ie);else{for(var $,Y=pe.length,ue=[];$<Y;$+=1)ue[$]=pe[$](I,O,B);var Me=k(ue.concat());le.set(ue[Me],U+ie)}B=I}return le},a=function(P){var w=Array.apply([],P);return w.unshift(0),w},o=function(P,w){var O,A=[],I=P.length;A[0]=1;for(var B=0;B<I;B+=1)O=P[B-w]||0,A[B+1]=P[B]-O+256&255;return A},c=function(P,w,O){var A,I=[],B=P.length;I[0]=2;for(var U=0;U<B;U+=1)A=O&&O[U]||0,I[U+1]=P[U]-A+256&255;return I},f=function(P,w,O){var A,I,B=[],U=P.length;B[0]=3;for(var Z=0;Z<U;Z+=1)A=P[Z-w]||0,I=O&&O[Z]||0,B[Z+1]=P[Z]+256-(A+I>>>1)&255;return B},p=function(P,w,O){var A,I,B,U,Z=[],le=P.length;Z[0]=4;for(var pe=0;pe<le;pe+=1)A=P[pe-w]||0,I=O&&O[pe]||0,B=O&&O[pe-w]||0,U=v(A,I,B),Z[pe+1]=P[pe]-U+256&255;return Z},v=function(P,w,O){if(P===w&&w===O)return P;var A=Math.abs(w-O),I=Math.abs(P-O),B=Math.abs(P+w-O-O);return A<=I&&A<=B?P:I<=B?w:O},b=function(){return[a,o,c,f,p]},k=function(P){var w=P.map((function(O){return O.reduce((function(A,I){return A+Math.abs(I)}),0)}));return w.indexOf(Math.min.apply(null,w))};s.processPNG=function(P,w,O,A){var I,B,U,Z,le,pe,ie,$,Y,ue,Me,J,G,se,j,Ae=this.decode.FLATE_DECODE,Ue="";if(this.__addimage__.isArrayBuffer(P)&&(P=new Uint8Array(P)),this.__addimage__.isArrayBufferView(P)){if(P=(U=new r5(P)).imgData,B=U.bits,I=U.colorSpace,le=U.colors,[4,6].indexOf(U.colorType)!==-1){if(U.bits===8){Y=($=U.pixelBitlength==32?new Uint32Array(U.decodePixels().buffer):U.pixelBitlength==16?new Uint16Array(U.decodePixels().buffer):new Uint8Array(U.decodePixels().buffer)).length,Me=new Uint8Array(Y*U.colors),ue=new Uint8Array(Y);var je,Le=U.pixelBitlength-U.bits;for(se=0,j=0;se<Y;se++){for(G=$[se],je=0;je<Le;)Me[j++]=G>>>je&255,je+=U.bits;ue[se]=G>>>je&255}}if(U.bits===16){Y=($=new Uint32Array(U.decodePixels().buffer)).length,Me=new Uint8Array(Y*(32/U.pixelBitlength)*U.colors),ue=new Uint8Array(Y*(32/U.pixelBitlength)),J=U.colors>1,se=0,j=0;for(var Be=0;se<Y;)G=$[se++],Me[j++]=G>>>0&255,J&&(Me[j++]=G>>>16&255,G=$[se++],Me[j++]=G>>>0&255),ue[Be++]=G>>>16&255;B=8}A!==s.image_compression.NONE&&t()?(P=e(Me,U.width*U.colors,U.colors,A),ie=e(ue,U.width,1,A)):(P=Me,ie=ue,Ae=void 0)}if(U.colorType===3&&(I=this.color_spaces.INDEXED,pe=U.palette,U.transparency.indexed)){var Ee=U.transparency.indexed,re=0;for(se=0,Y=Ee.length;se<Y;++se)re+=Ee[se];if((re/=255)===Y-1&&Ee.indexOf(0)!==-1)Z=[Ee.indexOf(0)];else if(re!==Y){for($=U.decodePixels(),ue=new Uint8Array($.length),se=0,Y=$.length;se<Y;se++)ue[se]=Ee[$[se]];ie=e(ue,U.width,1)}}var F=(function(ce){var me;switch(ce){case s.image_compression.FAST:me=11;break;case s.image_compression.MEDIUM:me=13;break;case s.image_compression.SLOW:me=14;break;default:me=12}return me})(A);return Ae===this.decode.FLATE_DECODE&&(Ue="/Predictor "+F+" "),Ue+="/Colors "+le+" /BitsPerComponent "+B+" /Columns "+U.width,(this.__addimage__.isArrayBuffer(P)||this.__addimage__.isArrayBufferView(P))&&(P=this.__addimage__.arrayBufferToBinaryString(P)),(ie&&this.__addimage__.isArrayBuffer(ie)||this.__addimage__.isArrayBufferView(ie))&&(ie=this.__addimage__.arrayBufferToBinaryString(ie)),{alias:O,data:P,index:w,filter:Ae,decodeParameters:Ue,transparency:Z,palette:pe,sMask:ie,predictor:F,width:U.width,height:U.height,bitsPerComponent:B,colorSpace:I}}}})(Bn.API),(function(s){s.processGIF89A=function(t,e,i,a){var o=new i5(t),c=o.width,f=o.height,p=[];o.decodeAndBlitFrameRGBA(0,p);var v={data:p,width:c,height:f},b=new Yf(100).encode(v,100);return s.processJPEG.call(this,b,e,i,a)},s.processGIF87A=s.processGIF89A})(Bn.API),nl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var s=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(s);for(var t=0;t<s;t++){var e=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:i,blue:e,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},nl.prototype.parseBGR=function(){this.pos=this.offset;try{var s="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[s]()}catch(e){Or.log("bit decode error:"+e)}},nl.prototype.bit1=function(){var s,t=Math.ceil(this.width/8),e=t%4;for(s=this.height-1;s>=0;s--){for(var i=this.bottom_up?s:this.height-1-s,a=0;a<t;a++)for(var o=this.datav.getUint8(this.pos++,!0),c=i*this.width*4+8*a*4,f=0;f<8&&8*a+f<this.width;f++){var p=this.palette[o>>7-f&1];this.data[c+4*f]=p.blue,this.data[c+4*f+1]=p.green,this.data[c+4*f+2]=p.red,this.data[c+4*f+3]=255}e!==0&&(this.pos+=4-e)}},nl.prototype.bit4=function(){for(var s=Math.ceil(this.width/2),t=s%4,e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,a=0;a<s;a++){var o=this.datav.getUint8(this.pos++,!0),c=i*this.width*4+2*a*4,f=o>>4,p=15&o,v=this.palette[f];if(this.data[c]=v.blue,this.data[c+1]=v.green,this.data[c+2]=v.red,this.data[c+3]=255,2*a+1>=this.width)break;v=this.palette[p],this.data[c+4]=v.blue,this.data[c+4+1]=v.green,this.data[c+4+2]=v.red,this.data[c+4+3]=255}t!==0&&(this.pos+=4-t)}},nl.prototype.bit8=function(){for(var s=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*i;if(a<this.palette.length){var c=this.palette[a];this.data[o]=c.red,this.data[o+1]=c.green,this.data[o+2]=c.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}s!==0&&(this.pos+=4-s)}},nl.prototype.bit15=function(){for(var s=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&t)/t*255|0,f=(o>>5&t)/t*255|0,p=(o>>10&t)/t*255|0,v=o>>15?255:0,b=i*this.width*4+4*a;this.data[b]=p,this.data[b+1]=f,this.data[b+2]=c,this.data[b+3]=v}this.pos+=s}},nl.prototype.bit16=function(){for(var s=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var a=this.bottom_up?i:this.height-1-i,o=0;o<this.width;o++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var f=(c&t)/t*255|0,p=(c>>5&e)/e*255|0,v=(c>>11)/t*255|0,b=a*this.width*4+4*o;this.data[b]=v,this.data[b+1]=p,this.data[b+2]=f,this.data[b+3]=255}this.pos+=s}},nl.prototype.bit24=function(){for(var s=this.height-1;s>=0;s--){for(var t=this.bottom_up?s:this.height-1-s,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*e;this.data[c]=o,this.data[c+1]=a,this.data[c+2]=i,this.data[c+3]=255}this.pos+=this.width%4}},nl.prototype.bit32=function(){for(var s=this.height-1;s>=0;s--)for(var t=this.bottom_up?s:this.height-1-s,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),f=t*this.width*4+4*e;this.data[f]=o,this.data[f+1]=a,this.data[f+2]=i,this.data[f+3]=c}},nl.prototype.getData=function(){return this.data},(function(s){s.processBMP=function(t,e,i,a){var o=new nl(t,!1),c=o.width,f=o.height,p={data:o.getData(),width:c,height:f},v=new Yf(100).encode(p,100);return s.processJPEG.call(this,v,e,i,a)}})(Bn.API),sm.prototype.getData=function(){return this.data},(function(s){s.processWEBP=function(t,e,i,a){var o=new sm(t),c=o.width,f=o.height,p={data:o.getData(),width:c,height:f},v=new Yf(100).encode(p,100);return s.processJPEG.call(this,v,e,i,a)}})(Bn.API),Bn.API.processRGBA=function(s,t,e){for(var i=s.data,a=i.length,o=new Uint8Array(a/4*3),c=new Uint8Array(a/4),f=0,p=0,v=0;v<a;v+=4){var b=i[v],k=i[v+1],P=i[v+2],w=i[v+3];o[f++]=b,o[f++]=k,o[f++]=P,c[p++]=w}var O=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:O,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:s.width,height:s.height}},Bn.API.setLanguage=function(s){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[s]!==void 0&&(this.internal.languageSettings.languageCode=s,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},Ju=Bn.API,kh=Ju.getCharWidthsArray=function(s,t){var e,i,a=(t=t||{}).font||this.internal.getFont(),o=t.fontSize||this.internal.getFontSize(),c=t.charSpace||this.internal.getCharSpace(),f=t.widths?t.widths:a.metadata.Unicode.widths,p=f.fof?f.fof:1,v=t.kerning?t.kerning:a.metadata.Unicode.kerning,b=v.fof?v.fof:1,k=t.doKerning!==!1,P=0,w=s.length,O=0,A=f[0]||p,I=[];for(e=0;e<w;e++)i=s.charCodeAt(e),typeof a.metadata.widthOfString=="function"?I.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(i))+c*(1e3/o)||0)/1e3):(P=k&&Lr(v[i])==="object"&&!isNaN(parseInt(v[i][O],10))?v[i][O]/b:0,I.push((f[i]||A)/p+P)),O=i;return I},tm=Ju.getStringUnitWidth=function(s,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return Ju.processArabic&&(s=Ju.processArabic(s)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(s,e,a)/e:kh.apply(this,arguments).reduce((function(o,c){return o+c}),0)},nm=function(s,t,e,i){for(var a=[],o=0,c=s.length,f=0;o!==c&&f+t[o]<e;)f+=t[o],o++;a.push(s.slice(0,o));var p=o;for(f=0;o!==c;)f+t[o]>i&&(a.push(s.slice(p,o)),f=0,p=o),f+=t[o],o++;return p!==o&&a.push(s.slice(p,o)),a},rm=function(s,t,e){e||(e={});var i,a,o,c,f,p,v,b=[],k=[b],P=e.textIndent||0,w=0,O=0,A=s.split(" "),I=kh.apply(this,[" ",e])[0];if(p=e.lineIndent===-1?A[0].length+2:e.lineIndent||0){var B=Array(p).join(" "),U=[];A.map((function(le){(le=le.split(/\s*\n/)).length>1?U=U.concat(le.map((function(pe,ie){return(ie&&pe.length?`
`:"")+pe}))):U.push(le[0])})),A=U,p=tm.apply(this,[B,e])}for(o=0,c=A.length;o<c;o++){var Z=0;if(i=A[o],p&&i[0]==`
`&&(i=i.substr(1),Z=1),P+w+(O=(a=kh.apply(this,[i,e])).reduce((function(le,pe){return le+pe}),0))>t||Z){if(O>t){for(f=nm.apply(this,[i,a,t-(P+w),t]),b.push(f.shift()),b=[f.pop()];f.length;)k.push([f.shift()]);O=a.slice(i.length-(b[0]?b[0].length:0)).reduce((function(le,pe){return le+pe}),0)}else b=[i];k.push(b),P=O+p,w=I}else b.push(i),P+=w+O,w=I}return v=p?function(le,pe){return(pe?B:"")+le.join(" ")}:function(le){return le.join(" ")},k.map(v)},Ju.splitTextToSize=function(s,t,e){var i,a=(e=e||{}).fontSize||this.internal.getFontSize(),o=(function(b){if(b.widths&&b.kerning)return{widths:b.widths,kerning:b.kerning};var k=this.internal.getFont(b.fontName,b.fontStyle);return k.metadata.Unicode?{widths:k.metadata.Unicode.widths||{0:1},kerning:k.metadata.Unicode.kerning||{}}:{font:k.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);i=Array.isArray(s)?s:String(s).split(/\r?\n/);var c=1*this.internal.scaleFactor*t/a;o.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=e.lineIndent;var f,p,v=[];for(f=0,p=i.length;f<p;f++)v=v.concat(rm.apply(this,[i[f],c,o]));return v},(function(s){s.__fontmetrics__=s.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",e={},i={},a=0;a<t.length;a++)e[t[a]]="0123456789abcdef"[a],i["0123456789abcdef"[a]]=t[a];var o=function(k){return"0x"+parseInt(k,10).toString(16)},c=s.__fontmetrics__.compress=function(k){var P,w,O,A,I=["{"];for(var B in k){if(P=k[B],isNaN(parseInt(B,10))?w="'"+B+"'":(B=parseInt(B,10),w=(w=o(B).slice(2)).slice(0,-1)+i[w.slice(-1)]),typeof P=="number")P<0?(O=o(P).slice(3),A="-"):(O=o(P).slice(2),A=""),O=A+O.slice(0,-1)+i[O.slice(-1)];else{if(Lr(P)!=="object")throw new Error("Don't know what to do with value type "+Lr(P)+".");O=c(P)}I.push(w+O)}return I.push("}"),I.join("")},f=s.__fontmetrics__.uncompress=function(k){if(typeof k!="string")throw new Error("Invalid argument passed to uncompress.");for(var P,w,O,A,I={},B=1,U=I,Z=[],le="",pe="",ie=k.length-1,$=1;$<ie;$+=1)(A=k[$])=="'"?P?(O=P.join(""),P=void 0):P=[]:P?P.push(A):A=="{"?(Z.push([U,O]),U={},O=void 0):A=="}"?((w=Z.pop())[0][w[1]]=U,O=void 0,U=w[0]):A=="-"?B=-1:O===void 0?e.hasOwnProperty(A)?(le+=e[A],O=parseInt(le,16)*B,B=1,le=""):le+=A:e.hasOwnProperty(A)?(pe+=e[A],U[O]=parseInt(pe,16)*B,B=1,O=void 0,pe=""):pe+=A;return I},p={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},v={Unicode:{Courier:p,"Courier-Bold":p,"Courier-BoldOblique":p,"Courier-Oblique":p,Helvetica:p,"Helvetica-Bold":p,"Helvetica-BoldOblique":p,"Helvetica-Oblique":p,"Times-Roman":p,"Times-Bold":p,"Times-BoldItalic":p,"Times-Italic":p}},b={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};s.events.push(["addFont",function(k){var P=k.font,w=b.Unicode[P.postScriptName];w&&(P.metadata.Unicode={},P.metadata.Unicode.widths=w.widths,P.metadata.Unicode.kerning=w.kerning);var O=v.Unicode[P.postScriptName];O&&(P.metadata.Unicode.encoding=O,P.encoding=O.codePages[0])}])})(Bn.API),(function(s){var t=function(e){for(var i=e.length,a=new Uint8Array(i),o=0;o<i;o++)a[o]=e.charCodeAt(o);return a};s.API.events.push(["addFont",function(e){var i=void 0,a=e.font,o=e.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(i=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(c,f){f=/^\x00\x01\x00\x00/.test(f)?t(f):t(Bc(f)),c.metadata=s.API.TTFFont.open(f),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(a,i)}}])})(Bn),(function(s){function t(){return(Nn.canvg?Promise.resolve(Nn.canvg):Yl(()=>import("./index.es-BbUUE1wn.js"),[])).catch((function(e){return Promise.reject(new Error("Could not load canvg: "+e))})).then((function(e){return e.default?e.default:e}))}Bn.API.addSvgAsImage=function(e,i,a,o,c,f,p,v){if(isNaN(i)||isNaN(a))throw Or.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(c))throw Or.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var b=document.createElement("canvas");b.width=o,b.height=c;var k=b.getContext("2d");k.fillStyle="#fff",k.fillRect(0,0,b.width,b.height);var P={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},w=this;return t().then((function(O){return O.fromString(k,e,P)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(O){return O.render(P)})).then((function(){w.addImage(b.toDataURL("image/jpeg",1),i,a,o,c,p,v)}))}})(),Bn.API.putTotalPages=function(s){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(s,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(s,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var a=0;a<this.internal.pages[i].length;a++)this.internal.pages[i][a]=this.internal.pages[i][a].replace(t,e);return this},Bn.API.viewerPreferences=function(s,t){var e;s=s||{},t=t||!1;var i,a,o,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},f=Object.keys(c),p=[],v=0,b=0,k=0;function P(O,A){var I,B=!1;for(I=0;I<O.length;I+=1)O[I]===A&&(B=!0);return B}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,s==="reset"||t===!0){var w=f.length;for(k=0;k<w;k+=1)e[f[k]].value=e[f[k]].defaultValue,e[f[k]].explicitSet=!1}if(Lr(s)==="object"){for(a in s)if(o=s[a],P(f,a)&&o!==void 0){if(e[a].type==="boolean"&&typeof o=="boolean")e[a].value=o;else if(e[a].type==="name"&&P(e[a].valueSet,o))e[a].value=o;else if(e[a].type==="integer"&&Number.isInteger(o))e[a].value=o;else if(e[a].type==="array"){for(v=0;v<o.length;v+=1)if(i=!0,o[v].length===1&&typeof o[v][0]=="number")p.push(String(o[v]-1));else if(o[v].length>1){for(b=0;b<o[v].length;b+=1)typeof o[v][b]!="number"&&(i=!1);i===!0&&p.push([o[v][0]-1,o[v][1]-1].join(" "))}e[a].value="["+p.join(" ")+"]"}else e[a].value=e[a].defaultValue;e[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){var O,A=[];for(O in e)e[O].explicitSet===!0&&(e[O].type==="name"?A.push("/"+O+" /"+e[O].value):A.push("/"+O+" "+e[O].value));A.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+A.join(`
`)+`
>>`)})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},(function(s){var t=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(i)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),f=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),p=unescape(encodeURIComponent("</x:xmpmeta>")),v=o.length+c.length+f.length+a.length+p.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+v+" >>"),this.internal.write("stream"),this.internal.write(a+o+c+f+p),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};s.addMetadata=function(i,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}})(Bn.API),(function(s){var t=s.API,e=t.pdfEscape16=function(o,c){for(var f,p=c.metadata.Unicode.widths,v=["","0","00","000","0000"],b=[""],k=0,P=o.length;k<P;++k){if(f=c.metadata.characterToGlyph(o.charCodeAt(k)),c.metadata.glyIdsUsed.push(f),c.metadata.toUnicode[f]=o.charCodeAt(k),p.indexOf(f)==-1&&(p.push(f),p.push([parseInt(c.metadata.widthOfGlyph(f),10)])),f=="0")return b.join("");f=f.toString(16),b.push(v[4-f.length],f)}return b.join("")},i=function(o){var c,f,p,v,b,k,P;for(b=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,p=[],k=0,P=(f=Object.keys(o).sort((function(w,O){return w-O}))).length;k<P;k++)c=f[k],p.length>=100&&(b+=`
`+p.length+` beginbfchar
`+p.join(`
`)+`
endbfchar`,p=[]),o[c]!==void 0&&o[c]!==null&&typeof o[c].toString=="function"&&(v=("0000"+o[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),p.push("<"+c+"><"+v+">"));return p.length&&(b+=`
`+p.length+` beginbfchar
`+p.join(`
`)+`
endbfchar
`),b+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(o){(function(c){var f=c.font,p=c.out,v=c.newObject,b=c.putStream;if(f.metadata instanceof s.API.TTFFont&&f.encoding==="Identity-H"){for(var k=f.metadata.Unicode.widths,P=f.metadata.subset.encode(f.metadata.glyIdsUsed,1),w="",O=0;O<P.length;O++)w+=String.fromCharCode(P[O]);var A=v();b({data:w,addLength1:!0,objectId:A}),p("endobj");var I=v();b({data:i(f.metadata.toUnicode),addLength1:!0,objectId:I}),p("endobj");var B=v();p("<<"),p("/Type /FontDescriptor"),p("/FontName /"+ec(f.fontName)),p("/FontFile2 "+A+" 0 R"),p("/FontBBox "+s.API.PDFObject.convert(f.metadata.bbox)),p("/Flags "+f.metadata.flags),p("/StemV "+f.metadata.stemV),p("/ItalicAngle "+f.metadata.italicAngle),p("/Ascent "+f.metadata.ascender),p("/Descent "+f.metadata.decender),p("/CapHeight "+f.metadata.capHeight),p(">>"),p("endobj");var U=v();p("<<"),p("/Type /Font"),p("/BaseFont /"+ec(f.fontName)),p("/FontDescriptor "+B+" 0 R"),p("/W "+s.API.PDFObject.convert(k)),p("/CIDToGIDMap /Identity"),p("/DW 1000"),p("/Subtype /CIDFontType2"),p("/CIDSystemInfo"),p("<<"),p("/Supplement 0"),p("/Registry (Adobe)"),p("/Ordering ("+f.encoding+")"),p(">>"),p(">>"),p("endobj"),f.objectNumber=v(),p("<<"),p("/Type /Font"),p("/Subtype /Type0"),p("/ToUnicode "+I+" 0 R"),p("/BaseFont /"+ec(f.fontName)),p("/Encoding /"+f.encoding),p("/DescendantFonts ["+U+" 0 R]"),p(">>"),p("endobj"),f.isAlreadyPutted=!0}})(o)}]),t.events.push(["putFont",function(o){(function(c){var f=c.font,p=c.out,v=c.newObject,b=c.putStream;if(f.metadata instanceof s.API.TTFFont&&f.encoding==="WinAnsiEncoding"){for(var k=f.metadata.rawData,P="",w=0;w<k.length;w++)P+=String.fromCharCode(k[w]);var O=v();b({data:P,addLength1:!0,objectId:O}),p("endobj");var A=v();b({data:i(f.metadata.toUnicode),addLength1:!0,objectId:A}),p("endobj");var I=v();p("<<"),p("/Descent "+f.metadata.decender),p("/CapHeight "+f.metadata.capHeight),p("/StemV "+f.metadata.stemV),p("/Type /FontDescriptor"),p("/FontFile2 "+O+" 0 R"),p("/Flags 96"),p("/FontBBox "+s.API.PDFObject.convert(f.metadata.bbox)),p("/FontName /"+ec(f.fontName)),p("/ItalicAngle "+f.metadata.italicAngle),p("/Ascent "+f.metadata.ascender),p(">>"),p("endobj"),f.objectNumber=v();for(var B=0;B<f.metadata.hmtx.widths.length;B++)f.metadata.hmtx.widths[B]=parseInt(f.metadata.hmtx.widths[B]*(1e3/f.metadata.head.unitsPerEm));p("<</Subtype/TrueType/Type/Font/ToUnicode "+A+" 0 R/BaseFont/"+ec(f.fontName)+"/FontDescriptor "+I+" 0 R/Encoding/"+f.encoding+" /FirstChar 29 /LastChar 255 /Widths "+s.API.PDFObject.convert(f.metadata.hmtx.widths)+">>"),p("endobj"),f.isAlreadyPutted=!0}})(o)}]);var a=function(o){var c,f=o.text||"",p=o.x,v=o.y,b=o.options||{},k=o.mutex||{},P=k.pdfEscape,w=k.activeFontKey,O=k.fonts,A=w,I="",B=0,U="",Z=O[A].encoding;if(O[A].encoding!=="Identity-H")return{text:f,x:p,y:v,options:b,mutex:k};for(U=f,A=w,Array.isArray(f)&&(U=f[0]),B=0;B<U.length;B+=1)O[A].metadata.hasOwnProperty("cmap")&&(c=O[A].metadata.cmap.unicode.codeMap[U[B].charCodeAt(0)]),c||U[B].charCodeAt(0)<256&&O[A].metadata.hasOwnProperty("Unicode")?I+=U[B]:I+="";var le="";return parseInt(A.slice(1))<14||Z==="WinAnsiEncoding"?le=P(I,A).split("").map((function(pe){return pe.charCodeAt(0).toString(16)})).join(""):Z==="Identity-H"&&(le=e(I,O[A])),k.isHex=!0,{text:le,x:p,y:v,options:b,mutex:k}};t.events.push(["postProcessText",function(o){var c=o.text||"",f=[],p={text:c,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(c)){var v=0;for(v=0;v<c.length;v+=1)Array.isArray(c[v])&&c[v].length===3?f.push([a(Object.assign({},p,{text:c[v][0]})).text,c[v][1],c[v][2]]):f.push(a(Object.assign({},p,{text:c[v]})).text);o.text=f}else o.text=a(Object.assign({},p,{text:c})).text}])})(Bn),(function(s){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};s.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},s.addFileToVFS=function(e,i){return t.call(this),this.internal.vFS[e]=i,this},s.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}})(Bn.API),(function(s){s.__bidiEngine__=s.prototype.__bidiEngine__=function(i){var a,o,c,f,p,v,b,k=t,P=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],w=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],O={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},A={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},I=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],B=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),U=!1,Z=0;this.__bidiEngine__={};var le=function(J){var G=J.charCodeAt(),se=G>>8,j=A[se];return j!==void 0?k[256*j+(255&G)]:se===252||se===253?"AL":B.test(se)?"L":se===8?"R":"N"},pe=function(J){for(var G,se=0;se<J.length;se++){if((G=le(J.charAt(se)))==="L")return!1;if(G==="R")return!0}return!1},ie=function(J,G,se,j){var Ae,Ue,je,Le,Be=G[j];switch(Be){case"L":case"R":U=!1;break;case"N":case"AN":break;case"EN":U&&(Be="AN");break;case"AL":U=!0,Be="R";break;case"WS":Be="N";break;case"CS":j<1||j+1>=G.length||(Ae=se[j-1])!=="EN"&&Ae!=="AN"||(Ue=G[j+1])!=="EN"&&Ue!=="AN"?Be="N":U&&(Ue="AN"),Be=Ue===Ae?Ue:"N";break;case"ES":Be=(Ae=j>0?se[j-1]:"B")==="EN"&&j+1<G.length&&G[j+1]==="EN"?"EN":"N";break;case"ET":if(j>0&&se[j-1]==="EN"){Be="EN";break}if(U){Be="N";break}for(je=j+1,Le=G.length;je<Le&&G[je]==="ET";)je++;Be=je<Le&&G[je]==="EN"?"EN":"N";break;case"NSM":if(c&&!f){for(Le=G.length,je=j+1;je<Le&&G[je]==="NSM";)je++;if(je<Le){var Ee=J[j],re=Ee>=1425&&Ee<=2303||Ee===64286;if(Ae=G[je],re&&(Ae==="R"||Ae==="AL")){Be="R";break}}}Be=j<1||(Ae=G[j-1])==="B"?"N":se[j-1];break;case"B":U=!1,a=!0,Be=Z;break;case"S":o=!0,Be="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":U=!1;break;case"BN":Be="N"}return Be},$=function(J,G,se){var j=J.split("");return se&&Y(j,se,{hiLevel:Z}),j.reverse(),G&&G.reverse(),j.join("")},Y=function(J,G,se){var j,Ae,Ue,je,Le,Be=-1,Ee=J.length,re=0,F=[],ce=Z?w:P,me=[];for(U=!1,a=!1,o=!1,Ae=0;Ae<Ee;Ae++)me[Ae]=le(J[Ae]);for(Ue=0;Ue<Ee;Ue++){if(Le=re,F[Ue]=ie(J,me,F,Ue),j=240&(re=ce[Le][O[F[Ue]]]),re&=15,G[Ue]=je=ce[re][5],j>0)if(j===16){for(Ae=Be;Ae<Ue;Ae++)G[Ae]=1;Be=-1}else Be=-1;if(ce[re][6])Be===-1&&(Be=Ue);else if(Be>-1){for(Ae=Be;Ae<Ue;Ae++)G[Ae]=je;Be=-1}me[Ue]==="B"&&(G[Ue]=0),se.hiLevel|=je}o&&(function(_e,Te,Je){for(var $e=0;$e<Je;$e++)if(_e[$e]==="S"){Te[$e]=Z;for(var Xe=$e-1;Xe>=0&&_e[Xe]==="WS";Xe--)Te[Xe]=Z}})(me,G,Ee)},ue=function(J,G,se,j,Ae){if(!(Ae.hiLevel<J)){if(J===1&&Z===1&&!a)return G.reverse(),void(se&&se.reverse());for(var Ue,je,Le,Be,Ee=G.length,re=0;re<Ee;){if(j[re]>=J){for(Le=re+1;Le<Ee&&j[Le]>=J;)Le++;for(Be=re,je=Le-1;Be<je;Be++,je--)Ue=G[Be],G[Be]=G[je],G[je]=Ue,se&&(Ue=se[Be],se[Be]=se[je],se[je]=Ue);re=Le}re++}}},Me=function(J,G,se){var j=J.split(""),Ae={hiLevel:Z};return se||(se=[]),Y(j,se,Ae),(function(Ue,je,Le){if(Le.hiLevel!==0&&b)for(var Be,Ee=0;Ee<Ue.length;Ee++)je[Ee]===1&&(Be=I.indexOf(Ue[Ee]))>=0&&(Ue[Ee]=I[Be+1])})(j,se,Ae),ue(2,j,G,se,Ae),ue(1,j,G,se,Ae),j.join("")};return this.__bidiEngine__.doBidiReorder=function(J,G,se){if((function(Ae,Ue){if(Ue)for(var je=0;je<Ae.length;je++)Ue[je]=je;f===void 0&&(f=pe(Ae)),v===void 0&&(v=pe(Ae))})(J,G),c||!p||v)if(c&&p&&f^v)Z=f?1:0,J=$(J,G,se);else if(!c&&p&&v)Z=f?1:0,J=Me(J,G,se),J=$(J,G);else if(!c||f||p||v){if(c&&!p&&f^v)J=$(J,G),f?(Z=0,J=Me(J,G,se)):(Z=1,J=Me(J,G,se),J=$(J,G));else if(c&&f&&!p&&v)Z=1,J=Me(J,G,se),J=$(J,G);else if(!c&&!p&&f^v){var j=b;f?(Z=1,J=Me(J,G,se),Z=0,b=!1,J=Me(J,G,se),b=j):(Z=0,J=Me(J,G,se),J=$(J,G),Z=1,b=!1,J=Me(J,G,se),b=j,J=$(J,G))}}else Z=0,J=Me(J,G,se);else Z=f?1:0,J=Me(J,G,se);return J},this.__bidiEngine__.setOptions=function(J){J&&(c=J.isInputVisual,p=J.isOutputVisual,f=J.isInputRtl,v=J.isOutputRtl,b=J.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new s.__bidiEngine__({isInputVisual:!0});s.API.events.push(["postProcessText",function(i){var a=i.text;i.x,i.y;var o=i.options||{};i.mutex,o.lang;var c=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,e.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var f=0;for(c=[],f=0;f<a.length;f+=1)Object.prototype.toString.call(a[f])==="[object Array]"?c.push([e.doBidiReorder(a[f][0]),a[f][1],a[f][2]]):c.push([e.doBidiReorder(a[f])]);i.text=c}else i.text=e.doBidiReorder(a);e.setOptions({isInputVisual:!0})}])})(Bn),Bn.API.TTFFont=(function(){function s(t){var e;if(this.rawData=t,e=this.contents=new Ql(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new y5(this),this.registerTTF()}return s.open=function(t){return new s(t)},s.prototype.parse=function(){return this.directory=new s5(this.contents),this.head=new o5(this),this.name=new f5(this),this.cmap=new Cg(this),this.toUnicode={},this.hhea=new l5(this),this.maxp=new d5(this),this.hmtx=new p5(this),this.post=new c5(this),this.os2=new u5(this),this.loca=new v5(this),this.glyf=new m5(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},s.prototype.registerTTF=function(){var t,e,i,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,f,p,v;for(v=[],c=0,f=(p=this.bbox).length;c<f;c++)t=p[c],v.push(Math.round(t*this.scaleFactor));return v}).call(this),this.stemV=0,this.post.exists?(i=255&(a=this.post.italic_angle),(32768&(e=a>>16))!=0&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},s.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},s.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},s.prototype.widthOfString=function(t,e,i){var a,o,c,f;for(c=0,o=0,f=(t=""+t).length;0<=f?o<f:o>f;o=0<=f?++o:--o)a=t.charCodeAt(o),c+=this.widthOfGlyph(this.characterToGlyph(a))+i*(1e3/e)||0;return c*(e/1e3)},s.prototype.lineHeight=function(t,e){var i;return e==null&&(e=!1),i=e?this.lineGap:0,(this.ascender+i-this.decender)/1e3*t},s})();var ll,Ql=(function(){function s(t){this.data=t??[],this.pos=0,this.length=this.data.length}return s.prototype.readByte=function(){return this.data[this.pos++]},s.prototype.writeByte=function(t){return this.data[this.pos++]=t},s.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},s.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},s.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},s.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},s.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},s.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},s.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},s.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},s.prototype.readString=function(t){var e,i;for(i=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)i[e]=String.fromCharCode(this.readByte());return i.join("")},s.prototype.writeString=function(t){var e,i,a;for(a=[],e=0,i=t.length;0<=i?e<i:e>i;e=0<=i?++e:--e)a.push(this.writeByte(t.charCodeAt(e)));return a},s.prototype.readShort=function(){return this.readInt16()},s.prototype.writeShort=function(t){return this.writeInt16(t)},s.prototype.readLongLong=function(){var t,e,i,a,o,c,f,p;return t=this.readByte(),e=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),c=this.readByte(),f=this.readByte(),p=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^i)+4294967296*(255^a)+16777216*(255^o)+65536*(255^c)+256*(255^f)+(255^p)+1):72057594037927940*t+281474976710656*e+1099511627776*i+4294967296*a+16777216*o+65536*c+256*f+p},s.prototype.writeLongLong=function(t){var e,i;return e=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},s.prototype.readInt=function(){return this.readInt32()},s.prototype.writeInt=function(t){return this.writeInt32(t)},s.prototype.read=function(t){var e,i;for(e=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)e.push(this.readByte());return e},s.prototype.write=function(t){var e,i,a,o;for(o=[],i=0,a=t.length;i<a;i++)e=t[i],o.push(this.writeByte(e));return o},s})(),s5=(function(){var s;function t(e){var i,a,o;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)i={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[i.tag]=i}return t.prototype.encode=function(e){var i,a,o,c,f,p,v,b,k,P,w,O,A;for(A in w=Object.keys(e).length,p=Math.log(2),k=16*Math.floor(Math.log(w)/p),c=Math.floor(k/p),b=16*w-k,(a=new Ql).writeInt(this.scalarType),a.writeShort(w),a.writeShort(k),a.writeShort(c),a.writeShort(b),o=16*w,v=a.pos+o,f=null,O=[],e)for(P=e[A],a.writeString(A),a.writeInt(s(P)),a.writeInt(v),a.writeInt(P.length),O=O.concat(P),A==="head"&&(f=v),v+=P.length;v%4;)O.push(0),v++;return a.write(O),i=2981146554-s(a.data),a.pos=f+8,a.writeUInt32(i),a.data},s=function(e){var i,a,o,c;for(e=Sg.call(e);e.length%4;)e.push(0);for(o=new Ql(e),a=0,i=0,c=e.length;i<c;i=i+=4)a+=o.readUInt32();return 4294967295&a},t})(),a5={}.hasOwnProperty,yl=function(s,t){for(var e in t)a5.call(t,e)&&(s[e]=t[e]);function i(){this.constructor=s}return i.prototype=t.prototype,s.prototype=new i,s.__super__=t.prototype,s};ll=(function(){function s(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return s.prototype.parse=function(){},s.prototype.encode=function(){},s.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},s})();var o5=(function(s){function t(){return t.__super__.constructor.apply(this,arguments)}return yl(t,ll),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var i;return(i=new Ql).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(e),i.writeShort(this.glyphDataFormat),i.data},t})(),am=(function(){function s(t,e){var i,a,o,c,f,p,v,b,k,P,w,O,A,I,B,U,Z;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),k=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(p=0;p<256;++p)this.codeMap[p]=t.readByte();break;case 4:for(w=t.readUInt16(),P=w/2,t.pos+=6,o=(function(){var le,pe;for(pe=[],p=le=0;0<=P?le<P:le>P;p=0<=P?++le:--le)pe.push(t.readUInt16());return pe})(),t.pos+=2,A=(function(){var le,pe;for(pe=[],p=le=0;0<=P?le<P:le>P;p=0<=P?++le:--le)pe.push(t.readUInt16());return pe})(),v=(function(){var le,pe;for(pe=[],p=le=0;0<=P?le<P:le>P;p=0<=P?++le:--le)pe.push(t.readUInt16());return pe})(),b=(function(){var le,pe;for(pe=[],p=le=0;0<=P?le<P:le>P;p=0<=P?++le:--le)pe.push(t.readUInt16());return pe})(),a=(this.length-t.pos+this.offset)/2,f=(function(){var le,pe;for(pe=[],p=le=0;0<=a?le<a:le>a;p=0<=a?++le:--le)pe.push(t.readUInt16());return pe})(),p=B=0,Z=o.length;B<Z;p=++B)for(I=o[p],i=U=O=A[p];O<=I?U<=I:U>=I;i=O<=I?++U:--U)b[p]===0?c=i+v[p]:(c=f[b[p]/2+(i-O)-(P-p)]||0)!==0&&(c+=v[p]),this.codeMap[i]=65535&c}t.pos=k}return s.encode=function(t,e){var i,a,o,c,f,p,v,b,k,P,w,O,A,I,B,U,Z,le,pe,ie,$,Y,ue,Me,J,G,se,j,Ae,Ue,je,Le,Be,Ee,re,F,ce,me,_e,Te,Je,$e,Xe,Nt,Ot,Gt;switch(j=new Ql,c=Object.keys(t).sort((function(qt,K){return qt-K})),e){case"macroman":for(A=0,I=(function(){var qt=[];for(O=0;O<256;++O)qt.push(0);return qt})(),U={0:0},o={},Ae=0,Be=c.length;Ae<Be;Ae++)U[Xe=t[a=c[Ae]]]==null&&(U[Xe]=++A),o[a]={old:t[a],new:U[t[a]]},I[a]=U[t[a]];return j.writeUInt16(1),j.writeUInt16(0),j.writeUInt32(12),j.writeUInt16(0),j.writeUInt16(262),j.writeUInt16(0),j.write(I),{charMap:o,subtable:j.data,maxGlyphID:A+1};case"unicode":for(G=[],k=[],Z=0,U={},i={},B=v=null,Ue=0,Ee=c.length;Ue<Ee;Ue++)U[pe=t[a=c[Ue]]]==null&&(U[pe]=++Z),i[a]={old:pe,new:U[pe]},f=U[pe]-a,B!=null&&f===v||(B&&k.push(B),G.push(a),v=f),B=a;for(B&&k.push(B),k.push(65535),G.push(65535),Me=2*(ue=G.length),Y=2*Math.pow(Math.log(ue)/Math.LN2,2),P=Math.log(Y/2)/Math.LN2,$=2*ue-Y,p=[],ie=[],w=[],O=je=0,re=G.length;je<re;O=++je){if(J=G[O],b=k[O],J===65535){p.push(0),ie.push(0);break}if(J-(se=i[J].new)>=32768)for(p.push(0),ie.push(2*(w.length+ue-O)),a=Le=J;J<=b?Le<=b:Le>=b;a=J<=b?++Le:--Le)w.push(i[a].new);else p.push(se-J),ie.push(0)}for(j.writeUInt16(3),j.writeUInt16(1),j.writeUInt32(12),j.writeUInt16(4),j.writeUInt16(16+8*ue+2*w.length),j.writeUInt16(0),j.writeUInt16(Me),j.writeUInt16(Y),j.writeUInt16(P),j.writeUInt16($),Je=0,F=k.length;Je<F;Je++)a=k[Je],j.writeUInt16(a);for(j.writeUInt16(0),$e=0,ce=G.length;$e<ce;$e++)a=G[$e],j.writeUInt16(a);for(Nt=0,me=p.length;Nt<me;Nt++)f=p[Nt],j.writeUInt16(f);for(Ot=0,_e=ie.length;Ot<_e;Ot++)le=ie[Ot],j.writeUInt16(le);for(Gt=0,Te=w.length;Gt<Te;Gt++)A=w[Gt],j.writeUInt16(A);return{charMap:i,subtable:j.data,maxGlyphID:Z+1}}},s})(),Cg=(function(s){function t(){return t.__super__.constructor.apply(this,arguments)}return yl(t,ll),t.prototype.tag="cmap",t.prototype.parse=function(e){var i,a,o;for(e.pos=this.offset,this.version=e.readUInt16(),o=e.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=o?a<o:a>o;a=0<=o?++a:--a)i=new am(e,this.offset),this.tables.push(i),i.isUnicode&&this.unicode==null&&(this.unicode=i);return!0},t.encode=function(e,i){var a,o;return i==null&&(i="macroman"),a=am.encode(e,i),(o=new Ql).writeUInt16(0),o.writeUInt16(1),a.table=o.data.concat(a.subtable),a},t})(),l5=(function(s){function t(){return t.__super__.constructor.apply(this,arguments)}return yl(t,ll),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),u5=(function(s){function t(){return t.__super__.constructor.apply(this,arguments)}return yl(t,ll),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var i,a;for(a=[],i=0;i<10;++i)a.push(e.readByte());return a})(),this.charRange=(function(){var i,a;for(a=[],i=0;i<4;++i)a.push(e.readInt());return a})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var i,a;for(a=[],i=0;i<2;i=++i)a.push(e.readInt());return a})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),c5=(function(s){function t(){return t.__super__.constructor.apply(this,arguments)}return yl(t,ll),t.prototype.tag="post",t.prototype.parse=function(e){var i,a,o;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:var c;for(a=e.readUInt16(),this.glyphNameIndex=[],c=0;0<=a?c<a:c>a;c=0<=a?++c:--c)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],o=[];e.pos<this.offset+this.length;)i=e.readByte(),o.push(this.names.push(e.readString(i)));return o;case 151552:return a=e.readUInt16(),this.offsets=e.read(a);case 196608:break;case 262144:return this.map=(function(){var f,p,v;for(v=[],c=f=0,p=this.file.maxp.numGlyphs;0<=p?f<p:f>p;c=0<=p?++f:--f)v.push(e.readUInt32());return v}).call(this)}},t})(),h5=function(s,t){this.raw=s,this.length=s.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},f5=(function(s){function t(){return t.__super__.constructor.apply(this,arguments)}return yl(t,ll),t.prototype.tag="name",t.prototype.parse=function(e){var i,a,o,c,f,p,v,b,k,P,w;for(e.pos=this.offset,e.readShort(),i=e.readShort(),p=e.readShort(),a=[],c=0;0<=i?c<i:c>i;c=0<=i?++c:--c)a.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+p+e.readShort()});for(v={},c=k=0,P=a.length;k<P;c=++k)o=a[c],e.pos=o.offset,b=e.readString(o.length),f=new h5(b,o),v[w=o.nameID]==null&&(v[w]=[]),v[o.nameID].push(f);this.strings=v,this.copyright=v[0],this.fontFamily=v[1],this.fontSubfamily=v[2],this.uniqueSubfamily=v[3],this.fontName=v[4],this.version=v[5];try{this.postscriptName=v[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=v[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=v[7],this.manufacturer=v[8],this.designer=v[9],this.description=v[10],this.vendorUrl=v[11],this.designerUrl=v[12],this.license=v[13],this.licenseUrl=v[14],this.preferredFamily=v[15],this.preferredSubfamily=v[17],this.compatibleFull=v[18],this.sampleText=v[19]},t})(),d5=(function(s){function t(){return t.__super__.constructor.apply(this,arguments)}return yl(t,ll),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),p5=(function(s){function t(){return t.__super__.constructor.apply(this,arguments)}return yl(t,ll),t.prototype.tag="hmtx",t.prototype.parse=function(e){var i,a,o,c,f,p,v;for(e.pos=this.offset,this.metrics=[],i=0,p=this.file.hhea.numberOfMetrics;0<=p?i<p:i>p;i=0<=p?++i:--i)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var b,k;for(k=[],i=b=0;0<=o?b<o:b>o;i=0<=o?++b:--b)k.push(e.readInt16());return k})(),this.widths=(function(){var b,k,P,w;for(w=[],b=0,k=(P=this.metrics).length;b<k;b++)c=P[b],w.push(c.advance);return w}).call(this),a=this.widths[this.widths.length-1],v=[],i=f=0;0<=o?f<o:f>o;i=0<=o?++f:--f)v.push(this.widths.push(a));return v},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),Sg=[].slice,m5=(function(s){function t(){return t.__super__.constructor.apply(this,arguments)}return yl(t,ll),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var i,a,o,c,f,p,v,b,k,P;return e in this.cache?this.cache[e]:(c=this.file.loca,i=this.file.contents,a=c.indexOf(e),(o=c.lengthOf(e))===0?this.cache[e]=null:(i.pos=this.offset+a,f=(p=new Ql(i.read(o))).readShort(),b=p.readShort(),P=p.readShort(),v=p.readShort(),k=p.readShort(),this.cache[e]=f===-1?new _5(p,b,P,v,k):new g5(p,f,b,P,v,k),this.cache[e]))},t.prototype.encode=function(e,i,a){var o,c,f,p,v;for(f=[],c=[],p=0,v=i.length;p<v;p++)o=e[i[p]],c.push(f.length),o&&(f=f.concat(o.encode(a)));return c.push(f.length),{table:f,offsets:c}},t})(),g5=(function(){function s(t,e,i,a,o,c){this.raw=t,this.numberOfContours=e,this.xMin=i,this.yMin=a,this.xMax=o,this.yMax=c,this.compound=!1}return s.prototype.encode=function(){return this.raw.data},s})(),_5=(function(){function s(t,e,i,a,o){var c,f;for(this.raw=t,this.xMin=e,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;f=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&f;)c.pos+=1&f?4:2,128&f?c.pos+=8:64&f?c.pos+=4:8&f&&(c.pos+=2)}return s.prototype.encode=function(){var t,e,i;for(e=new Ql(Sg.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)e.pos=this.glyphOffsets[t];return e.data},s})(),v5=(function(s){function t(){return t.__super__.constructor.apply(this,arguments)}return yl(t,ll),t.prototype.tag="loca",t.prototype.parse=function(e){var i,a;return e.pos=this.offset,i=this.file.head.indexToLocFormat,this.offsets=i===0?(function(){var o,c;for(c=[],a=0,o=this.length;a<o;a+=2)c.push(2*e.readUInt16());return c}).call(this):(function(){var o,c;for(c=[],a=0,o=this.length;a<o;a+=4)c.push(e.readUInt32());return c}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,i){for(var a=new Uint32Array(this.offsets.length),o=0,c=0,f=0;f<a.length;++f)if(a[f]=o,c<i.length&&i[c]==f){++c,a[f]=o;var p=this.offsets[f],v=this.offsets[f+1]-p;v>0&&(o+=v)}for(var b=new Array(4*a.length),k=0;k<a.length;++k)b[4*k+3]=255&a[k],b[4*k+2]=(65280&a[k])>>8,b[4*k+1]=(16711680&a[k])>>16,b[4*k]=(4278190080&a[k])>>24;return b},t})(),y5=(function(){function s(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return s.prototype.generateCmap=function(){var t,e,i,a,o;for(e in a=this.font.cmap.tables[0].codeMap,t={},o=this.subset)i=o[e],t[e]=a[i];return t},s.prototype.glyphsFor=function(t){var e,i,a,o,c,f,p;for(a={},c=0,f=t.length;c<f;c++)a[o=t[c]]=this.font.glyf.glyphFor(o);for(o in e=[],a)(i=a[o])!=null&&i.compound&&e.push.apply(e,i.glyphIDs);if(e.length>0)for(o in p=this.glyphsFor(e))i=p[o],a[o]=i;return a},s.prototype.encode=function(t,e){var i,a,o,c,f,p,v,b,k,P,w,O,A,I,B;for(a in i=Cg.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(t),w={0:0},B=i.charMap)w[(p=B[a]).old]=p.new;for(O in P=i.maxGlyphID,c)O in w||(w[O]=P++);return b=(function(U){var Z,le;for(Z in le={},U)le[U[Z]]=Z;return le})(w),k=Object.keys(b).sort((function(U,Z){return U-Z})),A=(function(){var U,Z,le;for(le=[],U=0,Z=k.length;U<Z;U++)f=k[U],le.push(b[f]);return le})(),o=this.font.glyf.encode(c,A,w),v=this.font.loca.encode(o.offsets,A),I={cmap:this.font.cmap.raw(),glyf:o.table,loca:v,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(I["OS/2"]=this.font.os2.raw()),this.font.directory.encode(I)},s})();Bn.API.PDFObject=(function(){var s;function t(){}return s=function(e,i){return(Array(i+1).join("0")+e).slice(-i)},t.convert=function(e){var i,a,o,c;if(Array.isArray(e))return"["+(function(){var f,p,v;for(v=[],f=0,p=e.length;f<p;f++)i=e[f],v.push(t.convert(i));return v})().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e?.isString)return"("+e+")";if(e instanceof Date)return"(D:"+s(e.getUTCFullYear(),4)+s(e.getUTCMonth(),2)+s(e.getUTCDate(),2)+s(e.getUTCHours(),2)+s(e.getUTCMinutes(),2)+s(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(a in o=["<<"],e)c=e[a],o.push("/"+a+" "+t.convert(c));return o.push(">>"),o.join(`
`)}return""+e},t})();var w5="2.0.3",b5=[].slice,x5={};function Cd(s){if(!(s>=1))throw new Error;this._size=s,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}Cd.prototype=Pg.prototype={constructor:Cd,defer:function(s){if(typeof s!="function"||this._call)throw new Error;if(this._error!=null)return this;var t=b5.call(arguments,1);return t.push(s),++this._waiting,this._tasks.push(t),Eg(this),this},abort:function(){return this._error==null&&Wd(this,new Error("abort")),this},await:function(s){if(typeof s!="function"||this._call)throw new Error;return this._call=function(t,e){s.apply(null,[t].concat(e))},jh(this),this},awaitAll:function(s){if(typeof s!="function"||this._call)throw new Error;return this._call=s,jh(this),this}};function Eg(s){if(!s._start)try{L5(s)}catch(t){s._tasks[s._ended+s._active-1]&&Wd(s,t)}}function L5(s){for(;s._start=s._waiting&&s._active<s._size;){var t=s._ended+s._active,e=s._tasks[t],i=e.length-1,a=e[i];e[i]=k5(s,t),--s._waiting,++s._active,e=a.apply(null,e),s._tasks[t]&&(s._tasks[t]=e||x5)}}function k5(s,t){return function(e,i){s._tasks[t]&&(--s._active,++s._ended,s._tasks[t]=null,s._error==null&&(e!=null?Wd(s,e):(s._data[t]=i,s._waiting?Eg(s):jh(s))))}}function Wd(s,t){var e=s._tasks.length,i;for(s._error=t,s._data=void 0,s._waiting=NaN;--e>=0;)if((i=s._tasks[e])&&(s._tasks[e]=null,i.abort))try{i.abort()}catch{}s._active=NaN,jh(s)}function jh(s){!s._active&&s._call&&s._call(s._error,s._data)}function Pg(s){return new Cd(arguments.length?+s:1/0)}const C5=Object.freeze(Object.defineProperty({__proto__:null,queue:Pg,version:w5},Symbol.toStringTag,{value:"Module"})),S5=pm(C5);var Xf,om;function E5(){if(om)return Xf;om=1;var s=S5.queue,t=+new Date;return Xf=function(i,a){var o=!!L.mapbox,c=i.getSize(),f=new s(1),p=document.createElement("canvas");p.width=c.x,p.height=c.y;var v=p.getContext("2d"),b=document.createElement("canvas");b.width=1,b.height=1;var k=b.getContext("2d");if(k.fillStyle="rgba(0,0,0,0)",k.fillRect(0,0,1,1),i.eachLayer(w),i.eachLayer(A),i._pathRoot)f.defer(Z,i._pathRoot);else if(i._panes){var P=i._panes.overlayPane.getElementsByTagName("canvas").item(0);P&&f.defer(Z,P)}i.eachLayer(O),f.awaitAll(B);function w(Y){Y instanceof L.TileLayer?f.defer(U,Y):Y._heat&&f.defer(Z,Y._canvas)}function O(Y){Y instanceof L.Marker&&Y.options.icon instanceof L.Icon&&f.defer(le,Y)}function A(Y){L.esri&&Y instanceof L.esri.DynamicMapLayer&&f.defer(pe,Y)}function I(){a(null,p)}function B(Y,ue){if(Y)throw Y;ue.forEach(function(Me){Me&&Me.canvas&&v.drawImage(Me.canvas,0,0)}),I()}function U(Y,ue){var Me=L.TileLayer.Canvas&&Y instanceof L.TileLayer.Canvas,J=document.createElement("canvas");J.width=c.x,J.height=c.y;var G=J.getContext("2d"),se=i.getPixelBounds(),j=i.getZoom(),Ae=Y.options.tileSize;if(j>Y.options.maxZoom||j<Y.options.minZoom||o&&Y instanceof L.mapbox.tileLayer&&!Y.options.tiles)return ue();var Ue=L.bounds(se.min.divideBy(Ae)._floor(),se.max.divideBy(Ae)._floor()),je=[],Le,Be,Ee=new s(1);for(Le=Ue.min.y;Le<=Ue.max.y;Le++)for(Be=Ue.min.x;Be<=Ue.max.x;Be++)je.push(new L.Point(Be,Le));je.forEach(function(_e){var Te=_e.clone();Y._adjustTilePoint&&Y._adjustTilePoint(_e);var Je=Te.scaleBy(new L.Point(Ae,Ae)).subtract(se.min);if(_e.y>=0)if(Me){var $e=Y._tiles[_e.x+":"+_e.y];Ee.defer(re,$e,Je,Ae)}else{var Xe=ie(Y.getTileUrl(_e));Ee.defer(F,Xe,Je,Ae)}}),Ee.awaitAll(ce);function re(_e,Te,Je,$e){$e(null,{img:_e,pos:Te,size:Je})}function F(_e,Te,Je,$e){var Xe=new Image;Xe.crossOrigin="",Xe.onload=function(){$e(null,{img:this,pos:Te,size:Je})},Xe.onerror=function(Nt){Y.options.errorTileUrl!=""&&Nt.target.errorCheck===void 0?(Nt.target.errorCheck=!0,Nt.target.src=Y.options.errorTileUrl):$e(null,{img:b,pos:Te,size:Je})},Xe.src=_e}function ce(_e,Te){Te.forEach(me),ue(null,{canvas:J})}function me(_e){G.drawImage(_e.img,Math.floor(_e.pos.x),Math.floor(_e.pos.y),_e.size,_e.size)}}function Z(Y,ue){var Me=i.getPixelBounds(),J=i.getPixelOrigin(),G=document.createElement("canvas");G.width=c.x,G.height=c.y;var se=G.getContext("2d"),j=L.DomUtil.getPosition(Y).subtract(Me.min).add(J);try{se.drawImage(Y,j.x,j.y,G.width-j.x*2,G.height-j.y*2),ue(null,{canvas:G})}catch{console.error("Element could not be drawn on canvas",Y)}}function le(Y,ue){var Me=document.createElement("canvas"),J=Me.getContext("2d"),G=i.getPixelBounds(),se=new L.Point(G.min.x,G.min.y),j=i.project(Y.getLatLng()),Ae=/^data\:/.test(Y._icon.src),Ue=Ae?Y._icon.src:ie(Y._icon.src),je=new Image,Le=Y.options.icon.options,Be=Le.iconSize,Ee=j.subtract(se),re=L.point(Le.iconAnchor||Be&&Be.divideBy(2,!0));Be instanceof L.Point&&(Be=[Be.x,Be.y]);var F=Math.round(Ee.x-Be[0]+re.x),ce=Math.round(Ee.y-re.y);Me.width=c.x,Me.height=c.y,je.crossOrigin="",je.onload=function(){J.drawImage(this,F,ce,Be[0],Be[1]),ue(null,{canvas:Me})},je.src=Ue,Ae&&je.onload()}function pe(Y,ue){var Me=document.createElement("canvas");Me.width=c.x,Me.height=c.y;var J=Me.getContext("2d"),G=new Image;G.crossOrigin="",G.src=ie(Y._currentImage._image.src),G.onload=function(){J.drawImage(G,0,0),ue(null,{canvas:Me})}}function ie(Y){return $(Y)||Y.indexOf("mapbox.com/styles/v1")!==-1?Y:Y+(Y.match(/\?/)?"&":"?")+"cache="+t}function $(Y){var ue=/^\s*data:([a-z]+\/[a-z]+(;[a-z\-]+\=[a-z\-]+)?)?(;base64)?,[a-z0-9\!\$\&\'\,\(\)\*\+\,\;\=\-\.\_\~\:\@\/\?\%\s]*\s*$/i;return!!Y.match(ue)}},Xf}var P5=E5();const A5=wu(P5);var lm={},um;function M5(){return um||(um=1,(()=>{var s=Object.create,t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.getPrototypeOf,o=Object.prototype.hasOwnProperty,c=(l,h)=>()=>(h||l((h={exports:{}}).exports,h),h.exports),f=(l,h,m,y)=>{if(h&&typeof h=="object"||typeof h=="function")for(let S of i(h))!o.call(l,S)&&S!==m&&t(l,S,{get:()=>h[S],enumerable:!(y=e(h,S))||y.enumerable});return l},p=(l,h,m)=>(m=l!=null?s(a(l)):{},f(h||!l||!l.__esModule?t(m,"default",{value:l,enumerable:!0}):m,l)),v=c((l,h)=>{function m(){this.__data__=[],this.size=0}h.exports=m}),b=c((l,h)=>{function m(y,S){return y===S||y!==y&&S!==S}h.exports=m}),k=c((l,h)=>{var m=b();function y(S,N){for(var z=S.length;z--;)if(m(S[z][0],N))return z;return-1}h.exports=y}),P=c((l,h)=>{var m=k(),y=Array.prototype,S=y.splice;function N(z){var H=this.__data__,X=m(H,z);if(X<0)return!1;var te=H.length-1;return X==te?H.pop():S.call(H,X,1),--this.size,!0}h.exports=N}),w=c((l,h)=>{var m=k();function y(S){var N=this.__data__,z=m(N,S);return z<0?void 0:N[z][1]}h.exports=y}),O=c((l,h)=>{var m=k();function y(S){return m(this.__data__,S)>-1}h.exports=y}),A=c((l,h)=>{var m=k();function y(S,N){var z=this.__data__,H=m(z,S);return H<0?(++this.size,z.push([S,N])):z[H][1]=N,this}h.exports=y}),I=c((l,h)=>{var m=v(),y=P(),S=w(),N=O(),z=A();function H(X){var te=-1,Re=X==null?0:X.length;for(this.clear();++te<Re;){var Ne=X[te];this.set(Ne[0],Ne[1])}}H.prototype.clear=m,H.prototype.delete=y,H.prototype.get=S,H.prototype.has=N,H.prototype.set=z,h.exports=H}),B=c((l,h)=>{var m=I();function y(){this.__data__=new m,this.size=0}h.exports=y}),U=c((l,h)=>{function m(y){var S=this.__data__,N=S.delete(y);return this.size=S.size,N}h.exports=m}),Z=c((l,h)=>{function m(y){return this.__data__.get(y)}h.exports=m}),le=c((l,h)=>{function m(y){return this.__data__.has(y)}h.exports=m}),pe=c((l,h)=>{var m=typeof Kl=="object"&&Kl&&Kl.Object===Object&&Kl;h.exports=m}),ie=c((l,h)=>{var m=pe(),y=typeof self=="object"&&self&&self.Object===Object&&self,S=m||y||Function("return this")();h.exports=S}),$=c((l,h)=>{var m=ie(),y=m.Symbol;h.exports=y}),Y=c((l,h)=>{var m=$(),y=Object.prototype,S=y.hasOwnProperty,N=y.toString,z=m?m.toStringTag:void 0;function H(X){var te=S.call(X,z),Re=X[z];try{X[z]=void 0;var Ne=!0}catch{}var ut=N.call(X);return Ne&&(te?X[z]=Re:delete X[z]),ut}h.exports=H}),ue=c((l,h)=>{var m=Object.prototype,y=m.toString;function S(N){return y.call(N)}h.exports=S}),Me=c((l,h)=>{var m=$(),y=Y(),S=ue(),N="[object Null]",z="[object Undefined]",H=m?m.toStringTag:void 0;function X(te){return te==null?te===void 0?z:N:H&&H in Object(te)?y(te):S(te)}h.exports=X}),J=c((l,h)=>{function m(y){var S=typeof y;return y!=null&&(S=="object"||S=="function")}h.exports=m}),G=c((l,h)=>{var m=Me(),y=J(),S="[object AsyncFunction]",N="[object Function]",z="[object GeneratorFunction]",H="[object Proxy]";function X(te){if(!y(te))return!1;var Re=m(te);return Re==N||Re==z||Re==S||Re==H}h.exports=X}),se=c((l,h)=>{var m=ie(),y=m["__core-js_shared__"];h.exports=y}),j=c((l,h)=>{var m=se(),y=(function(){var N=/[^.]+$/.exec(m&&m.keys&&m.keys.IE_PROTO||"");return N?"Symbol(src)_1."+N:""})();function S(N){return!!y&&y in N}h.exports=S}),Ae=c((l,h)=>{var m=Function.prototype,y=m.toString;function S(N){if(N!=null){try{return y.call(N)}catch{}try{return N+""}catch{}}return""}h.exports=S}),Ue=c((l,h)=>{var m=G(),y=j(),S=J(),N=Ae(),z=/[\\^$.*+?()[\]{}|]/g,H=/^\[object .+?Constructor\]$/,X=Function.prototype,te=Object.prototype,Re=X.toString,Ne=te.hasOwnProperty,ut=RegExp("^"+Re.call(Ne).replace(z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function gt(Et){if(!S(Et)||y(Et))return!1;var Wt=m(Et)?ut:H;return Wt.test(N(Et))}h.exports=gt}),je=c((l,h)=>{function m(y,S){return y?.[S]}h.exports=m}),Le=c((l,h)=>{var m=Ue(),y=je();function S(N,z){var H=y(N,z);return m(H)?H:void 0}h.exports=S}),Be=c((l,h)=>{var m=Le(),y=ie(),S=m(y,"Map");h.exports=S}),Ee=c((l,h)=>{var m=Le(),y=m(Object,"create");h.exports=y}),re=c((l,h)=>{var m=Ee();function y(){this.__data__=m?m(null):{},this.size=0}h.exports=y}),F=c((l,h)=>{function m(y){var S=this.has(y)&&delete this.__data__[y];return this.size-=S?1:0,S}h.exports=m}),ce=c((l,h)=>{var m=Ee(),y="__lodash_hash_undefined__",S=Object.prototype,N=S.hasOwnProperty;function z(H){var X=this.__data__;if(m){var te=X[H];return te===y?void 0:te}return N.call(X,H)?X[H]:void 0}h.exports=z}),me=c((l,h)=>{var m=Ee(),y=Object.prototype,S=y.hasOwnProperty;function N(z){var H=this.__data__;return m?H[z]!==void 0:S.call(H,z)}h.exports=N}),_e=c((l,h)=>{var m=Ee(),y="__lodash_hash_undefined__";function S(N,z){var H=this.__data__;return this.size+=this.has(N)?0:1,H[N]=m&&z===void 0?y:z,this}h.exports=S}),Te=c((l,h)=>{var m=re(),y=F(),S=ce(),N=me(),z=_e();function H(X){var te=-1,Re=X==null?0:X.length;for(this.clear();++te<Re;){var Ne=X[te];this.set(Ne[0],Ne[1])}}H.prototype.clear=m,H.prototype.delete=y,H.prototype.get=S,H.prototype.has=N,H.prototype.set=z,h.exports=H}),Je=c((l,h)=>{var m=Te(),y=I(),S=Be();function N(){this.size=0,this.__data__={hash:new m,map:new(S||y),string:new m}}h.exports=N}),$e=c((l,h)=>{function m(y){var S=typeof y;return S=="string"||S=="number"||S=="symbol"||S=="boolean"?y!=="__proto__":y===null}h.exports=m}),Xe=c((l,h)=>{var m=$e();function y(S,N){var z=S.__data__;return m(N)?z[typeof N=="string"?"string":"hash"]:z.map}h.exports=y}),Nt=c((l,h)=>{var m=Xe();function y(S){var N=m(this,S).delete(S);return this.size-=N?1:0,N}h.exports=y}),Ot=c((l,h)=>{var m=Xe();function y(S){return m(this,S).get(S)}h.exports=y}),Gt=c((l,h)=>{var m=Xe();function y(S){return m(this,S).has(S)}h.exports=y}),qt=c((l,h)=>{var m=Xe();function y(S,N){var z=m(this,S),H=z.size;return z.set(S,N),this.size+=z.size==H?0:1,this}h.exports=y}),K=c((l,h)=>{var m=Je(),y=Nt(),S=Ot(),N=Gt(),z=qt();function H(X){var te=-1,Re=X==null?0:X.length;for(this.clear();++te<Re;){var Ne=X[te];this.set(Ne[0],Ne[1])}}H.prototype.clear=m,H.prototype.delete=y,H.prototype.get=S,H.prototype.has=N,H.prototype.set=z,h.exports=H}),Fe=c((l,h)=>{var m=I(),y=Be(),S=K(),N=200;function z(H,X){var te=this.__data__;if(te instanceof m){var Re=te.__data__;if(!y||Re.length<N-1)return Re.push([H,X]),this.size=++te.size,this;te=this.__data__=new S(Re)}return te.set(H,X),this.size=te.size,this}h.exports=z}),he=c((l,h)=>{var m=I(),y=B(),S=U(),N=Z(),z=le(),H=Fe();function X(te){var Re=this.__data__=new m(te);this.size=Re.size}X.prototype.clear=y,X.prototype.delete=S,X.prototype.get=N,X.prototype.has=z,X.prototype.set=H,h.exports=X}),Pe=c((l,h)=>{var m=Le(),y=(function(){try{var S=m(Object,"defineProperty");return S({},"",{}),S}catch{}})();h.exports=y}),be=c((l,h)=>{var m=Pe();function y(S,N,z){N=="__proto__"&&m?m(S,N,{configurable:!0,enumerable:!0,value:z,writable:!0}):S[N]=z}h.exports=y}),Oe=c((l,h)=>{var m=be(),y=b();function S(N,z,H){(H!==void 0&&!y(N[z],H)||H===void 0&&!(z in N))&&m(N,z,H)}h.exports=S}),st=c((l,h)=>{function m(y){return function(S,N,z){for(var H=-1,X=Object(S),te=z(S),Re=te.length;Re--;){var Ne=te[y?Re:++H];if(N(X[Ne],Ne,X)===!1)break}return S}}h.exports=m}),ct=c((l,h)=>{var m=st(),y=m();h.exports=y}),Ge=c((l,h)=>{var m=ie(),y=typeof l=="object"&&l&&!l.nodeType&&l,S=y&&typeof h=="object"&&h&&!h.nodeType&&h,N=S&&S.exports===y,z=N?m.Buffer:void 0,H=z?z.allocUnsafe:void 0;function X(te,Re){if(Re)return te.slice();var Ne=te.length,ut=H?H(Ne):new te.constructor(Ne);return te.copy(ut),ut}h.exports=X}),Lt=c((l,h)=>{var m=ie(),y=m.Uint8Array;h.exports=y}),It=c((l,h)=>{var m=Lt();function y(S){var N=new S.constructor(S.byteLength);return new m(N).set(new m(S)),N}h.exports=y}),Bt=c((l,h)=>{var m=It();function y(S,N){var z=N?m(S.buffer):S.buffer;return new S.constructor(z,S.byteOffset,S.length)}h.exports=y}),Ut=c((l,h)=>{function m(y,S){var N=-1,z=y.length;for(S||(S=Array(z));++N<z;)S[N]=y[N];return S}h.exports=m}),an=c((l,h)=>{var m=J(),y=Object.create,S=(function(){function N(){}return function(z){if(!m(z))return{};if(y)return y(z);N.prototype=z;var H=new N;return N.prototype=void 0,H}})();h.exports=S}),tn=c((l,h)=>{function m(y,S){return function(N){return y(S(N))}}h.exports=m}),on=c((l,h)=>{var m=tn(),y=m(Object.getPrototypeOf,Object);h.exports=y}),wn=c((l,h)=>{var m=Object.prototype;function y(S){var N=S&&S.constructor,z=typeof N=="function"&&N.prototype||m;return S===z}h.exports=y}),$t=c((l,h)=>{var m=an(),y=on(),S=wn();function N(z){return typeof z.constructor=="function"&&!S(z)?m(y(z)):{}}h.exports=N}),ur=c((l,h)=>{function m(y){return y!=null&&typeof y=="object"}h.exports=m}),hn=c((l,h)=>{var m=Me(),y=ur(),S="[object Arguments]";function N(z){return y(z)&&m(z)==S}h.exports=N}),Dr=c((l,h)=>{var m=hn(),y=ur(),S=Object.prototype,N=S.hasOwnProperty,z=S.propertyIsEnumerable,H=m((function(){return arguments})())?m:function(X){return y(X)&&N.call(X,"callee")&&!z.call(X,"callee")};h.exports=H}),zn=c((l,h)=>{var m=Array.isArray;h.exports=m}),Fn=c((l,h)=>{var m=9007199254740991;function y(S){return typeof S=="number"&&S>-1&&S%1==0&&S<=m}h.exports=y}),Ar=c((l,h)=>{var m=G(),y=Fn();function S(N){return N!=null&&y(N.length)&&!m(N)}h.exports=S}),Wn=c((l,h)=>{var m=Ar(),y=ur();function S(N){return y(N)&&m(N)}h.exports=S}),Ps=c((l,h)=>{function m(){return!1}h.exports=m}),ar=c((l,h)=>{var m=ie(),y=Ps(),S=typeof l=="object"&&l&&!l.nodeType&&l,N=S&&typeof h=="object"&&h&&!h.nodeType&&h,z=N&&N.exports===S,H=z?m.Buffer:void 0,X=H?H.isBuffer:void 0,te=X||y;h.exports=te}),Ir=c((l,h)=>{var m=Me(),y=on(),S=ur(),N="[object Object]",z=Function.prototype,H=Object.prototype,X=z.toString,te=H.hasOwnProperty,Re=X.call(Object);function Ne(ut){if(!S(ut)||m(ut)!=N)return!1;var gt=y(ut);if(gt===null)return!0;var Et=te.call(gt,"constructor")&&gt.constructor;return typeof Et=="function"&&Et instanceof Et&&X.call(Et)==Re}h.exports=Ne}),Mr=c((l,h)=>{var m=Me(),y=Fn(),S=ur(),N="[object Arguments]",z="[object Array]",H="[object Boolean]",X="[object Date]",te="[object Error]",Re="[object Function]",Ne="[object Map]",ut="[object Number]",gt="[object Object]",Et="[object RegExp]",Wt="[object Set]",Zt="[object String]",mn="[object WeakMap]",De="[object ArrayBuffer]",qe="[object DataView]",rt="[object Float32Array]",yt="[object Float64Array]",it="[object Int8Array]",dt="[object Int16Array]",Q="[object Int32Array]",ge="[object Uint8Array]",xe="[object Uint8ClampedArray]",ve="[object Uint16Array]",ke="[object Uint32Array]",Ce={};Ce[rt]=Ce[yt]=Ce[it]=Ce[dt]=Ce[Q]=Ce[ge]=Ce[xe]=Ce[ve]=Ce[ke]=!0,Ce[N]=Ce[z]=Ce[De]=Ce[H]=Ce[qe]=Ce[X]=Ce[te]=Ce[Re]=Ce[Ne]=Ce[ut]=Ce[gt]=Ce[Et]=Ce[Wt]=Ce[Zt]=Ce[mn]=!1;function Ke(He){return S(He)&&y(He.length)&&!!Ce[m(He)]}h.exports=Ke}),or=c((l,h)=>{function m(y){return function(S){return y(S)}}h.exports=m}),En=c((l,h)=>{var m=pe(),y=typeof l=="object"&&l&&!l.nodeType&&l,S=y&&typeof h=="object"&&h&&!h.nodeType&&h,N=S&&S.exports===y,z=N&&m.process,H=(function(){try{var X=S&&S.require&&S.require("util").types;return X||z&&z.binding&&z.binding("util")}catch{}})();h.exports=H}),Yn=c((l,h)=>{var m=Mr(),y=or(),S=En(),N=S&&S.isTypedArray,z=N?y(N):m;h.exports=z}),ma=c((l,h)=>{function m(y,S){if(!(S==="constructor"&&typeof y[S]=="function")&&S!="__proto__")return y[S]}h.exports=m}),Zr=c((l,h)=>{var m=be(),y=b(),S=Object.prototype,N=S.hasOwnProperty;function z(H,X,te){var Re=H[X];(!(N.call(H,X)&&y(Re,te))||te===void 0&&!(X in H))&&m(H,X,te)}h.exports=z}),hs=c((l,h)=>{var m=Zr(),y=be();function S(N,z,H,X){var te=!H;H||(H={});for(var Re=-1,Ne=z.length;++Re<Ne;){var ut=z[Re],gt=X?X(H[ut],N[ut],ut,H,N):void 0;gt===void 0&&(gt=N[ut]),te?y(H,ut,gt):m(H,ut,gt)}return H}h.exports=S}),Zi=c((l,h)=>{function m(y,S){for(var N=-1,z=Array(y);++N<y;)z[N]=S(N);return z}h.exports=m}),dn=c((l,h)=>{var m=9007199254740991,y=/^(?:0|[1-9]\d*)$/;function S(N,z){var H=typeof N;return z=z??m,!!z&&(H=="number"||H!="symbol"&&y.test(N))&&N>-1&&N%1==0&&N<z}h.exports=S}),Ki=c((l,h)=>{var m=Zi(),y=Dr(),S=zn(),N=ar(),z=dn(),H=Yn(),X=Object.prototype,te=X.hasOwnProperty;function Re(Ne,ut){var gt=S(Ne),Et=!gt&&y(Ne),Wt=!gt&&!Et&&N(Ne),Zt=!gt&&!Et&&!Wt&&H(Ne),mn=gt||Et||Wt||Zt,De=mn?m(Ne.length,String):[],qe=De.length;for(var rt in Ne)(ut||te.call(Ne,rt))&&!(mn&&(rt=="length"||Wt&&(rt=="offset"||rt=="parent")||Zt&&(rt=="buffer"||rt=="byteLength"||rt=="byteOffset")||z(rt,qe)))&&De.push(rt);return De}h.exports=Re}),Ii=c((l,h)=>{function m(y){var S=[];if(y!=null)for(var N in Object(y))S.push(N);return S}h.exports=m}),Ri=c((l,h)=>{var m=J(),y=wn(),S=Ii(),N=Object.prototype,z=N.hasOwnProperty;function H(X){if(!m(X))return S(X);var te=y(X),Re=[];for(var Ne in X)Ne=="constructor"&&(te||!z.call(X,Ne))||Re.push(Ne);return Re}h.exports=H}),Vn=c((l,h)=>{var m=Ki(),y=Ri(),S=Ar();function N(z){return S(z)?m(z,!0):y(z)}h.exports=N}),Kt=c((l,h)=>{var m=hs(),y=Vn();function S(N){return m(N,y(N))}h.exports=S}),ii=c((l,h)=>{var m=Oe(),y=Ge(),S=Bt(),N=Ut(),z=$t(),H=Dr(),X=zn(),te=Wn(),Re=ar(),Ne=G(),ut=J(),gt=Ir(),Et=Yn(),Wt=ma(),Zt=Kt();function mn(De,qe,rt,yt,it,dt,Q){var ge=Wt(De,rt),xe=Wt(qe,rt),ve=Q.get(xe);if(ve){m(De,rt,ve);return}var ke=dt?dt(ge,xe,rt+"",De,qe,Q):void 0,Ce=ke===void 0;if(Ce){var Ke=X(xe),He=!Ke&&Re(xe),Qe=!Ke&&!He&&Et(xe);ke=xe,Ke||He||Qe?X(ge)?ke=ge:te(ge)?ke=N(ge):He?(Ce=!1,ke=y(xe,!0)):Qe?(Ce=!1,ke=S(xe,!0)):ke=[]:gt(xe)||H(xe)?(ke=ge,H(ge)?ke=Zt(ge):(!ut(ge)||Ne(ge))&&(ke=z(xe))):Ce=!1}Ce&&(Q.set(xe,ke),it(ke,xe,yt,dt,Q),Q.delete(xe)),m(De,rt,ke)}h.exports=mn}),ga=c((l,h)=>{var m=he(),y=Oe(),S=ct(),N=ii(),z=J(),H=Vn(),X=ma();function te(Re,Ne,ut,gt,Et){Re!==Ne&&S(Ne,function(Wt,Zt){if(Et||(Et=new m),z(Wt))N(Re,Ne,Zt,ut,te,gt,Et);else{var mn=gt?gt(X(Re,Zt),Wt,Zt+"",Re,Ne,Et):void 0;mn===void 0&&(mn=Wt),y(Re,Zt,mn)}},H)}h.exports=te}),As=c((l,h)=>{function m(y){return y}h.exports=m}),fs=c((l,h)=>{function m(y,S,N){switch(N.length){case 0:return y.call(S);case 1:return y.call(S,N[0]);case 2:return y.call(S,N[0],N[1]);case 3:return y.call(S,N[0],N[1],N[2])}return y.apply(S,N)}h.exports=m}),Ji=c((l,h)=>{var m=fs(),y=Math.max;function S(N,z,H){return z=y(z===void 0?N.length-1:z,0),function(){for(var X=arguments,te=-1,Re=y(X.length-z,0),Ne=Array(Re);++te<Re;)Ne[te]=X[z+te];te=-1;for(var ut=Array(z+1);++te<z;)ut[te]=X[te];return ut[z]=H(Ne),m(N,this,ut)}}h.exports=S}),Kr=c((l,h)=>{function m(y){return function(){return y}}h.exports=m}),gi=c((l,h)=>{var m=Kr(),y=Pe(),S=As(),N=y?function(z,H){return y(z,"toString",{configurable:!0,enumerable:!1,value:m(H),writable:!0})}:S;h.exports=N}),ji=c((l,h)=>{var m=800,y=16,S=Date.now;function N(z){var H=0,X=0;return function(){var te=S(),Re=y-(te-X);if(X=te,Re>0){if(++H>=m)return arguments[0]}else H=0;return z.apply(void 0,arguments)}}h.exports=N}),qs=c((l,h)=>{var m=gi(),y=ji(),S=y(m);h.exports=S}),Ma=c((l,h)=>{var m=As(),y=Ji(),S=qs();function N(z,H){return S(y(z,H,m),z+"")}h.exports=N}),Xa=c((l,h)=>{var m=b(),y=Ar(),S=dn(),N=J();function z(H,X,te){if(!N(te))return!1;var Re=typeof X;return(Re=="number"?y(te)&&S(X,te.length):Re=="string"&&X in te)?m(te[X],H):!1}h.exports=z}),Qa=c((l,h)=>{var m=Ma(),y=Xa();function S(N){return m(function(z,H){var X=-1,te=H.length,Re=te>1?H[te-1]:void 0,Ne=te>2?H[2]:void 0;for(Re=N.length>3&&typeof Re=="function"?(te--,Re):void 0,Ne&&y(H[0],H[1],Ne)&&(Re=te<3?void 0:Re,te=1),z=Object(z);++X<te;){var ut=H[X];ut&&N(z,ut,X,Re)}return z})}h.exports=S}),Gs=c((l,h)=>{var m=ga(),y=Qa(),S=y(function(N,z,H){m(N,z,H)});h.exports=S}),Ba=c((l,h)=>{var m=Me(),y=ur(),S="[object Symbol]";function N(z){return typeof z=="symbol"||y(z)&&m(z)==S}h.exports=N}),eo=c((l,h)=>{var m=zn(),y=Ba(),S=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,N=/^\w*$/;function z(H,X){if(m(H))return!1;var te=typeof H;return te=="number"||te=="symbol"||te=="boolean"||H==null||y(H)?!0:N.test(H)||!S.test(H)||X!=null&&H in Object(X)}h.exports=z}),wr=c((l,h)=>{var m=K(),y="Expected a function";function S(N,z){if(typeof N!="function"||z!=null&&typeof z!="function")throw new TypeError(y);var H=function(){var X=arguments,te=z?z.apply(this,X):X[0],Re=H.cache;if(Re.has(te))return Re.get(te);var Ne=N.apply(this,X);return H.cache=Re.set(te,Ne)||Re,Ne};return H.cache=new(S.Cache||m),H}S.Cache=m,h.exports=S}),wl=c((l,h)=>{var m=wr(),y=500;function S(N){var z=m(N,function(X){return H.size===y&&H.clear(),X}),H=z.cache;return z}h.exports=S}),Na=c((l,h)=>{var m=wl(),y=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,S=/\\(\\)?/g,N=m(function(z){var H=[];return z.charCodeAt(0)===46&&H.push(""),z.replace(y,function(X,te,Re,Ne){H.push(Re?Ne.replace(S,"$1"):te||X)}),H});h.exports=N}),Io=c((l,h)=>{function m(y,S){for(var N=-1,z=y==null?0:y.length,H=Array(z);++N<z;)H[N]=S(y[N],N,y);return H}h.exports=m}),_o=c((l,h)=>{var m=$(),y=Io(),S=zn(),N=Ba(),z=m?m.prototype:void 0,H=z?z.toString:void 0;function X(te){if(typeof te=="string")return te;if(S(te))return y(te,X)+"";if(N(te))return H?H.call(te):"";var Re=te+"";return Re=="0"&&1/te==-1/0?"-0":Re}h.exports=X}),to=c((l,h)=>{var m=_o();function y(S){return S==null?"":m(S)}h.exports=y}),Ta=c((l,h)=>{var m=zn(),y=eo(),S=Na(),N=to();function z(H,X){return m(H)?H:y(H,X)?[H]:S(N(H))}h.exports=z}),Oa=c((l,h)=>{var m=Ba();function y(S){if(typeof S=="string"||m(S))return S;var N=S+"";return N=="0"&&1/S==-1/0?"-0":N}h.exports=y}),Yi=c((l,h)=>{var m=Ta(),y=Oa();function S(N,z){z=m(z,N);for(var H=0,X=z.length;N!=null&&H<X;)N=N[y(z[H++])];return H&&H==X?N:void 0}h.exports=S}),Xi=c((l,h)=>{var m=Yi();function y(S,N,z){var H=S==null?void 0:m(S,N);return H===void 0?z:H}h.exports=y}),An=c((l,h)=>{(function(m,y){typeof l=="object"&&typeof h<"u"?h.exports=y():(m=m||self).RBush=y()})(l,function(){function m(De,qe,rt,yt,it){(function dt(Q,ge,xe,ve,ke){for(;ve>xe;){if(ve-xe>600){var Ce=ve-xe+1,Ke=ge-xe+1,He=Math.log(Ce),Qe=.5*Math.exp(2*He/3),pt=.5*Math.sqrt(He*Qe*(Ce-Qe)/Ce)*(Ke-Ce/2<0?-1:1),ht=Math.max(xe,Math.floor(ge-Ke*Qe/Ce+pt)),Dt=Math.min(ve,Math.floor(ge+(Ce-Ke)*Qe/Ce+pt));dt(Q,ge,ht,Dt,ke)}var Xt=Q[ge],nn=xe,rn=ve;for(y(Q,xe,ge),ke(Q[ve],Xt)>0&&y(Q,xe,ve);nn<rn;){for(y(Q,nn,rn),nn++,rn--;ke(Q[nn],Xt)<0;)nn++;for(;ke(Q[rn],Xt)>0;)rn--}ke(Q[xe],Xt)===0?y(Q,xe,rn):y(Q,++rn,ve),rn<=ge&&(xe=rn+1),ge<=rn&&(ve=rn-1)}})(De,qe,rt||0,yt||De.length-1,it||S)}function y(De,qe,rt){var yt=De[qe];De[qe]=De[rt],De[rt]=yt}function S(De,qe){return De<qe?-1:De>qe?1:0}var N=function(De){De===void 0&&(De=9),this._maxEntries=Math.max(4,De),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function z(De,qe,rt){if(!rt)return qe.indexOf(De);for(var yt=0;yt<qe.length;yt++)if(rt(De,qe[yt]))return yt;return-1}function H(De,qe){X(De,0,De.children.length,qe,De)}function X(De,qe,rt,yt,it){it||(it=Zt(null)),it.minX=1/0,it.minY=1/0,it.maxX=-1/0,it.maxY=-1/0;for(var dt=qe;dt<rt;dt++){var Q=De.children[dt];te(it,De.leaf?yt(Q):Q)}return it}function te(De,qe){return De.minX=Math.min(De.minX,qe.minX),De.minY=Math.min(De.minY,qe.minY),De.maxX=Math.max(De.maxX,qe.maxX),De.maxY=Math.max(De.maxY,qe.maxY),De}function Re(De,qe){return De.minX-qe.minX}function Ne(De,qe){return De.minY-qe.minY}function ut(De){return(De.maxX-De.minX)*(De.maxY-De.minY)}function gt(De){return De.maxX-De.minX+(De.maxY-De.minY)}function Et(De,qe){return De.minX<=qe.minX&&De.minY<=qe.minY&&qe.maxX<=De.maxX&&qe.maxY<=De.maxY}function Wt(De,qe){return qe.minX<=De.maxX&&qe.minY<=De.maxY&&qe.maxX>=De.minX&&qe.maxY>=De.minY}function Zt(De){return{children:De,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function mn(De,qe,rt,yt,it){for(var dt=[qe,rt];dt.length;)if(!((rt=dt.pop())-(qe=dt.pop())<=yt)){var Q=qe+Math.ceil((rt-qe)/yt/2)*yt;m(De,Q,qe,rt,it),dt.push(qe,Q,Q,rt)}}return N.prototype.all=function(){return this._all(this.data,[])},N.prototype.search=function(De){var qe=this.data,rt=[];if(!Wt(De,qe))return rt;for(var yt=this.toBBox,it=[];qe;){for(var dt=0;dt<qe.children.length;dt++){var Q=qe.children[dt],ge=qe.leaf?yt(Q):Q;Wt(De,ge)&&(qe.leaf?rt.push(Q):Et(De,ge)?this._all(Q,rt):it.push(Q))}qe=it.pop()}return rt},N.prototype.collides=function(De){var qe=this.data;if(!Wt(De,qe))return!1;for(var rt=[];qe;){for(var yt=0;yt<qe.children.length;yt++){var it=qe.children[yt],dt=qe.leaf?this.toBBox(it):it;if(Wt(De,dt)){if(qe.leaf||Et(De,dt))return!0;rt.push(it)}}qe=rt.pop()}return!1},N.prototype.load=function(De){if(!De||!De.length)return this;if(De.length<this._minEntries){for(var qe=0;qe<De.length;qe++)this.insert(De[qe]);return this}var rt=this._build(De.slice(),0,De.length-1,0);if(this.data.children.length)if(this.data.height===rt.height)this._splitRoot(this.data,rt);else{if(this.data.height<rt.height){var yt=this.data;this.data=rt,rt=yt}this._insert(rt,this.data.height-rt.height-1,!0)}else this.data=rt;return this},N.prototype.insert=function(De){return De&&this._insert(De,this.data.height-1),this},N.prototype.clear=function(){return this.data=Zt([]),this},N.prototype.remove=function(De,qe){if(!De)return this;for(var rt,yt,it,dt=this.data,Q=this.toBBox(De),ge=[],xe=[];dt||ge.length;){if(dt||(dt=ge.pop(),yt=ge[ge.length-1],rt=xe.pop(),it=!0),dt.leaf){var ve=z(De,dt.children,qe);if(ve!==-1)return dt.children.splice(ve,1),ge.push(dt),this._condense(ge),this}it||dt.leaf||!Et(dt,Q)?yt?(rt++,dt=yt.children[rt],it=!1):dt=null:(ge.push(dt),xe.push(rt),rt=0,yt=dt,dt=dt.children[0])}return this},N.prototype.toBBox=function(De){return De},N.prototype.compareMinX=function(De,qe){return De.minX-qe.minX},N.prototype.compareMinY=function(De,qe){return De.minY-qe.minY},N.prototype.toJSON=function(){return this.data},N.prototype.fromJSON=function(De){return this.data=De,this},N.prototype._all=function(De,qe){for(var rt=[];De;)De.leaf?qe.push.apply(qe,De.children):rt.push.apply(rt,De.children),De=rt.pop();return qe},N.prototype._build=function(De,qe,rt,yt){var it,dt=rt-qe+1,Q=this._maxEntries;if(dt<=Q)return H(it=Zt(De.slice(qe,rt+1)),this.toBBox),it;yt||(yt=Math.ceil(Math.log(dt)/Math.log(Q)),Q=Math.ceil(dt/Math.pow(Q,yt-1))),(it=Zt([])).leaf=!1,it.height=yt;var ge=Math.ceil(dt/Q),xe=ge*Math.ceil(Math.sqrt(Q));mn(De,qe,rt,xe,this.compareMinX);for(var ve=qe;ve<=rt;ve+=xe){var ke=Math.min(ve+xe-1,rt);mn(De,ve,ke,ge,this.compareMinY);for(var Ce=ve;Ce<=ke;Ce+=ge){var Ke=Math.min(Ce+ge-1,ke);it.children.push(this._build(De,Ce,Ke,yt-1))}}return H(it,this.toBBox),it},N.prototype._chooseSubtree=function(De,qe,rt,yt){for(;yt.push(qe),!qe.leaf&&yt.length-1!==rt;){for(var it=1/0,dt=1/0,Q=void 0,ge=0;ge<qe.children.length;ge++){var xe=qe.children[ge],ve=ut(xe),ke=(Ce=De,Ke=xe,(Math.max(Ke.maxX,Ce.maxX)-Math.min(Ke.minX,Ce.minX))*(Math.max(Ke.maxY,Ce.maxY)-Math.min(Ke.minY,Ce.minY))-ve);ke<dt?(dt=ke,it=ve<it?ve:it,Q=xe):ke===dt&&ve<it&&(it=ve,Q=xe)}qe=Q||qe.children[0]}var Ce,Ke;return qe},N.prototype._insert=function(De,qe,rt){var yt=rt?De:this.toBBox(De),it=[],dt=this._chooseSubtree(yt,this.data,qe,it);for(dt.children.push(De),te(dt,yt);qe>=0&&it[qe].children.length>this._maxEntries;)this._split(it,qe),qe--;this._adjustParentBBoxes(yt,it,qe)},N.prototype._split=function(De,qe){var rt=De[qe],yt=rt.children.length,it=this._minEntries;this._chooseSplitAxis(rt,it,yt);var dt=this._chooseSplitIndex(rt,it,yt),Q=Zt(rt.children.splice(dt,rt.children.length-dt));Q.height=rt.height,Q.leaf=rt.leaf,H(rt,this.toBBox),H(Q,this.toBBox),qe?De[qe-1].children.push(Q):this._splitRoot(rt,Q)},N.prototype._splitRoot=function(De,qe){this.data=Zt([De,qe]),this.data.height=De.height+1,this.data.leaf=!1,H(this.data,this.toBBox)},N.prototype._chooseSplitIndex=function(De,qe,rt){for(var yt,it,dt,Q,ge,xe,ve,ke=1/0,Ce=1/0,Ke=qe;Ke<=rt-qe;Ke++){var He=X(De,0,Ke,this.toBBox),Qe=X(De,Ke,rt,this.toBBox),pt=(it=He,dt=Qe,Q=void 0,ge=void 0,xe=void 0,ve=void 0,Q=Math.max(it.minX,dt.minX),ge=Math.max(it.minY,dt.minY),xe=Math.min(it.maxX,dt.maxX),ve=Math.min(it.maxY,dt.maxY),Math.max(0,xe-Q)*Math.max(0,ve-ge)),ht=ut(He)+ut(Qe);pt<ke?(ke=pt,yt=Ke,Ce=ht<Ce?ht:Ce):pt===ke&&ht<Ce&&(Ce=ht,yt=Ke)}return yt||rt-qe},N.prototype._chooseSplitAxis=function(De,qe,rt){var yt=De.leaf?this.compareMinX:Re,it=De.leaf?this.compareMinY:Ne;this._allDistMargin(De,qe,rt,yt)<this._allDistMargin(De,qe,rt,it)&&De.children.sort(yt)},N.prototype._allDistMargin=function(De,qe,rt,yt){De.children.sort(yt);for(var it=this.toBBox,dt=X(De,0,qe,it),Q=X(De,rt-qe,rt,it),ge=gt(dt)+gt(Q),xe=qe;xe<rt-qe;xe++){var ve=De.children[xe];te(dt,De.leaf?it(ve):ve),ge+=gt(dt)}for(var ke=rt-qe-1;ke>=qe;ke--){var Ce=De.children[ke];te(Q,De.leaf?it(Ce):Ce),ge+=gt(Q)}return ge},N.prototype._adjustParentBBoxes=function(De,qe,rt){for(var yt=rt;yt>=0;yt--)te(qe[yt],De)},N.prototype._condense=function(De){for(var qe=De.length-1,rt=void 0;qe>=0;qe--)De[qe].children.length===0?qe>0?(rt=De[qe-1].children).splice(rt.indexOf(De[qe]),1):this.clear():H(De[qe],this.toBBox)},N})}),Mn=c(l=>{Object.defineProperty(l,"__esModule",{value:!0}),l.earthRadius=63710088e-1,l.factors={centimeters:l.earthRadius*100,centimetres:l.earthRadius*100,degrees:l.earthRadius/111325,feet:l.earthRadius*3.28084,inches:l.earthRadius*39.37,kilometers:l.earthRadius/1e3,kilometres:l.earthRadius/1e3,meters:l.earthRadius,metres:l.earthRadius,miles:l.earthRadius/1609.344,millimeters:l.earthRadius*1e3,millimetres:l.earthRadius*1e3,nauticalmiles:l.earthRadius/1852,radians:1,yards:l.earthRadius*1.0936},l.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/l.earthRadius,yards:1.0936133},l.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(ve,ke,Ce){Ce===void 0&&(Ce={});var Ke={type:"Feature"};return(Ce.id===0||Ce.id)&&(Ke.id=Ce.id),Ce.bbox&&(Ke.bbox=Ce.bbox),Ke.properties=ke||{},Ke.geometry=ve,Ke}l.feature=h;function m(ve,ke,Ce){switch(ve){case"Point":return y(ke).geometry;case"LineString":return H(ke).geometry;case"Polygon":return N(ke).geometry;case"MultiPoint":return Ne(ke).geometry;case"MultiLineString":return Re(ke).geometry;case"MultiPolygon":return ut(ke).geometry;default:throw new Error(ve+" is invalid")}}l.geometry=m;function y(ve,ke,Ce){if(Ce===void 0&&(Ce={}),!ve)throw new Error("coordinates is required");if(!Array.isArray(ve))throw new Error("coordinates must be an Array");if(ve.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!dt(ve[0])||!dt(ve[1]))throw new Error("coordinates must contain numbers");var Ke={type:"Point",coordinates:ve};return h(Ke,ke,Ce)}l.point=y;function S(ve,ke,Ce){return Ce===void 0&&(Ce={}),te(ve.map(function(Ke){return y(Ke,ke)}),Ce)}l.points=S;function N(ve,ke,Ce){Ce===void 0&&(Ce={});for(var Ke=0,He=ve;Ke<He.length;Ke++){var Qe=He[Ke];if(Qe.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var pt=0;pt<Qe[Qe.length-1].length;pt++)if(Qe[Qe.length-1][pt]!==Qe[0][pt])throw new Error("First and last Position are not equivalent.")}var ht={type:"Polygon",coordinates:ve};return h(ht,ke,Ce)}l.polygon=N;function z(ve,ke,Ce){return Ce===void 0&&(Ce={}),te(ve.map(function(Ke){return N(Ke,ke)}),Ce)}l.polygons=z;function H(ve,ke,Ce){if(Ce===void 0&&(Ce={}),ve.length<2)throw new Error("coordinates must be an array of two or more positions");var Ke={type:"LineString",coordinates:ve};return h(Ke,ke,Ce)}l.lineString=H;function X(ve,ke,Ce){return Ce===void 0&&(Ce={}),te(ve.map(function(Ke){return H(Ke,ke)}),Ce)}l.lineStrings=X;function te(ve,ke){ke===void 0&&(ke={});var Ce={type:"FeatureCollection"};return ke.id&&(Ce.id=ke.id),ke.bbox&&(Ce.bbox=ke.bbox),Ce.features=ve,Ce}l.featureCollection=te;function Re(ve,ke,Ce){Ce===void 0&&(Ce={});var Ke={type:"MultiLineString",coordinates:ve};return h(Ke,ke,Ce)}l.multiLineString=Re;function Ne(ve,ke,Ce){Ce===void 0&&(Ce={});var Ke={type:"MultiPoint",coordinates:ve};return h(Ke,ke,Ce)}l.multiPoint=Ne;function ut(ve,ke,Ce){Ce===void 0&&(Ce={});var Ke={type:"MultiPolygon",coordinates:ve};return h(Ke,ke,Ce)}l.multiPolygon=ut;function gt(ve,ke,Ce){Ce===void 0&&(Ce={});var Ke={type:"GeometryCollection",geometries:ve};return h(Ke,ke,Ce)}l.geometryCollection=gt;function Et(ve,ke){if(ke===void 0&&(ke=0),ke&&!(ke>=0))throw new Error("precision must be a positive number");var Ce=Math.pow(10,ke||0);return Math.round(ve*Ce)/Ce}l.round=Et;function Wt(ve,ke){ke===void 0&&(ke="kilometers");var Ce=l.factors[ke];if(!Ce)throw new Error(ke+" units is invalid");return ve*Ce}l.radiansToLength=Wt;function Zt(ve,ke){ke===void 0&&(ke="kilometers");var Ce=l.factors[ke];if(!Ce)throw new Error(ke+" units is invalid");return ve/Ce}l.lengthToRadians=Zt;function mn(ve,ke){return qe(Zt(ve,ke))}l.lengthToDegrees=mn;function De(ve){var ke=ve%360;return ke<0&&(ke+=360),ke}l.bearingToAzimuth=De;function qe(ve){var ke=ve%(2*Math.PI);return ke*180/Math.PI}l.radiansToDegrees=qe;function rt(ve){var ke=ve%360;return ke*Math.PI/180}l.degreesToRadians=rt;function yt(ve,ke,Ce){if(ke===void 0&&(ke="kilometers"),Ce===void 0&&(Ce="kilometers"),!(ve>=0))throw new Error("length must be a positive number");return Wt(Zt(ve,ke),Ce)}l.convertLength=yt;function it(ve,ke,Ce){if(ke===void 0&&(ke="meters"),Ce===void 0&&(Ce="kilometers"),!(ve>=0))throw new Error("area must be a positive number");var Ke=l.areaFactors[ke];if(!Ke)throw new Error("invalid original units");var He=l.areaFactors[Ce];if(!He)throw new Error("invalid final units");return ve/Ke*He}l.convertArea=it;function dt(ve){return!isNaN(ve)&&ve!==null&&!Array.isArray(ve)}l.isNumber=dt;function Q(ve){return!!ve&&ve.constructor===Object}l.isObject=Q;function ge(ve){if(!ve)throw new Error("bbox is required");if(!Array.isArray(ve))throw new Error("bbox must be an Array");if(ve.length!==4&&ve.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");ve.forEach(function(ke){if(!dt(ke))throw new Error("bbox must only contain numbers")})}l.validateBBox=ge;function xe(ve){if(!ve)throw new Error("id is required");if(["string","number"].indexOf(typeof ve)===-1)throw new Error("id must be a number or a string")}l.validateId=xe}),Da=c(l=>{Object.defineProperty(l,"__esModule",{value:!0});var h=Mn();function m(qe,rt,yt){if(qe!==null)for(var it,dt,Q,ge,xe,ve,ke,Ce=0,Ke=0,He,Qe=qe.type,pt=Qe==="FeatureCollection",ht=Qe==="Feature",Dt=pt?qe.features.length:1,Xt=0;Xt<Dt;Xt++){ke=pt?qe.features[Xt].geometry:ht?qe.geometry:qe,He=ke?ke.type==="GeometryCollection":!1,xe=He?ke.geometries.length:1;for(var nn=0;nn<xe;nn++){var rn=0,Kn=0;if(ge=He?ke.geometries[nn]:ke,ge!==null){ve=ge.coordinates;var Jn=ge.type;switch(Ce=yt&&(Jn==="Polygon"||Jn==="MultiPolygon")?1:0,Jn){case null:break;case"Point":if(rt(ve,Ke,Xt,rn,Kn)===!1)return!1;Ke++,rn++;break;case"LineString":case"MultiPoint":for(it=0;it<ve.length;it++){if(rt(ve[it],Ke,Xt,rn,Kn)===!1)return!1;Ke++,Jn==="MultiPoint"&&rn++}Jn==="LineString"&&rn++;break;case"Polygon":case"MultiLineString":for(it=0;it<ve.length;it++){for(dt=0;dt<ve[it].length-Ce;dt++){if(rt(ve[it][dt],Ke,Xt,rn,Kn)===!1)return!1;Ke++}Jn==="MultiLineString"&&rn++,Jn==="Polygon"&&Kn++}Jn==="Polygon"&&rn++;break;case"MultiPolygon":for(it=0;it<ve.length;it++){for(Kn=0,dt=0;dt<ve[it].length;dt++){for(Q=0;Q<ve[it][dt].length-Ce;Q++){if(rt(ve[it][dt][Q],Ke,Xt,rn,Kn)===!1)return!1;Ke++}Kn++}rn++}break;case"GeometryCollection":for(it=0;it<ge.geometries.length;it++)if(m(ge.geometries[it],rt,yt)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function y(qe,rt,yt,it){var dt=yt;return m(qe,function(Q,ge,xe,ve,ke){ge===0&&yt===void 0?dt=Q:dt=rt(dt,Q,ge,xe,ve,ke)},it),dt}function S(qe,rt){var yt;switch(qe.type){case"FeatureCollection":for(yt=0;yt<qe.features.length&&rt(qe.features[yt].properties,yt)!==!1;yt++);break;case"Feature":rt(qe.properties,0);break}}function N(qe,rt,yt){var it=yt;return S(qe,function(dt,Q){Q===0&&yt===void 0?it=dt:it=rt(it,dt,Q)}),it}function z(qe,rt){if(qe.type==="Feature")rt(qe,0);else if(qe.type==="FeatureCollection")for(var yt=0;yt<qe.features.length&&rt(qe.features[yt],yt)!==!1;yt++);}function H(qe,rt,yt){var it=yt;return z(qe,function(dt,Q){Q===0&&yt===void 0?it=dt:it=rt(it,dt,Q)}),it}function X(qe){var rt=[];return m(qe,function(yt){rt.push(yt)}),rt}function te(qe,rt){var yt,it,dt,Q,ge,xe,ve,ke,Ce,Ke,He=0,Qe=qe.type==="FeatureCollection",pt=qe.type==="Feature",ht=Qe?qe.features.length:1;for(yt=0;yt<ht;yt++){for(xe=Qe?qe.features[yt].geometry:pt?qe.geometry:qe,ke=Qe?qe.features[yt].properties:pt?qe.properties:{},Ce=Qe?qe.features[yt].bbox:pt?qe.bbox:void 0,Ke=Qe?qe.features[yt].id:pt?qe.id:void 0,ve=xe?xe.type==="GeometryCollection":!1,ge=ve?xe.geometries.length:1,dt=0;dt<ge;dt++){if(Q=ve?xe.geometries[dt]:xe,Q===null){if(rt(null,He,ke,Ce,Ke)===!1)return!1;continue}switch(Q.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(rt(Q,He,ke,Ce,Ke)===!1)return!1;break}case"GeometryCollection":{for(it=0;it<Q.geometries.length;it++)if(rt(Q.geometries[it],He,ke,Ce,Ke)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}He++}}function Re(qe,rt,yt){var it=yt;return te(qe,function(dt,Q,ge,xe,ve){Q===0&&yt===void 0?it=dt:it=rt(it,dt,Q,ge,xe,ve)}),it}function Ne(qe,rt){te(qe,function(yt,it,dt,Q,ge){var xe=yt===null?null:yt.type;switch(xe){case null:case"Point":case"LineString":case"Polygon":return rt(h.feature(yt,dt,{bbox:Q,id:ge}),it,0)===!1?!1:void 0}var ve;switch(xe){case"MultiPoint":ve="Point";break;case"MultiLineString":ve="LineString";break;case"MultiPolygon":ve="Polygon";break}for(var ke=0;ke<yt.coordinates.length;ke++){var Ce=yt.coordinates[ke],Ke={type:ve,coordinates:Ce};if(rt(h.feature(Ke,dt),it,ke)===!1)return!1}})}function ut(qe,rt,yt){var it=yt;return Ne(qe,function(dt,Q,ge){Q===0&&ge===0&&yt===void 0?it=dt:it=rt(it,dt,Q,ge)}),it}function gt(qe,rt){Ne(qe,function(yt,it,dt){var Q=0;if(yt.geometry){var ge=yt.geometry.type;if(!(ge==="Point"||ge==="MultiPoint")){var xe,ve=0,ke=0,Ce=0;if(m(yt,function(Ke,He,Qe,pt,ht){if(xe===void 0||it>ve||pt>ke||ht>Ce){xe=Ke,ve=it,ke=pt,Ce=ht,Q=0;return}var Dt=h.lineString([xe,Ke],yt.properties);if(rt(Dt,it,dt,ht,Q)===!1)return!1;Q++,xe=Ke})===!1)return!1}}})}function Et(qe,rt,yt){var it=yt,dt=!1;return gt(qe,function(Q,ge,xe,ve,ke){dt===!1&&yt===void 0?it=Q:it=rt(it,Q,ge,xe,ve,ke),dt=!0}),it}function Wt(qe,rt){if(!qe)throw new Error("geojson is required");Ne(qe,function(yt,it,dt){if(yt.geometry!==null){var Q=yt.geometry.type,ge=yt.geometry.coordinates;switch(Q){case"LineString":if(rt(yt,it,dt,0,0)===!1)return!1;break;case"Polygon":for(var xe=0;xe<ge.length;xe++)if(rt(h.lineString(ge[xe],yt.properties),it,dt,xe)===!1)return!1;break}}})}function Zt(qe,rt,yt){var it=yt;return Wt(qe,function(dt,Q,ge,xe){Q===0&&yt===void 0?it=dt:it=rt(it,dt,Q,ge,xe)}),it}function mn(qe,rt){if(rt=rt||{},!h.isObject(rt))throw new Error("options is invalid");var yt=rt.featureIndex||0,it=rt.multiFeatureIndex||0,dt=rt.geometryIndex||0,Q=rt.segmentIndex||0,ge=rt.properties,xe;switch(qe.type){case"FeatureCollection":yt<0&&(yt=qe.features.length+yt),ge=ge||qe.features[yt].properties,xe=qe.features[yt].geometry;break;case"Feature":ge=ge||qe.properties,xe=qe.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":xe=qe;break;default:throw new Error("geojson is invalid")}if(xe===null)return null;var ve=xe.coordinates;switch(xe.type){case"Point":case"MultiPoint":return null;case"LineString":return Q<0&&(Q=ve.length+Q-1),h.lineString([ve[Q],ve[Q+1]],ge,rt);case"Polygon":return dt<0&&(dt=ve.length+dt),Q<0&&(Q=ve[dt].length+Q-1),h.lineString([ve[dt][Q],ve[dt][Q+1]],ge,rt);case"MultiLineString":return it<0&&(it=ve.length+it),Q<0&&(Q=ve[it].length+Q-1),h.lineString([ve[it][Q],ve[it][Q+1]],ge,rt);case"MultiPolygon":return it<0&&(it=ve.length+it),dt<0&&(dt=ve[it].length+dt),Q<0&&(Q=ve[it][dt].length-Q-1),h.lineString([ve[it][dt][Q],ve[it][dt][Q+1]],ge,rt)}throw new Error("geojson is invalid")}function De(qe,rt){if(rt=rt||{},!h.isObject(rt))throw new Error("options is invalid");var yt=rt.featureIndex||0,it=rt.multiFeatureIndex||0,dt=rt.geometryIndex||0,Q=rt.coordIndex||0,ge=rt.properties,xe;switch(qe.type){case"FeatureCollection":yt<0&&(yt=qe.features.length+yt),ge=ge||qe.features[yt].properties,xe=qe.features[yt].geometry;break;case"Feature":ge=ge||qe.properties,xe=qe.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":xe=qe;break;default:throw new Error("geojson is invalid")}if(xe===null)return null;var ve=xe.coordinates;switch(xe.type){case"Point":return h.point(ve,ge,rt);case"MultiPoint":return it<0&&(it=ve.length+it),h.point(ve[it],ge,rt);case"LineString":return Q<0&&(Q=ve.length+Q),h.point(ve[Q],ge,rt);case"Polygon":return dt<0&&(dt=ve.length+dt),Q<0&&(Q=ve[dt].length+Q),h.point(ve[dt][Q],ge,rt);case"MultiLineString":return it<0&&(it=ve.length+it),Q<0&&(Q=ve[it].length+Q),h.point(ve[it][Q],ge,rt);case"MultiPolygon":return it<0&&(it=ve.length+it),dt<0&&(dt=ve[it].length+dt),Q<0&&(Q=ve[it][dt].length-Q),h.point(ve[it][dt][Q],ge,rt)}throw new Error("geojson is invalid")}l.coordAll=X,l.coordEach=m,l.coordReduce=y,l.featureEach=z,l.featureReduce=H,l.findPoint=De,l.findSegment=mn,l.flattenEach=Ne,l.flattenReduce=ut,l.geomEach=te,l.geomReduce=Re,l.lineEach=Wt,l.lineReduce=Zt,l.propEach=S,l.propReduce=N,l.segmentEach=gt,l.segmentReduce=Et}),_a=c(l=>{Object.defineProperty(l,"__esModule",{value:!0});var h=Da();function m(y){var S=[1/0,1/0,-1/0,-1/0];return h.coordEach(y,function(N){S[0]>N[0]&&(S[0]=N[0]),S[1]>N[1]&&(S[1]=N[1]),S[2]<N[0]&&(S[2]=N[0]),S[3]<N[1]&&(S[3]=N[1])}),S}m.default=m,l.default=m}),Qi=c((l,h)=>{var m=An(),y=Mn(),S=Da(),N=_a().default,z=S.featureEach;S.coordEach,y.polygon;var H=y.featureCollection;function X(te){var Re=new m(te);return Re.insert=function(Ne){if(Ne.type!=="Feature")throw new Error("invalid feature");return Ne.bbox=Ne.bbox?Ne.bbox:N(Ne),m.prototype.insert.call(this,Ne)},Re.load=function(Ne){var ut=[];return Array.isArray(Ne)?Ne.forEach(function(gt){if(gt.type!=="Feature")throw new Error("invalid features");gt.bbox=gt.bbox?gt.bbox:N(gt),ut.push(gt)}):z(Ne,function(gt){if(gt.type!=="Feature")throw new Error("invalid features");gt.bbox=gt.bbox?gt.bbox:N(gt),ut.push(gt)}),m.prototype.load.call(this,ut)},Re.remove=function(Ne,ut){if(Ne.type!=="Feature")throw new Error("invalid feature");return Ne.bbox=Ne.bbox?Ne.bbox:N(Ne),m.prototype.remove.call(this,Ne,ut)},Re.clear=function(){return m.prototype.clear.call(this)},Re.search=function(Ne){var ut=m.prototype.search.call(this,this.toBBox(Ne));return H(ut)},Re.collides=function(Ne){return m.prototype.collides.call(this,this.toBBox(Ne))},Re.all=function(){var Ne=m.prototype.all.call(this);return H(Ne)},Re.toJSON=function(){return m.prototype.toJSON.call(this)},Re.fromJSON=function(Ne){return m.prototype.fromJSON.call(this,Ne)},Re.toBBox=function(Ne){var ut;if(Ne.bbox)ut=Ne.bbox;else if(Array.isArray(Ne)&&Ne.length===4)ut=Ne;else if(Array.isArray(Ne)&&Ne.length===6)ut=[Ne[0],Ne[1],Ne[3],Ne[4]];else if(Ne.type==="Feature")ut=N(Ne);else if(Ne.type==="FeatureCollection")ut=N(Ne);else throw new Error("invalid geojson");return{minX:ut[0],minY:ut[1],maxX:ut[2],maxY:ut[3]}},Re}h.exports=X,h.exports.default=X});Array.prototype.findIndex=Array.prototype.findIndex||function(l){if(this===null)throw new TypeError("Array.prototype.findIndex called on null or undefined");if(typeof l!="function")throw new TypeError("callback must be a function");for(var h=Object(this),m=h.length>>>0,y=arguments[1],S=0;S<m;S++)if(l.call(y,h[S],S,h))return S;return-1},Array.prototype.find=Array.prototype.find||function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("callback must be a function");for(var h=Object(this),m=h.length>>>0,y=arguments[1],S=0;S<m;S++){var N=h[S];if(l.call(y,N,S,h))return N}},typeof Object.assign!="function"&&(Object.assign=function(l){if(l==null)throw new TypeError("Cannot convert undefined or null to object");l=Object(l);for(var h=1;h<arguments.length;h++){var m=arguments[h];if(m!=null)for(var y in m)Object.prototype.hasOwnProperty.call(m,y)&&(l[y]=m[y])}return l}),(function(l){l.forEach(function(h){h.hasOwnProperty("remove")||Object.defineProperty(h,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})})([Element.prototype,CharacterData.prototype,DocumentType.prototype]),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(l,h){if(this==null)throw new TypeError('"this" is null or not defined');var m=Object(this),y=m.length>>>0;if(y===0)return!1;var S=h|0,N=Math.max(S>=0?S:y-Math.abs(S),0);function z(H,X){return H===X||typeof H=="number"&&typeof X=="number"&&isNaN(H)&&isNaN(X)}for(;N<y;){if(z(m[N],l))return!0;N++}return!1}});var Hs={version:"2.18.3"},Ln=p(Gs()),$n={tooltips:{placeMarker:"Click to place marker",firstVertex:"Click to place first vertex",continueLine:"Click to continue drawing",finishLine:"Click any existing marker to finish",finishPoly:"Click first marker to finish",finishRect:"Click to finish",startCircle:"Click to place circle center",finishCircle:"Click to finish circle",placeCircleMarker:"Click to place circle marker",placeText:"Click to place text",selectFirstLayerFor:"Select first layer for {action}",selectSecondLayerFor:"Select second layer for {action}"},actions:{finish:"Finish",cancel:"Cancel",removeLastVertex:"Remove Last Vertex"},buttonTitles:{drawMarkerButton:"Draw Marker",drawPolyButton:"Draw Polygons",drawLineButton:"Draw Polyline",drawCircleButton:"Draw Circle",drawRectButton:"Draw Rectangle",editButton:"Edit Layers",dragButton:"Drag Layers",cutButton:"Cut Layers",deleteButton:"Remove Layers",drawCircleMarkerButton:"Draw Circle Marker",snappingButton:"Snap dragged marker to other layers and vertices",pinningButton:"Pin shared vertices together",rotateButton:"Rotate Layers",drawTextButton:"Draw Text",scaleButton:"Scale Layers",autoTracingButton:"Auto trace Line",snapGuidesButton:"Show SnapGuides",unionButton:"Union layers",differenceButton:"Subtract layers"},measurements:{totalLength:"Length",segmentLength:"Segment length",area:"Area",radius:"Radius",perimeter:"Perimeter",height:"Height",width:"Width",coordinates:"Position",coordinatesMarker:"Position Marker"}},Ia={tooltips:{placeMarker:"Platziere den Marker mit Klick",firstVertex:"Platziere den ersten Marker mit Klick",continueLine:"Klicke, um weiter zu zeichnen",finishLine:"Beende mit Klick auf existierenden Marker",finishPoly:"Beende mit Klick auf ersten Marker",finishRect:"Beende mit Klick",startCircle:"Platziere das Kreiszentrum mit Klick",finishCircle:"Beende den Kreis mit Klick",placeCircleMarker:"Platziere den Kreismarker mit Klick",placeText:"Platziere den Text mit Klick"},actions:{finish:"Beenden",cancel:"Abbrechen",removeLastVertex:"Letzten Vertex lschen"},buttonTitles:{drawMarkerButton:"Marker zeichnen",drawPolyButton:"Polygon zeichnen",drawLineButton:"Polyline zeichnen",drawCircleButton:"Kreis zeichnen",drawRectButton:"Rechteck zeichnen",editButton:"Layer editieren",dragButton:"Layer bewegen",cutButton:"Layer schneiden",deleteButton:"Layer lschen",drawCircleMarkerButton:"Kreismarker zeichnen",snappingButton:"Bewegter Layer an andere Layer oder Vertexe einhacken",pinningButton:"Vertexe an der gleichen Position verknpfen",rotateButton:"Layer drehen",drawTextButton:"Text zeichnen",scaleButton:"Layer skalieren",autoTracingButton:"Linie automatisch nachzeichen"},measurements:{totalLength:"Lnge",segmentLength:"Segment Lnge",area:"Flche",radius:"Radius",perimeter:"Umfang",height:"Hhe",width:"Breite",coordinates:"Position",coordinatesMarker:"Position Marker"}},si={tooltips:{placeMarker:"Clicca per posizionare un Marker",firstVertex:"Clicca per posizionare il primo vertice",continueLine:"Clicca per continuare a disegnare",finishLine:"Clicca qualsiasi marker esistente per terminare",finishPoly:"Clicca il primo marker per terminare",finishRect:"Clicca per terminare",startCircle:"Clicca per posizionare il punto centrale del cerchio",finishCircle:"Clicca per terminare il cerchio",placeCircleMarker:"Clicca per posizionare un Marker del cherchio"},actions:{finish:"Termina",cancel:"Annulla",removeLastVertex:"Rimuovi l'ultimo vertice"},buttonTitles:{drawMarkerButton:"Disegna Marker",drawPolyButton:"Disegna Poligoni",drawLineButton:"Disegna Polilinea",drawCircleButton:"Disegna Cerchio",drawRectButton:"Disegna Rettangolo",editButton:"Modifica Livelli",dragButton:"Sposta Livelli",cutButton:"Ritaglia Livelli",deleteButton:"Elimina Livelli",drawCircleMarkerButton:"Disegna Marker del Cerchio",snappingButton:"Snap ha trascinato il pennarello su altri strati e vertici",pinningButton:"Pin condiviso vertici insieme",rotateButton:"Ruota livello"}},Jr={tooltips:{placeMarker:"Klik untuk menempatkan marker",firstVertex:"Klik untuk menempatkan vertex pertama",continueLine:"Klik untuk meneruskan digitasi",finishLine:"Klik pada sembarang marker yang ada untuk mengakhiri",finishPoly:"Klik marker pertama untuk mengakhiri",finishRect:"Klik untuk mengakhiri",startCircle:"Klik untuk menempatkan titik pusat lingkaran",finishCircle:"Klik untuk mengakhiri lingkaran",placeCircleMarker:"Klik untuk menempatkan penanda lingkarann"},actions:{finish:"Selesai",cancel:"Batal",removeLastVertex:"Hilangkan Vertex Terakhir"},buttonTitles:{drawMarkerButton:"Digitasi Marker",drawPolyButton:"Digitasi Polygon",drawLineButton:"Digitasi Polyline",drawCircleButton:"Digitasi Lingkaran",drawRectButton:"Digitasi Segi Empat",editButton:"Edit Layer",dragButton:"Geser Layer",cutButton:"Potong Layer",deleteButton:"Hilangkan Layer",drawCircleMarkerButton:"Digitasi Penanda Lingkaran",snappingButton:"Jepretkan penanda yang ditarik ke lapisan dan simpul lain",pinningButton:"Sematkan simpul bersama bersama",rotateButton:"Putar lapisan"}},Ro={tooltips:{placeMarker:"Adaug un punct",firstVertex:"Apas aici pentru a aduga primul Vertex",continueLine:"Apas aici pentru a continua desenul",finishLine:"Apas pe orice obiect pentru a finisa desenul",finishPoly:"Apas pe primul obiect pentru a finisa",finishRect:"Apas pentru a finisa",startCircle:"Apas pentru a desena un cerc",finishCircle:"Apas pentru a finisa un cerc",placeCircleMarker:"Adaug un punct"},actions:{finish:"Termin",cancel:"Anuleaz",removeLastVertex:"terge ultimul Vertex"},buttonTitles:{drawMarkerButton:"Adaug o bulin",drawPolyButton:"Deseneaz un poligon",drawLineButton:"Deseneaz o linie",drawCircleButton:"Deseneaz un cerc",drawRectButton:"Deseneaz un dreptunghi",editButton:"Editeaz straturile",dragButton:"Mut straturile",cutButton:"Taie straturile",deleteButton:"terge straturile",drawCircleMarkerButton:"Deseneaz marcatorul cercului",snappingButton:"Fixai marcatorul glisat pe alte straturi i vrfuri",pinningButton:"Fixai vrfurile partajate mpreun",rotateButton:"Rotii stratul"}},Ra={tooltips:{placeMarker:",   ",firstVertex:",    ",continueLine:",   ",finishLine:"     ",finishPoly:"  ,  ",finishRect:",  ",startCircle:",    ",finishCircle:",   ",placeCircleMarker:",    "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"   ",rotateButton:" "}},Fi={tooltips:{placeMarker:"Presiona para colocar un marcador",firstVertex:"Presiona para colocar el primer vrtice",continueLine:"Presiona para continuar dibujando",finishLine:"Presiona cualquier marcador existente para finalizar",finishPoly:"Presiona el primer marcador para finalizar",finishRect:"Presiona para finalizar",startCircle:"Presiona para colocar el centro del crculo",finishCircle:"Presiona para finalizar el crculo",placeCircleMarker:"Presiona para colocar un marcador de crculo"},actions:{finish:"Finalizar",cancel:"Cancelar",removeLastVertex:"Eliminar ltimo vrtice"},buttonTitles:{drawMarkerButton:"Dibujar Marcador",drawPolyButton:"Dibujar Polgono",drawLineButton:"Dibujar Lnea",drawCircleButton:"Dibujar Crculo",drawRectButton:"Dibujar Rectngulo",editButton:"Editar Capas",dragButton:"Arrastrar Capas",cutButton:"Cortar Capas",deleteButton:"Eliminar Capas",drawCircleMarkerButton:"Dibujar Marcador de Crculo",snappingButton:"El marcador de Snap arrastrado a otras capas y vrtices",pinningButton:"Fijar juntos los vrtices compartidos",rotateButton:"Rotar capa"}},kr={tooltips:{placeMarker:"Klik om een marker te plaatsen",firstVertex:"Klik om het eerste punt te plaatsen",continueLine:"Klik om te blijven tekenen",finishLine:"Klik op een bestaand punt om te beindigen",finishPoly:"Klik op het eerst punt om te beindigen",finishRect:"Klik om te beindigen",startCircle:"Klik om het middelpunt te plaatsen",finishCircle:"Klik om de cirkel te beindigen",placeCircleMarker:"Klik om een marker te plaatsen"},actions:{finish:"Bewaar",cancel:"Annuleer",removeLastVertex:"Verwijder laatste punt"},buttonTitles:{drawMarkerButton:"Plaats Marker",drawPolyButton:"Teken een vlak",drawLineButton:"Teken een lijn",drawCircleButton:"Teken een cirkel",drawRectButton:"Teken een vierkant",editButton:"Bewerk",dragButton:"Verplaats",cutButton:"Knip",deleteButton:"Verwijder",drawCircleMarkerButton:"Plaats Marker",snappingButton:"Snap gesleepte marker naar andere lagen en hoekpunten",pinningButton:"Speld gedeelde hoekpunten samen",rotateButton:"Laag roteren"}},ds={tooltips:{placeMarker:"Cliquez pour placer un marqueur",firstVertex:"Cliquez pour placer le premier sommet",continueLine:"Cliquez pour continuer  dessiner",finishLine:"Cliquez sur n'importe quel marqueur pour terminer",finishPoly:"Cliquez sur le premier marqueur pour terminer",finishRect:"Cliquez pour terminer",startCircle:"Cliquez pour placer le centre du cercle",finishCircle:"Cliquez pour finir le cercle",placeCircleMarker:"Cliquez pour placer le marqueur circulaire"},actions:{finish:"Terminer",cancel:"Annuler",removeLastVertex:"Retirer le dernier sommet"},buttonTitles:{drawMarkerButton:"Placer des marqueurs",drawPolyButton:"Dessiner des polygones",drawLineButton:"Dessiner des polylignes",drawCircleButton:"Dessiner un cercle",drawRectButton:"Dessiner un rectangle",editButton:"diter des calques",dragButton:"Dplacer des calques",cutButton:"Couper des calques",deleteButton:"Supprimer des calques",drawCircleMarkerButton:"Dessiner un marqueur circulaire",snappingButton:"Glisser le marqueur vers d'autres couches et sommets",pinningButton:"pingler ensemble les sommets partags",rotateButton:"Tourner des calques"}},Gn={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:""}},Ws={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:""}},vo={tooltips:{placeMarker:"Clique para posicionar o marcador",firstVertex:"Clique para posicionar o primeiro vrtice",continueLine:"Clique para continuar desenhando",finishLine:"Clique em qualquer marcador existente para finalizar",finishPoly:"Clique no primeiro marcador para finalizar",finishRect:"Clique para finalizar",startCircle:"Clique para posicionar o centro do crculo",finishCircle:"Clique para finalizar o crculo",placeCircleMarker:"Clique para posicionar o marcador circular",placeText:"Clique para inserir texto"},actions:{finish:"Finalizar",cancel:"Cancelar",removeLastVertex:"Remover ltimo vrtice"},buttonTitles:{drawMarkerButton:"Desenhar Marcador",drawPolyButton:"Desenhar Polgonos",drawLineButton:"Desenhar Linha Poligonal",drawCircleButton:"Desenhar Crculo",drawRectButton:"Desenhar Retngulo",editButton:"Editar Camadas",dragButton:"Arrastar Camadas",cutButton:"Recortar Camadas",deleteButton:"Remover Camadas",drawCircleMarkerButton:"Desenhar Marcador de Crculo",snappingButton:"Ajustar marcador arrastado a outras camadas e vrtices",pinningButton:"Unir vrtices compartilhados",rotateButton:"Rotacionar Camadas",drawTextButton:"Desenhar Texto",scaleButton:"Redimensionar Camadas",autoTracingButton:"Traado Automtico de Linha"},measurements:{totalLength:"Comprimento",segmentLength:"Comprimento do Segmento",area:"rea",radius:"Raio",perimeter:"Permetro",height:"Altura",width:"Largura",coordinates:"Posio",coordinatesMarker:"Marcador de Posio"}},$s={tooltips:{placeMarker:"Clique para colocar marcador",firstVertex:"Clique para colocar primeiro vrtice",continueLine:"Clique para continuar a desenhar",finishLine:"Clique num marcador existente para terminar",finishPoly:"Clique no primeiro marcador para terminar",finishRect:"Clique para terminar",startCircle:"Clique para colocar o centro do crculo",finishCircle:"Clique para terminar o crculo",placeCircleMarker:"Clique para colocar marcador de crculo",placeText:"Clique para colocar texto"},actions:{finish:"Terminar",cancel:"Cancelar",removeLastVertex:"Remover ltimo Vrtice"},buttonTitles:{drawMarkerButton:"Desenhar Marcador",drawPolyButton:"Desenhar Polgonos",drawLineButton:"Desenhar Polilinha",drawCircleButton:"Desenhar Crculo",drawRectButton:"Desenhar Retngulo",editButton:"Editar Camadas",dragButton:"Arrastar Camadas",cutButton:"Cortar Camadas",deleteButton:"Remover Camadas",drawCircleMarkerButton:"Desenhar Marcador de Crculo",snappingButton:"Ajustar marcador arrastado a outras camadas e vrtices",pinningButton:"Unir vrtices partilhados",rotateButton:"Rodar Camadas",drawTextButton:"Desenhar Texto",scaleButton:"Escalar Camadas",autoTracingButton:"Traado Automtico de Linha"},measurements:{totalLength:"Comprimento",segmentLength:"Comprimento do Segmento",area:"rea",radius:"Raio",perimeter:"Permetro",height:"Altura",width:"Largura",coordinates:"Posio",coordinatesMarker:"Marcador de Posio"}},yo={tooltips:{placeMarker:"Kliknij, aby umieci znacznik",firstVertex:"Kliknij, aby umieci pierwszy wierzchoek",continueLine:"Kliknij, aby kontynuowa rysowanie",finishLine:"Kliknij dowolny istniejcy znacznik, aby zakoczy",finishPoly:"Kliknij pierwszy znacznik, aby zakoczy",finishRect:"Kliknij, aby zakoczy",startCircle:"Kliknij, aby umieci rodek okrgu",finishCircle:"Kliknij, aby zakoczy okrg",placeCircleMarker:"Kliknij, aby umieci znacznik okrgu",placeText:"Kliknij, aby umieci tekst"},actions:{finish:"Zakocz",cancel:"Anuluj",removeLastVertex:"Usu ostatni wierzchoek"},buttonTitles:{drawMarkerButton:"Rysuj znacznik",drawPolyButton:"Rysuj wielokt",drawLineButton:"Rysuj lini",drawCircleButton:"Rysuj okrg",drawRectButton:"Rysuj prostokt",editButton:"Edytuj warstwy",dragButton:"Przecignij warstwy",cutButton:"Wytnij warstwy",deleteButton:"Usu warstwy",drawCircleMarkerButton:"Rysuj znacznik okrgy",snappingButton:"Przycignij przenoszony znacznik do innych warstw i wierzchokw",pinningButton:"Przypnij wsplne wierzchoki razem",rotateButton:"Obr warstwy",drawTextButton:"Rysuj tekst",scaleButton:"Skaluj warstwy",autoTracingButton:"Automatyczne ledzenie linii"},measurements:{totalLength:"Dugo",segmentLength:"Dugo odcinka",area:"Obszar",radius:"Promie",perimeter:"Obwd",height:"Wysoko",width:"Szeroko",coordinates:"Pozycja",coordinatesMarker:"Znacznik pozycji"}},ps={tooltips:{placeMarker:"Klicka fr att placera markr",firstVertex:"Klicka fr att placera frsta hrnet",continueLine:"Klicka fr att fortstta rita",finishLine:"Klicka p en existerande punkt fr att slutfra",finishPoly:"Klicka p den frsta punkten fr att slutfra",finishRect:"Klicka fr att slutfra",startCircle:"Klicka fr att placera cirkelns centrum",finishCircle:"Klicka fr att slutfra cirkeln",placeCircleMarker:"Klicka fr att placera cirkelmarkr"},actions:{finish:"Slutfr",cancel:"Avbryt",removeLastVertex:"Ta bort sista hrnet"},buttonTitles:{drawMarkerButton:"Rita Markr",drawPolyButton:"Rita Polygoner",drawLineButton:"Rita Linje",drawCircleButton:"Rita Cirkel",drawRectButton:"Rita Rektangel",editButton:"Redigera Lager",dragButton:"Dra Lager",cutButton:"Klipp i Lager",deleteButton:"Ta bort Lager",drawCircleMarkerButton:"Rita Cirkelmarkr",snappingButton:"Snpp dra markren till andra lager och hrn",pinningButton:"Fst delade hrn tillsammans",rotateButton:"Rotera lagret"}},Vs={tooltips:{placeMarker:"     ",firstVertex:"       ",continueLine:"      ",finishLine:"        ",finishPoly:"       ",finishRect:"    ",startCircle:"      ",finishCircle:"      ",placeCircleMarker:"      "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"        ",pinningButton:"   ",rotateButton:"  "}},Zs={tooltips:{placeMarker:"Kattintson a jell elhelyezshez",firstVertex:"Kattintson az els pont elhelyezshez",continueLine:"Kattintson a kvetkez pont elhelyezshez",finishLine:"A befejezshez kattintson egy meglv pontra",finishPoly:"A befejezshez kattintson az els pontra",finishRect:"Kattintson a befejezshez",startCircle:"Kattintson a kr kzppontjnak elhelyezshez",finishCircle:"Kattintson a kr befejezshez",placeCircleMarker:"Kattintson a krjell elhelyezshez"},actions:{finish:"Befejezs",cancel:"Mgse",removeLastVertex:"Utols pont eltvoltsa"},buttonTitles:{drawMarkerButton:"Jell rajzolsa",drawPolyButton:"Poligon rajzolsa",drawLineButton:"Vonal rajzolsa",drawCircleButton:"Kr rajzolsa",drawRectButton:"Ngyzet rajzolsa",editButton:"Elemek szerkesztse",dragButton:"Elemek mozgatsa",cutButton:"Elemek vgsa",deleteButton:"Elemek trlse",drawCircleMarkerButton:"Kr jell rajzolsa",snappingButton:"Kapcsolja a jelltt msik elemhez vagy ponthoz",pinningButton:"Kzs pontok sszektse",rotateButton:"Flia elforgatsa"}},va={tooltips:{placeMarker:"Tryk for at placere en markr",firstVertex:"Tryk for at placere det frste punkt",continueLine:"Tryk for at fortstte linjen",finishLine:"Tryk p et eksisterende punkt for at afslutte",finishPoly:"Tryk p det frste punkt for at afslutte",finishRect:"Tryk for at afslutte",startCircle:"Tryk for at placere cirklens center",finishCircle:"Tryk for at afslutte cirklen",placeCircleMarker:"Tryk for at placere en cirkelmarkr"},actions:{finish:"Afslut",cancel:"Afbryd",removeLastVertex:"Fjern sidste punkt"},buttonTitles:{drawMarkerButton:"Placer markr",drawPolyButton:"Tegn polygon",drawLineButton:"Tegn linje",drawCircleButton:"Tegn cirkel",drawRectButton:"Tegn firkant",editButton:"Rediger",dragButton:"Trk",cutButton:"Klip",deleteButton:"Fjern",drawCircleMarkerButton:"Tegn cirkelmarkr",snappingButton:"Fastgr trukket markr til andre elementer",pinningButton:"Sammenlg delte elementer",rotateButton:"Roter laget"}},dr={tooltips:{placeMarker:"Klikk for  plassere punkt",firstVertex:"Klikk for  plassere frste punkt",continueLine:"Klikk for  tegne videre",finishLine:"Klikk p et eksisterende punkt for  fullfre",finishPoly:"Klikk frste punkt for  fullfre",finishRect:"Klikk for  fullfre",startCircle:"Klikk for  sette sirkel midtpunkt",finishCircle:"Klikk for  fullfre sirkel",placeCircleMarker:"Klikk for  plassere sirkel",placeText:"Klikk for  plassere tekst"},actions:{finish:"Fullfr",cancel:"Kanseller",removeLastVertex:"Fjern forrige punkt"},buttonTitles:{drawMarkerButton:"Tegn punkt",drawPolyButton:"Tegn flate",drawLineButton:"Tegn linje",drawCircleButton:"Tegn sirkel",drawRectButton:"Tegn rektangel",editButton:"Rediger objekter",dragButton:"Dra objekter",cutButton:"Kutt objekter",deleteButton:"Fjern objekter",drawCircleMarkerButton:"Tegn sirkel-punkt",snappingButton:"Fest dratt punkt til andre objekter og punkt",pinningButton:"Pin delte punkter sammen",rotateButton:"Rotr objekter",drawTextButton:"Tegn tekst",scaleButton:"Skalr objekter",autoTracingButton:"Automatisk sporing av linje"},measurements:{totalLength:"Lengde",segmentLength:"Segmentlengde",area:"Omrde",radius:"Radius",perimeter:"Omriss",height:"Hyde",width:"Bredde",coordinates:"Posisjon",coordinatesMarker:"Posisjonsmarkr"}},Ms={tooltips:{placeMarker:"   ",firstVertex:"    ",continueLine:"   ",finishLine:"      ",finishPoly:"     ",finishRect:"  ",startCircle:"    ",finishCircle:"    ",placeCircleMarker:"    ",placeText:"   "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"      ",rotateButton:" ",drawTextButton:" ",scaleButton:"",autoTracingButton:" "},measurements:{totalLength:"",segmentLength:" ",area:"",radius:"",perimeter:"",height:"",width:"",coordinates:"",coordinatesMarker:" "}},es={tooltips:{placeMarker:",   ",firstVertex:",    ",continueLine:",   ",finishLine:" -    ",finishPoly:"  ,  ",finishRect:",  ",startCircle:",    ",finishCircle:",   ",placeCircleMarker:",    "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"'   ",rotateButton:" "}},bn={tooltips:{placeMarker:"areti yerletirmek iin tklayn",firstVertex:"lk tepe noktasn yerletirmek iin tklayn",continueLine:"izime devam etmek iin tklayn",finishLine:"Bitirmek iin mevcut herhangi bir iaretiyi tklayn",finishPoly:"Bitirmek iin ilk iaretiyi tklayn",finishRect:"Bitirmek iin tklayn",startCircle:"Daire merkezine yerletirmek iin tklayn",finishCircle:"Daireyi bitirmek iin tklayn",placeCircleMarker:"Daire iaretisi yerletirmek iin tklayn"},actions:{finish:"Bitir",cancel:"ptal",removeLastVertex:"Son keyi kaldr"},buttonTitles:{drawMarkerButton:"izim aretisi",drawPolyButton:"okgenler iz",drawLineButton:"oklu izgi iz",drawCircleButton:"ember iz",drawRectButton:"Dikdrtgen iz",editButton:"Katmanlar dzenle",dragButton:"Katmanlar srkle",cutButton:"Katmanlar kes",deleteButton:"Katmanlar kaldr",drawCircleMarkerButton:"Daire iaretisi iz",snappingButton:"Srklenen iaretiyi dier katmanlara ve kelere yaptr",pinningButton:"Paylalan keleri birbirine sabitle",rotateButton:"Katman dndr"}},xn={tooltips:{placeMarker:"Kliknutm vytvote znaku",firstVertex:"Kliknutm vytvote prvn objekt",continueLine:"Kliknutm pokraujte v kreslen",finishLine:"Kliknut na libovolnou existujc znaku pro dokonen",finishPoly:"Vyberte prvn bod pro dokonen",finishRect:"Kliknte pro dokonen",startCircle:"Kliknutm pidejte sted kruhu",finishCircle:",   ",placeCircleMarker:"Kliknutm nastavte polomr"},actions:{finish:"Dokonit",cancel:"Zruit",removeLastVertex:"Zruit posledn akci"},buttonTitles:{drawMarkerButton:"Pidat znaku",drawPolyButton:"Nakreslit polygon",drawLineButton:"Nakreslit kivku",drawCircleButton:"Nakreslit kruh",drawRectButton:"Nakreslit obdlnk",editButton:"Upravit vrstvu",dragButton:"Peneste vrstvu",cutButton:"Vyjmout vrstvu",deleteButton:"Smazat vrstvu",drawCircleMarkerButton:"Pidat kruhovou znaku",snappingButton:"Navzat tanou znaku k dalm vrstvm a vrcholm",pinningButton:"Spojit spolen body dohromady",rotateButton:"Otote vrstvu"}},zr={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:"",placeText:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:"",drawTextButton:""}},Hn={tooltips:{placeMarker:"Klikkaa asettaaksesi merkin",firstVertex:"Klikkaa asettaakseni ensimmisen osuuden",continueLine:"Klikkaa jatkaaksesi piirtmist",finishLine:"Klikkaa olemassa olevaa merkki lopettaaksesi",finishPoly:"Klikkaa ensimmist merkki lopettaaksesi",finishRect:"Klikkaa lopettaaksesi",startCircle:"Klikkaa asettaaksesi ympyrn keskipisteen",finishCircle:"Klikkaa lopettaaksesi ympyrn",placeCircleMarker:"Klikkaa asettaaksesi ympyrmerkin",placeText:"Klikkaa asettaaksesi tekstin"},actions:{finish:"Valmis",cancel:"Peruuta",removeLastVertex:"Poista viimeinen osuus"},buttonTitles:{drawMarkerButton:"Piirr merkkej",drawPolyButton:"Piirr monikulmioita",drawLineButton:"Piirr viivoja",drawCircleButton:"Piirr ympyr",drawRectButton:"Piirr neliskulmioita",editButton:"Muokkaa",dragButton:"Siirr",cutButton:"Leikkaa",deleteButton:"Poista",drawCircleMarkerButton:"Piirr ympyrmerkki",snappingButton:"Kiinnit siirrettv merkki toisiin muotoihin",pinningButton:"Kiinnit jaetut muodot yhteen",rotateButton:"Knn",drawTextButton:"Piirr teksti"}},wo={tooltips:{placeMarker:"  ",firstVertex:"   ",continueLine:"  ",finishLine:"   ",finishPoly:"   ",finishRect:" ",startCircle:"    ",finishCircle:"  ",placeCircleMarker:"   ",placeText:"  "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"   ",rotateButton:" ",drawTextButton:" "}},Ks={tooltips:{placeMarker:"   ",firstVertex:"    ",continueLine:"    ",finishLine:"    ",finishPoly:"    ",finishRect:"  ",startCircle:"    ",finishCircle:"   ",placeCircleMarker:"    ",placeText:"   "},actions:{finish:"",cancel:" ",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:"  ",cutButton:"  ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"     ",pinningButton:"   ",rotateButton:" ",drawTextButton:" ",scaleButton:"  ",autoTracingButton:"  "},measurements:{totalLength:"",segmentLength:" ",area:"",radius:"",perimeter:"",height:"",width:"",coordinates:"",coordinatesMarker:" "}},ja=$s,ts={en:$n,de:Ia,it:si,id:Jr,ro:Ro,ru:Ra,es:Fi,nl:kr,fr:ds,pt:ja,pt_br:vo,pt_pt:$s,zh:Gn,zh_tw:Ws,pl:yo,sv:ps,el:Vs,hu:Zs,da:va,no:dr,fa:Ms,ua:es,tr:bn,cz:xn,ja:zr,fi:Hn,ko:wo,ky:Ks},ms={_globalEditModeEnabled:!1,enableGlobalEditMode(l){let h={...l};this._globalEditModeEnabled=!0,this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),L.PM.Utils.findLayers(this.map).forEach(m=>{this._isRelevantForEdit(m)&&m.pm.enable(h)}),this.throttledReInitEdit||(this.throttledReInitEdit=L.Util.throttle(this.handleLayerAdditionInGlobalEditMode,100,this)),this._addedLayersEdit={},this.map.on("layeradd",this._layerAddedEdit,this),this.map.on("layeradd",this.throttledReInitEdit,this),this._fireGlobalEditModeToggled(!0)},disableGlobalEditMode(){this._globalEditModeEnabled=!1,L.PM.Utils.findLayers(this.map).forEach(l=>{l.pm.disable()}),this.map.off("layeradd",this._layerAddedEdit,this),this.map.off("layeradd",this.throttledReInitEdit,this),this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),this._fireGlobalEditModeToggled(!1)},globalEditEnabled(){return this.globalEditModeEnabled()},globalEditModeEnabled(){return this._globalEditModeEnabled},toggleGlobalEditMode(l=this.globalOptions){this.globalEditModeEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(l)},handleLayerAdditionInGlobalEditMode(){let l=this._addedLayersEdit;if(this._addedLayersEdit={},this.globalEditModeEnabled())for(let h in l){let m=l[h];this._isRelevantForEdit(m)&&m.pm.enable({...this.globalOptions})}},_layerAddedEdit({layer:l}){this._addedLayersEdit[L.stamp(l)]=l},_isRelevantForEdit(l){return l.pm&&!(l instanceof L.LayerGroup)&&(!L.PM.optIn&&!l.options.pmIgnore||L.PM.optIn&&l.options.pmIgnore===!1)&&!l._pmTempLayer&&l.pm.options.allowEditing}},bo=ms,no={_globalDragModeEnabled:!1,enableGlobalDragMode(){let l=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!0,this._addedLayersDrag={},l.forEach(h=>{this._isRelevantForDrag(h)&&h.pm.enableLayerDrag()}),this.throttledReInitDrag||(this.throttledReInitDrag=L.Util.throttle(this.reinitGlobalDragMode,100,this)),this.map.on("layeradd",this._layerAddedDrag,this),this.map.on("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!0)},disableGlobalDragMode(){let l=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!1,l.forEach(h=>{h.pm.disableLayerDrag()}),this.map.off("layeradd",this._layerAddedDrag,this),this.map.off("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!1)},globalDragModeEnabled(){return!!this._globalDragModeEnabled},toggleGlobalDragMode(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},reinitGlobalDragMode(){let l=this._addedLayersDrag;if(this._addedLayersDrag={},this.globalDragModeEnabled())for(let h in l){let m=l[h];this._isRelevantForDrag(m)&&m.pm.enableLayerDrag()}},_layerAddedDrag({layer:l}){this._addedLayersDrag[L.stamp(l)]=l},_isRelevantForDrag(l){return l.pm&&!(l instanceof L.LayerGroup)&&(!L.PM.optIn&&!l.options.pmIgnore||L.PM.optIn&&l.options.pmIgnore===!1)&&!l._pmTempLayer&&l.pm.options.draggable}},gr=no,ai={_globalRemovalModeEnabled:!1,enableGlobalRemovalMode(){this._globalRemovalModeEnabled=!0,this.map.eachLayer(l=>{this._isRelevantForRemoval(l)&&(l.pm.enabled()&&l.pm.disable(),l.on("click",this.removeLayer,this))}),this.throttledReInitRemoval||(this.throttledReInitRemoval=L.Util.throttle(this.handleLayerAdditionInGlobalRemovalMode,100,this)),this._addedLayersRemoval={},this.map.on("layeradd",this._layerAddedRemoval,this),this.map.on("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!0)},disableGlobalRemovalMode(){this._globalRemovalModeEnabled=!1,this.map.eachLayer(l=>{l.off("click",this.removeLayer,this)}),this.map.off("layeradd",this._layerAddedRemoval,this),this.map.off("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!1)},globalRemovalEnabled(){return this.globalRemovalModeEnabled()},globalRemovalModeEnabled(){return!!this._globalRemovalModeEnabled},toggleGlobalRemovalMode(){this.globalRemovalModeEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},removeLayer(l){let h=l.target;this._isRelevantForRemoval(h)&&!h.pm.dragging()&&(h.removeFrom(this.map.pm._getContainingLayer()),h.remove(),h instanceof L.LayerGroup?(this._fireRemoveLayerGroup(h),this._fireRemoveLayerGroup(this.map,h)):(h.pm._fireRemove(h),h.pm._fireRemove(this.map,h)))},_isRelevantForRemoval(l){return l.pm&&!(l instanceof L.LayerGroup)&&(!L.PM.optIn&&!l.options.pmIgnore||L.PM.optIn&&l.options.pmIgnore===!1)&&!l._pmTempLayer&&l.pm.options.allowRemoval},handleLayerAdditionInGlobalRemovalMode(){let l=this._addedLayersRemoval;if(this._addedLayersRemoval={},this.globalRemovalModeEnabled())for(let h in l){let m=l[h];this._isRelevantForRemoval(m)&&(m.pm.enabled()&&m.pm.disable(),m.on("click",this.removeLayer,this))}},_layerAddedRemoval({layer:l}){this._addedLayersRemoval[L.stamp(l)]=l}},zi=ai,ro={_globalRotateModeEnabled:!1,enableGlobalRotateMode(){this._globalRotateModeEnabled=!0,L.PM.Utils.findLayers(this.map).filter(l=>l instanceof L.Polyline).forEach(l=>{this._isRelevantForRotate(l)&&l.pm.enableRotate()}),this.throttledReInitRotate||(this.throttledReInitRotate=L.Util.throttle(this.handleLayerAdditionInGlobalRotateMode,100,this)),this._addedLayersRotate={},this.map.on("layeradd",this._layerAddedRotate,this),this.map.on("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},disableGlobalRotateMode(){this._globalRotateModeEnabled=!1,L.PM.Utils.findLayers(this.map).filter(l=>l instanceof L.Polyline).forEach(l=>{l.pm.disableRotate()}),this.map.off("layeradd",this._layerAddedRotate,this),this.map.off("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},globalRotateModeEnabled(){return!!this._globalRotateModeEnabled},toggleGlobalRotateMode(){this.globalRotateModeEnabled()?this.disableGlobalRotateMode():this.enableGlobalRotateMode()},_isRelevantForRotate(l){return l.pm&&l instanceof L.Polyline&&!(l instanceof L.LayerGroup)&&(!L.PM.optIn&&!l.options.pmIgnore||L.PM.optIn&&l.options.pmIgnore===!1)&&!l._pmTempLayer&&l.pm.options.allowRotation},handleLayerAdditionInGlobalRotateMode(){let l=this._addedLayersRotate;if(this._addedLayersRotate={},this.globalRotateModeEnabled())for(let h in l){let m=l[h];this._isRelevantForRemoval(m)&&m.pm.enableRotate()}},_layerAddedRotate({layer:l}){this._addedLayersRotate[L.stamp(l)]=l}},io=ro,xo=p(Gs()),Js={_fireDrawStart(l="Draw",h={}){this.__fire(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer},l,h)},_fireDrawEnd(l="Draw",h={}){this.__fire(this._map,"pm:drawend",{shape:this._shape},l,h)},_fireCreate(l,h="Draw",m={}){this.__fire(this._map,"pm:create",{shape:this._shape,marker:l,layer:l},h,m)},_fireCenterPlaced(l="Draw",h={}){let m=l==="Draw"?this._layer:void 0,y=l!=="Draw"?this._layer:void 0;this.__fire(this._layer,"pm:centerplaced",{shape:this._shape,workingLayer:m,layer:y,latlng:this._layer.getLatLng()},l,h)},_fireCut(l,h,m,y="Draw",S={}){this.__fire(l,"pm:cut",{shape:this._shape,layer:h,originalLayer:m},y,S)},_fireEdit(l=this._layer,h="Edit",m={}){this.__fire(l,"pm:edit",{layer:this._layer,shape:this.getShape()},h,m)},_fireEnable(l="Edit",h={}){this.__fire(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()},l,h)},_fireDisable(l="Edit",h={}){this.__fire(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()},l,h)},_fireUpdate(l="Edit",h={}){this.__fire(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()},l,h)},_fireMarkerDragStart(l,h=void 0,m="Edit",y={}){this.__fire(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:l,shape:this.getShape(),indexPath:h},m,y)},_fireMarkerDrag(l,h=void 0,m="Edit",y={}){this.__fire(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:l,shape:this.getShape(),indexPath:h},m,y)},_fireMarkerDragEnd(l,h=void 0,m=void 0,y="Edit",S={}){this.__fire(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:l,shape:this.getShape(),indexPath:h,intersectionReset:m},y,S)},_fireDragStart(l="Edit",h={}){this.__fire(this._layer,"pm:dragstart",{layer:this._layer,shape:this.getShape()},l,h)},_fireDrag(l,h="Edit",m={}){this.__fire(this._layer,"pm:drag",{...l,shape:this.getShape()},h,m)},_fireDragEnd(l="Edit",h={}){this.__fire(this._layer,"pm:dragend",{layer:this._layer,shape:this.getShape()},l,h)},_fireDragEnable(l="Edit",h={}){this.__fire(this._layer,"pm:dragenable",{layer:this._layer,shape:this.getShape()},l,h)},_fireDragDisable(l="Edit",h={}){this.__fire(this._layer,"pm:dragdisable",{layer:this._layer,shape:this.getShape()},l,h)},_fireRemove(l,h=l,m="Edit",y={}){this.__fire(l,"pm:remove",{layer:h,shape:this.getShape()},m,y)},_fireVertexAdded(l,h,m,y="Edit",S={}){this.__fire(this._layer,"pm:vertexadded",{layer:this._layer,workingLayer:this._layer,marker:l,indexPath:h,latlng:m,shape:this.getShape()},y,S)},_fireVertexRemoved(l,h,m="Edit",y={}){this.__fire(this._layer,"pm:vertexremoved",{layer:this._layer,marker:l,indexPath:h,shape:this.getShape()},m,y)},_fireVertexClick(l,h,m="Edit",y={}){this.__fire(this._layer,"pm:vertexclick",{layer:this._layer,markerEvent:l,indexPath:h,shape:this.getShape()},m,y)},_fireIntersect(l,h=this._layer,m="Edit",y={}){this.__fire(h,"pm:intersect",{layer:this._layer,intersection:l,shape:this.getShape()},m,y)},_fireLayerReset(l,h,m="Edit",y={}){this.__fire(this._layer,"pm:layerreset",{layer:this._layer,markerEvent:l,indexPath:h,shape:this.getShape()},m,y)},_fireChange(l,h="Edit",m={}){this.__fire(this._layer,"pm:change",{layer:this._layer,latlngs:l,shape:this.getShape()},h,m)},_fireTextChange(l,h="Edit",m={}){this.__fire(this._layer,"pm:textchange",{layer:this._layer,text:l,shape:this.getShape()},h,m)},_fireTextFocus(l="Edit",h={}){this.__fire(this._layer,"pm:textfocus",{layer:this._layer,shape:this.getShape()},l,h)},_fireTextBlur(l="Edit",h={}){this.__fire(this._layer,"pm:textblur",{layer:this._layer,shape:this.getShape()},l,h)},_fireSnapDrag(l,h,m="Snapping",y={}){this.__fire(l,"pm:snapdrag",h,m,y)},_fireSnap(l,h,m="Snapping",y={}){this.__fire(l,"pm:snap",h,m,y)},_fireUnsnap(l,h,m="Snapping",y={}){this.__fire(l,"pm:unsnap",h,m,y)},_fireRotationEnable(l,h,m="Rotation",y={}){this.__fire(l,"pm:rotateenable",{layer:this._layer,helpLayer:this._rotatePoly,shape:this.getShape()},m,y)},_fireRotationDisable(l,h="Rotation",m={}){this.__fire(l,"pm:rotatedisable",{layer:this._layer,shape:this.getShape()},h,m)},_fireRotationStart(l,h,m="Rotation",y={}){this.__fire(l,"pm:rotatestart",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:this._startAngle,originLatLngs:h},m,y)},_fireRotation(l,h,m,y=this._rotationLayer,S="Rotation",N={}){this.__fire(l,"pm:rotate",{layer:y,helpLayer:this._layer,startAngle:this._startAngle,angle:y.pm.getAngle(),angleDiff:h,oldLatLngs:m,newLatLngs:y.getLatLngs()},S,N)},_fireRotationEnd(l,h,m,y="Rotation",S={}){this.__fire(l,"pm:rotateend",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:h,angle:this._rotationLayer.pm.getAngle(),originLatLngs:m,newLatLngs:this._rotationLayer.getLatLngs()},y,S)},_fireActionClick(l,h,m,y="Toolbar",S={}){this.__fire(this._map,"pm:actionclick",{text:l.text,action:l,btnName:h,button:m},y,S)},_fireButtonClick(l,h,m="Toolbar",y={}){this.__fire(this._map,"pm:buttonclick",{btnName:l,button:h},m,y)},_fireLangChange(l,h,m,y,S="Global",N={}){this.__fire(this.map,"pm:langchange",{oldLang:l,activeLang:h,fallback:m,translations:y},S,N)},_fireGlobalDragModeToggled(l,h="Global",m={}){this.__fire(this.map,"pm:globaldragmodetoggled",{enabled:l,map:this.map},h,m)},_fireGlobalEditModeToggled(l,h="Global",m={}){this.__fire(this.map,"pm:globaleditmodetoggled",{enabled:l,map:this.map},h,m)},_fireGlobalRemovalModeToggled(l,h="Global",m={}){this.__fire(this.map,"pm:globalremovalmodetoggled",{enabled:l,map:this.map},h,m)},_fireGlobalCutModeToggled(l="Global",h={}){this.__fire(this._map,"pm:globalcutmodetoggled",{enabled:!!this._enabled,map:this._map},l,h)},_fireGlobalDrawModeToggled(l="Global",h={}){this.__fire(this._map,"pm:globaldrawmodetoggled",{enabled:this._enabled,shape:this._shape,map:this._map},l,h)},_fireGlobalRotateModeToggled(l="Global",h={}){this.__fire(this.map,"pm:globalrotatemodetoggled",{enabled:this.globalRotateModeEnabled(),map:this.map},l,h)},_fireRemoveLayerGroup(l,h=l,m="Edit",y={}){this.__fire(l,"pm:remove",{layer:h,shape:void 0},m,y)},_fireKeyeventEvent(l,h,m,y="Global",S={}){this.__fire(this.map,"pm:keyevent",{event:l,eventType:h,focusOn:m},y,S)},__fire(l,h,m,y,S={}){m=(0,xo.default)(m,S,{source:y}),L.PM.Utils._fireEvent(l,h,m)}},Ys=Js,so=()=>({_lastEvents:{keydown:void 0,keyup:void 0,current:void 0},_initKeyListener(l){this.map=l,L.DomEvent.on(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.on(window,"blur",this._onBlur,this),l.once("unload",this._unbindKeyListenerEvents,this)},_unbindKeyListenerEvents(){L.DomEvent.off(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.off(window,"blur",this._onBlur,this)},_onKeyListener(l){let h="document";this.map.getContainer().contains(l.target)&&(h="map");let m={event:l,eventType:l.type,focusOn:h};this._lastEvents[l.type]=m,this._lastEvents.current=m,this.map.pm._fireKeyeventEvent(l,l.type,h)},_onBlur(l){l.altKey=!1;let h={event:l,eventType:l.type,focusOn:"document"};this._lastEvents[l.type]=h,this._lastEvents.current=h},getLastKeyEvent(l="current"){return this._lastEvents[l]},isShiftKeyPressed(){return this._lastEvents.current?.event.shiftKey},isAltKeyPressed(){return this._lastEvents.current?.event.altKey},isCtrlKeyPressed(){return this._lastEvents.current?.event.ctrlKey},isMetaKeyPressed(){return this._lastEvents.current?.event.metaKey},getPressedKey(){return this._lastEvents.current?.event.key}}),In=so,gs=p(Xi());function gn(l){let h=L.PM.activeLang;return(0,gs.default)(ts[h],l)||(0,gs.default)(ts.en,l)||l}function Yr(l){for(let h=0;h<l.length;h+=1){let m=l[h];if(Array.isArray(m)){if(Yr(m))return!0}else if(m!=null&&m!=="")return!0}return!1}function Fa(l){return l.reduce((h,m)=>{if(m.length!==0){let y=Array.isArray(m)?Fa(m):m;Array.isArray(y)?y.length!==0&&h.push(y):h.push(y)}return h},[])}function Bs(l,h,m){let y={a:L.CRS.Earth.R,b:63567523142e-4,f:.0033528106647474805},{a:S,b:N,f:z}=y,H=l.lng,X=l.lat,te=m,Re=Math.PI,Ne=h*Re/180,ut=Math.sin(Ne),gt=Math.cos(Ne),Et=(1-z)*Math.tan(X*Re/180),Wt=1/Math.sqrt(1+Et*Et),Zt=Et*Wt,mn=Math.atan2(Et,gt),De=Wt*ut,qe=1-De*De,rt=qe*(S*S-N*N)/(N*N),yt=1+rt/16384*(4096+rt*(-768+rt*(320-175*rt))),it=rt/1024*(256+rt*(-128+rt*(74-47*rt))),dt=te/(N*yt),Q=2*Math.PI,ge,xe,ve;for(;Math.abs(dt-Q)>1e-12;){ge=Math.cos(2*mn+dt),xe=Math.sin(dt),ve=Math.cos(dt);let Dt=it*xe*(ge+it/4*(ve*(-1+2*ge*ge)-it/6*ge*(-3+4*xe*xe)*(-3+4*ge*ge)));Q=dt,dt=te/(N*yt)+Dt}let ke=Zt*xe-Wt*ve*gt,Ce=Math.atan2(Zt*ve+Wt*xe*gt,(1-z)*Math.sqrt(De*De+ke*ke)),Ke=Math.atan2(xe*ut,Wt*ve-Zt*xe*gt),He=z/16*qe*(4+z*(4-3*qe)),Qe=Ke-(1-He)*z*De*(dt+He*xe*(ge+He*ve*(-1+2*ge*ge))),pt=H+Qe*180/Re,ht=Ce*180/Re;return L.latLng(pt,ht)}function oi(l,h,m,y,S=!0){let N,z,H,X=[];for(let te=0;te<m;te+=1){if(S)N=te*360/m+y,z=Bs(l,N,h),H=L.latLng(z.lng,z.lat);else{let Re=l.lat+Math.cos(2*te*Math.PI/m)*h,Ne=l.lng+Math.sin(2*te*Math.PI/m)*h;H=L.latLng(Re,Ne)}X.push(H)}return X}function Lo(l,h,m){h=(h+360)%360;let y=Math.PI/180,S=180/Math.PI,{R:N}=L.CRS.Earth,z=l.lng*y,H=l.lat*y,X=h*y,te=Math.sin(H),Re=Math.cos(H),Ne=Math.cos(m/N),ut=Math.sin(m/N),gt=Math.asin(te*Ne+Re*ut*Math.cos(X)),Et=z+Math.atan2(Math.sin(X)*ut*Re,Ne-te*Math.sin(gt));Et*=S;let Wt=Et-360,Zt=Et<-180?Et+360:Et;return Et=Et>180?Wt:Zt,L.latLng([gt*S,Et])}function Cr(l,h,m){let y=l.latLngToContainerPoint(h),S=l.latLngToContainerPoint(m),N=Math.atan2(S.y-y.y,S.x-y.x)*180/Math.PI+90;return N+=N<0?360:0,N}function Ns(l,h,m,y){let S=Cr(l,h,m);return Lo(h,S,y)}function za(l,h,m="asc"){if(!h||Object.keys(h).length===0)return(X,te)=>X-te;let y=Object.keys(h),S,N=y.length-1,z={};for(;N>=0;)S=y[N],z[S.toLowerCase()]=h[S],N-=1;function H(X){if(X instanceof L.Marker)return"Marker";if(X instanceof L.Circle)return"Circle";if(X instanceof L.CircleMarker)return"CircleMarker";if(X instanceof L.Rectangle)return"Rectangle";if(X instanceof L.Polygon)return"Polygon";if(X instanceof L.Polyline)return"Line"}return(X,te)=>{let Re,Ne;if(Re=H(X.layer).toLowerCase(),Ne=H(te.layer).toLowerCase(),!Re||!Ne)return 0;let ut=Re in z?z[Re]:Number.MAX_SAFE_INTEGER,gt=Ne in z?z[Ne]:Number.MAX_SAFE_INTEGER,Et=0;return ut<gt?Et=-1:ut>gt&&(Et=1),m==="desc"?Et*-1:Et}}function _i(l,h=l.getLatLngs()){return l instanceof L.Polygon?L.polygon(h).getLatLngs():L.polyline(h).getLatLngs()}function ko(l,h){if(h.options.crs?.projection?.MAX_LATITUDE){let m=h.options.crs?.projection?.MAX_LATITUDE;l.lat=Math.max(Math.min(m,l.lat),-m)}return l}function Br(l){return l.options.renderer||l._map&&(l._map._getPaneRenderer(l.options.pane)||l._map.options.renderer||l._map._renderer)||l._renderer}var Co=L.Class.extend({includes:[bo,gr,zi,io,Ys],initialize(l){this.map=l,this.Draw=new L.PM.Draw(l),this.Toolbar=new L.PM.Toolbar(l),this.Keyboard=In(),this.globalOptions={snappable:!0,layerGroup:void 0,snappingOrder:["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],panes:{vertexPane:"markerPane",layerPane:"overlayPane",markerPane:"markerPane"},draggable:!0},this.Keyboard._initKeyListener(l)},setLang(l="en",h,m="en"){if(l=l.trim().toLowerCase(),!/^[a-z]{2}$/.test(l)){let S=l.replace(/[-_\s]/g,"-").replace(/^(\w{2})$/,"$1-").match(/([a-z]{2})-?([a-z]{2})?/);if(S){let N=[`${S[1]}_${S[2]}`,`${S[1]}`];for(let z of N)if(ts[z]){l=z;break}}}let y=L.PM.activeLang;h&&(ts[l]=(0,Ln.default)(ts[m],h)),L.PM.activeLang=l,this.map.pm.Toolbar.reinit(),this._fireLangChange(y,l,m,ts[l])},addControls(l){this.Toolbar.addControls(l)},removeControls(){this.Toolbar.removeControls()},toggleControls(){this.Toolbar.toggleControls()},controlsVisible(){return this.Toolbar.isVisible},enableDraw(l="Polygon",h){l==="Poly"&&(l="Polygon"),this.Draw.enable(l,h)},disableDraw(l="Polygon"){l==="Poly"&&(l="Polygon"),this.Draw.disable(l)},setPathOptions(l,h={}){let m=h.ignoreShapes||[],y=h.merge||!1;this.map.pm.Draw.shapes.forEach(S=>{m.indexOf(S)===-1&&this.map.pm.Draw[S].setPathOptions(l,y)})},getGlobalOptions(){return this.globalOptions},setGlobalOptions(l){let h=(0,Ln.default)(this.globalOptions,l);h.editable&&(h.resizeableCircleMarker=h.editable,delete h.editable);let m=!1;this.map.pm.Draw.CircleMarker.enabled()&&!!this.map.pm.Draw.CircleMarker.options.resizeableCircleMarker!=!!h.resizeableCircleMarker&&(this.map.pm.Draw.CircleMarker.disable(),m=!0);let y=!1;this.map.pm.Draw.Circle.enabled()&&!!this.map.pm.Draw.Circle.options.resizeableCircle!=!!h.resizeableCircle&&(this.map.pm.Draw.Circle.disable(),y=!0),this.map.pm.Draw.shapes.forEach(S=>{this.map.pm.Draw[S].setOptions(h)}),m&&this.map.pm.Draw.CircleMarker.enable(),y&&this.map.pm.Draw.Circle.enable(),L.PM.Utils.findLayers(this.map).forEach(S=>{S.pm.setOptions(h)}),this.map.fire("pm:globaloptionschanged"),this.globalOptions=h,this.applyGlobalOptions()},applyGlobalOptions(){L.PM.Utils.findLayers(this.map).forEach(l=>{l.pm.enabled()&&l.pm.applyOptions()})},globalDrawModeEnabled(){return!!this.Draw.getActiveShape()},globalCutModeEnabled(){return!!this.Draw.Cut.enabled()},enableGlobalCutMode(l){return this.Draw.Cut.enable(l)},toggleGlobalCutMode(l){return this.Draw.Cut.toggle(l)},disableGlobalCutMode(){return this.Draw.Cut.disable()},getGeomanLayers(l=!1){let h=L.PM.Utils.findLayers(this.map);if(!l)return h;let m=L.featureGroup();return m._pmTempLayer=!0,h.forEach(y=>{m.addLayer(y)}),m},getGeomanDrawLayers(l=!1){let h=L.PM.Utils.findLayers(this.map).filter(y=>y._drawnByGeoman===!0);if(!l)return h;let m=L.featureGroup();return m._pmTempLayer=!0,h.forEach(y=>{m.addLayer(y)}),m},_getContainingLayer(){return this.globalOptions.layerGroup&&this.globalOptions.layerGroup instanceof L.LayerGroup?this.globalOptions.layerGroup:this.map},_isCRSSimple(){return this.map.options.crs===L.CRS.Simple},_touchEventCounter:0,_addTouchEvents(l){this._touchEventCounter===0&&(L.DomEvent.on(l,"touchmove",this._canvasTouchMove,this),L.DomEvent.on(l,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter+=1},_removeTouchEvents(l){this._touchEventCounter===1&&(L.DomEvent.off(l,"touchmove",this._canvasTouchMove,this),L.DomEvent.off(l,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter=this._touchEventCounter<=1?0:this._touchEventCounter-1},_canvasTouchMove(l){Br(this.map)._onMouseMove(this._createMouseEvent("mousemove",l))},_canvasTouchClick(l){let h="";l.type==="touchstart"||l.type==="pointerdown"?h="mousedown":(l.type==="touchend"||l.type==="pointerup"||l.type==="touchcancel"||l.type==="pointercancel")&&(h="mouseup"),h&&Br(this.map)._onClick(this._createMouseEvent(h,l))},_createMouseEvent(l,h){let m,y=h.touches[0]||h.changedTouches[0];try{m=new MouseEvent(l,{bubbles:h.bubbles,cancelable:h.cancelable,view:h.view,detail:y.detail,screenX:y.screenX,screenY:y.screenY,clientX:y.clientX,clientY:y.clientY,ctrlKey:h.ctrlKey,altKey:h.altKey,shiftKey:h.shiftKey,metaKey:h.metaKey,button:h.button,relatedTarget:h.relatedTarget})}catch{m=document.createEvent("MouseEvents"),m.initMouseEvent(l,h.bubbles,h.cancelable,h.view,y.detail,y.screenX,y.screenY,y.clientX,y.clientY,h.ctrlKey,h.altKey,h.shiftKey,h.metaKey,h.button,h.relatedTarget)}return m}}),Ts=Co,ki=L.Control.extend({includes:[Ys],options:{position:"topleft",disableByOtherButtons:!0},initialize(l){this._button=L.Util.extend({},this.options,l)},onAdd(l){return this._map=l,this._map.pm.Toolbar.options.oneBlock?this._container=this._map.pm.Toolbar._createContainer(this.options.position):this._button.tool==="edit"?this._container=this._map.pm.Toolbar.editContainer:this._button.tool==="options"?this._container=this._map.pm.Toolbar.optionsContainer:this._button.tool==="custom"?this._container=this._map.pm.Toolbar.customContainer:this._container=this._map.pm.Toolbar.drawContainer,this._renderButton(),this._container},_renderButton(){let l=this.buttonsDomNode;this.buttonsDomNode=this._makeButton(this._button),l?l.replaceWith(this.buttonsDomNode):this._container.appendChild(this.buttonsDomNode)},onRemove(){return this.buttonsDomNode.remove(),this._container},getText(){return this._button.text},getIconUrl(){return this._button.iconUrl},destroy(){this._button={},this._update()},toggle(l){return typeof l=="boolean"?this._button.toggleStatus=l:this._button.toggleStatus=!this._button.toggleStatus,this._applyStyleClasses(),this._updateActiveAction(this._button),this._button.toggleStatus},toggled(){return this._button.toggleStatus},onCreate(){this.toggle(!1)},disable(){this.toggle(!1),this._button.disabled=!0,this._updateDisabled()},enable(){this._button.disabled=!1,this._updateDisabled(),this._updateActiveAction(this._button)},_triggerClick(l){l&&l.preventDefault(),!this._button.disabled&&(this._button.onClick(l,{button:this,event:l}),this._clicked(l),this._button.afterClick(l,{button:this,event:l}))},_makeButton(l){let h=this.options.position.indexOf("right")>-1?"pos-right":"",m=L.DomUtil.create("div",`button-container  ${h}`,this._container);l.title&&m.setAttribute("title",l.title);let y=L.DomUtil.create("a","leaflet-buttons-control-button",m);y.setAttribute("role","button"),y.setAttribute("tabindex","0"),y.href="#";let S=L.DomUtil.create("div",`leaflet-pm-actions-container ${h}`,m),N=l.actions,z={cancel:{text:gn("actions.cancel"),title:gn("actions.cancel"),onClick(){this._triggerClick()}},finishMode:{text:gn("actions.finish"),title:gn("actions.finish"),onClick(){this._triggerClick()}},removeLastVertex:{text:gn("actions.removeLastVertex"),title:gn("actions.removeLastVertex"),onClick(){this._map.pm.Draw[l.jsClass]._removeLastVertex()}},finish:{text:gn("actions.finish"),title:gn("actions.finish"),onClick(X){this._map.pm.Draw[l.jsClass]._finishShape(X)}}};l._preparedActions=N.map(X=>{let te=typeof X=="string"?X:X.name,Re;if(z[te])Re=z[te];else if(X.text)Re=X;else return Re;let Ne=L.DomUtil.create("a",`leaflet-pm-action ${h} action-${te}`,S);if(Ne.setAttribute("role","button"),Ne.setAttribute("tabindex","0"),Ne.href="#",Re.title&&(Ne.title=Re.title),Ne.innerHTML=Re.text,L.DomEvent.disableClickPropagation(Ne),L.DomEvent.on(Ne,"click",L.DomEvent.stop),Re._node=Ne,!l.disabled&&Re.onClick){let ut=gt=>{gt.preventDefault();let Et="",{buttons:Wt}=this._map.pm.Toolbar;for(let Zt in Wt)if(Wt[Zt]._button===l){Et=Zt;break}this._fireActionClick(Re,Et,l)};L.DomEvent.addListener(Ne,"click",ut,this),L.DomEvent.addListener(Ne,"click",Re.onClick,this),L.DomEvent.addListener(Ne,"click",()=>this._updateActiveAction(l))}return Re}),this._updateActiveAction(l),l.toggleStatus&&L.DomUtil.addClass(m,"active");let H=L.DomUtil.create("div","control-icon",y);return l.iconUrl&&H.setAttribute("src",l.iconUrl),l.className&&L.DomUtil.addClass(H,l.className),L.DomEvent.disableClickPropagation(y),L.DomEvent.on(y,"click",L.DomEvent.stop),l.disabled||(L.DomEvent.addListener(y,"click",this._onBtnClick,this),L.DomEvent.addListener(y,"click",this._triggerClick,this)),l.disabled&&(L.DomUtil.addClass(y,"pm-disabled"),y.setAttribute("aria-disabled","true")),m},_applyStyleClasses(){this._container&&(!this._button.toggleStatus||this._button.cssToggle===!1?(L.DomUtil.removeClass(this.buttonsDomNode,"active"),L.DomUtil.removeClass(this._container,"activeChild")):(L.DomUtil.addClass(this.buttonsDomNode,"active"),L.DomUtil.addClass(this._container,"activeChild")))},_onBtnClick(){if(this._button.disabled)return;this._button.disableOtherButtons&&this._map.pm.Toolbar.triggerClickOnToggledButtons(this);let l="",{buttons:h}=this._map.pm.Toolbar;for(let m in h)if(h[m]._button===this._button){l=m;break}this._fireButtonClick(l,this._button)},_clicked(){this._button.doToggle&&this.toggle()},_updateDisabled(){if(!this._container)return;let l="pm-disabled",h=this.buttonsDomNode.children[0];this._button.disabled?(L.DomUtil.addClass(h,l),h.setAttribute("aria-disabled","true")):(L.DomUtil.removeClass(h,l),h.setAttribute("aria-disabled","false"))},_updateActiveAction(l){l._preparedActions?.forEach(h=>{h?._node&&(h.isActive&&h.isActive.call(this)?L.DomUtil.addClass(h._node,"active-action"):L.DomUtil.removeClass(h._node,"active-action"))})}}),ao=ki;L.Control.PMButton=ao;var jo=L.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawCircleMarker:!0,drawText:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,rotateMode:!0,snappingOption:!0,drawControls:!0,editControls:!0,optionsControls:!0,customControls:!0,oneBlock:!1,position:"topleft",positions:{draw:"",edit:"",options:"",custom:""}},customButtons:[],initialize(l){this.customButtons=[],this.options.positions={draw:"",edit:"",options:"",custom:""},this.init(l)},reinit(){let l=this.isVisible;this.removeControls(),this._defineButtons(),l&&this.addControls()},init(l){this.map=l,this.buttons={},this.isVisible=!1,this.drawContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this.optionsContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"),this.customContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"),this._defineButtons()},_createContainer(l){let h=`${l}Container`;return this[h]||(this[h]=L.DomUtil.create("div",`leaflet-pm-toolbar leaflet-pm-${l} leaflet-bar leaflet-control`)),this[h]},getButtons(){return this.buttons},addControls(l=this.options){typeof l.editPolygon<"u"&&(l.editMode=l.editPolygon),typeof l.deleteLayer<"u"&&(l.removalMode=l.deleteLayer),L.Util.setOptions(this,l),this.applyIconStyle(),this.isVisible=!0,this._showHideButtons()},applyIconStyle(){let l=this.getButtons(),h={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",drawCircleMarker:"control-icon leaflet-pm-icon-circle-marker",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete",drawText:"control-icon leaflet-pm-icon-text"}};for(let m in l){let y=l[m];L.Util.setOptions(y,{className:h.geomanIcons[m]})}},removeControls(){let l=this.getButtons();for(let h in l)l[h].remove();this.isVisible=!1},toggleControls(l=this.options){this.isVisible?this.removeControls():this.addControls(l)},_addButton(l,h){return this.buttons[l]=h,this.options[l]=!!this.options[l]||!1,this.buttons[l]},triggerClickOnToggledButtons(l){for(let h in this.buttons){let m=this.buttons[h];m._button.disableByOtherButtons&&m!==l&&m.toggled()&&m._triggerClick()}},toggleButton(l,h,m=!0){l==="editPolygon"&&(l="editMode"),l==="deleteLayer"&&(l="removalMode");let y=l;return m&&this.triggerClickOnToggledButtons(this.buttons[y]),this.buttons[y]?this.buttons[y].toggle(h):!1},_defineButtons(){let l={className:"control-icon leaflet-pm-icon-marker",title:gn("buttonTitles.drawMarkerButton"),jsClass:"Marker",onClick:()=>{},afterClick:(ut,gt)=>{this.map.pm.Draw[gt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},h={title:gn("buttonTitles.drawPolyButton"),className:"control-icon leaflet-pm-icon-polygon",jsClass:"Polygon",onClick:()=>{},afterClick:(ut,gt)=>{this.map.pm.Draw[gt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},m={className:"control-icon leaflet-pm-icon-polyline",title:gn("buttonTitles.drawLineButton"),jsClass:"Line",onClick:()=>{},afterClick:(ut,gt)=>{this.map.pm.Draw[gt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},y={title:gn("buttonTitles.drawCircleButton"),className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:()=>{},afterClick:(ut,gt)=>{this.map.pm.Draw[gt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},S={title:gn("buttonTitles.drawCircleMarkerButton"),className:"control-icon leaflet-pm-icon-circle-marker",jsClass:"CircleMarker",onClick:()=>{},afterClick:(ut,gt)=>{this.map.pm.Draw[gt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},N={title:gn("buttonTitles.drawRectButton"),className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:()=>{},afterClick:(ut,gt)=>{this.map.pm.Draw[gt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},z={title:gn("buttonTitles.editButton"),className:"control-icon leaflet-pm-icon-edit",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},H={title:gn("buttonTitles.dragButton"),className:"control-icon leaflet-pm-icon-drag",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},X={title:gn("buttonTitles.cutButton"),className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:()=>{},afterClick:(ut,gt)=>{this.map.pm.Draw[gt.button._button.jsClass].toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},te={title:gn("buttonTitles.deleteButton"),className:"control-icon leaflet-pm-icon-delete",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},Re={title:gn("buttonTitles.rotateButton"),className:"control-icon leaflet-pm-icon-rotate",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalRotateMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},Ne={className:"control-icon leaflet-pm-icon-text",title:gn("buttonTitles.drawTextButton"),jsClass:"Text",onClick:()=>{},afterClick:(ut,gt)=>{this.map.pm.Draw[gt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]};this._addButton("drawMarker",new L.Control.PMButton(l)),this._addButton("drawPolyline",new L.Control.PMButton(m)),this._addButton("drawRectangle",new L.Control.PMButton(N)),this._addButton("drawPolygon",new L.Control.PMButton(h)),this._addButton("drawCircle",new L.Control.PMButton(y)),this._addButton("drawCircleMarker",new L.Control.PMButton(S)),this._addButton("drawText",new L.Control.PMButton(Ne)),this._addButton("editMode",new L.Control.PMButton(z)),this._addButton("dragMode",new L.Control.PMButton(H)),this._addButton("cutPolygon",new L.Control.PMButton(X)),this._addButton("removalMode",new L.Control.PMButton(te)),this._addButton("rotateMode",new L.Control.PMButton(Re))},_showHideButtons(){if(!this.isVisible)return;this.removeControls(),this.isVisible=!0;let l=this.getButtons(),h=[];this.options.drawControls===!1&&(h=h.concat(Object.keys(l).filter(m=>!l[m]._button.tool))),this.options.editControls===!1&&(h=h.concat(Object.keys(l).filter(m=>l[m]._button.tool==="edit"))),this.options.optionsControls===!1&&(h=h.concat(Object.keys(l).filter(m=>l[m]._button.tool==="options"))),this.options.customControls===!1&&(h=h.concat(Object.keys(l).filter(m=>l[m]._button.tool==="custom")));for(let m in l)if(this.options[m]&&h.indexOf(m)===-1){let y=l[m]._button.tool;y||(y="draw"),l[m].setPosition(this._getBtnPosition(y)),l[m].addTo(this.map)}},_getBtnPosition(l){return this.options.positions&&this.options.positions[l]?this.options.positions[l]:this.options.position},setBlockPosition(l,h){this.options.positions[l]=h,this._showHideButtons(),this.changeControlOrder()},getBlockPositions(){return this.options.positions},copyDrawControl(l,h){if(h)typeof h!="object"&&(h={name:h});else throw new TypeError("Button has no name");let m=this._btnNameMapping(l);if(!h.name)throw new TypeError("Button has no name");if(this.buttons[h.name])throw new TypeError("Button with this name already exists");let y=this.map.pm.Draw.createNewDrawInstance(h.name,m);h={...this.buttons[m]._button,...h};let S=this.createCustomControl(h);return{drawInstance:y,control:S}},createCustomControl(l){if(!l.name)throw new TypeError("Button has no name");if(this.buttons[l.name])throw new TypeError("Button with this name already exists");l.onClick||(l.onClick=()=>{}),l.afterClick||(l.afterClick=()=>{}),l.toggle!==!1&&(l.toggle=!0),l.block&&(l.block=l.block.toLowerCase()),(!l.block||l.block==="draw")&&(l.block=""),l.className?l.className.indexOf("control-icon")===-1&&(l.className=`control-icon ${l.className}`):l.className="control-icon";let h={tool:l.block,className:l.className,title:l.title||"",jsClass:l.name,onClick:l.onClick,afterClick:l.afterClick,doToggle:l.toggle,toggleStatus:!1,disableOtherButtons:l.disableOtherButtons??!0,disableByOtherButtons:l.disableByOtherButtons??!0,cssToggle:l.toggle,position:this.options.position,actions:l.actions||[],disabled:!!l.disabled};this.options[l.name]!==!1&&(this.options[l.name]=!0);let m=this._addButton(l.name,new L.Control.PMButton(h));return this.changeControlOrder(),m},controlExists(l){return!!this.getButton(l)},getButton(l){return this.getButtons()[l]},getButtonsInBlock(l){let h={};if(l)for(let m in this.getButtons()){let y=this.getButtons()[m];(y._button.tool===l||l==="draw"&&!y._button.tool)&&(h[m]=y)}return h},changeControlOrder(l=[]){let h=this._shapeMapping(),m=[];l.forEach(N=>{h[N]?m.push(h[N]):m.push(N)});let y=this.getButtons(),S={};m.forEach(N=>{y[N]&&(S[N]=y[N])}),Object.keys(y).filter(N=>!y[N]._button.tool||y[N]._button.tool==="draw").forEach(N=>{m.indexOf(N)===-1&&(S[N]=y[N])}),Object.keys(y).filter(N=>y[N]._button.tool==="edit").forEach(N=>{m.indexOf(N)===-1&&(S[N]=y[N])}),Object.keys(y).filter(N=>y[N]._button.tool==="options").forEach(N=>{m.indexOf(N)===-1&&(S[N]=y[N])}),Object.keys(y).filter(N=>y[N]._button.tool==="custom").forEach(N=>{m.indexOf(N)===-1&&(S[N]=y[N])}),Object.keys(y).forEach(N=>{m.indexOf(N)===-1&&(S[N]=y[N])}),this.map.pm.Toolbar.buttons=S,this._showHideButtons()},getControlOrder(){let l=this.getButtons(),h=[];for(let m in l)h.push(m);return h},changeActionsOfControl(l,h){let m=this._btnNameMapping(l);if(!m)throw new TypeError("No name passed");if(!h)throw new TypeError("No actions passed");if(!this.buttons[m])throw new TypeError("Button with this name not exists");this.buttons[m]._button.actions=h,this.changeControlOrder()},setButtonDisabled(l,h){let m=this._btnNameMapping(l);h?this.buttons[m].disable():this.buttons[m].enable()},_shapeMapping(){return{Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode",Rotate:"rotateMode",Text:"drawText"}},_btnNameMapping(l){let h=this._shapeMapping();return h[l]?h[l]:l}}),Fo=jo,So=p(Gs()),Xs={_initSnappableMarkers(){this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){this._layer.off("pm:dragstart",this._unsnap,this)},_assignEvents(l){l.forEach(h=>{if(Array.isArray(h)){this._assignEvents(h);return}h.off("drag",this._handleSnapping,this),h.on("drag",this._handleSnapping,this),h.off("dragend",this._cleanupSnapping,this),h.on("dragend",this._cleanupSnapping,this)})},_cleanupSnapping(l){if(l){let h=l.target;h._snapped=!1}delete this._snapList,this.throttledList&&(this._map.off("layeradd",this.throttledList,this),this.throttledList=void 0),this._map.off("layerremove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach(h=>{h.remove()})},_handleThrottleSnapping(){this.throttledList&&this._createSnapList()},_handleSnapping(l){let h=l.target;if(h._snapped=!1,this.throttledList||(this.throttledList=L.Util.throttle(this._handleThrottleSnapping,100,this)),l?.originalEvent?.altKey||this._map?.pm?.Keyboard.isAltKeyPressed()||(this._snapList===void 0&&(this._createSnapList(),this._map.off("layeradd",this.throttledList,this),this._map.on("layeradd",this.throttledList,this)),this._snapList.length<=0))return!1;let m=this._calcClosestLayer(h.getLatLng(),this._snapList);if(Object.keys(m).length===0)return!1;let y=m.layer instanceof L.Marker||m.layer instanceof L.CircleMarker||!this.options.snapSegment,S;y?S=m.latlng:S=this._checkPrioritiySnapping(m);let N=this.options.snapDistance,z={marker:h,shape:this._shape,snapLatLng:S,segment:m.segment,layer:this._layer,workingLayer:this._layer,layerInteractedWith:m.layer,distance:m.distance};if(this._fireSnapDrag(z.marker,z),this._fireSnapDrag(this._layer,z),m.distance<N){h._orgLatLng=h.getLatLng(),h.setLatLng(S),h._snapped=!0,h._snapInfo=z;let H=()=>{this._snapLatLng=S,this._fireSnap(h,z),this._fireSnap(this._layer,z)},X=this._snapLatLng||{},te=S||{};(X.lat!==te.lat||X.lng!==te.lng)&&H()}else this._snapLatLng&&(this._unsnap(z),h._snapped=!1,h._snapInfo=void 0,this._fireUnsnap(z.marker,z),this._fireUnsnap(this._layer,z));return!0},_createSnapList(){let l=[],h=[],m=this._map;m.off("layerremove",this._handleSnapLayerRemoval,this),m.on("layerremove",this._handleSnapLayerRemoval,this),m.eachLayer(y=>{if((y instanceof L.Polyline||y instanceof L.Marker||y instanceof L.CircleMarker||y instanceof L.ImageOverlay)&&y.options.snapIgnore!==!0){if(y.options.snapIgnore===void 0&&(!L.PM.optIn&&y.options.pmIgnore===!0||L.PM.optIn&&y.options.pmIgnore!==!1))return;(y instanceof L.Circle||y instanceof L.CircleMarker)&&y.pm&&y.pm._hiddenPolyCircle?l.push(y.pm._hiddenPolyCircle):y instanceof L.ImageOverlay&&(y=L.rectangle(y.getBounds())),l.push(y);let S=L.polyline([],{color:"red",pmIgnore:!0});S._pmTempLayer=!0,h.push(S),(y instanceof L.Circle||y instanceof L.CircleMarker)&&h.push(S)}}),l=l.filter(y=>this._layer!==y),l=l.filter(y=>y._latlng||y._latlngs&&Yr(y._latlngs)),l=l.filter(y=>!y._pmTempLayer),this._otherSnapLayers?(this._otherSnapLayers.forEach(()=>{let y=L.polyline([],{color:"red",pmIgnore:!0});y._pmTempLayer=!0,h.push(y)}),this._snapList=l.concat(this._otherSnapLayers)):this._snapList=l,this.debugIndicatorLines=h},_handleSnapLayerRemoval({layer:l}){if(!l._leaflet_id)return;let h=this._snapList.findIndex(m=>m._leaflet_id===l._leaflet_id);h>-1&&this._snapList.splice(h,1)},_calcClosestLayer(l,h){return this._calcClosestLayers(l,h,1)[0]},_calcClosestLayers(l,h,m=1){let y=[],S={};h.forEach((z,H)=>{if(z._parentCopy&&z._parentCopy===this._layer||z.getLatLngs?.().flat(5).length<2)return;let X=this._calcLayerDistances(l,z);if(X.distance=Math.floor(X.distance),this.debugIndicatorLines){if(!this.debugIndicatorLines[H]){let te=L.polyline([],{color:"red",pmIgnore:!0});te._pmTempLayer=!0,this.debugIndicatorLines[H]=te}this.debugIndicatorLines[H].setLatLngs([l,X.latlng])}m===1&&(S.distance===void 0||X.distance-5<=S.distance)?(X.distance+5<S.distance&&(y=[]),S=X,S.layer=z,y.push(S)):m!==1&&(S={},S=X,S.layer=z,y.push(S))}),m!==1&&(y=y.sort((z,H)=>z.distance-H.distance)),m===-1&&(m=y.length);let N=this._getClosestLayerByPriority(y,m);return L.Util.isArray(N)?N:[N]},_calcLayerDistances(l,h){let m=this._map,y=h instanceof L.Marker||h instanceof L.CircleMarker,S=h instanceof L.Polygon,N=l;if(y){let z=h.getLatLng();return{latlng:{...z},distance:this._getDistance(m,z,N)}}return this._calcLatLngDistances(N,h.getLatLngs(),m,S)},_calcLatLngDistances(l,h,m,y=!1){let S,N,z,H=X=>{X.forEach((te,Re)=>{if(Array.isArray(te)){H(te);return}if(this.options.snapSegment){let Ne=te,ut;y?ut=Re+1===X.length?0:Re+1:ut=Re+1===X.length?void 0:Re+1;let gt=X[ut];if(gt){let Et=this._getDistanceToSegment(m,l,Ne,gt);(N===void 0||Et<N)&&(N=Et,z=[Ne,gt])}}else{let Ne=this._getDistance(m,l,te);(N===void 0||Ne<N)&&(N=Ne,S=te)}})};return H(h),this.options.snapSegment?{latlng:{...this._getClosestPointOnSegment(m,l,z[0],z[1])},segment:z,distance:N}:{latlng:S,distance:N}},_getClosestLayerByPriority(l,h=1){l=l.sort((z,H)=>z._leaflet_id-H._leaflet_id);let m=["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],y=this._map.pm.globalOptions.snappingOrder||[],S=0,N={};return y.concat(m).forEach(z=>{N[z]||(S+=1,N[z]=S)}),l.sort(za("instanceofShape",N)),h===1?l[0]||{}:l.slice(0,h)},_checkPrioritiySnapping(l){let h=this._map,m=l.segment[0],y=l.segment[1],S=l.latlng,N=S;if(this.options.snapVertex){let z=this._getDistance(h,m,S),H=this._getDistance(h,y,S),X=z<H?m:y,te=z<H?z:H;if(this.options.snapMiddle){let Ne=L.PM.Utils.calcMiddleLatLng(h,m,y),ut=this._getDistance(h,Ne,S);ut<z&&ut<H&&(X=Ne,te=ut)}let Re=this.options.snapDistance;te<Re&&(N=X)}return{...N}},_unsnap(){delete this._snapLatLng},_getClosestPointOnSegment(l,h,m,y){let S=l.getMaxZoom();S===1/0&&(S=l.getZoom());let N=l.project(h,S),z=l.project(m,S),H=l.project(y,S),X=L.LineUtil.closestPointOnSegment(N,z,H);return l.unproject(X,S)},_getDistanceToSegment(l,h,m,y){let S=l.latLngToContainerPoint(h),N=l.latLngToContainerPoint(m),z=l.latLngToContainerPoint(y);return L.LineUtil.pointToSegmentDistance(S,N,z)},_getDistance(l,h,m){return l.latLngToContainerPoint(h).distanceTo(l.latLngToContainerPoint(m))}},oo=Xs,Ua=L.Class.extend({includes:[oo,Ys],options:{snappable:!0,snapDistance:20,snapMiddle:!1,allowSelfIntersection:!0,tooltips:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},pathOptions:null,cursorMarker:!0,finishOn:null,markerStyle:{draggable:!0,icon:L.icon()},hideMiddleMarkers:!1,minRadiusCircle:null,maxRadiusCircle:null,minRadiusCircleMarker:null,maxRadiusCircleMarker:null,resizeableCircleMarker:!1,resizeableCircle:!0,markerEditable:!0,continueDrawing:!1,snapSegment:!0,requireSnapToFinish:!1,rectangleAngle:0,textOptions:{text:null,focusAfterDraw:null,removeIfEmpty:null,className:null},snapVertex:!0},setOptions(l){L.Util.setOptions(this,l),this.setStyle(this.options)},setStyle(){},getOptions(){return this.options},initialize(l){let h=new L.Icon.Default;h.options.tooltipAnchor=[0,0],this.options.markerStyle.icon=h,this._map=l,this.shapes=["Marker","CircleMarker","Line","Polygon","Rectangle","Circle","Cut","Text"],this.shapes.forEach(m=>{this[m]=new L.PM.Draw[m](this._map)}),this.Marker.setOptions({continueDrawing:!0}),this.CircleMarker.setOptions({continueDrawing:!0})},setPathOptions(l,h=!1){h?this.options.pathOptions=(0,So.default)(this.options.pathOptions,l):this.options.pathOptions=l},getShapes(){return this.shapes},getShape(){return this._shape},enable(l,h){if(!l)throw new Error(`Error: Please pass a shape as a parameter. Possible shapes are: ${this.getShapes().join(",")}`);this.disable(),this[l].enable(h)},disable(){this.shapes.forEach(l=>{this[l].disable()})},addControls(){this.shapes.forEach(l=>{this[l].addButton()})},getActiveShape(){let l;return this.shapes.forEach(h=>{this[h]._enabled&&(l=h)}),l},_setGlobalDrawMode(){this._shape==="Cut"?this._fireGlobalCutModeToggled():this._fireGlobalDrawModeToggled();let l=[];this._map.eachLayer(h=>{(h instanceof L.Polyline||h instanceof L.Marker||h instanceof L.Circle||h instanceof L.CircleMarker||h instanceof L.ImageOverlay)&&(h._pmTempLayer||l.push(h))}),this._enabled?l.forEach(h=>{L.PM.Utils.disablePopup(h)}):l.forEach(h=>{L.PM.Utils.enablePopup(h)})},createNewDrawInstance(l,h){let m=this._getShapeFromBtnName(h);if(this[l])throw new TypeError("Draw Type already exists");if(!L.PM.Draw[m])throw new TypeError(`There is no class L.PM.Draw.${m}`);return this[l]=new L.PM.Draw[m](this._map),this[l].toolbarButtonName=l,this[l]._shape=l,this.shapes.push(l),this[h]&&this[l].setOptions(this[h].options),this[l].setOptions(this[l].options),this[l]},_getShapeFromBtnName(l){let h={drawMarker:"Marker",drawCircle:"Circle",drawPolygon:"Polygon",drawPolyline:"Line",drawRectangle:"Rectangle",drawCircleMarker:"CircleMarker",editMode:"Edit",dragMode:"Drag",cutPolygon:"Cut",removalMode:"Removal",rotateMode:"Rotate",drawText:"Text"};return h[l]?h[l]:this[l]?this[l]._shape:l},_finishLayer(l){l.pm&&(l.pm.setOptions(this.options),l.pm._shape=this._shape,l.pm._map=this._map),this._addDrawnLayerProp(l)},_addDrawnLayerProp(l){l._drawnByGeoman=!0},_setPane(l,h){h==="layerPane"?l.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":h==="vertexPane"?l.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":h==="markerPane"&&(l.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},_isFirstLayer(){return(this._map||this._layer._map).pm.getGeomanLayers().length===0}}),Nr=Ua;Nr.Marker=Nr.extend({initialize(l){this._map=l,this._shape="Marker",this.toolbarButtonName="drawMarker"},enable(l){L.Util.setOptions(this,l),this._enabled=!0,this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),this.options.markerStyle),this._setPane(this._hintMarker,"markerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip(gn("tooltips.placeMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this.options.markerEditable&&this._map.eachLayer(h=>{this.isRelevantMarker(h)&&h.pm.enable()}),this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer(l=>{this.isRelevantMarker(l)&&l.pm.disable()}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(l){this.enabled()?this.disable():this.enable(l)},isRelevantMarker(l){return l instanceof L.Marker&&l.pm&&!l._pmTempLayer&&!l.pm._initTextMarker},_syncHintMarker(l){if(this._hintMarker.setLatLng(l.latlng),this.options.snappable){let h=l;h.target=this._hintMarker,this._handleSnapping(h)}this._fireChange(this._hintMarker.getLatLng(),"Draw")},_createMarker(l){if(!l.latlng||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(l.latlng);let h=this._hintMarker.getLatLng(),m=new L.Marker(h,this.options.markerStyle);this._setPane(m,"markerPane"),this._finishLayer(m),m.pm||(m.options.draggable=!1),m.addTo(this._map.pm._getContainingLayer()),m.pm&&this.options.markerEditable?m.pm.enable():m.dragging&&m.dragging.disable(),this._fireCreate(m),this._cleanupSnapping(),this.options.continueDrawing||this.disable()},setStyle(){this.options.markerStyle?.icon&&this._hintMarker?.setIcon(this.options.markerStyle.icon)}});var M=63710088e-1,ne={centimeters:M*100,centimetres:M*100,degrees:M/111325,feet:M*3.28084,inches:M*39.37,kilometers:M/1e3,kilometres:M/1e3,meters:M,metres:M,miles:M/1609.344,millimeters:M*1e3,millimetres:M*1e3,nauticalmiles:M/1852,radians:1,yards:M*1.0936};function Ie(l,h,m){m===void 0&&(m={});var y={type:"Feature"};return(m.id===0||m.id)&&(y.id=m.id),m.bbox&&(y.bbox=m.bbox),y.properties=h||{},y.geometry=l,y}function Ze(l,h,m){if(m===void 0&&(m={}),!l)throw new Error("coordinates is required");if(!Array.isArray(l))throw new Error("coordinates must be an Array");if(l.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!kn(l[0])||!kn(l[1]))throw new Error("coordinates must contain numbers");var y={type:"Point",coordinates:l};return Ie(y,h,m)}function ft(l,h,m){if(m===void 0&&(m={}),l.length<2)throw new Error("coordinates must be an array of two or more positions");var y={type:"LineString",coordinates:l};return Ie(y,h,m)}function kt(l,h){h===void 0&&(h={});var m={type:"FeatureCollection"};return h.id&&(m.id=h.id),h.bbox&&(m.bbox=h.bbox),m.features=l,m}function jt(l,h){h===void 0&&(h="kilometers");var m=ne[h];if(!m)throw new Error(h+" units is invalid");return l*m}function Jt(l,h){h===void 0&&(h="kilometers");var m=ne[h];if(!m)throw new Error(h+" units is invalid");return l/m}function en(l){var h=l%(2*Math.PI);return h*180/Math.PI}function _n(l){var h=l%360;return h*Math.PI/180}function kn(l){return!isNaN(l)&&l!==null&&!Array.isArray(l)}function Rn(l){var h,m,y={type:"FeatureCollection",features:[]};if(l.type==="Feature"?m=l.geometry:m=l,m.type==="LineString")h=[m.coordinates];else if(m.type==="MultiLineString")h=m.coordinates;else if(m.type==="MultiPolygon")h=[].concat.apply([],m.coordinates);else if(m.type==="Polygon")h=m.coordinates;else throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");return h.forEach(function(S){h.forEach(function(N){for(var z=0;z<S.length-1;z++)for(var H=z;H<N.length-1;H++)if(!(S===N&&(Math.abs(z-H)===1||z===0&&H===S.length-2&&S[z][0]===S[S.length-1][0]&&S[z][1]===S[S.length-1][1]))){var X=_r(S[z][0],S[z][1],S[z+1][0],S[z+1][1],N[H][0],N[H][1],N[H+1][0],N[H+1][1]);X&&y.features.push(Ze([X[0],X[1]]))}})}),y}function _r(l,h,m,y,S,N,z,H){var X,te,Re,Ne,ut,gt={x:null,y:null,onLine1:!1,onLine2:!1};return X=(H-N)*(m-l)-(z-S)*(y-h),X===0?gt.x!==null&&gt.y!==null?gt:!1:(te=h-N,Re=l-S,Ne=(z-S)*te-(H-N)*Re,ut=(m-l)*te-(y-h)*Re,te=Ne/X,Re=ut/X,gt.x=l+te*(m-l),gt.y=h+te*(y-h),te>=0&&te<=1&&(gt.onLine1=!0),Re>=0&&Re<=1&&(gt.onLine2=!0),gt.onLine1&&gt.onLine2?[gt.x,gt.y]:!1)}Nr.Line=Nr.extend({initialize(l){this._map=l,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable(l){L.Util.setOptions(this,l),this._enabled=!0,this._markers=[],this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],{...this.options.templineStyle,pmIgnore:!1}),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(gn("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createVertex,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.on(this.options.finishOn,this._finishShape,this),this.options.finishOn==="dblclick"&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this.isRed=!1,this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(l){this.enabled()?this.disable():this.enable(l)},_syncHintLine(){let l=this._layer.getLatLngs();if(l.length>0){let h=l[l.length-1];this._hintline.setLatLngs([h,this._hintMarker.getLatLng()])}},_syncHintMarker(l){if(this._hintMarker.setLatLng(l.latlng),this.options.snappable){let m=l;m.target=this._hintMarker,this._handleSnapping(m)}this.options.allowSelfIntersection||this._handleSelfIntersection(!0,this._hintMarker.getLatLng());let h=this._layer._defaultShape().slice();h.push(this._hintMarker.getLatLng()),this._change(h)},hasSelfIntersection(){return Rn(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersection(l,h){let m=L.polyline(this._layer.getLatLngs());l&&(h||(h=this._hintMarker.getLatLng()),m.addLatLng(h));let y=Rn(m.toGeoJSON(15));this._doesSelfIntersect=y.features.length>0,this._doesSelfIntersect?this.isRed||(this.isRed=!0,this._hintline.setStyle({color:"#f00000ff"}),this._fireIntersect(y,this._map,"Draw")):this._hintline.isEmpty()||(this.isRed=!1,this._hintline.setStyle(this.options.hintlineStyle))},_createVertex(l){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,l.latlng),this._doesSelfIntersect))return;this._hintMarker._snapped||this._hintMarker.setLatLng(l.latlng);let h=this._hintMarker.getLatLng(),m=this._layer.getLatLngs(),y=m[m.length-1];if(h.equals(m[0])||m.length>0&&h.equals(y)){this._finishShape();return}this._layer._latlngInfo=this._layer._latlngInfo||[],this._layer._latlngInfo.push({latlng:h,snapInfo:this._hintMarker._snapInfo}),this._layer.addLatLng(h);let S=this._createMarker(h);this._setTooltipText(),this._setHintLineAfterNewVertex(h),this._fireVertexAdded(S,void 0,h,"Draw"),this._change(this._layer.getLatLngs()),this.options.finishOn==="snap"&&this._hintMarker._snapped&&this._finishShape(l)},_setHintLineAfterNewVertex(l){this._hintline.setLatLngs([l,l])},_removeLastVertex(){let l=this._markers;if(l.length<=1){this.disable();return}let h=this._layer.getLatLngs(),m=l[l.length-1],{indexPath:y}=L.PM.Utils.findDeepMarkerIndex(l,m);l.pop(),this._layerGroup.removeLayer(m);let S=l[l.length-1],N=h.indexOf(S.getLatLng());h=h.slice(0,N+1),this._layer.setLatLngs(h),this._layer._latlngInfo.pop(),this._syncHintLine(),this._setTooltipText(),this._fireVertexRemoved(m,y,"Draw"),this._change(this._layer.getLatLngs())},_finishShape(){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!1),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let l=this._layer.getLatLngs();if(l.length<=1)return;let h=L.polyline(l,this.options.pathOptions);this._setPane(h,"layerPane"),this._finishLayer(h),h.addTo(this._map.pm._getContainingLayer()),this._fireCreate(h),this.options.snappable&&this._cleanupSnapping();let m=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(m))},_createMarker(l){let h=new L.Marker(l,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(h,"vertexPane"),h._pmTempLayer=!0,this._layerGroup.addLayer(h),this._markers.push(h),h.on("click",this._finishShape,this),h},_setTooltipText(){let{length:l}=this._layer.getLatLngs().flat(),h="";l<=1?h=gn("tooltips.continueLine"):h=gn("tooltips.finishLine"),this._hintMarker.setTooltipContent(h)},_change(l){this._fireChange(l,"Draw")},setStyle(){this._layer?.setStyle(this.options.templineStyle),this._hintline?.setStyle(this.options.hintlineStyle)}}),Nr.Polygon=Nr.Line.extend({initialize(l){this._map=l,this._shape="Polygon",this.toolbarButtonName="drawPolygon"},enable(l){L.PM.Draw.Line.prototype.enable.call(this,l),this._layer.pm._shape="Polygon"},_createMarker(l){let h=new L.Marker(l,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(h,"vertexPane"),h._pmTempLayer=!0,this._layerGroup.addLayer(h),this._markers.push(h),this._layer.getLatLngs().flat().length===1?(h.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(h)-1,this.options.snappable&&this._cleanupSnapping()):h.on("click",()=>1),h},_setTooltipText(){let{length:l}=this._layer.getLatLngs().flat(),h="";l<=2?h=gn("tooltips.continueLine"):h=gn("tooltips.finishPoly"),this._hintMarker.setTooltipContent(h)},_finishShape(){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let l=this._layer.getLatLngs();if(l.length<=2)return;let h=L.polygon(l,this.options.pathOptions);this._setPane(h,"layerPane"),this._finishLayer(h),h.addTo(this._map.pm._getContainingLayer()),this._fireCreate(h),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex;let m=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(m))}}),Nr.Rectangle=Nr.extend({initialize(l){this._map=l,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable(l){if(L.Util.setOptions(this,l),this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._startMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!1,zIndexOffset:-100,opacity:this.options.cursorMarker?1:0}),this._setPane(this._startMarker,"vertexPane"),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:150,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(gn("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){this._styleMarkers=[];for(let h=0;h<2;h+=1){let m=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!1,zIndexOffset:100});this._setPane(m,"vertexPane"),m._pmTempLayer=!0,this._layerGroup.addLayer(m),this._styleMarkers.push(m)}}this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(l){this.enabled()?this.disable():this.enable(l)},_placeStartingMarkers(l){this._hintMarker._snapped||this._hintMarker.setLatLng(l.latlng);let h=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(h),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach(m=>{L.DomUtil.addClass(m._icon,"visible"),m.setLatLng(h)}),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent(gn("tooltips.finishRect")),this._setRectangleOrigin()},_setRectangleOrigin(){let l=this._startMarker.getLatLng();l&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([l,l]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker(l){if(this._hintMarker.setLatLng(l.latlng),this.options.snappable){let m=l;m.target=this._hintMarker,this._handleSnapping(m)}let h=this._layerGroup&&this._layerGroup.hasLayer(this._layer)?this._layer.getLatLngs():[this._hintMarker.getLatLng()];this._fireChange(h,"Draw")},_syncRectangleSize(){let l=ko(this._startMarker.getLatLng(),this._map),h=ko(this._hintMarker.getLatLng(),this._map),m=L.PM.Utils._getRotatedRectangle(l,h,this.options.rectangleAngle||0,this._map);if(this._layer.setLatLngs(m),this.options.cursorMarker&&this._styleMarkers){let y=[];m.forEach(S=>{!S.equals(l,1e-8)&&!S.equals(h,1e-8)&&y.push(S)}),y.forEach((S,N)=>{try{this._styleMarkers[N].setLatLng(S)}catch{}})}},_findCorners(){let l=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(l[0],l[2],this.options.rectangleAngle||0,this._map)},_finishShape(l){this._hintMarker._snapped||this._hintMarker.setLatLng(l.latlng);let h=this._hintMarker.getLatLng(),m=this._startMarker.getLatLng();if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer()||m.equals(h))return;let y=L.rectangle([m,h],this.options.pathOptions);if(this.options.rectangleAngle){let N=L.PM.Utils._getRotatedRectangle(m,h,this.options.rectangleAngle||0,this._map);y.setLatLngs(N),y.pm&&y.pm._setAngle(this.options.rectangleAngle||0)}this._setPane(y,"layerPane"),this._finishLayer(y),y.addTo(this._map.pm._getContainingLayer()),this._fireCreate(y);let S=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(S))},setStyle(){this._layer?.setStyle(this.options.pathOptions)}}),Nr.CircleMarker=Nr.extend({initialize(l){this._map=l,this._shape="CircleMarker",this.toolbarButtonName="drawCircleMarker",this._layerIsDragging=!1,this._BaseCircleClass=L.CircleMarker,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._defaultRadius=10},enable(l){if(L.Util.setOptions(this,l),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),this._enabled=!0,this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._map.getContainer().classList.add("geoman-draw-cursor"),this.options[this._editableOption]){let h={};L.extend(h,this.options.templineStyle),h.radius=0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=new this._BaseCircleClass(this._map.getCenter(),h),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(gn("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map.on("click",this._placeCenterMarker,this)}else this._map.on("click",this._createMarker,this),this._hintMarker=new this._BaseCircleClass(this._map.getCenter(),{radius:this._defaultRadius,...this.options.templineStyle}),this._setPane(this._hintMarker,"layerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this._layer=this._hintMarker,this.options.tooltips&&this._hintMarker.bindTooltip(gn("tooltips.placeCircleMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip();this._map.on("mousemove",this._syncHintMarker,this),this._extendingEnable(),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},_extendingEnable(){!this.options[this._editableOption]&&this.options.markerEditable&&this._map.eachLayer(l=>{this.isRelevantMarker(l)&&l.pm.enable()}),this._layer.bringToBack()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this.options[this._editableOption]?(this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.removeLayer(this._layerGroup)):(this._map.off("click",this._createMarker,this),this._extendingDisable(),this._hintMarker.remove()),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},_extendingDisable(){this._map.eachLayer(l=>{this.isRelevantMarker(l)&&l.pm.disable()})},enabled(){return this._enabled},toggle(l){this.enabled()?this.disable():this.enable(l)},_placeCenterMarker(l){this._hintMarker._snapped||this._hintMarker.setLatLng(l.latlng),this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker);let h=this._hintMarker.getLatLng();this._centerMarker.setLatLng(h),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter(){let l=this._centerMarker.getLatLng();l&&(this._layer.setLatLng(l),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(gn("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_syncHintLine(){let l=this._centerMarker.getLatLng(),h=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([l,h])},_syncCircleRadius(){let l=this._centerMarker.getLatLng(),h=this._hintMarker.getLatLng(),m=this._distanceCalculation(l,h);this.options[this._minRadiusOption]&&m<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&m>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(m)},_syncHintMarker(l){if(this._hintMarker.setLatLng(l.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){let m=l;m.target=this._hintMarker,this._handleSnapping(m)}this._handleHintMarkerSnapping();let h=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(h,"Draw")},isRelevantMarker(l){return l instanceof L.CircleMarker&&!(l instanceof L.Circle)&&l.pm&&!l._pmTempLayer},_createMarker(l){if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer()||!l.latlng||this._layerIsDragging)return;this._hintMarker._snapped||this._hintMarker.setLatLng(l.latlng);let h=this._hintMarker.getLatLng(),m=new this._BaseCircleClass(h,{radius:this._defaultRadius,...this.options.pathOptions});this._setPane(m,"layerPane"),this._finishLayer(m),m.addTo(this._map.pm._getContainingLayer()),this._extendingCreateMarker(m),this._fireCreate(m),this._cleanupSnapping(),this.options.continueDrawing||this.disable()},_extendingCreateMarker(l){l.pm&&this.options.markerEditable&&l.pm.enable()},_finishShape(l){if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(l.latlng);let h=this._centerMarker.getLatLng(),m=this._defaultRadius;if(this.options[this._editableOption]){let z=this._hintMarker.getLatLng();m=this._distanceCalculation(h,z),this.options[this._minRadiusOption]&&m<this.options[this._minRadiusOption]?m=this.options[this._minRadiusOption]:this.options[this._maxRadiusOption]&&m>this.options[this._maxRadiusOption]&&(m=this.options[this._maxRadiusOption])}let y={...this.options.pathOptions,radius:m},S=new this._BaseCircleClass(h,y);this._setPane(S,"layerPane"),this._finishLayer(S),S.addTo(this._map.pm._getContainingLayer()),S.pm&&S.pm._updateHiddenPolyCircle(),this._fireCreate(S);let N=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(N))},_getNewDestinationOfHintMarker(){let l=this._hintMarker.getLatLng();if(this.options[this._editableOption]){if(!this._layerGroup.hasLayer(this._centerMarker))return l;let h=this._centerMarker.getLatLng(),m=this._distanceCalculation(h,l);this.options[this._minRadiusOption]&&m<this.options[this._minRadiusOption]?l=Ns(this._map,h,l,this._getMinDistanceInMeter()):this.options[this._maxRadiusOption]&&m>this.options[this._maxRadiusOption]&&(l=Ns(this._map,h,l,this._getMaxDistanceInMeter()))}return l},_getMinDistanceInMeter(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,this._centerMarker.getLatLng())},_getMaxDistanceInMeter(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,this._centerMarker.getLatLng())},_handleHintMarkerSnapping(){if(this.options[this._editableOption]){if(this._hintMarker._snapped){let l=this._centerMarker.getLatLng(),h=this._hintMarker.getLatLng(),m=this._distanceCalculation(l,h);this._layerGroup.hasLayer(this._centerMarker)&&(this.options[this._minRadiusOption]&&m<this.options[this._minRadiusOption]?this._hintMarker.setLatLng(this._hintMarker._orgLatLng):this.options[this._maxRadiusOption]&&m>this.options[this._maxRadiusOption]&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng))}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())}},setStyle(){let l={};L.extend(l,this.options.templineStyle),this.options[this._editableOption]&&(l.radius=0),this._layer?.setStyle(l),this._hintline?.setStyle(this.options.hintlineStyle)},_distanceCalculation(l,h){return this._map.project(l).distanceTo(this._map.project(h))}}),Nr.Circle=Nr.CircleMarker.extend({initialize(l){this._map=l,this._shape="Circle",this.toolbarButtonName="drawCircle",this._BaseCircleClass=L.Circle,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizeableCircle",this._defaultRadius=100},_extendingEnable(){},_extendingDisable(){},_extendingCreateMarker(){},isRelevantMarker(){},_getMinDistanceInMeter(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter(){return this.options[this._maxRadiusOption]},_distanceCalculation(l,h){return this._map.distance(l,h)}});function Zn(l){if(!l)throw new Error("coord is required");if(!Array.isArray(l)){if(l.type==="Feature"&&l.geometry!==null&&l.geometry.type==="Point")return l.geometry.coordinates;if(l.type==="Point")return l.coordinates}if(Array.isArray(l)&&l.length>=2&&!Array.isArray(l[0])&&!Array.isArray(l[1]))return l;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function rr(l){if(Array.isArray(l))return l;if(l.type==="Feature"){if(l.geometry!==null)return l.geometry.coordinates}else if(l.coordinates)return l.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function Ur(l){return l.type==="Feature"?l.geometry:l}function Rr(l,h){return l.type==="FeatureCollection"?"FeatureCollection":l.type==="GeometryCollection"?"GeometryCollection":l.type==="Feature"&&l.geometry!==null?l.geometry.type:l.type}function ns(l,h,m){if(l!==null)for(var y,S,N,z,H,X,te,Re=0,Ne=0,ut,gt=l.type,Et=gt==="FeatureCollection",Wt=gt==="Feature",Zt=Et?l.features.length:1,mn=0;mn<Zt;mn++){te=Et?l.features[mn].geometry:Wt?l.geometry:l,ut=te?te.type==="GeometryCollection":!1,H=ut?te.geometries.length:1;for(var De=0;De<H;De++){var qe=0,rt=0;if(z=ut?te.geometries[De]:te,z!==null){X=z.coordinates;var yt=z.type;switch(Re=0,yt){case null:break;case"Point":if(h(X,Ne,mn,qe,rt)===!1)return!1;Ne++,qe++;break;case"LineString":case"MultiPoint":for(y=0;y<X.length;y++){if(h(X[y],Ne,mn,qe,rt)===!1)return!1;Ne++,yt==="MultiPoint"&&qe++}yt==="LineString"&&qe++;break;case"Polygon":case"MultiLineString":for(y=0;y<X.length;y++){for(S=0;S<X[y].length-Re;S++){if(h(X[y][S],Ne,mn,qe,rt)===!1)return!1;Ne++}yt==="MultiLineString"&&qe++,yt==="Polygon"&&rt++}yt==="Polygon"&&qe++;break;case"MultiPolygon":for(y=0;y<X.length;y++){for(rt=0,S=0;S<X[y].length;S++){for(N=0;N<X[y][S].length-Re;N++){if(h(X[y][S][N],Ne,mn,qe,rt)===!1)return!1;Ne++}rt++}qe++}break;case"GeometryCollection":for(y=0;y<z.geometries.length;y++)if(ns(z.geometries[y],h)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function cr(l,h){if(l.type==="Feature")h(l,0);else if(l.type==="FeatureCollection")for(var m=0;m<l.features.length&&h(l.features[m],m)!==!1;m++);}function li(l,h,m){var y=m;return cr(l,function(S,N){N===0&&m===void 0?y=S:y=h(y,S,N)}),y}function qa(l,h){var m,y,S,N,z,H,X,te,Re,Ne,ut=0,gt=l.type==="FeatureCollection",Et=l.type==="Feature",Wt=gt?l.features.length:1;for(m=0;m<Wt;m++){for(H=gt?l.features[m].geometry:Et?l.geometry:l,te=gt?l.features[m].properties:Et?l.properties:{},Re=gt?l.features[m].bbox:Et?l.bbox:void 0,Ne=gt?l.features[m].id:Et?l.id:void 0,X=H?H.type==="GeometryCollection":!1,z=X?H.geometries.length:1,S=0;S<z;S++){if(N=X?H.geometries[S]:H,N===null){if(h(null,ut,te,Re,Ne)===!1)return!1;continue}switch(N.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(h(N,ut,te,Re,Ne)===!1)return!1;break}case"GeometryCollection":{for(y=0;y<N.geometries.length;y++)if(h(N.geometries[y],ut,te,Re,Ne)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}ut++}}function Ci(l,h){qa(l,function(m,y,S,N,z){var H=m===null?null:m.type;switch(H){case null:case"Point":case"LineString":case"Polygon":return h(Ie(m,S,{bbox:N,id:z}),y,0)===!1?!1:void 0}var X;switch(H){case"MultiPoint":X="Point";break;case"MultiLineString":X="LineString";break;case"MultiPolygon":X="Polygon";break}for(var te=0;te<m.coordinates.length;te++){var Re=m.coordinates[te],Ne={type:X,coordinates:Re};if(h(Ie(Ne,S),y,te)===!1)return!1}})}function Eo(l){if(!l)throw new Error("geojson is required");var h=[];return Ci(l,function(m){_s(m,h)}),kt(h)}function _s(l,h){var m=[],y=l.geometry;if(y!==null){switch(y.type){case"Polygon":m=rr(y);break;case"LineString":m=[rr(y)]}m.forEach(function(S){var N=Po(S,l.properties);N.forEach(function(z){z.id=h.length,h.push(z)})})}}function Po(l,h){var m=[];return l.reduce(function(y,S){var N=ft([y,S],h);return N.bbox=Qs(y,S),m.push(N),S}),m}function Qs(l,h){var m=l[0],y=l[1],S=h[0],N=h[1],z=m<S?m:S,H=y<N?y:N,X=m>S?m:S,te=y>N?y:N;return[z,H,X,te]}var ea=Eo,vr=p(Qi(),1);function Ao(l,h){var m={},y=[];if(l.type==="LineString"&&(l=Ie(l)),h.type==="LineString"&&(h=Ie(h)),l.type==="Feature"&&h.type==="Feature"&&l.geometry!==null&&h.geometry!==null&&l.geometry.type==="LineString"&&h.geometry.type==="LineString"&&l.geometry.coordinates.length===2&&h.geometry.coordinates.length===2){var S=Ui(l,h);return S&&y.push(S),kt(y)}var N=(0,vr.default)();return N.load(ea(h)),cr(ea(l),function(z){cr(N.search(z),function(H){var X=Ui(z,H);if(X){var te=rr(X).join(",");m[te]||(m[te]=!0,y.push(X))}})}),kt(y)}function Ui(l,h){var m=rr(l),y=rr(h);if(m.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(y.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var S=m[0][0],N=m[0][1],z=m[1][0],H=m[1][1],X=y[0][0],te=y[0][1],Re=y[1][0],Ne=y[1][1],ut=(Ne-te)*(z-S)-(Re-X)*(H-N),gt=(Re-X)*(N-te)-(Ne-te)*(S-X),Et=(z-S)*(N-te)-(H-N)*(S-X);if(ut===0)return null;var Wt=gt/ut,Zt=Et/ut;if(Wt>=0&&Wt<=1&&Zt>=0&&Zt<=1){var mn=S+Wt*(z-S),De=N+Wt*(H-N);return Ze([mn,De])}return null}var Si=Ao,lo=p(Qi(),1);function ui(l,h,m){m===void 0&&(m={});var y=Zn(l),S=Zn(h),N=_n(S[1]-y[1]),z=_n(S[0]-y[0]),H=_n(y[1]),X=_n(S[1]),te=Math.pow(Math.sin(N/2),2)+Math.pow(Math.sin(z/2),2)*Math.cos(H)*Math.cos(X);return jt(2*Math.atan2(Math.sqrt(te),Math.sqrt(1-te)),m.units)}var rs=ui;function ci(l){var h=l[0],m=l[1],y=l[2],S=l[3],N=rs(l.slice(0,2),[y,m]),z=rs(l.slice(0,2),[h,S]);if(N>=z){var H=(m+S)/2;return[h,H-(y-h)/2,y,H+(y-h)/2]}else{var X=(h+y)/2;return[X-(S-m)/2,m,X+(S-m)/2,S]}}var ul=ci;function Sr(l){var h=[1/0,1/0,-1/0,-1/0];return ns(l,function(m){h[0]>m[0]&&(h[0]=m[0]),h[1]>m[1]&&(h[1]=m[1]),h[2]<m[0]&&(h[2]=m[0]),h[3]<m[1]&&(h[3]=m[1])}),h}Sr.default=Sr;var ta=Sr;function is(l,h){h===void 0&&(h={});var m=h.precision,y=h.coordinates,S=h.mutate;if(m=m==null||isNaN(m)?6:m,y=y==null||isNaN(y)?3:y,!l)throw new Error("<geojson> is required");if(typeof m!="number")throw new Error("<precision> must be a number");if(typeof y!="number")throw new Error("<coordinates> must be a number");(S===!1||S===void 0)&&(l=JSON.parse(JSON.stringify(l)));var N=Math.pow(10,m);return ns(l,function(z){ya(z,N,y)}),l}function ya(l,h,m){l.length>m&&l.splice(m,l.length);for(var y=0;y<l.length;y++)l[y]=Math.round(l[y]*h)/h;return l}var Os=is;function Ds(l,h,m){if(m===void 0&&(m={}),m.final===!0)return Xr(l,h);var y=Zn(l),S=Zn(h),N=_n(y[0]),z=_n(S[0]),H=_n(y[1]),X=_n(S[1]),te=Math.sin(z-N)*Math.cos(X),Re=Math.cos(H)*Math.sin(X)-Math.sin(H)*Math.cos(X)*Math.cos(z-N);return en(Math.atan2(te,Re))}function Xr(l,h){var m=Ds(h,l);return m=(m+180)%360,m}function qr(l,h,m,y){y===void 0&&(y={});var S=Zn(l),N=_n(S[0]),z=_n(S[1]),H=_n(m),X=Jt(h,y.units),te=Math.asin(Math.sin(z)*Math.cos(X)+Math.cos(z)*Math.sin(X)*Math.cos(H)),Re=N+Math.atan2(Math.sin(H)*Math.sin(X)*Math.cos(z),Math.cos(X)-Math.sin(z)*Math.sin(te)),Ne=en(Re),ut=en(te);return Ze([Ne,ut],y.properties)}function Is(l,h,m){m===void 0&&(m={});var y=Ze([1/0,1/0],{dist:1/0}),S=0;return Ci(l,function(N){for(var z=rr(N),H=0;H<z.length-1;H++){var X=Ze(z[H]);X.properties.dist=rs(h,X,m);var te=Ze(z[H+1]);te.properties.dist=rs(h,te,m);var Re=rs(X,te,m),Ne=Math.max(X.properties.dist,te.properties.dist),ut=Ds(X,te),gt=qr(h,Ne,ut+90,m),Et=qr(h,Ne,ut-90,m),Wt=Si(ft([gt.geometry.coordinates,Et.geometry.coordinates]),ft([X.geometry.coordinates,te.geometry.coordinates])),Zt=null;Wt.features.length>0&&(Zt=Wt.features[0],Zt.properties.dist=rs(h,Zt,m),Zt.properties.location=S+rs(X,Zt,m)),X.properties.dist<y.properties.dist&&(y=X,y.properties.index=H,y.properties.location=S),te.properties.dist<y.properties.dist&&(y=te,y.properties.index=H+1,y.properties.location=S+Re),Zt&&Zt.properties.dist<y.properties.dist&&(y=Zt,y.properties.index=H),S+=Re}}),y}var qi=Is;function vs(l,h){if(!l)throw new Error("line is required");if(!h)throw new Error("splitter is required");var m=Rr(l),y=Rr(h);if(m!=="LineString")throw new Error("line must be LineString");if(y==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(y==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var S=Os(h,{precision:7});switch(y){case"Point":return ys(l,S);case"MultiPoint":return wa(l,S);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return wa(l,Si(l,S))}}function wa(l,h){var m=[],y=(0,lo.default)();return Ci(h,function(S){if(m.forEach(function(H,X){H.id=X}),!m.length)m=ys(l,S).features,m.forEach(function(H){H.bbox||(H.bbox=ul(ta(H)))}),y.load(kt(m));else{var N=y.search(S);if(N.features.length){var z=Xn(S,N);m=m.filter(function(H){return H.id!==z.id}),y.remove(z),cr(ys(z,S),function(H){m.push(H),y.insert(H)})}}}),kt(m)}function ys(l,h){var m=[],y=rr(l)[0],S=rr(l)[l.geometry.coordinates.length-1];if(Gi(y,Zn(h))||Gi(S,Zn(h)))return kt([l]);var N=(0,lo.default)(),z=ea(l);N.load(z);var H=N.search(h);if(!H.features.length)return kt([l]);var X=Xn(h,H),te=[y],Re=li(z,function(Ne,ut,gt){var Et=rr(ut)[1],Wt=Zn(h);return gt===X.id?(Ne.push(Wt),m.push(ft(Ne)),Gi(Wt,Et)?[Wt]:[Wt,Et]):(Ne.push(Et),Ne)},te);return Re.length>1&&m.push(ft(Re)),kt(m)}function Xn(l,h){if(!h.features.length)throw new Error("lines must contain features");if(h.features.length===1)return h.features[0];var m,y=1/0;return cr(h,function(S){var N=qi(S,l),z=N.properties.dist;z<y&&(m=S,y=z)}),m}function Gi(l,h){return l[0]===h[0]&&l[1]===h[1]}var vi=vs;function hi(l,h,m){if(m===void 0&&(m={}),!l)throw new Error("point is required");if(!h)throw new Error("polygon is required");var y=Zn(l),S=Ur(h),N=S.type,z=h.bbox,H=S.coordinates;if(z&&Mo(y,z)===!1)return!1;N==="Polygon"&&(H=[H]);for(var X=!1,te=0;te<H.length&&!X;te++)if(Ga(y,H[te][0],m.ignoreBoundary)){for(var Re=!1,Ne=1;Ne<H[te].length&&!Re;)Ga(y,H[te][Ne],!m.ignoreBoundary)&&(Re=!0),Ne++;Re||(X=!0)}return X}function Ga(l,h,m){var y=!1;h[0][0]===h[h.length-1][0]&&h[0][1]===h[h.length-1][1]&&(h=h.slice(0,h.length-1));for(var S=0,N=h.length-1;S<h.length;N=S++){var z=h[S][0],H=h[S][1],X=h[N][0],te=h[N][1],Re=l[1]*(z-X)+H*(X-l[0])+te*(l[0]-z)===0&&(z-l[0])*(X-l[0])<=0&&(H-l[1])*(te-l[1])<=0;if(Re)return!m;var Ne=H>l[1]!=te>l[1]&&l[0]<(X-z)*(l[1]-H)/(te-H)+z;Ne&&(y=!y)}return y}function Mo(l,h){return h[0]<=l[0]&&h[1]<=l[1]&&h[2]>=l[0]&&h[3]>=l[1]}function uo(l,h,m){m===void 0&&(m={});for(var y=Zn(l),S=rr(h),N=0;N<S.length-1;N++){var z=!1;if(m.ignoreEndVertices&&(N===0&&(z="start"),N===S.length-2&&(z="end"),N===0&&N+1===S.length-1&&(z="both")),yi(S[N],S[N+1],y,z,typeof m.epsilon>"u"?null:m.epsilon))return!0}return!1}function yi(l,h,m,y,S){var N=m[0],z=m[1],H=l[0],X=l[1],te=h[0],Re=h[1],Ne=m[0]-H,ut=m[1]-X,gt=te-H,Et=Re-X,Wt=Ne*Et-ut*gt;if(S!==null){if(Math.abs(Wt)>S)return!1}else if(Wt!==0)return!1;if(y){if(y==="start")return Math.abs(gt)>=Math.abs(Et)?gt>0?H<N&&N<=te:te<=N&&N<H:Et>0?X<z&&z<=Re:Re<=z&&z<X;if(y==="end")return Math.abs(gt)>=Math.abs(Et)?gt>0?H<=N&&N<te:te<N&&N<=H:Et>0?X<=z&&z<Re:Re<z&&z<=X;if(y==="both")return Math.abs(gt)>=Math.abs(Et)?gt>0?H<N&&N<te:te<N&&N<H:Et>0?X<z&&z<Re:Re<z&&z<X}else return Math.abs(gt)>=Math.abs(Et)?gt>0?H<=N&&N<=te:te<=N&&N<=H:Et>0?X<=z&&z<=Re:Re<=z&&z<=X;return!1}var Hi=uo;function ss(l,h){var m=Ur(l),y=Ur(h),S=m.type,N=y.type,z=m.coordinates,H=y.coordinates;switch(S){case"Point":switch(N){case"Point":return Qn(z,H);default:throw new Error("feature2 "+N+" geometry not supported")}case"MultiPoint":switch(N){case"Point":return ws(m,y);case"MultiPoint":return na(m,y);default:throw new Error("feature2 "+N+" geometry not supported")}case"LineString":switch(N){case"Point":return Hi(y,m,{ignoreEndVertices:!0});case"LineString":return bs(m,y);case"MultiPoint":return ra(m,y);default:throw new Error("feature2 "+N+" geometry not supported")}case"Polygon":switch(N){case"Point":return hi(y,m,{ignoreBoundary:!0});case"LineString":return fi(m,y);case"Polygon":return Gr(m,y);case"MultiPoint":return ba(m,y);default:throw new Error("feature2 "+N+" geometry not supported")}default:throw new Error("feature1 "+S+" geometry not supported")}}function ws(l,h){var m,y=!1;for(m=0;m<l.coordinates.length;m++)if(Qn(l.coordinates[m],h.coordinates)){y=!0;break}return y}function na(l,h){for(var m=0,y=h.coordinates;m<y.length;m++){for(var S=y[m],N=!1,z=0,H=l.coordinates;z<H.length;z++){var X=H[z];if(Qn(S,X)){N=!0;break}}if(!N)return!1}return!0}function ra(l,h){for(var m=!1,y=0,S=h.coordinates;y<S.length;y++){var N=S[y];if(Hi(N,l,{ignoreEndVertices:!0})&&(m=!0),!Hi(N,l))return!1}return!!m}function ba(l,h){for(var m=0,y=h.coordinates;m<y.length;m++){var S=y[m];if(!hi(S,l,{ignoreBoundary:!0}))return!1}return!0}function bs(l,h){for(var m=!1,y=0,S=h.coordinates;y<S.length;y++){var N=S[y];if(Hi({type:"Point",coordinates:N},l,{ignoreEndVertices:!0})&&(m=!0),!Hi({type:"Point",coordinates:N},l,{ignoreEndVertices:!1}))return!1}return m}function fi(l,h){var m=!1,y=0,S=ta(l),N=ta(h);if(!ir(S,N))return!1;for(y;y<h.coordinates.length-1;y++){var z=Er(h.coordinates[y],h.coordinates[y+1]);if(hi({type:"Point",coordinates:z},l,{ignoreBoundary:!0})){m=!0;break}}return m}function Gr(l,h){if(l.type==="Feature"&&l.geometry===null||h.type==="Feature"&&h.geometry===null)return!1;var m=ta(l),y=ta(h);if(!ir(m,y))return!1;for(var S=Ur(h).coordinates,N=0,z=S;N<z.length;N++)for(var H=z[N],X=0,te=H;X<te.length;X++){var Re=te[X];if(!hi(Re,l))return!1}return!0}function ir(l,h){return!(l[0]>h[0]||l[2]<h[2]||l[1]>h[1]||l[3]<h[3])}function Qn(l,h){return l[0]===h[0]&&l[1]===h[1]}function Er(l,h){return[(l[0]+h[0])/2,(l[1]+h[1])/2]}var lr=p(Xi()),xs=l=>()=>l,xa=l=>{let h=l?(m,y)=>y.minus(m).abs().isLessThanOrEqualTo(l):xs(!1);return(m,y)=>h(m,y)?0:m.comparedTo(y)};function Rs(l){let h=l?(m,y,S,N,z)=>m.exponentiatedBy(2).isLessThanOrEqualTo(N.minus(y).exponentiatedBy(2).plus(z.minus(S).exponentiatedBy(2)).times(l)):xs(!1);return(m,y,S)=>{let N=m.x,z=m.y,H=S.x,X=S.y,te=z.minus(X).times(y.x.minus(H)).minus(N.minus(H).times(y.y.minus(X)));return h(te,N,z,H,X)?0:te.comparedTo(0)}}var zo=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Ei=Math.ceil,Tr=Math.floor,sr="[BigNumber Error] ",Wi=sr+"Number primitive has more than 15 significant digits: ",$i=1e14,yn=14,Uo=9007199254740991,Ha=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],as=1e7,Pn=1e9;function qo(l){var h,m,y,S=De.prototype={constructor:De,toString:null,valueOf:null},N=new De(1),z=20,H=4,X=-7,te=21,Re=-1e7,Ne=1e7,ut=!1,gt=1,Et=0,Wt={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},Zt="0123456789abcdefghijklmnopqrstuvwxyz",mn=!0;function De(Q,ge){var xe,ve,ke,Ce,Ke,He,Qe,pt,ht=this;if(!(ht instanceof De))return new De(Q,ge);if(ge==null){if(Q&&Q._isBigNumber===!0){ht.s=Q.s,!Q.c||Q.e>Ne?ht.c=ht.e=null:Q.e<Re?ht.c=[ht.e=0]:(ht.e=Q.e,ht.c=Q.c.slice());return}if((He=typeof Q=="number")&&Q*0==0){if(ht.s=1/Q<0?(Q=-Q,-1):1,Q===~~Q){for(Ce=0,Ke=Q;Ke>=10;Ke/=10,Ce++);Ce>Ne?ht.c=ht.e=null:(ht.e=Ce,ht.c=[Q]);return}pt=String(Q)}else{if(!zo.test(pt=String(Q)))return y(ht,pt,He);ht.s=pt.charCodeAt(0)==45?(pt=pt.slice(1),-1):1}(Ce=pt.indexOf("."))>-1&&(pt=pt.replace(".","")),(Ke=pt.search(/e/i))>0?(Ce<0&&(Ce=Ke),Ce+=+pt.slice(Ke+1),pt=pt.substring(0,Ke)):Ce<0&&(Ce=pt.length)}else{if(r(ge,2,Zt.length,"Base"),ge==10&&mn)return ht=new De(Q),it(ht,z+ht.e+1,H);if(pt=String(Q),He=typeof Q=="number"){if(Q*0!=0)return y(ht,pt,He,ge);if(ht.s=1/Q<0?(pt=pt.slice(1),-1):1,De.DEBUG&&pt.replace(/^0\.0*|\./,"").length>15)throw Error(Wi+Q)}else ht.s=pt.charCodeAt(0)===45?(pt=pt.slice(1),-1):1;for(xe=Zt.slice(0,ge),Ce=Ke=0,Qe=pt.length;Ke<Qe;Ke++)if(xe.indexOf(ve=pt.charAt(Ke))<0){if(ve=="."){if(Ke>Ce){Ce=Qe;continue}}else if(!ke&&(pt==pt.toUpperCase()&&(pt=pt.toLowerCase())||pt==pt.toLowerCase()&&(pt=pt.toUpperCase()))){ke=!0,Ke=-1,Ce=0;continue}return y(ht,String(Q),He,ge)}He=!1,pt=m(pt,ge,10,ht.s),(Ce=pt.indexOf("."))>-1?pt=pt.replace(".",""):Ce=pt.length}for(Ke=0;pt.charCodeAt(Ke)===48;Ke++);for(Qe=pt.length;pt.charCodeAt(--Qe)===48;);if(pt=pt.slice(Ke,++Qe)){if(Qe-=Ke,He&&De.DEBUG&&Qe>15&&(Q>Uo||Q!==Tr(Q)))throw Error(Wi+ht.s*Q);if((Ce=Ce-Ke-1)>Ne)ht.c=ht.e=null;else if(Ce<Re)ht.c=[ht.e=0];else{if(ht.e=Ce,ht.c=[],Ke=(Ce+1)%yn,Ce<0&&(Ke+=yn),Ke<Qe){for(Ke&&ht.c.push(+pt.slice(0,Ke)),Qe-=yn;Ke<Qe;)ht.c.push(+pt.slice(Ke,Ke+=yn));Ke=yn-(pt=pt.slice(Ke)).length}else Ke-=Qe;for(;Ke--;pt+="0");ht.c.push(+pt)}}else ht.c=[ht.e=0]}De.clone=qo,De.ROUND_UP=0,De.ROUND_DOWN=1,De.ROUND_CEIL=2,De.ROUND_FLOOR=3,De.ROUND_HALF_UP=4,De.ROUND_HALF_DOWN=5,De.ROUND_HALF_EVEN=6,De.ROUND_HALF_CEIL=7,De.ROUND_HALF_FLOOR=8,De.EUCLID=9,De.config=De.set=function(Q){var ge,xe;if(Q!=null)if(typeof Q=="object"){if(Q.hasOwnProperty(ge="DECIMAL_PLACES")&&(xe=Q[ge],r(xe,0,Pn,ge),z=xe),Q.hasOwnProperty(ge="ROUNDING_MODE")&&(xe=Q[ge],r(xe,0,8,ge),H=xe),Q.hasOwnProperty(ge="EXPONENTIAL_AT")&&(xe=Q[ge],xe&&xe.pop?(r(xe[0],-Pn,0,ge),r(xe[1],0,Pn,ge),X=xe[0],te=xe[1]):(r(xe,-Pn,Pn,ge),X=-(te=xe<0?-xe:xe))),Q.hasOwnProperty(ge="RANGE"))if(xe=Q[ge],xe&&xe.pop)r(xe[0],-Pn,-1,ge),r(xe[1],1,Pn,ge),Re=xe[0],Ne=xe[1];else if(r(xe,-Pn,Pn,ge),xe)Re=-(Ne=xe<0?-xe:xe);else throw Error(sr+ge+" cannot be zero: "+xe);if(Q.hasOwnProperty(ge="CRYPTO"))if(xe=Q[ge],xe===!!xe)if(xe)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))ut=xe;else throw ut=!xe,Error(sr+"crypto unavailable");else ut=xe;else throw Error(sr+ge+" not true or false: "+xe);if(Q.hasOwnProperty(ge="MODULO_MODE")&&(xe=Q[ge],r(xe,0,9,ge),gt=xe),Q.hasOwnProperty(ge="POW_PRECISION")&&(xe=Q[ge],r(xe,0,Pn,ge),Et=xe),Q.hasOwnProperty(ge="FORMAT"))if(xe=Q[ge],typeof xe=="object")Wt=xe;else throw Error(sr+ge+" not an object: "+xe);if(Q.hasOwnProperty(ge="ALPHABET"))if(xe=Q[ge],typeof xe=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(xe))mn=xe.slice(0,10)=="0123456789",Zt=xe;else throw Error(sr+ge+" invalid: "+xe)}else throw Error(sr+"Object expected: "+Q);return{DECIMAL_PLACES:z,ROUNDING_MODE:H,EXPONENTIAL_AT:[X,te],RANGE:[Re,Ne],CRYPTO:ut,MODULO_MODE:gt,POW_PRECISION:Et,FORMAT:Wt,ALPHABET:Zt}},De.isBigNumber=function(Q){if(!Q||Q._isBigNumber!==!0)return!1;if(!De.DEBUG)return!0;var ge,xe,ve=Q.c,ke=Q.e,Ce=Q.s;e:if({}.toString.call(ve)=="[object Array]"){if((Ce===1||Ce===-1)&&ke>=-Pn&&ke<=Pn&&ke===Tr(ke)){if(ve[0]===0){if(ke===0&&ve.length===1)return!0;break e}if(ge=(ke+1)%yn,ge<1&&(ge+=yn),String(ve[0]).length==ge){for(ge=0;ge<ve.length;ge++)if(xe=ve[ge],xe<0||xe>=$i||xe!==Tr(xe))break e;if(xe!==0)return!0}}}else if(ve===null&&ke===null&&(Ce===null||Ce===1||Ce===-1))return!0;throw Error(sr+"Invalid BigNumber: "+Q)},De.maximum=De.max=function(){return rt(arguments,-1)},De.minimum=De.min=function(){return rt(arguments,1)},De.random=(function(){var Q=9007199254740992,ge=Math.random()*Q&2097151?function(){return Tr(Math.random()*Q)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(xe){var ve,ke,Ce,Ke,He,Qe=0,pt=[],ht=new De(N);if(xe==null?xe=z:r(xe,0,Pn),Ke=Ei(xe/yn),ut)if(crypto.getRandomValues){for(ve=crypto.getRandomValues(new Uint32Array(Ke*=2));Qe<Ke;)He=ve[Qe]*131072+(ve[Qe+1]>>>11),He>=9e15?(ke=crypto.getRandomValues(new Uint32Array(2)),ve[Qe]=ke[0],ve[Qe+1]=ke[1]):(pt.push(He%1e14),Qe+=2);Qe=Ke/2}else if(crypto.randomBytes){for(ve=crypto.randomBytes(Ke*=7);Qe<Ke;)He=(ve[Qe]&31)*281474976710656+ve[Qe+1]*1099511627776+ve[Qe+2]*4294967296+ve[Qe+3]*16777216+(ve[Qe+4]<<16)+(ve[Qe+5]<<8)+ve[Qe+6],He>=9e15?crypto.randomBytes(7).copy(ve,Qe):(pt.push(He%1e14),Qe+=7);Qe=Ke/7}else throw ut=!1,Error(sr+"crypto unavailable");if(!ut)for(;Qe<Ke;)He=ge(),He<9e15&&(pt[Qe++]=He%1e14);for(Ke=pt[--Qe],xe%=yn,Ke&&xe&&(He=Ha[yn-xe],pt[Qe]=Tr(Ke/He)*He);pt[Qe]===0;pt.pop(),Qe--);if(Qe<0)pt=[Ce=0];else{for(Ce=-1;pt[0]===0;pt.splice(0,1),Ce-=yn);for(Qe=1,He=pt[0];He>=10;He/=10,Qe++);Qe<yn&&(Ce-=yn-Qe)}return ht.e=Ce,ht.c=pt,ht}})(),De.sum=function(){for(var Q=1,ge=arguments,xe=new De(ge[0]);Q<ge.length;)xe=xe.plus(ge[Q++]);return xe},m=(function(){var Q="0123456789";function ge(xe,ve,ke,Ce){for(var Ke,He=[0],Qe,pt=0,ht=xe.length;pt<ht;){for(Qe=He.length;Qe--;He[Qe]*=ve);for(He[0]+=Ce.indexOf(xe.charAt(pt++)),Ke=0;Ke<He.length;Ke++)He[Ke]>ke-1&&(He[Ke+1]==null&&(He[Ke+1]=0),He[Ke+1]+=He[Ke]/ke|0,He[Ke]%=ke)}return He.reverse()}return function(xe,ve,ke,Ce,Ke){var He,Qe,pt,ht,Dt,Xt,nn,rn,Kn=xe.indexOf("."),Jn=z,Dn=H;for(Kn>=0&&(ht=Et,Et=0,xe=xe.replace(".",""),rn=new De(ve),Xt=rn.pow(xe.length-Kn),Et=ht,rn.c=ge(T(Hr(Xt.c),Xt.e,"0"),10,ke,Q),rn.e=rn.c.length),nn=ge(xe,ve,ke,Ke?(He=Zt,Q):(He=Q,Zt)),pt=ht=nn.length;nn[--ht]==0;nn.pop());if(!nn[0])return He.charAt(0);if(Kn<0?--pt:(Xt.c=nn,Xt.e=pt,Xt.s=Ce,Xt=h(Xt,rn,Jn,Dn,ke),nn=Xt.c,Dt=Xt.r,pt=Xt.e),Qe=pt+Jn+1,Kn=nn[Qe],ht=ke/2,Dt=Dt||Qe<0||nn[Qe+1]!=null,Dt=Dn<4?(Kn!=null||Dt)&&(Dn==0||Dn==(Xt.s<0?3:2)):Kn>ht||Kn==ht&&(Dn==4||Dt||Dn==6&&nn[Qe-1]&1||Dn==(Xt.s<0?8:7)),Qe<1||!nn[0])xe=Dt?T(He.charAt(1),-Jn,He.charAt(0)):He.charAt(0);else{if(nn.length=Qe,Dt)for(--ke;++nn[--Qe]>ke;)nn[Qe]=0,Qe||(++pt,nn=[1].concat(nn));for(ht=nn.length;!nn[--ht];);for(Kn=0,xe="";Kn<=ht;xe+=He.charAt(nn[Kn++]));xe=T(xe,pt,He.charAt(0))}return xe}})(),h=(function(){function Q(ve,ke,Ce){var Ke,He,Qe,pt,ht=0,Dt=ve.length,Xt=ke%as,nn=ke/as|0;for(ve=ve.slice();Dt--;)Qe=ve[Dt]%as,pt=ve[Dt]/as|0,Ke=nn*Qe+pt*Xt,He=Xt*Qe+Ke%as*as+ht,ht=(He/Ce|0)+(Ke/as|0)+nn*pt,ve[Dt]=He%Ce;return ht&&(ve=[ht].concat(ve)),ve}function ge(ve,ke,Ce,Ke){var He,Qe;if(Ce!=Ke)Qe=Ce>Ke?1:-1;else for(He=Qe=0;He<Ce;He++)if(ve[He]!=ke[He]){Qe=ve[He]>ke[He]?1:-1;break}return Qe}function xe(ve,ke,Ce,Ke){for(var He=0;Ce--;)ve[Ce]-=He,He=ve[Ce]<ke[Ce]?1:0,ve[Ce]=He*Ke+ve[Ce]-ke[Ce];for(;!ve[0]&&ve.length>1;ve.splice(0,1));}return function(ve,ke,Ce,Ke,He){var Qe,pt,ht,Dt,Xt,nn,rn,Kn,Jn,Dn,tr,br,xl,Ll,yr,ri,Zo,Ls=ve.s==ke.s?1:-1,wi=ve.c,xr=ke.c;if(!wi||!wi[0]||!xr||!xr[0])return new De(!ve.s||!ke.s||(wi?xr&&wi[0]==xr[0]:!xr)?NaN:wi&&wi[0]==0||!xr?Ls*0:Ls/0);for(Kn=new De(Ls),Jn=Kn.c=[],pt=ve.e-ke.e,Ls=Ce+pt+1,He||(He=$i,pt=Qr(ve.e/yn)-Qr(ke.e/yn),Ls=Ls/yn|0),ht=0;xr[ht]==(wi[ht]||0);ht++);if(xr[ht]>(wi[ht]||0)&&pt--,Ls<0)Jn.push(1),Dt=!0;else{for(Ll=wi.length,ri=xr.length,ht=0,Ls+=2,Xt=Tr(He/(xr[0]+1)),Xt>1&&(xr=Q(xr,Xt,He),wi=Q(wi,Xt,He),ri=xr.length,Ll=wi.length),xl=ri,Dn=wi.slice(0,ri),tr=Dn.length;tr<ri;Dn[tr++]=0);Zo=xr.slice(),Zo=[0].concat(Zo),yr=xr[0],xr[1]>=He/2&&yr++;do{if(Xt=0,Qe=ge(xr,Dn,ri,tr),Qe<0){if(br=Dn[0],ri!=tr&&(br=br*He+(Dn[1]||0)),Xt=Tr(br/yr),Xt>1)for(Xt>=He&&(Xt=He-1),nn=Q(xr,Xt,He),rn=nn.length,tr=Dn.length;ge(nn,Dn,rn,tr)==1;)Xt--,xe(nn,ri<rn?Zo:xr,rn,He),rn=nn.length,Qe=1;else Xt==0&&(Qe=Xt=1),nn=xr.slice(),rn=nn.length;if(rn<tr&&(nn=[0].concat(nn)),xe(Dn,nn,tr,He),tr=Dn.length,Qe==-1)for(;ge(xr,Dn,ri,tr)<1;)Xt++,xe(Dn,ri<tr?Zo:xr,tr,He),tr=Dn.length}else Qe===0&&(Xt++,Dn=[0]);Jn[ht++]=Xt,Dn[0]?Dn[tr++]=wi[xl]||0:(Dn=[wi[xl]],tr=1)}while((xl++<Ll||Dn[0]!=null)&&Ls--);Dt=Dn[0]!=null,Jn[0]||Jn.splice(0,1)}if(He==$i){for(ht=1,Ls=Jn[0];Ls>=10;Ls/=10,ht++);it(Kn,Ce+(Kn.e=ht+pt*yn-1)+1,Ke,Dt)}else Kn.e=pt,Kn.r=+Dt;return Kn}})();function qe(Q,ge,xe,ve){var ke,Ce,Ke,He,Qe;if(xe==null?xe=H:r(xe,0,8),!Q.c)return Q.toString();if(ke=Q.c[0],Ke=Q.e,ge==null)Qe=Hr(Q.c),Qe=ve==1||ve==2&&(Ke<=X||Ke>=te)?x(Qe,Ke):T(Qe,Ke,"0");else if(Q=it(new De(Q),ge,xe),Ce=Q.e,Qe=Hr(Q.c),He=Qe.length,ve==1||ve==2&&(ge<=Ce||Ce<=X)){for(;He<ge;Qe+="0",He++);Qe=x(Qe,Ce)}else if(ge-=Ke,Qe=T(Qe,Ce,"0"),Ce+1>He){if(--ge>0)for(Qe+=".";ge--;Qe+="0");}else if(ge+=Ce-He,ge>0)for(Ce+1==He&&(Qe+=".");ge--;Qe+="0");return Q.s<0&&ke?"-"+Qe:Qe}function rt(Q,ge){for(var xe,ve,ke=1,Ce=new De(Q[0]);ke<Q.length;ke++)ve=new De(Q[ke]),(!ve.s||(xe=js(Ce,ve))===ge||xe===0&&Ce.s===ge)&&(Ce=ve);return Ce}function yt(Q,ge,xe){for(var ve=1,ke=ge.length;!ge[--ke];ge.pop());for(ke=ge[0];ke>=10;ke/=10,ve++);return(xe=ve+xe*yn-1)>Ne?Q.c=Q.e=null:xe<Re?Q.c=[Q.e=0]:(Q.e=xe,Q.c=ge),Q}y=(function(){var Q=/^(-?)0([xbo])(?=\w[\w.]*$)/i,ge=/^([^.]+)\.$/,xe=/^\.([^.]+)$/,ve=/^-?(Infinity|NaN)$/,ke=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(Ce,Ke,He,Qe){var pt,ht=He?Ke:Ke.replace(ke,"");if(ve.test(ht))Ce.s=isNaN(ht)?null:ht<0?-1:1;else{if(!He&&(ht=ht.replace(Q,function(Dt,Xt,nn){return pt=(nn=nn.toLowerCase())=="x"?16:nn=="b"?2:8,!Qe||Qe==pt?Xt:Dt}),Qe&&(pt=Qe,ht=ht.replace(ge,"$1").replace(xe,"0.$1")),Ke!=ht))return new De(ht,pt);if(De.DEBUG)throw Error(sr+"Not a"+(Qe?" base "+Qe:"")+" number: "+Ke);Ce.s=null}Ce.c=Ce.e=null}})();function it(Q,ge,xe,ve){var ke,Ce,Ke,He,Qe,pt,ht,Dt=Q.c,Xt=Ha;if(Dt){e:{for(ke=1,He=Dt[0];He>=10;He/=10,ke++);if(Ce=ge-ke,Ce<0)Ce+=yn,Ke=ge,Qe=Dt[pt=0],ht=Tr(Qe/Xt[ke-Ke-1]%10);else if(pt=Ei((Ce+1)/yn),pt>=Dt.length)if(ve){for(;Dt.length<=pt;Dt.push(0));Qe=ht=0,ke=1,Ce%=yn,Ke=Ce-yn+1}else break e;else{for(Qe=He=Dt[pt],ke=1;He>=10;He/=10,ke++);Ce%=yn,Ke=Ce-yn+ke,ht=Ke<0?0:Tr(Qe/Xt[ke-Ke-1]%10)}if(ve=ve||ge<0||Dt[pt+1]!=null||(Ke<0?Qe:Qe%Xt[ke-Ke-1]),ve=xe<4?(ht||ve)&&(xe==0||xe==(Q.s<0?3:2)):ht>5||ht==5&&(xe==4||ve||xe==6&&(Ce>0?Ke>0?Qe/Xt[ke-Ke]:0:Dt[pt-1])%10&1||xe==(Q.s<0?8:7)),ge<1||!Dt[0])return Dt.length=0,ve?(ge-=Q.e+1,Dt[0]=Xt[(yn-ge%yn)%yn],Q.e=-ge||0):Dt[0]=Q.e=0,Q;if(Ce==0?(Dt.length=pt,He=1,pt--):(Dt.length=pt+1,He=Xt[yn-Ce],Dt[pt]=Ke>0?Tr(Qe/Xt[ke-Ke]%Xt[Ke])*He:0),ve)for(;;)if(pt==0){for(Ce=1,Ke=Dt[0];Ke>=10;Ke/=10,Ce++);for(Ke=Dt[0]+=He,He=1;Ke>=10;Ke/=10,He++);Ce!=He&&(Q.e++,Dt[0]==$i&&(Dt[0]=1));break}else{if(Dt[pt]+=He,Dt[pt]!=$i)break;Dt[pt--]=0,He=1}for(Ce=Dt.length;Dt[--Ce]===0;Dt.pop());}Q.e>Ne?Q.c=Q.e=null:Q.e<Re&&(Q.c=[Q.e=0])}return Q}function dt(Q){var ge,xe=Q.e;return xe===null?Q.toString():(ge=Hr(Q.c),ge=xe<=X||xe>=te?x(ge,xe):T(ge,xe,"0"),Q.s<0?"-"+ge:ge)}return S.absoluteValue=S.abs=function(){var Q=new De(this);return Q.s<0&&(Q.s=1),Q},S.comparedTo=function(Q,ge){return js(this,new De(Q,ge))},S.decimalPlaces=S.dp=function(Q,ge){var xe,ve,ke,Ce=this;if(Q!=null)return r(Q,0,Pn),ge==null?ge=H:r(ge,0,8),it(new De(Ce),Q+Ce.e+1,ge);if(!(xe=Ce.c))return null;if(ve=((ke=xe.length-1)-Qr(this.e/yn))*yn,ke=xe[ke])for(;ke%10==0;ke/=10,ve--);return ve<0&&(ve=0),ve},S.dividedBy=S.div=function(Q,ge){return h(this,new De(Q,ge),z,H)},S.dividedToIntegerBy=S.idiv=function(Q,ge){return h(this,new De(Q,ge),0,1)},S.exponentiatedBy=S.pow=function(Q,ge){var xe,ve,ke,Ce,Ke,He,Qe,pt,ht,Dt=this;if(Q=new De(Q),Q.c&&!Q.isInteger())throw Error(sr+"Exponent not an integer: "+dt(Q));if(ge!=null&&(ge=new De(ge)),He=Q.e>14,!Dt.c||!Dt.c[0]||Dt.c[0]==1&&!Dt.e&&Dt.c.length==1||!Q.c||!Q.c[0])return ht=new De(Math.pow(+dt(Dt),He?Q.s*(2-d(Q)):+dt(Q))),ge?ht.mod(ge):ht;if(Qe=Q.s<0,ge){if(ge.c?!ge.c[0]:!ge.s)return new De(NaN);ve=!Qe&&Dt.isInteger()&&ge.isInteger(),ve&&(Dt=Dt.mod(ge))}else{if(Q.e>9&&(Dt.e>0||Dt.e<-1||(Dt.e==0?Dt.c[0]>1||He&&Dt.c[1]>=24e7:Dt.c[0]<8e13||He&&Dt.c[0]<=9999975e7)))return Ce=Dt.s<0&&d(Q)?-0:0,Dt.e>-1&&(Ce=1/Ce),new De(Qe?1/Ce:Ce);Et&&(Ce=Ei(Et/yn+2))}for(He?(xe=new De(.5),Qe&&(Q.s=1),pt=d(Q)):(ke=Math.abs(+dt(Q)),pt=ke%2),ht=new De(N);;){if(pt){if(ht=ht.times(Dt),!ht.c)break;Ce?ht.c.length>Ce&&(ht.c.length=Ce):ve&&(ht=ht.mod(ge))}if(ke){if(ke=Tr(ke/2),ke===0)break;pt=ke%2}else if(Q=Q.times(xe),it(Q,Q.e+1,1),Q.e>14)pt=d(Q);else{if(ke=+dt(Q),ke===0)break;pt=ke%2}Dt=Dt.times(Dt),Ce?Dt.c&&Dt.c.length>Ce&&(Dt.c.length=Ce):ve&&(Dt=Dt.mod(ge))}return ve?ht:(Qe&&(ht=N.div(ht)),ge?ht.mod(ge):Ce?it(ht,Et,H,Ke):ht)},S.integerValue=function(Q){var ge=new De(this);return Q==null?Q=H:r(Q,0,8),it(ge,ge.e+1,Q)},S.isEqualTo=S.eq=function(Q,ge){return js(this,new De(Q,ge))===0},S.isFinite=function(){return!!this.c},S.isGreaterThan=S.gt=function(Q,ge){return js(this,new De(Q,ge))>0},S.isGreaterThanOrEqualTo=S.gte=function(Q,ge){return(ge=js(this,new De(Q,ge)))===1||ge===0},S.isInteger=function(){return!!this.c&&Qr(this.e/yn)>this.c.length-2},S.isLessThan=S.lt=function(Q,ge){return js(this,new De(Q,ge))<0},S.isLessThanOrEqualTo=S.lte=function(Q,ge){return(ge=js(this,new De(Q,ge)))===-1||ge===0},S.isNaN=function(){return!this.s},S.isNegative=function(){return this.s<0},S.isPositive=function(){return this.s>0},S.isZero=function(){return!!this.c&&this.c[0]==0},S.minus=function(Q,ge){var xe,ve,ke,Ce,Ke=this,He=Ke.s;if(Q=new De(Q,ge),ge=Q.s,!He||!ge)return new De(NaN);if(He!=ge)return Q.s=-ge,Ke.plus(Q);var Qe=Ke.e/yn,pt=Q.e/yn,ht=Ke.c,Dt=Q.c;if(!Qe||!pt){if(!ht||!Dt)return ht?(Q.s=-ge,Q):new De(Dt?Ke:NaN);if(!ht[0]||!Dt[0])return Dt[0]?(Q.s=-ge,Q):new De(ht[0]?Ke:H==3?-0:0)}if(Qe=Qr(Qe),pt=Qr(pt),ht=ht.slice(),He=Qe-pt){for((Ce=He<0)?(He=-He,ke=ht):(pt=Qe,ke=Dt),ke.reverse(),ge=He;ge--;ke.push(0));ke.reverse()}else for(ve=(Ce=(He=ht.length)<(ge=Dt.length))?He:ge,He=ge=0;ge<ve;ge++)if(ht[ge]!=Dt[ge]){Ce=ht[ge]<Dt[ge];break}if(Ce&&(ke=ht,ht=Dt,Dt=ke,Q.s=-Q.s),ge=(ve=Dt.length)-(xe=ht.length),ge>0)for(;ge--;ht[xe++]=0);for(ge=$i-1;ve>He;){if(ht[--ve]<Dt[ve]){for(xe=ve;xe&&!ht[--xe];ht[xe]=ge);--ht[xe],ht[ve]+=$i}ht[ve]-=Dt[ve]}for(;ht[0]==0;ht.splice(0,1),--pt);return ht[0]?yt(Q,ht,pt):(Q.s=H==3?-1:1,Q.c=[Q.e=0],Q)},S.modulo=S.mod=function(Q,ge){var xe,ve,ke=this;return Q=new De(Q,ge),!ke.c||!Q.s||Q.c&&!Q.c[0]?new De(NaN):!Q.c||ke.c&&!ke.c[0]?new De(ke):(gt==9?(ve=Q.s,Q.s=1,xe=h(ke,Q,0,3),Q.s=ve,xe.s*=ve):xe=h(ke,Q,0,gt),Q=ke.minus(xe.times(Q)),!Q.c[0]&&gt==1&&(Q.s=ke.s),Q)},S.multipliedBy=S.times=function(Q,ge){var xe,ve,ke,Ce,Ke,He,Qe,pt,ht,Dt,Xt,nn,rn,Kn,Jn,Dn=this,tr=Dn.c,br=(Q=new De(Q,ge)).c;if(!tr||!br||!tr[0]||!br[0])return!Dn.s||!Q.s||tr&&!tr[0]&&!br||br&&!br[0]&&!tr?Q.c=Q.e=Q.s=null:(Q.s*=Dn.s,!tr||!br?Q.c=Q.e=null:(Q.c=[0],Q.e=0)),Q;for(ve=Qr(Dn.e/yn)+Qr(Q.e/yn),Q.s*=Dn.s,Qe=tr.length,Dt=br.length,Qe<Dt&&(rn=tr,tr=br,br=rn,ke=Qe,Qe=Dt,Dt=ke),ke=Qe+Dt,rn=[];ke--;rn.push(0));for(Kn=$i,Jn=as,ke=Dt;--ke>=0;){for(xe=0,Xt=br[ke]%Jn,nn=br[ke]/Jn|0,Ke=Qe,Ce=ke+Ke;Ce>ke;)pt=tr[--Ke]%Jn,ht=tr[Ke]/Jn|0,He=nn*pt+ht*Xt,pt=Xt*pt+He%Jn*Jn+rn[Ce]+xe,xe=(pt/Kn|0)+(He/Jn|0)+nn*ht,rn[Ce--]=pt%Kn;rn[Ce]=xe}return xe?++ve:rn.splice(0,1),yt(Q,rn,ve)},S.negated=function(){var Q=new De(this);return Q.s=-Q.s||null,Q},S.plus=function(Q,ge){var xe,ve=this,ke=ve.s;if(Q=new De(Q,ge),ge=Q.s,!ke||!ge)return new De(NaN);if(ke!=ge)return Q.s=-ge,ve.minus(Q);var Ce=ve.e/yn,Ke=Q.e/yn,He=ve.c,Qe=Q.c;if(!Ce||!Ke){if(!He||!Qe)return new De(ke/0);if(!He[0]||!Qe[0])return Qe[0]?Q:new De(He[0]?ve:ke*0)}if(Ce=Qr(Ce),Ke=Qr(Ke),He=He.slice(),ke=Ce-Ke){for(ke>0?(Ke=Ce,xe=Qe):(ke=-ke,xe=He),xe.reverse();ke--;xe.push(0));xe.reverse()}for(ke=He.length,ge=Qe.length,ke-ge<0&&(xe=Qe,Qe=He,He=xe,ge=ke),ke=0;ge;)ke=(He[--ge]=He[ge]+Qe[ge]+ke)/$i|0,He[ge]=$i===He[ge]?0:He[ge]%$i;return ke&&(He=[ke].concat(He),++Ke),yt(Q,He,Ke)},S.precision=S.sd=function(Q,ge){var xe,ve,ke,Ce=this;if(Q!=null&&Q!==!!Q)return r(Q,1,Pn),ge==null?ge=H:r(ge,0,8),it(new De(Ce),Q,ge);if(!(xe=Ce.c))return null;if(ke=xe.length-1,ve=ke*yn+1,ke=xe[ke]){for(;ke%10==0;ke/=10,ve--);for(ke=xe[0];ke>=10;ke/=10,ve++);}return Q&&Ce.e+1>ve&&(ve=Ce.e+1),ve},S.shiftedBy=function(Q){return r(Q,-Uo,Uo),this.times("1e"+Q)},S.squareRoot=S.sqrt=function(){var Q,ge,xe,ve,ke,Ce=this,Ke=Ce.c,He=Ce.s,Qe=Ce.e,pt=z+4,ht=new De("0.5");if(He!==1||!Ke||!Ke[0])return new De(!He||He<0&&(!Ke||Ke[0])?NaN:Ke?Ce:1/0);if(He=Math.sqrt(+dt(Ce)),He==0||He==1/0?(ge=Hr(Ke),(ge.length+Qe)%2==0&&(ge+="0"),He=Math.sqrt(+ge),Qe=Qr((Qe+1)/2)-(Qe<0||Qe%2),He==1/0?ge="5e"+Qe:(ge=He.toExponential(),ge=ge.slice(0,ge.indexOf("e")+1)+Qe),xe=new De(ge)):xe=new De(He+""),xe.c[0]){for(Qe=xe.e,He=Qe+pt,He<3&&(He=0);;)if(ke=xe,xe=ht.times(ke.plus(h(Ce,ke,pt,1))),Hr(ke.c).slice(0,He)===(ge=Hr(xe.c)).slice(0,He))if(xe.e<Qe&&--He,ge=ge.slice(He-3,He+1),ge=="9999"||!ve&&ge=="4999"){if(!ve&&(it(ke,ke.e+z+2,0),ke.times(ke).eq(Ce))){xe=ke;break}pt+=4,He+=4,ve=1}else{(!+ge||!+ge.slice(1)&&ge.charAt(0)=="5")&&(it(xe,xe.e+z+2,1),Q=!xe.times(xe).eq(Ce));break}}return it(xe,xe.e+z+1,H,Q)},S.toExponential=function(Q,ge){return Q!=null&&(r(Q,0,Pn),Q++),qe(this,Q,ge,1)},S.toFixed=function(Q,ge){return Q!=null&&(r(Q,0,Pn),Q=Q+this.e+1),qe(this,Q,ge)},S.toFormat=function(Q,ge,xe){var ve,ke=this;if(xe==null)Q!=null&&ge&&typeof ge=="object"?(xe=ge,ge=null):Q&&typeof Q=="object"?(xe=Q,Q=ge=null):xe=Wt;else if(typeof xe!="object")throw Error(sr+"Argument not an object: "+xe);if(ve=ke.toFixed(Q,ge),ke.c){var Ce,Ke=ve.split("."),He=+xe.groupSize,Qe=+xe.secondaryGroupSize,pt=xe.groupSeparator||"",ht=Ke[0],Dt=Ke[1],Xt=ke.s<0,nn=Xt?ht.slice(1):ht,rn=nn.length;if(Qe&&(Ce=He,He=Qe,Qe=Ce,rn-=Ce),He>0&&rn>0){for(Ce=rn%He||He,ht=nn.substr(0,Ce);Ce<rn;Ce+=He)ht+=pt+nn.substr(Ce,He);Qe>0&&(ht+=pt+nn.slice(Ce)),Xt&&(ht="-"+ht)}ve=Dt?ht+(xe.decimalSeparator||"")+((Qe=+xe.fractionGroupSize)?Dt.replace(new RegExp("\\d{"+Qe+"}\\B","g"),"$&"+(xe.fractionGroupSeparator||"")):Dt):ht}return(xe.prefix||"")+ve+(xe.suffix||"")},S.toFraction=function(Q){var ge,xe,ve,ke,Ce,Ke,He,Qe,pt,ht,Dt,Xt,nn=this,rn=nn.c;if(Q!=null&&(He=new De(Q),!He.isInteger()&&(He.c||He.s!==1)||He.lt(N)))throw Error(sr+"Argument "+(He.isInteger()?"out of range: ":"not an integer: ")+dt(He));if(!rn)return new De(nn);for(ge=new De(N),pt=xe=new De(N),ve=Qe=new De(N),Xt=Hr(rn),Ce=ge.e=Xt.length-nn.e-1,ge.c[0]=Ha[(Ke=Ce%yn)<0?yn+Ke:Ke],Q=!Q||He.comparedTo(ge)>0?Ce>0?ge:pt:He,Ke=Ne,Ne=1/0,He=new De(Xt),Qe.c[0]=0;ht=h(He,ge,0,1),ke=xe.plus(ht.times(ve)),ke.comparedTo(Q)!=1;)xe=ve,ve=ke,pt=Qe.plus(ht.times(ke=pt)),Qe=ke,ge=He.minus(ht.times(ke=ge)),He=ke;return ke=h(Q.minus(xe),ve,0,1),Qe=Qe.plus(ke.times(pt)),xe=xe.plus(ke.times(ve)),Qe.s=pt.s=nn.s,Ce=Ce*2,Dt=h(pt,ve,Ce,H).minus(nn).abs().comparedTo(h(Qe,xe,Ce,H).minus(nn).abs())<1?[pt,ve]:[Qe,xe],Ne=Ke,Dt},S.toNumber=function(){return+dt(this)},S.toPrecision=function(Q,ge){return Q!=null&&r(Q,1,Pn),qe(this,Q,ge,2)},S.toString=function(Q){var ge,xe=this,ve=xe.s,ke=xe.e;return ke===null?ve?(ge="Infinity",ve<0&&(ge="-"+ge)):ge="NaN":(Q==null?ge=ke<=X||ke>=te?x(Hr(xe.c),ke):T(Hr(xe.c),ke,"0"):Q===10&&mn?(xe=it(new De(xe),z+ke+1,H),ge=T(Hr(xe.c),xe.e,"0")):(r(Q,2,Zt.length,"Base"),ge=m(T(Hr(xe.c),ke,"0"),10,Q,ve,!0)),ve<0&&xe.c[0]&&(ge="-"+ge)),ge},S.valueOf=S.toJSON=function(){return dt(this)},S._isBigNumber=!0,S[Symbol.toStringTag]="BigNumber",S[Symbol.for("nodejs.util.inspect.custom")]=S.valueOf,l!=null&&De.set(l),De}function Qr(l){var h=l|0;return l>0||l===h?h:h-1}function Hr(l){for(var h,m,y=1,S=l.length,N=l[0]+"";y<S;){for(h=l[y++]+"",m=yn-h.length;m--;h="0"+h);N+=h}for(S=N.length;N.charCodeAt(--S)===48;);return N.slice(0,S+1||1)}function js(l,h){var m,y,S=l.c,N=h.c,z=l.s,H=h.s,X=l.e,te=h.e;if(!z||!H)return null;if(m=S&&!S[0],y=N&&!N[0],m||y)return m?y?0:-H:z;if(z!=H)return z;if(m=z<0,y=X==te,!S||!N)return y?0:!S^m?1:-1;if(!y)return X>te^m?1:-1;for(H=(X=S.length)<(te=N.length)?X:te,z=0;z<H;z++)if(S[z]!=N[z])return S[z]>N[z]^m?1:-1;return X==te?0:X>te^m?1:-1}function r(l,h,m,y){if(l<h||l>m||l!==Tr(l))throw Error(sr+(y||"Argument")+(typeof l=="number"?l<h||l>m?" out of range: ":" not an integer: ":" not a primitive number: ")+String(l))}function d(l){var h=l.c.length-1;return Qr(l.e/yn)==h&&l.c[h]%2!=0}function x(l,h){return(l.length>1?l.charAt(0)+"."+l.slice(1):l)+(h<0?"e":"e+")+h}function T(l,h,m){var y,S;if(h<0){for(S=m+".";++h;S+=m);l=S+l}else if(y=l.length,++h>y){for(S=m,h-=y;--h;S+=m);l+=S}else h<y&&(l=l.slice(0,h)+"."+l.slice(h));return l}var V=qo(),fe=V,We=class{key;left=null;right=null;constructor(l){this.key=l}},mt=class extends We{constructor(l){super(l)}},xt=class{size=0;modificationCount=0;splayCount=0;splay(l){let h=this.root;if(h==null)return this.compare(l,l),-1;let m=null,y=null,S=null,N=null,z=h,H=this.compare,X;for(;;)if(X=H(z.key,l),X>0){let te=z.left;if(te==null||(X=H(te.key,l),X>0&&(z.left=te.right,te.right=z,z=te,te=z.left,te==null)))break;m==null?y=z:m.left=z,m=z,z=te}else if(X<0){let te=z.right;if(te==null||(X=H(te.key,l),X<0&&(z.right=te.left,te.left=z,z=te,te=z.right,te==null)))break;S==null?N=z:S.right=z,S=z,z=te}else break;return S!=null&&(S.right=z.left,z.left=N),m!=null&&(m.left=z.right,z.right=y),this.root!==z&&(this.root=z,this.splayCount++),X}splayMin(l){let h=l,m=h.left;for(;m!=null;){let y=m;h.left=y.right,y.right=h,h=y,m=h.left}return h}splayMax(l){let h=l,m=h.right;for(;m!=null;){let y=m;h.right=y.left,y.left=h,h=y,m=h.right}return h}_delete(l){if(this.root==null||this.splay(l)!=0)return null;let h=this.root,m=h,y=h.left;if(this.size--,y==null)this.root=h.right;else{let S=h.right;h=this.splayMax(y),h.right=S,this.root=h}return this.modificationCount++,m}addNewRoot(l,h){this.size++,this.modificationCount++;let m=this.root;if(m==null){this.root=l;return}h<0?(l.left=m,l.right=m.right,m.right=null):(l.right=m,l.left=m.left,m.left=null),this.root=l}_first(){let l=this.root;return l==null?null:(this.root=this.splayMin(l),this.root)}_last(){let l=this.root;return l==null?null:(this.root=this.splayMax(l),this.root)}clear(){this.root=null,this.size=0,this.modificationCount++}has(l){return this.validKey(l)&&this.splay(l)==0}defaultCompare(){return(l,h)=>l<h?-1:l>h?1:0}wrap(){return{getRoot:()=>this.root,setRoot:l=>{this.root=l},getSize:()=>this.size,getModificationCount:()=>this.modificationCount,getSplayCount:()=>this.splayCount,setSplayCount:l=>{this.splayCount=l},splay:l=>this.splay(l),has:l=>this.has(l)}}},Rt=class Sc extends xt{root=null;compare;validKey;constructor(h,m){super(),this.compare=h??this.defaultCompare(),this.validKey=m??(y=>y!=null&&y!=null)}delete(h){return this.validKey(h)?this._delete(h)!=null:!1}deleteAll(h){for(let m of h)this.delete(m)}forEach(h){let m=this[Symbol.iterator](),y;for(;y=m.next(),!y.done;)h(y.value,y.value,this)}add(h){let m=this.splay(h);return m!=0&&this.addNewRoot(new mt(h),m),this}addAndReturn(h){let m=this.splay(h);return m!=0&&this.addNewRoot(new mt(h),m),this.root.key}addAll(h){for(let m of h)this.add(m)}isEmpty(){return this.root==null}isNotEmpty(){return this.root!=null}single(){if(this.size==0)throw"Bad state: No element";if(this.size>1)throw"Bad state: Too many element";return this.root.key}first(){if(this.size==0)throw"Bad state: No element";return this._first().key}last(){if(this.size==0)throw"Bad state: No element";return this._last().key}lastBefore(h){if(h==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(h)<0)return this.root.key;let m=this.root.left;if(m==null)return null;let y=m.right;for(;y!=null;)m=y,y=m.right;return m.key}firstAfter(h){if(h==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(h)>0)return this.root.key;let m=this.root.right;if(m==null)return null;let y=m.left;for(;y!=null;)m=y,y=m.left;return m.key}retainAll(h){let m=new Sc(this.compare,this.validKey),y=this.modificationCount;for(let S of h){if(y!=this.modificationCount)throw"Concurrent modification during iteration.";this.validKey(S)&&this.splay(S)==0&&m.add(this.root.key)}m.size!=this.size&&(this.root=m.root,this.size=m.size,this.modificationCount++)}lookup(h){return!this.validKey(h)||this.splay(h)!=0?null:this.root.key}intersection(h){let m=new Sc(this.compare,this.validKey);for(let y of this)h.has(y)&&m.add(y);return m}difference(h){let m=new Sc(this.compare,this.validKey);for(let y of this)h.has(y)||m.add(y);return m}union(h){let m=this.clone();return m.addAll(h),m}clone(){let h=new Sc(this.compare,this.validKey);return h.size=this.size,h.root=this.copyNode(this.root),h}copyNode(h){if(h==null)return null;function m(S,N){let z,H;do{if(z=S.left,H=S.right,z!=null){let X=new mt(z.key);N.left=X,m(z,X)}if(H!=null){let X=new mt(H.key);N.right=X,S=H,N=X}}while(H!=null)}let y=new mt(h.key);return m(h,y),y}toSet(){return this.clone()}entries(){return new On(this.wrap())}keys(){return this[Symbol.iterator]()}values(){return this[Symbol.iterator]()}[Symbol.iterator](){return new pn(this.wrap())}[Symbol.toStringTag]="[object Set]"},Yt=class{tree;path=new Array;modificationCount=null;splayCount;constructor(l){this.tree=l,this.splayCount=l.getSplayCount()}[Symbol.iterator](){return this}next(){return this.moveNext()?{done:!1,value:this.current()}:{done:!0,value:null}}current(){if(!this.path.length)return null;let l=this.path[this.path.length-1];return this.getValue(l)}rebuildPath(l){this.path.splice(0,this.path.length),this.tree.splay(l),this.path.push(this.tree.getRoot()),this.splayCount=this.tree.getSplayCount()}findLeftMostDescendent(l){for(;l!=null;)this.path.push(l),l=l.left}moveNext(){if(this.modificationCount!=this.tree.getModificationCount()){if(this.modificationCount==null){this.modificationCount=this.tree.getModificationCount();let m=this.tree.getRoot();for(;m!=null;)this.path.push(m),m=m.left;return this.path.length>0}throw"Concurrent modification during iteration."}if(!this.path.length)return!1;this.splayCount!=this.tree.getSplayCount()&&this.rebuildPath(this.path[this.path.length-1].key);let l=this.path[this.path.length-1],h=l.right;if(h!=null){for(;h!=null;)this.path.push(h),h=h.left;return!0}for(this.path.pop();this.path.length&&this.path[this.path.length-1].right===l;)l=this.path.pop();return this.path.length>0}},pn=class extends Yt{getValue(l){return l.key}},On=class extends Yt{getValue(l){return[l.key,l.key]}},di=l=>l,Wr=l=>{if(l){let h=new Rt(xa(l)),m=new Rt(xa(l)),y=(N,z)=>z.addAndReturn(N),S=N=>({x:y(N.x,h),y:y(N.y,m)});return S({x:new fe(0),y:new fe(0)}),S}return di},Pi=l=>({set:h=>{Pr=Pi(h)},reset:()=>Pi(l),compare:xa(l),snap:Wr(l),orient:Rs(l)}),Pr=Pi(),ia=(l,h)=>l.ll.x.isLessThanOrEqualTo(h.x)&&h.x.isLessThanOrEqualTo(l.ur.x)&&l.ll.y.isLessThanOrEqualTo(h.y)&&h.y.isLessThanOrEqualTo(l.ur.y),Go=(l,h)=>{if(h.ur.x.isLessThan(l.ll.x)||l.ur.x.isLessThan(h.ll.x)||h.ur.y.isLessThan(l.ll.y)||l.ur.y.isLessThan(h.ll.y))return null;let m=l.ll.x.isLessThan(h.ll.x)?h.ll.x:l.ll.x,y=l.ur.x.isLessThan(h.ur.x)?l.ur.x:h.ur.x,S=l.ll.y.isLessThan(h.ll.y)?h.ll.y:l.ll.y,N=l.ur.y.isLessThan(h.ur.y)?l.ur.y:h.ur.y;return{ll:{x:m,y:S},ur:{x:y,y:N}}},ei=(l,h)=>l.x.times(h.y).minus(l.y.times(h.x)),os=(l,h)=>l.x.times(h.x).plus(l.y.times(h.y)),ti=l=>os(l,l).sqrt(),sa=(l,h,m)=>{let y={x:h.x.minus(l.x),y:h.y.minus(l.y)},S={x:m.x.minus(l.x),y:m.y.minus(l.y)};return ei(S,y).div(ti(S)).div(ti(y))},co=(l,h,m)=>{let y={x:h.x.minus(l.x),y:h.y.minus(l.y)},S={x:m.x.minus(l.x),y:m.y.minus(l.y)};return os(S,y).div(ti(S)).div(ti(y))},Un=(l,h,m)=>h.y.isZero()?null:{x:l.x.plus(h.x.div(h.y).times(m.minus(l.y))),y:m},ni=(l,h,m)=>h.x.isZero()?null:{x:m,y:l.y.plus(h.y.div(h.x).times(m.minus(l.x)))},tu=(l,h,m,y)=>{if(h.x.isZero())return ni(m,y,l.x);if(y.x.isZero())return ni(l,h,m.x);if(h.y.isZero())return Un(m,y,l.y);if(y.y.isZero())return Un(l,h,m.y);let S=ei(h,y);if(S.isZero())return null;let N={x:m.x.minus(l.x),y:m.y.minus(l.y)},z=ei(N,h).div(S),H=ei(N,y).div(S),X=l.x.plus(H.times(h.x)),te=m.x.plus(z.times(y.x)),Re=l.y.plus(H.times(h.y)),Ne=m.y.plus(z.times(y.y)),ut=X.plus(te).div(2),gt=Re.plus(Ne).div(2);return{x:ut,y:gt}},aa=class Ag{point;isLeft;segment;otherSE;consumedBy;static compare(h,m){let y=Ag.comparePoints(h.point,m.point);return y!==0?y:(h.point!==m.point&&h.link(m),h.isLeft!==m.isLeft?h.isLeft?1:-1:Fs.compare(h.segment,m.segment))}static comparePoints(h,m){return h.x.isLessThan(m.x)?-1:h.x.isGreaterThan(m.x)?1:h.y.isLessThan(m.y)?-1:h.y.isGreaterThan(m.y)?1:0}constructor(h,m){h.events===void 0?h.events=[this]:h.events.push(this),this.point=h,this.isLeft=m}link(h){if(h.point===this.point)throw new Error("Tried to link already linked events");let m=h.point.events;for(let y=0,S=m.length;y<S;y++){let N=m[y];this.point.events.push(N),N.point=this.point}this.checkForConsuming()}checkForConsuming(){let h=this.point.events.length;for(let m=0;m<h;m++){let y=this.point.events[m];if(y.segment.consumedBy===void 0)for(let S=m+1;S<h;S++){let N=this.point.events[S];N.consumedBy===void 0&&y.otherSE.point.events===N.otherSE.point.events&&y.segment.consume(N.segment)}}}getAvailableLinkedEvents(){let h=[];for(let m=0,y=this.point.events.length;m<y;m++){let S=this.point.events[m];S!==this&&!S.segment.ringOut&&S.segment.isInResult()&&h.push(S)}return h}getLeftmostComparator(h){let m=new Map,y=S=>{let N=S.otherSE;m.set(S,{sine:sa(this.point,h.point,N.point),cosine:co(this.point,h.point,N.point)})};return(S,N)=>{m.has(S)||y(S),m.has(N)||y(N);let{sine:z,cosine:H}=m.get(S),{sine:X,cosine:te}=m.get(N);return z.isGreaterThanOrEqualTo(0)&&X.isGreaterThanOrEqualTo(0)?H.isLessThan(te)?1:H.isGreaterThan(te)?-1:0:z.isLessThan(0)&&X.isLessThan(0)?H.isLessThan(te)?-1:H.isGreaterThan(te)?1:0:X.isLessThan(z)?-1:X.isGreaterThan(z)?1:0}}},Wa=0,Fs=class Nh{id;leftSE;rightSE;rings;windings;ringOut;consumedBy;prev;_prevInResult;_beforeState;_afterState;_isInResult;static compare(h,m){let y=h.leftSE.point.x,S=m.leftSE.point.x,N=h.rightSE.point.x,z=m.rightSE.point.x;if(z.isLessThan(y))return 1;if(N.isLessThan(S))return-1;let H=h.leftSE.point.y,X=m.leftSE.point.y,te=h.rightSE.point.y,Re=m.rightSE.point.y;if(y.isLessThan(S)){if(X.isLessThan(H)&&X.isLessThan(te))return 1;if(X.isGreaterThan(H)&&X.isGreaterThan(te))return-1;let Ne=h.comparePoint(m.leftSE.point);if(Ne<0)return 1;if(Ne>0)return-1;let ut=m.comparePoint(h.rightSE.point);return ut!==0?ut:-1}if(y.isGreaterThan(S)){if(H.isLessThan(X)&&H.isLessThan(Re))return-1;if(H.isGreaterThan(X)&&H.isGreaterThan(Re))return 1;let Ne=m.comparePoint(h.leftSE.point);if(Ne!==0)return Ne;let ut=h.comparePoint(m.rightSE.point);return ut<0?1:ut>0?-1:1}if(H.isLessThan(X))return-1;if(H.isGreaterThan(X))return 1;if(N.isLessThan(z)){let Ne=m.comparePoint(h.rightSE.point);if(Ne!==0)return Ne}if(N.isGreaterThan(z)){let Ne=h.comparePoint(m.rightSE.point);if(Ne<0)return 1;if(Ne>0)return-1}if(!N.eq(z)){let Ne=te.minus(H),ut=N.minus(y),gt=Re.minus(X),Et=z.minus(S);if(Ne.isGreaterThan(ut)&&gt.isLessThan(Et))return 1;if(Ne.isLessThan(ut)&&gt.isGreaterThan(Et))return-1}return N.isGreaterThan(z)?1:N.isLessThan(z)||te.isLessThan(Re)?-1:te.isGreaterThan(Re)?1:h.id<m.id?-1:h.id>m.id?1:0}constructor(h,m,y,S){this.id=++Wa,this.leftSE=h,h.segment=this,h.otherSE=m,this.rightSE=m,m.segment=this,m.otherSE=h,this.rings=y,this.windings=S}static fromRing(h,m,y){let S,N,z,H=aa.comparePoints(h,m);if(H<0)S=h,N=m,z=1;else if(H>0)S=m,N=h,z=-1;else throw new Error(`Tried to create degenerate segment at [${h.x}, ${h.y}]`);let X=new aa(S,!0),te=new aa(N,!1);return new Nh(X,te,[y],[z])}replaceRightSE(h){this.rightSE=h,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){let h=this.leftSE.point.y,m=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:h.isLessThan(m)?h:m},ur:{x:this.rightSE.point.x,y:h.isGreaterThan(m)?h:m}}}vector(){return{x:this.rightSE.point.x.minus(this.leftSE.point.x),y:this.rightSE.point.y.minus(this.leftSE.point.y)}}isAnEndpoint(h){return h.x.eq(this.leftSE.point.x)&&h.y.eq(this.leftSE.point.y)||h.x.eq(this.rightSE.point.x)&&h.y.eq(this.rightSE.point.y)}comparePoint(h){return Pr.orient(this.leftSE.point,h,this.rightSE.point)}getIntersection(h){let m=this.bbox(),y=h.bbox(),S=Go(m,y);if(S===null)return null;let N=this.leftSE.point,z=this.rightSE.point,H=h.leftSE.point,X=h.rightSE.point,te=ia(m,H)&&this.comparePoint(H)===0,Re=ia(y,N)&&h.comparePoint(N)===0,Ne=ia(m,X)&&this.comparePoint(X)===0,ut=ia(y,z)&&h.comparePoint(z)===0;if(Re&&te)return ut&&!Ne?z:!ut&&Ne?X:null;if(Re)return Ne&&N.x.eq(X.x)&&N.y.eq(X.y)?null:N;if(te)return ut&&z.x.eq(H.x)&&z.y.eq(H.y)?null:H;if(ut&&Ne)return null;if(ut)return z;if(Ne)return X;let gt=tu(N,this.vector(),H,h.vector());return gt===null||!ia(S,gt)?null:Pr.snap(gt)}split(h){let m=[],y=h.events!==void 0,S=new aa(h,!0),N=new aa(h,!1),z=this.rightSE;this.replaceRightSE(N),m.push(N),m.push(S);let H=new Nh(S,z,this.rings.slice(),this.windings.slice());return aa.comparePoints(H.leftSE.point,H.rightSE.point)>0&&H.swapEvents(),aa.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),y&&(S.checkForConsuming(),N.checkForConsuming()),m}swapEvents(){let h=this.rightSE;this.rightSE=this.leftSE,this.leftSE=h,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let m=0,y=this.windings.length;m<y;m++)this.windings[m]*=-1}consume(h){let m=this,y=h;for(;m.consumedBy;)m=m.consumedBy;for(;y.consumedBy;)y=y.consumedBy;let S=Nh.compare(m,y);if(S!==0){if(S>0){let N=m;m=y,y=N}if(m.prev===y){let N=m;m=y,y=N}for(let N=0,z=y.rings.length;N<z;N++){let H=y.rings[N],X=y.windings[N],te=m.rings.indexOf(H);te===-1?(m.rings.push(H),m.windings.push(X)):m.windings[te]+=X}y.rings=null,y.windings=null,y.consumedBy=m,y.leftSE.consumedBy=m.leftSE,y.rightSE.consumedBy=m.rightSE}}prevInResult(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}beforeState(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{let h=this.prev.consumedBy||this.prev;this._beforeState=h.afterState()}return this._beforeState}afterState(){if(this._afterState!==void 0)return this._afterState;let h=this.beforeState();this._afterState={rings:h.rings.slice(0),windings:h.windings.slice(0),multiPolys:[]};let m=this._afterState.rings,y=this._afterState.windings,S=this._afterState.multiPolys;for(let H=0,X=this.rings.length;H<X;H++){let te=this.rings[H],Re=this.windings[H],Ne=m.indexOf(te);Ne===-1?(m.push(te),y.push(Re)):y[Ne]+=Re}let N=[],z=[];for(let H=0,X=m.length;H<X;H++){if(y[H]===0)continue;let te=m[H],Re=te.poly;if(z.indexOf(Re)===-1)if(te.isExterior)N.push(Re);else{z.indexOf(Re)===-1&&z.push(Re);let Ne=N.indexOf(te.poly);Ne!==-1&&N.splice(Ne,1)}}for(let H=0,X=N.length;H<X;H++){let te=N[H].multiPoly;S.indexOf(te)===-1&&S.push(te)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;let h=this.beforeState().multiPolys,m=this.afterState().multiPolys;switch(Ai.type){case"union":{let y=h.length===0,S=m.length===0;this._isInResult=y!==S;break}case"intersection":{let y,S;h.length<m.length?(y=h.length,S=m.length):(y=m.length,S=h.length),this._isInResult=S===Ai.numMultiPolys&&y<S;break}case"xor":{let y=Math.abs(h.length-m.length);this._isInResult=y%2===1;break}case"difference":{let y=S=>S.length===1&&S[0].isSubject;this._isInResult=y(h)!==y(m);break}}return this._isInResult}},La=class{poly;isExterior;segments;bbox;constructor(l,h,m){if(!Array.isArray(l)||l.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=h,this.isExterior=m,this.segments=[],typeof l[0][0]!="number"||typeof l[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let y=Pr.snap({x:new fe(l[0][0]),y:new fe(l[0][1])});this.bbox={ll:{x:y.x,y:y.y},ur:{x:y.x,y:y.y}};let S=y;for(let N=1,z=l.length;N<z;N++){if(typeof l[N][0]!="number"||typeof l[N][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let H=Pr.snap({x:new fe(l[N][0]),y:new fe(l[N][1])});H.x.eq(S.x)&&H.y.eq(S.y)||(this.segments.push(Fs.fromRing(S,H,this)),H.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=H.x),H.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=H.y),H.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=H.x),H.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=H.y),S=H)}(!y.x.eq(S.x)||!y.y.eq(S.y))&&this.segments.push(Fs.fromRing(S,y,this))}getSweepEvents(){let l=[];for(let h=0,m=this.segments.length;h<m;h++){let y=this.segments[h];l.push(y.leftSE),l.push(y.rightSE)}return l}},Ho=class{multiPoly;exteriorRing;interiorRings;bbox;constructor(l,h){if(!Array.isArray(l))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new La(l[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let m=1,y=l.length;m<y;m++){let S=new La(l[m],this,!1);S.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=S.bbox.ll.x),S.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=S.bbox.ll.y),S.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=S.bbox.ur.x),S.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=S.bbox.ur.y),this.interiorRings.push(S)}this.multiPoly=h}getSweepEvents(){let l=this.exteriorRing.getSweepEvents();for(let h=0,m=this.interiorRings.length;h<m;h++){let y=this.interiorRings[h].getSweepEvents();for(let S=0,N=y.length;S<N;S++)l.push(y[S])}return l}},Tl=class{isSubject;polys;bbox;constructor(l,h){if(!Array.isArray(l))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof l[0][0][0]=="number"&&(l=[l])}catch{}this.polys=[],this.bbox={ll:{x:new fe(Number.POSITIVE_INFINITY),y:new fe(Number.POSITIVE_INFINITY)},ur:{x:new fe(Number.NEGATIVE_INFINITY),y:new fe(Number.NEGATIVE_INFINITY)}};for(let m=0,y=l.length;m<y;m++){let S=new Ho(l[m],this);S.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=S.bbox.ll.x),S.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=S.bbox.ll.y),S.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=S.bbox.ur.x),S.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=S.bbox.ur.y),this.polys.push(S)}this.isSubject=h}getSweepEvents(){let l=[];for(let h=0,m=this.polys.length;h<m;h++){let y=this.polys[h].getSweepEvents();for(let S=0,N=y.length;S<N;S++)l.push(y[S])}return l}},ho=class Sd{events;poly;_isExteriorRing;_enclosingRing;static factory(h){let m=[];for(let y=0,S=h.length;y<S;y++){let N=h[y];if(!N.isInResult()||N.ringOut)continue;let z=null,H=N.leftSE,X=N.rightSE,te=[H],Re=H.point,Ne=[];for(;z=H,H=X,te.push(H),H.point!==Re;)for(;;){let ut=H.getAvailableLinkedEvents();if(ut.length===0){let Wt=te[0].point,Zt=te[te.length-1].point;throw new Error(`Unable to complete output ring starting at [${Wt.x}, ${Wt.y}]. Last matching segment found ends at [${Zt.x}, ${Zt.y}].`)}if(ut.length===1){X=ut[0].otherSE;break}let gt=null;for(let Wt=0,Zt=Ne.length;Wt<Zt;Wt++)if(Ne[Wt].point===H.point){gt=Wt;break}if(gt!==null){let Wt=Ne.splice(gt)[0],Zt=te.splice(Wt.index);Zt.unshift(Zt[0].otherSE),m.push(new Sd(Zt.reverse()));continue}Ne.push({index:te.length,point:H.point});let Et=H.getLeftmostComparator(z);X=ut.sort(Et)[0].otherSE;break}m.push(new Sd(te))}return m}constructor(h){this.events=h;for(let m=0,y=h.length;m<y;m++)h[m].segment.ringOut=this;this.poly=null}getGeom(){let h=this.events[0].point,m=[h];for(let te=1,Re=this.events.length-1;te<Re;te++){let Ne=this.events[te].point,ut=this.events[te+1].point;Pr.orient(Ne,h,ut)!==0&&(m.push(Ne),h=Ne)}if(m.length===1)return null;let y=m[0],S=m[1];Pr.orient(y,h,S)===0&&m.shift(),m.push(m[0]);let N=this.isExteriorRing()?1:-1,z=this.isExteriorRing()?0:m.length-1,H=this.isExteriorRing()?m.length:-1,X=[];for(let te=z;te!=H;te+=N)X.push([m[te].x.toNumber(),m[te].y.toNumber()]);return X}isExteriorRing(){if(this._isExteriorRing===void 0){let h=this.enclosingRing();this._isExteriorRing=h?!h.isExteriorRing():!0}return this._isExteriorRing}enclosingRing(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let h=this.events[0];for(let S=1,N=this.events.length;S<N;S++){let z=this.events[S];aa.compare(h,z)>0&&(h=z)}let m=h.segment.prevInResult(),y=m?m.prevInResult():null;for(;;){if(!m)return null;if(!y)return m.ringOut;if(y.ringOut!==m.ringOut)return y.ringOut?.enclosingRing()!==m.ringOut?m.ringOut:m.ringOut?.enclosingRing();m=y.prevInResult(),y=m?m.prevInResult():null}}},oa=class{exteriorRing;interiorRings;constructor(l){this.exteriorRing=l,l.poly=this,this.interiorRings=[]}addInterior(l){this.interiorRings.push(l),l.poly=this}getGeom(){let l=this.exteriorRing.getGeom();if(l===null)return null;let h=[l];for(let m=0,y=this.interiorRings.length;m<y;m++){let S=this.interiorRings[m].getGeom();S!==null&&h.push(S)}return h}},hr=class{rings;polys;constructor(l){this.rings=l,this.polys=this._composePolys(l)}getGeom(){let l=[];for(let h=0,m=this.polys.length;h<m;h++){let y=this.polys[h].getGeom();y!==null&&l.push(y)}return l}_composePolys(l){let h=[];for(let m=0,y=l.length;m<y;m++){let S=l[m];if(!S.poly)if(S.isExteriorRing())h.push(new oa(S));else{let N=S.enclosingRing();N?.poly||h.push(new oa(N)),N?.poly?.addInterior(S)}}return h}},pr=class{queue;tree;segments;constructor(l,h=Fs.compare){this.queue=l,this.tree=new Rt(h),this.segments=[]}process(l){let h=l.segment,m=[];if(l.consumedBy)return l.isLeft?this.queue.delete(l.otherSE):this.tree.delete(h),m;l.isLeft&&this.tree.add(h);let y=h,S=h;do y=this.tree.lastBefore(y);while(y!=null&&y.consumedBy!=null);do S=this.tree.firstAfter(S);while(S!=null&&S.consumedBy!=null);if(l.isLeft){let N=null;if(y){let H=y.getIntersection(h);if(H!==null&&(h.isAnEndpoint(H)||(N=H),!y.isAnEndpoint(H))){let X=this._splitSafely(y,H);for(let te=0,Re=X.length;te<Re;te++)m.push(X[te])}}let z=null;if(S){let H=S.getIntersection(h);if(H!==null&&(h.isAnEndpoint(H)||(z=H),!S.isAnEndpoint(H))){let X=this._splitSafely(S,H);for(let te=0,Re=X.length;te<Re;te++)m.push(X[te])}}if(N!==null||z!==null){let H=null;N===null?H=z:z===null?H=N:H=aa.comparePoints(N,z)<=0?N:z,this.queue.delete(h.rightSE),m.push(h.rightSE);let X=h.split(H);for(let te=0,Re=X.length;te<Re;te++)m.push(X[te])}m.length>0?(this.tree.delete(h),m.push(l)):(this.segments.push(h),h.prev=y)}else{if(y&&S){let N=y.getIntersection(S);if(N!==null){if(!y.isAnEndpoint(N)){let z=this._splitSafely(y,N);for(let H=0,X=z.length;H<X;H++)m.push(z[H])}if(!S.isAnEndpoint(N)){let z=this._splitSafely(S,N);for(let H=0,X=z.length;H<X;H++)m.push(z[H])}}}this.tree.delete(h)}return m}_splitSafely(l,h){this.tree.delete(l);let m=l.rightSE;this.queue.delete(m);let y=l.split(h);return y.push(m),l.consumedBy===void 0&&this.tree.add(l),y}},Bo=class{type;numMultiPolys;run(l,h,m){$r.type=l;let y=[new Tl(h,!0)];for(let X=0,te=m.length;X<te;X++)y.push(new Tl(m[X],!1));if($r.numMultiPolys=y.length,$r.type==="difference"){let X=y[0],te=1;for(;te<y.length;)Go(y[te].bbox,X.bbox)!==null?te++:y.splice(te,1)}if($r.type==="intersection")for(let X=0,te=y.length;X<te;X++){let Re=y[X];for(let Ne=X+1,ut=y.length;Ne<ut;Ne++)if(Go(Re.bbox,y[Ne].bbox)===null)return[]}let S=new Rt(aa.compare);for(let X=0,te=y.length;X<te;X++){let Re=y[X].getSweepEvents();for(let Ne=0,ut=Re.length;Ne<ut;Ne++)S.add(Re[Ne])}let N=new pr(S),z=null;for(S.size!=0&&(z=S.first(),S.delete(z));z;){let X=N.process(z);for(let te=0,Re=X.length;te<Re;te++){let Ne=X[te];Ne.consumedBy===void 0&&S.add(Ne)}S.size!=0?(z=S.first(),S.delete(z)):z=null}Pr.reset();let H=ho.factory(N.segments);return new hr(H).getGeom()}},$r=new Bo,Ai=$r,Wo=(l,...h)=>Ai.run("intersection",l,h),cl=(l,...h)=>Ai.run("difference",l,h);Pr.set;function Mi(l){let h={type:"Feature"};return h.geometry=l,h}function $o(l){return l.type==="Feature"?l.geometry:l}function nu(l){return l&&l.geometry&&l.geometry.coordinates?l.geometry.coordinates:l}function ru(l){return Mi({type:"LineString",coordinates:l})}function Vo(l){return Mi({type:"MultiLineString",coordinates:l})}function iu(l){return Mi({type:"Polygon",coordinates:l})}function $a(l){return Mi({type:"MultiPolygon",coordinates:l})}function bl(l,h){let m=$o(l),y=$o(h),S=Wo(m.coordinates,y.coordinates);return S.length===0?null:S.length===1?iu(S[0]):$a(S)}function _(l,h){let m=$o(l),y=$o(h),S=cl(m.coordinates,y.coordinates);return S.length===0?null:S.length===1?iu(S[0]):$a(S)}function E(l){return Array.isArray(l)?1+E(l[0]):-1}function R(l){l instanceof L.Polyline&&(l=l.toGeoJSON(15));let h=nu(l),m=E(h),y=[];return m>1?h.forEach(S=>{y.push(ru(S))}):y.push(l),y}function W(l){let h=[];return l.eachLayer(m=>{h.push(nu(m.toGeoJSON(15)))}),Vo(h)}Nr.Cut=Nr.Polygon.extend({initialize(l){this._map=l,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_finishShape(){if(this._editedLayers=[],!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let l=this._layer.getLatLngs();if(l.length<=2)return;let h=L.polygon(l,this.options.pathOptions);h._latlngInfos=this._layer._latlngInfo,this.cut(h),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this._editedLayers.forEach(({layer:y,originalLayer:S})=>{this._fireCut(S,y,S),this._fireCut(this._map,y,S),S.pm._fireEdit()}),this._editedLayers=[];let m=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(m))},cut(l){let h=this._map._layers,m=l._latlngInfos||[];Object.keys(h).map(y=>h[y]).filter(y=>y.pm).filter(y=>!y._pmTempLayer).filter(y=>!L.PM.optIn&&!y.options.pmIgnore||L.PM.optIn&&y.options.pmIgnore===!1).filter(y=>y instanceof L.Polyline).filter(y=>y!==l).filter(y=>y.pm.options.allowCutting).filter(y=>this.options.layersToCut&&L.Util.isArray(this.options.layersToCut)&&this.options.layersToCut.length>0?this.options.layersToCut.indexOf(y)>-1:!0).filter(y=>!this._layerGroup.hasLayer(y)).filter(y=>{try{let S=!!Si(l.toGeoJSON(15),y.toGeoJSON(15)).features.length>0;return S||y instanceof L.Polyline&&!(y instanceof L.Polygon)?S:!!bl(l.toGeoJSON(15),y.toGeoJSON(15))}catch{return y instanceof L.Polygon&&console.error("You can't cut polygons with self-intersections"),!1}}).forEach(y=>{let S;if(y instanceof L.Polygon){S=L.polygon(y.getLatLngs());let X=S.getLatLngs();m.forEach(te=>{if(te&&te.snapInfo){let{latlng:Re}=te,Ne=this._calcClosestLayer(Re,[S]);if(Ne&&Ne.segment&&Ne.distance<this.options.snapDistance){let{segment:ut}=Ne;if(ut&&ut.length===2){let{indexPath:gt,parentPath:Et,newIndex:Wt}=L.PM.Utils._getIndexFromSegment(X,ut);(gt.length>1?(0,lr.default)(X,Et):X).splice(Wt,0,Re)}}}})}else S=y;let N=this._cutLayer(l,S),z=L.geoJSON(N,y.options);z.getLayers().length===1&&([z]=z.getLayers()),this._setPane(z,"layerPane");let H=z.addTo(this._map.pm._getContainingLayer());if(H.pm.enable(y.pm.options),H.pm.disable(),y._pmTempLayer=!0,l._pmTempLayer=!0,y.remove(),y.removeFrom(this._map.pm._getContainingLayer()),l.remove(),l.removeFrom(this._map.pm._getContainingLayer()),H.getLayers&&H.getLayers().length===0&&this._map.pm.removeLayer({target:H}),H instanceof L.LayerGroup?(H.eachLayer(X=>{this._addDrawnLayerProp(X)}),this._addDrawnLayerProp(H)):this._addDrawnLayerProp(H),this.options.layersToCut&&L.Util.isArray(this.options.layersToCut)&&this.options.layersToCut.length>0){let X=this.options.layersToCut.indexOf(y);X>-1&&this.options.layersToCut.splice(X,1)}this._editedLayers.push({layer:H,originalLayer:y})})},_cutLayer(l,h){let m=L.geoJSON(),y;if(h instanceof L.Polygon)y=_(h.toGeoJSON(15),l.toGeoJSON(15));else{let S=R(h);S.forEach(N=>{let z=vi(N,l.toGeoJSON(15)),H;z&&z.features.length>0?H=L.geoJSON(z):H=L.geoJSON(N),H.getLayers().forEach(X=>{ss(l.toGeoJSON(15),X.toGeoJSON(15))||X.addTo(m)})}),S.length>1?y=W(m):y=m.toGeoJSON(15)}return y},_change:L.Util.falseFn}),Nr.Text=Nr.extend({initialize(l){this._map=l,this._shape="Text",this.toolbarButtonName="drawText"},enable(l){L.Util.setOptions(this,l),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(gn("tooltips.placeText"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._map.getContainer().classList.add("geoman-draw-cursor"),this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker?.remove(),this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("mousemove",this._syncHintMarker,this),this._map.off("mousemove",this._showHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(l){this.enabled()?this.disable():this.enable(l)},_syncHintMarker(l){if(this._hintMarker.setLatLng(l.latlng),this.options.snappable){let h=l;h.target=this._hintMarker,this._handleSnapping(h)}},_createMarker(l){if(!l.latlng||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(l.latlng);let h=this._hintMarker.getLatLng();if(this.textArea=this._createTextArea(),this.options.textOptions?.className){let S=this.options.textOptions.className.split(" ");this.textArea.classList.add(...S)}let m=this._createTextIcon(this.textArea),y=new L.Marker(h,{textMarker:!0,_textMarkerOverPM:!0,icon:m});if(this._setPane(y,"markerPane"),this._finishLayer(y),y.pm||(y.options.draggable=!1),y.addTo(this._map.pm._getContainingLayer()),y.pm){y.pm.textArea=this.textArea,L.setOptions(y.pm,{removeIfEmpty:this.options.textOptions?.removeIfEmpty??!0});let S=this.options.textOptions?.focusAfterDraw??!0;y.pm._createTextMarker(S),this.options.textOptions?.text&&y.pm.setText(this.options.textOptions.text)}this._fireCreate(y),this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this._map.once("mousemove",this._showHintMarkerAfterMoving,this)},_showHintMarkerAfterMoving(l){this.enable(),this._hintMarker.setLatLng(l.latlng)},_createTextArea(){let l=document.createElement("textarea");return l.readOnly=!0,l.classList.add("pm-textarea","pm-disabled"),l},_createTextIcon(l){return L.divIcon({className:"pm-text-marker",html:l})}});var ee={enableLayerDrag(){if(!this.options.draggable||!this._layer._map)return;this.disable(),this._layerDragEnabled=!0,this._map||(this._map=this._layer._map),(this._layer instanceof L.Marker||this._layer instanceof L.ImageOverlay)&&L.DomEvent.on(this._getDOMElem(),"dragstart",this._stopDOMImageDrag),this._layer.dragging&&this._layer.dragging.disable(),this._tempDragCoord=null,Br(this._layer)instanceof L.Canvas?(this._layer.on("mouseout",this.removeDraggingClass,this),this._layer.on("mouseover",this.addDraggingClass,this)):this.addDraggingClass(),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0;let l=this._getDOMElem();l&&(Br(this._layer)instanceof L.Canvas?(this._layer.on("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._addTouchEvents(l)):L.DomEvent.on(l,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._fireDragEnable()},disableLayerDrag(){this._layerDragEnabled=!1,Br(this._layer)instanceof L.Canvas?(this._layer.off("mouseout",this.removeDraggingClass,this),this._layer.off("mouseover",this.addDraggingClass,this)):this.removeDraggingClass(),this._originalMapDragState&&this._dragging&&this._map.dragging.enable(),this._safeToCacheDragState=!1,this._layer.dragging&&this._layer.dragging.disable();let l=this._getDOMElem();l&&(Br(this._layer)instanceof L.Canvas?(this._layer.off("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._removeTouchEvents(l)):L.DomEvent.off(l,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._layerDragged&&this._fireUpdate(),this._layerDragged=!1,this._fireDragDisable()},dragging(){return this._dragging},layerDragEnabled(){return!!this._layerDragEnabled},_simulateMouseDownEvent(l){let h=l.touches?l.touches[0]:l,m={originalEvent:h,target:this._layer};return m.containerPoint=this._map.mouseEventToContainerPoint(h),m.latlng=this._map.containerPointToLatLng(m.containerPoint),this._dragMixinOnMouseDown(m),!1},_simulateMouseMoveEvent(l){let h=l.touches?l.touches[0]:l,m={originalEvent:h,target:this._layer};return m.containerPoint=this._map.mouseEventToContainerPoint(h),m.latlng=this._map.containerPointToLatLng(m.containerPoint),this._dragMixinOnMouseMove(m),!1},_simulateMouseUpEvent(l){let h={originalEvent:l.touches?l.touches[0]:l,target:this._layer};return l.type.indexOf("touch")===-1&&(h.containerPoint=this._map.mouseEventToContainerPoint(l),h.latlng=this._map.containerPointToLatLng(h.containerPoint)),this._dragMixinOnMouseUp(h),!1},_dragMixinOnMouseDown(l){if(l.originalEvent.button>0)return;this._overwriteEventIfItComesFromMarker(l);let h=l._fromLayerSync,m=this._syncLayers("_dragMixinOnMouseDown",l);if(this._layer instanceof L.Marker&&(this.options.snappable&&!h&&!m?this._initSnappableMarkers():this._disableSnapping()),this._layer instanceof L.CircleMarker){let y="resizeableCircleMarker";this._layer instanceof L.Circle&&(y="resizeableCircle"),this.options.snappable&&!h&&!m?this._layer.pm.options[y]||this._initSnappableMarkersDrag():this._layer.pm.options[y]?this._layer.pm._disableSnapping():this._layer.pm._disableSnappingDrag()}this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=l.latlng,L.DomEvent.on(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),L.DomEvent.on(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this)},_dragMixinOnMouseMove(l){this._overwriteEventIfItComesFromMarker(l);let h=this._getDOMElem();this._syncLayers("_dragMixinOnMouseMove",l),this._dragging||(this._dragging=!0,L.DomUtil.addClass(h,"leaflet-pm-dragging"),this._layer instanceof L.Marker||this._layer.bringToFront(),this._originalMapDragState&&this._map.dragging.disable(),this._fireDragStart()),this._tempDragCoord||(this._tempDragCoord=l.latlng),this._onLayerDrag(l),this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle()},_dragMixinOnMouseUp(l){let h=this._getDOMElem();return this._syncLayers("_dragMixinOnMouseUp",l),this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0,L.DomEvent.off(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this),L.DomEvent.off(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),this._dragging?(this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle(),this._layerDragged=!0,window.setTimeout(()=>{this._dragging=!1,h&&L.DomUtil.removeClass(h,"leaflet-pm-dragging"),this._fireDragEnd(),this._fireEdit(),this._layerEdited=!0},10),!0):!1},_onLayerDrag(l){let{latlng:h}=l,m={lat:h.lat-this._tempDragCoord.lat,lng:h.lng-this._tempDragCoord.lng},y=S=>S.map(N=>{if(Array.isArray(N))return y(N);let z={lat:N.lat+m.lat,lng:N.lng+m.lng};return(N.alt||N.alt===0)&&(z.alt=N.alt),z});if(this._layer instanceof L.Circle&&this._layer.options.resizeableCircle||this._layer instanceof L.CircleMarker&&this._layer.options.resizeableCircleMarker){let S=y([this._layer.getLatLng()]);this._layer.setLatLng(S[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.CircleMarker||this._layer instanceof L.Marker){let S=this._layer.getLatLng();this._layer._snapped&&(S=this._layer._orgLatLng);let N=y([S]);this._layer.setLatLng(N[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.ImageOverlay){let S=y([this._layer.getBounds().getNorthWest(),this._layer.getBounds().getSouthEast()]);this._layer.setBounds(S),this._fireChange(this._layer.getBounds(),"Edit")}else{let S=y(this._layer.getLatLngs());this._layer.setLatLngs(S),this._fireChange(this._layer.getLatLngs(),"Edit")}this._tempDragCoord=h,l.layer=this._layer,this._fireDrag(l)},addDraggingClass(){let l=this._getDOMElem();l&&L.DomUtil.addClass(l,"leaflet-pm-draggable")},removeDraggingClass(){let l=this._getDOMElem();l&&L.DomUtil.removeClass(l,"leaflet-pm-draggable")},_getDOMElem(){let l=null;return this._layer._path?l=this._layer._path:this._layer._renderer&&this._layer._renderer._container?l=this._layer._renderer._container:this._layer._image?l=this._layer._image:this._layer._icon&&(l=this._layer._icon),l},_overwriteEventIfItComesFromMarker(l){l.target.getLatLng&&(!l.target._radius||l.target._radius<=10)&&(l.containerPoint=this._map.mouseEventToContainerPoint(l.originalEvent),l.latlng=this._map.containerPointToLatLng(l.containerPoint))},_syncLayers(l,h){if(this.enabled())return!1;if(!h._fromLayerSync&&this._layer===h.target&&this.options.syncLayersOnDrag){h._fromLayerSync=!0;let m=[];if(L.Util.isArray(this.options.syncLayersOnDrag))m=this.options.syncLayersOnDrag,this.options.syncLayersOnDrag.forEach(y=>{y instanceof L.LayerGroup&&(m=m.concat(y.pm.getLayers(!0)))});else if(this.options.syncLayersOnDrag===!0&&this._parentLayerGroup)for(let y in this._parentLayerGroup){let S=this._parentLayerGroup[y];S.pm&&(m=S.pm.getLayers(!0))}return L.Util.isArray(m)&&m.length>0&&(m=m.filter(y=>!!y.pm).filter(y=>!!y.pm.options.draggable),m.forEach(y=>{y!==this._layer&&y.pm[l]&&(y._snapped=!1,y.pm[l](h))})),m.length>0}return!1},_stopDOMImageDrag(l){return l.preventDefault(),!1}},ae=ee,de=p(Xi());function ye(l,h,m,y){return m.unproject(h.transform(m.project(l,y)),y)}function we(l,h,m){let y=m.getMaxZoom();if(y===1/0&&(y=m.getZoom()),L.Util.isArray(l)){let S=[];return l.forEach(N=>{S.push(we(N,h,m))}),S}return l instanceof L.LatLng?ye(l,h,m,y):null}function Se(l,h){h instanceof L.Layer&&(h=h.getLatLng());let m=l.getMaxZoom();return m===1/0&&(m=l.getZoom()),l.project(h,m)}function Ye(l,h){let m=l.getMaxZoom();return m===1/0&&(m=l.getZoom()),l.unproject(h,m)}var _t={_onRotateStart(l){this._preventRenderingMarkers(!0),this._rotationOriginLatLng=this._getRotationCenter().clone(),this._rotationOriginPoint=Se(this._map,this._rotationOriginLatLng),this._rotationStartPoint=Se(this._map,l.target.getLatLng()),this._initialRotateLatLng=_i(this._layer),this._startAngle=this.getAngle();let h=_i(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._fireRotationStart(this._rotationLayer,h),this._fireRotationStart(this._map,h)},_onRotate(l){let h=Se(this._map,l.target.getLatLng()),m=this._rotationStartPoint,y=this._rotationOriginPoint,S=Math.atan2(h.y-y.y,h.x-y.x)-Math.atan2(m.y-y.y,m.x-y.x);this._layer.setLatLngs(this._rotateLayer(S,this._initialRotateLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));let N=this;function z(Re,Ne=[],ut=-1){if(ut>-1&&Ne.push(ut),L.Util.isArray(Re[0]))Re.forEach((gt,Et)=>z(gt,Ne.slice(),Et));else{let gt=Ne.length>0?(0,de.default)(N._markers,Ne):N._markers[0];Re.forEach((Et,Wt)=>{gt[Wt].setLatLng(Et)})}}z(this._layer.getLatLngs());let H=_i(this._rotationLayer);this._rotationLayer.setLatLngs(this._rotateLayer(S,this._rotationLayer.pm._rotateOrgLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));let X=S*180/Math.PI;X=X<0?X+360:X;let te=X+this._startAngle;this._setAngle(te),this._rotationLayer.pm._setAngle(te),this._fireRotation(this._rotationLayer,X,H),this._fireRotation(this._map,X,H),this._rotationLayer.pm._fireChange(this._rotationLayer.getLatLngs(),"Rotation")},_onRotateEnd(){let l=this._startAngle;delete this._rotationOriginLatLng,delete this._rotationOriginPoint,delete this._rotationStartPoint,delete this._initialRotateLatLng,delete this._startAngle;let h=_i(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._rotationLayer.pm._rotateOrgLatLng=_i(this._rotationLayer),this._fireRotationEnd(this._rotationLayer,l,h),this._fireRotationEnd(this._map,l,h),this._rotationLayer.pm._fireEdit(this._rotationLayer,"Rotation"),this._preventRenderingMarkers(!1),this._layerRotated=!0},_rotateLayer(l,h,m,y,S){let N=Se(S,m);return this._matrix=y.clone().rotate(l,N).flip(),we(h,this._matrix,S)},_setAngle(l){l=l<0?l+360:l,this._angle=l%360},_getRotationCenter(){if(this._rotationCenter)return this._rotationCenter;let l=L.polygon(this._layer.getLatLngs(),{stroke:!1,fill:!1,pmIgnore:!0}).addTo(this._layer._map),h=l.getCenter();return l.removeFrom(this._layer._map),h},enableRotate(){if(!this.options.allowRotation){this.disableRotate();return}this.rotateEnabled()&&this.disableRotate(),this._layer instanceof L.Rectangle&&this._angle===void 0&&this.setInitAngle(Cr(this._layer._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);let l={fill:!1,stroke:!1,pmIgnore:!1,snapIgnore:!0};this._rotatePoly=L.polygon(this._layer.getLatLngs(),l),this._rotatePoly._pmTempLayer=!0,this._rotatePoly.addTo(this._layer._map),this._rotatePoly.pm._setAngle(this.getAngle()),this._rotatePoly.pm.setRotationCenter(this.getRotationCenter()),this._rotatePoly.pm.setOptions(this._layer._map.pm.getGlobalOptions()),this._rotatePoly.pm.setOptions({rotate:!0,snappable:!1,hideMiddleMarkers:!0}),this._rotatePoly.pm._rotationLayer=this._layer,this._rotatePoly.pm.enable(),this._rotateOrgLatLng=_i(this._layer),this._rotateEnabled=!0,this._layer.on("remove",this.disableRotate,this),this._fireRotationEnable(this._layer),this._fireRotationEnable(this._layer._map)},disableRotate(){this.rotateEnabled()&&(this._rotatePoly.pm._layerRotated&&this._fireUpdate(),this._rotatePoly.pm._layerRotated=!1,this._rotatePoly.pm.disable(),this._rotatePoly.remove(),this._rotatePoly.pm.setOptions({rotate:!1}),this._rotatePoly=void 0,this._rotateOrgLatLng=void 0,this._layer.off("remove",this.disableRotate,this),this._rotateEnabled=!1,this._fireRotationDisable(this._layer),this._fireRotationDisable(this._layer._map))},rotateEnabled(){return!!this._rotateEnabled},rotateLayer(l){let h=this.getAngle(),m=this._layer.getLatLngs(),y=l*(Math.PI/180);this._layer.setLatLngs(this._rotateLayer(y,this._layer.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._layer._map)),this._rotateOrgLatLng=L.polygon(this._layer.getLatLngs()).getLatLngs(),this._setAngle(this.getAngle()+l),this.rotateEnabled()&&this._rotatePoly&&this._rotatePoly.pm.enabled()&&(this._rotatePoly.setLatLngs(this._rotateLayer(y,this._rotatePoly.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._rotatePoly._map)),this._rotatePoly.pm._initMarkers());let S=this.getAngle()-h;S=S<0?S+360:S,this._startAngle=h,this._fireRotation(this._layer,S,m,this._layer),this._fireRotation(this._map||this._layer._map,S,m,this._layer),delete this._startAngle,this._fireChange(this._layer.getLatLngs(),"Rotation")},rotateLayerToAngle(l){let h=l-this.getAngle();this.rotateLayer(h)},getAngle(){return this._angle||0},setInitAngle(l){this._setAngle(l)},getRotationCenter(){return this._getRotationCenter()},setRotationCenter(l){this._rotationCenter=l,this._rotatePoly&&this._rotatePoly.pm.setRotationCenter(l)}},vt=_t,ot=L.Class.extend({includes:[ae,oo,vt,Ys],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,allowSelfIntersectionEdit:!1,preventMarkerRemoval:!1,removeLayerBelowMinVertexCount:!0,limitMarkersToCount:-1,hideMiddleMarkers:!1,snapSegment:!0,syncLayersOnDrag:!1,draggable:!0,allowEditing:!0,allowRemoval:!0,allowCutting:!0,allowRotation:!0,addVertexOn:"click",removeVertexOn:"contextmenu",removeVertexValidation:void 0,addVertexValidation:void 0,moveVertexValidation:void 0,resizeableCircleMarker:!1,resizeableCircle:!0,snapMiddle:!1,snapVertex:!0},setOptions(l){L.Util.setOptions(this,l)},getOptions(){return this.options},applyOptions(){},isPolygon(){return this._layer instanceof L.Polygon},getShape(){return this._shape},_setPane(l,h){h==="layerPane"?l.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":h==="vertexPane"?l.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":h==="markerPane"&&(l.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},remove(){(this._map||this._layer._map).pm.removeLayer({target:this._layer})},_vertexValidation(l,h){let m=h.target,y={layer:this._layer,marker:m,event:h},S="";return l==="move"?S="moveVertexValidation":l==="add"?S="addVertexValidation":l==="remove"&&(S="removeVertexValidation"),this.options[S]&&typeof this.options[S]=="function"&&!this.options[S](y)?(l==="move"&&(m._cancelDragEventChain=m.getLatLng()),!1):(m._cancelDragEventChain=null,!0)},_vertexValidationDrag(l){return l._cancelDragEventChain?(l._latlng=l._cancelDragEventChain,l.update(),!1):!0},_vertexValidationDragEnd(l){return l._cancelDragEventChain?(l._cancelDragEventChain=null,!1):!0}}),Pt=ot;Pt.LayerGroup=L.Class.extend({initialize(l){this._layerGroup=l,this._layers=this.getLayers(),this._getMap(),this._layers.forEach(y=>this._initLayer(y));let h=y=>{if(y.layer._pmTempLayer)return;this._layers=this.getLayers();let S=this._layers.filter(N=>!N.pm._parentLayerGroup||!(this._layerGroup._leaflet_id in N.pm._parentLayerGroup));S.forEach(N=>{this._initLayer(N)}),S.length>0&&this._getMap()&&this._getMap().pm.globalEditModeEnabled()&&this.enabled()&&this.enable(this.getOptions())};this._layerGroup.on("layeradd",L.Util.throttle(h,100,this),this),this._layerGroup.on("layerremove",y=>{this._removeLayerFromGroup(y.target)},this);let m=y=>{y.target._pmTempLayer||(this._layers=this.getLayers())};this._layerGroup.on("layerremove",L.Util.throttle(m,100,this),this)},enable(l,h=[]){h.length===0&&(this._layers=this.getLayers()),this._options=l,this._layers.forEach(m=>{m instanceof L.LayerGroup?h.indexOf(m._leaflet_id)===-1&&(h.push(m._leaflet_id),m.pm.enable(l,h)):m.pm.enable(l)})},disable(l=[]){l.length===0&&(this._layers=this.getLayers()),this._layers.forEach(h=>{h instanceof L.LayerGroup?l.indexOf(h._leaflet_id)===-1&&(l.push(h._leaflet_id),h.pm.disable(l)):h.pm.disable()})},enabled(l=[]){return l.length===0&&(this._layers=this.getLayers()),!!this._layers.find(h=>h instanceof L.LayerGroup?l.indexOf(h._leaflet_id)===-1?(l.push(h._leaflet_id),h.pm.enabled(l)):!1:h.pm.enabled())},toggleEdit(l,h=[]){h.length===0&&(this._layers=this.getLayers()),this._options=l,this._layers.forEach(m=>{m instanceof L.LayerGroup?h.indexOf(m._leaflet_id)===-1&&(h.push(m._leaflet_id),m.pm.toggleEdit(l,h)):m.pm.toggleEdit(l)})},_initLayer(l){let h=L.Util.stamp(this._layerGroup);l.pm._parentLayerGroup||(l.pm._parentLayerGroup={}),l.pm._parentLayerGroup[h]=this._layerGroup},_removeLayerFromGroup(l){if(l.pm&&l.pm._layerGroup){let h=L.Util.stamp(this._layerGroup);delete l.pm._layerGroup[h]}},dragging(){return this._layers=this.getLayers(),this._layers?!!this._layers.find(l=>l.pm.dragging()):!1},getOptions(){return this.options},_getMap(){return this._map||this._layers.find(l=>!!l._map)?._map||null},getLayers(l=!1,h=!0,m=!0,y=[]){let S=[];return l?this._layerGroup.getLayers().forEach(N=>{S.push(N),N instanceof L.LayerGroup&&y.indexOf(N._leaflet_id)===-1&&(y.push(N._leaflet_id),S=S.concat(N.pm.getLayers(!0,!0,!0,y)))}):S=this._layerGroup.getLayers(),m&&(S=S.filter(N=>!(N instanceof L.LayerGroup))),h&&(S=S.filter(N=>!!N.pm),S=S.filter(N=>!N._pmTempLayer),S=S.filter(N=>!L.PM.optIn&&!N.options.pmIgnore||L.PM.optIn&&N.options.pmIgnore===!1)),S},setOptions(l,h=[]){h.length===0&&(this._layers=this.getLayers()),this.options=l,this._layers.forEach(m=>{m.pm&&(m instanceof L.LayerGroup?h.indexOf(m._leaflet_id)===-1&&(h.push(m._leaflet_id),m.pm.setOptions(l,h)):m.pm.setOptions(l))})}}),Pt.Marker=Pt.extend({_shape:"Marker",initialize(l){this._layer=l,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},enable(l={draggable:!0}){if(L.Util.setOptions(this,l),!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._fireEnable()},disable(){this.enabled()&&(this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this._layer.off("contextmenu",this._removeMarker,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1)},enabled(){return this._enabled},toggleEdit(l){this.enabled()?this.disable():this.enable(l)},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_removeMarker(l){let h=l.target;h.remove(),this._fireRemove(h),this._fireRemove(this._map,h)},_onDragEnd(){this._fireEdit(),this._layerEdited=!0},_initSnappableMarkers(){let l=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,l.off("pm:drag",this._handleSnapping,this),l.on("pm:drag",this._handleSnapping,this),l.off("pm:dragend",this._cleanupSnapping,this),l.on("pm:dragend",this._cleanupSnapping,this),l.off("pm:dragstart",this._unsnap,this),l.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){let l=this._layer;l.off("pm:drag",this._handleSnapping,this),l.off("pm:dragend",this._cleanupSnapping,this),l.off("pm:dragstart",this._unsnap,this)}});var Ct=p(Xi()),tt={filterMarkerGroup(){this.markerCache=[],this.createCache(),this._layer.on("pm:edit",this.createCache,this),this.applyLimitFilters({}),this.throttledApplyLimitFilters||(this.throttledApplyLimitFilters=L.Util.throttle(this.applyLimitFilters,100,this)),this._layer.on("pm:disable",this._removeMarkerLimitEvents,this),this._layer.on("remove",this._removeMarkerLimitEvents,this),this.options.limitMarkersToCount>-1&&(this._layer.on("pm:vertexremoved",this._initMarkers,this),this._map.on("mousemove",this.throttledApplyLimitFilters,this))},_removeMarkerLimitEvents(){this._map.off("mousemove",this.throttledApplyLimitFilters,this),this._layer.off("pm:edit",this.createCache,this),this._layer.off("pm:disable",this._removeMarkerLimitEvents,this),this._layer.off("pm:vertexremoved",this._initMarkers,this)},createCache(){let l=[...this._markerGroup.getLayers(),...this.markerCache];this.markerCache=l.filter((h,m,y)=>y.indexOf(h)===m)},_removeFromCache(l){let h=this.markerCache.indexOf(l);h>-1&&this.markerCache.splice(h,1)},renderLimits(l){this.markerCache.forEach(h=>{l.includes(h)?this._markerGroup.addLayer(h):this._markerGroup.removeLayer(h)})},applyLimitFilters({latlng:l={lat:0,lng:0}}){if(this._preventRenderMarkers)return;let h=[...this._filterClosestMarkers(l)];this.renderLimits(h)},_filterClosestMarkers(l){let h=[...this.markerCache],m=this.options.limitMarkersToCount;return m===-1?h:(h.sort((y,S)=>{let N=y._latlng.distanceTo(l),z=S._latlng.distanceTo(l);return N-z}),h.filter((y,S)=>m>-1?S<m:!0))},_preventRenderMarkers:!1,_preventRenderingMarkers(l){this._preventRenderMarkers=!!l}},nt=tt;Pt.Line=Pt.extend({includes:[nt],_shape:"Line",initialize(l){this._layer=l,this._enabled=!1},enable(l){if(L.Util.setOptions(this,l),this._map=this._layer._map,!!this._map){if(!this.options.allowEditing){this.disable();return}this.enabled()&&this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.allowSelfIntersection?this.cachedColor=void 0:(this._layer.options.color!=="#f00000ff"?(this.cachedColor=this._layer.options.color,this.isRed=!1):this.isRed=!0,this._handleLayerStyle()),this._fireEnable()}},disable(){if(!this.enabled()||this._dragging)return;this._enabled=!1,this._markerGroup.clearLayers(),this._markerGroup.removeFrom(this._map),this._layer.off("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this);let l=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(l,"leaflet-pm-draggable"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()},enabled(){return this._enabled},toggleEdit(l){return this.enabled()?this.disable():this.enable(l),this.enabled()},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initMarkers(){let l=this._map,h=this._layer.getLatLngs();this._markerGroup&&(this._markerGroup.removeFrom(l),this._markerGroup.clearLayers()),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0;let m=y=>{if(Array.isArray(y[0]))return y.map(m,this);let S=y.map(this._createMarker,this);return this.options.hideMiddleMarkers!==!0&&y.map((N,z)=>{let H=this.isPolygon()?(z+1)%y.length:z+1;return this._createMiddleMarker(S[z],S[H])}),S};this._markers=m(h),this.filterMarkerGroup(),l.addLayer(this._markerGroup)},_createMarker(l){let h=new L.Marker(l,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(h,"vertexPane"),h._pmTempLayer=!0,this.options.rotate?(h.on("dragstart",this._onRotateStart,this),h.on("drag",this._onRotate,this),h.on("dragend",this._onRotateEnd,this)):(h.on("click",this._onVertexClick,this),h.on("dragstart",this._onMarkerDragStart,this),h.on("move",this._onMarkerDrag,this),h.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||h.on(this.options.removeVertexOn,this._removeMarker,this)),this._markerGroup.addLayer(h),h},_createMiddleMarker(l,h){if(!l||!h)return!1;let m=L.PM.Utils.calcMiddleLatLng(this._map,l.getLatLng(),h.getLatLng()),y=this._createMarker(m),S=L.divIcon({className:"marker-icon marker-icon-middle"});return y.setIcon(S),y.leftM=l,y.rightM=h,l._middleMarkerNext=y,h._middleMarkerPrev=y,y.on(this.options.addVertexOn,this._onMiddleMarkerClick,this),y.on("movestart",this._onMiddleMarkerMoveStart,this),y},_onMiddleMarkerClick(l){let h=l.target;if(!this._vertexValidation("add",l))return;let m=L.divIcon({className:"marker-icon"});h.setIcon(m),this._addMarker(h,h.leftM,h.rightM)},_onMiddleMarkerMoveStart(l){let h=l.target;if(h.on("moveend",this._onMiddleMarkerMoveEnd,this),!this._vertexValidation("add",l)){h.on("move",this._onMiddleMarkerMovePrevent,this);return}h._dragging=!0,this._addMarker(h,h.leftM,h.rightM)},_onMiddleMarkerMovePrevent(l){let h=l.target;this._vertexValidationDrag(h)},_onMiddleMarkerMoveEnd(l){let h=l.target;if(h.off("move",this._onMiddleMarkerMovePrevent,this),h.off("moveend",this._onMiddleMarkerMoveEnd,this),!this._vertexValidationDragEnd(h))return;let m=L.divIcon({className:"marker-icon"});h.setIcon(m),setTimeout(()=>{delete h._dragging},100)},_addMarker(l,h,m){l.off("movestart",this._onMiddleMarkerMoveStart,this),l.off(this.options.addVertexOn,this._onMiddleMarkerClick,this);let y=l.getLatLng(),S=this._layer._latlngs;delete l.leftM,delete l.rightM;let{indexPath:N,index:z,parentPath:H}=L.PM.Utils.findDeepMarkerIndex(this._markers,h),X=N.length>1?(0,Ct.default)(S,H):S,te=N.length>1?(0,Ct.default)(this._markers,H):this._markers;X.splice(z+1,0,y),te.splice(z+1,0,l),this._layer.setLatLngs(S),this.options.hideMiddleMarkers!==!0&&(this._createMiddleMarker(h,l),this._createMiddleMarker(l,m)),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"),this._fireVertexAdded(l,L.PM.Utils.findDeepMarkerIndex(this._markers,l).indexPath,y),this.options.snappable&&this._initSnappableMarkers()},hasSelfIntersection(){return Rn(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersectionOnVertexRemoval(){this._handleLayerStyle(!0)&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle(l){let h=this._layer,m,y;if(this.options.allowSelfIntersection?m=!1:(y=Rn(this._layer.toGeoJSON(15)),m=y.features.length>0),m){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!0),this.isRed)return m;l?this._flashLayer():(h.setStyle({color:"#f00000ff"}),this.isRed=!0),this._fireIntersect(y)}else h.setStyle({color:this.cachedColor}),this.isRed=!1,!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!1);return m},_flashLayer(){this.cachedColor||(this.cachedColor=this._layer.options.color),this._layer.setStyle({color:"#f00000ff"}),this.isRed=!0,window.setTimeout(()=>{this._layer.setStyle({color:this.cachedColor}),this.isRed=!1},200)},_updateDisabledMarkerStyle(l,h){l.forEach(m=>{Array.isArray(m)?this._updateDisabledMarkerStyle(m,h):m._icon&&(h&&!this._checkMarkerAllowedToDrag(m)?L.DomUtil.addClass(m._icon,"vertexmarker-disabled"):L.DomUtil.removeClass(m._icon,"vertexmarker-disabled"))})},_removeMarker(l){let h=l.target;if(!this._vertexValidation("remove",l))return;this.options.allowSelfIntersection||(this._coordsBeforeEdit=_i(this._layer,this._layer.getLatLngs()));let m=this._layer.getLatLngs(),{indexPath:y,index:S,parentPath:N}=L.PM.Utils.findDeepMarkerIndex(this._markers,h);if(!y)return;let z=y.length>1?(0,Ct.default)(m,N):m,H=y.length>1?(0,Ct.default)(this._markers,N):this._markers,X=N[N.length-1]>0&&this._layer instanceof L.Polygon;if(!this.options.removeLayerBelowMinVertexCount&&!X&&(z.length<=2||this.isPolygon()&&z.length<=3)){this._flashLayer();return}z.splice(S,1),this._layer.setLatLngs(m),this.isPolygon()&&z.length<=2&&z.splice(0,z.length);let te=!1;if(z.length<=1&&(z.splice(0,z.length),N.length>1&&y.length>1&&(m=Fa(m)),this._layer.setLatLngs(m),this._initMarkers(),te=!0),Yr(m)||this._layer.remove(),m=Fa(m),this._layer.setLatLngs(m),this._markers=Fa(this._markers),!te&&(H=y.length>1?(0,Ct.default)(this._markers,N):this._markers,h._middleMarkerPrev&&(this._markerGroup.removeLayer(h._middleMarkerPrev),this._removeFromCache(h._middleMarkerPrev)),h._middleMarkerNext&&(this._markerGroup.removeLayer(h._middleMarkerNext),this._removeFromCache(h._middleMarkerNext)),this._markerGroup.removeLayer(h),this._removeFromCache(h),H)){let Re,Ne;if(this.isPolygon()?(Re=(S+1)%H.length,Ne=(S+(H.length-1))%H.length):(Ne=S-1<0?void 0:S-1,Re=S+1>=H.length?void 0:S+1),Re!==Ne){let ut=H[Ne],gt=H[Re];this.options.hideMiddleMarkers!==!0&&this._createMiddleMarker(ut,gt)}H.splice(S,1)}this._fireEdit(),this._layerEdited=!0,this._fireVertexRemoved(h,y),this._fireChange(this._layer.getLatLngs(),"Edit")},updatePolygonCoordsFromMarkerDrag(l){let h=this._layer.getLatLngs(),m=l.getLatLng(),{indexPath:y,index:S,parentPath:N}=L.PM.Utils.findDeepMarkerIndex(this._markers,l);(y.length>1?(0,Ct.default)(h,N):h).splice(S,1,m),this._layer.setLatLngs(h)},_getNeighborMarkers(l){let{indexPath:h,index:m,parentPath:y}=L.PM.Utils.findDeepMarkerIndex(this._markers,l),S=h.length>1?(0,Ct.default)(this._markers,y):this._markers,N=(m+1)%S.length,z=(m+(S.length-1))%S.length,H=S[z],X=S[N];return{prevMarker:H,nextMarker:X}},_checkMarkerAllowedToDrag(l){let{prevMarker:h,nextMarker:m}=this._getNeighborMarkers(l),y=L.polyline([h.getLatLng(),l.getLatLng()]),S=L.polyline([l.getLatLng(),m.getLatLng()]),N=Si(this._layer.toGeoJSON(15),y.toGeoJSON(15)).features.length,z=Si(this._layer.toGeoJSON(15),S.toGeoJSON(15)).features.length;return l.getLatLng()===this._markers[0][0].getLatLng()?z+=1:l.getLatLng()===this._markers[0][this._markers[0].length-1].getLatLng()&&(N+=1),!(N<=2&&z<=2)},_onMarkerDragStart(l){let h=l.target;if(this.cachedColor||(this.cachedColor=this._layer.options.color),!this._vertexValidation("move",l))return;let{indexPath:m}=L.PM.Utils.findDeepMarkerIndex(this._markers,h);this._fireMarkerDragStart(l,m),this.options.allowSelfIntersection||(this._coordsBeforeEdit=_i(this._layer,this._layer.getLatLngs())),!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()?this._markerAllowedToDrag=this._checkMarkerAllowedToDrag(h):this._markerAllowedToDrag=null},_onMarkerDrag(l){let h=l.target;if(!this._vertexValidationDrag(h))return;let{indexPath:m,index:y,parentPath:S}=L.PM.Utils.findDeepMarkerIndex(this._markers,h);if(!m)return;if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()&&this._markerAllowedToDrag===!1){this._layer.setLatLngs(this._coordsBeforeEdit),this._initMarkers(),this._handleLayerStyle();return}this.updatePolygonCoordsFromMarkerDrag(h);let N=m.length>1?(0,Ct.default)(this._markers,S):this._markers,z=(y+1)%N.length,H=(y+(N.length-1))%N.length,X=h.getLatLng(),te=N[H].getLatLng(),Re=N[z].getLatLng();if(h._middleMarkerNext){let Ne=L.PM.Utils.calcMiddleLatLng(this._map,X,Re);h._middleMarkerNext.setLatLng(Ne)}if(h._middleMarkerPrev){let Ne=L.PM.Utils.calcMiddleLatLng(this._map,X,te);h._middleMarkerPrev.setLatLng(Ne)}this.options.allowSelfIntersection||this._handleLayerStyle(),this._fireMarkerDrag(l,m),this._fireChange(this._layer.getLatLngs(),"Edit")},_onMarkerDragEnd(l){let h=l.target;if(!this._vertexValidationDragEnd(h))return;let{indexPath:m}=L.PM.Utils.findDeepMarkerIndex(this._markers,h),y=!this.options.allowSelfIntersection&&this.hasSelfIntersection();y&&this.options.allowSelfIntersectionEdit&&this._markerAllowedToDrag&&(y=!1);let S=!this.options.allowSelfIntersection&&y;if(this._fireMarkerDragEnd(l,m,S),S){this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),this.options.snappable&&this._initSnappableMarkers(),this._handleLayerStyle(),this._fireLayerReset(l,m);return}!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._handleLayerStyle(),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")},_onVertexClick(l){let h=l.target;if(h._dragging)return;let{indexPath:m}=L.PM.Utils.findDeepMarkerIndex(this._markers,h);this._fireVertexClick(l,m)}}),Pt.Polygon=Pt.Line.extend({_shape:"Polygon",_checkMarkerAllowedToDrag(l){let{prevMarker:h,nextMarker:m}=this._getNeighborMarkers(l),y=L.polyline([h.getLatLng(),l.getLatLng()]),S=L.polyline([l.getLatLng(),m.getLatLng()]),N=Si(this._layer.toGeoJSON(15),y.toGeoJSON(15)).features.length,z=Si(this._layer.toGeoJSON(15),S.toGeoJSON(15)).features.length;return!(N<=2&&z<=2)}}),Pt.Rectangle=Pt.Polygon.extend({_shape:"Rectangle",_initMarkers(){let l=this._map,h=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,l.addLayer(this._markerGroup),this._markers=[],this._markers[0]=h.map(this._createMarker,this),[this._cornerMarkers]=this._markers,this._layer.getLatLngs()[0].forEach((m,y)=>{let S=this._cornerMarkers.find(N=>N._index===y);S&&S.setLatLng(m)})},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this._addMarkerEvents()},_createMarker(l,h){let m=new L.Marker(l,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(m,"vertexPane"),m._origLatLng=l,m._index=h,m._pmTempLayer=!0,m.on("click",this._onVertexClick,this),this._markerGroup.addLayer(m),m},_addMarkerEvents(){this._markers[0].forEach(l=>{l.on("dragstart",this._onMarkerDragStart,this),l.on("drag",this._onMarkerDrag,this),l.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||l.on("contextmenu",this._removeMarker,this)})},_removeMarker(){return null},_onMarkerDragStart(l){if(!this._vertexValidation("move",l))return;let h=l.target,m=this._cornerMarkers;h._oppositeCornerLatLng=m.find(S=>S._index===(h._index+2)%4).getLatLng(),h._snapped=!1;let{indexPath:y}=L.PM.Utils.findDeepMarkerIndex(this._markers,h);this._fireMarkerDragStart(l,y)},_onMarkerDrag(l){let h=l.target;if(!this._vertexValidationDrag(h)||h._index===void 0)return;this._adjustRectangleForMarkerMove(h);let{indexPath:m}=L.PM.Utils.findDeepMarkerIndex(this._markers,h);this._fireMarkerDrag(l,m),this._fireChange(this._layer.getLatLngs(),"Edit")},_onMarkerDragEnd(l){let h=l.target;if(!this._vertexValidationDragEnd(h))return;this._cornerMarkers.forEach(y=>{delete y._oppositeCornerLatLng});let{indexPath:m}=L.PM.Utils.findDeepMarkerIndex(this._markers,h);this._fireMarkerDragEnd(l,m),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")},_adjustRectangleForMarkerMove(l){L.extend(l._origLatLng,l._latlng);let h=L.PM.Utils._getRotatedRectangle(l.getLatLng(),l._oppositeCornerLatLng,this.getAngle(),this._map);this._layer.setLatLngs(h),this._adjustAllMarkers(l),this._layer.redraw()},_adjustAllMarkers(l){let h=this._layer.getLatLngs()[0];if(h&&h.length!==4&&h.length>0)h.forEach((m,y)=>{this._cornerMarkers[y].setLatLng(m)}),this._cornerMarkers.slice(h.length).forEach(m=>{m.setLatLng(h[0])});else if(!h||!h.length)console.error("The layer has no LatLngs");else{let m=h.findIndex(y=>l.getLatLng().equals(y));m>-1?(this._cornerMarkers[(l._index+1)%4].setLatLng(h[(m+1)%4]),this._cornerMarkers[(l._index+2)%4].setLatLng(h[(m+2)%4]),this._cornerMarkers[(l._index+3)%4].setLatLng(h[(m+3)%4])):this._cornerMarkers.forEach(y=>{y.setLatLng(h[y._index])})}},_findCorners(){this._angle===void 0&&this.setInitAngle(Cr(this._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);let l=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(l[0],l[2],this.getAngle(),this._map||this)}}),Pt.CircleMarker=Pt.extend({_shape:"CircleMarker",initialize(l){this._layer=l,this._enabled=!1,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._updateHiddenPolyCircle()},enable(l={draggable:!0,snappable:!0}){if(L.Util.setOptions(this,l),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._extendingEnable(),this._updateHiddenPolyCircle(),this._fireEnable()},_extendingEnable(){this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:drag",this._onMarkerDrag,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this)},disable(){this.dragging()||(this._map||(this._map=this._layer._map),this._map&&this.enabled()&&(this.layerDragEnabled()&&this.disableLayerDrag(),this._helperLayers&&(this._helperLayers.clearLayers(),this._helperLayers.removeFrom(this._map)),this.options[this._editableOption]?(this._map.off("move",this._syncMarkers,this),this._outerMarker.off("drag",this._handleOuterMarkerSnapping,this)):this._map.off("move",this._updateHiddenPolyCircle,this),this._extendingDisable(),this._layer.off("remove",this.disable,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1))},_extendingDisable(){this._layer.off("contextmenu",this._removeMarker,this)},enabled(){return this._enabled},toggleEdit(l){this.enabled()?this.disable():this.enable(l)},applyOptions(){this.options[this._editableOption]?(this._initMarkers(),this._map.on("move",this._syncMarkers,this),this.options.snappable?(this._initSnappableMarkers(),this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this)):this._disableSnapping()):(this.options.draggable&&this.enableLayerDrag(),this._map.on("move",this._updateHiddenPolyCircle,this),this.options.snappable?this._initSnappableMarkersDrag():this._disableSnappingDrag()),this._extendingApplyOptions()},_extendingApplyOptions(){this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_initMarkers(){let l=this._map;this._helperLayers&&(this._helperLayers.removeFrom(l),this._helperLayers.clearLayers()),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(l);let h=this._layer.getLatLng(),m=this._layer._radius,y=this._getLatLngOnCircle(h,m);this._centerMarker=this._createCenterMarker(h),this._outerMarker=this._createOuterMarker(y),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle(l,h){let m=this._map.project(l),y=L.point(m.x+h,m.y);return this._map.unproject(y)},_createHintLine(l,h){let m=l.getLatLng(),y=h.getLatLng();this._hintline=L.polyline([m,y],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker(l){let h=this._createMarker(l);return this.options.draggable?(L.DomUtil.addClass(h._icon,"leaflet-pm-draggable"),h.on("move",this._moveCircle,this)):h.dragging.disable(),h},_createOuterMarker(l){let h=this._createMarker(l);return h.on("drag",this._resizeCircle,this),h},_createMarker(l){let h=new L.Marker(l,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(h,"vertexPane"),h._origLatLng=l,h._pmTempLayer=!0,h.on("dragstart",this._onMarkerDragStart,this),h.on("drag",this._onMarkerDrag,this),h.on("dragend",this._onMarkerDragEnd,this),h.on("click",this._onVertexClick,this),this._helperLayers.addLayer(h),h},_moveCircle(l){if(l.target._cancelDragEventChain)return;let h=this._centerMarker.getLatLng();this._layer.setLatLng(h);let m=this._layer._radius,y=this._getLatLngOnCircle(h,m);this._outerMarker._latlng=y,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")},_syncMarkers(){let l=this._layer.getLatLng(),h=this._layer._radius,m=this._getLatLngOnCircle(l,h);this._outerMarker.setLatLng(m),this._centerMarker.setLatLng(l),this._syncHintLine(),this._updateHiddenPolyCircle()},_resizeCircle(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_syncCircleRadius(){let l=this._centerMarker.getLatLng(),h=this._outerMarker.getLatLng(),m=this._distanceCalculation(l,h);this.options[this._minRadiusOption]&&m<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&m>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(m),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine(){let l=this._centerMarker.getLatLng(),h=this._outerMarker.getLatLng();this._hintline.setLatLngs([l,h])},_removeMarker(){this.options[this._editableOption]&&this.disable(),this._layer.remove(),this._fireRemove(this._layer),this._fireRemove(this._map,this._layer)},_onDragStart(){this._map.pm.Draw.CircleMarker._layerIsDragging=!0},_onMarkerDragStart(l){this._vertexValidation("move",l)&&this._fireMarkerDragStart(l)},_onMarkerDrag(l){let h=l.target;h instanceof L.Marker&&!this._vertexValidationDrag(h)||this._fireMarkerDrag(l)},_onMarkerDragEnd(l){this._extedingMarkerDragEnd();let h=l.target;this._vertexValidationDragEnd(h)&&(this.options[this._editableOption]&&(this._fireEdit(),this._layerEdited=!0),this._fireMarkerDragEnd(l))},_extedingMarkerDragEnd(){this._map.pm.Draw.CircleMarker._layerIsDragging=!1},_initSnappableMarkersDrag(){let l=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,l.off("pm:drag",this._handleSnapping,this),l.on("pm:drag",this._handleSnapping,this),l.off("pm:dragend",this._cleanupSnapping,this),l.on("pm:dragend",this._cleanupSnapping,this),l.off("pm:dragstart",this._unsnap,this),l.on("pm:dragstart",this._unsnap,this)},_disableSnappingDrag(){let l=this._layer;l.off("pm:drag",this._handleSnapping,this),l.off("pm:dragend",this._cleanupSnapping,this),l.off("pm:dragstart",this._unsnap,this)},_updateHiddenPolyCircle(){let l=this._layer._map||this._map;if(l){let h=L.PM.Utils.pxRadiusToMeterRadius(this._layer.getRadius(),l,this._layer.getLatLng()),m=L.circle(this._layer.getLatLng(),this._layer.options);m.setRadius(h);let y=l&&l.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(m,200,!y).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(m,200,!y),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)}},_getNewDestinationOfOuterMarker(){let l=this._centerMarker.getLatLng(),h=this._outerMarker.getLatLng(),m=this._distanceCalculation(l,h);return this.options[this._minRadiusOption]&&m<this.options[this._minRadiusOption]?h=Ns(this._map,l,h,this._getMinDistanceInMeter(l)):this.options[this._maxRadiusOption]&&m>this.options[this._maxRadiusOption]&&(h=Ns(this._map,l,h,this._getMaxDistanceInMeter(l))),h},_handleOuterMarkerSnapping(){if(this._outerMarker._snapped){let l=this._centerMarker.getLatLng(),h=this._outerMarker.getLatLng(),m=this._distanceCalculation(l,h);this.options[this._minRadiusOption]&&m<this.options[this._minRadiusOption]?this._outerMarker.setLatLng(this._outerMarker._orgLatLng):this.options[this._maxRadiusOption]&&m>this.options[this._maxRadiusOption]&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())},_distanceCalculation(l,h){return this._map.project(l).distanceTo(this._map.project(h))},_getMinDistanceInMeter(l){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,l)},_getMaxDistanceInMeter(l){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,l)},_onVertexClick(l){l.target._dragging||this._fireVertexClick(l,void 0)}}),Pt.Circle=Pt.CircleMarker.extend({_shape:"Circle",initialize(l){this._layer=l,this._enabled=!1,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizeableCircle",this._updateHiddenPolyCircle()},enable(l){L.PM.Edit.CircleMarker.prototype.enable.call(this,l||{})},_extendingEnable(){},_extendingDisable(){this._layer.off("remove",this.disable,this);let l=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(l,"leaflet-pm-draggable")},_extendingApplyOptions(){},_syncMarkers(){},_removeMarker(){},_onDragStart(){},_extedingMarkerDragEnd(){},_updateHiddenPolyCircle(){let l=this._map&&this._map.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(this._layer,200,!l).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(this._layer,200,!l),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)},_distanceCalculation(l,h){return this._map.distance(l,h)},_getMinDistanceInMeter(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter(){return this.options[this._maxRadiusOption]},_onVertexClick(l){l.target._dragging||this._fireVertexClick(l,void 0)}}),Pt.ImageOverlay=Pt.extend({_shape:"ImageOverlay",initialize(l){this._layer=l,this._enabled=!1},toggleEdit(l){this.enabled()?this.disable():this.enable(l)},enabled(){return this._enabled},enable(l={draggable:!0,snappable:!0}){if(L.Util.setOptions(this,l),this._map=this._layer._map,!!this._map){if(!this.options.allowEditing){this.disable();return}this.enabled()||this.disable(),this.enableLayerDrag(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._otherSnapLayers=this._findCorners(),this._fireEnable()}},disable(){this._dragging||(this._map||(this._map=this._layer._map),this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this.enabled()||(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},_findCorners(){let l=this._layer.getBounds(),h=l.getNorthWest(),m=l.getNorthEast(),y=l.getSouthEast(),S=l.getSouthWest();return[h,m,y,S]}}),Pt.Text=Pt.extend({_shape:"Text",initialize(l){this._layer=l,this._enabled=!1},enable(l){if(L.Util.setOptions(this,l),!!this.textArea){if(!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._safeToCacheDragState=!0,this._focusChange(),this.textArea.readOnly=!1,this.textArea.classList.remove("pm-disabled"),this._layer.on("remove",this.disable,this),L.DomEvent.on(this.textArea,"input",this._autoResize,this),L.DomEvent.on(this.textArea,"focus",this._focusChange,this),L.DomEvent.on(this.textArea,"blur",this._focusChange,this),this._layer.on("dblclick",L.DomEvent.stop),L.DomEvent.off(this.textArea,"mousedown",this._preventTextSelection),this._enabled=!0,this._fireEnable()}},disable(){if(!this.enabled())return;this._layer.off("remove",this.disable,this),L.DomEvent.off(this.textArea,"input",this._autoResize,this),L.DomEvent.off(this.textArea,"focus",this._focusChange,this),L.DomEvent.off(this.textArea,"blur",this._focusChange,this),L.DomEvent.off(document,"click",this._documentClick,this),this._focusChange(),this.textArea.readOnly=!0,this.textArea.classList.add("pm-disabled");let l=document.activeElement;this.textArea.focus(),this.textArea.selectionStart=0,this.textArea.selectionEnd=0,L.DomEvent.on(this.textArea,"mousedown",this._preventTextSelection),l.focus(),this._disableOnBlurActive=!1,this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1},enabled(){return this._enabled},toggleEdit(l){this.enabled()?this.disable():this.enable(l)},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initSnappableMarkers(){let l=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,l.off("pm:drag",this._handleSnapping,this),l.on("pm:drag",this._handleSnapping,this),l.off("pm:dragend",this._cleanupSnapping,this),l.on("pm:dragend",this._cleanupSnapping,this),l.off("pm:dragstart",this._unsnap,this),l.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){let l=this._layer;l.off("pm:drag",this._handleSnapping,this),l.off("pm:dragend",this._cleanupSnapping,this),l.off("pm:dragstart",this._unsnap,this)},_autoResize(){this.textArea.style.height="1px",this.textArea.style.width="1px";let l=this.textArea.scrollHeight>21?this.textArea.scrollHeight:21,h=this.textArea.scrollWidth>16?this.textArea.scrollWidth:16;this.textArea.style.height=`${l}px`,this.textArea.style.width=`${h}px`,this._layer.options.text=this.getText(),this._fireTextChange(this.getText())},_disableOnBlur(){this._disableOnBlurActive=!0,setTimeout(()=>{this.enabled()&&L.DomEvent.on(document,"click",this._documentClick,this)},100)},_documentClick(l){l.target!==this.textArea&&(this.disable(),!this.getText()&&this.options.removeIfEmpty&&this.remove())},_focusChange(l={}){let h=this._hasFocus;this._hasFocus=l.type==="focus",!h!=!this._hasFocus&&(this._hasFocus?(this._applyFocus(),this._focusText=this.getText(),this._fireTextFocus()):(this._removeFocus(),this._fireTextBlur(),this._focusText!==this.getText()&&(this._fireEdit(),this._layerEdited=!0)))},_applyFocus(){this.textArea.classList.add("pm-hasfocus"),this._map.dragging&&(this._safeToCacheDragState&&(this._originalMapDragState=this._map.dragging._enabled,this._safeToCacheDragState=!1),this._map.dragging.disable())},_removeFocus(){this._map.dragging&&(this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0),this.textArea.classList.remove("pm-hasfocus")},focus(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.focus()},blur(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.blur(),this._disableOnBlurActive&&this.disable()},hasFocus(){return this._hasFocus},getElement(){return this.textArea},setText(l){l&&(this.textArea.value=l),this._autoResize()},getText(){return this.textArea.value},_initTextMarker(){if(this.textArea=L.PM.Draw.Text.prototype._createTextArea.call(this),this.options.className){let h=this.options.className.split(" ");this.textArea.classList.add(...h)}let l=L.PM.Draw.Text.prototype._createTextIcon.call(this,this.textArea);this._layer.setIcon(l),this._layer.once("add",this._createTextMarker,this)},_createTextMarker(l=!1){this._layer.off("add",this._createTextMarker,this),this._layer.getElement().tabIndex=-1,this.textArea.wrap="off",this.textArea.style.overflow="hidden",this.textArea.style.height=L.DomUtil.getStyle(this.textArea,"font-size"),this.textArea.style.width="1px",this._layer.options.text&&this.setText(this._layer.options.text),this._autoResize(),l===!0&&(this.enable(),this.focus(),this._disableOnBlur())},_preventTextSelection(l){l.preventDefault()}});var At=function(l,h,m,y,S,N){this._matrix=[l,h,m,y,S,N]};At.init=()=>new L.PM.Matrix(1,0,0,1,0,0),At.prototype={transform(l){return this._transform(l.clone())},_transform(l){let h=this._matrix,{x:m,y}=l;return l.x=h[0]*m+h[1]*y+h[4],l.y=h[2]*m+h[3]*y+h[5],l},untransform(l){let h=this._matrix;return new L.Point((l.x/h[0]-h[4])/h[0],(l.y/h[2]-h[5])/h[2])},clone(){let l=this._matrix;return new L.PM.Matrix(l[0],l[1],l[2],l[3],l[4],l[5])},translate(l){if(l===void 0)return new L.Point(this._matrix[4],this._matrix[5]);let h,m;return typeof l=="number"?(h=l,m=l):(h=l.x,m=l.y),this._add(1,0,0,1,h,m)},scale(l,h){if(l===void 0)return new L.Point(this._matrix[0],this._matrix[3]);let m,y;return h=h||L.point(0,0),typeof l=="number"?(m=l,y=l):(m=l.x,y=l.y),this._add(m,0,0,y,h.x,h.y)._add(1,0,0,1,-h.x,-h.y)},rotate(l,h){let m=Math.cos(l),y=Math.sin(l);return h=h||new L.Point(0,0),this._add(m,y,-y,m,h.x,h.y)._add(1,0,0,1,-h.x,-h.y)},flip(){return this._matrix[1]*=-1,this._matrix[2]*=-1,this},_add(l,h,m,y,S,N){let z=[[],[],[]],H=this._matrix,X=[[H[0],H[2],H[4]],[H[1],H[3],H[5]],[0,0,1]],te=[[l,m,S],[h,y,N],[0,0,1]],Re;l&&l instanceof L.PM.Matrix&&(H=l._matrix,te=[[H[0],H[2],H[4]],[H[1],H[3],H[5]],[0,0,1]]);for(let Ne=0;Ne<3;Ne+=1)for(let ut=0;ut<3;ut+=1){Re=0;for(let gt=0;gt<3;gt+=1)Re+=X[Ne][gt]*te[gt][ut];z[Ne][ut]=Re}return this._matrix=[z[0][0],z[1][0],z[0][1],z[1][1],z[0][2],z[1][2]],this}};var Mt=At,Tt={calcMiddleLatLng(l,h,m){let y=l.project(h),S=l.project(m);return l.unproject(y._add(S)._divideBy(2))},findLayers(l){let h=[];return l.eachLayer(m=>{(m instanceof L.Polyline||m instanceof L.Marker||m instanceof L.Circle||m instanceof L.CircleMarker||m instanceof L.ImageOverlay)&&h.push(m)}),h=h.filter(m=>!!m.pm),h=h.filter(m=>!m._pmTempLayer),h=h.filter(m=>!L.PM.optIn&&!m.options.pmIgnore||L.PM.optIn&&m.options.pmIgnore===!1),h},circleToPolygon(l,h=60,m=!0){let y=l.getLatLng(),S=l.getRadius(),N=oi(y,S,h,0,m),z=[];for(let H=0;H<N.length;H+=1){let X=[N[H].lat,N[H].lng];z.push(X)}return L.polygon(z,l.options)},disablePopup(l){l.getPopup()&&(l._tempPopupCopy=l.getPopup(),l.unbindPopup())},enablePopup(l){l._tempPopupCopy&&(l.bindPopup(l._tempPopupCopy),delete l._tempPopupCopy)},_fireEvent(l,h,m,y=!1){l.fire(h,m,y);let{groups:S}=this.getAllParentGroups(l);S.forEach(N=>{N.fire(h,m,y)})},getAllParentGroups(l){let h=[],m=[],y=S=>{for(let N in S._eventParents)if(h.indexOf(N)===-1){h.push(N);let z=S._eventParents[N];m.push(z),y(z)}};return!l._pmLastGroupFetch||!l._pmLastGroupFetch.time||new Date().getTime()-l._pmLastGroupFetch.time>1e3?(y(l),l._pmLastGroupFetch={time:new Date().getTime(),groups:m,groupIds:h},{groupIds:h,groups:m}):{groups:l._pmLastGroupFetch.groups,groupIds:l._pmLastGroupFetch.groupIds}},createGeodesicPolygon:oi,getTranslation:gn,findDeepCoordIndex(l,h,m=!0){let y,S=z=>(H,X)=>{let te=z.concat(X);if(m){if(H.lat&&H.lat===h.lat&&H.lng===h.lng)return y=te,!0}else if(H.lat&&L.latLng(H).equals(h))return y=te,!0;return Array.isArray(H)&&H.some(S(te))};l.some(S([]));let N={};return y&&(N={indexPath:y,index:y[y.length-1],parentPath:y.slice(0,y.length-1)}),N},findDeepMarkerIndex(l,h){let m,y=N=>(z,H)=>{let X=N.concat(H);return z._leaflet_id===h._leaflet_id?(m=X,!0):Array.isArray(z)&&z.some(y(X))};l.some(y([]));let S={};return m&&(S={indexPath:m,index:m[m.length-1],parentPath:m.slice(0,m.length-1)}),S},_getIndexFromSegment(l,h){if(h&&h.length===2){let m=this.findDeepCoordIndex(l,h[0]),y=this.findDeepCoordIndex(l,h[1]),S=Math.max(m.index,y.index);return(m.index===0||y.index===0)&&S!==1&&(S+=1),{indexA:m,indexB:y,newIndex:S,indexPath:m.indexPath,parentPath:m.parentPath}}return null},_getRotatedRectangle(l,h,m,y){let S=Se(y,l),N=Se(y,h),z=m*Math.PI/180,H=Math.cos(z),X=Math.sin(z),te=(N.x-S.x)*H+(N.y-S.y)*X,Re=(N.y-S.y)*H-(N.x-S.x)*X,Ne=te*H+S.x,ut=te*X+S.y,gt=-Re*X+S.x,Et=Re*H+S.y,Wt=Ye(y,S),Zt=Ye(y,{x:Ne,y:ut}),mn=Ye(y,N),De=Ye(y,{x:gt,y:Et});return[Wt,Zt,mn,De]},pxRadiusToMeterRadius(l,h,m){let y=h.project(m),S=L.point(y.x+l,y.y);return h.distance(h.unproject(S),m)}},Qt=Tt;L.PM=L.PM||{version:Hs.version,Map:Ts,Toolbar:Fo,Draw:Nr,Edit:Pt,Utils:Qt,Matrix:Mt,activeLang:"en",optIn:!1,initialize(l){this.addInitHooks(l)},setOptIn(l){this.optIn=!!l},addInitHooks(){function l(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Map(this)):this.options.pmIgnore||(this.pm=new L.PM.Map(this)),this.pm&&this.pm.setGlobalOptions({})}L.Map.addInitHook(l);function h(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.LayerGroup(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.LayerGroup(this))}L.LayerGroup.addInitHook(h);function m(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this)):this.options.pmIgnore||(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this))}L.Marker.addInitHook(m);function y(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.CircleMarker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.CircleMarker(this))}L.CircleMarker.addInitHook(y);function S(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Line(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))}L.Polyline.addInitHook(S);function N(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Polygon(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Polygon(this))}L.Polygon.addInitHook(N);function z(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Rectangle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))}L.Rectangle.addInitHook(z);function H(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Circle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))}L.Circle.addInitHook(H);function X(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.ImageOverlay(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.ImageOverlay(this))}L.ImageOverlay.addInitHook(X)},reInitLayer(l){l instanceof L.LayerGroup&&l.eachLayer(h=>{this.reInitLayer(h)}),l.pm||L.PM.optIn&&l.options.pmIgnore!==!1||l.options.pmIgnore||(l instanceof L.Map?l.pm=new L.PM.Map(l):l instanceof L.Marker?l.options.textMarker?(l.pm=new L.PM.Edit.Text(l),l.pm._initTextMarker(),l.pm._createTextMarker(!1)):l.pm=new L.PM.Edit.Marker(l):l instanceof L.Circle?l.pm=new L.PM.Edit.Circle(l):l instanceof L.CircleMarker?l.pm=new L.PM.Edit.CircleMarker(l):l instanceof L.Rectangle?l.pm=new L.PM.Edit.Rectangle(l):l instanceof L.Polygon?l.pm=new L.PM.Edit.Polygon(l):l instanceof L.Polyline?l.pm=new L.PM.Edit.Line(l):l instanceof L.LayerGroup?l.pm=new L.PM.Edit.LayerGroup(l):l instanceof L.ImageOverlay&&(l.pm=new L.PM.Edit.ImageOverlay(l)))}},L.version==="1.7.1"&&L.Canvas.include({_onClick(l){let h=this._map.mouseEventToLayerPoint(l),m,y;for(let S=this._drawFirst;S;S=S.next)m=S.layer,m.options.interactive&&m._containsPoint(h)&&(!(l.type==="click"||l.type==="preclick")||!this._map._draggableMoved(m))&&(y=m);y&&(L.DomEvent.fakeStop(l),this._fireEvent([y],l))}}),L.PM.initialize()})()),lm}M5();var cm={},hm;function B5(){return hm||(hm=1,(function(s){function t(i){if(e[i])return e[i].exports;var a=e[i]={i,l:!1,exports:{}};return s[i].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var e={};t.m=s,t.c=e,t.d=function(i,a,o){t.o(i,a)||Object.defineProperty(i,a,{configurable:!1,enumerable:!0,get:o})},t.n=function(i){var a=i&&i.__esModule?function(){return i.default}:function(){return i};return t.d(a,"a",a),a},t.o=function(i,a){return Object.prototype.hasOwnProperty.call(i,a)},t.p="/dist/",t(t.s=28)})([function(s,t,e){function i(b){return b==null?b===void 0?p:f:v&&v in Object(b)?o(b):c(b)}var a=e(4),o=e(38),c=e(39),f="[object Null]",p="[object Undefined]",v=a?a.toStringTag:void 0;s.exports=i},function(s,t){function e(i){return i!=null&&typeof i=="object"}s.exports=e},function(s,t){function e(i){var a=typeof i;return i!=null&&(a=="object"||a=="function")}s.exports=e},function(s,t,e){function i(w,O,A){if(A=A||{},!v(A))throw new Error("options is invalid");var I=A.bbox,B=A.id;if(w===void 0)throw new Error("geometry is required");if(O&&O.constructor!==Object)throw new Error("properties must be an Object");I&&b(I),B&&k(B);var U={type:"Feature"};return B&&(U.id=B),I&&(U.bbox=I),U.properties=O||{},U.geometry=w,U}function a(w,O,A){if(!w)throw new Error("coordinates is required");if(!Array.isArray(w))throw new Error("coordinates must be an Array");if(w.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!p(w[0])||!p(w[1]))throw new Error("coordinates must contain numbers");return i({type:"Point",coordinates:w},O,A)}function o(w,O,A){if(!w)throw new Error("coordinates is required");if(w.length<2)throw new Error("coordinates must be an array of two or more positions");if(!p(w[0][1])||!p(w[0][1]))throw new Error("coordinates must contain numbers");return i({type:"LineString",coordinates:w},O,A)}function c(w,O){if(w==null)throw new Error("radians is required");if(O&&typeof O!="string")throw new Error("units must be a string");var A=P[O||"kilometers"];if(!A)throw new Error(O+" units is invalid");return w*A}function f(w){if(w==null)throw new Error("degrees is required");return w%360*Math.PI/180}function p(w){return!isNaN(w)&&w!==null&&!Array.isArray(w)}function v(w){return!!w&&w.constructor===Object}function b(w){if(!w)throw new Error("bbox is required");if(!Array.isArray(w))throw new Error("bbox must be an Array");if(w.length!==4&&w.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");w.forEach(function(O){if(!p(O))throw new Error("bbox must only contain numbers")})}function k(w){if(!w)throw new Error("id is required");if(["string","number"].indexOf(typeof w)===-1)throw new Error("id must be a number or a string")}e.d(t,"b",function(){return i}),e.d(t,"f",function(){return a}),e.d(t,"e",function(){return o}),e.d(t,"g",function(){return c}),e.d(t,"a",function(){return f}),e.d(t,"c",function(){return p}),e.d(t,"d",function(){return v});var P={meters:63710088e-1,metres:63710088e-1,millimeters:6371008800,millimetres:6371008800,centimeters:637100880,centimetres:637100880,kilometers:6371.0088,kilometres:6371.0088,miles:3958.761333810546,nauticalmiles:63710088e-1/1852,inches:63710088e-1*39.37,yards:63710088e-1/1.0936,feet:20902260511392e-6,radians:1,degrees:63710088e-1/111325}},function(s,t,e){var i=e(5),a=i.Symbol;s.exports=a},function(s,t,e){var i=e(11),a=typeof self=="object"&&self&&self.Object===Object&&self,o=i||a||Function("return this")();s.exports=o},function(s,t){function e(i,a){return i===a||i!==i&&a!==a}s.exports=e},function(s,t,e){function i(c){return c!=null&&o(c.length)&&!a(c)}var a=e(10),o=e(16);s.exports=i},function(s,t,e){function i(o,c,f){c=="__proto__"&&a?a(o,c,{configurable:!0,enumerable:!0,value:f,writable:!0}):o[c]=f}var a=e(9);s.exports=i},function(s,t,e){var i=e(35),a=(function(){try{var o=i(Object,"defineProperty");return o({},"",{}),o}catch{}})();s.exports=a},function(s,t,e){function i(b){if(!o(b))return!1;var k=a(b);return k==f||k==p||k==c||k==v}var a=e(0),o=e(2),c="[object AsyncFunction]",f="[object Function]",p="[object GeneratorFunction]",v="[object Proxy]";s.exports=i},function(s,t,e){(function(i){var a=typeof i=="object"&&i&&i.Object===Object&&i;s.exports=a}).call(t,e(37))},function(s,t,e){function i(f,p){return c(o(f,p,a),f+"")}var a=e(13),o=e(45),c=e(46);s.exports=i},function(s,t){function e(i){return i}s.exports=e},function(s,t){function e(i,a,o){switch(o.length){case 0:return i.call(a);case 1:return i.call(a,o[0]);case 2:return i.call(a,o[0],o[1]);case 3:return i.call(a,o[0],o[1],o[2])}return i.apply(a,o)}s.exports=e},function(s,t,e){function i(p,v,b){if(!f(b))return!1;var k=typeof v;return!!(k=="number"?o(b)&&c(v,b.length):k=="string"&&v in b)&&a(b[v],p)}var a=e(6),o=e(7),c=e(17),f=e(2);s.exports=i},function(s,t){function e(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=i}var i=9007199254740991;s.exports=e},function(s,t){function e(o,c){var f=typeof o;return!!(c=c??i)&&(f=="number"||f!="symbol"&&a.test(o))&&o>-1&&o%1==0&&o<c}var i=9007199254740991,a=/^(?:0|[1-9]\d*)$/;s.exports=e},function(s,t,e){function i(P,w){var O=c(P),A=!O&&o(P),I=!O&&!A&&f(P),B=!O&&!A&&!I&&v(P),U=O||A||I||B,Z=U?a(P.length,String):[],le=Z.length;for(var pe in P)!w&&!k.call(P,pe)||U&&(pe=="length"||I&&(pe=="offset"||pe=="parent")||B&&(pe=="buffer"||pe=="byteLength"||pe=="byteOffset")||p(pe,le))||Z.push(pe);return Z}var a=e(51),o=e(52),c=e(19),f=e(54),p=e(17),v=e(56),b=Object.prototype,k=b.hasOwnProperty;s.exports=i},function(s,t){var e=Array.isArray;s.exports=e},function(s,t){s.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(s,t){function e(a){var o=a&&a.constructor;return a===(typeof o=="function"&&o.prototype||i)}var i=Object.prototype;s.exports=e},function(s,t,e){function i(v){if(!o(v))return!1;var b=a(v);return b==p||b==f||typeof v.message=="string"&&typeof v.name=="string"&&!c(v)}var a=e(0),o=e(1),c=e(63),f="[object DOMException]",p="[object Error]";s.exports=i},function(s,t){function e(i,a){return function(o){return i(a(o))}}s.exports=e},function(s,t){function e(i,a){for(var o=-1,c=i==null?0:i.length,f=Array(c);++o<c;)f[o]=a(i[o],o,i);return f}s.exports=e},function(s,t){var e=/<%=([\s\S]+?)%>/g;s.exports=e},function(s,t,e){function i(o){return o==null?"":a(o)}var a=e(75);s.exports=i},function(s,t,e){function i(b,k,P){if(b!==null)for(var w,O,A,I,B,U,Z,le,pe=0,ie=0,$=b.type,Y=$==="FeatureCollection",ue=$==="Feature",Me=Y?b.features.length:1,J=0;J<Me;J++){Z=Y?b.features[J].geometry:ue?b.geometry:b,le=!!Z&&Z.type==="GeometryCollection",B=le?Z.geometries.length:1;for(var G=0;G<B;G++){var se=0,j=0;if((I=le?Z.geometries[G]:Z)!==null){U=I.coordinates;var Ae=I.type;switch(pe=0,Ae){case null:break;case"Point":if(k(U,ie,J,se,j)===!1)return!1;ie++,se++;break;case"LineString":case"MultiPoint":for(w=0;w<U.length;w++){if(k(U[w],ie,J,se,j)===!1)return!1;ie++,Ae==="MultiPoint"&&se++}Ae==="LineString"&&se++;break;case"Polygon":case"MultiLineString":for(w=0;w<U.length;w++){for(O=0;O<U[w].length-pe;O++){if(k(U[w][O],ie,J,se,j)===!1)return!1;ie++}Ae==="MultiLineString"&&se++,Ae==="Polygon"&&j++}Ae==="Polygon"&&se++;break;case"MultiPolygon":for(w=0;w<U.length;w++){for(Ae==="MultiPolygon"&&(j=0),O=0;O<U[w].length;O++){for(A=0;A<U[w][O].length-pe;A++){if(k(U[w][O][A],ie,J,se,j)===!1)return!1;ie++}j++}se++}break;case"GeometryCollection":for(w=0;w<I.geometries.length;w++)if(i(I.geometries[w],k)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(b,k){var P,w,O,A,I,B,U,Z,le,pe,ie=0,$=b.type==="FeatureCollection",Y=b.type==="Feature",ue=$?b.features.length:1;for(P=0;P<ue;P++){for(B=$?b.features[P].geometry:Y?b.geometry:b,Z=$?b.features[P].properties:Y?b.properties:{},le=$?b.features[P].bbox:Y?b.bbox:void 0,pe=$?b.features[P].id:Y?b.id:void 0,U=!!B&&B.type==="GeometryCollection",I=U?B.geometries.length:1,O=0;O<I;O++)if((A=U?B.geometries[O]:B)!==null)switch(A.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(k(A,ie,Z,le,pe)===!1)return!1;break;case"GeometryCollection":for(w=0;w<A.geometries.length;w++)if(k(A.geometries[w],ie,Z,le,pe)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(k(null,ie,Z,le,pe)===!1)return!1;ie++}}function o(b,k,P){var w=P;return a(b,function(O,A,I,B,U){w=A===0&&P===void 0?O:k(w,O,A,I,B,U)}),w}function c(b,k){a(b,function(P,w,O,A,I){var B=P===null?null:P.type;switch(B){case null:case"Point":case"LineString":case"Polygon":return k(Object(v.b)(P,O,{bbox:A,id:I}),w,0)===!1?!1:void 0}var U;switch(B){case"MultiPoint":U="Point";break;case"MultiLineString":U="LineString";break;case"MultiPolygon":U="Polygon"}for(var Z=0;Z<P.coordinates.length;Z++){var le=P.coordinates[Z],pe={type:U,coordinates:le};if(k(Object(v.b)(pe,O),w,Z)===!1)return!1}})}function f(b,k){c(b,function(P,w,O){var A=0;if(P.geometry){var I=P.geometry.type;if(I!=="Point"&&I!=="MultiPoint"){var B;return i(P,function(U,Z,le,pe,ie){if(B===void 0)return void(B=U);var $=Object(v.e)([B,U],P.properties);if(k($,w,O,ie,A)===!1)return!1;A++,B=U})!==!1&&void 0}}})}function p(b,k,P){var w=P,O=!1;return f(b,function(A,I,B,U,Z){w=O===!1&&P===void 0?A:k(w,A,I,B,U,Z),O=!0}),w}e.d(t,"a",function(){return o}),e.d(t,"b",function(){return p});var v=e(3)},function(s,t,e){s.exports=e(29)},function(s,t,e){function i(ie){return ie&&ie.__esModule?ie:{default:ie}}e(30);var a=e(31),o=i(a),c=e(79),f=i(c),p=e(80),v=i(p),b=e(85),k=(function(ie){if(ie&&ie.__esModule)return ie;var $={};if(ie!=null)for(var Y in ie)Object.prototype.hasOwnProperty.call(ie,Y)&&($[Y]=ie[Y]);return $.default=ie,$})(b),P=e(86),w=i(P),O=e(87),A=e(88),I={imports:{numberFormat:O.numberFormat},interpolate:/{{([\s\S]+?)}}/g},B=(0,o.default)(A.controlTemplate,I),U=(0,o.default)(A.resultsTemplate,I),Z=(0,o.default)(A.pointPopupTemplate,I),le=(0,o.default)(A.linePopupTemplate,I),pe=(0,o.default)(A.areaPopupTemplate,I);L.Control.Measure=L.Control.extend({_className:"leaflet-control-measure",options:{units:{},position:"topright",primaryLengthUnit:"feet",secondaryLengthUnit:"miles",primaryAreaUnit:"acres",activeColor:"#ABE67E",completedColor:"#C8F2BE",captureZIndex:1e4,popupOptions:{className:"leaflet-measure-resultpopup",autoPanPadding:[10,10]}},initialize:function(ie){L.setOptions(this,ie);var $=this.options,Y=$.activeColor,ue=$.completedColor;this._symbols=new w.default({activeColor:Y,completedColor:ue}),this.options.units=L.extend({},f.default,this.options.units)},onAdd:function(ie){return this._map=ie,this._latlngs=[],this._initLayout(),ie.on("click",this._collapse,this),this._layer=L.layerGroup().addTo(ie),this._container},onRemove:function(ie){ie.off("click",this._collapse,this),ie.removeLayer(this._layer)},_initLayout:function(){var ie=this._className,$=this._container=L.DomUtil.create("div",ie+" leaflet-bar");$.innerHTML=B({model:{className:ie}}),$.setAttribute("aria-haspopup",!0),L.DomEvent.disableClickPropagation($),L.DomEvent.disableScrollPropagation($);var Y=this.$toggle=(0,b.selectOne)(".js-toggle",$);this.$interaction=(0,b.selectOne)(".js-interaction",$);var ue=(0,b.selectOne)(".js-start",$),Me=(0,b.selectOne)(".js-cancel",$),J=(0,b.selectOne)(".js-finish",$);this.$startPrompt=(0,b.selectOne)(".js-startprompt",$),this.$measuringPrompt=(0,b.selectOne)(".js-measuringprompt",$),this.$startHelp=(0,b.selectOne)(".js-starthelp",$),this.$results=(0,b.selectOne)(".js-results",$),this.$measureTasks=(0,b.selectOne)(".js-measuretasks",$),this._collapse(),this._updateMeasureNotStarted(),L.Browser.android||(L.DomEvent.on($,"mouseenter",this._expand,this),L.DomEvent.on($,"mouseleave",this._collapse,this)),L.DomEvent.on(Y,"click",L.DomEvent.stop),L.Browser.touch?L.DomEvent.on(Y,"click",this._expand,this):L.DomEvent.on(Y,"focus",this._expand,this),L.DomEvent.on(ue,"click",L.DomEvent.stop),L.DomEvent.on(ue,"click",this._startMeasure,this),L.DomEvent.on(Me,"click",L.DomEvent.stop),L.DomEvent.on(Me,"click",this._finishMeasure,this),L.DomEvent.on(J,"click",L.DomEvent.stop),L.DomEvent.on(J,"click",this._handleMeasureDoubleClick,this)},_expand:function(){k.hide(this.$toggle),k.show(this.$interaction)},_collapse:function(){this._locked||(k.hide(this.$interaction),k.show(this.$toggle))},_updateMeasureNotStarted:function(){k.hide(this.$startHelp),k.hide(this.$results),k.hide(this.$measureTasks),k.hide(this.$measuringPrompt),k.show(this.$startPrompt)},_updateMeasureStartedNoPoints:function(){k.hide(this.$results),k.show(this.$startHelp),k.show(this.$measureTasks),k.hide(this.$startPrompt),k.show(this.$measuringPrompt)},_updateMeasureStartedWithPoints:function(){k.hide(this.$startHelp),k.show(this.$results),k.show(this.$measureTasks),k.hide(this.$startPrompt),k.show(this.$measuringPrompt)},_startMeasure:function(){this._locked=!0,this._measureVertexes=L.featureGroup().addTo(this._layer),this._captureMarker=L.marker(this._map.getCenter(),{clickable:!0,zIndexOffset:this.options.captureZIndex,opacity:0}).addTo(this._layer),this._setCaptureMarkerIcon(),this._captureMarker.on("mouseout",this._handleMapMouseOut,this).on("dblclick",this._handleMeasureDoubleClick,this).on("click",this._handleMeasureClick,this),this._map.on("mousemove",this._handleMeasureMove,this).on("mouseout",this._handleMapMouseOut,this).on("move",this._centerCaptureMarker,this).on("resize",this._setCaptureMarkerIcon,this),L.DomEvent.on(this._container,"mouseenter",this._handleMapMouseOut,this),this._updateMeasureStartedNoPoints(),this._map.fire("measurestart",null,!1)},_finishMeasure:function(){var ie=L.extend({},this._resultsModel,{points:this._latlngs});this._locked=!1,L.DomEvent.off(this._container,"mouseover",this._handleMapMouseOut,this),this._clearMeasure(),this._captureMarker.off("mouseout",this._handleMapMouseOut,this).off("dblclick",this._handleMeasureDoubleClick,this).off("click",this._handleMeasureClick,this),this._map.off("mousemove",this._handleMeasureMove,this).off("mouseout",this._handleMapMouseOut,this).off("move",this._centerCaptureMarker,this).off("resize",this._setCaptureMarkerIcon,this),this._layer.removeLayer(this._measureVertexes).removeLayer(this._captureMarker),this._measureVertexes=null,this._updateMeasureNotStarted(),this._collapse(),this._map.fire("measurefinish",ie,!1)},_clearMeasure:function(){this._latlngs=[],this._resultsModel=null,this._measureVertexes.clearLayers(),this._measureDrag&&this._layer.removeLayer(this._measureDrag),this._measureArea&&this._layer.removeLayer(this._measureArea),this._measureBoundary&&this._layer.removeLayer(this._measureBoundary),this._measureDrag=null,this._measureArea=null,this._measureBoundary=null},_centerCaptureMarker:function(){this._captureMarker.setLatLng(this._map.getCenter())},_setCaptureMarkerIcon:function(){this._captureMarker.setIcon(L.divIcon({iconSize:this._map.getSize().multiplyBy(2)}))},_getMeasurementDisplayStrings:function(ie){function $(Me,J,G,se,j){if(J&&ue[J]){var Ae=Y(Me,ue[J],se,j);return G&&ue[G]&&(Ae=Ae+" ("+Y(Me,ue[G],se,j)+")"),Ae}return Y(Me,null,se,j)}function Y(Me,J,G,se){var j={acres:"Acres",feet:"Feet",kilometers:"Kilometers",hectares:"Hectares",meters:"Meters",miles:"Miles",sqfeet:"Sq Feet",sqmeters:"Sq Meters",sqmiles:"Sq Miles"},Ae=L.extend({factor:1,decimals:0},J);return[(0,O.numberFormat)(Me*Ae.factor,Ae.decimals,G||".",se||","),j[Ae.display]||Ae.display].join(" ")}var ue=this.options.units;return{lengthDisplay:$(ie.length,this.options.primaryLengthUnit,this.options.secondaryLengthUnit,this.options.decPoint,this.options.thousandsSep),areaDisplay:$(ie.area,this.options.primaryAreaUnit,this.options.secondaryAreaUnit,this.options.decPoint,this.options.thousandsSep)}},_updateResults:function(){var ie=(0,v.default)(this._latlngs),$=this._resultsModel=L.extend({},ie,this._getMeasurementDisplayStrings(ie),{pointCount:this._latlngs.length});this.$results.innerHTML=U({model:$})},_handleMeasureMove:function(ie){this._measureDrag?this._measureDrag.setLatLng(ie.latlng):this._measureDrag=L.circleMarker(ie.latlng,this._symbols.getSymbol("measureDrag")).addTo(this._layer),this._measureDrag.bringToFront()},_handleMeasureDoubleClick:function(){var ie=this._latlngs,$=void 0,Y=void 0;if(this._finishMeasure(),ie.length){ie.length>2&&ie.push(ie[0]);var ue=(0,v.default)(ie);ie.length===1?($=L.circleMarker(ie[0],this._symbols.getSymbol("resultPoint")),Y=Z({model:ue})):ie.length===2?($=L.polyline(ie,this._symbols.getSymbol("resultLine")),Y=le({model:L.extend({},ue,this._getMeasurementDisplayStrings(ue))})):($=L.polygon(ie,this._symbols.getSymbol("resultArea")),Y=pe({model:L.extend({},ue,this._getMeasurementDisplayStrings(ue))}));var Me=L.DomUtil.create("div","");Me.innerHTML=Y;var J=(0,b.selectOne)(".js-zoomto",Me);J&&(L.DomEvent.on(J,"click",L.DomEvent.stop),L.DomEvent.on(J,"click",function(){$.getBounds?this._map.fitBounds($.getBounds(),{padding:[20,20],maxZoom:17}):$.getLatLng&&this._map.panTo($.getLatLng())},this));var G=(0,b.selectOne)(".js-deletemarkup",Me);G&&(L.DomEvent.on(G,"click",L.DomEvent.stop),L.DomEvent.on(G,"click",function(){this._layer.removeLayer($)},this)),$.addTo(this._layer),$.bindPopup(Me,this.options.popupOptions),$.getBounds?$.openPopup($.getBounds().getCenter()):$.getLatLng&&$.openPopup($.getLatLng())}},_handleMeasureClick:function(ie){var $=this._map.mouseEventToLatLng(ie.originalEvent),Y=this._latlngs[this._latlngs.length-1],ue=this._symbols.getSymbol("measureVertex");Y&&$.equals(Y)||(this._latlngs.push($),this._addMeasureArea(this._latlngs),this._addMeasureBoundary(this._latlngs),this._measureVertexes.eachLayer(function(Me){Me.setStyle(ue),Me._path&&Me._path.setAttribute("class",ue.className)}),this._addNewVertex($),this._measureBoundary&&this._measureBoundary.bringToFront(),this._measureVertexes.bringToFront()),this._updateResults(),this._updateMeasureStartedWithPoints()},_handleMapMouseOut:function(){this._measureDrag&&(this._layer.removeLayer(this._measureDrag),this._measureDrag=null)},_addNewVertex:function(ie){L.circleMarker(ie,this._symbols.getSymbol("measureVertexActive")).addTo(this._measureVertexes)},_addMeasureArea:function(ie){if(ie.length<3)return void(this._measureArea&&(this._layer.removeLayer(this._measureArea),this._measureArea=null));this._measureArea?this._measureArea.setLatLngs(ie):this._measureArea=L.polygon(ie,this._symbols.getSymbol("measureArea")).addTo(this._layer)},_addMeasureBoundary:function(ie){if(ie.length<2)return void(this._measureBoundary&&(this._layer.removeLayer(this._measureBoundary),this._measureBoundary=null));this._measureBoundary?this._measureBoundary.setLatLngs(ie):this._measureBoundary=L.polyline(ie,this._symbols.getSymbol("measureBoundary")).addTo(this._layer)}}),L.Map.mergeOptions({measureControl:!1}),L.Map.addInitHook(function(){this.options.measureControl&&(this.measureControl=new L.Control.Measure().addTo(this))}),L.control.measure=function(ie){return new L.Control.Measure(ie)}},function(s,t){},function(s,t,e){function i(pe,ie,$){var Y=w.imports._.templateSettings||w;$&&b(pe,ie,$)&&(ie=void 0),pe=O(pe),ie=a({},ie,Y,f);var ue,Me,J=a({},ie.imports,Y.imports,f),G=k(J),se=c(J,G),j=0,Ae=ie.interpolate||Z,Ue="__p += '",je=RegExp((ie.escape||Z).source+"|"+Ae.source+"|"+(Ae===P?U:Z).source+"|"+(ie.evaluate||Z).source+"|$","g"),Le="sourceURL"in ie?"//# sourceURL="+ie.sourceURL+`
`:"";pe.replace(je,function(re,F,ce,me,_e,Te){return ce||(ce=me),Ue+=pe.slice(j,Te).replace(le,p),F&&(ue=!0,Ue+=`' +
__e(`+F+`) +
'`),_e&&(Me=!0,Ue+=`';
`+_e+`;
__p += '`),ce&&(Ue+=`' +
((__t = (`+ce+`)) == null ? '' : __t) +
'`),j=Te+re.length,re}),Ue+=`';
`;var Be=ie.variable;Be||(Ue=`with (obj) {
`+Ue+`
}
`),Ue=(Me?Ue.replace(A,""):Ue).replace(I,"$1").replace(B,"$1;"),Ue="function("+(Be||"obj")+`) {
`+(Be?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ue?", __e = _.escape":"")+(Me?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ue+`return __p
}`;var Ee=o(function(){return Function(G,Le+"return "+Ue).apply(void 0,se)});if(Ee.source=Ue,v(Ee))throw Ee;return Ee}var a=e(32),o=e(62),c=e(65),f=e(66),p=e(67),v=e(22),b=e(15),k=e(68),P=e(25),w=e(71),O=e(26),A=/\b__p \+= '';/g,I=/\b(__p \+=) '' \+/g,B=/(__e\(.*?\)|\b__t\)) \+\n'';/g,U=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Z=/($^)/,le=/['\n\r\u2028\u2029\\]/g;s.exports=i},function(s,t,e){var i=e(33),a=e(44),o=e(50),c=a(function(f,p,v,b){i(p,o(p),f,b)});s.exports=c},function(s,t,e){function i(c,f,p,v){var b=!p;p||(p={});for(var k=-1,P=f.length;++k<P;){var w=f[k],O=v?v(p[w],c[w],w,p,c):void 0;O===void 0&&(O=c[w]),b?o(p,w,O):a(p,w,O)}return p}var a=e(34),o=e(8);s.exports=i},function(s,t,e){function i(p,v,b){var k=p[v];f.call(p,v)&&o(k,b)&&(b!==void 0||v in p)||a(p,v,b)}var a=e(8),o=e(6),c=Object.prototype,f=c.hasOwnProperty;s.exports=i},function(s,t,e){function i(c,f){var p=o(c,f);return a(p)?p:void 0}var a=e(36),o=e(43);s.exports=i},function(s,t,e){function i(A){return!(!c(A)||o(A))&&(a(A)?O:v).test(f(A))}var a=e(10),o=e(40),c=e(2),f=e(42),p=/[\\^$.*+?()[\]{}|]/g,v=/^\[object .+?Constructor\]$/,b=Function.prototype,k=Object.prototype,P=b.toString,w=k.hasOwnProperty,O=RegExp("^"+P.call(w).replace(p,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");s.exports=i},function(s,t){var e;e=(function(){return this})();try{e=e||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(e=window)}s.exports=e},function(s,t,e){function i(v){var b=c.call(v,p),k=v[p];try{v[p]=void 0;var P=!0}catch{}var w=f.call(v);return P&&(b?v[p]=k:delete v[p]),w}var a=e(4),o=Object.prototype,c=o.hasOwnProperty,f=o.toString,p=a?a.toStringTag:void 0;s.exports=i},function(s,t){function e(o){return a.call(o)}var i=Object.prototype,a=i.toString;s.exports=e},function(s,t,e){function i(c){return!!o&&o in c}var a=e(41),o=(function(){var c=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""})();s.exports=i},function(s,t,e){var i=e(5),a=i["__core-js_shared__"];s.exports=a},function(s,t){function e(o){if(o!=null){try{return a.call(o)}catch{}try{return o+""}catch{}}return""}var i=Function.prototype,a=i.toString;s.exports=e},function(s,t){function e(i,a){return i?.[a]}s.exports=e},function(s,t,e){function i(c){return a(function(f,p){var v=-1,b=p.length,k=b>1?p[b-1]:void 0,P=b>2?p[2]:void 0;for(k=c.length>3&&typeof k=="function"?(b--,k):void 0,P&&o(p[0],p[1],P)&&(k=b<3?void 0:k,b=1),f=Object(f);++v<b;){var w=p[v];w&&c(f,w,v,k)}return f})}var a=e(12),o=e(15);s.exports=i},function(s,t,e){function i(c,f,p){return f=o(f===void 0?c.length-1:f,0),function(){for(var v=arguments,b=-1,k=o(v.length-f,0),P=Array(k);++b<k;)P[b]=v[f+b];b=-1;for(var w=Array(f+1);++b<f;)w[b]=v[b];return w[f]=p(P),a(c,this,w)}}var a=e(14),o=Math.max;s.exports=i},function(s,t,e){var i=e(47),a=e(49),o=a(i);s.exports=o},function(s,t,e){var i=e(48),a=e(9),o=e(13),c=a?function(f,p){return a(f,"toString",{configurable:!0,enumerable:!1,value:i(p),writable:!0})}:o;s.exports=c},function(s,t){function e(i){return function(){return i}}s.exports=e},function(s,t){function e(c){var f=0,p=0;return function(){var v=o(),b=a-(v-p);if(p=v,b>0){if(++f>=i)return arguments[0]}else f=0;return c.apply(void 0,arguments)}}var i=800,a=16,o=Date.now;s.exports=e},function(s,t,e){function i(f){return c(f)?a(f,!0):o(f)}var a=e(18),o=e(60),c=e(7);s.exports=i},function(s,t){function e(i,a){for(var o=-1,c=Array(i);++o<i;)c[o]=a(o);return c}s.exports=e},function(s,t,e){var i=e(53),a=e(1),o=Object.prototype,c=o.hasOwnProperty,f=o.propertyIsEnumerable,p=i((function(){return arguments})())?i:function(v){return a(v)&&c.call(v,"callee")&&!f.call(v,"callee")};s.exports=p},function(s,t,e){function i(f){return o(f)&&a(f)==c}var a=e(0),o=e(1),c="[object Arguments]";s.exports=i},function(s,t,e){(function(i){var a=e(5),o=e(55),c=typeof t=="object"&&t&&!t.nodeType&&t,f=c&&typeof i=="object"&&i&&!i.nodeType&&i,p=f&&f.exports===c,v=p?a.Buffer:void 0,b=v?v.isBuffer:void 0,k=b||o;i.exports=k}).call(t,e(20)(s))},function(s,t){function e(){return!1}s.exports=e},function(s,t,e){var i=e(57),a=e(58),o=e(59),c=o&&o.isTypedArray,f=c?a(c):i;s.exports=f},function(s,t,e){function i(p){return c(p)&&o(p.length)&&!!f[a(p)]}var a=e(0),o=e(16),c=e(1),f={};f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f["[object Arguments]"]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object Boolean]"]=f["[object DataView]"]=f["[object Date]"]=f["[object Error]"]=f["[object Function]"]=f["[object Map]"]=f["[object Number]"]=f["[object Object]"]=f["[object RegExp]"]=f["[object Set]"]=f["[object String]"]=f["[object WeakMap]"]=!1,s.exports=i},function(s,t){function e(i){return function(a){return i(a)}}s.exports=e},function(s,t,e){(function(i){var a=e(11),o=typeof t=="object"&&t&&!t.nodeType&&t,c=o&&typeof i=="object"&&i&&!i.nodeType&&i,f=c&&c.exports===o,p=f&&a.process,v=(function(){try{return p&&p.binding&&p.binding("util")}catch{}})();i.exports=v}).call(t,e(20)(s))},function(s,t,e){function i(v){if(!a(v))return c(v);var b=o(v),k=[];for(var P in v)(P!="constructor"||!b&&p.call(v,P))&&k.push(P);return k}var a=e(2),o=e(21),c=e(61),f=Object.prototype,p=f.hasOwnProperty;s.exports=i},function(s,t){function e(i){var a=[];if(i!=null)for(var o in Object(i))a.push(o);return a}s.exports=e},function(s,t,e){var i=e(14),a=e(12),o=e(22),c=a(function(f,p){try{return i(f,void 0,p)}catch(v){return o(v)?v:new Error(v)}});s.exports=c},function(s,t,e){function i(w){if(!c(w)||a(w)!=f)return!1;var O=o(w);if(O===null)return!0;var A=k.call(O,"constructor")&&O.constructor;return typeof A=="function"&&A instanceof A&&b.call(A)==P}var a=e(0),o=e(64),c=e(1),f="[object Object]",p=Function.prototype,v=Object.prototype,b=p.toString,k=v.hasOwnProperty,P=b.call(Object);s.exports=i},function(s,t,e){var i=e(23),a=i(Object.getPrototypeOf,Object);s.exports=a},function(s,t,e){function i(o,c){return a(c,function(f){return o[f]})}var a=e(24);s.exports=i},function(s,t,e){function i(f,p,v,b){return f===void 0||a(f,o[v])&&!c.call(b,v)?p:f}var a=e(6),o=Object.prototype,c=o.hasOwnProperty;s.exports=i},function(s,t){function e(a){return"\\"+i[a]}var i={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};s.exports=e},function(s,t,e){function i(f){return c(f)?a(f):o(f)}var a=e(18),o=e(69),c=e(7);s.exports=i},function(s,t,e){function i(p){if(!a(p))return o(p);var v=[];for(var b in Object(p))f.call(p,b)&&b!="constructor"&&v.push(b);return v}var a=e(21),o=e(70),c=Object.prototype,f=c.hasOwnProperty;s.exports=i},function(s,t,e){var i=e(23),a=i(Object.keys,Object);s.exports=a},function(s,t,e){var i=e(72),a=e(77),o=e(78),c=e(25),f={escape:a,evaluate:o,interpolate:c,variable:"",imports:{_:{escape:i}}};s.exports=f},function(s,t,e){function i(p){return p=o(p),p&&f.test(p)?p.replace(c,a):p}var a=e(73),o=e(26),c=/[&<>"']/g,f=RegExp(c.source);s.exports=i},function(s,t,e){var i=e(74),a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},o=i(a);s.exports=o},function(s,t){function e(i){return function(a){return i?.[a]}}s.exports=e},function(s,t,e){function i(b){if(typeof b=="string")return b;if(c(b))return o(b,i)+"";if(f(b))return v?v.call(b):"";var k=b+"";return k=="0"&&1/b==-1/0?"-0":k}var a=e(4),o=e(24),c=e(19),f=e(76),p=a?a.prototype:void 0,v=p?p.toString:void 0;s.exports=i},function(s,t,e){function i(f){return typeof f=="symbol"||o(f)&&a(f)==c}var a=e(0),o=e(1),c="[object Symbol]";s.exports=i},function(s,t){var e=/<%-([\s\S]+?)%>/g;s.exports=e},function(s,t){var e=/<%([\s\S]+?)%>/g;s.exports=e},function(s,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.default={acres:{factor:24711e-8,display:"acres",decimals:2},feet:{factor:3.2808,display:"feet",decimals:0},kilometers:{factor:.001,display:"kilometers",decimals:2},hectares:{factor:1e-4,display:"hectares",decimals:2},meters:{factor:1,display:"meters",decimals:0},miles:{factor:3.2808/5280,display:"miles",decimals:2},sqfeet:{factor:10.7639,display:"sqfeet",decimals:0},sqmeters:{factor:1,display:"sqmeters",decimals:0},sqmiles:{factor:386102e-12,display:"sqmiles",decimals:2}}},function(s,t,e){function i(k){return k&&k.__esModule?k:{default:k}}function a(k){return k<10?"0"+k.toString():k.toString()}function o(k,P,w){var O=Math.abs(k),A=Math.floor(O),I=Math.floor(60*(O-A)),B=Math.round(3600*(O-A-I/60)*100)/100,U=O===k?P:w;return a(A)+"&deg; "+a(I)+"' "+a(B)+'" '+U}function c(k){var P=k[k.length-1],w=k.map(function(U){return[U.lat,U.lng]}),O=L.polyline(w),A=L.polygon(w),I=1e3*(0,p.default)(O.toGeoJSON(),{units:"kilometers"}),B=(0,b.default)(A.toGeoJSON());return{lastCoord:{dd:{x:P.lng,y:P.lat},dms:{x:o(P.lng,"E","W"),y:o(P.lat,"N","S")}},length:I,area:B}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var f=e(81),p=i(f),v=e(84),b=i(v)},function(s,t,e){function i(f,p){if(p=p||{},!Object(c.d)(p))throw new Error("options is invalid");if(!f)throw new Error("geojson is required");return Object(o.b)(f,function(v,b){var k=b.geometry.coordinates;return v+Object(a.a)(k[0],k[1],p)},0)}Object.defineProperty(t,"__esModule",{value:!0});var a=e(82),o=e(27),c=e(3);t.default=i},function(s,t,e){function i(c,f,p){if(p=p||{},!Object(o.d)(p))throw new Error("options is invalid");var v=p.units,b=Object(a.a)(c),k=Object(a.a)(f),P=Object(o.a)(k[1]-b[1]),w=Object(o.a)(k[0]-b[0]),O=Object(o.a)(b[1]),A=Object(o.a)(k[1]),I=Math.pow(Math.sin(P/2),2)+Math.pow(Math.sin(w/2),2)*Math.cos(O)*Math.cos(A);return Object(o.g)(2*Math.atan2(Math.sqrt(I),Math.sqrt(1-I)),v)}var a=e(83),o=e(3);t.a=i},function(s,t,e){function i(a){if(!a)throw new Error("coord is required");if(a.type==="Feature"&&a.geometry!==null&&a.geometry.type==="Point")return a.geometry.coordinates;if(a.type==="Point")return a.coordinates;if(Array.isArray(a)&&a.length>=2&&a[0].length===void 0&&a[1].length===void 0)return a;throw new Error("coord must be GeoJSON Point or an Array of numbers")}e.d(t,"a",function(){return i}),e(3)},function(s,t,e){function i(b){return Object(p.a)(b,function(k,P){return k+a(P)},0)}function a(b){var k,P=0;switch(b.type){case"Polygon":return o(b.coordinates);case"MultiPolygon":for(k=0;k<b.coordinates.length;k++)P+=o(b.coordinates[k]);return P;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(k=0;k<b.geometries.length;k++)P+=a(b.geometries[k]);return P}}function o(b){var k=0;if(b&&b.length>0){k+=Math.abs(c(b[0]));for(var P=1;P<b.length;P++)k-=Math.abs(c(b[P]))}return k}function c(b){var k,P,w,O,A,I,B,U=0,Z=b.length;if(Z>2){for(B=0;B<Z;B++)B===Z-2?(O=Z-2,A=Z-1,I=0):B===Z-1?(O=Z-1,A=0,I=1):(O=B,A=B+1,I=B+2),k=b[O],P=b[A],w=b[I],U+=(f(w[0])-f(k[0]))*Math.sin(f(P[1]));U=U*v*v/2}return U}function f(b){return b*Math.PI/180}Object.defineProperty(t,"__esModule",{value:!0});var p=e(27),v=6378137;t.default=i},function(s,t,e){function i(f,p){return p||(p=document),p.querySelector(f)}function a(f,p){return p||(p=document),Array.prototype.slice.call(p.querySelectorAll(f))}function o(f){if(f)return f.setAttribute("style","display:none;"),f}function c(f){if(f)return f.removeAttribute("style"),f}Object.defineProperty(t,"__esModule",{value:!0}),t.selectOne=i,t.selectAll=a,t.hide=o,t.show=c},function(s,t,e){function i(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=(function(){function f(p,v){for(var b=0;b<v.length;b++){var k=v[b];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(p,k.key,k)}}return function(p,v,b){return v&&f(p.prototype,v),b&&f(p,b),p}})(),o={activeColor:"#ABE67E",completedColor:"#C8F2BE"},c=(function(){function f(p){i(this,f),this._options=L.extend({},o,this._options,p)}return a(f,[{key:"getSymbol",value:function(p){return{measureDrag:{clickable:!1,radius:4,color:this._options.activeColor,weight:2,opacity:.7,fillColor:this._options.activeColor,fillOpacity:.5,className:"layer-measuredrag"},measureArea:{clickable:!1,stroke:!1,fillColor:this._options.activeColor,fillOpacity:.2,className:"layer-measurearea"},measureBoundary:{clickable:!1,color:this._options.activeColor,weight:2,opacity:.9,fill:!1,className:"layer-measureboundary"},measureVertex:{clickable:!1,radius:4,color:this._options.activeColor,weight:2,opacity:1,fillColor:this._options.activeColor,fillOpacity:.7,className:"layer-measurevertex"},measureVertexActive:{clickable:!1,radius:4,color:this._options.activeColor,weight:2,opacity:1,fillColor:this._options.activeColor,fillOpacity:1,className:"layer-measurevertex active"},resultArea:{clickable:!0,color:this._options.completedColor,weight:2,opacity:.9,fillColor:this._options.completedColor,fillOpacity:.2,className:"layer-measure-resultarea"},resultLine:{clickable:!0,color:this._options.completedColor,weight:3,opacity:.9,fill:!1,className:"layer-measure-resultline"},resultPoint:{clickable:!0,radius:4,color:this._options.completedColor,weight:2,opacity:1,fillColor:this._options.completedColor,fillOpacity:.7,className:"layer-measure-resultpoint"}}[p]}}]),f})();t.default=c},function(s,t,e){function i(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".",f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:",",p=a<0?"-":"",v=Math.abs(+a||0),b=parseInt(v.toFixed(o),10)+"",k=b.length>3?b.length%3:0;return[p,k?b.substr(0,k)+f:"",b.substr(k).replace(/(\d{3})(?=\d)/g,"$1"+f),o?""+c+Math.abs(v-b).toFixed(o).slice(2):""].join("")}Object.defineProperty(t,"__esModule",{value:!0}),t.numberFormat=i},function(s,t,e){function i(v){return v&&v.__esModule?v:{default:v}}Object.defineProperty(t,"__esModule",{value:!0});var a=e(89);Object.defineProperty(t,"controlTemplate",{enumerable:!0,get:function(){return i(a).default}});var o=e(90);Object.defineProperty(t,"resultsTemplate",{enumerable:!0,get:function(){return i(o).default}});var c=e(91);Object.defineProperty(t,"pointPopupTemplate",{enumerable:!0,get:function(){return i(c).default}});var f=e(92);Object.defineProperty(t,"linePopupTemplate",{enumerable:!0,get:function(){return i(f).default}});var p=e(93);Object.defineProperty(t,"areaPopupTemplate",{enumerable:!0,get:function(){return i(p).default}})},function(s,t,e){s.exports='<a class="{{ model.className }}-toggle js-toggle" href=# title="Measure distances and areas">Measure</a> <div class="{{ model.className }}-interaction js-interaction"> <div class="js-startprompt startprompt"> <h3>Measure distances and areas</h3> <ul class=tasks> <a href=# class="js-start start">Create a new measurement</a> </ul> </div> <div class=js-measuringprompt> <h3>Measure distances and areas</h3> <p class=js-starthelp>Start creating a measurement by adding points to the map</p> <div class="js-results results"></div> <ul class="js-measuretasks tasks"> <li><a href=# class="js-cancel cancel">Cancel</a></li> <li><a href=# class="js-finish finish">Finish measurement</a></li> </ul> </div> </div> '},function(s,t,e){s.exports='<div class=group> <p class="lastpoint heading">Last point</p> <p>{{ model.lastCoord.dms.y }} <span class=coorddivider>/</span> {{ model.lastCoord.dms.x }}</p> <p>{{ numberFormat(model.lastCoord.dd.y, 6) }} <span class=coorddivider>/</span> {{ numberFormat(model.lastCoord.dd.x, 6) }}</p> </div> <% if (model.pointCount > 1) { %> <div class=group> <p><span class=heading>Path distance</span> {{ model.lengthDisplay }}</p> </div> <% } %> <% if (model.pointCount > 2) { %> <div class=group> <p><span class=heading>Area</span> {{ model.areaDisplay }}</p> </div> <% } %> '},function(s,t,e){s.exports='<h3>Point location</h3> <p>{{ model.lastCoord.dms.y }} <span class=coorddivider>/</span> {{ model.lastCoord.dms.x }}</p> <p>{{ numberFormat(model.lastCoord.dd.y, 6) }} <span class=coorddivider>/</span> {{ numberFormat(model.lastCoord.dd.x, 6) }}</p> <ul class=tasks> <li><a href=# class="js-zoomto zoomto">Center on this location</a></li> <li><a href=# class="js-deletemarkup deletemarkup">Delete</a></li> </ul> '},function(s,t,e){s.exports='<h3>Linear measurement</h3> <p>{{ model.lengthDisplay }}</p> <ul class=tasks> <li><a href=# class="js-zoomto zoomto">Center on this line</a></li> <li><a href=# class="js-deletemarkup deletemarkup">Delete</a></li> </ul> '},function(s,t,e){s.exports='<h3>Area measurement</h3> <p>{{ model.areaDisplay }}</p> <p>{{ model.lengthDisplay }} Perimeter</p> <ul class=tasks> <li><a href=# class="js-zoomto zoomto">Center on this area</a></li> <li><a href=# class="js-deletemarkup deletemarkup">Delete</a></li> </ul> '}])),cm}B5();var Qf={exports:{}},fm;function N5(){return fm||(fm=1,(function(s){(function(t){var e;e=rg(),s.exports=t(e)})(function(t){return t.Polyline._flat=t.LineUtil.isFlat||t.Polyline._flat||function(e){return!t.Util.isArray(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]<"u"},t.GeometryUtil=t.extend(t.GeometryUtil||{},{distance:function(e,i,a){return e.latLngToLayerPoint(i).distanceTo(e.latLngToLayerPoint(a))},distanceSegment:function(e,i,a,o){var c=e.latLngToLayerPoint(i),f=e.latLngToLayerPoint(a),p=e.latLngToLayerPoint(o);return t.LineUtil.pointToSegmentDistance(c,f,p)},readableDistance:function(e,i){var a=i!=="imperial",o;return a?e>1e3?o=(e/1e3).toFixed(2)+" km":o=e.toFixed(1)+" m":(e*=1.09361,e>1760?o=(e/1760).toFixed(2)+" miles":o=e.toFixed(1)+" yd"),o},belongsSegment:function(e,i,a,o){o=o===void 0?.2:o;var c=i.distanceTo(a),f=i.distanceTo(e)+e.distanceTo(a)-c;return f/c<o},length:function(e){var i=t.GeometryUtil.accumulatedLengths(e);return i.length>0?i[i.length-1]:0},accumulatedLengths:function(e){if(typeof e.getLatLngs=="function"&&(e=e.getLatLngs()),e.length===0)return[];for(var i=0,a=[0],o=0,c=e.length-1;o<c;o++)i+=e[o].distanceTo(e[o+1]),a.push(i);return a},closestOnSegment:function(e,i,a,o){var c=e.getMaxZoom();c===1/0&&(c=e.getZoom());var f=e.project(i,c),p=e.project(a,c),v=e.project(o,c),b=t.LineUtil.closestPointOnSegment(f,p,v);return e.unproject(b,c)},closestOnCircle:function(e,i){const a=e.getLatLng(),o=e.getRadius(),c=typeof o=="number"?o:o.radius,f=i.lng,p=i.lat,v=a.lng,b=a.lat,k=f-v,P=p-b,w=Math.sqrt(k*k+P*P),O=v+k/w*c,A=b+P/w*c;return new t.LatLng(A,O)},closest:function(e,i,a,o){var c,f=1/0,p=null,v,b,k,P;if(i instanceof Array)if(i[0]instanceof Array&&typeof i[0][0]!="number"){for(v=0;v<i.length;v++)P=t.GeometryUtil.closest(e,i[v],a,o),P&&P.distance<f&&(f=P.distance,p=P);return p}else if(i[0]instanceof t.LatLng||typeof i[0][0]=="number"||typeof i[0].lat=="number")i=t.polyline(i);else return p;if(!(i instanceof t.Polyline))return p;if(c=JSON.parse(JSON.stringify(i.getLatLngs().slice(0))),i instanceof t.Polygon){var w=function(B){if(t.Polyline._flat(B))B.push(B[0]);else for(var U=0;U<B.length;U++)w(B[U])};w(c)}if(t.Polyline._flat(c)){if(o){for(v=0,b=c.length;v<b;v++){var O=c[v];k=t.GeometryUtil.distance(e,a,O),k<f&&(f=k,p=O,p.distance=k)}return p}for(v=0,b=c.length;v<b-1;v++){var A=c[v],I=c[v+1];k=t.GeometryUtil.distanceSegment(e,a,A,I),k<=f&&(f=k,p=t.GeometryUtil.closestOnSegment(e,a,A,I),p.distance=k)}return p}else{for(v=0;v<c.length;v++)P=t.GeometryUtil.closest(e,c[v],a,o),P.distance<f&&(f=P.distance,p=P);return p}},closestLayer:function(e,i,a){for(var o=1/0,c=null,f=null,p=1/0,v=0,b=i.length;v<b;v++){var k=i[v];if(k instanceof t.LayerGroup){var P=t.GeometryUtil.closestLayer(e,k.getLayers(),a);P.distance<o&&(o=P.distance,c=P)}else k instanceof t.Circle?(f=this.closestOnCircle(k,a),p=t.GeometryUtil.distance(e,a,f)):typeof k.getLatLng=="function"?(f=k.getLatLng(),p=t.GeometryUtil.distance(e,a,f)):(f=t.GeometryUtil.closest(e,k,a),f&&(p=f.distance)),p<o&&(o=p,c={layer:k,latlng:f,distance:p})}return c},nClosestLayers:function(e,i,a,o){if(o=typeof o=="number"?o:i.length,o<1||i.length<1)return null;for(var c=[],f,p,v=0,b=i.length;v<b;v++){var k=i[v];if(k instanceof t.LayerGroup){var P=t.GeometryUtil.closestLayer(e,k.getLayers(),a);c.push(P)}else k instanceof t.Circle?(p=this.closestOnCircle(k,a),f=t.GeometryUtil.distance(e,a,p)):typeof k.getLatLng=="function"?(p=k.getLatLng(),f=t.GeometryUtil.distance(e,a,p)):(p=t.GeometryUtil.closest(e,k,a),p&&(f=p.distance)),c.push({layer:k,latlng:p,distance:f})}return c.sort(function(w,O){return w.distance-O.distance}),c.length>o?c.slice(0,o):c},layersWithin:function(e,i,a,o){o=typeof o=="number"?o:1/0;for(var c=[],f=null,p=0,v=0,b=i.length;v<b;v++){var k=i[v];typeof k.getLatLng=="function"?(f=k.getLatLng(),p=t.GeometryUtil.distance(e,a,f)):(f=t.GeometryUtil.closest(e,k,a),f&&(p=f.distance)),f&&p<o&&c.push({layer:k,latlng:f,distance:p})}var P=c.sort(function(w,O){return w.distance-O.distance});return P},closestLayerSnap:function(e,i,a,o,c){o=typeof o=="number"?o:1/0,c=typeof c=="boolean"?c:!0;var f=t.GeometryUtil.closestLayer(e,i,a);if(!f||f.distance>o)return null;if(c&&typeof f.layer.getLatLngs=="function"){var p=t.GeometryUtil.closest(e,f.layer,f.latlng,!0);p.distance<o&&(f.latlng=p,f.distance=t.GeometryUtil.distance(e,p,a))}return f},interpolateOnPointSegment:function(e,i,a){return t.point(e.x*(1-a)+a*i.x,e.y*(1-a)+a*i.y)},interpolateOnLine:function(e,i,a){i=i instanceof t.Polyline?i.getLatLngs():i;var o=i.length;if(o<2)return null;if(a=Math.max(Math.min(a,1),0),a===0)return{latLng:i[0]instanceof t.LatLng?i[0]:t.latLng(i[0]),predecessor:-1};if(a==1)return{latLng:i[i.length-1]instanceof t.LatLng?i[i.length-1]:t.latLng(i[i.length-1]),predecessor:i.length-2};var c=e.getMaxZoom();c===1/0&&(c=e.getZoom());for(var f=[],p=0,v=0;v<o;v++)f[v]=e.project(i[v],c),v>0&&(p+=f[v-1].distanceTo(f[v]));for(var b=p*a,k=0,P=0,v=0;P<b;v++){var w=f[v],O=f[v+1];k=P,P+=w.distanceTo(O)}if(w==null&&O==null)var w=f[0],O=f[1],v=1;var A=P-k!==0?(b-k)/(P-k):0,I=t.GeometryUtil.interpolateOnPointSegment(w,O,A);return{latLng:e.unproject(I,c),predecessor:v-1}},locateOnLine:function(e,i,a){var o=i.getLatLngs();if(a.equals(o[0]))return 0;if(a.equals(o[o.length-1]))return 1;for(var c=t.GeometryUtil.closest(e,i,a,!1),f=t.GeometryUtil.accumulatedLengths(o),p=f[f.length-1],v=0,b=!1,k=0,P=o.length-1;k<P;k++){var w=o[k],O=o[k+1];if(v=f[k],t.GeometryUtil.belongsSegment(c,w,O,.001)){v+=w.distanceTo(c),b=!0;break}}if(!b)throw"Could not interpolate "+a.toString()+" within "+i.toString();return v/p},reverse:function(e){return t.polyline(e.getLatLngs().slice(0).reverse())},extract:function(e,i,a,o){if(a>o)return t.GeometryUtil.extract(e,t.GeometryUtil.reverse(i),1-a,1-o);a=Math.max(Math.min(a,1),0),o=Math.max(Math.min(o,1),0);var c=i.getLatLngs(),f=t.GeometryUtil.interpolateOnLine(e,i,a),p=t.GeometryUtil.interpolateOnLine(e,i,o);if(a==o){var v=t.GeometryUtil.interpolateOnLine(e,i,o);return[v.latLng]}f.predecessor==-1&&(f.predecessor=0),p.predecessor==-1&&(p.predecessor=0);var b=c.slice(f.predecessor+1,p.predecessor+1);return b.unshift(f.latLng),b.push(p.latLng),b},isBefore:function(e,i){if(!i)return!1;var a=e.getLatLngs(),o=i.getLatLngs();return a[a.length-1].equals(o[0])},isAfter:function(e,i){if(!i)return!1;var a=e.getLatLngs(),o=i.getLatLngs();return a[0].equals(o[o.length-1])},startsAtExtremity:function(e,i){if(!i)return!1;var a=e.getLatLngs(),o=i.getLatLngs(),c=a[0];return c.equals(o[0])||c.equals(o[o.length-1])},computeAngle:function(e,i){return Math.atan2(i.y-e.y,i.x-e.x)*180/Math.PI},computeSlope:function(e,i){var a=(i.y-e.y)/(i.x-e.x),o=e.y-a*e.x;return{a,b:o}},rotatePoint:function(e,i,a,o){var c=e.getMaxZoom();c===1/0&&(c=e.getZoom());var f=a*Math.PI/180,p=e.project(i,c),v=e.project(o,c),b=Math.cos(f)*(p.x-v.x)-Math.sin(f)*(p.y-v.y)+v.x,k=Math.sin(f)*(p.x-v.x)+Math.cos(f)*(p.y-v.y)+v.y;return e.unproject(new t.Point(b,k),c)},bearing:function(e,i){var a=Math.PI/180,o=e.lat*a,c=i.lat*a,f=e.lng*a,p=i.lng*a,v=Math.sin(p-f)*Math.cos(c),b=Math.cos(o)*Math.sin(c)-Math.sin(o)*Math.cos(c)*Math.cos(p-f),k=(Math.atan2(v,b)*180/Math.PI+360)%360;return k>=180?k-360:k},destination:function(e,i,a){i=(i+360)%360;var o=Math.PI/180,c=180/Math.PI,f=t.CRS.Earth.R,p=e.lng*o,v=e.lat*o,b=i*o,k=Math.sin(v),P=Math.cos(v),w=Math.cos(a/f),O=Math.sin(a/f),A=Math.asin(k*w+P*O*Math.cos(b)),I=p+Math.atan2(Math.sin(b)*O*P,w-k*Math.sin(A));return I=I*c,I=I>180?I-360:I<-180?I+360:I,t.latLng([A*c,I])},angle:function(e,i,a){var o=e.latLngToContainerPoint(i),c=e.latLngToContainerPoint(a),f=Math.atan2(c.y-o.y,c.x-o.x)*180/Math.PI+90;return f+=f<0?360:0,f},destinationOnSegment:function(e,i,a,o){var c=t.GeometryUtil.angle(e,i,a),f=t.GeometryUtil.destination(i,c,o);return t.GeometryUtil.closestOnSegment(e,f,i,a)}}),t.GeometryUtil})})(Qf)),Qf.exports}N5();const T5=lt.forwardRef(function({layers:t,visible:e,styles:i},a){const o=lt.useRef(null),[c,f]=lt.useState([]),[p,v]=lt.useState(null),[b,k]=lt.useState(null),[P,w]=lt.useState("osm"),O=lt.useMemo(()=>({lat:-33.45,lng:-70.65}),[]);lt.useImperativeHandle(a,()=>({zoomTo(J){if(o.current)try{const se=Ml.geoJSON(J).getBounds();se.isValid()&&o.current.fitBounds(se,{padding:[20,20]})}catch{}},get leafletMap(){return o.current},get wmsLayers(){return c}}));function A(J){const G=J.shape||J.layer?.pm?._shape||"Geometry";if(G==="Polygon"){const se=Ml.GeometryUtil.geodesicArea(J.layer.getLatLngs()[0]),j=Ml.GeometryUtil.length(J.layer.getLatLngs()[0]);return` Polgono  rea: ${(se/1e4).toFixed(2)} ha | Permetro: ${(j/1e3).toFixed(2)} km`}if(G==="Line"){const se=J.layer.getLatLngs(),j=Ml.GeometryUtil.length(se);return` Lnea  ${j<1e3?j.toFixed(1)+" m":(j/1e3).toFixed(2)} km`}if(G==="Circle"){const se=J.layer.getRadius(),Ae=Math.PI*se*se/1e4;return` Crculo  Radio: ${se.toFixed(1)} m | rea: ${Ae.toFixed(2)} ha`}return""}lt.useEffect(()=>{if(!o.current)return;const J=o.current,G=new Ml.Control.Measure({primaryLengthUnit:"meters",secondaryLengthUnit:"kilometers",primaryAreaUnit:"sqmeters",secondaryAreaUnit:"hectares",activeColor:"#00bcd4",completedColor:"#4caf50"});J._measureControl=G,J.pm&&(J.pm.addControls({position:"topleft",drawCircle:!1,drawMarker:!1,drawText:!1}),J.on("pm:create",se=>{const j=A(se);j&&se.layer.bindPopup(j).openPopup(),v(null)}))},[]);function I(J){o.current&&(o.current.pm.enableDraw(J),v(J))}function B(){if(!o.current)return;const J=o.current;J.pm.disableDraw(),J.eachLayer(G=>{G.pm&&G.pm._shape&&J.removeLayer(G)}),v(null),k({msg:" Geometras eliminadas",type:"info"})}function U(){if(!o.current)return;const J=[[-56,-76],[-17.5,-66]];o.current.fitBounds(J,{padding:[20,20]})}async function Z(){if(o.current){if(!("geolocation"in navigator)){k({msg:" Geolocalizacin no disponible",type:"error"});return}navigator.geolocation.getCurrentPosition(J=>{const G=new ku.LatLng(J.coords.latitude,J.coords.longitude);o.current.setView(G,13),Ml.circleMarker(G,{radius:6}).addTo(o.current),k({msg:" Ubicacin encontrada",type:"success"})},J=>k({msg:" No se pudo obtener tu ubicacin: "+J.message,type:"error"}),{enableHighAccuracy:!0,timeout:1e4})}}const[le,pe]=lt.useState(!1);function ie(){const J=o.current?.getContainer();J&&(document.fullscreenElement?(document.exitFullscreen?.(),pe(!1)):(J.requestFullscreen?.(),pe(!0)))}async function $(){try{const J=t.filter(Ue=>e[Ue.id]);if(J.length===0){k({msg:" No hay capas visibles para exportar",type:"error"});return}const se=`<?xml version="1.0" encoding="UTF-8"?><kml xmlns="http://www.opengis.net/kml/2.2"><Document><name>Pudumaps export</name>${J.map(Ue=>{const je=Ue.geojson.type==="FeatureCollection"?Ue.geojson:{type:"FeatureCollection",features:[Ue.geojson]},Be=x2(je).replace(/^.*?<Document>/s,"").replace(/<\/Document>.*$/s,"");return`<Folder><name>${Me(Ue.name||"Capa")}</name>${Be}</Folder>`}).join(`
`)}</Document></kml>`,j=new v2;j.file("doc.kml",se);const Ae=await j.generateAsync({type:"blob"});ue(Ae,`pudumaps_${Date.now()}.kmz`),k({msg:" Exportado a KMZ",type:"success"})}catch(J){console.error(J),k({msg:" No se pudo exportar KMZ",type:"error"})}}async function Y(){try{if(!o.current){k({msg:" No se encontr el mapa",type:"error"});return}A5(o.current,(J,G)=>{if(J){console.error(J),k({msg:" No se pudo exportar PDF",type:"error"});return}const se=G.toDataURL("image/png"),j=new Bn({orientation:"landscape",unit:"pt",format:"a4"}),Ae=j.internal.pageSize.getWidth(),Ue=G.height/G.width*Ae;j.addImage(se,"PNG",0,0,Ae,Ue),j.save(`pudumaps_${Date.now()}.pdf`),k({msg:" Exportado a PDF",type:"success"})})}catch(J){console.error(J),k({msg:" No se pudo exportar PDF",type:"error"})}}return Ve.jsxs("div",{className:"relative w-full rounded-xl border shadow-lg overflow-hidden",children:[b&&Ve.jsx("div",{className:"fixed top-4 right-4 z-[2000]",children:Ve.jsx(Ym,{message:b.msg,type:b.type,duration:4e3,onClose:()=>k(null)})}),Ve.jsxs("div",{className:"absolute top-2 left-2 z-[1000] flex flex-wrap gap-2 p-2 bg-black/70 backdrop-blur rounded-lg shadow-md max-w-[95vw]",children:[Ve.jsx("button",{onClick:U,className:"btn-map",children:" Chile"}),Ve.jsx("button",{onClick:Z,className:"btn-map",children:""}),Ve.jsx("button",{onClick:ie,className:"btn-map",children:""}),Ve.jsx("button",{onClick:()=>{o.current&&o.current._measureControl&&o.current._measureControl._toggleMeasure()},className:"btn-map",children:" Medir"}),Ve.jsxs("div",{className:"hidden sm:flex gap-2",children:[Ve.jsx("button",{onClick:()=>I("Polygon"),className:`btn-map ${p==="Polygon"?"btn-map-active":""}`,children:" Polgono"}),Ve.jsx("button",{onClick:()=>I("Line"),className:`btn-map ${p==="Line"?"btn-map-active":""}`,children:" Lnea"}),Ve.jsx("button",{onClick:()=>I("Circle"),className:`btn-map ${p==="Circle"?"btn-map-active":""}`,children:" Crculo"}),p&&Ve.jsx("button",{onClick:B,className:"btn-map btn-map-danger",children:" Cancelar"})]}),Ve.jsxs("div",{className:"hidden sm:flex gap-2",children:[Ve.jsx("button",{onClick:$,className:"btn-map btn-map-export btn-map-kmz",children:" KMZ"}),Ve.jsx("button",{onClick:Y,className:"btn-map btn-map-export btn-map-pdf",children:" PDF"})]})]}),Ve.jsxs(d2,{center:[O.lat,O.lng],zoom:5,className:"w-full h-[60vh] sm:h-[70vh] rounded-xl",preferCanvas:!0,zoomControl:!1,ref:J=>{J&&(o.current=J)},children:[Ve.jsx(m2,{position:"bottomright"}),Ve.jsx(p2,{position:"bottomleft"}),Ve.jsx("div",{className:"hidden sm:block",children:Ve.jsxs(Mc,{position:"bottomleft",children:[Ve.jsx(Mc.BaseLayer,{checked:P==="osm",name:"OpenStreetMap",children:Ve.jsx(R0,{attribution:" OpenStreetMap",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",crossOrigin:"anonymous"})}),Ve.jsx(Mc.BaseLayer,{checked:P==="esri",name:"Esri World Imagery",children:Ve.jsx(R0,{attribution:"Tiles  Esri",url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",crossOrigin:"anonymous"})})]})})]})]});function ue(J,G){const se=URL.createObjectURL(J),j=document.createElement("a");j.href=se,j.download=G,j.click(),URL.revokeObjectURL(se)}function Me(J){return J.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}});function O5({layers:s,styles:t,onLocalChange:e}){const[i,a]=lt.useState(!1);return s.length===0?null:Ve.jsxs("div",{className:"mt-4",children:[Ve.jsxs("button",{onClick:()=>a(!i),className:"btn btn-secondary w-full flex justify-between items-center text-sm sm:text-base",children:[" Estilos de capas",Ve.jsx("span",{children:i?"":""})]}),i&&Ve.jsx("div",{className:"mt-4 bg-gray-800 rounded-xl shadow-md p-4 sm:p-6 space-y-6",children:s.map(o=>{const c=t[o.id]||{};return Ve.jsxs("div",{className:"border-b border-gray-700 pb-4 last:border-0 last:pb-0",children:[Ve.jsx("h4",{className:"font-semibold text-gray-100 mb-2 text-sm sm:text-base",children:o.name}),Ve.jsxs("label",{className:"block mb-3 text-xs sm:text-sm text-gray-200",children:["Borde",Ve.jsx("input",{type:"color",value:c.color||"#000000",onChange:f=>e(o.id,{color:f.target.value}),className:"ml-2 w-10 h-6 border border-gray-600 rounded cursor-pointer"})]}),Ve.jsxs("label",{className:"block mb-3 text-xs sm:text-sm text-gray-200",children:["Opacidad",Ve.jsxs("div",{className:"flex items-center gap-2",children:[Ve.jsx("input",{type:"range",min:0,max:1,step:.05,value:c.opacity??1,onChange:f=>e(o.id,{opacity:parseFloat(f.target.value)}),className:"w-full accent-green-500"}),Ve.jsxs("span",{className:"text-gray-300",children:[Math.round((c.opacity??1)*100),"%"]})]})]}),Ve.jsxs("label",{className:"block mb-3 text-xs sm:text-sm text-gray-200",children:["Relleno",Ve.jsxs("div",{className:"flex items-center gap-2",children:[Ve.jsx("input",{type:"color",value:c.fillColor||"#000000",onChange:f=>e(o.id,{fillColor:f.target.value}),className:"w-10 h-6 border border-gray-600 rounded cursor-pointer"}),Ve.jsx("input",{type:"range",min:0,max:1,step:.05,value:c.fillOpacity??.5,onChange:f=>e(o.id,{fillOpacity:parseFloat(f.target.value)}),className:"w-full accent-green-500"}),Ve.jsxs("span",{className:"text-gray-300",children:[Math.round((c.fillOpacity??.5)*100),"%"]})]})]}),Ve.jsxs("label",{className:"block mb-2 text-xs sm:text-sm text-gray-200",children:["Radio",Ve.jsxs("div",{className:"flex items-center gap-2",children:[Ve.jsx("input",{type:"range",min:1,max:20,step:1,value:c.radius??5,onChange:f=>e(o.id,{radius:parseInt(f.target.value)}),className:"w-full accent-green-500"}),Ve.jsxs("span",{className:"text-gray-300",children:[c.radius??5,"px"]})]})]})]},o.id)})})]})}const Ch=[{id:"sernageomin-mineria-19s",url:"https://catastromineronline.sernageomin.cl/arcgismin/services/MINERIA/WMS_PROPIEDAD_MINERA_19S/MapServer/WMSServer",name:" WMS Minero 19S",layer:Ml.tileLayer.wms("https://catastromineronline.sernageomin.cl/arcgismin/services/MINERIA/WMS_PROPIEDAD_MINERA_19S/MapServer/WMSServer",{layers:"0,1,2,3",format:"image/png",transparent:!0,version:"1.3.0"}),visible:!1},{id:"sernageomin-mineria-18s",url:"https://catastromineronline.sernageomin.cl/arcgismin/services/MINERIA/WMS_PROPIEDAD_MINERA_18S/MapServer/WMSServer",name:" WMS Minero 18S",layer:Ml.tileLayer.wms("https://catastromineronline.sernageomin.cl/arcgismin/services/MINERIA/WMS_PROPIEDAD_MINERA_18S/MapServer/WMSServer",{layers:"0,1,2,3",format:"image/png",transparent:!0,version:"1.3.0"}),visible:!1}];function dm({mapRef:s}){const[t,e]=lt.useState(""),[i,a]=lt.useState(""),[o,c]=lt.useState([]),[f,p]=lt.useState({type:null,text:""});lt.useEffect(()=>{c(Ch)},[]);const v=(w,O)=>{p({type:w,text:O}),w!=="loading"&&setTimeout(()=>p({type:null,text:""}),3e3)},b=()=>{const w=s.current?.leafletMap;if(!w||!t.trim())return;const O=t.trim(),A=`${Date.now()}`;v("loading"," Cargando capa...");try{const I=Ml.tileLayer.wms(O,{layers:i||"0",format:"image/png",transparent:!0,version:"1.3.0"});I.addTo(w),c(B=>[...B,{id:A,url:O,name:i||"0",layer:I,visible:!0}]),v("success"," Capa cargada correctamente"),e(""),a("")}catch(I){console.error(I),v("error"," Error al cargar la capa")}},k=w=>{const O=s.current?.leafletMap;O&&c(A=>A.map(I=>I.id===w?(I.visible&&I.layer?O.removeLayer(I.layer):I.layer&&I.layer.addTo(O),{...I,visible:!I.visible}):I))},P=w=>{const O=s.current?.leafletMap;O&&c(A=>{const I=A.find(B=>B.id===w);return I&&I.layer&&O.removeLayer(I.layer),A.filter(B=>B.id!==w)})};return Ve.jsxs("div",{className:"p-5 text-white bg-[#1e293b] h-full flex flex-col rounded-lg",children:[Ve.jsx("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:" Capas externas"}),Ve.jsxs("div",{className:"flex flex-col gap-3 mb-4",children:[Ve.jsx("input",{type:"text",value:t,onChange:w=>e(w.target.value),placeholder:" URL WMS",className:"px-3 py-2 rounded-md text-white border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"}),Ve.jsx("input",{type:"text",value:i,onChange:w=>a(w.target.value),placeholder:" Nombre/ID de capa (ej: 0 o 0,1,2)",className:"px-3 py-2 rounded-md text-white border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"}),Ve.jsx("button",{onClick:b,className:"flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-md font-medium shadow transition",children:" Agregar"})]}),f.type&&Ve.jsx("div",{className:`mb-4 text-sm px-3 py-2 rounded-md font-medium ${f.type==="loading"?"bg-yellow-600":f.type==="success"?"bg-green-600":"bg-red-600"}`,children:f.text}),Ve.jsx("h3",{className:"text-md font-semibold mb-3",children:" Capas activas"}),Ve.jsxs("div",{className:"mb-4",children:[Ve.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Capas Sernageomin"}),Ve.jsx("ul",{className:"space-y-2",children:o.filter(w=>Ch.find(O=>O.id===w.id)).map(w=>Ve.jsx("li",{className:"flex justify-between items-center bg-gray-800 hover:bg-gray-700 px-3 py-2 rounded-md transition",children:Ve.jsxs("label",{className:"flex items-center gap-2 truncate",children:[Ve.jsx("input",{type:"checkbox",checked:w.visible,onChange:()=>k(w.id),className:"accent-blue-500"}),Ve.jsx("span",{className:"truncate",children:w.name})]})},w.id))})]}),Ve.jsxs("div",{children:[Ve.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Capas agregadas manualmente"}),Ve.jsxs("ul",{className:"space-y-2",children:[o.filter(w=>!Ch.find(O=>O.id===w.id)).length===0&&Ve.jsx("li",{className:"text-gray-400 text-sm italic",children:"No hay capas manuales"}),o.filter(w=>!Ch.find(O=>O.id===w.id)).map(w=>Ve.jsxs("li",{className:"flex justify-between items-center bg-gray-800 hover:bg-gray-700 px-3 py-2 rounded-md transition",children:[Ve.jsxs("label",{className:"flex items-center gap-2 truncate",children:[Ve.jsx("input",{type:"checkbox",checked:w.visible,onChange:()=>k(w.id),className:"accent-blue-500"}),Ve.jsx("span",{className:"truncate",children:w.name})]}),Ve.jsx("button",{onClick:()=>P(w.id),className:"bg-red-600 hover:bg-red-700 px-2 py-1 rounded text-xs",children:""})]},w.id))]})]})]})}function D5(){const{projectId:s}=Q1(),[t,e]=lt.useState([]),[i,a]=lt.useState({}),[o,c]=lt.useState({}),[f,p]=lt.useState(!0),[v,b]=lt.useState(null),[k,P]=lt.useState(null),w=lt.useRef(null),[O,A]=lt.useState(!1);async function I(){if(!s)return;p(!0);const{data:ie,error:$}=await Aa.from("project_layers").select("id,name,geojson").eq("project_id",s).order("created_at",{ascending:!1});if($){console.error($),e([]),P($.message),p(!1);return}e(ie||[]);const Y={};for(const ue of ie||[])Y[ue.id]=!0;a(Y),p(!1)}async function B(ie){if(ie.length===0){c({});return}const{data:$,error:Y}=await Aa.from("project_layer_styles").select("layer_id, stroke, weight, opacity, fill, fill_opacity, point_radius").in("layer_id",ie);if(Y){console.error(Y);return}const ue={};for(const Me of ie){const J=$?.find(G=>G.layer_id===Me);ue[Me]={layer_id:Me,color:J?.stroke??"#1f2937",weight:J?.weight??2,opacity:J?.opacity??1,fillColor:J?.fill??"#1f2937",fillOpacity:J?.fill_opacity??.2,radius:J?.point_radius??5}}c(ue)}lt.useEffect(()=>{I()},[s]),lt.useEffect(()=>{B(t.map(ie=>ie.id))},[t]),lt.useEffect(()=>{if(v){const ie=setTimeout(()=>b(null),4e3);return()=>clearTimeout(ie)}},[v]);function U(ie){a($=>({...$,[ie]:!$[ie]}))}async function Z(ie,$){if(!confirm(`Eliminar la capa "${$??ie}"?`))return;const{error:ue}=await Aa.from("project_layers").delete().eq("id",ie);if(ue){alert(ue.message);return}e(Me=>Me.filter(J=>J.id!==ie)),a(Me=>{const J={...Me};return delete J[ie],J}),c(Me=>{const J={...Me};return delete J[ie],J})}function le(ie){w.current?.zoomTo(ie)}function pe(ie,$,Y){c(ue=>({...ue,[ie]:{...ue[ie],...$}}))}return Ve.jsxs("div",{className:"wrap",children:[Ve.jsxs("div",{className:"card flex flex-col lg:flex-row",style:{width:"min(1400px, 98vw)"},children:[Ve.jsxs("div",{className:"flex-1 flex flex-col",children:[Ve.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-3",children:[Ve.jsxs(qh,{to:"/dashboard",className:`inline-flex items-center gap-2 px-3 py-1.5 \r
             text-sm font-medium text-white \r
             bg-gray-700 hover:bg-gray-600 \r
             rounded-lg shadow transition`,children:[Ve.jsx("span",{className:"text-lg",children:""}),"Volver"]}),Ve.jsx("h2",{className:"title text-lg sm:text-xl",children:"Proyecto"}),Ve.jsx("div",{className:"sm:ml-auto w-full sm:w-auto",children:Ve.jsx(Xy,{projectId:s,onLayerAdded:()=>{b(" Capa creada"),I()},onError:ie=>P(ie)})})]}),f&&Ve.jsx("div",{className:"hint text-blue-600 mb-2",children:" Cargando capas..."}),k&&Ve.jsx("div",{className:"hint text-red-700 mb-2",children:k}),v&&Ve.jsx("div",{className:"hint text-green-700 mb-2",children:v}),Ve.jsx(Qy,{layers:t,visible:i,onToggleVisible:U,onZoom:ie=>le(ie.geojson),onDelete:ie=>Z(ie.id,ie.name)}),Ve.jsx(O5,{layers:t,styles:o,onLocalChange:(ie,$)=>pe(ie,$)}),Ve.jsx("div",{style:{flex:1,minHeight:"500px"},children:Ve.jsx(T5,{ref:w,layers:t,visible:i,styles:o})})]}),Ve.jsx("div",{className:"hidden lg:block w-80 bg-[#1e293b] border-l border-gray-700",children:Ve.jsx(dm,{mapRef:w})})]}),Ve.jsx("button",{onClick:()=>A(!0),className:"lg:hidden fixed top-4 right-4 z-[1500] w-12 h-12 flex items-center justify-center rounded-full bg-green-600 hover:bg-green-700 text-white shadow-lg transition","aria-label":"Capas externas",children:""}),O&&Ve.jsxs("div",{className:"fixed inset-0 z-[2000] flex",children:[Ve.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:()=>A(!1)}),Ve.jsxs("aside",{className:`
              relative w-72 bg-[#1e293b] h-full p-4 shadow-xl z-[2000] overflow-y-auto
              transform transition-transform duration-300 ease-in-out
              ${O?"translate-x-0":"translate-x-full"}
            `,children:[Ve.jsxs("div",{className:"flex justify-between items-center mb-4 text-white",children:[Ve.jsx("h2",{className:"font-semibold",children:"Capas externas"}),Ve.jsx("button",{onClick:()=>A(!1),className:"text-gray-400 hover:text-gray-200",children:""})]}),Ve.jsx(dm,{mapRef:w})]})]})]})}function I5(){return Ve.jsx(Ry,{basename:"/",children:Ve.jsxs(py,{children:[Ve.jsx(kc,{path:"/login",element:Ve.jsx(yh,{})}),Ve.jsx(kc,{path:"/dashboard",element:Ve.jsx(D0,{fallback:Ve.jsx(yh,{}),children:s=>Ve.jsx(Yy,{email:s.user.email??"sin-email"})})}),Ve.jsx(kc,{path:"/project/:projectId",element:Ve.jsx(D0,{fallback:Ve.jsx(yh,{}),children:()=>Ve.jsx(D5,{})})}),Ve.jsx(kc,{path:"*",element:Ve.jsx(yh,{})})]})})}g_.createRoot(document.getElementById("root")).render(Ve.jsx(Nc.StrictMode,{children:Ve.jsx(I5,{})}));export{Lr as _,Kl as c,wu as g};
