(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const l of u)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function e(u){const l={};return u.integrity&&(l.integrity=u.integrity),u.referrerPolicy&&(l.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?l.credentials="include":u.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(u){if(u.ep)return;u.ep=!0;const l=e(u);fetch(u.href,l)}})();var Zl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tc(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function im(o){if(Object.prototype.hasOwnProperty.call(o,"__esModule"))return o;var t=o.default;if(typeof t=="function"){var e=function a(){var u=!1;try{u=this instanceof a}catch{}return u?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(o).forEach(function(a){var u=Object.getOwnPropertyDescriptor(o,a);Object.defineProperty(e,a,u.get?u:{enumerable:!0,get:function(){return o[a]}})}),e}var xf={exports:{}},mh={},Lf={exports:{}},er={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up;function Wg(){if(Up)return er;Up=1;var o=Symbol.for("react.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),E=Symbol.iterator;function M(re){return re===null||typeof re!="object"?null:(re=E&&re[E]||re["@@iterator"],typeof re=="function"?re:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,A={};function I(re,j,he){this.props=re,this.context=j,this.refs=A,this.updater=he||x}I.prototype.isReactComponent={},I.prototype.setState=function(re,j){if(typeof re!="object"&&typeof re!="function"&&re!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,re,j,"setState")},I.prototype.forceUpdate=function(re){this.updater.enqueueForceUpdate(this,re,"forceUpdate")};function O(){}O.prototype=I.prototype;function W(re,j,he){this.props=re,this.context=j,this.refs=A,this.updater=he||x}var Z=W.prototype=new O;Z.constructor=W,R(Z,I.prototype),Z.isPureReactComponent=!0;var de=Array.isArray,ve=Object.prototype.hasOwnProperty,Se={current:null},K={key:!0,ref:!0,__self:!0,__source:!0};function X(re,j,he){var fe,pe={},Te=null,Ke=null;if(j!=null)for(fe in j.ref!==void 0&&(Ke=j.ref),j.key!==void 0&&(Te=""+j.key),j)ve.call(j,fe)&&!K.hasOwnProperty(fe)&&(pe[fe]=j[fe]);var We=arguments.length-2;if(We===1)pe.children=he;else if(1<We){for(var Ye=Array(We),Tt=0;Tt<We;Tt++)Ye[Tt]=arguments[Tt+2];pe.children=Ye}if(re&&re.defaultProps)for(fe in We=re.defaultProps,We)pe[fe]===void 0&&(pe[fe]=We[fe]);return{$$typeof:o,type:re,key:Te,ref:Ke,props:pe,_owner:Se.current}}function ge(re,j){return{$$typeof:o,type:re.type,key:j,ref:re.ref,props:re.props,_owner:re._owner}}function Ie(re){return typeof re=="object"&&re!==null&&re.$$typeof===o}function te(re){var j={"=":"=0",":":"=2"};return"$"+re.replace(/[=:]/g,function(he){return j[he]})}var G=/\/+/g;function ae(re,j){return typeof re=="object"&&re!==null&&re.key!=null?te(""+re.key):j.toString(36)}function F(re,j,he,fe,pe){var Te=typeof re;(Te==="undefined"||Te==="boolean")&&(re=null);var Ke=!1;if(re===null)Ke=!0;else switch(Te){case"string":case"number":Ke=!0;break;case"object":switch(re.$$typeof){case o:case t:Ke=!0}}if(Ke)return Ke=re,pe=pe(Ke),re=fe===""?"."+ae(Ke,0):fe,de(pe)?(he="",re!=null&&(he=re.replace(G,"$&/")+"/"),F(pe,j,he,"",function(Tt){return Tt})):pe!=null&&(Ie(pe)&&(pe=ge(pe,he+(!pe.key||Ke&&Ke.key===pe.key?"":(""+pe.key).replace(G,"$&/")+"/")+re)),j.push(pe)),1;if(Ke=0,fe=fe===""?".":fe+":",de(re))for(var We=0;We<re.length;We++){Te=re[We];var Ye=fe+ae(Te,We);Ke+=F(Te,j,he,Ye,pe)}else if(Ye=M(re),typeof Ye=="function")for(re=Ye.call(re),We=0;!(Te=re.next()).done;)Te=Te.value,Ye=fe+ae(Te,We++),Ke+=F(Te,j,he,Ye,pe);else if(Te==="object")throw j=String(re),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(re).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.");return Ke}function Be(re,j,he){if(re==null)return re;var fe=[],pe=0;return F(re,fe,"","",function(Te){return j.call(he,Te,pe++)}),fe}function Ve(re){if(re._status===-1){var j=re._result;j=j(),j.then(function(he){(re._status===0||re._status===-1)&&(re._status=1,re._result=he)},function(he){(re._status===0||re._status===-1)&&(re._status=2,re._result=he)}),re._status===-1&&(re._status=0,re._result=j)}if(re._status===1)return re._result.default;throw re._result}var Fe={current:null},xe={transition:null},Ae={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:xe,ReactCurrentOwner:Se};function Pe(){throw Error("act(...) is not supported in production builds of React.")}return er.Children={map:Be,forEach:function(re,j,he){Be(re,function(){j.apply(this,arguments)},he)},count:function(re){var j=0;return Be(re,function(){j++}),j},toArray:function(re){return Be(re,function(j){return j})||[]},only:function(re){if(!Ie(re))throw Error("React.Children.only expected to receive a single React element child.");return re}},er.Component=I,er.Fragment=e,er.Profiler=u,er.PureComponent=W,er.StrictMode=a,er.Suspense=g,er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ae,er.act=Pe,er.cloneElement=function(re,j,he){if(re==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+re+".");var fe=R({},re.props),pe=re.key,Te=re.ref,Ke=re._owner;if(j!=null){if(j.ref!==void 0&&(Te=j.ref,Ke=Se.current),j.key!==void 0&&(pe=""+j.key),re.type&&re.type.defaultProps)var We=re.type.defaultProps;for(Ye in j)ve.call(j,Ye)&&!K.hasOwnProperty(Ye)&&(fe[Ye]=j[Ye]===void 0&&We!==void 0?We[Ye]:j[Ye])}var Ye=arguments.length-2;if(Ye===1)fe.children=he;else if(1<Ye){We=Array(Ye);for(var Tt=0;Tt<Ye;Tt++)We[Tt]=arguments[Tt+2];fe.children=We}return{$$typeof:o,type:re.type,key:pe,ref:Te,props:fe,_owner:Ke}},er.createContext=function(re){return re={$$typeof:c,_currentValue:re,_currentValue2:re,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},re.Provider={$$typeof:l,_context:re},re.Consumer=re},er.createElement=X,er.createFactory=function(re){var j=X.bind(null,re);return j.type=re,j},er.createRef=function(){return{current:null}},er.forwardRef=function(re){return{$$typeof:p,render:re}},er.isValidElement=Ie,er.lazy=function(re){return{$$typeof:S,_payload:{_status:-1,_result:re},_init:Ve}},er.memo=function(re,j){return{$$typeof:y,type:re,compare:j===void 0?null:j}},er.startTransition=function(re){var j=xe.transition;xe.transition={};try{re()}finally{xe.transition=j}},er.unstable_act=Pe,er.useCallback=function(re,j){return Fe.current.useCallback(re,j)},er.useContext=function(re){return Fe.current.useContext(re)},er.useDebugValue=function(){},er.useDeferredValue=function(re){return Fe.current.useDeferredValue(re)},er.useEffect=function(re,j){return Fe.current.useEffect(re,j)},er.useId=function(){return Fe.current.useId()},er.useImperativeHandle=function(re,j,he){return Fe.current.useImperativeHandle(re,j,he)},er.useInsertionEffect=function(re,j){return Fe.current.useInsertionEffect(re,j)},er.useLayoutEffect=function(re,j){return Fe.current.useLayoutEffect(re,j)},er.useMemo=function(re,j){return Fe.current.useMemo(re,j)},er.useReducer=function(re,j,he){return Fe.current.useReducer(re,j,he)},er.useRef=function(re){return Fe.current.useRef(re)},er.useState=function(re){return Fe.current.useState(re)},er.useSyncExternalStore=function(re,j,he){return Fe.current.useSyncExternalStore(re,j,he)},er.useTransition=function(){return Fe.current.useTransition()},er.version="18.3.1",er}var qp;function kd(){return qp||(qp=1,Lf.exports=Wg()),Lf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp;function Vg(){if(Gp)return mh;Gp=1;var o=kd(),t=Symbol.for("react.element"),e=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,u=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(p,g,y){var S,E={},M=null,x=null;y!==void 0&&(M=""+y),g.key!==void 0&&(M=""+g.key),g.ref!==void 0&&(x=g.ref);for(S in g)a.call(g,S)&&!l.hasOwnProperty(S)&&(E[S]=g[S]);if(p&&p.defaultProps)for(S in g=p.defaultProps,g)E[S]===void 0&&(E[S]=g[S]);return{$$typeof:t,type:p,key:M,ref:x,props:E,_owner:u.current}}return mh.Fragment=e,mh.jsx=c,mh.jsxs=c,mh}var Hp;function $g(){return Hp||(Hp=1,xf.exports=Vg()),xf.exports}var ot=$g(),dt=kd();const Kf=Tc(dt);var oc={},kf={exports:{}},Ja={},Cf={exports:{}},Sf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp;function Zg(){return Wp||(Wp=1,(function(o){function t(xe,Ae){var Pe=xe.length;xe.push(Ae);e:for(;0<Pe;){var re=Pe-1>>>1,j=xe[re];if(0<u(j,Ae))xe[re]=Ae,xe[Pe]=j,Pe=re;else break e}}function e(xe){return xe.length===0?null:xe[0]}function a(xe){if(xe.length===0)return null;var Ae=xe[0],Pe=xe.pop();if(Pe!==Ae){xe[0]=Pe;e:for(var re=0,j=xe.length,he=j>>>1;re<he;){var fe=2*(re+1)-1,pe=xe[fe],Te=fe+1,Ke=xe[Te];if(0>u(pe,Pe))Te<j&&0>u(Ke,pe)?(xe[re]=Ke,xe[Te]=Pe,re=Te):(xe[re]=pe,xe[fe]=Pe,re=fe);else if(Te<j&&0>u(Ke,Pe))xe[re]=Ke,xe[Te]=Pe,re=Te;else break e}}return Ae}function u(xe,Ae){var Pe=xe.sortIndex-Ae.sortIndex;return Pe!==0?Pe:xe.id-Ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;o.unstable_now=function(){return l.now()}}else{var c=Date,p=c.now();o.unstable_now=function(){return c.now()-p}}var g=[],y=[],S=1,E=null,M=3,x=!1,R=!1,A=!1,I=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Z(xe){for(var Ae=e(y);Ae!==null;){if(Ae.callback===null)a(y);else if(Ae.startTime<=xe)a(y),Ae.sortIndex=Ae.expirationTime,t(g,Ae);else break;Ae=e(y)}}function de(xe){if(A=!1,Z(xe),!R)if(e(g)!==null)R=!0,Ve(ve);else{var Ae=e(y);Ae!==null&&Fe(de,Ae.startTime-xe)}}function ve(xe,Ae){R=!1,A&&(A=!1,O(X),X=-1),x=!0;var Pe=M;try{for(Z(Ae),E=e(g);E!==null&&(!(E.expirationTime>Ae)||xe&&!te());){var re=E.callback;if(typeof re=="function"){E.callback=null,M=E.priorityLevel;var j=re(E.expirationTime<=Ae);Ae=o.unstable_now(),typeof j=="function"?E.callback=j:E===e(g)&&a(g),Z(Ae)}else a(g);E=e(g)}if(E!==null)var he=!0;else{var fe=e(y);fe!==null&&Fe(de,fe.startTime-Ae),he=!1}return he}finally{E=null,M=Pe,x=!1}}var Se=!1,K=null,X=-1,ge=5,Ie=-1;function te(){return!(o.unstable_now()-Ie<ge)}function G(){if(K!==null){var xe=o.unstable_now();Ie=xe;var Ae=!0;try{Ae=K(!0,xe)}finally{Ae?ae():(Se=!1,K=null)}}else Se=!1}var ae;if(typeof W=="function")ae=function(){W(G)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,Be=F.port2;F.port1.onmessage=G,ae=function(){Be.postMessage(null)}}else ae=function(){I(G,0)};function Ve(xe){K=xe,Se||(Se=!0,ae())}function Fe(xe,Ae){X=I(function(){xe(o.unstable_now())},Ae)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(xe){xe.callback=null},o.unstable_continueExecution=function(){R||x||(R=!0,Ve(ve))},o.unstable_forceFrameRate=function(xe){0>xe||125<xe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ge=0<xe?Math.floor(1e3/xe):5},o.unstable_getCurrentPriorityLevel=function(){return M},o.unstable_getFirstCallbackNode=function(){return e(g)},o.unstable_next=function(xe){switch(M){case 1:case 2:case 3:var Ae=3;break;default:Ae=M}var Pe=M;M=Ae;try{return xe()}finally{M=Pe}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(xe,Ae){switch(xe){case 1:case 2:case 3:case 4:case 5:break;default:xe=3}var Pe=M;M=xe;try{return Ae()}finally{M=Pe}},o.unstable_scheduleCallback=function(xe,Ae,Pe){var re=o.unstable_now();switch(typeof Pe=="object"&&Pe!==null?(Pe=Pe.delay,Pe=typeof Pe=="number"&&0<Pe?re+Pe:re):Pe=re,xe){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=Pe+j,xe={id:S++,callback:Ae,priorityLevel:xe,startTime:Pe,expirationTime:j,sortIndex:-1},Pe>re?(xe.sortIndex=Pe,t(y,xe),e(g)===null&&xe===e(y)&&(A?(O(X),X=-1):A=!0,Fe(de,Pe-re))):(xe.sortIndex=j,t(g,xe),R||x||(R=!0,Ve(ve))),xe},o.unstable_shouldYield=te,o.unstable_wrapCallback=function(xe){var Ae=M;return function(){var Pe=M;M=Ae;try{return xe.apply(this,arguments)}finally{M=Pe}}}})(Sf)),Sf}var Vp;function Kg(){return Vp||(Vp=1,Cf.exports=Zg()),Cf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function Jg(){if($p)return Ja;$p=1;var o=kd(),t=Kg();function e(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,m=1;m<arguments.length;m++)s+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,u={};function l(n,s){c(n,s),c(n+"Capture",s)}function c(n,s){for(u[n]=s,n=0;n<s.length;n++)a.add(s[n])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,S={},E={};function M(n){return g.call(E,n)?!0:g.call(S,n)?!1:y.test(n)?E[n]=!0:(S[n]=!0,!1)}function x(n,s,m,b){if(m!==null&&m.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return b?!1:m!==null?!m.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function R(n,s,m,b){if(s===null||typeof s>"u"||x(n,s,m,b))return!0;if(b)return!1;if(m!==null)switch(m.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function A(n,s,m,b,N,U,se){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=b,this.attributeNamespace=N,this.mustUseProperty=m,this.propertyName=n,this.type=s,this.sanitizeURL=U,this.removeEmptyString=se}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){I[n]=new A(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];I[s]=new A(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){I[n]=new A(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){I[n]=new A(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){I[n]=new A(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){I[n]=new A(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){I[n]=new A(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){I[n]=new A(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){I[n]=new A(n,5,!1,n.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function W(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(O,W);I[s]=new A(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(O,W);I[s]=new A(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(O,W);I[s]=new A(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){I[n]=new A(n,1,!1,n.toLowerCase(),null,!1,!1)}),I.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){I[n]=new A(n,1,!1,n.toLowerCase(),null,!0,!0)});function Z(n,s,m,b){var N=I.hasOwnProperty(s)?I[s]:null;(N!==null?N.type!==0:b||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(R(s,m,N,b)&&(m=null),b||N===null?M(s)&&(m===null?n.removeAttribute(s):n.setAttribute(s,""+m)):N.mustUseProperty?n[N.propertyName]=m===null?N.type===3?!1:"":m:(s=N.attributeName,b=N.attributeNamespace,m===null?n.removeAttribute(s):(N=N.type,m=N===3||N===4&&m===!0?"":""+m,b?n.setAttributeNS(b,s,m):n.setAttribute(s,m))))}var de=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ve=Symbol.for("react.element"),Se=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),ge=Symbol.for("react.profiler"),Ie=Symbol.for("react.provider"),te=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),Be=Symbol.for("react.memo"),Ve=Symbol.for("react.lazy"),Fe=Symbol.for("react.offscreen"),xe=Symbol.iterator;function Ae(n){return n===null||typeof n!="object"?null:(n=xe&&n[xe]||n["@@iterator"],typeof n=="function"?n:null)}var Pe=Object.assign,re;function j(n){if(re===void 0)try{throw Error()}catch(m){var s=m.stack.trim().match(/\n( *(at )?)/);re=s&&s[1]||""}return`
`+re+n}var he=!1;function fe(n,s){if(!n||he)return"";he=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(St){var b=St}Reflect.construct(n,[],s)}else{try{s.call()}catch(St){b=St}n.call(s.prototype)}else{try{throw Error()}catch(St){b=St}n()}}catch(St){if(St&&b&&typeof St.stack=="string"){for(var N=St.stack.split(`
`),U=b.stack.split(`
`),se=N.length-1,ze=U.length-1;1<=se&&0<=ze&&N[se]!==U[ze];)ze--;for(;1<=se&&0<=ze;se--,ze--)if(N[se]!==U[ze]){if(se!==1||ze!==1)do if(se--,ze--,0>ze||N[se]!==U[ze]){var Qe=`
`+N[se].replace(" at new "," at ");return n.displayName&&Qe.includes("<anonymous>")&&(Qe=Qe.replace("<anonymous>",n.displayName)),Qe}while(1<=se&&0<=ze);break}}}finally{he=!1,Error.prepareStackTrace=m}return(n=n?n.displayName||n.name:"")?j(n):""}function pe(n){switch(n.tag){case 5:return j(n.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return n=fe(n.type,!1),n;case 11:return n=fe(n.type.render,!1),n;case 1:return n=fe(n.type,!0),n;default:return""}}function Te(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case K:return"Fragment";case Se:return"Portal";case ge:return"Profiler";case X:return"StrictMode";case ae:return"Suspense";case F:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case te:return(n.displayName||"Context")+".Consumer";case Ie:return(n._context.displayName||"Context")+".Provider";case G:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Be:return s=n.displayName||null,s!==null?s:Te(n.type)||"Memo";case Ve:s=n._payload,n=n._init;try{return Te(n(s))}catch{}}return null}function Ke(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Te(s);case 8:return s===X?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function We(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ye(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Tt(n){var s=Ye(n)?"checked":"value",m=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),b=""+n[s];if(!n.hasOwnProperty(s)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var N=m.get,U=m.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return N.call(this)},set:function(se){b=""+se,U.call(this,se)}}),Object.defineProperty(n,s,{enumerable:m.enumerable}),{getValue:function(){return b},setValue:function(se){b=""+se},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Ot(n){n._valueTracker||(n._valueTracker=Tt(n))}function Gt(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var m=s.getValue(),b="";return n&&(b=Ye(n)?n.checked?"true":"false":n.value),n=b,n!==m?(s.setValue(n),!0):!1}function qt(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function $(n,s){var m=s.checked;return Pe({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??n._wrapperState.initialChecked})}function je(n,s){var m=s.defaultValue==null?"":s.defaultValue,b=s.checked!=null?s.checked:s.defaultChecked;m=We(s.value!=null?s.value:m),n._wrapperState={initialChecked:b,initialValue:m,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function oe(n,s){s=s.checked,s!=null&&Z(n,"checked",s,!1)}function Ee(n,s){oe(n,s);var m=We(s.value),b=s.type;if(m!=null)b==="number"?(m===0&&n.value===""||n.value!=m)&&(n.value=""+m):n.value!==""+m&&(n.value=""+m);else if(b==="submit"||b==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?Ne(n,s.type,m):s.hasOwnProperty("defaultValue")&&Ne(n,s.type,We(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function we(n,s,m){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var b=s.type;if(!(b!=="submit"&&b!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,m||s===n.value||(n.value=s),n.defaultValue=s}m=n.name,m!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,m!==""&&(n.name=m)}function Ne(n,s,m){(s!=="number"||qt(n.ownerDocument)!==n)&&(m==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+m&&(n.defaultValue=""+m))}var it=Array.isArray;function ut(n,s,m,b){if(n=n.options,s){s={};for(var N=0;N<m.length;N++)s["$"+m[N]]=!0;for(m=0;m<n.length;m++)N=s.hasOwnProperty("$"+n[m].value),n[m].selected!==N&&(n[m].selected=N),N&&b&&(n[m].defaultSelected=!0)}else{for(m=""+We(m),s=null,N=0;N<n.length;N++){if(n[N].value===m){n[N].selected=!0,b&&(n[N].defaultSelected=!0);return}s!==null||n[N].disabled||(s=n[N])}s!==null&&(s.selected=!0)}}function qe(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(e(91));return Pe({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Lt(n,s){var m=s.value;if(m==null){if(m=s.children,s=s.defaultValue,m!=null){if(s!=null)throw Error(e(92));if(it(m)){if(1<m.length)throw Error(e(93));m=m[0]}s=m}s==null&&(s=""),m=s}n._wrapperState={initialValue:We(m)}}function It(n,s){var m=We(s.value),b=We(s.defaultValue);m!=null&&(m=""+m,m!==n.value&&(n.value=m),s.defaultValue==null&&n.defaultValue!==m&&(n.defaultValue=m)),b!=null&&(n.defaultValue=""+b)}function Bt(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function Ut(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function an(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?Ut(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var tn,on=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,m,b,N){MSApp.execUnsafeLocalFunction(function(){return n(s,m,b,N)})}:n})(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(tn=tn||document.createElement("div"),tn.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=tn.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function wn(n,s){if(s){var m=n.firstChild;if(m&&m===n.lastChild&&m.nodeType===3){m.nodeValue=s;return}}n.textContent=s}var Vt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ur=["Webkit","ms","Moz","O"];Object.keys(Vt).forEach(function(n){ur.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),Vt[s]=Vt[n]})});function cn(n,s,m){return s==null||typeof s=="boolean"||s===""?"":m||typeof s!="number"||s===0||Vt.hasOwnProperty(n)&&Vt[n]?(""+s).trim():s+"px"}function Dr(n,s){n=n.style;for(var m in s)if(s.hasOwnProperty(m)){var b=m.indexOf("--")===0,N=cn(m,s[m],b);m==="float"&&(m="cssFloat"),b?n.setProperty(m,N):n[m]=N}}var zn=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jn(n,s){if(s){if(zn[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(e(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(e(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(e(61))}if(s.style!=null&&typeof s.style!="object")throw Error(e(62))}}function Ar(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wn=null;function Ps(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ar=null,Ir=null,Mr=null;function or(n){if(n=js(n)){if(typeof ar!="function")throw Error(e(280));var s=n.stateNode;s&&(s=Ho(s),ar(n.stateNode,n.type,s))}}function En(n){Ir?Mr?Mr.push(n):Mr=[n]:Ir=n}function Yn(){if(Ir){var n=Ir,s=Mr;if(Mr=Ir=null,or(n),s)for(n=0;n<s.length;n++)or(s[n])}}function ma(n,s){return n(s)}function Zr(){}var cs=!1;function Zi(n,s,m){if(cs)return n(s,m);cs=!0;try{return ma(n,s,m)}finally{cs=!1,(Ir!==null||Mr!==null)&&(Zr(),Yn())}}function dn(n,s){var m=n.stateNode;if(m===null)return null;var b=Ho(m);if(b===null)return null;m=b[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(n=n.type,b=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!b;break e;default:n=!1}if(n)return null;if(m&&typeof m!="function")throw Error(e(231,s,typeof m));return m}var Ki=!1;if(p)try{var Ii={};Object.defineProperty(Ii,"passive",{get:function(){Ki=!0}}),window.addEventListener("test",Ii,Ii),window.removeEventListener("test",Ii,Ii)}catch{Ki=!1}function Ri(n,s,m,b,N,U,se,ze,Qe){var St=Array.prototype.slice.call(arguments,3);try{s.apply(m,St)}catch(zt){this.onError(zt)}}var $n=!1,Kt=null,ii=!1,ga=null,As={onError:function(n){$n=!0,Kt=n}};function fs(n,s,m,b,N,U,se,ze,Qe){$n=!1,Kt=null,Ri.apply(As,arguments)}function Ji(n,s,m,b,N,U,se,ze,Qe){if(fs.apply(this,arguments),$n){if($n){var St=Kt;$n=!1,Kt=null}else throw Error(e(198));ii||(ii=!0,ga=St)}}function Kr(n){var s=n,m=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(m=s.return),n=s.return;while(n)}return s.tag===3?m:null}function gi(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function Fi(n){if(Kr(n)!==n)throw Error(e(188))}function qs(n){var s=n.alternate;if(!s){if(s=Kr(n),s===null)throw Error(e(188));return s!==n?null:n}for(var m=n,b=s;;){var N=m.return;if(N===null)break;var U=N.alternate;if(U===null){if(b=N.return,b!==null){m=b;continue}break}if(N.child===U.child){for(U=N.child;U;){if(U===m)return Fi(N),n;if(U===b)return Fi(N),s;U=U.sibling}throw Error(e(188))}if(m.return!==b.return)m=N,b=U;else{for(var se=!1,ze=N.child;ze;){if(ze===m){se=!0,m=N,b=U;break}if(ze===b){se=!0,b=N,m=U;break}ze=ze.sibling}if(!se){for(ze=U.child;ze;){if(ze===m){se=!0,m=U,b=N;break}if(ze===b){se=!0,b=U,m=N;break}ze=ze.sibling}if(!se)throw Error(e(189))}}if(m.alternate!==b)throw Error(e(190))}if(m.tag!==3)throw Error(e(188));return m.stateNode.current===m?n:s}function Ma(n){return n=qs(n),n!==null?Xa(n):null}function Xa(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=Xa(n);if(s!==null)return s;n=n.sibling}return null}var Qa=t.unstable_scheduleCallback,Gs=t.unstable_cancelCallback,Ba=t.unstable_shouldYield,eo=t.unstable_requestPaint,wr=t.unstable_now,wl=t.unstable_getCurrentPriorityLevel,Ta=t.unstable_ImmediatePriority,Io=t.unstable_UserBlockingPriority,_o=t.unstable_NormalPriority,to=t.unstable_LowPriority,Na=t.unstable_IdlePriority,Oa=null,Yi=null;function Xi(n){if(Yi&&typeof Yi.onCommitFiberRoot=="function")try{Yi.onCommitFiberRoot(Oa,n,void 0,(n.current.flags&128)===128)}catch{}}var An=Math.clz32?Math.clz32:_a,Mn=Math.log,Da=Math.LN2;function _a(n){return n>>>=0,n===0?32:31-(Mn(n)/Da|0)|0}var Qi=64,Hs=4194304;function Ln(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Vn(n,s){var m=n.pendingLanes;if(m===0)return 0;var b=0,N=n.suspendedLanes,U=n.pingedLanes,se=m&268435455;if(se!==0){var ze=se&~N;ze!==0?b=Ln(ze):(U&=se,U!==0&&(b=Ln(U)))}else se=m&~N,se!==0?b=Ln(se):U!==0&&(b=Ln(U));if(b===0)return 0;if(s!==0&&s!==b&&(s&N)===0&&(N=b&-b,U=s&-s,N>=U||N===16&&(U&4194240)!==0))return s;if((b&4)!==0&&(b|=m&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=b;0<s;)m=31-An(s),N=1<<m,b|=n[m],s&=~N;return b}function Ia(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function si(n,s){for(var m=n.suspendedLanes,b=n.pingedLanes,N=n.expirationTimes,U=n.pendingLanes;0<U;){var se=31-An(U),ze=1<<se,Qe=N[se];Qe===-1?((ze&m)===0||(ze&b)!==0)&&(N[se]=Ia(ze,s)):Qe<=s&&(n.expiredLanes|=ze),U&=~ze}}function Jr(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Ro(){var n=Qi;return Qi<<=1,(Qi&4194240)===0&&(Qi=64),n}function Ra(n){for(var s=[],m=0;31>m;m++)s.push(n);return s}function ji(n,s,m){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-An(s),n[s]=m}function kr(n,s){var m=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var b=n.eventTimes;for(n=n.expirationTimes;0<m;){var N=31-An(m),U=1<<N;s[N]=0,b[N]=-1,n[N]=-1,m&=~U}}function ds(n,s){var m=n.entangledLanes|=s;for(n=n.entanglements;m;){var b=31-An(m),N=1<<b;N&s|n[b]&s&&(n[b]|=s),m&=~N}}var Gn=0;function Ws(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var vo,Vs,yo,ps,$s,Zs=!1,va=[],dr=null,Ms=null,es=null,bn=new Map,xn=new Map,zr=[],Hn="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wo(n,s){switch(n){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":Ms=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":bn.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":xn.delete(s.pointerId)}}function Ks(n,s,m,b,N,U){return n===null||n.nativeEvent!==U?(n={blockedOn:s,domEventName:m,eventSystemFlags:b,nativeEvent:U,targetContainers:[N]},s!==null&&(s=js(s),s!==null&&Vs(s)),n):(n.eventSystemFlags|=b,s=n.targetContainers,N!==null&&s.indexOf(N)===-1&&s.push(N),n)}function Fa(n,s,m,b,N){switch(s){case"focusin":return dr=Ks(dr,n,s,m,b,N),!0;case"dragenter":return Ms=Ks(Ms,n,s,m,b,N),!0;case"mouseover":return es=Ks(es,n,s,m,b,N),!0;case"pointerover":var U=N.pointerId;return bn.set(U,Ks(bn.get(U)||null,n,s,m,b,N)),!0;case"gotpointercapture":return U=N.pointerId,xn.set(U,Ks(xn.get(U)||null,n,s,m,b,N)),!0}return!1}function ts(n){var s=Wa(n.target);if(s!==null){var m=Kr(s);if(m!==null){if(s=m.tag,s===13){if(s=gi(m),s!==null){n.blockedOn=s,$s(n.priority,function(){yo(m)});return}}else if(s===3&&m.stateNode.current.memoizedState.isDehydrated){n.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ms(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var m=so(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(m===null){m=n.nativeEvent;var b=new m.constructor(m.type,m);Wn=b,m.target.dispatchEvent(b),Wn=null}else return s=js(m),s!==null&&Vs(s),n.blockedOn=m,!1;s.shift()}return!0}function bo(n,s,m){ms(n)&&m.delete(s)}function no(){Zs=!1,dr!==null&&ms(dr)&&(dr=null),Ms!==null&&ms(Ms)&&(Ms=null),es!==null&&ms(es)&&(es=null),bn.forEach(bo),xn.forEach(bo)}function gr(n,s){n.blockedOn===s&&(n.blockedOn=null,Zs||(Zs=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,no)))}function ai(n){function s(N){return gr(N,n)}if(0<va.length){gr(va[0],n);for(var m=1;m<va.length;m++){var b=va[m];b.blockedOn===n&&(b.blockedOn=null)}}for(dr!==null&&gr(dr,n),Ms!==null&&gr(Ms,n),es!==null&&gr(es,n),bn.forEach(s),xn.forEach(s),m=0;m<zr.length;m++)b=zr[m],b.blockedOn===n&&(b.blockedOn=null);for(;0<zr.length&&(m=zr[0],m.blockedOn===null);)ts(m),m.blockedOn===null&&zr.shift()}var zi=de.ReactCurrentBatchConfig,ro=!0;function io(n,s,m,b){var N=Gn,U=zi.transition;zi.transition=null;try{Gn=1,Js(n,s,m,b)}finally{Gn=N,zi.transition=U}}function xo(n,s,m,b){var N=Gn,U=zi.transition;zi.transition=null;try{Gn=4,Js(n,s,m,b)}finally{Gn=N,zi.transition=U}}function Js(n,s,m,b){if(ro){var N=so(n,s,m,b);if(N===null)r(n,s,b,Ys,m),wo(n,b);else if(Fa(N,n,s,m,b))b.stopPropagation();else if(wo(n,b),s&4&&-1<Hn.indexOf(n)){for(;N!==null;){var U=js(N);if(U!==null&&vo(U),U=so(n,s,m,b),U===null&&r(n,s,b,Ys,m),U===N)break;N=U}N!==null&&b.stopPropagation()}else r(n,s,b,null,m)}}var Ys=null;function so(n,s,m,b){if(Ys=null,n=Ps(b),n=Wa(n),n!==null)if(s=Kr(n),s===null)n=null;else if(m=s.tag,m===13){if(n=gi(s),n!==null)return n;n=null}else if(m===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return Ys=n,null}function In(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wl()){case Ta:return 1;case Io:return 4;case _o:case to:return 16;case Na:return 536870912;default:return 16}default:return 16}}var gs=null,gn=null,Yr=null;function ja(){if(Yr)return Yr;var n,s=gn,m=s.length,b,N="value"in gs?gs.value:gs.textContent,U=N.length;for(n=0;n<m&&s[n]===N[n];n++);var se=m-n;for(b=1;b<=se&&s[m-b]===N[U-b];b++);return Yr=N.slice(n,1<b?1-b:void 0)}function Bs(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function oi(){return!0}function Lo(){return!1}function Cr(n){function s(m,b,N,U,se){this._reactName=m,this._targetInst=N,this.type=b,this.nativeEvent=U,this.target=se,this.currentTarget=null;for(var ze in n)n.hasOwnProperty(ze)&&(m=n[ze],this[ze]=m?m(U):U[ze]);return this.isDefaultPrevented=(U.defaultPrevented!=null?U.defaultPrevented:U.returnValue===!1)?oi:Lo,this.isPropagationStopped=Lo,this}return Pe(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=oi)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=oi)},persist:function(){},isPersistent:oi}),s}var Ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},za=Cr(Ts),_i=Pe({},Ts,{view:0,detail:0}),ko=Cr(_i),Br,Co,Ns,ki=Pe({},_i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jt,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ns&&(Ns&&n.type==="mousemove"?(Br=n.screenX-Ns.screenX,Co=n.screenY-Ns.screenY):Co=Br=0,Ns=n),Br)},movementY:function(n){return"movementY"in n?n.movementY:Co}}),ao=Cr(ki),Fo=Pe({},ki,{dataTransfer:0}),jo=Cr(Fo),So=Pe({},_i,{relatedTarget:0}),Xs=Cr(So),oo=Pe({},Ts,{animationName:0,elapsedTime:0,pseudoElement:0}),Ua=Cr(oo),Tr=Pe({},Ts,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),P=Cr(Tr),ne=Pe({},Ts,{data:0}),De=Cr(ne),$e={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ct={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ft(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=kt[n])?!!s[n]:!1}function Jt(){return Ft}var en=Pe({},_i,{key:function(n){if(n.key){var s=$e[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Bs(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ct[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jt,charCode:function(n){return n.type==="keypress"?Bs(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Bs(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),_n=Cr(en),kn=Pe({},ki,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rn=Cr(kn),_r=Pe({},_i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jt}),Zn=Cr(_r),rr=Pe({},Ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ur=Cr(rr),Rr=Pe({},ki,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),ns=Cr(Rr),hr=[9,13,27,32],li=p&&"CompositionEvent"in window,qa=null;p&&"documentMode"in document&&(qa=document.documentMode);var Ci=p&&"TextEvent"in window&&!qa,Eo=p&&(!li||qa&&8<qa&&11>=qa),_s=" ",Po=!1;function Qs(n,s){switch(n){case"keyup":return hr.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ea(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var vr=!1;function Ao(n,s){switch(n){case"compositionend":return ea(s);case"keypress":return s.which!==32?null:(Po=!0,_s);case"textInput":return n=s.data,n===_s&&Po?null:n;default:return null}}function Ui(n,s){if(vr)return n==="compositionend"||!li&&Qs(n,s)?(n=ja(),Yr=gn=gs=null,vr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Eo&&s.locale!=="ko"?null:s.data;default:return null}}var Si={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lo(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Si[n.type]:s==="textarea"}function ui(n,s,m,b){En(b),s=w(s,"onChange"),0<s.length&&(m=new za("onChange","change",null,m,b),n.push({event:m,listeners:s}))}var rs=null,hi=null;function ll(n){as(n,0)}function Sr(n){var s=La(n);if(Gt(s))return n}function ta(n,s){if(n==="change")return s}var is=!1;if(p){var ya;if(p){var Os="oninput"in document;if(!Os){var Ds=document.createElement("div");Ds.setAttribute("oninput","return;"),Os=typeof Ds.oninput=="function"}ya=Os}else ya=!1;is=ya&&(!document.documentMode||9<document.documentMode)}function Xr(){rs&&(rs.detachEvent("onpropertychange",qr),hi=rs=null)}function qr(n){if(n.propertyName==="value"&&Sr(hi)){var s=[];ui(s,hi,n,Ps(n)),Zi(ll,s)}}function Is(n,s,m){n==="focusin"?(Xr(),rs=s,hi=m,rs.attachEvent("onpropertychange",qr)):n==="focusout"&&Xr()}function qi(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Sr(hi)}function vs(n,s){if(n==="click")return Sr(s)}function wa(n,s){if(n==="input"||n==="change")return Sr(s)}function ys(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Xn=typeof Object.is=="function"?Object.is:ys;function Gi(n,s){if(Xn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var m=Object.keys(n),b=Object.keys(s);if(m.length!==b.length)return!1;for(b=0;b<m.length;b++){var N=m[b];if(!g.call(s,N)||!Xn(n[N],s[N]))return!1}return!0}function vi(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ci(n,s){var m=vi(n);n=0;for(var b;m;){if(m.nodeType===3){if(b=n+m.textContent.length,n<=s&&b>=s)return{node:m,offset:s-n};n=b}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=vi(m)}}function Ga(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Ga(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Mo(){for(var n=window,s=qt();s instanceof n.HTMLIFrameElement;){try{var m=typeof s.contentWindow.location.href=="string"}catch{m=!1}if(m)n=s.contentWindow;else break;s=qt(n.document)}return s}function uo(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function yi(n){var s=Mo(),m=n.focusedElem,b=n.selectionRange;if(s!==m&&m&&m.ownerDocument&&Ga(m.ownerDocument.documentElement,m)){if(b!==null&&uo(m)){if(s=b.start,n=b.end,n===void 0&&(n=s),"selectionStart"in m)m.selectionStart=s,m.selectionEnd=Math.min(n,m.value.length);else if(n=(s=m.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var N=m.textContent.length,U=Math.min(b.start,N);b=b.end===void 0?U:Math.min(b.end,N),!n.extend&&U>b&&(N=b,b=U,U=N),N=ci(m,U);var se=ci(m,b);N&&se&&(n.rangeCount!==1||n.anchorNode!==N.node||n.anchorOffset!==N.offset||n.focusNode!==se.node||n.focusOffset!==se.offset)&&(s=s.createRange(),s.setStart(N.node,N.offset),n.removeAllRanges(),U>b?(n.addRange(s),n.extend(se.node,se.offset)):(s.setEnd(se.node,se.offset),n.addRange(s)))}}for(s=[],n=m;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<s.length;m++)n=s[m],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Hi=p&&"documentMode"in document&&11>=document.documentMode,ss=null,ws=null,na=null,ra=!1;function ba(n,s,m){var b=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;ra||ss==null||ss!==qt(b)||(b=ss,"selectionStart"in b&&uo(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),na&&Gi(na,b)||(na=b,b=w(ws,"onSelect"),0<b.length&&(s=new za("onSelect","select",null,s,m),n.push({event:s,listeners:b}),s.target=ss)))}function bs(n,s){var m={};return m[n.toLowerCase()]=s.toLowerCase(),m["Webkit"+n]="webkit"+s,m["Moz"+n]="moz"+s,m}var fi={animationend:bs("Animation","AnimationEnd"),animationiteration:bs("Animation","AnimationIteration"),animationstart:bs("Animation","AnimationStart"),transitionend:bs("Transition","TransitionEnd")},Gr={},ir={};p&&(ir=document.createElement("div").style,"AnimationEvent"in window||(delete fi.animationend.animation,delete fi.animationiteration.animation,delete fi.animationstart.animation),"TransitionEvent"in window||delete fi.transitionend.transition);function Qn(n){if(Gr[n])return Gr[n];if(!fi[n])return n;var s=fi[n],m;for(m in s)if(s.hasOwnProperty(m)&&m in ir)return Gr[n]=s[m];return n}var Er=Qn("animationend"),lr=Qn("animationiteration"),xs=Qn("animationstart"),xa=Qn("transitionend"),Rs=new Map,zo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ei(n,s){Rs.set(n,s),l(s,[n])}for(var Nr=0;Nr<zo.length;Nr++){var sr=zo[Nr],Wi=sr.toLowerCase(),Vi=sr[0].toUpperCase()+sr.slice(1);Ei(Wi,"on"+Vi)}Ei(Er,"onAnimationEnd"),Ei(lr,"onAnimationIteration"),Ei(xs,"onAnimationStart"),Ei("dblclick","onDoubleClick"),Ei("focusin","onFocus"),Ei("focusout","onBlur"),Ei(xa,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uo=new Set("cancel close invalid load scroll toggle".split(" ").concat(yn));function Ha(n,s,m){var b=n.type||"unknown-event";n.currentTarget=m,Ji(b,s,void 0,n),n.currentTarget=null}function as(n,s){s=(s&4)!==0;for(var m=0;m<n.length;m++){var b=n[m],N=b.event;b=b.listeners;e:{var U=void 0;if(s)for(var se=b.length-1;0<=se;se--){var ze=b[se],Qe=ze.instance,St=ze.currentTarget;if(ze=ze.listener,Qe!==U&&N.isPropagationStopped())break e;Ha(N,ze,St),U=Qe}else for(se=0;se<b.length;se++){if(ze=b[se],Qe=ze.instance,St=ze.currentTarget,ze=ze.listener,Qe!==U&&N.isPropagationStopped())break e;Ha(N,ze,St),U=Qe}}}if(ii)throw n=ga,ii=!1,ga=null,n}function Pn(n,s){var m=s[ni];m===void 0&&(m=s[ni]=new Set);var b=n+"__bubble";m.has(b)||(Fs(s,n,2,!1),m.add(b))}function qo(n,s,m){var b=0;s&&(b|=4),Fs(m,n,b,s)}var Qr="_reactListening"+Math.random().toString(36).slice(2);function Hr(n){if(!n[Qr]){n[Qr]=!0,a.forEach(function(m){m!=="selectionchange"&&(Uo.has(m)||qo(m,!1,n),qo(m,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Qr]||(s[Qr]=!0,qo("selectionchange",!1,s))}}function Fs(n,s,m,b){switch(In(s)){case 1:var N=io;break;case 4:N=xo;break;default:N=Js}m=N.bind(null,s,m,n),N=void 0,!Ki||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(N=!0),b?N!==void 0?n.addEventListener(s,m,{capture:!0,passive:N}):n.addEventListener(s,m,!0):N!==void 0?n.addEventListener(s,m,{passive:N}):n.addEventListener(s,m,!1)}function r(n,s,m,b,N){var U=b;if((s&1)===0&&(s&2)===0&&b!==null)e:for(;;){if(b===null)return;var se=b.tag;if(se===3||se===4){var ze=b.stateNode.containerInfo;if(ze===N||ze.nodeType===8&&ze.parentNode===N)break;if(se===4)for(se=b.return;se!==null;){var Qe=se.tag;if((Qe===3||Qe===4)&&(Qe=se.stateNode.containerInfo,Qe===N||Qe.nodeType===8&&Qe.parentNode===N))return;se=se.return}for(;ze!==null;){if(se=Wa(ze),se===null)return;if(Qe=se.tag,Qe===5||Qe===6){b=U=se;continue e}ze=ze.parentNode}}b=b.return}Zi(function(){var St=U,zt=Ps(m),Ht=[];e:{var jt=Rs.get(n);if(jt!==void 0){var sn=za,un=n;switch(n){case"keypress":if(Bs(m)===0)break e;case"keydown":case"keyup":sn=_n;break;case"focusin":un="focus",sn=Xs;break;case"focusout":un="blur",sn=Xs;break;case"beforeblur":case"afterblur":sn=Xs;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":sn=ao;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":sn=jo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":sn=Zn;break;case Er:case lr:case xs:sn=Ua;break;case xa:sn=Ur;break;case"scroll":sn=ko;break;case"wheel":sn=ns;break;case"copy":case"cut":case"paste":sn=P;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":sn=Rn}var fn=(s&4)!==0,Ti=!fn&&n==="scroll",wt=fn?jt!==null?jt+"Capture":null:jt;fn=[];for(var st=St,bt;st!==null;){bt=st;var $t=bt.stateNode;if(bt.tag===5&&$t!==null&&(bt=$t,wt!==null&&($t=dn(st,wt),$t!=null&&fn.push(f(st,$t,bt)))),Ti)break;st=st.return}0<fn.length&&(jt=new sn(jt,un,null,m,zt),Ht.push({event:jt,listeners:fn}))}}if((s&7)===0){e:{if(jt=n==="mouseover"||n==="pointerover",sn=n==="mouseout"||n==="pointerout",jt&&m!==Wn&&(un=m.relatedTarget||m.fromElement)&&(Wa(un)||un[Un]))break e;if((sn||jt)&&(jt=zt.window===zt?zt:(jt=zt.ownerDocument)?jt.defaultView||jt.parentWindow:window,sn?(un=m.relatedTarget||m.toElement,sn=St,un=un?Wa(un):null,un!==null&&(Ti=Kr(un),un!==Ti||un.tag!==5&&un.tag!==6)&&(un=null)):(sn=null,un=St),sn!==un)){if(fn=ao,$t="onMouseLeave",wt="onMouseEnter",st="mouse",(n==="pointerout"||n==="pointerover")&&(fn=Rn,$t="onPointerLeave",wt="onPointerEnter",st="pointer"),Ti=sn==null?jt:La(sn),bt=un==null?jt:La(un),jt=new fn($t,st+"leave",sn,m,zt),jt.target=Ti,jt.relatedTarget=bt,$t=null,Wa(zt)===St&&(fn=new fn(wt,st+"enter",un,m,zt),fn.target=bt,fn.relatedTarget=Ti,$t=fn),Ti=$t,sn&&un)t:{for(fn=sn,wt=un,st=0,bt=fn;bt;bt=T(bt))st++;for(bt=0,$t=wt;$t;$t=T($t))bt++;for(;0<st-bt;)fn=T(fn),st--;for(;0<bt-st;)wt=T(wt),bt--;for(;st--;){if(fn===wt||wt!==null&&fn===wt.alternate)break t;fn=T(fn),wt=T(wt)}fn=null}else fn=null;sn!==null&&V(Ht,jt,sn,fn,!1),un!==null&&Ti!==null&&V(Ht,Ti,un,fn,!0)}}e:{if(jt=St?La(St):window,sn=jt.nodeName&&jt.nodeName.toLowerCase(),sn==="select"||sn==="input"&&jt.type==="file")var vn=ta;else if(lo(jt))if(is)vn=wa;else{vn=qi;var Cn=Is}else(sn=jt.nodeName)&&sn.toLowerCase()==="input"&&(jt.type==="checkbox"||jt.type==="radio")&&(vn=vs);if(vn&&(vn=vn(n,St))){ui(Ht,vn,m,zt);break e}Cn&&Cn(n,jt,St),n==="focusout"&&(Cn=jt._wrapperState)&&Cn.controlled&&jt.type==="number"&&Ne(jt,"number",jt.value)}switch(Cn=St?La(St):window,n){case"focusin":(lo(Cn)||Cn.contentEditable==="true")&&(ss=Cn,ws=St,na=null);break;case"focusout":na=ws=ss=null;break;case"mousedown":ra=!0;break;case"contextmenu":case"mouseup":case"dragend":ra=!1,ba(Ht,m,zt);break;case"selectionchange":if(Hi)break;case"keydown":case"keyup":ba(Ht,m,zt)}var Sn;if(li)e:{switch(n){case"compositionstart":var Nn="onCompositionStart";break e;case"compositionend":Nn="onCompositionEnd";break e;case"compositionupdate":Nn="onCompositionUpdate";break e}Nn=void 0}else vr?Qs(n,m)&&(Nn="onCompositionEnd"):n==="keydown"&&m.keyCode===229&&(Nn="onCompositionStart");Nn&&(Eo&&m.locale!=="ko"&&(vr||Nn!=="onCompositionStart"?Nn==="onCompositionEnd"&&vr&&(Sn=ja()):(gs=zt,gn="value"in gs?gs.value:gs.textContent,vr=!0)),Cn=w(St,Nn),0<Cn.length&&(Nn=new De(Nn,n,null,m,zt),Ht.push({event:Nn,listeners:Cn}),Sn?Nn.data=Sn:(Sn=ea(m),Sn!==null&&(Nn.data=Sn)))),(Sn=Ci?Ao(n,m):Ui(n,m))&&(St=w(St,"onBeforeInput"),0<St.length&&(zt=new De("onBeforeInput","beforeinput",null,m,zt),Ht.push({event:zt,listeners:St}),zt.data=Sn))}as(Ht,s)})}function f(n,s,m){return{instance:n,listener:s,currentTarget:m}}function w(n,s){for(var m=s+"Capture",b=[];n!==null;){var N=n,U=N.stateNode;N.tag===5&&U!==null&&(N=U,U=dn(n,m),U!=null&&b.unshift(f(n,U,N)),U=dn(n,s),U!=null&&b.push(f(n,U,N))),n=n.return}return b}function T(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function V(n,s,m,b,N){for(var U=s._reactName,se=[];m!==null&&m!==b;){var ze=m,Qe=ze.alternate,St=ze.stateNode;if(Qe!==null&&Qe===b)break;ze.tag===5&&St!==null&&(ze=St,N?(Qe=dn(m,U),Qe!=null&&se.unshift(f(m,Qe,ze))):N||(Qe=dn(m,U),Qe!=null&&se.push(f(m,Qe,ze)))),m=m.return}se.length!==0&&n.push({event:s,listeners:se})}var le=/\r\n?/g,He=/\u0000|\uFFFD/g;function mt(n){return(typeof n=="string"?n:""+n).replace(le,`
`).replace(He,"")}function xt(n,s,m){if(s=mt(s),mt(n)!==s&&m)throw Error(e(425))}function Rt(){}var Yt=null,pn=null;function On(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var di=typeof setTimeout=="function"?setTimeout:void 0,Wr=typeof clearTimeout=="function"?clearTimeout:void 0,Pi=typeof Promise=="function"?Promise:void 0,Pr=typeof queueMicrotask=="function"?queueMicrotask:typeof Pi<"u"?function(n){return Pi.resolve(null).then(n).catch(ia)}:di;function ia(n){setTimeout(function(){throw n})}function Go(n,s){var m=s,b=0;do{var N=m.nextSibling;if(n.removeChild(m),N&&N.nodeType===8)if(m=N.data,m==="/$"){if(b===0){n.removeChild(N),ai(s);return}b--}else m!=="$"&&m!=="$?"&&m!=="$!"||b++;m=N}while(m);ai(s)}function ei(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function os(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var m=n.data;if(m==="$"||m==="$!"||m==="$?"){if(s===0)return n;s--}else m==="/$"&&s++}n=n.previousSibling}return null}var ti=Math.random().toString(36).slice(2),sa="__reactFiber$"+ti,ho="__reactProps$"+ti,Un="__reactContainer$"+ti,ni="__reactEvents$"+ti,eu="__reactListeners$"+ti,aa="__reactHandles$"+ti;function Wa(n){var s=n[sa];if(s)return s;for(var m=n.parentNode;m;){if(s=m[Un]||m[sa]){if(m=s.alternate,s.child!==null||m!==null&&m.child!==null)for(n=os(n);n!==null;){if(m=n[sa])return m;n=os(n)}return s}n=m,m=n.parentNode}return null}function js(n){return n=n[sa]||n[Un],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function La(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(e(33))}function Ho(n){return n[ho]||null}var Tl=[],co=-1;function oa(n){return{current:n}}function cr(n){0>co||(n.current=Tl[co],Tl[co]=null,co--)}function pr(n,s){co++,Tl[co]=n.current,n.current=s}var Bo={},Vr=oa(Bo),Ai=oa(!1),Wo=Bo;function ul(n,s){var m=n.type.contextTypes;if(!m)return Bo;var b=n.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===s)return b.__reactInternalMemoizedMaskedChildContext;var N={},U;for(U in m)N[U]=s[U];return b&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=N),N}function Mi(n){return n=n.childContextTypes,n!=null}function Vo(){cr(Ai),cr(Vr)}function tu(n,s,m){if(Vr.current!==Bo)throw Error(e(168));pr(Vr,s),pr(Ai,m)}function nu(n,s,m){var b=n.stateNode;if(s=s.childContextTypes,typeof b.getChildContext!="function")return m;b=b.getChildContext();for(var N in b)if(!(N in s))throw Error(e(108,Ke(n)||"Unknown",N));return Pe({},m,b)}function $o(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Bo,Wo=Vr.current,pr(Vr,n),pr(Ai,Ai.current),!0}function ru(n,s,m){var b=n.stateNode;if(!b)throw Error(e(169));m?(n=nu(n,s,Wo),b.__reactInternalMemoizedMergedChildContext=n,cr(Ai),cr(Vr),pr(Vr,n)):cr(Ai),pr(Ai,m)}var Va=null,bl=!1,_=!1;function C(n){Va===null?Va=[n]:Va.push(n)}function D(n){bl=!0,C(n)}function H(){if(!_&&Va!==null){_=!0;var n=0,s=Gn;try{var m=Va;for(Gn=1;n<m.length;n++){var b=m[n];do b=b(!0);while(b!==null)}Va=null,bl=!1}catch(N){throw Va!==null&&(Va=Va.slice(n+1)),Qa(Ta,H),N}finally{Gn=s,_=!1}}return null}var Q=[],ie=0,ue=null,_e=0,ye=[],Ce=0,Je=null,_t=1,vt="";function at(n,s){Q[ie++]=_e,Q[ie++]=ue,ue=n,_e=s}function Pt(n,s,m){ye[Ce++]=_t,ye[Ce++]=vt,ye[Ce++]=Je,Je=n;var b=_t;n=vt;var N=32-An(b)-1;b&=~(1<<N),m+=1;var U=32-An(s)+N;if(30<U){var se=N-N%5;U=(b&(1<<se)-1).toString(32),b>>=se,N-=se,_t=1<<32-An(s)+N|m<<N|b,vt=U+n}else _t=1<<U|m<<N|b,vt=n}function Ct(n){n.return!==null&&(at(n,1),Pt(n,1,0))}function et(n){for(;n===ue;)ue=Q[--ie],Q[ie]=null,_e=Q[--ie],Q[ie]=null;for(;n===Je;)Je=ye[--Ce],ye[Ce]=null,vt=ye[--Ce],ye[Ce]=null,_t=ye[--Ce],ye[Ce]=null}var tt=null,At=null,Mt=!1,Nt=null;function Qt(n,s){var m=Do(5,null,null,0);m.elementType="DELETED",m.stateNode=s,m.return=n,s=n.deletions,s===null?(n.deletions=[m],n.flags|=16):s.push(m)}function i(n,s){switch(n.tag){case 5:var m=n.type;return s=s.nodeType!==1||m.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,tt=n,At=ei(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,tt=n,At=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(m=Je!==null?{id:_t,overflow:vt}:null,n.memoizedState={dehydrated:s,treeContext:m,retryLane:1073741824},m=Do(18,null,null,0),m.stateNode=s,m.return=n,n.child=m,tt=n,At=null,!0):!1;default:return!1}}function h(n){return(n.mode&1)!==0&&(n.flags&128)===0}function d(n){if(Mt){var s=At;if(s){var m=s;if(!i(n,s)){if(h(n))throw Error(e(418));s=ei(m.nextSibling);var b=tt;s&&i(n,s)?Qt(b,m):(n.flags=n.flags&-4097|2,Mt=!1,tt=n)}}else{if(h(n))throw Error(e(418));n.flags=n.flags&-4097|2,Mt=!1,tt=n}}}function v(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;tt=n}function k(n){if(n!==tt)return!1;if(!Mt)return v(n),Mt=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!On(n.type,n.memoizedProps)),s&&(s=At)){if(h(n))throw B(),Error(e(418));for(;s;)Qt(n,s),s=ei(s.nextSibling)}if(v(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(e(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var m=n.data;if(m==="/$"){if(s===0){At=ei(n.nextSibling);break e}s--}else m!=="$"&&m!=="$!"&&m!=="$?"||s++}n=n.nextSibling}At=null}}else At=tt?ei(n.stateNode.nextSibling):null;return!0}function B(){for(var n=At;n;)n=ei(n.nextSibling)}function z(){At=tt=null,Mt=!1}function q(n){Nt===null?Nt=[n]:Nt.push(n)}var J=de.ReactCurrentBatchConfig;function ee(n,s,m){if(n=m.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(e(309));var b=m.stateNode}if(!b)throw Error(e(147,n));var N=b,U=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===U?s.ref:(s=function(se){var ze=N.refs;se===null?delete ze[U]:ze[U]=se},s._stringRef=U,s)}if(typeof n!="string")throw Error(e(284));if(!m._owner)throw Error(e(290,n))}return n}function Re(n,s){throw n=Object.prototype.toString.call(s),Error(e(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function Me(n){var s=n._init;return s(n._payload)}function lt(n){function s(wt,st){if(n){var bt=wt.deletions;bt===null?(wt.deletions=[st],wt.flags|=16):bt.push(st)}}function m(wt,st){if(!n)return null;for(;st!==null;)s(wt,st),st=st.sibling;return null}function b(wt,st){for(wt=new Map;st!==null;)st.key!==null?wt.set(st.key,st):wt.set(st.index,st),st=st.sibling;return wt}function N(wt,st){return wt=Ul(wt,st),wt.index=0,wt.sibling=null,wt}function U(wt,st,bt){return wt.index=bt,n?(bt=wt.alternate,bt!==null?(bt=bt.index,bt<st?(wt.flags|=2,st):bt):(wt.flags|=2,st)):(wt.flags|=1048576,st)}function se(wt){return n&&wt.alternate===null&&(wt.flags|=2),wt}function ze(wt,st,bt,$t){return st===null||st.tag!==6?(st=gf(bt,wt.mode,$t),st.return=wt,st):(st=N(st,bt),st.return=wt,st)}function Qe(wt,st,bt,$t){var vn=bt.type;return vn===K?zt(wt,st,bt.props.children,$t,bt.key):st!==null&&(st.elementType===vn||typeof vn=="object"&&vn!==null&&vn.$$typeof===Ve&&Me(vn)===st.type)?($t=N(st,bt.props),$t.ref=ee(wt,st,bt),$t.return=wt,$t):($t=Qh(bt.type,bt.key,bt.props,null,wt.mode,$t),$t.ref=ee(wt,st,bt),$t.return=wt,$t)}function St(wt,st,bt,$t){return st===null||st.tag!==4||st.stateNode.containerInfo!==bt.containerInfo||st.stateNode.implementation!==bt.implementation?(st=_f(bt,wt.mode,$t),st.return=wt,st):(st=N(st,bt.children||[]),st.return=wt,st)}function zt(wt,st,bt,$t,vn){return st===null||st.tag!==7?(st=cu(bt,wt.mode,$t,vn),st.return=wt,st):(st=N(st,bt),st.return=wt,st)}function Ht(wt,st,bt){if(typeof st=="string"&&st!==""||typeof st=="number")return st=gf(""+st,wt.mode,bt),st.return=wt,st;if(typeof st=="object"&&st!==null){switch(st.$$typeof){case ve:return bt=Qh(st.type,st.key,st.props,null,wt.mode,bt),bt.ref=ee(wt,null,st),bt.return=wt,bt;case Se:return st=_f(st,wt.mode,bt),st.return=wt,st;case Ve:var $t=st._init;return Ht(wt,$t(st._payload),bt)}if(it(st)||Ae(st))return st=cu(st,wt.mode,bt,null),st.return=wt,st;Re(wt,st)}return null}function jt(wt,st,bt,$t){var vn=st!==null?st.key:null;if(typeof bt=="string"&&bt!==""||typeof bt=="number")return vn!==null?null:ze(wt,st,""+bt,$t);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case ve:return bt.key===vn?Qe(wt,st,bt,$t):null;case Se:return bt.key===vn?St(wt,st,bt,$t):null;case Ve:return vn=bt._init,jt(wt,st,vn(bt._payload),$t)}if(it(bt)||Ae(bt))return vn!==null?null:zt(wt,st,bt,$t,null);Re(wt,bt)}return null}function sn(wt,st,bt,$t,vn){if(typeof $t=="string"&&$t!==""||typeof $t=="number")return wt=wt.get(bt)||null,ze(st,wt,""+$t,vn);if(typeof $t=="object"&&$t!==null){switch($t.$$typeof){case ve:return wt=wt.get($t.key===null?bt:$t.key)||null,Qe(st,wt,$t,vn);case Se:return wt=wt.get($t.key===null?bt:$t.key)||null,St(st,wt,$t,vn);case Ve:var Cn=$t._init;return sn(wt,st,bt,Cn($t._payload),vn)}if(it($t)||Ae($t))return wt=wt.get(bt)||null,zt(st,wt,$t,vn,null);Re(st,$t)}return null}function un(wt,st,bt,$t){for(var vn=null,Cn=null,Sn=st,Nn=st=0,Cs=null;Sn!==null&&Nn<bt.length;Nn++){Sn.index>Nn?(Cs=Sn,Sn=null):Cs=Sn.sibling;var mr=jt(wt,Sn,bt[Nn],$t);if(mr===null){Sn===null&&(Sn=Cs);break}n&&Sn&&mr.alternate===null&&s(wt,Sn),st=U(mr,st,Nn),Cn===null?vn=mr:Cn.sibling=mr,Cn=mr,Sn=Cs}if(Nn===bt.length)return m(wt,Sn),Mt&&at(wt,Nn),vn;if(Sn===null){for(;Nn<bt.length;Nn++)Sn=Ht(wt,bt[Nn],$t),Sn!==null&&(st=U(Sn,st,Nn),Cn===null?vn=Sn:Cn.sibling=Sn,Cn=Sn);return Mt&&at(wt,Nn),vn}for(Sn=b(wt,Sn);Nn<bt.length;Nn++)Cs=sn(Sn,wt,Nn,bt[Nn],$t),Cs!==null&&(n&&Cs.alternate!==null&&Sn.delete(Cs.key===null?Nn:Cs.key),st=U(Cs,st,Nn),Cn===null?vn=Cs:Cn.sibling=Cs,Cn=Cs);return n&&Sn.forEach(function(ql){return s(wt,ql)}),Mt&&at(wt,Nn),vn}function fn(wt,st,bt,$t){var vn=Ae(bt);if(typeof vn!="function")throw Error(e(150));if(bt=vn.call(bt),bt==null)throw Error(e(151));for(var Cn=vn=null,Sn=st,Nn=st=0,Cs=null,mr=bt.next();Sn!==null&&!mr.done;Nn++,mr=bt.next()){Sn.index>Nn?(Cs=Sn,Sn=null):Cs=Sn.sibling;var ql=jt(wt,Sn,mr.value,$t);if(ql===null){Sn===null&&(Sn=Cs);break}n&&Sn&&ql.alternate===null&&s(wt,Sn),st=U(ql,st,Nn),Cn===null?vn=ql:Cn.sibling=ql,Cn=ql,Sn=Cs}if(mr.done)return m(wt,Sn),Mt&&at(wt,Nn),vn;if(Sn===null){for(;!mr.done;Nn++,mr=bt.next())mr=Ht(wt,mr.value,$t),mr!==null&&(st=U(mr,st,Nn),Cn===null?vn=mr:Cn.sibling=mr,Cn=mr);return Mt&&at(wt,Nn),vn}for(Sn=b(wt,Sn);!mr.done;Nn++,mr=bt.next())mr=sn(Sn,wt,Nn,mr.value,$t),mr!==null&&(n&&mr.alternate!==null&&Sn.delete(mr.key===null?Nn:mr.key),st=U(mr,st,Nn),Cn===null?vn=mr:Cn.sibling=mr,Cn=mr);return n&&Sn.forEach(function(Hg){return s(wt,Hg)}),Mt&&at(wt,Nn),vn}function Ti(wt,st,bt,$t){if(typeof bt=="object"&&bt!==null&&bt.type===K&&bt.key===null&&(bt=bt.props.children),typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case ve:e:{for(var vn=bt.key,Cn=st;Cn!==null;){if(Cn.key===vn){if(vn=bt.type,vn===K){if(Cn.tag===7){m(wt,Cn.sibling),st=N(Cn,bt.props.children),st.return=wt,wt=st;break e}}else if(Cn.elementType===vn||typeof vn=="object"&&vn!==null&&vn.$$typeof===Ve&&Me(vn)===Cn.type){m(wt,Cn.sibling),st=N(Cn,bt.props),st.ref=ee(wt,Cn,bt),st.return=wt,wt=st;break e}m(wt,Cn);break}else s(wt,Cn);Cn=Cn.sibling}bt.type===K?(st=cu(bt.props.children,wt.mode,$t,bt.key),st.return=wt,wt=st):($t=Qh(bt.type,bt.key,bt.props,null,wt.mode,$t),$t.ref=ee(wt,st,bt),$t.return=wt,wt=$t)}return se(wt);case Se:e:{for(Cn=bt.key;st!==null;){if(st.key===Cn)if(st.tag===4&&st.stateNode.containerInfo===bt.containerInfo&&st.stateNode.implementation===bt.implementation){m(wt,st.sibling),st=N(st,bt.children||[]),st.return=wt,wt=st;break e}else{m(wt,st);break}else s(wt,st);st=st.sibling}st=_f(bt,wt.mode,$t),st.return=wt,wt=st}return se(wt);case Ve:return Cn=bt._init,Ti(wt,st,Cn(bt._payload),$t)}if(it(bt))return un(wt,st,bt,$t);if(Ae(bt))return fn(wt,st,bt,$t);Re(wt,bt)}return typeof bt=="string"&&bt!==""||typeof bt=="number"?(bt=""+bt,st!==null&&st.tag===6?(m(wt,st.sibling),st=N(st,bt),st.return=wt,wt=st):(m(wt,st),st=gf(bt,wt.mode,$t),st.return=wt,wt=st),se(wt)):m(wt,st)}return Ti}var gt=lt(!0),Et=lt(!1),Wt=oa(null),Zt=null,mn=null,Oe=null;function Ue(){Oe=mn=Zt=null}function nt(n){var s=Wt.current;cr(Wt),n._currentValue=s}function yt(n,s,m){for(;n!==null;){var b=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,b!==null&&(b.childLanes|=s)):b!==null&&(b.childLanes&s)!==s&&(b.childLanes|=s),n===m)break;n=n.return}}function rt(n,s){Zt=n,Oe=mn=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&($a=!0),n.firstContext=null)}function ft(n){var s=n._currentValue;if(Oe!==n)if(n={context:n,memoizedValue:s,next:null},mn===null){if(Zt===null)throw Error(e(308));mn=n,Zt.dependencies={lanes:0,firstContext:n}}else mn=mn.next=n;return s}var Y=null;function ce(n){Y===null?Y=[n]:Y.push(n)}function be(n,s,m,b){var N=s.interleaved;return N===null?(m.next=m,ce(s)):(m.next=N.next,N.next=m),s.interleaved=m,me(n,b)}function me(n,s){n.lanes|=s;var m=n.alternate;for(m!==null&&(m.lanes|=s),m=n,n=n.return;n!==null;)n.childLanes|=s,m=n.alternate,m!==null&&(m.childLanes|=s),m=n,n=n.return;return m.tag===3?m.stateNode:null}var Le=!1;function ke(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ze(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ge(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function Xe(n,s,m){var b=n.updateQueue;if(b===null)return null;if(b=b.shared,(fr&2)!==0){var N=b.pending;return N===null?s.next=s:(s.next=N.next,N.next=s),b.pending=s,me(n,m)}return N=b.interleaved,N===null?(s.next=s,ce(b)):(s.next=N.next,N.next=s),b.interleaved=s,me(n,m)}function pt(n,s,m){if(s=s.updateQueue,s!==null&&(s=s.shared,(m&4194240)!==0)){var b=s.lanes;b&=n.pendingLanes,m|=b,s.lanes=m,ds(n,m)}}function ht(n,s){var m=n.updateQueue,b=n.alternate;if(b!==null&&(b=b.updateQueue,m===b)){var N=null,U=null;if(m=m.firstBaseUpdate,m!==null){do{var se={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};U===null?N=U=se:U=U.next=se,m=m.next}while(m!==null);U===null?N=U=s:U=U.next=s}else N=U=s;m={baseState:b.baseState,firstBaseUpdate:N,lastBaseUpdate:U,shared:b.shared,effects:b.effects},n.updateQueue=m;return}n=m.lastBaseUpdate,n===null?m.firstBaseUpdate=s:n.next=s,m.lastBaseUpdate=s}function Dt(n,s,m,b){var N=n.updateQueue;Le=!1;var U=N.firstBaseUpdate,se=N.lastBaseUpdate,ze=N.shared.pending;if(ze!==null){N.shared.pending=null;var Qe=ze,St=Qe.next;Qe.next=null,se===null?U=St:se.next=St,se=Qe;var zt=n.alternate;zt!==null&&(zt=zt.updateQueue,ze=zt.lastBaseUpdate,ze!==se&&(ze===null?zt.firstBaseUpdate=St:ze.next=St,zt.lastBaseUpdate=Qe))}if(U!==null){var Ht=N.baseState;se=0,zt=St=Qe=null,ze=U;do{var jt=ze.lane,sn=ze.eventTime;if((b&jt)===jt){zt!==null&&(zt=zt.next={eventTime:sn,lane:0,tag:ze.tag,payload:ze.payload,callback:ze.callback,next:null});e:{var un=n,fn=ze;switch(jt=s,sn=m,fn.tag){case 1:if(un=fn.payload,typeof un=="function"){Ht=un.call(sn,Ht,jt);break e}Ht=un;break e;case 3:un.flags=un.flags&-65537|128;case 0:if(un=fn.payload,jt=typeof un=="function"?un.call(sn,Ht,jt):un,jt==null)break e;Ht=Pe({},Ht,jt);break e;case 2:Le=!0}}ze.callback!==null&&ze.lane!==0&&(n.flags|=64,jt=N.effects,jt===null?N.effects=[ze]:jt.push(ze))}else sn={eventTime:sn,lane:jt,tag:ze.tag,payload:ze.payload,callback:ze.callback,next:null},zt===null?(St=zt=sn,Qe=Ht):zt=zt.next=sn,se|=jt;if(ze=ze.next,ze===null){if(ze=N.shared.pending,ze===null)break;jt=ze,ze=jt.next,jt.next=null,N.lastBaseUpdate=jt,N.shared.pending=null}}while(!0);if(zt===null&&(Qe=Ht),N.baseState=Qe,N.firstBaseUpdate=St,N.lastBaseUpdate=zt,s=N.shared.interleaved,s!==null){N=s;do se|=N.lane,N=N.next;while(N!==s)}else U===null&&(N.shared.lanes=0);ou|=se,n.lanes=se,n.memoizedState=Ht}}function Xt(n,s,m){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var b=n[s],N=b.callback;if(N!==null){if(b.callback=null,b=m,typeof N!="function")throw Error(e(191,N));N.call(b)}}}var nn={},rn=oa(nn),Kn=oa(nn),Jn=oa(nn);function Dn(n){if(n===nn)throw Error(e(174));return n}function tr(n,s){switch(pr(Jn,s),pr(Kn,n),pr(rn,nn),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:an(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=an(s,n)}cr(rn),pr(rn,s)}function br(){cr(rn),cr(Kn),cr(Jn)}function xl(n){Dn(Jn.current);var s=Dn(rn.current),m=an(s,n.type);s!==m&&(pr(Kn,n),pr(rn,m))}function Ll(n){Kn.current===n&&(cr(rn),cr(Kn))}var yr=oa(0);function ri(n){for(var s=n;s!==null;){if(s.tag===13){var m=s.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Zo=[];function Ls(){for(var n=0;n<Zo.length;n++)Zo[n]._workInProgressVersionPrimary=null;Zo.length=0}var wi=de.ReactCurrentDispatcher,xr=de.ReactCurrentBatchConfig,To=0,Fr=null,bi=null,pi=null,Nl=!1,Ko=!1,Ol=0,Uc=0;function Bi(){throw Error(e(321))}function xu(n,s){if(s===null)return!1;for(var m=0;m<s.length&&m<n.length;m++)if(!Xn(n[m],s[m]))return!1;return!0}function iu(n,s,m,b,N,U){if(To=U,Fr=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,wi.current=n===null||n.memoizedState===null?gg:_g,n=m(b,N),Ko){U=0;do{if(Ko=!1,Ol=0,25<=U)throw Error(e(301));U+=1,pi=bi=null,s.updateQueue=null,wi.current=vg,n=m(b,N)}while(Ko)}if(wi.current=jh,s=bi!==null&&bi.next!==null,To=0,pi=bi=Fr=null,Nl=!1,s)throw Error(e(300));return n}function No(){var n=Ol!==0;return Ol=0,n}function fo(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pi===null?Fr.memoizedState=pi=n:pi=pi.next=n,pi}function ka(){if(bi===null){var n=Fr.alternate;n=n!==null?n.memoizedState:null}else n=bi.next;var s=pi===null?Fr.memoizedState:pi.next;if(s!==null)pi=s,bi=n;else{if(n===null)throw Error(e(310));bi=n,n={memoizedState:bi.memoizedState,baseState:bi.baseState,baseQueue:bi.baseQueue,queue:bi.queue,next:null},pi===null?Fr.memoizedState=pi=n:pi=pi.next=n}return pi}function su(n,s){return typeof s=="function"?s(n):s}function Lu(n){var s=ka(),m=s.queue;if(m===null)throw Error(e(311));m.lastRenderedReducer=n;var b=bi,N=b.baseQueue,U=m.pending;if(U!==null){if(N!==null){var se=N.next;N.next=U.next,U.next=se}b.baseQueue=N=U,m.pending=null}if(N!==null){U=N.next,b=b.baseState;var ze=se=null,Qe=null,St=U;do{var zt=St.lane;if((To&zt)===zt)Qe!==null&&(Qe=Qe.next={lane:0,action:St.action,hasEagerState:St.hasEagerState,eagerState:St.eagerState,next:null}),b=St.hasEagerState?St.eagerState:n(b,St.action);else{var Ht={lane:zt,action:St.action,hasEagerState:St.hasEagerState,eagerState:St.eagerState,next:null};Qe===null?(ze=Qe=Ht,se=b):Qe=Qe.next=Ht,Fr.lanes|=zt,ou|=zt}St=St.next}while(St!==null&&St!==U);Qe===null?se=b:Qe.next=ze,Xn(b,s.memoizedState)||($a=!0),s.memoizedState=b,s.baseState=se,s.baseQueue=Qe,m.lastRenderedState=b}if(n=m.interleaved,n!==null){N=n;do U=N.lane,Fr.lanes|=U,ou|=U,N=N.next;while(N!==n)}else N===null&&(m.lanes=0);return[s.memoizedState,m.dispatch]}function hl(n){var s=ka(),m=s.queue;if(m===null)throw Error(e(311));m.lastRenderedReducer=n;var b=m.dispatch,N=m.pending,U=s.memoizedState;if(N!==null){m.pending=null;var se=N=N.next;do U=n(U,se.action),se=se.next;while(se!==N);Xn(U,s.memoizedState)||($a=!0),s.memoizedState=U,s.baseQueue===null&&(s.baseState=U),m.lastRenderedState=U}return[U,b]}function Dh(){}function oh(n,s){var m=Fr,b=ka(),N=s(),U=!Xn(b.memoizedState,N);if(U&&(b.memoizedState=N,$a=!0),b=b.queue,Su(Rh.bind(null,m,b,n),[n]),b.getSnapshot!==s||U||pi!==null&&pi.memoizedState.tag&1){if(m.flags|=2048,Ca(9,lh.bind(null,m,b,N,s),void 0,null),ks===null)throw Error(e(349));(To&30)!==0||Ih(m,s,N)}return N}function Ih(n,s,m){n.flags|=16384,n={getSnapshot:s,value:m},s=Fr.updateQueue,s===null?(s={lastEffect:null,stores:null},Fr.updateQueue=s,s.stores=[n]):(m=s.stores,m===null?s.stores=[n]:m.push(n))}function lh(n,s,m,b){s.value=m,s.getSnapshot=b,Dl(s)&&ku(n)}function Rh(n,s,m){return m(function(){Dl(s)&&ku(n)})}function Dl(n){var s=n.getSnapshot;n=n.value;try{var m=s();return!Xn(n,m)}catch{return!0}}function ku(n){var s=me(n,1);s!==null&&el(s,n,1,-1)}function au(n){var s=fo();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:su,lastRenderedState:n},s.queue=n,n=n.dispatch=mg.bind(null,Fr,n),[s.memoizedState,n]}function Ca(n,s,m,b){return n={tag:n,create:s,destroy:m,deps:b,next:null},s=Fr.updateQueue,s===null?(s={lastEffect:null,stores:null},Fr.updateQueue=s,s.lastEffect=n.next=n):(m=s.lastEffect,m===null?s.lastEffect=n.next=n:(b=m.next,m.next=n,n.next=b,s.lastEffect=n)),n}function Jo(){return ka().memoizedState}function po(n,s,m,b){var N=fo();Fr.flags|=n,N.memoizedState=Ca(1|s,m,void 0,b===void 0?null:b)}function kl(n,s,m,b){var N=ka();b=b===void 0?null:b;var U=void 0;if(bi!==null){var se=bi.memoizedState;if(U=se.destroy,b!==null&&xu(b,se.deps)){N.memoizedState=Ca(s,m,U,b);return}}Fr.flags|=n,N.memoizedState=Ca(1|s,m,U,b)}function Cu(n,s){return po(8390656,8,n,s)}function Su(n,s){return kl(2048,8,n,s)}function Fh(n,s){return kl(4,2,n,s)}function Eu(n,s){return kl(4,4,n,s)}function Pu(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function jd(n,s,m){return m=m!=null?m.concat([n]):null,kl(4,4,Pu.bind(null,s,n),m)}function qc(){}function zd(n,s){var m=ka();s=s===void 0?null:s;var b=m.memoizedState;return b!==null&&s!==null&&xu(s,b[1])?b[0]:(m.memoizedState=[n,s],n)}function Ud(n,s){var m=ka();s=s===void 0?null:s;var b=m.memoizedState;return b!==null&&s!==null&&xu(s,b[1])?b[0]:(n=n(),m.memoizedState=[n,s],n)}function qd(n,s,m){return(To&21)===0?(n.baseState&&(n.baseState=!1,$a=!0),n.memoizedState=m):(Xn(m,s)||(m=Ro(),Fr.lanes|=m,ou|=m,n.baseState=!0),s)}function dg(n,s){var m=Gn;Gn=m!==0&&4>m?m:4,n(!0);var b=xr.transition;xr.transition={};try{n(!1),s()}finally{Gn=m,xr.transition=b}}function Gd(){return ka().memoizedState}function pg(n,s,m){var b=jl(n);if(m={lane:b,action:m,hasEagerState:!1,eagerState:null,next:null},Hd(n))Wd(s,m);else if(m=be(n,s,m,b),m!==null){var N=Ea();el(m,n,b,N),Vd(m,s,b)}}function mg(n,s,m){var b=jl(n),N={lane:b,action:m,hasEagerState:!1,eagerState:null,next:null};if(Hd(n))Wd(s,N);else{var U=n.alternate;if(n.lanes===0&&(U===null||U.lanes===0)&&(U=s.lastRenderedReducer,U!==null))try{var se=s.lastRenderedState,ze=U(se,m);if(N.hasEagerState=!0,N.eagerState=ze,Xn(ze,se)){var Qe=s.interleaved;Qe===null?(N.next=N,ce(s)):(N.next=Qe.next,Qe.next=N),s.interleaved=N;return}}catch{}finally{}m=be(n,s,N,b),m!==null&&(N=Ea(),el(m,n,b,N),Vd(m,s,b))}}function Hd(n){var s=n.alternate;return n===Fr||s!==null&&s===Fr}function Wd(n,s){Ko=Nl=!0;var m=n.pending;m===null?s.next=s:(s.next=m.next,m.next=s),n.pending=s}function Vd(n,s,m){if((m&4194240)!==0){var b=s.lanes;b&=n.pendingLanes,m|=b,s.lanes=m,ds(n,m)}}var jh={readContext:ft,useCallback:Bi,useContext:Bi,useEffect:Bi,useImperativeHandle:Bi,useInsertionEffect:Bi,useLayoutEffect:Bi,useMemo:Bi,useReducer:Bi,useRef:Bi,useState:Bi,useDebugValue:Bi,useDeferredValue:Bi,useTransition:Bi,useMutableSource:Bi,useSyncExternalStore:Bi,useId:Bi,unstable_isNewReconciler:!1},gg={readContext:ft,useCallback:function(n,s){return fo().memoizedState=[n,s===void 0?null:s],n},useContext:ft,useEffect:Cu,useImperativeHandle:function(n,s,m){return m=m!=null?m.concat([n]):null,po(4194308,4,Pu.bind(null,s,n),m)},useLayoutEffect:function(n,s){return po(4194308,4,n,s)},useInsertionEffect:function(n,s){return po(4,2,n,s)},useMemo:function(n,s){var m=fo();return s=s===void 0?null:s,n=n(),m.memoizedState=[n,s],n},useReducer:function(n,s,m){var b=fo();return s=m!==void 0?m(s):s,b.memoizedState=b.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},b.queue=n,n=n.dispatch=pg.bind(null,Fr,n),[b.memoizedState,n]},useRef:function(n){var s=fo();return n={current:n},s.memoizedState=n},useState:au,useDebugValue:qc,useDeferredValue:function(n){return fo().memoizedState=n},useTransition:function(){var n=au(!1),s=n[0];return n=dg.bind(null,n[1]),fo().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,m){var b=Fr,N=fo();if(Mt){if(m===void 0)throw Error(e(407));m=m()}else{if(m=s(),ks===null)throw Error(e(349));(To&30)!==0||Ih(b,s,m)}N.memoizedState=m;var U={value:m,getSnapshot:s};return N.queue=U,Cu(Rh.bind(null,b,U,n),[n]),b.flags|=2048,Ca(9,lh.bind(null,b,U,m,s),void 0,null),m},useId:function(){var n=fo(),s=ks.identifierPrefix;if(Mt){var m=vt,b=_t;m=(b&~(1<<32-An(b)-1)).toString(32)+m,s=":"+s+"R"+m,m=Ol++,0<m&&(s+="H"+m.toString(32)),s+=":"}else m=Uc++,s=":"+s+"r"+m.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},_g={readContext:ft,useCallback:zd,useContext:ft,useEffect:Su,useImperativeHandle:jd,useInsertionEffect:Fh,useLayoutEffect:Eu,useMemo:Ud,useReducer:Lu,useRef:Jo,useState:function(){return Lu(su)},useDebugValue:qc,useDeferredValue:function(n){var s=ka();return qd(s,bi.memoizedState,n)},useTransition:function(){var n=Lu(su)[0],s=ka().memoizedState;return[n,s]},useMutableSource:Dh,useSyncExternalStore:oh,useId:Gd,unstable_isNewReconciler:!1},vg={readContext:ft,useCallback:zd,useContext:ft,useEffect:Su,useImperativeHandle:jd,useInsertionEffect:Fh,useLayoutEffect:Eu,useMemo:Ud,useReducer:hl,useRef:Jo,useState:function(){return hl(su)},useDebugValue:qc,useDeferredValue:function(n){var s=ka();return bi===null?s.memoizedState=n:qd(s,bi.memoizedState,n)},useTransition:function(){var n=hl(su)[0],s=ka().memoizedState;return[n,s]},useMutableSource:Dh,useSyncExternalStore:oh,useId:Gd,unstable_isNewReconciler:!1};function Yo(n,s){if(n&&n.defaultProps){s=Pe({},s),n=n.defaultProps;for(var m in n)s[m]===void 0&&(s[m]=n[m]);return s}return s}function Gc(n,s,m,b){s=n.memoizedState,m=m(b,s),m=m==null?s:Pe({},s,m),n.memoizedState=m,n.lanes===0&&(n.updateQueue.baseState=m)}var zh={isMounted:function(n){return(n=n._reactInternals)?Kr(n)===n:!1},enqueueSetState:function(n,s,m){n=n._reactInternals;var b=Ea(),N=jl(n),U=Ge(b,N);U.payload=s,m!=null&&(U.callback=m),s=Xe(n,U,N),s!==null&&(el(s,n,N,b),pt(s,n,N))},enqueueReplaceState:function(n,s,m){n=n._reactInternals;var b=Ea(),N=jl(n),U=Ge(b,N);U.tag=1,U.payload=s,m!=null&&(U.callback=m),s=Xe(n,U,N),s!==null&&(el(s,n,N,b),pt(s,n,N))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var m=Ea(),b=jl(n),N=Ge(m,b);N.tag=2,s!=null&&(N.callback=s),s=Xe(n,N,b),s!==null&&(el(s,n,b,m),pt(s,n,b))}};function $d(n,s,m,b,N,U,se){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(b,U,se):s.prototype&&s.prototype.isPureReactComponent?!Gi(m,b)||!Gi(N,U):!0}function Zd(n,s,m){var b=!1,N=Bo,U=s.contextType;return typeof U=="object"&&U!==null?U=ft(U):(N=Mi(s)?Wo:Vr.current,b=s.contextTypes,U=(b=b!=null)?ul(n,N):Bo),s=new s(m,U),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=zh,n.stateNode=s,s._reactInternals=n,b&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=N,n.__reactInternalMemoizedMaskedChildContext=U),s}function Kd(n,s,m,b){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(m,b),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(m,b),s.state!==n&&zh.enqueueReplaceState(s,s.state,null)}function Hc(n,s,m,b){var N=n.stateNode;N.props=m,N.state=n.memoizedState,N.refs={},ke(n);var U=s.contextType;typeof U=="object"&&U!==null?N.context=ft(U):(U=Mi(s)?Wo:Vr.current,N.context=ul(n,U)),N.state=n.memoizedState,U=s.getDerivedStateFromProps,typeof U=="function"&&(Gc(n,s,U,m),N.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(s=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),s!==N.state&&zh.enqueueReplaceState(N,N.state,null),Dt(n,m,N,b),N.state=n.memoizedState),typeof N.componentDidMount=="function"&&(n.flags|=4194308)}function Au(n,s){try{var m="",b=s;do m+=pe(b),b=b.return;while(b);var N=m}catch(U){N=`
Error generating stack: `+U.message+`
`+U.stack}return{value:n,source:s,stack:N,digest:null}}function Wc(n,s,m){return{value:n,source:null,stack:m??null,digest:s??null}}function Vc(n,s){try{console.error(s.value)}catch(m){setTimeout(function(){throw m})}}var yg=typeof WeakMap=="function"?WeakMap:Map;function Jd(n,s,m){m=Ge(-1,m),m.tag=3,m.payload={element:null};var b=s.value;return m.callback=function(){$h||($h=!0,lf=b),Vc(n,s)},m}function Yd(n,s,m){m=Ge(-1,m),m.tag=3;var b=n.type.getDerivedStateFromError;if(typeof b=="function"){var N=s.value;m.payload=function(){return b(N)},m.callback=function(){Vc(n,s)}}var U=n.stateNode;return U!==null&&typeof U.componentDidCatch=="function"&&(m.callback=function(){Vc(n,s),typeof b!="function"&&(Rl===null?Rl=new Set([this]):Rl.add(this));var se=s.stack;this.componentDidCatch(s.value,{componentStack:se!==null?se:""})}),m}function Xd(n,s,m){var b=n.pingCache;if(b===null){b=n.pingCache=new yg;var N=new Set;b.set(s,N)}else N=b.get(s),N===void 0&&(N=new Set,b.set(s,N));N.has(m)||(N.add(m),n=Ng.bind(null,n,s,m),s.then(n,n))}function Qd(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function ep(n,s,m,b,N){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(s=Ge(-1,1),s.tag=2,Xe(m,s,1))),m.lanes|=1),n):(n.flags|=65536,n.lanes=N,n)}var wg=de.ReactCurrentOwner,$a=!1;function Sa(n,s,m,b){s.child=n===null?Et(s,null,m,b):gt(s,n.child,m,b)}function tp(n,s,m,b,N){m=m.render;var U=s.ref;return rt(s,N),b=iu(n,s,m,b,U,N),m=No(),n!==null&&!$a?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~N,Cl(n,s,N)):(Mt&&m&&Ct(s),s.flags|=1,Sa(n,s,b,N),s.child)}function np(n,s,m,b,N){if(n===null){var U=m.type;return typeof U=="function"&&!mf(U)&&U.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(s.tag=15,s.type=U,rp(n,s,U,b,N)):(n=Qh(m.type,null,b,s,s.mode,N),n.ref=s.ref,n.return=s,s.child=n)}if(U=n.child,(n.lanes&N)===0){var se=U.memoizedProps;if(m=m.compare,m=m!==null?m:Gi,m(se,b)&&n.ref===s.ref)return Cl(n,s,N)}return s.flags|=1,n=Ul(U,b),n.ref=s.ref,n.return=s,s.child=n}function rp(n,s,m,b,N){if(n!==null){var U=n.memoizedProps;if(Gi(U,b)&&n.ref===s.ref)if($a=!1,s.pendingProps=b=U,(n.lanes&N)!==0)(n.flags&131072)!==0&&($a=!0);else return s.lanes=n.lanes,Cl(n,s,N)}return $c(n,s,m,b,N)}function ip(n,s,m){var b=s.pendingProps,N=b.children,U=n!==null?n.memoizedState:null;if(b.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},pr(Bu,mo),mo|=m;else{if((m&1073741824)===0)return n=U!==null?U.baseLanes|m:m,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,pr(Bu,mo),mo|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},b=U!==null?U.baseLanes:m,pr(Bu,mo),mo|=b}else U!==null?(b=U.baseLanes|m,s.memoizedState=null):b=m,pr(Bu,mo),mo|=b;return Sa(n,s,N,m),s.child}function sp(n,s){var m=s.ref;(n===null&&m!==null||n!==null&&n.ref!==m)&&(s.flags|=512,s.flags|=2097152)}function $c(n,s,m,b,N){var U=Mi(m)?Wo:Vr.current;return U=ul(s,U),rt(s,N),m=iu(n,s,m,b,U,N),b=No(),n!==null&&!$a?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~N,Cl(n,s,N)):(Mt&&b&&Ct(s),s.flags|=1,Sa(n,s,m,N),s.child)}function ap(n,s,m,b,N){if(Mi(m)){var U=!0;$o(s)}else U=!1;if(rt(s,N),s.stateNode===null)qh(n,s),Zd(s,m,b),Hc(s,m,b,N),b=!0;else if(n===null){var se=s.stateNode,ze=s.memoizedProps;se.props=ze;var Qe=se.context,St=m.contextType;typeof St=="object"&&St!==null?St=ft(St):(St=Mi(m)?Wo:Vr.current,St=ul(s,St));var zt=m.getDerivedStateFromProps,Ht=typeof zt=="function"||typeof se.getSnapshotBeforeUpdate=="function";Ht||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(ze!==b||Qe!==St)&&Kd(s,se,b,St),Le=!1;var jt=s.memoizedState;se.state=jt,Dt(s,b,se,N),Qe=s.memoizedState,ze!==b||jt!==Qe||Ai.current||Le?(typeof zt=="function"&&(Gc(s,m,zt,b),Qe=s.memoizedState),(ze=Le||$d(s,m,ze,b,jt,Qe,St))?(Ht||typeof se.UNSAFE_componentWillMount!="function"&&typeof se.componentWillMount!="function"||(typeof se.componentWillMount=="function"&&se.componentWillMount(),typeof se.UNSAFE_componentWillMount=="function"&&se.UNSAFE_componentWillMount()),typeof se.componentDidMount=="function"&&(s.flags|=4194308)):(typeof se.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=b,s.memoizedState=Qe),se.props=b,se.state=Qe,se.context=St,b=ze):(typeof se.componentDidMount=="function"&&(s.flags|=4194308),b=!1)}else{se=s.stateNode,Ze(n,s),ze=s.memoizedProps,St=s.type===s.elementType?ze:Yo(s.type,ze),se.props=St,Ht=s.pendingProps,jt=se.context,Qe=m.contextType,typeof Qe=="object"&&Qe!==null?Qe=ft(Qe):(Qe=Mi(m)?Wo:Vr.current,Qe=ul(s,Qe));var sn=m.getDerivedStateFromProps;(zt=typeof sn=="function"||typeof se.getSnapshotBeforeUpdate=="function")||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(ze!==Ht||jt!==Qe)&&Kd(s,se,b,Qe),Le=!1,jt=s.memoizedState,se.state=jt,Dt(s,b,se,N);var un=s.memoizedState;ze!==Ht||jt!==un||Ai.current||Le?(typeof sn=="function"&&(Gc(s,m,sn,b),un=s.memoizedState),(St=Le||$d(s,m,St,b,jt,un,Qe)||!1)?(zt||typeof se.UNSAFE_componentWillUpdate!="function"&&typeof se.componentWillUpdate!="function"||(typeof se.componentWillUpdate=="function"&&se.componentWillUpdate(b,un,Qe),typeof se.UNSAFE_componentWillUpdate=="function"&&se.UNSAFE_componentWillUpdate(b,un,Qe)),typeof se.componentDidUpdate=="function"&&(s.flags|=4),typeof se.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof se.componentDidUpdate!="function"||ze===n.memoizedProps&&jt===n.memoizedState||(s.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||ze===n.memoizedProps&&jt===n.memoizedState||(s.flags|=1024),s.memoizedProps=b,s.memoizedState=un),se.props=b,se.state=un,se.context=Qe,b=St):(typeof se.componentDidUpdate!="function"||ze===n.memoizedProps&&jt===n.memoizedState||(s.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||ze===n.memoizedProps&&jt===n.memoizedState||(s.flags|=1024),b=!1)}return Zc(n,s,m,b,U,N)}function Zc(n,s,m,b,N,U){sp(n,s);var se=(s.flags&128)!==0;if(!b&&!se)return N&&ru(s,m,!1),Cl(n,s,U);b=s.stateNode,wg.current=s;var ze=se&&typeof m.getDerivedStateFromError!="function"?null:b.render();return s.flags|=1,n!==null&&se?(s.child=gt(s,n.child,null,U),s.child=gt(s,null,ze,U)):Sa(n,s,ze,U),s.memoizedState=b.state,N&&ru(s,m,!0),s.child}function op(n){var s=n.stateNode;s.pendingContext?tu(n,s.pendingContext,s.pendingContext!==s.context):s.context&&tu(n,s.context,!1),tr(n,s.containerInfo)}function lp(n,s,m,b,N){return z(),q(N),s.flags|=256,Sa(n,s,m,b),s.child}var Kc={dehydrated:null,treeContext:null,retryLane:0};function Jc(n){return{baseLanes:n,cachePool:null,transitions:null}}function up(n,s,m){var b=s.pendingProps,N=yr.current,U=!1,se=(s.flags&128)!==0,ze;if((ze=se)||(ze=n!==null&&n.memoizedState===null?!1:(N&2)!==0),ze?(U=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(N|=1),pr(yr,N&1),n===null)return d(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(se=b.children,n=b.fallback,U?(b=s.mode,U=s.child,se={mode:"hidden",children:se},(b&1)===0&&U!==null?(U.childLanes=0,U.pendingProps=se):U=ec(se,b,0,null),n=cu(n,b,m,null),U.return=s,n.return=s,U.sibling=n,s.child=U,s.child.memoizedState=Jc(m),s.memoizedState=Kc,n):Yc(s,se));if(N=n.memoizedState,N!==null&&(ze=N.dehydrated,ze!==null))return bg(n,s,se,b,ze,N,m);if(U){U=b.fallback,se=s.mode,N=n.child,ze=N.sibling;var Qe={mode:"hidden",children:b.children};return(se&1)===0&&s.child!==N?(b=s.child,b.childLanes=0,b.pendingProps=Qe,s.deletions=null):(b=Ul(N,Qe),b.subtreeFlags=N.subtreeFlags&14680064),ze!==null?U=Ul(ze,U):(U=cu(U,se,m,null),U.flags|=2),U.return=s,b.return=s,b.sibling=U,s.child=b,b=U,U=s.child,se=n.child.memoizedState,se=se===null?Jc(m):{baseLanes:se.baseLanes|m,cachePool:null,transitions:se.transitions},U.memoizedState=se,U.childLanes=n.childLanes&~m,s.memoizedState=Kc,b}return U=n.child,n=U.sibling,b=Ul(U,{mode:"visible",children:b.children}),(s.mode&1)===0&&(b.lanes=m),b.return=s,b.sibling=null,n!==null&&(m=s.deletions,m===null?(s.deletions=[n],s.flags|=16):m.push(n)),s.child=b,s.memoizedState=null,b}function Yc(n,s){return s=ec({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function Uh(n,s,m,b){return b!==null&&q(b),gt(s,n.child,null,m),n=Yc(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function bg(n,s,m,b,N,U,se){if(m)return s.flags&256?(s.flags&=-257,b=Wc(Error(e(422))),Uh(n,s,se,b)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(U=b.fallback,N=s.mode,b=ec({mode:"visible",children:b.children},N,0,null),U=cu(U,N,se,null),U.flags|=2,b.return=s,U.return=s,b.sibling=U,s.child=b,(s.mode&1)!==0&&gt(s,n.child,null,se),s.child.memoizedState=Jc(se),s.memoizedState=Kc,U);if((s.mode&1)===0)return Uh(n,s,se,null);if(N.data==="$!"){if(b=N.nextSibling&&N.nextSibling.dataset,b)var ze=b.dgst;return b=ze,U=Error(e(419)),b=Wc(U,b,void 0),Uh(n,s,se,b)}if(ze=(se&n.childLanes)!==0,$a||ze){if(b=ks,b!==null){switch(se&-se){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}N=(N&(b.suspendedLanes|se))!==0?0:N,N!==0&&N!==U.retryLane&&(U.retryLane=N,me(n,N),el(b,n,N,-1))}return pf(),b=Wc(Error(e(421))),Uh(n,s,se,b)}return N.data==="$?"?(s.flags|=128,s.child=n.child,s=Og.bind(null,n),N._reactRetry=s,null):(n=U.treeContext,At=ei(N.nextSibling),tt=s,Mt=!0,Nt=null,n!==null&&(ye[Ce++]=_t,ye[Ce++]=vt,ye[Ce++]=Je,_t=n.id,vt=n.overflow,Je=s),s=Yc(s,b.children),s.flags|=4096,s)}function hp(n,s,m){n.lanes|=s;var b=n.alternate;b!==null&&(b.lanes|=s),yt(n.return,s,m)}function Xc(n,s,m,b,N){var U=n.memoizedState;U===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:b,tail:m,tailMode:N}:(U.isBackwards=s,U.rendering=null,U.renderingStartTime=0,U.last=b,U.tail=m,U.tailMode=N)}function cp(n,s,m){var b=s.pendingProps,N=b.revealOrder,U=b.tail;if(Sa(n,s,b.children,m),b=yr.current,(b&2)!==0)b=b&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&hp(n,m,s);else if(n.tag===19)hp(n,m,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}b&=1}if(pr(yr,b),(s.mode&1)===0)s.memoizedState=null;else switch(N){case"forwards":for(m=s.child,N=null;m!==null;)n=m.alternate,n!==null&&ri(n)===null&&(N=m),m=m.sibling;m=N,m===null?(N=s.child,s.child=null):(N=m.sibling,m.sibling=null),Xc(s,!1,N,m,U);break;case"backwards":for(m=null,N=s.child,s.child=null;N!==null;){if(n=N.alternate,n!==null&&ri(n)===null){s.child=N;break}n=N.sibling,N.sibling=m,m=N,N=n}Xc(s,!0,m,null,U);break;case"together":Xc(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function qh(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function Cl(n,s,m){if(n!==null&&(s.dependencies=n.dependencies),ou|=s.lanes,(m&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(e(153));if(s.child!==null){for(n=s.child,m=Ul(n,n.pendingProps),s.child=m,m.return=s;n.sibling!==null;)n=n.sibling,m=m.sibling=Ul(n,n.pendingProps),m.return=s;m.sibling=null}return s.child}function xg(n,s,m){switch(s.tag){case 3:op(s),z();break;case 5:xl(s);break;case 1:Mi(s.type)&&$o(s);break;case 4:tr(s,s.stateNode.containerInfo);break;case 10:var b=s.type._context,N=s.memoizedProps.value;pr(Wt,b._currentValue),b._currentValue=N;break;case 13:if(b=s.memoizedState,b!==null)return b.dehydrated!==null?(pr(yr,yr.current&1),s.flags|=128,null):(m&s.child.childLanes)!==0?up(n,s,m):(pr(yr,yr.current&1),n=Cl(n,s,m),n!==null?n.sibling:null);pr(yr,yr.current&1);break;case 19:if(b=(m&s.childLanes)!==0,(n.flags&128)!==0){if(b)return cp(n,s,m);s.flags|=128}if(N=s.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),pr(yr,yr.current),b)break;return null;case 22:case 23:return s.lanes=0,ip(n,s,m)}return Cl(n,s,m)}var fp,Qc,dp,pp;fp=function(n,s){for(var m=s.child;m!==null;){if(m.tag===5||m.tag===6)n.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===s)break;for(;m.sibling===null;){if(m.return===null||m.return===s)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},Qc=function(){},dp=function(n,s,m,b){var N=n.memoizedProps;if(N!==b){n=s.stateNode,Dn(rn.current);var U=null;switch(m){case"input":N=$(n,N),b=$(n,b),U=[];break;case"select":N=Pe({},N,{value:void 0}),b=Pe({},b,{value:void 0}),U=[];break;case"textarea":N=qe(n,N),b=qe(n,b),U=[];break;default:typeof N.onClick!="function"&&typeof b.onClick=="function"&&(n.onclick=Rt)}jn(m,b);var se;m=null;for(St in N)if(!b.hasOwnProperty(St)&&N.hasOwnProperty(St)&&N[St]!=null)if(St==="style"){var ze=N[St];for(se in ze)ze.hasOwnProperty(se)&&(m||(m={}),m[se]="")}else St!=="dangerouslySetInnerHTML"&&St!=="children"&&St!=="suppressContentEditableWarning"&&St!=="suppressHydrationWarning"&&St!=="autoFocus"&&(u.hasOwnProperty(St)?U||(U=[]):(U=U||[]).push(St,null));for(St in b){var Qe=b[St];if(ze=N?.[St],b.hasOwnProperty(St)&&Qe!==ze&&(Qe!=null||ze!=null))if(St==="style")if(ze){for(se in ze)!ze.hasOwnProperty(se)||Qe&&Qe.hasOwnProperty(se)||(m||(m={}),m[se]="");for(se in Qe)Qe.hasOwnProperty(se)&&ze[se]!==Qe[se]&&(m||(m={}),m[se]=Qe[se])}else m||(U||(U=[]),U.push(St,m)),m=Qe;else St==="dangerouslySetInnerHTML"?(Qe=Qe?Qe.__html:void 0,ze=ze?ze.__html:void 0,Qe!=null&&ze!==Qe&&(U=U||[]).push(St,Qe)):St==="children"?typeof Qe!="string"&&typeof Qe!="number"||(U=U||[]).push(St,""+Qe):St!=="suppressContentEditableWarning"&&St!=="suppressHydrationWarning"&&(u.hasOwnProperty(St)?(Qe!=null&&St==="onScroll"&&Pn("scroll",n),U||ze===Qe||(U=[])):(U=U||[]).push(St,Qe))}m&&(U=U||[]).push("style",m);var St=U;(s.updateQueue=St)&&(s.flags|=4)}},pp=function(n,s,m,b){m!==b&&(s.flags|=4)};function uh(n,s){if(!Mt)switch(n.tailMode){case"hidden":s=n.tail;for(var m=null;s!==null;)s.alternate!==null&&(m=s),s=s.sibling;m===null?n.tail=null:m.sibling=null;break;case"collapsed":m=n.tail;for(var b=null;m!==null;)m.alternate!==null&&(b=m),m=m.sibling;b===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:b.sibling=null}}function la(n){var s=n.alternate!==null&&n.alternate.child===n.child,m=0,b=0;if(s)for(var N=n.child;N!==null;)m|=N.lanes|N.childLanes,b|=N.subtreeFlags&14680064,b|=N.flags&14680064,N.return=n,N=N.sibling;else for(N=n.child;N!==null;)m|=N.lanes|N.childLanes,b|=N.subtreeFlags,b|=N.flags,N.return=n,N=N.sibling;return n.subtreeFlags|=b,n.childLanes=m,s}function Lg(n,s,m){var b=s.pendingProps;switch(et(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return la(s),null;case 1:return Mi(s.type)&&Vo(),la(s),null;case 3:return b=s.stateNode,br(),cr(Ai),cr(Vr),Ls(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(n===null||n.child===null)&&(k(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Nt!==null&&(cf(Nt),Nt=null))),Qc(n,s),la(s),null;case 5:Ll(s);var N=Dn(Jn.current);if(m=s.type,n!==null&&s.stateNode!=null)dp(n,s,m,b,N),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!b){if(s.stateNode===null)throw Error(e(166));return la(s),null}if(n=Dn(rn.current),k(s)){b=s.stateNode,m=s.type;var U=s.memoizedProps;switch(b[sa]=s,b[ho]=U,n=(s.mode&1)!==0,m){case"dialog":Pn("cancel",b),Pn("close",b);break;case"iframe":case"object":case"embed":Pn("load",b);break;case"video":case"audio":for(N=0;N<yn.length;N++)Pn(yn[N],b);break;case"source":Pn("error",b);break;case"img":case"image":case"link":Pn("error",b),Pn("load",b);break;case"details":Pn("toggle",b);break;case"input":je(b,U),Pn("invalid",b);break;case"select":b._wrapperState={wasMultiple:!!U.multiple},Pn("invalid",b);break;case"textarea":Lt(b,U),Pn("invalid",b)}jn(m,U),N=null;for(var se in U)if(U.hasOwnProperty(se)){var ze=U[se];se==="children"?typeof ze=="string"?b.textContent!==ze&&(U.suppressHydrationWarning!==!0&&xt(b.textContent,ze,n),N=["children",ze]):typeof ze=="number"&&b.textContent!==""+ze&&(U.suppressHydrationWarning!==!0&&xt(b.textContent,ze,n),N=["children",""+ze]):u.hasOwnProperty(se)&&ze!=null&&se==="onScroll"&&Pn("scroll",b)}switch(m){case"input":Ot(b),we(b,U,!0);break;case"textarea":Ot(b),Bt(b);break;case"select":case"option":break;default:typeof U.onClick=="function"&&(b.onclick=Rt)}b=N,s.updateQueue=b,b!==null&&(s.flags|=4)}else{se=N.nodeType===9?N:N.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Ut(m)),n==="http://www.w3.org/1999/xhtml"?m==="script"?(n=se.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof b.is=="string"?n=se.createElement(m,{is:b.is}):(n=se.createElement(m),m==="select"&&(se=n,b.multiple?se.multiple=!0:b.size&&(se.size=b.size))):n=se.createElementNS(n,m),n[sa]=s,n[ho]=b,fp(n,s,!1,!1),s.stateNode=n;e:{switch(se=Ar(m,b),m){case"dialog":Pn("cancel",n),Pn("close",n),N=b;break;case"iframe":case"object":case"embed":Pn("load",n),N=b;break;case"video":case"audio":for(N=0;N<yn.length;N++)Pn(yn[N],n);N=b;break;case"source":Pn("error",n),N=b;break;case"img":case"image":case"link":Pn("error",n),Pn("load",n),N=b;break;case"details":Pn("toggle",n),N=b;break;case"input":je(n,b),N=$(n,b),Pn("invalid",n);break;case"option":N=b;break;case"select":n._wrapperState={wasMultiple:!!b.multiple},N=Pe({},b,{value:void 0}),Pn("invalid",n);break;case"textarea":Lt(n,b),N=qe(n,b),Pn("invalid",n);break;default:N=b}jn(m,N),ze=N;for(U in ze)if(ze.hasOwnProperty(U)){var Qe=ze[U];U==="style"?Dr(n,Qe):U==="dangerouslySetInnerHTML"?(Qe=Qe?Qe.__html:void 0,Qe!=null&&on(n,Qe)):U==="children"?typeof Qe=="string"?(m!=="textarea"||Qe!=="")&&wn(n,Qe):typeof Qe=="number"&&wn(n,""+Qe):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(u.hasOwnProperty(U)?Qe!=null&&U==="onScroll"&&Pn("scroll",n):Qe!=null&&Z(n,U,Qe,se))}switch(m){case"input":Ot(n),we(n,b,!1);break;case"textarea":Ot(n),Bt(n);break;case"option":b.value!=null&&n.setAttribute("value",""+We(b.value));break;case"select":n.multiple=!!b.multiple,U=b.value,U!=null?ut(n,!!b.multiple,U,!1):b.defaultValue!=null&&ut(n,!!b.multiple,b.defaultValue,!0);break;default:typeof N.onClick=="function"&&(n.onclick=Rt)}switch(m){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}}b&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return la(s),null;case 6:if(n&&s.stateNode!=null)pp(n,s,n.memoizedProps,b);else{if(typeof b!="string"&&s.stateNode===null)throw Error(e(166));if(m=Dn(Jn.current),Dn(rn.current),k(s)){if(b=s.stateNode,m=s.memoizedProps,b[sa]=s,(U=b.nodeValue!==m)&&(n=tt,n!==null))switch(n.tag){case 3:xt(b.nodeValue,m,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&xt(b.nodeValue,m,(n.mode&1)!==0)}U&&(s.flags|=4)}else b=(m.nodeType===9?m:m.ownerDocument).createTextNode(b),b[sa]=s,s.stateNode=b}return la(s),null;case 13:if(cr(yr),b=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Mt&&At!==null&&(s.mode&1)!==0&&(s.flags&128)===0)B(),z(),s.flags|=98560,U=!1;else if(U=k(s),b!==null&&b.dehydrated!==null){if(n===null){if(!U)throw Error(e(318));if(U=s.memoizedState,U=U!==null?U.dehydrated:null,!U)throw Error(e(317));U[sa]=s}else z(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;la(s),U=!1}else Nt!==null&&(cf(Nt),Nt=null),U=!0;if(!U)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=m,s):(b=b!==null,b!==(n!==null&&n.memoizedState!==null)&&b&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(yr.current&1)!==0?ls===0&&(ls=3):pf())),s.updateQueue!==null&&(s.flags|=4),la(s),null);case 4:return br(),Qc(n,s),n===null&&Hr(s.stateNode.containerInfo),la(s),null;case 10:return nt(s.type._context),la(s),null;case 17:return Mi(s.type)&&Vo(),la(s),null;case 19:if(cr(yr),U=s.memoizedState,U===null)return la(s),null;if(b=(s.flags&128)!==0,se=U.rendering,se===null)if(b)uh(U,!1);else{if(ls!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(se=ri(n),se!==null){for(s.flags|=128,uh(U,!1),b=se.updateQueue,b!==null&&(s.updateQueue=b,s.flags|=4),s.subtreeFlags=0,b=m,m=s.child;m!==null;)U=m,n=b,U.flags&=14680066,se=U.alternate,se===null?(U.childLanes=0,U.lanes=n,U.child=null,U.subtreeFlags=0,U.memoizedProps=null,U.memoizedState=null,U.updateQueue=null,U.dependencies=null,U.stateNode=null):(U.childLanes=se.childLanes,U.lanes=se.lanes,U.child=se.child,U.subtreeFlags=0,U.deletions=null,U.memoizedProps=se.memoizedProps,U.memoizedState=se.memoizedState,U.updateQueue=se.updateQueue,U.type=se.type,n=se.dependencies,U.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),m=m.sibling;return pr(yr,yr.current&1|2),s.child}n=n.sibling}U.tail!==null&&wr()>Tu&&(s.flags|=128,b=!0,uh(U,!1),s.lanes=4194304)}else{if(!b)if(n=ri(se),n!==null){if(s.flags|=128,b=!0,m=n.updateQueue,m!==null&&(s.updateQueue=m,s.flags|=4),uh(U,!0),U.tail===null&&U.tailMode==="hidden"&&!se.alternate&&!Mt)return la(s),null}else 2*wr()-U.renderingStartTime>Tu&&m!==1073741824&&(s.flags|=128,b=!0,uh(U,!1),s.lanes=4194304);U.isBackwards?(se.sibling=s.child,s.child=se):(m=U.last,m!==null?m.sibling=se:s.child=se,U.last=se)}return U.tail!==null?(s=U.tail,U.rendering=s,U.tail=s.sibling,U.renderingStartTime=wr(),s.sibling=null,m=yr.current,pr(yr,b?m&1|2:m&1),s):(la(s),null);case 22:case 23:return df(),b=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==b&&(s.flags|=8192),b&&(s.mode&1)!==0?(mo&1073741824)!==0&&(la(s),s.subtreeFlags&6&&(s.flags|=8192)):la(s),null;case 24:return null;case 25:return null}throw Error(e(156,s.tag))}function kg(n,s){switch(et(s),s.tag){case 1:return Mi(s.type)&&Vo(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return br(),cr(Ai),cr(Vr),Ls(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return Ll(s),null;case 13:if(cr(yr),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(e(340));z()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return cr(yr),null;case 4:return br(),null;case 10:return nt(s.type._context),null;case 22:case 23:return df(),null;case 24:return null;default:return null}}var Gh=!1,ua=!1,Cg=typeof WeakSet=="function"?WeakSet:Set,ln=null;function Mu(n,s){var m=n.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(b){xi(n,s,b)}else m.current=null}function ef(n,s,m){try{m()}catch(b){xi(n,s,b)}}var mp=!1;function Sg(n,s){if(Yt=ro,n=Mo(),uo(n)){if("selectionStart"in n)var m={start:n.selectionStart,end:n.selectionEnd};else e:{m=(m=n.ownerDocument)&&m.defaultView||window;var b=m.getSelection&&m.getSelection();if(b&&b.rangeCount!==0){m=b.anchorNode;var N=b.anchorOffset,U=b.focusNode;b=b.focusOffset;try{m.nodeType,U.nodeType}catch{m=null;break e}var se=0,ze=-1,Qe=-1,St=0,zt=0,Ht=n,jt=null;t:for(;;){for(var sn;Ht!==m||N!==0&&Ht.nodeType!==3||(ze=se+N),Ht!==U||b!==0&&Ht.nodeType!==3||(Qe=se+b),Ht.nodeType===3&&(se+=Ht.nodeValue.length),(sn=Ht.firstChild)!==null;)jt=Ht,Ht=sn;for(;;){if(Ht===n)break t;if(jt===m&&++St===N&&(ze=se),jt===U&&++zt===b&&(Qe=se),(sn=Ht.nextSibling)!==null)break;Ht=jt,jt=Ht.parentNode}Ht=sn}m=ze===-1||Qe===-1?null:{start:ze,end:Qe}}else m=null}m=m||{start:0,end:0}}else m=null;for(pn={focusedElem:n,selectionRange:m},ro=!1,ln=s;ln!==null;)if(s=ln,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,ln=n;else for(;ln!==null;){s=ln;try{var un=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(un!==null){var fn=un.memoizedProps,Ti=un.memoizedState,wt=s.stateNode,st=wt.getSnapshotBeforeUpdate(s.elementType===s.type?fn:Yo(s.type,fn),Ti);wt.__reactInternalSnapshotBeforeUpdate=st}break;case 3:var bt=s.stateNode.containerInfo;bt.nodeType===1?bt.textContent="":bt.nodeType===9&&bt.documentElement&&bt.removeChild(bt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(e(163))}}catch($t){xi(s,s.return,$t)}if(n=s.sibling,n!==null){n.return=s.return,ln=n;break}ln=s.return}return un=mp,mp=!1,un}function hh(n,s,m){var b=s.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var N=b=b.next;do{if((N.tag&n)===n){var U=N.destroy;N.destroy=void 0,U!==void 0&&ef(s,m,U)}N=N.next}while(N!==b)}}function Hh(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var m=s=s.next;do{if((m.tag&n)===n){var b=m.create;m.destroy=b()}m=m.next}while(m!==s)}}function tf(n){var s=n.ref;if(s!==null){var m=n.stateNode;switch(n.tag){case 5:n=m;break;default:n=m}typeof s=="function"?s(n):s.current=n}}function gp(n){var s=n.alternate;s!==null&&(n.alternate=null,gp(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[sa],delete s[ho],delete s[ni],delete s[eu],delete s[aa])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function _p(n){return n.tag===5||n.tag===3||n.tag===4}function vp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||_p(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function nf(n,s,m){var b=n.tag;if(b===5||b===6)n=n.stateNode,s?m.nodeType===8?m.parentNode.insertBefore(n,s):m.insertBefore(n,s):(m.nodeType===8?(s=m.parentNode,s.insertBefore(n,m)):(s=m,s.appendChild(n)),m=m._reactRootContainer,m!=null||s.onclick!==null||(s.onclick=Rt));else if(b!==4&&(n=n.child,n!==null))for(nf(n,s,m),n=n.sibling;n!==null;)nf(n,s,m),n=n.sibling}function rf(n,s,m){var b=n.tag;if(b===5||b===6)n=n.stateNode,s?m.insertBefore(n,s):m.appendChild(n);else if(b!==4&&(n=n.child,n!==null))for(rf(n,s,m),n=n.sibling;n!==null;)rf(n,s,m),n=n.sibling}var zs=null,Xo=!1;function Il(n,s,m){for(m=m.child;m!==null;)yp(n,s,m),m=m.sibling}function yp(n,s,m){if(Yi&&typeof Yi.onCommitFiberUnmount=="function")try{Yi.onCommitFiberUnmount(Oa,m)}catch{}switch(m.tag){case 5:ua||Mu(m,s);case 6:var b=zs,N=Xo;zs=null,Il(n,s,m),zs=b,Xo=N,zs!==null&&(Xo?(n=zs,m=m.stateNode,n.nodeType===8?n.parentNode.removeChild(m):n.removeChild(m)):zs.removeChild(m.stateNode));break;case 18:zs!==null&&(Xo?(n=zs,m=m.stateNode,n.nodeType===8?Go(n.parentNode,m):n.nodeType===1&&Go(n,m),ai(n)):Go(zs,m.stateNode));break;case 4:b=zs,N=Xo,zs=m.stateNode.containerInfo,Xo=!0,Il(n,s,m),zs=b,Xo=N;break;case 0:case 11:case 14:case 15:if(!ua&&(b=m.updateQueue,b!==null&&(b=b.lastEffect,b!==null))){N=b=b.next;do{var U=N,se=U.destroy;U=U.tag,se!==void 0&&((U&2)!==0||(U&4)!==0)&&ef(m,s,se),N=N.next}while(N!==b)}Il(n,s,m);break;case 1:if(!ua&&(Mu(m,s),b=m.stateNode,typeof b.componentWillUnmount=="function"))try{b.props=m.memoizedProps,b.state=m.memoizedState,b.componentWillUnmount()}catch(ze){xi(m,s,ze)}Il(n,s,m);break;case 21:Il(n,s,m);break;case 22:m.mode&1?(ua=(b=ua)||m.memoizedState!==null,Il(n,s,m),ua=b):Il(n,s,m);break;default:Il(n,s,m)}}function wp(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var m=n.stateNode;m===null&&(m=n.stateNode=new Cg),s.forEach(function(b){var N=Dg.bind(null,n,b);m.has(b)||(m.add(b),b.then(N,N))})}}function Qo(n,s){var m=s.deletions;if(m!==null)for(var b=0;b<m.length;b++){var N=m[b];try{var U=n,se=s,ze=se;e:for(;ze!==null;){switch(ze.tag){case 5:zs=ze.stateNode,Xo=!1;break e;case 3:zs=ze.stateNode.containerInfo,Xo=!0;break e;case 4:zs=ze.stateNode.containerInfo,Xo=!0;break e}ze=ze.return}if(zs===null)throw Error(e(160));yp(U,se,N),zs=null,Xo=!1;var Qe=N.alternate;Qe!==null&&(Qe.return=null),N.return=null}catch(St){xi(N,s,St)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)bp(s,n),s=s.sibling}function bp(n,s){var m=n.alternate,b=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Qo(s,n),cl(n),b&4){try{hh(3,n,n.return),Hh(3,n)}catch(fn){xi(n,n.return,fn)}try{hh(5,n,n.return)}catch(fn){xi(n,n.return,fn)}}break;case 1:Qo(s,n),cl(n),b&512&&m!==null&&Mu(m,m.return);break;case 5:if(Qo(s,n),cl(n),b&512&&m!==null&&Mu(m,m.return),n.flags&32){var N=n.stateNode;try{wn(N,"")}catch(fn){xi(n,n.return,fn)}}if(b&4&&(N=n.stateNode,N!=null)){var U=n.memoizedProps,se=m!==null?m.memoizedProps:U,ze=n.type,Qe=n.updateQueue;if(n.updateQueue=null,Qe!==null)try{ze==="input"&&U.type==="radio"&&U.name!=null&&oe(N,U),Ar(ze,se);var St=Ar(ze,U);for(se=0;se<Qe.length;se+=2){var zt=Qe[se],Ht=Qe[se+1];zt==="style"?Dr(N,Ht):zt==="dangerouslySetInnerHTML"?on(N,Ht):zt==="children"?wn(N,Ht):Z(N,zt,Ht,St)}switch(ze){case"input":Ee(N,U);break;case"textarea":It(N,U);break;case"select":var jt=N._wrapperState.wasMultiple;N._wrapperState.wasMultiple=!!U.multiple;var sn=U.value;sn!=null?ut(N,!!U.multiple,sn,!1):jt!==!!U.multiple&&(U.defaultValue!=null?ut(N,!!U.multiple,U.defaultValue,!0):ut(N,!!U.multiple,U.multiple?[]:"",!1))}N[ho]=U}catch(fn){xi(n,n.return,fn)}}break;case 6:if(Qo(s,n),cl(n),b&4){if(n.stateNode===null)throw Error(e(162));N=n.stateNode,U=n.memoizedProps;try{N.nodeValue=U}catch(fn){xi(n,n.return,fn)}}break;case 3:if(Qo(s,n),cl(n),b&4&&m!==null&&m.memoizedState.isDehydrated)try{ai(s.containerInfo)}catch(fn){xi(n,n.return,fn)}break;case 4:Qo(s,n),cl(n);break;case 13:Qo(s,n),cl(n),N=n.child,N.flags&8192&&(U=N.memoizedState!==null,N.stateNode.isHidden=U,!U||N.alternate!==null&&N.alternate.memoizedState!==null||(of=wr())),b&4&&wp(n);break;case 22:if(zt=m!==null&&m.memoizedState!==null,n.mode&1?(ua=(St=ua)||zt,Qo(s,n),ua=St):Qo(s,n),cl(n),b&8192){if(St=n.memoizedState!==null,(n.stateNode.isHidden=St)&&!zt&&(n.mode&1)!==0)for(ln=n,zt=n.child;zt!==null;){for(Ht=ln=zt;ln!==null;){switch(jt=ln,sn=jt.child,jt.tag){case 0:case 11:case 14:case 15:hh(4,jt,jt.return);break;case 1:Mu(jt,jt.return);var un=jt.stateNode;if(typeof un.componentWillUnmount=="function"){b=jt,m=jt.return;try{s=b,un.props=s.memoizedProps,un.state=s.memoizedState,un.componentWillUnmount()}catch(fn){xi(b,m,fn)}}break;case 5:Mu(jt,jt.return);break;case 22:if(jt.memoizedState!==null){kp(Ht);continue}}sn!==null?(sn.return=jt,ln=sn):kp(Ht)}zt=zt.sibling}e:for(zt=null,Ht=n;;){if(Ht.tag===5){if(zt===null){zt=Ht;try{N=Ht.stateNode,St?(U=N.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none"):(ze=Ht.stateNode,Qe=Ht.memoizedProps.style,se=Qe!=null&&Qe.hasOwnProperty("display")?Qe.display:null,ze.style.display=cn("display",se))}catch(fn){xi(n,n.return,fn)}}}else if(Ht.tag===6){if(zt===null)try{Ht.stateNode.nodeValue=St?"":Ht.memoizedProps}catch(fn){xi(n,n.return,fn)}}else if((Ht.tag!==22&&Ht.tag!==23||Ht.memoizedState===null||Ht===n)&&Ht.child!==null){Ht.child.return=Ht,Ht=Ht.child;continue}if(Ht===n)break e;for(;Ht.sibling===null;){if(Ht.return===null||Ht.return===n)break e;zt===Ht&&(zt=null),Ht=Ht.return}zt===Ht&&(zt=null),Ht.sibling.return=Ht.return,Ht=Ht.sibling}}break;case 19:Qo(s,n),cl(n),b&4&&wp(n);break;case 21:break;default:Qo(s,n),cl(n)}}function cl(n){var s=n.flags;if(s&2){try{e:{for(var m=n.return;m!==null;){if(_p(m)){var b=m;break e}m=m.return}throw Error(e(160))}switch(b.tag){case 5:var N=b.stateNode;b.flags&32&&(wn(N,""),b.flags&=-33);var U=vp(n);rf(n,U,N);break;case 3:case 4:var se=b.stateNode.containerInfo,ze=vp(n);nf(n,ze,se);break;default:throw Error(e(161))}}catch(Qe){xi(n,n.return,Qe)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Eg(n,s,m){ln=n,xp(n)}function xp(n,s,m){for(var b=(n.mode&1)!==0;ln!==null;){var N=ln,U=N.child;if(N.tag===22&&b){var se=N.memoizedState!==null||Gh;if(!se){var ze=N.alternate,Qe=ze!==null&&ze.memoizedState!==null||ua;ze=Gh;var St=ua;if(Gh=se,(ua=Qe)&&!St)for(ln=N;ln!==null;)se=ln,Qe=se.child,se.tag===22&&se.memoizedState!==null?Cp(N):Qe!==null?(Qe.return=se,ln=Qe):Cp(N);for(;U!==null;)ln=U,xp(U),U=U.sibling;ln=N,Gh=ze,ua=St}Lp(n)}else(N.subtreeFlags&8772)!==0&&U!==null?(U.return=N,ln=U):Lp(n)}}function Lp(n){for(;ln!==null;){var s=ln;if((s.flags&8772)!==0){var m=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:ua||Hh(5,s);break;case 1:var b=s.stateNode;if(s.flags&4&&!ua)if(m===null)b.componentDidMount();else{var N=s.elementType===s.type?m.memoizedProps:Yo(s.type,m.memoizedProps);b.componentDidUpdate(N,m.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var U=s.updateQueue;U!==null&&Xt(s,U,b);break;case 3:var se=s.updateQueue;if(se!==null){if(m=null,s.child!==null)switch(s.child.tag){case 5:m=s.child.stateNode;break;case 1:m=s.child.stateNode}Xt(s,se,m)}break;case 5:var ze=s.stateNode;if(m===null&&s.flags&4){m=ze;var Qe=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":Qe.autoFocus&&m.focus();break;case"img":Qe.src&&(m.src=Qe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var St=s.alternate;if(St!==null){var zt=St.memoizedState;if(zt!==null){var Ht=zt.dehydrated;Ht!==null&&ai(Ht)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(e(163))}ua||s.flags&512&&tf(s)}catch(jt){xi(s,s.return,jt)}}if(s===n){ln=null;break}if(m=s.sibling,m!==null){m.return=s.return,ln=m;break}ln=s.return}}function kp(n){for(;ln!==null;){var s=ln;if(s===n){ln=null;break}var m=s.sibling;if(m!==null){m.return=s.return,ln=m;break}ln=s.return}}function Cp(n){for(;ln!==null;){var s=ln;try{switch(s.tag){case 0:case 11:case 15:var m=s.return;try{Hh(4,s)}catch(Qe){xi(s,m,Qe)}break;case 1:var b=s.stateNode;if(typeof b.componentDidMount=="function"){var N=s.return;try{b.componentDidMount()}catch(Qe){xi(s,N,Qe)}}var U=s.return;try{tf(s)}catch(Qe){xi(s,U,Qe)}break;case 5:var se=s.return;try{tf(s)}catch(Qe){xi(s,se,Qe)}}}catch(Qe){xi(s,s.return,Qe)}if(s===n){ln=null;break}var ze=s.sibling;if(ze!==null){ze.return=s.return,ln=ze;break}ln=s.return}}var Pg=Math.ceil,Wh=de.ReactCurrentDispatcher,sf=de.ReactCurrentOwner,Oo=de.ReactCurrentBatchConfig,fr=0,ks=null,$i=null,Us=0,mo=0,Bu=oa(0),ls=0,ch=null,ou=0,Vh=0,af=0,fh=null,Za=null,of=0,Tu=1/0,Sl=null,$h=!1,lf=null,Rl=null,Zh=!1,Fl=null,Kh=0,dh=0,uf=null,Jh=-1,Yh=0;function Ea(){return(fr&6)!==0?wr():Jh!==-1?Jh:Jh=wr()}function jl(n){return(n.mode&1)===0?1:(fr&2)!==0&&Us!==0?Us&-Us:J.transition!==null?(Yh===0&&(Yh=Ro()),Yh):(n=Gn,n!==0||(n=window.event,n=n===void 0?16:In(n.type)),n)}function el(n,s,m,b){if(50<dh)throw dh=0,uf=null,Error(e(185));ji(n,m,b),((fr&2)===0||n!==ks)&&(n===ks&&((fr&2)===0&&(Vh|=m),ls===4&&zl(n,Us)),Ka(n,b),m===1&&fr===0&&(s.mode&1)===0&&(Tu=wr()+500,bl&&H()))}function Ka(n,s){var m=n.callbackNode;si(n,s);var b=Vn(n,n===ks?Us:0);if(b===0)m!==null&&Gs(m),n.callbackNode=null,n.callbackPriority=0;else if(s=b&-b,n.callbackPriority!==s){if(m!=null&&Gs(m),s===1)n.tag===0?D(Ep.bind(null,n)):C(Ep.bind(null,n)),Pr(function(){(fr&6)===0&&H()}),m=null;else{switch(Ws(b)){case 1:m=Ta;break;case 4:m=Io;break;case 16:m=_o;break;case 536870912:m=Na;break;default:m=_o}m=Dp(m,Sp.bind(null,n))}n.callbackPriority=s,n.callbackNode=m}}function Sp(n,s){if(Jh=-1,Yh=0,(fr&6)!==0)throw Error(e(327));var m=n.callbackNode;if(Nu()&&n.callbackNode!==m)return null;var b=Vn(n,n===ks?Us:0);if(b===0)return null;if((b&30)!==0||(b&n.expiredLanes)!==0||s)s=Xh(n,b);else{s=b;var N=fr;fr|=2;var U=Ap();(ks!==n||Us!==s)&&(Sl=null,Tu=wr()+500,uu(n,s));do try{Bg();break}catch(ze){Pp(n,ze)}while(!0);Ue(),Wh.current=U,fr=N,$i!==null?s=0:(ks=null,Us=0,s=ls)}if(s!==0){if(s===2&&(N=Jr(n),N!==0&&(b=N,s=hf(n,N))),s===1)throw m=ch,uu(n,0),zl(n,b),Ka(n,wr()),m;if(s===6)zl(n,b);else{if(N=n.current.alternate,(b&30)===0&&!Ag(N)&&(s=Xh(n,b),s===2&&(U=Jr(n),U!==0&&(b=U,s=hf(n,U))),s===1))throw m=ch,uu(n,0),zl(n,b),Ka(n,wr()),m;switch(n.finishedWork=N,n.finishedLanes=b,s){case 0:case 1:throw Error(e(345));case 2:hu(n,Za,Sl);break;case 3:if(zl(n,b),(b&130023424)===b&&(s=of+500-wr(),10<s)){if(Vn(n,0)!==0)break;if(N=n.suspendedLanes,(N&b)!==b){Ea(),n.pingedLanes|=n.suspendedLanes&N;break}n.timeoutHandle=di(hu.bind(null,n,Za,Sl),s);break}hu(n,Za,Sl);break;case 4:if(zl(n,b),(b&4194240)===b)break;for(s=n.eventTimes,N=-1;0<b;){var se=31-An(b);U=1<<se,se=s[se],se>N&&(N=se),b&=~U}if(b=N,b=wr()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*Pg(b/1960))-b,10<b){n.timeoutHandle=di(hu.bind(null,n,Za,Sl),b);break}hu(n,Za,Sl);break;case 5:hu(n,Za,Sl);break;default:throw Error(e(329))}}}return Ka(n,wr()),n.callbackNode===m?Sp.bind(null,n):null}function hf(n,s){var m=fh;return n.current.memoizedState.isDehydrated&&(uu(n,s).flags|=256),n=Xh(n,s),n!==2&&(s=Za,Za=m,s!==null&&cf(s)),n}function cf(n){Za===null?Za=n:Za.push.apply(Za,n)}function Ag(n){for(var s=n;;){if(s.flags&16384){var m=s.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var b=0;b<m.length;b++){var N=m[b],U=N.getSnapshot;N=N.value;try{if(!Xn(U(),N))return!1}catch{return!1}}}if(m=s.child,s.subtreeFlags&16384&&m!==null)m.return=s,s=m;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function zl(n,s){for(s&=~af,s&=~Vh,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var m=31-An(s),b=1<<m;n[m]=-1,s&=~b}}function Ep(n){if((fr&6)!==0)throw Error(e(327));Nu();var s=Vn(n,0);if((s&1)===0)return Ka(n,wr()),null;var m=Xh(n,s);if(n.tag!==0&&m===2){var b=Jr(n);b!==0&&(s=b,m=hf(n,b))}if(m===1)throw m=ch,uu(n,0),zl(n,s),Ka(n,wr()),m;if(m===6)throw Error(e(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,hu(n,Za,Sl),Ka(n,wr()),null}function ff(n,s){var m=fr;fr|=1;try{return n(s)}finally{fr=m,fr===0&&(Tu=wr()+500,bl&&H())}}function lu(n){Fl!==null&&Fl.tag===0&&(fr&6)===0&&Nu();var s=fr;fr|=1;var m=Oo.transition,b=Gn;try{if(Oo.transition=null,Gn=1,n)return n()}finally{Gn=b,Oo.transition=m,fr=s,(fr&6)===0&&H()}}function df(){mo=Bu.current,cr(Bu)}function uu(n,s){n.finishedWork=null,n.finishedLanes=0;var m=n.timeoutHandle;if(m!==-1&&(n.timeoutHandle=-1,Wr(m)),$i!==null)for(m=$i.return;m!==null;){var b=m;switch(et(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&Vo();break;case 3:br(),cr(Ai),cr(Vr),Ls();break;case 5:Ll(b);break;case 4:br();break;case 13:cr(yr);break;case 19:cr(yr);break;case 10:nt(b.type._context);break;case 22:case 23:df()}m=m.return}if(ks=n,$i=n=Ul(n.current,null),Us=mo=s,ls=0,ch=null,af=Vh=ou=0,Za=fh=null,Y!==null){for(s=0;s<Y.length;s++)if(m=Y[s],b=m.interleaved,b!==null){m.interleaved=null;var N=b.next,U=m.pending;if(U!==null){var se=U.next;U.next=N,b.next=se}m.pending=b}Y=null}return n}function Pp(n,s){do{var m=$i;try{if(Ue(),wi.current=jh,Nl){for(var b=Fr.memoizedState;b!==null;){var N=b.queue;N!==null&&(N.pending=null),b=b.next}Nl=!1}if(To=0,pi=bi=Fr=null,Ko=!1,Ol=0,sf.current=null,m===null||m.return===null){ls=1,ch=s,$i=null;break}e:{var U=n,se=m.return,ze=m,Qe=s;if(s=Us,ze.flags|=32768,Qe!==null&&typeof Qe=="object"&&typeof Qe.then=="function"){var St=Qe,zt=ze,Ht=zt.tag;if((zt.mode&1)===0&&(Ht===0||Ht===11||Ht===15)){var jt=zt.alternate;jt?(zt.updateQueue=jt.updateQueue,zt.memoizedState=jt.memoizedState,zt.lanes=jt.lanes):(zt.updateQueue=null,zt.memoizedState=null)}var sn=Qd(se);if(sn!==null){sn.flags&=-257,ep(sn,se,ze,U,s),sn.mode&1&&Xd(U,St,s),s=sn,Qe=St;var un=s.updateQueue;if(un===null){var fn=new Set;fn.add(Qe),s.updateQueue=fn}else un.add(Qe);break e}else{if((s&1)===0){Xd(U,St,s),pf();break e}Qe=Error(e(426))}}else if(Mt&&ze.mode&1){var Ti=Qd(se);if(Ti!==null){(Ti.flags&65536)===0&&(Ti.flags|=256),ep(Ti,se,ze,U,s),q(Au(Qe,ze));break e}}U=Qe=Au(Qe,ze),ls!==4&&(ls=2),fh===null?fh=[U]:fh.push(U),U=se;do{switch(U.tag){case 3:U.flags|=65536,s&=-s,U.lanes|=s;var wt=Jd(U,Qe,s);ht(U,wt);break e;case 1:ze=Qe;var st=U.type,bt=U.stateNode;if((U.flags&128)===0&&(typeof st.getDerivedStateFromError=="function"||bt!==null&&typeof bt.componentDidCatch=="function"&&(Rl===null||!Rl.has(bt)))){U.flags|=65536,s&=-s,U.lanes|=s;var $t=Yd(U,ze,s);ht(U,$t);break e}}U=U.return}while(U!==null)}Bp(m)}catch(vn){s=vn,$i===m&&m!==null&&($i=m=m.return);continue}break}while(!0)}function Ap(){var n=Wh.current;return Wh.current=jh,n===null?jh:n}function pf(){(ls===0||ls===3||ls===2)&&(ls=4),ks===null||(ou&268435455)===0&&(Vh&268435455)===0||zl(ks,Us)}function Xh(n,s){var m=fr;fr|=2;var b=Ap();(ks!==n||Us!==s)&&(Sl=null,uu(n,s));do try{Mg();break}catch(N){Pp(n,N)}while(!0);if(Ue(),fr=m,Wh.current=b,$i!==null)throw Error(e(261));return ks=null,Us=0,ls}function Mg(){for(;$i!==null;)Mp($i)}function Bg(){for(;$i!==null&&!Ba();)Mp($i)}function Mp(n){var s=Op(n.alternate,n,mo);n.memoizedProps=n.pendingProps,s===null?Bp(n):$i=s,sf.current=null}function Bp(n){var s=n;do{var m=s.alternate;if(n=s.return,(s.flags&32768)===0){if(m=Lg(m,s,mo),m!==null){$i=m;return}}else{if(m=kg(m,s),m!==null){m.flags&=32767,$i=m;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{ls=6,$i=null;return}}if(s=s.sibling,s!==null){$i=s;return}$i=s=n}while(s!==null);ls===0&&(ls=5)}function hu(n,s,m){var b=Gn,N=Oo.transition;try{Oo.transition=null,Gn=1,Tg(n,s,m,b)}finally{Oo.transition=N,Gn=b}return null}function Tg(n,s,m,b){do Nu();while(Fl!==null);if((fr&6)!==0)throw Error(e(327));m=n.finishedWork;var N=n.finishedLanes;if(m===null)return null;if(n.finishedWork=null,n.finishedLanes=0,m===n.current)throw Error(e(177));n.callbackNode=null,n.callbackPriority=0;var U=m.lanes|m.childLanes;if(kr(n,U),n===ks&&($i=ks=null,Us=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||Zh||(Zh=!0,Dp(_o,function(){return Nu(),null})),U=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||U){U=Oo.transition,Oo.transition=null;var se=Gn;Gn=1;var ze=fr;fr|=4,sf.current=null,Sg(n,m),bp(m,n),yi(pn),ro=!!Yt,pn=Yt=null,n.current=m,Eg(m),eo(),fr=ze,Gn=se,Oo.transition=U}else n.current=m;if(Zh&&(Zh=!1,Fl=n,Kh=N),U=n.pendingLanes,U===0&&(Rl=null),Xi(m.stateNode),Ka(n,wr()),s!==null)for(b=n.onRecoverableError,m=0;m<s.length;m++)N=s[m],b(N.value,{componentStack:N.stack,digest:N.digest});if($h)throw $h=!1,n=lf,lf=null,n;return(Kh&1)!==0&&n.tag!==0&&Nu(),U=n.pendingLanes,(U&1)!==0?n===uf?dh++:(dh=0,uf=n):dh=0,H(),null}function Nu(){if(Fl!==null){var n=Ws(Kh),s=Oo.transition,m=Gn;try{if(Oo.transition=null,Gn=16>n?16:n,Fl===null)var b=!1;else{if(n=Fl,Fl=null,Kh=0,(fr&6)!==0)throw Error(e(331));var N=fr;for(fr|=4,ln=n.current;ln!==null;){var U=ln,se=U.child;if((ln.flags&16)!==0){var ze=U.deletions;if(ze!==null){for(var Qe=0;Qe<ze.length;Qe++){var St=ze[Qe];for(ln=St;ln!==null;){var zt=ln;switch(zt.tag){case 0:case 11:case 15:hh(8,zt,U)}var Ht=zt.child;if(Ht!==null)Ht.return=zt,ln=Ht;else for(;ln!==null;){zt=ln;var jt=zt.sibling,sn=zt.return;if(gp(zt),zt===St){ln=null;break}if(jt!==null){jt.return=sn,ln=jt;break}ln=sn}}}var un=U.alternate;if(un!==null){var fn=un.child;if(fn!==null){un.child=null;do{var Ti=fn.sibling;fn.sibling=null,fn=Ti}while(fn!==null)}}ln=U}}if((U.subtreeFlags&2064)!==0&&se!==null)se.return=U,ln=se;else e:for(;ln!==null;){if(U=ln,(U.flags&2048)!==0)switch(U.tag){case 0:case 11:case 15:hh(9,U,U.return)}var wt=U.sibling;if(wt!==null){wt.return=U.return,ln=wt;break e}ln=U.return}}var st=n.current;for(ln=st;ln!==null;){se=ln;var bt=se.child;if((se.subtreeFlags&2064)!==0&&bt!==null)bt.return=se,ln=bt;else e:for(se=st;ln!==null;){if(ze=ln,(ze.flags&2048)!==0)try{switch(ze.tag){case 0:case 11:case 15:Hh(9,ze)}}catch(vn){xi(ze,ze.return,vn)}if(ze===se){ln=null;break e}var $t=ze.sibling;if($t!==null){$t.return=ze.return,ln=$t;break e}ln=ze.return}}if(fr=N,H(),Yi&&typeof Yi.onPostCommitFiberRoot=="function")try{Yi.onPostCommitFiberRoot(Oa,n)}catch{}b=!0}return b}finally{Gn=m,Oo.transition=s}}return!1}function Tp(n,s,m){s=Au(m,s),s=Jd(n,s,1),n=Xe(n,s,1),s=Ea(),n!==null&&(ji(n,1,s),Ka(n,s))}function xi(n,s,m){if(n.tag===3)Tp(n,n,m);else for(;s!==null;){if(s.tag===3){Tp(s,n,m);break}else if(s.tag===1){var b=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Rl===null||!Rl.has(b))){n=Au(m,n),n=Yd(s,n,1),s=Xe(s,n,1),n=Ea(),s!==null&&(ji(s,1,n),Ka(s,n));break}}s=s.return}}function Ng(n,s,m){var b=n.pingCache;b!==null&&b.delete(s),s=Ea(),n.pingedLanes|=n.suspendedLanes&m,ks===n&&(Us&m)===m&&(ls===4||ls===3&&(Us&130023424)===Us&&500>wr()-of?uu(n,0):af|=m),Ka(n,s)}function Np(n,s){s===0&&((n.mode&1)===0?s=1:(s=Hs,Hs<<=1,(Hs&130023424)===0&&(Hs=4194304)));var m=Ea();n=me(n,s),n!==null&&(ji(n,s,m),Ka(n,m))}function Og(n){var s=n.memoizedState,m=0;s!==null&&(m=s.retryLane),Np(n,m)}function Dg(n,s){var m=0;switch(n.tag){case 13:var b=n.stateNode,N=n.memoizedState;N!==null&&(m=N.retryLane);break;case 19:b=n.stateNode;break;default:throw Error(e(314))}b!==null&&b.delete(s),Np(n,m)}var Op;Op=function(n,s,m){if(n!==null)if(n.memoizedProps!==s.pendingProps||Ai.current)$a=!0;else{if((n.lanes&m)===0&&(s.flags&128)===0)return $a=!1,xg(n,s,m);$a=(n.flags&131072)!==0}else $a=!1,Mt&&(s.flags&1048576)!==0&&Pt(s,_e,s.index);switch(s.lanes=0,s.tag){case 2:var b=s.type;qh(n,s),n=s.pendingProps;var N=ul(s,Vr.current);rt(s,m),N=iu(null,s,b,n,N,m);var U=No();return s.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Mi(b)?(U=!0,$o(s)):U=!1,s.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,ke(s),N.updater=zh,s.stateNode=N,N._reactInternals=s,Hc(s,b,n,m),s=Zc(null,s,b,!0,U,m)):(s.tag=0,Mt&&U&&Ct(s),Sa(null,s,N,m),s=s.child),s;case 16:b=s.elementType;e:{switch(qh(n,s),n=s.pendingProps,N=b._init,b=N(b._payload),s.type=b,N=s.tag=Rg(b),n=Yo(b,n),N){case 0:s=$c(null,s,b,n,m);break e;case 1:s=ap(null,s,b,n,m);break e;case 11:s=tp(null,s,b,n,m);break e;case 14:s=np(null,s,b,Yo(b.type,n),m);break e}throw Error(e(306,b,""))}return s;case 0:return b=s.type,N=s.pendingProps,N=s.elementType===b?N:Yo(b,N),$c(n,s,b,N,m);case 1:return b=s.type,N=s.pendingProps,N=s.elementType===b?N:Yo(b,N),ap(n,s,b,N,m);case 3:e:{if(op(s),n===null)throw Error(e(387));b=s.pendingProps,U=s.memoizedState,N=U.element,Ze(n,s),Dt(s,b,null,m);var se=s.memoizedState;if(b=se.element,U.isDehydrated)if(U={element:b,isDehydrated:!1,cache:se.cache,pendingSuspenseBoundaries:se.pendingSuspenseBoundaries,transitions:se.transitions},s.updateQueue.baseState=U,s.memoizedState=U,s.flags&256){N=Au(Error(e(423)),s),s=lp(n,s,b,m,N);break e}else if(b!==N){N=Au(Error(e(424)),s),s=lp(n,s,b,m,N);break e}else for(At=ei(s.stateNode.containerInfo.firstChild),tt=s,Mt=!0,Nt=null,m=Et(s,null,b,m),s.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(z(),b===N){s=Cl(n,s,m);break e}Sa(n,s,b,m)}s=s.child}return s;case 5:return xl(s),n===null&&d(s),b=s.type,N=s.pendingProps,U=n!==null?n.memoizedProps:null,se=N.children,On(b,N)?se=null:U!==null&&On(b,U)&&(s.flags|=32),sp(n,s),Sa(n,s,se,m),s.child;case 6:return n===null&&d(s),null;case 13:return up(n,s,m);case 4:return tr(s,s.stateNode.containerInfo),b=s.pendingProps,n===null?s.child=gt(s,null,b,m):Sa(n,s,b,m),s.child;case 11:return b=s.type,N=s.pendingProps,N=s.elementType===b?N:Yo(b,N),tp(n,s,b,N,m);case 7:return Sa(n,s,s.pendingProps,m),s.child;case 8:return Sa(n,s,s.pendingProps.children,m),s.child;case 12:return Sa(n,s,s.pendingProps.children,m),s.child;case 10:e:{if(b=s.type._context,N=s.pendingProps,U=s.memoizedProps,se=N.value,pr(Wt,b._currentValue),b._currentValue=se,U!==null)if(Xn(U.value,se)){if(U.children===N.children&&!Ai.current){s=Cl(n,s,m);break e}}else for(U=s.child,U!==null&&(U.return=s);U!==null;){var ze=U.dependencies;if(ze!==null){se=U.child;for(var Qe=ze.firstContext;Qe!==null;){if(Qe.context===b){if(U.tag===1){Qe=Ge(-1,m&-m),Qe.tag=2;var St=U.updateQueue;if(St!==null){St=St.shared;var zt=St.pending;zt===null?Qe.next=Qe:(Qe.next=zt.next,zt.next=Qe),St.pending=Qe}}U.lanes|=m,Qe=U.alternate,Qe!==null&&(Qe.lanes|=m),yt(U.return,m,s),ze.lanes|=m;break}Qe=Qe.next}}else if(U.tag===10)se=U.type===s.type?null:U.child;else if(U.tag===18){if(se=U.return,se===null)throw Error(e(341));se.lanes|=m,ze=se.alternate,ze!==null&&(ze.lanes|=m),yt(se,m,s),se=U.sibling}else se=U.child;if(se!==null)se.return=U;else for(se=U;se!==null;){if(se===s){se=null;break}if(U=se.sibling,U!==null){U.return=se.return,se=U;break}se=se.return}U=se}Sa(n,s,N.children,m),s=s.child}return s;case 9:return N=s.type,b=s.pendingProps.children,rt(s,m),N=ft(N),b=b(N),s.flags|=1,Sa(n,s,b,m),s.child;case 14:return b=s.type,N=Yo(b,s.pendingProps),N=Yo(b.type,N),np(n,s,b,N,m);case 15:return rp(n,s,s.type,s.pendingProps,m);case 17:return b=s.type,N=s.pendingProps,N=s.elementType===b?N:Yo(b,N),qh(n,s),s.tag=1,Mi(b)?(n=!0,$o(s)):n=!1,rt(s,m),Zd(s,b,N),Hc(s,b,N,m),Zc(null,s,b,!0,n,m);case 19:return cp(n,s,m);case 22:return ip(n,s,m)}throw Error(e(156,s.tag))};function Dp(n,s){return Qa(n,s)}function Ig(n,s,m,b){this.tag=n,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Do(n,s,m,b){return new Ig(n,s,m,b)}function mf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Rg(n){if(typeof n=="function")return mf(n)?1:0;if(n!=null){if(n=n.$$typeof,n===G)return 11;if(n===Be)return 14}return 2}function Ul(n,s){var m=n.alternate;return m===null?(m=Do(n.tag,s,n.key,n.mode),m.elementType=n.elementType,m.type=n.type,m.stateNode=n.stateNode,m.alternate=n,n.alternate=m):(m.pendingProps=s,m.type=n.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=n.flags&14680064,m.childLanes=n.childLanes,m.lanes=n.lanes,m.child=n.child,m.memoizedProps=n.memoizedProps,m.memoizedState=n.memoizedState,m.updateQueue=n.updateQueue,s=n.dependencies,m.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},m.sibling=n.sibling,m.index=n.index,m.ref=n.ref,m}function Qh(n,s,m,b,N,U){var se=2;if(b=n,typeof n=="function")mf(n)&&(se=1);else if(typeof n=="string")se=5;else e:switch(n){case K:return cu(m.children,N,U,s);case X:se=8,N|=8;break;case ge:return n=Do(12,m,s,N|2),n.elementType=ge,n.lanes=U,n;case ae:return n=Do(13,m,s,N),n.elementType=ae,n.lanes=U,n;case F:return n=Do(19,m,s,N),n.elementType=F,n.lanes=U,n;case Fe:return ec(m,N,U,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Ie:se=10;break e;case te:se=9;break e;case G:se=11;break e;case Be:se=14;break e;case Ve:se=16,b=null;break e}throw Error(e(130,n==null?n:typeof n,""))}return s=Do(se,m,s,N),s.elementType=n,s.type=b,s.lanes=U,s}function cu(n,s,m,b){return n=Do(7,n,b,s),n.lanes=m,n}function ec(n,s,m,b){return n=Do(22,n,b,s),n.elementType=Fe,n.lanes=m,n.stateNode={isHidden:!1},n}function gf(n,s,m){return n=Do(6,n,null,s),n.lanes=m,n}function _f(n,s,m){return s=Do(4,n.children!==null?n.children:[],n.key,s),s.lanes=m,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function Fg(n,s,m,b,N){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ra(0),this.expirationTimes=Ra(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ra(0),this.identifierPrefix=b,this.onRecoverableError=N,this.mutableSourceEagerHydrationData=null}function vf(n,s,m,b,N,U,se,ze,Qe){return n=new Fg(n,s,m,ze,Qe),s===1?(s=1,U===!0&&(s|=8)):s=0,U=Do(3,null,null,s),n.current=U,U.stateNode=n,U.memoizedState={element:b,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},ke(U),n}function jg(n,s,m){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Se,key:b==null?null:""+b,children:n,containerInfo:s,implementation:m}}function Ip(n){if(!n)return Bo;n=n._reactInternals;e:{if(Kr(n)!==n||n.tag!==1)throw Error(e(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Mi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(e(171))}if(n.tag===1){var m=n.type;if(Mi(m))return nu(n,m,s)}return s}function Rp(n,s,m,b,N,U,se,ze,Qe){return n=vf(m,b,!0,n,N,U,se,ze,Qe),n.context=Ip(null),m=n.current,b=Ea(),N=jl(m),U=Ge(b,N),U.callback=s??null,Xe(m,U,N),n.current.lanes=N,ji(n,N,b),Ka(n,b),n}function tc(n,s,m,b){var N=s.current,U=Ea(),se=jl(N);return m=Ip(m),s.context===null?s.context=m:s.pendingContext=m,s=Ge(U,se),s.payload={element:n},b=b===void 0?null:b,b!==null&&(s.callback=b),n=Xe(N,s,se),n!==null&&(el(n,N,se,U),pt(n,N,se)),se}function nc(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Fp(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var m=n.retryLane;n.retryLane=m!==0&&m<s?m:s}}function yf(n,s){Fp(n,s),(n=n.alternate)&&Fp(n,s)}function zg(){return null}var jp=typeof reportError=="function"?reportError:function(n){console.error(n)};function wf(n){this._internalRoot=n}rc.prototype.render=wf.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(e(409));tc(n,s,null,null)},rc.prototype.unmount=wf.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;lu(function(){tc(null,n,null,null)}),s[Un]=null}};function rc(n){this._internalRoot=n}rc.prototype.unstable_scheduleHydration=function(n){if(n){var s=ps();n={blockedOn:null,target:n,priority:s};for(var m=0;m<zr.length&&s!==0&&s<zr[m].priority;m++);zr.splice(m,0,n),m===0&&ts(n)}};function bf(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function ic(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function zp(){}function Ug(n,s,m,b,N){if(N){if(typeof b=="function"){var U=b;b=function(){var St=nc(se);U.call(St)}}var se=Rp(s,b,n,0,null,!1,!1,"",zp);return n._reactRootContainer=se,n[Un]=se.current,Hr(n.nodeType===8?n.parentNode:n),lu(),se}for(;N=n.lastChild;)n.removeChild(N);if(typeof b=="function"){var ze=b;b=function(){var St=nc(Qe);ze.call(St)}}var Qe=vf(n,0,!1,null,null,!1,!1,"",zp);return n._reactRootContainer=Qe,n[Un]=Qe.current,Hr(n.nodeType===8?n.parentNode:n),lu(function(){tc(s,Qe,m,b)}),Qe}function sc(n,s,m,b,N){var U=m._reactRootContainer;if(U){var se=U;if(typeof N=="function"){var ze=N;N=function(){var Qe=nc(se);ze.call(Qe)}}tc(s,se,n,N)}else se=Ug(m,s,n,N,b);return nc(se)}vo=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var m=Ln(s.pendingLanes);m!==0&&(ds(s,m|1),Ka(s,wr()),(fr&6)===0&&(Tu=wr()+500,H()))}break;case 13:lu(function(){var b=me(n,1);if(b!==null){var N=Ea();el(b,n,1,N)}}),yf(n,1)}},Vs=function(n){if(n.tag===13){var s=me(n,134217728);if(s!==null){var m=Ea();el(s,n,134217728,m)}yf(n,134217728)}},yo=function(n){if(n.tag===13){var s=jl(n),m=me(n,s);if(m!==null){var b=Ea();el(m,n,s,b)}yf(n,s)}},ps=function(){return Gn},$s=function(n,s){var m=Gn;try{return Gn=n,s()}finally{Gn=m}},ar=function(n,s,m){switch(s){case"input":if(Ee(n,m),s=m.name,m.type==="radio"&&s!=null){for(m=n;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<m.length;s++){var b=m[s];if(b!==n&&b.form===n.form){var N=Ho(b);if(!N)throw Error(e(90));Gt(b),Ee(b,N)}}}break;case"textarea":It(n,m);break;case"select":s=m.value,s!=null&&ut(n,!!m.multiple,s,!1)}},ma=ff,Zr=lu;var qg={usingClientEntryPoint:!1,Events:[js,La,Ho,En,Yn,ff]},ph={findFiberByHostInstance:Wa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Gg={bundleType:ph.bundleType,version:ph.version,rendererPackageName:ph.rendererPackageName,rendererConfig:ph.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:de.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Ma(n),n===null?null:n.stateNode},findFiberByHostInstance:ph.findFiberByHostInstance||zg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{Oa=ac.inject(Gg),Yi=ac}catch{}}return Ja.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qg,Ja.createPortal=function(n,s){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bf(s))throw Error(e(200));return jg(n,s,null,m)},Ja.createRoot=function(n,s){if(!bf(n))throw Error(e(299));var m=!1,b="",N=jp;return s!=null&&(s.unstable_strictMode===!0&&(m=!0),s.identifierPrefix!==void 0&&(b=s.identifierPrefix),s.onRecoverableError!==void 0&&(N=s.onRecoverableError)),s=vf(n,1,!1,null,null,m,!1,b,N),n[Un]=s.current,Hr(n.nodeType===8?n.parentNode:n),new wf(s)},Ja.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(e(188)):(n=Object.keys(n).join(","),Error(e(268,n)));return n=Ma(s),n=n===null?null:n.stateNode,n},Ja.flushSync=function(n){return lu(n)},Ja.hydrate=function(n,s,m){if(!ic(s))throw Error(e(200));return sc(null,n,s,!0,m)},Ja.hydrateRoot=function(n,s,m){if(!bf(n))throw Error(e(405));var b=m!=null&&m.hydratedSources||null,N=!1,U="",se=jp;if(m!=null&&(m.unstable_strictMode===!0&&(N=!0),m.identifierPrefix!==void 0&&(U=m.identifierPrefix),m.onRecoverableError!==void 0&&(se=m.onRecoverableError)),s=Rp(s,null,n,1,m??null,N,!1,U,se),n[Un]=s.current,Hr(n),b)for(n=0;n<b.length;n++)m=b[n],N=m._getVersion,N=N(m._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[m,N]:s.mutableSourceEagerHydrationData.push(m,N);return new rc(s)},Ja.render=function(n,s,m){if(!ic(s))throw Error(e(200));return sc(null,n,s,!1,m)},Ja.unmountComponentAtNode=function(n){if(!ic(n))throw Error(e(40));return n._reactRootContainer?(lu(function(){sc(null,null,n,!1,function(){n._reactRootContainer=null,n[Un]=null})}),!0):!1},Ja.unstable_batchedUpdates=ff,Ja.unstable_renderSubtreeIntoContainer=function(n,s,m,b){if(!ic(m))throw Error(e(200));if(n==null||n._reactInternals===void 0)throw Error(e(38));return sc(n,s,m,!1,b)},Ja.version="18.3.1-next-f1338f8080-20240426",Ja}var Zp;function sm(){if(Zp)return kf.exports;Zp=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(t){console.error(t)}}return o(),kf.exports=Jg(),kf.exports}var Kp;function Yg(){if(Kp)return oc;Kp=1;var o=sm();return oc.createRoot=o.createRoot,oc.hydrateRoot=o.hydrateRoot,oc}var Xg=Yg();const Qg=Tc(Xg),e_="modulepreload",t_=function(o){return"/pudumaps/"+o},Jp={},Jl=function(t,e,a){let u=Promise.resolve();if(e&&e.length>0){let g=function(y){return Promise.all(y.map(S=>Promise.resolve(S).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),p=c?.nonce||c?.getAttribute("nonce");u=g(e.map(y=>{if(y=t_(y),y in Jp)return;Jp[y]=!0;const S=y.endsWith(".css"),E=S?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${E}`))return;const M=document.createElement("link");if(M.rel=S?"stylesheet":e_,S||(M.as="script"),M.crossOrigin="",M.href=y,p&&M.setAttribute("nonce",p),document.head.appendChild(M),S)return new Promise((x,R)=>{M.addEventListener("load",x),M.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${y}`)))})}))}function l(c){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=c,window.dispatchEvent(p),!p.defaultPrevented)throw c}return u.then(c=>{for(const p of c||[])p.status==="rejected"&&l(p.reason);return t().catch(l)})},n_=o=>{let t;return o?t=o:typeof fetch>"u"?t=(...e)=>Jl(async()=>{const{default:a}=await Promise.resolve().then(()=>ih);return{default:a}},void 0).then(({default:a})=>a(...e)):t=fetch,(...e)=>t(...e)};class Cd extends Error{constructor(t,e="FunctionsError",a){super(t),this.name=e,this.context=a}}class r_ extends Cd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Yp extends Cd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Xp extends Cd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Jf;(function(o){o.Any="any",o.ApNortheast1="ap-northeast-1",o.ApNortheast2="ap-northeast-2",o.ApSouth1="ap-south-1",o.ApSoutheast1="ap-southeast-1",o.ApSoutheast2="ap-southeast-2",o.CaCentral1="ca-central-1",o.EuCentral1="eu-central-1",o.EuWest1="eu-west-1",o.EuWest2="eu-west-2",o.EuWest3="eu-west-3",o.SaEast1="sa-east-1",o.UsEast1="us-east-1",o.UsWest1="us-west-1",o.UsWest2="us-west-2"})(Jf||(Jf={}));var i_=function(o,t,e,a){function u(l){return l instanceof e?l:new e(function(c){c(l)})}return new(e||(e=Promise))(function(l,c){function p(S){try{y(a.next(S))}catch(E){c(E)}}function g(S){try{y(a.throw(S))}catch(E){c(E)}}function y(S){S.done?l(S.value):u(S.value).then(p,g)}y((a=a.apply(o,t||[])).next())})};class s_{constructor(t,{headers:e={},customFetch:a,region:u=Jf.Any}={}){this.url=t,this.headers=e,this.region=u,this.fetch=n_(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,e={}){var a;return i_(this,void 0,void 0,function*(){try{const{headers:u,method:l,body:c}=e;let p={},{region:g}=e;g||(g=this.region);const y=new URL(`${this.url}/${t}`);g&&g!=="any"&&(p["x-region"]=g,y.searchParams.set("forceFunctionRegion",g));let S;c&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",S=c):typeof c=="string"?(p["Content-Type"]="text/plain",S=c):typeof FormData<"u"&&c instanceof FormData?S=c:(p["Content-Type"]="application/json",S=JSON.stringify(c)));const E=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),u),body:S}).catch(A=>{throw new r_(A)}),M=E.headers.get("x-relay-error");if(M&&M==="true")throw new Yp(E);if(!E.ok)throw new Xp(E);let x=((a=E.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),R;return x==="application/json"?R=yield E.json():x==="application/octet-stream"?R=yield E.blob():x==="text/event-stream"?R=E:x==="multipart/form-data"?R=yield E.formData():R=yield E.text(),{data:R,error:null,response:E}}catch(u){return{data:null,error:u,response:u instanceof Xp||u instanceof Yp?u.context:void 0}}})}}var Ss={},Ou={},Du={},Iu={},Ru={},Fu={},a_=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},rh=a_();const o_=rh.fetch,am=rh.fetch.bind(rh),om=rh.Headers,l_=rh.Request,u_=rh.Response,ih=Object.freeze(Object.defineProperty({__proto__:null,Headers:om,Request:l_,Response:u_,default:am,fetch:o_},Symbol.toStringTag,{value:"Module"})),h_=im(ih);var lc={},Qp;function lm(){if(Qp)return lc;Qp=1,Object.defineProperty(lc,"__esModule",{value:!0});class o extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}return lc.default=o,lc}var e0;function um(){if(e0)return Fu;e0=1;var o=Fu&&Fu.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Fu,"__esModule",{value:!0});const t=o(h_),e=o(lm());class a{constructor(l){this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=l.headers,this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=l.shouldThrowOnError,this.signal=l.signal,this.isMaybeSingle=l.isMaybeSingle,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,c){return this.headers=Object.assign({},this.headers),this.headers[l]=c,this}then(l,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const p=this.fetch;let g=p(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async y=>{var S,E,M;let x=null,R=null,A=null,I=y.status,O=y.statusText;if(y.ok){if(this.method!=="HEAD"){const ve=await y.text();ve===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?R=ve:R=JSON.parse(ve))}const Z=(S=this.headers.Prefer)===null||S===void 0?void 0:S.match(/count=(exact|planned|estimated)/),de=(E=y.headers.get("content-range"))===null||E===void 0?void 0:E.split("/");Z&&de&&de.length>1&&(A=parseInt(de[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(R)&&(R.length>1?(x={code:"PGRST116",details:`Results contain ${R.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},R=null,A=null,I=406,O="Not Acceptable"):R.length===1?R=R[0]:R=null)}else{const Z=await y.text();try{x=JSON.parse(Z),Array.isArray(x)&&y.status===404&&(R=[],x=null,I=200,O="OK")}catch{y.status===404&&Z===""?(I=204,O="No Content"):x={message:Z}}if(x&&this.isMaybeSingle&&(!((M=x?.details)===null||M===void 0)&&M.includes("0 rows"))&&(x=null,I=200,O="OK"),x&&this.shouldThrowOnError)throw new e.default(x)}return{error:x,data:R,count:A,status:I,statusText:O}});return this.shouldThrowOnError||(g=g.catch(y=>{var S,E,M;return{error:{message:`${(S=y?.name)!==null&&S!==void 0?S:"FetchError"}: ${y?.message}`,details:`${(E=y?.stack)!==null&&E!==void 0?E:""}`,hint:"",code:`${(M=y?.code)!==null&&M!==void 0?M:""}`},data:null,count:null,status:0,statusText:""}})),g.then(l,c)}returns(){return this}overrideTypes(){return this}}return Fu.default=a,Fu}var t0;function hm(){if(t0)return Ru;t0=1;var o=Ru&&Ru.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Ru,"__esModule",{value:!0});const t=o(um());class e extends t.default{select(u){let l=!1;const c=(u??"*").split("").map(p=>/\s/.test(p)&&!l?"":(p==='"'&&(l=!l),p)).join("");return this.url.searchParams.set("select",c),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(u,{ascending:l=!0,nullsFirst:c,foreignTable:p,referencedTable:g=p}={}){const y=g?`${g}.order`:"order",S=this.url.searchParams.get(y);return this.url.searchParams.set(y,`${S?`${S},`:""}${u}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(u,{foreignTable:l,referencedTable:c=l}={}){const p=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(p,`${u}`),this}range(u,l,{foreignTable:c,referencedTable:p=c}={}){const g=typeof p>"u"?"offset":`${p}.offset`,y=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(g,`${u}`),this.url.searchParams.set(y,`${l-u+1}`),this}abortSignal(u){return this.signal=u,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:u=!1,verbose:l=!1,settings:c=!1,buffers:p=!1,wal:g=!1,format:y="text"}={}){var S;const E=[u?"analyze":null,l?"verbose":null,c?"settings":null,p?"buffers":null,g?"wal":null].filter(Boolean).join("|"),M=(S=this.headers.Accept)!==null&&S!==void 0?S:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${y}; for="${M}"; options=${E};`,y==="json"?this:this}rollback(){var u;return((u=this.headers.Prefer)!==null&&u!==void 0?u:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Ru.default=e,Ru}var n0;function Sd(){if(n0)return Iu;n0=1;var o=Iu&&Iu.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Iu,"__esModule",{value:!0});const t=o(hm());class e extends t.default{eq(u,l){return this.url.searchParams.append(u,`eq.${l}`),this}neq(u,l){return this.url.searchParams.append(u,`neq.${l}`),this}gt(u,l){return this.url.searchParams.append(u,`gt.${l}`),this}gte(u,l){return this.url.searchParams.append(u,`gte.${l}`),this}lt(u,l){return this.url.searchParams.append(u,`lt.${l}`),this}lte(u,l){return this.url.searchParams.append(u,`lte.${l}`),this}like(u,l){return this.url.searchParams.append(u,`like.${l}`),this}likeAllOf(u,l){return this.url.searchParams.append(u,`like(all).{${l.join(",")}}`),this}likeAnyOf(u,l){return this.url.searchParams.append(u,`like(any).{${l.join(",")}}`),this}ilike(u,l){return this.url.searchParams.append(u,`ilike.${l}`),this}ilikeAllOf(u,l){return this.url.searchParams.append(u,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(u,l){return this.url.searchParams.append(u,`ilike(any).{${l.join(",")}}`),this}is(u,l){return this.url.searchParams.append(u,`is.${l}`),this}in(u,l){const c=Array.from(new Set(l)).map(p=>typeof p=="string"&&new RegExp("[,()]").test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(u,`in.(${c})`),this}contains(u,l){return typeof l=="string"?this.url.searchParams.append(u,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(u,`cs.{${l.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(l)}`),this}containedBy(u,l){return typeof l=="string"?this.url.searchParams.append(u,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(u,`cd.{${l.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(l)}`),this}rangeGt(u,l){return this.url.searchParams.append(u,`sr.${l}`),this}rangeGte(u,l){return this.url.searchParams.append(u,`nxl.${l}`),this}rangeLt(u,l){return this.url.searchParams.append(u,`sl.${l}`),this}rangeLte(u,l){return this.url.searchParams.append(u,`nxr.${l}`),this}rangeAdjacent(u,l){return this.url.searchParams.append(u,`adj.${l}`),this}overlaps(u,l){return typeof l=="string"?this.url.searchParams.append(u,`ov.${l}`):this.url.searchParams.append(u,`ov.{${l.join(",")}}`),this}textSearch(u,l,{config:c,type:p}={}){let g="";p==="plain"?g="pl":p==="phrase"?g="ph":p==="websearch"&&(g="w");const y=c===void 0?"":`(${c})`;return this.url.searchParams.append(u,`${g}fts${y}.${l}`),this}match(u){return Object.entries(u).forEach(([l,c])=>{this.url.searchParams.append(l,`eq.${c}`)}),this}not(u,l,c){return this.url.searchParams.append(u,`not.${l}.${c}`),this}or(u,{foreignTable:l,referencedTable:c=l}={}){const p=c?`${c}.or`:"or";return this.url.searchParams.append(p,`(${u})`),this}filter(u,l,c){return this.url.searchParams.append(u,`${l}.${c}`),this}}return Iu.default=e,Iu}var r0;function cm(){if(r0)return Du;r0=1;var o=Du&&Du.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Du,"__esModule",{value:!0});const t=o(Sd());class e{constructor(u,{headers:l={},schema:c,fetch:p}){this.url=u,this.headers=l,this.schema=c,this.fetch=p}select(u,{head:l=!1,count:c}={}){const p=l?"HEAD":"GET";let g=!1;const y=(u??"*").split("").map(S=>/\s/.test(S)&&!g?"":(S==='"'&&(g=!g),S)).join("");return this.url.searchParams.set("select",y),c&&(this.headers.Prefer=`count=${c}`),new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(u,{count:l,defaultToNull:c=!0}={}){const p="POST",g=[];if(this.headers.Prefer&&g.push(this.headers.Prefer),l&&g.push(`count=${l}`),c||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(u)){const y=u.reduce((S,E)=>S.concat(Object.keys(E)),[]);if(y.length>0){const S=[...new Set(y)].map(E=>`"${E}"`);this.url.searchParams.set("columns",S.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:this.fetch,allowEmpty:!1})}upsert(u,{onConflict:l,ignoreDuplicates:c=!1,count:p,defaultToNull:g=!0}={}){const y="POST",S=[`resolution=${c?"ignore":"merge"}-duplicates`];if(l!==void 0&&this.url.searchParams.set("on_conflict",l),this.headers.Prefer&&S.push(this.headers.Prefer),p&&S.push(`count=${p}`),g||S.push("missing=default"),this.headers.Prefer=S.join(","),Array.isArray(u)){const E=u.reduce((M,x)=>M.concat(Object.keys(x)),[]);if(E.length>0){const M=[...new Set(E)].map(x=>`"${x}"`);this.url.searchParams.set("columns",M.join(","))}}return new t.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:this.fetch,allowEmpty:!1})}update(u,{count:l}={}){const c="PATCH",p=[];return this.headers.Prefer&&p.push(this.headers.Prefer),l&&p.push(`count=${l}`),this.headers.Prefer=p.join(","),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:this.fetch,allowEmpty:!1})}delete({count:u}={}){const l="DELETE",c=[];return u&&c.push(`count=${u}`),this.headers.Prefer&&c.unshift(this.headers.Prefer),this.headers.Prefer=c.join(","),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Du.default=e,Du}var gh={},_h={},i0;function c_(){return i0||(i0=1,Object.defineProperty(_h,"__esModule",{value:!0}),_h.version=void 0,_h.version="0.0.0-automated"),_h}var s0;function f_(){if(s0)return gh;s0=1,Object.defineProperty(gh,"__esModule",{value:!0}),gh.DEFAULT_HEADERS=void 0;const o=c_();return gh.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${o.version}`},gh}var a0;function d_(){if(a0)return Ou;a0=1;var o=Ou&&Ou.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Ou,"__esModule",{value:!0});const t=o(cm()),e=o(Sd()),a=f_();class u{constructor(c,{headers:p={},schema:g,fetch:y}={}){this.url=c,this.headers=Object.assign(Object.assign({},a.DEFAULT_HEADERS),p),this.schemaName=g,this.fetch=y}from(c){const p=new URL(`${this.url}/${c}`);return new t.default(p,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new u(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,p={},{head:g=!1,get:y=!1,count:S}={}){let E;const M=new URL(`${this.url}/rpc/${c}`);let x;g||y?(E=g?"HEAD":"GET",Object.entries(p).filter(([A,I])=>I!==void 0).map(([A,I])=>[A,Array.isArray(I)?`{${I.join(",")}}`:`${I}`]).forEach(([A,I])=>{M.searchParams.append(A,I)})):(E="POST",x=p);const R=Object.assign({},this.headers);return S&&(R.Prefer=`count=${S}`),new e.default({method:E,url:M,headers:R,schema:this.schemaName,body:x,fetch:this.fetch,allowEmpty:!1})}}return Ou.default=u,Ou}var o0;function p_(){if(o0)return Ss;o0=1;var o=Ss&&Ss.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(Ss,"__esModule",{value:!0}),Ss.PostgrestError=Ss.PostgrestBuilder=Ss.PostgrestTransformBuilder=Ss.PostgrestFilterBuilder=Ss.PostgrestQueryBuilder=Ss.PostgrestClient=void 0;const t=o(d_());Ss.PostgrestClient=t.default;const e=o(cm());Ss.PostgrestQueryBuilder=e.default;const a=o(Sd());Ss.PostgrestFilterBuilder=a.default;const u=o(hm());Ss.PostgrestTransformBuilder=u.default;const l=o(um());Ss.PostgrestBuilder=l.default;const c=o(lm());return Ss.PostgrestError=c.default,Ss.default={PostgrestClient:t.default,PostgrestQueryBuilder:e.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:u.default,PostgrestBuilder:l.default,PostgrestError:c.default},Ss}var m_=p_();const g_=Tc(m_),{PostgrestClient:__,PostgrestQueryBuilder:d5,PostgrestFilterBuilder:p5,PostgrestTransformBuilder:m5,PostgrestBuilder:g5,PostgrestError:_5}=g_;class v_{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const e=parseInt(process.versions.node.split(".")[0]);return e>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${e} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${e} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let e=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(e+=`

Suggested solution: ${t.workaround}`),new Error(e)}static createWebSocket(t,e){const a=this.getWebSocketConstructor();return new a(t,e)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const y_="2.15.1",w_=`realtime-js/${y_}`,b_="1.0.0",Yf=1e4,x_=1e3,L_=100;var kh;(function(o){o[o.connecting=0]="connecting",o[o.open=1]="open",o[o.closing=2]="closing",o[o.closed=3]="closed"})(kh||(kh={}));var us;(function(o){o.closed="closed",o.errored="errored",o.joined="joined",o.joining="joining",o.leaving="leaving"})(us||(us={}));var sl;(function(o){o.close="phx_close",o.error="phx_error",o.join="phx_join",o.reply="phx_reply",o.leave="phx_leave",o.access_token="access_token"})(sl||(sl={}));var Xf;(function(o){o.websocket="websocket"})(Xf||(Xf={}));var gu;(function(o){o.Connecting="connecting",o.Open="open",o.Closing="closing",o.Closed="closed"})(gu||(gu={}));class k_{constructor(){this.HEADER_LENGTH=1}decode(t,e){return t.constructor===ArrayBuffer?e(this._binaryDecode(t)):e(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const e=new DataView(t),a=new TextDecoder;return this._decodeBroadcast(t,e,a)}_decodeBroadcast(t,e,a){const u=e.getUint8(1),l=e.getUint8(2);let c=this.HEADER_LENGTH+2;const p=a.decode(t.slice(c,c+u));c=c+u;const g=a.decode(t.slice(c,c+l));c=c+l;const y=JSON.parse(a.decode(t.slice(c,t.byteLength)));return{ref:null,topic:p,event:g,payload:y}}}class fm{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var jr;(function(o){o.abstime="abstime",o.bool="bool",o.date="date",o.daterange="daterange",o.float4="float4",o.float8="float8",o.int2="int2",o.int4="int4",o.int4range="int4range",o.int8="int8",o.int8range="int8range",o.json="json",o.jsonb="jsonb",o.money="money",o.numeric="numeric",o.oid="oid",o.reltime="reltime",o.text="text",o.time="time",o.timestamp="timestamp",o.timestamptz="timestamptz",o.timetz="timetz",o.tsrange="tsrange",o.tstzrange="tstzrange"})(jr||(jr={}));const l0=(o,t,e={})=>{var a;const u=(a=e.skipTypes)!==null&&a!==void 0?a:[];return Object.keys(t).reduce((l,c)=>(l[c]=C_(c,o,t,u),l),{})},C_=(o,t,e,a)=>{const u=t.find(p=>p.name===o),l=u?.type,c=e[o];return l&&!a.includes(l)?dm(l,c):Qf(c)},dm=(o,t)=>{if(o.charAt(0)==="_"){const e=o.slice(1,o.length);return A_(t,e)}switch(o){case jr.bool:return S_(t);case jr.float4:case jr.float8:case jr.int2:case jr.int4:case jr.int8:case jr.numeric:case jr.oid:return E_(t);case jr.json:case jr.jsonb:return P_(t);case jr.timestamp:return M_(t);case jr.abstime:case jr.date:case jr.daterange:case jr.int4range:case jr.int8range:case jr.money:case jr.reltime:case jr.text:case jr.time:case jr.timestamptz:case jr.timetz:case jr.tsrange:case jr.tstzrange:return Qf(t);default:return Qf(t)}},Qf=o=>o,S_=o=>{switch(o){case"t":return!0;case"f":return!1;default:return o}},E_=o=>{if(typeof o=="string"){const t=parseFloat(o);if(!Number.isNaN(t))return t}return o},P_=o=>{if(typeof o=="string")try{return JSON.parse(o)}catch(t){return console.log(`JSON parse error: ${t}`),o}return o},A_=(o,t)=>{if(typeof o!="string")return o;const e=o.length-1,a=o[e];if(o[0]==="{"&&a==="}"){let l;const c=o.slice(1,e);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(p=>dm(t,p))}return o},M_=o=>typeof o=="string"?o.replace(" ","T"):o,pm=o=>{let t=o;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Ef{constructor(t,e,a={},u=Yf){this.channel=t,this.event=e,this.payload=a,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var a;return this._hasReceived(t)&&e((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(e))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var u0;(function(o){o.SYNC="sync",o.JOIN="join",o.LEAVE="leave"})(u0||(u0={}));class Ch{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=e?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},u=>{const{onJoin:l,onLeave:c,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ch.syncState(this.state,u,l,c),this.pendingDiffs.forEach(g=>{this.state=Ch.syncDiff(this.state,g,l,c)}),this.pendingDiffs=[],p()}),this.channel._on(a.diff,{},u=>{const{onJoin:l,onLeave:c,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=Ch.syncDiff(this.state,u,l,c),p())}),this.onJoin((u,l,c)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:l,newPresences:c})}),this.onLeave((u,l,c)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,e,a,u){const l=this.cloneDeep(t),c=this.transformState(e),p={},g={};return this.map(l,(y,S)=>{c[y]||(g[y]=S)}),this.map(c,(y,S)=>{const E=l[y];if(E){const M=S.map(I=>I.presence_ref),x=E.map(I=>I.presence_ref),R=S.filter(I=>x.indexOf(I.presence_ref)<0),A=E.filter(I=>M.indexOf(I.presence_ref)<0);R.length>0&&(p[y]=R),A.length>0&&(g[y]=A)}else p[y]=S}),this.syncDiff(l,{joins:p,leaves:g},a,u)}static syncDiff(t,e,a,u){const{joins:l,leaves:c}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return a||(a=()=>{}),u||(u=()=>{}),this.map(l,(p,g)=>{var y;const S=(y=t[p])!==null&&y!==void 0?y:[];if(t[p]=this.cloneDeep(g),S.length>0){const E=t[p].map(x=>x.presence_ref),M=S.filter(x=>E.indexOf(x.presence_ref)<0);t[p].unshift(...M)}a(p,S,g)}),this.map(c,(p,g)=>{let y=t[p];if(!y)return;const S=g.map(E=>E.presence_ref);y=y.filter(E=>S.indexOf(E.presence_ref)<0),t[p]=y,u(p,y,g),y.length===0&&delete t[p]}),t}static map(t,e){return Object.getOwnPropertyNames(t).map(a=>e(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((e,a)=>{const u=t[a];return"metas"in u?e[a]=u.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):e[a]=u,e},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var h0;(function(o){o.ALL="*",o.INSERT="INSERT",o.UPDATE="UPDATE",o.DELETE="DELETE"})(h0||(h0={}));var Sh;(function(o){o.BROADCAST="broadcast",o.PRESENCE="presence",o.POSTGRES_CHANGES="postgres_changes",o.SYSTEM="system"})(Sh||(Sh={}));var Al;(function(o){o.SUBSCRIBED="SUBSCRIBED",o.TIMED_OUT="TIMED_OUT",o.CLOSED="CLOSED",o.CHANNEL_ERROR="CHANNEL_ERROR"})(Al||(Al={}));class Ed{constructor(t,e={config:{}},a){this.topic=t,this.params=e,this.socket=a,this.bindings={},this.state=us.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new Ef(this,sl.join,this.params,this.timeout),this.rejoinTimer=new fm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=us.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=us.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=us.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=us.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=us.errored,this.rejoinTimer.scheduleTimeout())}),this._on(sl.reply,{},(u,l)=>{this._trigger(this._replyEventName(l),u)}),this.presence=new Ch(this),this.broadcastEndpointURL=pm(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,e=this.timeout){var a,u;if(this.socket.isConnected()||this.socket.connect(),this.state==us.closed){const{config:{broadcast:l,presence:c,private:p}}=this.params,g=(u=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(M=>M.filter))!==null&&u!==void 0?u:[],y=!!this.bindings[Sh.PRESENCE]&&this.bindings[Sh.PRESENCE].length>0,S={},E={broadcast:l,presence:Object.assign(Object.assign({},c),{enabled:y}),postgres_changes:g,private:p};this.socket.accessTokenValue&&(S.access_token=this.socket.accessTokenValue),this._onError(M=>t?.(Al.CHANNEL_ERROR,M)),this._onClose(()=>t?.(Al.CLOSED)),this.updateJoinPayload(Object.assign({config:E},S)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",async({postgres_changes:M})=>{var x;if(this.socket.setAuth(),M===void 0){t?.(Al.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,A=(x=R?.length)!==null&&x!==void 0?x:0,I=[];for(let O=0;O<A;O++){const W=R[O],{filter:{event:Z,schema:de,table:ve,filter:Se}}=W,K=M&&M[O];if(K&&K.event===Z&&K.schema===de&&K.table===ve&&K.filter===Se)I.push(Object.assign(Object.assign({},W),{id:K.id}));else{this.unsubscribe(),this.state=us.errored,t?.(Al.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=I,t&&t(Al.SUBSCRIBED);return}}).receive("error",M=>{this.state=us.errored,t?.(Al.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(M).join(", ")||"error")))}).receive("timeout",()=>{t?.(Al.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,e={}){return await this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,e,a){return this.state===us.joined&&t===Sh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,e,a)}async send(t,e={}){var a,u;if(!this._canPush()&&t.type==="broadcast"){const{event:l,payload:c}=t,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(a=e.timeout)!==null&&a!==void 0?a:this.timeout);return await((u=y.body)===null||u===void 0?void 0:u.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,p,g;const y=this._push(t.type,t,e.timeout||this.timeout);t.type==="broadcast"&&!(!((g=(p=(c=this.params)===null||c===void 0?void 0:c.config)===null||p===void 0?void 0:p.broadcast)===null||g===void 0)&&g.ack)&&l("ok"),y.receive("ok",()=>l("ok")),y.receive("error",()=>l("error")),y.receive("timeout",()=>l("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=us.leaving;const e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(sl.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(u=>{a=new Ef(this,sl.leave,{},t),a.receive("ok",()=>{e(),u("ok")}).receive("timeout",()=>{e(),u("timed out")}).receive("error",()=>{u("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=us.closed,this.bindings={}}async _fetchWithTimeout(t,e,a){const u=new AbortController,l=setTimeout(()=>u.abort(),a),c=await this.socket.fetch(t,Object.assign(Object.assign({},e),{signal:u.signal}));return clearTimeout(l),c}_push(t,e,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new Ef(this,t,e,a);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>L_){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(t,e,a){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,a){var u,l;const c=t.toLocaleLowerCase(),{close:p,error:g,leave:y,join:S}=sl;if(a&&[p,g,y,S].indexOf(c)>=0&&a!==this._joinRef())return;let M=this._onMessage(c,e,a);if(e&&!M)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(x=>{var R,A,I;return((R=x.filter)===null||R===void 0?void 0:R.event)==="*"||((I=(A=x.filter)===null||A===void 0?void 0:A.event)===null||I===void 0?void 0:I.toLocaleLowerCase())===c}).map(x=>x.callback(M,a)):(l=this.bindings[c])===null||l===void 0||l.filter(x=>{var R,A,I,O,W,Z;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in x){const de=x.id,ve=(R=x.filter)===null||R===void 0?void 0:R.event;return de&&((A=e.ids)===null||A===void 0?void 0:A.includes(de))&&(ve==="*"||ve?.toLocaleLowerCase()===((I=e.data)===null||I===void 0?void 0:I.type.toLocaleLowerCase()))}else{const de=(W=(O=x?.filter)===null||O===void 0?void 0:O.event)===null||W===void 0?void 0:W.toLocaleLowerCase();return de==="*"||de===((Z=e?.event)===null||Z===void 0?void 0:Z.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===c}).map(x=>{if(typeof M=="object"&&"ids"in M){const R=M.data,{schema:A,table:I,commit_timestamp:O,type:W,errors:Z}=R;M=Object.assign(Object.assign({},{schema:A,table:I,commit_timestamp:O,eventType:W,new:{},old:{},errors:Z}),this._getPayloadRecords(R))}x.callback(M,a)})}_isClosed(){return this.state===us.closed}_isJoined(){return this.state===us.joined}_isJoining(){return this.state===us.joining}_isLeaving(){return this.state===us.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,a){const u=t.toLocaleLowerCase(),l={type:u,filter:e,callback:a};return this.bindings[u]?this.bindings[u].push(l):this.bindings[u]=[l],this}_off(t,e){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(u=>{var l;return!(((l=u.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===a&&Ed.isEqual(u.filter,e))})),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const a in t)if(t[a]!==e[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(sl.close,{},t)}_onError(t){this._on(sl.error,{},e=>t(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=us.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const e={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(e.new=l0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(e.old=l0(t.columns,t.old_record)),e}}const c0=()=>{},uc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},B_=[1e3,2e3,5e3,1e4],T_=1e4,N_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class O_{constructor(t,e){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Yf,this.transport=null,this.heartbeatIntervalMs=uc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=c0,this.ref=0,this.reconnectTimer=null,this.logger=c0,this.conn=null,this.sendBuffer=[],this.serializer=new k_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=u=>{let l;return u?l=u:typeof fetch>"u"?l=(...c)=>Jl(async()=>{const{default:p}=await Promise.resolve().then(()=>ih);return{default:p}},void 0).then(({default:p})=>p(...c)).catch(p=>{throw new Error(`Failed to load @supabase/node-fetch: ${p.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...c)=>l(...c)},!(!((a=e?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=e.params.apikey,this.endPoint=`${t}/${Xf.websocket}`,this.httpEndpoint=pm(t),this._initializeOptions(e),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(e?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=v_.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const e=t.message;throw e.includes("Node.js")?new Error(`${e}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${e}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:b_}))}disconnect(t,e){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},t?this.conn.close(t,e??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const e=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),e}async removeAllChannels(){const t=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,e,a){this.logger(t,e,a)}connectionState(){switch(this.conn&&this.conn.readyState){case kh.connecting:return gu.Connecting;case kh.open:return gu.Open;case kh.closing:return gu.Closing;default:return gu.Closed}}isConnected(){return this.connectionState()===gu.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,e={config:{}}){const a=`realtime:${t}`,u=this.getChannels().find(l=>l.topic===a);if(u)return u;{const l=new Ed(`realtime:${t}`,e,this);return this.channels.push(l),l}}push(t){const{topic:e,event:a,payload:u,ref:l}=t,c=()=>{this.encode(t,p=>{var g;(g=this.conn)===null||g===void 0||g.send(p)})};this.log("push",`${e} ${a} (${l})`,u),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(x_,"heartbeat timeout"),setTimeout(()=>{var e;this.isConnected()||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout()},uc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter(e=>e.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,e=>{e.topic==="phoenix"&&e.event==="phx_reply"&&this.heartbeatCallback(e.payload.status==="ok"?"ok":"error"),e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:u,payload:l,ref:c}=e,p=c?`(${c})`:"",g=l.status||"";this.log("receive",`${g} ${a} ${u} ${p}`.trim(),l),this.channels.filter(y=>y._isMember(a)).forEach(y=>y._trigger(u,l,c)),this._triggerStateCallbacks("message",e)})}_clearTimer(t){var e;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((e=this.reconnectTimer)===null||e===void 0||e.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var e;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(sl.error))}_appendParams(t,e){if(Object.keys(e).length===0)return t;const a=t.match(/\?/)?"&":"?",u=new URLSearchParams(e);return`${t}${a}${u}`}_workerObjectUrl(t){let e;if(t)e=t;else{const a=new Blob([N_],{type:"application/javascript"});e=URL.createObjectURL(a)}return e}_setConnectionState(t,e=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=e)}async _performAuth(t=null){let e;t?e=t:this.accessToken?e=await this.accessToken():e=this.accessTokenValue,this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(a=>{const u={access_token:e,version:w_};e&&a.updateJoinPayload(u),a.joinedOnce&&a._isJoined()&&a._push(sl.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(e=>{this.log("error",`error setting auth in ${t}`,e)})}_triggerStateCallbacks(t,e){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(e)}catch(u){this.log("error",`error in ${t} callback`,u)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new fm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},uc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var e,a,u,l,c,p,g,y;if(this.transport=(e=t?.transport)!==null&&e!==void 0?e:null,this.timeout=(a=t?.timeout)!==null&&a!==void 0?a:Yf,this.heartbeatIntervalMs=(u=t?.heartbeatIntervalMs)!==null&&u!==void 0?u:uc.HEARTBEAT_INTERVAL,this.worker=(l=t?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=t?.accessToken)!==null&&c!==void 0?c:null,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=t?.reconnectAfterMs)!==null&&p!==void 0?p:(S=>B_[S-1]||T_),this.encode=(g=t?.encode)!==null&&g!==void 0?g:((S,E)=>E(JSON.stringify(S))),this.decode=(y=t?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class Pd extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function hs(o){return typeof o=="object"&&o!==null&&"__isStorageError"in o}class D_ extends Pd{constructor(t,e,a){super(t),this.name="StorageApiError",this.status=e,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ed extends Pd{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}}var I_=function(o,t,e,a){function u(l){return l instanceof e?l:new e(function(c){c(l)})}return new(e||(e=Promise))(function(l,c){function p(S){try{y(a.next(S))}catch(E){c(E)}}function g(S){try{y(a.throw(S))}catch(E){c(E)}}function y(S){S.done?l(S.value):u(S.value).then(p,g)}y((a=a.apply(o,t||[])).next())})};const mm=o=>{let t;return o?t=o:typeof fetch>"u"?t=(...e)=>Jl(async()=>{const{default:a}=await Promise.resolve().then(()=>ih);return{default:a}},void 0).then(({default:a})=>a(...e)):t=fetch,(...e)=>t(...e)},R_=()=>I_(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Jl(()=>Promise.resolve().then(()=>ih),void 0)).Response:Response}),td=o=>{if(Array.isArray(o))return o.map(e=>td(e));if(typeof o=="function"||o!==Object(o))return o;const t={};return Object.entries(o).forEach(([e,a])=>{const u=e.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));t[u]=td(a)}),t},F_=o=>{if(typeof o!="object"||o===null)return!1;const t=Object.getPrototypeOf(o);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in o)&&!(Symbol.iterator in o)};var yu=function(o,t,e,a){function u(l){return l instanceof e?l:new e(function(c){c(l)})}return new(e||(e=Promise))(function(l,c){function p(S){try{y(a.next(S))}catch(E){c(E)}}function g(S){try{y(a.throw(S))}catch(E){c(E)}}function y(S){S.done?l(S.value):u(S.value).then(p,g)}y((a=a.apply(o,t||[])).next())})};const Pf=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),j_=(o,t,e)=>yu(void 0,void 0,void 0,function*(){const a=yield R_();o instanceof a&&!e?.noResolveJson?o.json().then(u=>{const l=o.status||500,c=u?.statusCode||l+"";t(new D_(Pf(u),l,c))}).catch(u=>{t(new ed(Pf(u),u))}):t(new ed(Pf(o),o))}),z_=(o,t,e,a)=>{const u={method:o,headers:t?.headers||{}};return o==="GET"||!a?u:(F_(a)?(u.headers=Object.assign({"Content-Type":"application/json"},t?.headers),u.body=JSON.stringify(a)):u.body=a,t?.duplex&&(u.duplex=t.duplex),Object.assign(Object.assign({},u),e))};function Bh(o,t,e,a,u,l){return yu(this,void 0,void 0,function*(){return new Promise((c,p)=>{o(e,z_(t,a,u,l)).then(g=>{if(!g.ok)throw g;return a?.noResolveJson?g:g.json()}).then(g=>c(g)).catch(g=>j_(g,p,a))})})}function Sc(o,t,e,a){return yu(this,void 0,void 0,function*(){return Bh(o,"GET",t,e,a)})}function dl(o,t,e,a,u){return yu(this,void 0,void 0,function*(){return Bh(o,"POST",t,a,u,e)})}function nd(o,t,e,a,u){return yu(this,void 0,void 0,function*(){return Bh(o,"PUT",t,a,u,e)})}function U_(o,t,e,a){return yu(this,void 0,void 0,function*(){return Bh(o,"HEAD",t,Object.assign(Object.assign({},e),{noResolveJson:!0}),a)})}function gm(o,t,e,a,u){return yu(this,void 0,void 0,function*(){return Bh(o,"DELETE",t,a,u,e)})}var Pa=function(o,t,e,a){function u(l){return l instanceof e?l:new e(function(c){c(l)})}return new(e||(e=Promise))(function(l,c){function p(S){try{y(a.next(S))}catch(E){c(E)}}function g(S){try{y(a.throw(S))}catch(E){c(E)}}function y(S){S.done?l(S.value):u(S.value).then(p,g)}y((a=a.apply(o,t||[])).next())})};const q_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},f0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class G_{constructor(t,e={},a,u){this.url=t,this.headers=e,this.bucketId=a,this.fetch=mm(u)}uploadOrUpdate(t,e,a,u){return Pa(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},f0),u);let p=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const g=c.metadata;typeof Blob<"u"&&a instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),g&&l.append("metadata",this.encodeMetadata(g)),l.append("",a)):typeof FormData<"u"&&a instanceof FormData?(l=a,l.append("cacheControl",c.cacheControl),g&&l.append("metadata",this.encodeMetadata(g))):(l=a,p["cache-control"]=`max-age=${c.cacheControl}`,p["content-type"]=c.contentType,g&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),u?.headers&&(p=Object.assign(Object.assign({},p),u.headers));const y=this._removeEmptyFolders(e),S=this._getFinalPath(y),E=yield(t=="PUT"?nd:dl)(this.fetch,`${this.url}/object/${S}`,l,Object.assign({headers:p},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:y,id:E.Id,fullPath:E.Key},error:null}}catch(l){if(hs(l))return{data:null,error:l};throw l}})}upload(t,e,a){return Pa(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,e,a)})}uploadToSignedUrl(t,e,a,u){return Pa(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),p=new URL(this.url+`/object/upload/sign/${c}`);p.searchParams.set("token",e);try{let g;const y=Object.assign({upsert:f0.upsert},u),S=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&a instanceof Blob?(g=new FormData,g.append("cacheControl",y.cacheControl),g.append("",a)):typeof FormData<"u"&&a instanceof FormData?(g=a,g.append("cacheControl",y.cacheControl)):(g=a,S["cache-control"]=`max-age=${y.cacheControl}`,S["content-type"]=y.contentType);const E=yield nd(this.fetch,p.toString(),g,{headers:S});return{data:{path:l,fullPath:E.Key},error:null}}catch(g){if(hs(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(t,e){return Pa(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t);const u=Object.assign({},this.headers);e?.upsert&&(u["x-upsert"]="true");const l=yield dl(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:u}),c=new URL(this.url+l.url),p=c.searchParams.get("token");if(!p)throw new Pd("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:p},error:null}}catch(a){if(hs(a))return{data:null,error:a};throw a}})}update(t,e,a){return Pa(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,e,a)})}move(t,e,a){return Pa(this,void 0,void 0,function*(){try{return{data:yield dl(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:a?.destinationBucket},{headers:this.headers}),error:null}}catch(u){if(hs(u))return{data:null,error:u};throw u}})}copy(t,e,a){return Pa(this,void 0,void 0,function*(){try{return{data:{path:(yield dl(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:a?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(u){if(hs(u))return{data:null,error:u};throw u}})}createSignedUrl(t,e,a){return Pa(this,void 0,void 0,function*(){try{let u=this._getFinalPath(t),l=yield dl(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:e},a?.transform?{transform:a.transform}:{}),{headers:this.headers});const c=a?.download?`&download=${a.download===!0?"":a.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(u){if(hs(u))return{data:null,error:u};throw u}})}createSignedUrls(t,e,a){return Pa(this,void 0,void 0,function*(){try{const u=yield dl(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),l=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{data:u.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(u){if(hs(u))return{data:null,error:u};throw u}})}download(t,e){return Pa(this,void 0,void 0,function*(){const u=typeof e?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(e?.transform||{}),c=l?`?${l}`:"";try{const p=this._getFinalPath(t);return{data:yield(yield Sc(this.fetch,`${this.url}/${u}/${p}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(p){if(hs(p))return{data:null,error:p};throw p}})}info(t){return Pa(this,void 0,void 0,function*(){const e=this._getFinalPath(t);try{const a=yield Sc(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:td(a),error:null}}catch(a){if(hs(a))return{data:null,error:a};throw a}})}exists(t){return Pa(this,void 0,void 0,function*(){const e=this._getFinalPath(t);try{return yield U_(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(hs(a)&&a instanceof ed){const u=a.originalError;if([400,404].includes(u?.status))return{data:!1,error:a}}throw a}})}getPublicUrl(t,e){const a=this._getFinalPath(t),u=[],l=e?.download?`download=${e.download===!0?"":e.download}`:"";l!==""&&u.push(l);const p=typeof e?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(e?.transform||{});g!==""&&u.push(g);let y=u.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${a}${y}`)}}}remove(t){return Pa(this,void 0,void 0,function*(){try{return{data:yield gm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(e){if(hs(e))return{data:null,error:e};throw e}})}list(t,e,a){return Pa(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},q_),e),{prefix:t||""});return{data:yield dl(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},a),error:null}}catch(u){if(hs(u))return{data:null,error:u};throw u}})}listV2(t,e){return Pa(this,void 0,void 0,function*(){try{const a=Object.assign({},t);return{data:yield dl(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},e),error:null}}catch(a){if(hs(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}}const H_="2.11.0",W_={"X-Client-Info":`storage-js/${H_}`};var ju=function(o,t,e,a){function u(l){return l instanceof e?l:new e(function(c){c(l)})}return new(e||(e=Promise))(function(l,c){function p(S){try{y(a.next(S))}catch(E){c(E)}}function g(S){try{y(a.throw(S))}catch(E){c(E)}}function y(S){S.done?l(S.value):u(S.value).then(p,g)}y((a=a.apply(o,t||[])).next())})};class V_{constructor(t,e={},a,u){const l=new URL(t);u?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href,this.headers=Object.assign(Object.assign({},W_),e),this.fetch=mm(a)}listBuckets(){return ju(this,void 0,void 0,function*(){try{return{data:yield Sc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(hs(t))return{data:null,error:t};throw t}})}getBucket(t){return ju(this,void 0,void 0,function*(){try{return{data:yield Sc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(e){if(hs(e))return{data:null,error:e};throw e}})}createBucket(t,e={public:!1}){return ju(this,void 0,void 0,function*(){try{return{data:yield dl(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(hs(a))return{data:null,error:a};throw a}})}updateBucket(t,e){return ju(this,void 0,void 0,function*(){try{return{data:yield nd(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(hs(a))return{data:null,error:a};throw a}})}emptyBucket(t){return ju(this,void 0,void 0,function*(){try{return{data:yield dl(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(hs(e))return{data:null,error:e};throw e}})}deleteBucket(t){return ju(this,void 0,void 0,function*(){try{return{data:yield gm(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(hs(e))return{data:null,error:e};throw e}})}}class $_ extends V_{constructor(t,e={},a,u){super(t,e,a,u)}from(t){return new G_(this.url,this.headers,t,this.fetch)}}const Z_="2.55.0";let bh="";typeof Deno<"u"?bh="deno":typeof document<"u"?bh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?bh="react-native":bh="node";const K_={"X-Client-Info":`supabase-js-${bh}/${Z_}`},J_={headers:K_},Y_={schema:"public"},X_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Q_={};var e1=function(o,t,e,a){function u(l){return l instanceof e?l:new e(function(c){c(l)})}return new(e||(e=Promise))(function(l,c){function p(S){try{y(a.next(S))}catch(E){c(E)}}function g(S){try{y(a.throw(S))}catch(E){c(E)}}function y(S){S.done?l(S.value):u(S.value).then(p,g)}y((a=a.apply(o,t||[])).next())})};const t1=o=>{let t;return o?t=o:typeof fetch>"u"?t=am:t=fetch,(...e)=>t(...e)},n1=()=>typeof Headers>"u"?om:Headers,r1=(o,t,e)=>{const a=t1(e),u=n1();return(l,c)=>e1(void 0,void 0,void 0,function*(){var p;const g=(p=yield t())!==null&&p!==void 0?p:o;let y=new u(c?.headers);return y.has("apikey")||y.set("apikey",o),y.has("Authorization")||y.set("Authorization",`Bearer ${g}`),a(l,Object.assign(Object.assign({},c),{headers:y}))})};var i1=function(o,t,e,a){function u(l){return l instanceof e?l:new e(function(c){c(l)})}return new(e||(e=Promise))(function(l,c){function p(S){try{y(a.next(S))}catch(E){c(E)}}function g(S){try{y(a.throw(S))}catch(E){c(E)}}function y(S){S.done?l(S.value):u(S.value).then(p,g)}y((a=a.apply(o,t||[])).next())})};function s1(o){return o.endsWith("/")?o:o+"/"}function a1(o,t){var e,a;const{db:u,auth:l,realtime:c,global:p}=o,{db:g,auth:y,realtime:S,global:E}=t,M={db:Object.assign(Object.assign({},g),u),auth:Object.assign(Object.assign({},y),l),realtime:Object.assign(Object.assign({},S),c),storage:{},global:Object.assign(Object.assign(Object.assign({},E),p),{headers:Object.assign(Object.assign({},(e=E?.headers)!==null&&e!==void 0?e:{}),(a=p?.headers)!==null&&a!==void 0?a:{})}),accessToken:()=>i1(this,void 0,void 0,function*(){return""})};return o.accessToken?M.accessToken=o.accessToken:delete M.accessToken,M}const _m="2.71.1",$u=30*1e3,rd=3,Af=rd*$u,o1="http://localhost:9999",l1="supabase.auth.token",u1={"X-Client-Info":`gotrue-js/${_m}`},id="X-Supabase-Api-Version",vm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},h1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,c1=600*1e3;class Ad extends Error{constructor(t,e,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=a}}function qn(o){return typeof o=="object"&&o!==null&&"__isAuthError"in o}class f1 extends Ad{constructor(t,e,a){super(t,e,a),this.name="AuthApiError",this.status=e,this.code=a}}function d1(o){return qn(o)&&o.name==="AuthApiError"}class ym extends Ad{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}}class Ql extends Ad{constructor(t,e,a,u){super(t,a,u),this.name=e,this.status=a}}class Vl extends Ql{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function p1(o){return qn(o)&&o.name==="AuthSessionMissingError"}class hc extends Ql{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class cc extends Ql{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class fc extends Ql{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function m1(o){return qn(o)&&o.name==="AuthImplicitGrantRedirectError"}class d0 extends Ql{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class sd extends Ql{constructor(t,e){super(t,"AuthRetryableFetchError",e,void 0)}}function Mf(o){return qn(o)&&o.name==="AuthRetryableFetchError"}class p0 extends Ql{constructor(t,e,a){super(t,"AuthWeakPasswordError",e,"weak_password"),this.reasons=a}}class ad extends Ql{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ec="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),m0=` 	
\r=`.split(""),g1=(()=>{const o=new Array(128);for(let t=0;t<o.length;t+=1)o[t]=-1;for(let t=0;t<m0.length;t+=1)o[m0[t].charCodeAt(0)]=-2;for(let t=0;t<Ec.length;t+=1)o[Ec[t].charCodeAt(0)]=t;return o})();function g0(o,t,e){if(o!==null)for(t.queue=t.queue<<8|o,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;e(Ec[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;e(Ec[a]),t.queuedBits-=6}}function wm(o,t,e){const a=g1[o];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)e(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(o)}"`)}}function _0(o){const t=[],e=c=>{t.push(String.fromCodePoint(c))},a={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},l=c=>{y1(c,a,e)};for(let c=0;c<o.length;c+=1)wm(o.charCodeAt(c),u,l);return t.join("")}function _1(o,t){if(o<=127){t(o);return}else if(o<=2047){t(192|o>>6),t(128|o&63);return}else if(o<=65535){t(224|o>>12),t(128|o>>6&63),t(128|o&63);return}else if(o<=1114111){t(240|o>>18),t(128|o>>12&63),t(128|o>>6&63),t(128|o&63);return}throw new Error(`Unrecognized Unicode codepoint: ${o.toString(16)}`)}function v1(o,t){for(let e=0;e<o.length;e+=1){let a=o.charCodeAt(e);if(a>55295&&a<=56319){const u=(a-55296)*1024&65535;a=(o.charCodeAt(e+1)-56320&65535|u)+65536,e+=1}_1(a,t)}}function y1(o,t,e){if(t.utf8seq===0){if(o<=127){e(o);return}for(let a=1;a<6;a+=1)if((o>>7-a&1)===0){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=o&31;else if(t.utf8seq===3)t.codepoint=o&15;else if(t.utf8seq===4)t.codepoint=o&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(o<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|o&63,t.utf8seq-=1,t.utf8seq===0&&e(t.codepoint)}}function w1(o){const t=[],e={queue:0,queuedBits:0},a=u=>{t.push(u)};for(let u=0;u<o.length;u+=1)wm(o.charCodeAt(u),e,a);return new Uint8Array(t)}function b1(o){const t=[];return v1(o,e=>t.push(e)),new Uint8Array(t)}function x1(o){const t=[],e={queue:0,queuedBits:0},a=u=>{t.push(u)};return o.forEach(u=>g0(u,e,a)),g0(null,e,a),t.join("")}function L1(o){return Math.round(Date.now()/1e3)+o}function k1(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){const t=Math.random()*16|0;return(o=="x"?t:t&3|8).toString(16)})}const rl=()=>typeof window<"u"&&typeof document<"u",fu={tested:!1,writable:!1},bm=()=>{if(!rl())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(fu.tested)return fu.writable;const o=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(o,o),globalThis.localStorage.removeItem(o),fu.tested=!0,fu.writable=!0}catch{fu.tested=!0,fu.writable=!1}return fu.writable};function C1(o){const t={},e=new URL(o);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((u,l)=>{t[l]=u})}catch{}return e.searchParams.forEach((a,u)=>{t[u]=a}),t}const xm=o=>{let t;return o?t=o:typeof fetch>"u"?t=(...e)=>Jl(async()=>{const{default:a}=await Promise.resolve().then(()=>ih);return{default:a}},void 0).then(({default:a})=>a(...e)):t=fetch,(...e)=>t(...e)},S1=o=>typeof o=="object"&&o!==null&&"status"in o&&"ok"in o&&"json"in o&&typeof o.json=="function",Zu=async(o,t,e)=>{await o.setItem(t,JSON.stringify(e))},du=async(o,t)=>{const e=await o.getItem(t);if(!e)return null;try{return JSON.parse(e)}catch{return e}},Gl=async(o,t)=>{await o.removeItem(t)};class Nc{constructor(){this.promise=new Nc.promiseConstructor((t,e)=>{this.resolve=t,this.reject=e})}}Nc.promiseConstructor=Promise;function Bf(o){const t=o.split(".");if(t.length!==3)throw new ad("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!h1.test(t[a]))throw new ad("JWT not in base64url format");return{header:JSON.parse(_0(t[0])),payload:JSON.parse(_0(t[1])),signature:w1(t[2]),raw:{header:t[0],payload:t[1]}}}async function E1(o){return await new Promise(t=>{setTimeout(()=>t(null),o)})}function P1(o,t){return new Promise((a,u)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await o(l);if(!t(l,null,c)){a(c);return}}catch(c){if(!t(l,c)){u(c);return}}})()})}function A1(o){return("0"+o.toString(16)).substr(-2)}function M1(){const t=new Uint32Array(56);if(typeof crypto>"u"){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=e.length;let u="";for(let l=0;l<56;l++)u+=e.charAt(Math.floor(Math.random()*a));return u}return crypto.getRandomValues(t),Array.from(t,A1).join("")}async function B1(o){const e=new TextEncoder().encode(o),a=await crypto.subtle.digest("SHA-256",e),u=new Uint8Array(a);return Array.from(u).map(l=>String.fromCharCode(l)).join("")}async function T1(o){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),o;const e=await B1(o);return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function zu(o,t,e=!1){const a=M1();let u=a;e&&(u+="/PASSWORD_RECOVERY"),await Zu(o,`${t}-code-verifier`,u);const l=await T1(a);return[l,a===l?"plain":"s256"]}const N1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function O1(o){const t=o.headers.get(id);if(!t||!t.match(N1))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function D1(o){if(!o)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(o<=t)throw new Error("JWT has expired")}function I1(o){switch(o){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const R1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Uu(o){if(!R1.test(o))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Tf(){const o={};return new Proxy(o,{get:(t,e)=>{if(e==="__isUserNotAvailableProxy")return!0;if(typeof e=="symbol"){const a=e.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${e}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function v0(o){return JSON.parse(JSON.stringify(o))}var F1=function(o,t){var e={};for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&t.indexOf(a)<0&&(e[a]=o[a]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,a=Object.getOwnPropertySymbols(o);u<a.length;u++)t.indexOf(a[u])<0&&Object.prototype.propertyIsEnumerable.call(o,a[u])&&(e[a[u]]=o[a[u]]);return e};const pu=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),j1=[502,503,504];async function y0(o){var t;if(!S1(o))throw new sd(pu(o),0);if(j1.includes(o.status))throw new sd(pu(o),o.status);let e;try{e=await o.json()}catch(l){throw new ym(pu(l),l)}let a;const u=O1(o);if(u&&u.getTime()>=vm["2024-01-01"].timestamp&&typeof e=="object"&&e&&typeof e.code=="string"?a=e.code:typeof e=="object"&&e&&typeof e.error_code=="string"&&(a=e.error_code),a){if(a==="weak_password")throw new p0(pu(e),o.status,((t=e.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new Vl}else if(typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new p0(pu(e),o.status,e.weak_password.reasons);throw new f1(pu(e),o.status||500,a)}const z1=(o,t,e,a)=>{const u={method:o,headers:t?.headers||{}};return o==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),u.body=JSON.stringify(a),Object.assign(Object.assign({},u),e))};async function nr(o,t,e,a){var u;const l=Object.assign({},a?.headers);l[id]||(l[id]=vm["2024-01-01"].name),a?.jwt&&(l.Authorization=`Bearer ${a.jwt}`);const c=(u=a?.query)!==null&&u!==void 0?u:{};a?.redirectTo&&(c.redirect_to=a.redirectTo);const p=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",g=await U1(o,t,e+p,{headers:l,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(g):{data:Object.assign({},g),error:null}}async function U1(o,t,e,a,u,l){const c=z1(t,a,u,l);let p;try{p=await o(e,Object.assign({},c))}catch(g){throw console.error(g),new sd(pu(g),0)}if(p.ok||await y0(p),a?.noResolveJson)return p;try{return await p.json()}catch(g){await y0(g)}}function Pl(o){var t;let e=null;W1(o)&&(e=Object.assign({},o),o.expires_at||(e.expires_at=L1(o.expires_in)));const a=(t=o.user)!==null&&t!==void 0?t:o;return{data:{session:e,user:a},error:null}}function w0(o){const t=Pl(o);return!t.error&&o.weak_password&&typeof o.weak_password=="object"&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.message&&typeof o.weak_password.message=="string"&&o.weak_password.reasons.reduce((e,a)=>e&&typeof a=="string",!0)&&(t.data.weak_password=o.weak_password),t}function $l(o){var t;return{data:{user:(t=o.user)!==null&&t!==void 0?t:o},error:null}}function q1(o){return{data:o,error:null}}function G1(o){const{action_link:t,email_otp:e,hashed_token:a,redirect_to:u,verification_type:l}=o,c=F1(o,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:t,email_otp:e,hashed_token:a,redirect_to:u,verification_type:l},g=Object.assign({},c);return{data:{properties:p,user:g},error:null}}function H1(o){return o}function W1(o){return o.access_token&&o.refresh_token&&o.expires_in}const Nf=["global","local","others"];var V1=function(o,t){var e={};for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&t.indexOf(a)<0&&(e[a]=o[a]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,a=Object.getOwnPropertySymbols(o);u<a.length;u++)t.indexOf(a[u])<0&&Object.prototype.propertyIsEnumerable.call(o,a[u])&&(e[a[u]]=o[a[u]]);return e};class $1{constructor({url:t="",headers:e={},fetch:a}){this.url=t,this.headers=e,this.fetch=xm(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,e=Nf[0]){if(Nf.indexOf(e)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Nf.join(", ")}`);try{return await nr(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(qn(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,e={}){try{return await nr(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:$l})}catch(a){if(qn(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:e}=t,a=V1(t,["options"]),u=Object.assign(Object.assign({},a),e);return"newEmail"in a&&(u.new_email=a?.newEmail,delete u.newEmail),await nr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:G1,redirectTo:e?.redirectTo})}catch(e){if(qn(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(t){try{return await nr(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:$l})}catch(e){if(qn(e))return{data:{user:null},error:e};throw e}}async listUsers(t){var e,a,u,l,c,p,g;try{const y={nextPage:null,lastPage:0,total:0},S=await nr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(e=t?.page)===null||e===void 0?void 0:e.toString())!==null&&a!==void 0?a:"",per_page:(l=(u=t?.perPage)===null||u===void 0?void 0:u.toString())!==null&&l!==void 0?l:""},xform:H1});if(S.error)throw S.error;const E=await S.json(),M=(c=S.headers.get("x-total-count"))!==null&&c!==void 0?c:0,x=(g=(p=S.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return x.length>0&&(x.forEach(R=>{const A=parseInt(R.split(";")[0].split("=")[1].substring(0,1)),I=JSON.parse(R.split(";")[1].split("=")[1]);y[`${I}Page`]=A}),y.total=parseInt(M)),{data:Object.assign(Object.assign({},E),y),error:null}}catch(y){if(qn(y))return{data:{users:[]},error:y};throw y}}async getUserById(t){Uu(t);try{return await nr(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:$l})}catch(e){if(qn(e))return{data:{user:null},error:e};throw e}}async updateUserById(t,e){Uu(t);try{return await nr(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:$l})}catch(a){if(qn(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,e=!1){Uu(t);try{return await nr(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:$l})}catch(a){if(qn(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){Uu(t.userId);try{const{data:e,error:a}=await nr(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:e,error:a}}catch(e){if(qn(e))return{data:null,error:e};throw e}}async _deleteFactor(t){Uu(t.userId),Uu(t.id);try{return{data:await nr(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(e){if(qn(e))return{data:null,error:e};throw e}}}function b0(o={}){return{getItem:t=>o[t]||null,setItem:(t,e)=>{o[t]=e},removeItem:t=>{delete o[t]}}}function Z1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const qu={debug:!!(globalThis&&bm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Lm extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class K1 extends Lm{}async function J1(o,t,e){qu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",o,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),qu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",o)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(o,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async u=>{if(u){qu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",o,u.name);try{return await e()}finally{qu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",o,u.name)}}else{if(t===0)throw qu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",o),new K1(`Acquiring an exclusive Navigator LockManager lock "${o}" immediately failed`);if(qu.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await e()}}))}Z1();const Y1={url:o1,storageKey:l1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:u1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function x0(o,t,e){return await e()}const Gu={};class Ph{constructor(t){var e,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ph.nextInstanceID,Ph.nextInstanceID+=1,this.instanceID>0&&rl()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const u=Object.assign(Object.assign({},Y1),t);if(this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.persistSession=u.persistSession,this.storageKey=u.storageKey,this.autoRefreshToken=u.autoRefreshToken,this.admin=new $1({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=xm(u.fetch),this.lock=u.lock||x0,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,u.lock?this.lock=u.lock:rl()&&(!((e=globalThis?.navigator)===null||e===void 0)&&e.locks)?this.lock=J1:this.lock=x0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:bm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=b0(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=b0(this.memoryStorage)),rl()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}get jwks(){var t,e;return(e=(t=Gu[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&e!==void 0?e:{keys:[]}}set jwks(t){Gu[this.storageKey]=Object.assign(Object.assign({},Gu[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,e;return(e=(t=Gu[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&e!==void 0?e:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Gu[this.storageKey]=Object.assign(Object.assign({},Gu[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${_m}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const e=C1(window.location.href);let a="none";if(this._isImplicitGrantCallback(e)?a="implicit":await this._isPKCECallback(e)&&(a="pkce"),rl()&&this.detectSessionInUrl&&a!=="none"){const{data:u,error:l}=await this._getSessionFromURL(e,a);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),m1(l)){const g=(t=l.details)===null||t===void 0?void 0:t.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:p}=u;return this._debug("#_initialize()","detected session in URL",c,"redirect type",p),await this._saveSession(c),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return qn(e)?{error:e}:{error:new ym("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var e,a,u;try{const l=await nr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(e=t?.options)===null||e===void 0?void 0:e.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(u=t?.options)===null||u===void 0?void 0:u.captchaToken}},xform:Pl}),{data:c,error:p}=l;if(p||!c)return{data:{user:null,session:null},error:p};const g=c.session,y=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:y,session:g},error:null}}catch(l){if(qn(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(t){var e,a,u;try{let l;if("email"in t){const{email:S,password:E,options:M}=t;let x=null,R=null;this.flowType==="pkce"&&([x,R]=await zu(this.storage,this.storageKey)),l=await nr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:M?.emailRedirectTo,body:{email:S,password:E,data:(e=M?.data)!==null&&e!==void 0?e:{},gotrue_meta_security:{captcha_token:M?.captchaToken},code_challenge:x,code_challenge_method:R},xform:Pl})}else if("phone"in t){const{phone:S,password:E,options:M}=t;l=await nr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:S,password:E,data:(a=M?.data)!==null&&a!==void 0?a:{},channel:(u=M?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:M?.captchaToken}},xform:Pl})}else throw new cc("You must provide either an email or phone number and a password");const{data:c,error:p}=l;if(p||!c)return{data:{user:null,session:null},error:p};const g=c.session,y=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:y,session:g},error:null}}catch(l){if(qn(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(t){try{let e;if("email"in t){const{email:l,password:c,options:p}=t;e=await nr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:w0})}else if("phone"in t){const{phone:l,password:c,options:p}=t;e=await nr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:w0})}else throw new cc("You must provide either an email or phone number and a password");const{data:a,error:u}=e;return u?{data:{user:null,session:null},error:u}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new hc}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:u})}catch(e){if(qn(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOAuth(t){var e,a,u,l;return await this._handleProviderSignIn(t.provider,{redirectTo:(e=t.options)===null||e===void 0?void 0:e.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(l=t.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:e}=t;if(e==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${e}"`)}async signInWithSolana(t){var e,a,u,l,c,p,g,y,S,E,M,x;let R,A;if("message"in t)R=t.message,A=t.signature;else{const{chain:I,wallet:O,statement:W,options:Z}=t;let de;if(rl())if(typeof O=="object")de=O;else{const Se=window;if("solana"in Se&&typeof Se.solana=="object"&&("signIn"in Se.solana&&typeof Se.solana.signIn=="function"||"signMessage"in Se.solana&&typeof Se.solana.signMessage=="function"))de=Se.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!Z?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");de=O}const ve=new URL((e=Z?.url)!==null&&e!==void 0?e:window.location.href);if("signIn"in de&&de.signIn){const Se=await de.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},Z?.signInWithSolana),{version:"1",domain:ve.host,uri:ve.href}),W?{statement:W}:null));let K;if(Array.isArray(Se)&&Se[0]&&typeof Se[0]=="object")K=Se[0];else if(Se&&typeof Se=="object"&&"signedMessage"in Se&&"signature"in Se)K=Se;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in K&&"signature"in K&&(typeof K.signedMessage=="string"||K.signedMessage instanceof Uint8Array)&&K.signature instanceof Uint8Array)R=typeof K.signedMessage=="string"?K.signedMessage:new TextDecoder().decode(K.signedMessage),A=K.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in de)||typeof de.signMessage!="function"||!("publicKey"in de)||typeof de!="object"||!de.publicKey||!("toBase58"in de.publicKey)||typeof de.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");R=[`${ve.host} wants you to sign in with your Solana account:`,de.publicKey.toBase58(),...W?["",W,""]:[""],"Version: 1",`URI: ${ve.href}`,`Issued At: ${(u=(a=Z?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((l=Z?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${Z.signInWithSolana.notBefore}`]:[],...!((c=Z?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${Z.signInWithSolana.expirationTime}`]:[],...!((p=Z?.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${Z.signInWithSolana.chainId}`]:[],...!((g=Z?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${Z.signInWithSolana.nonce}`]:[],...!((y=Z?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${Z.signInWithSolana.requestId}`]:[],...!((E=(S=Z?.signInWithSolana)===null||S===void 0?void 0:S.resources)===null||E===void 0)&&E.length?["Resources",...Z.signInWithSolana.resources.map(K=>`- ${K}`)]:[]].join(`
`);const Se=await de.signMessage(new TextEncoder().encode(R),"utf8");if(!Se||!(Se instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=Se}}try{const{data:I,error:O}=await nr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:R,signature:x1(A)},!((M=t.options)===null||M===void 0)&&M.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Pl});if(O)throw O;return!I||!I.session||!I.user?{data:{user:null,session:null},error:new hc}:(I.session&&(await this._saveSession(I.session),await this._notifyAllSubscribers("SIGNED_IN",I.session)),{data:Object.assign({},I),error:O})}catch(I){if(qn(I))return{data:{user:null,session:null},error:I};throw I}}async _exchangeCodeForSession(t){const e=await du(this.storage,`${this.storageKey}-code-verifier`),[a,u]=(e??"").split("/");try{const{data:l,error:c}=await nr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:Pl});if(await Gl(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new hc}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:u??null}),error:c})}catch(l){if(qn(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(t){try{const{options:e,provider:a,token:u,access_token:l,nonce:c}=t,p=await nr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:u,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:e?.captchaToken}},xform:Pl}),{data:g,error:y}=p;return y?{data:{user:null,session:null},error:y}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new hc}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:y})}catch(e){if(qn(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOtp(t){var e,a,u,l,c;try{if("email"in t){const{email:p,options:g}=t;let y=null,S=null;this.flowType==="pkce"&&([y,S]=await zu(this.storage,this.storageKey));const{error:E}=await nr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(e=g?.data)!==null&&e!==void 0?e:{},create_user:(a=g?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:y,code_challenge_method:S},redirectTo:g?.emailRedirectTo});return{data:{user:null,session:null},error:E}}if("phone"in t){const{phone:p,options:g}=t,{data:y,error:S}=await nr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(u=g?.data)!==null&&u!==void 0?u:{},create_user:(l=g?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(c=g?.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:y?.message_id},error:S}}throw new cc("You must provide either an email or phone number.")}catch(p){if(qn(p))return{data:{user:null,session:null},error:p};throw p}}async verifyOtp(t){var e,a;try{let u,l;"options"in t&&(u=(e=t.options)===null||e===void 0?void 0:e.redirectTo,l=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:c,error:p}=await nr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:l}}),redirectTo:u,xform:Pl});if(p)throw p;if(!c)throw new Error("An error occurred on token verification.");const g=c.session,y=c.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:y,session:g},error:null}}catch(u){if(qn(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithSSO(t){var e,a,u;try{let l=null,c=null;return this.flowType==="pkce"&&([l,c]=await zu(this.storage,this.storageKey)),await nr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(e=t.options)===null||e===void 0?void 0:e.redirectTo)!==null&&a!==void 0?a:void 0}),!((u=t?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:q1})}catch(l){if(qn(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:e},error:a}=t;if(a)throw a;if(!e)throw new Vl;const{error:u}=await nr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:e.access_token});return{data:{user:null,session:null},error:u}})}catch(t){if(qn(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const e=`${this.url}/resend`;if("email"in t){const{email:a,type:u,options:l}=t,{error:c}=await nr(this.fetch,"POST",e,{headers:this.headers,body:{email:a,type:u,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in t){const{phone:a,type:u,options:l}=t,{data:c,error:p}=await nr(this.fetch,"POST",e,{headers:this.headers,body:{phone:a,type:u,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return{data:{user:null,session:null,messageId:c?.message_id},error:p}}throw new cc("You must provide either an email or phone number and a type")}catch(e){if(qn(e))return{data:{user:null,session:null},error:e};throw e}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(t,e){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await a,await e()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=e();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const e=await this.__loadSession();return await t(e)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const e=await du(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",e),e!==null&&(this._isValidSession(e)?t=e:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<Af:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const c=await du(this.userStorage,this.storageKey+"-user");c?.user?t.user=c.user:t.user=Tf()}if(this.storage.isServer&&t.user){let c=this.suppressGetSessionWarning;t=new Proxy(t,{get:(g,y,S)=>(!c&&y==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,y,S))})}return{data:{session:t},error:null}}const{session:u,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{session:null},error:l}:{data:{session:u},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await nr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:$l}):await this._useSession(async e=>{var a,u,l;const{data:c,error:p}=e;if(p)throw p;return!(!((a=c.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Vl}:await nr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(u=c.session)===null||u===void 0?void 0:u.access_token)!==null&&l!==void 0?l:void 0,xform:$l})})}catch(e){if(qn(e))return p1(e)&&(await this._removeSession(),await Gl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:e};throw e}}async updateUser(t,e={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,e))}async _updateUser(t,e={}){try{return await this._useSession(async a=>{const{data:u,error:l}=a;if(l)throw l;if(!u.session)throw new Vl;const c=u.session;let p=null,g=null;this.flowType==="pkce"&&t.email!=null&&([p,g]=await zu(this.storage,this.storageKey));const{data:y,error:S}=await nr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:e?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:p,code_challenge_method:g}),jwt:c.access_token,xform:$l});if(S)throw S;return c.user=y.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(a){if(qn(a))return{data:{user:null},error:a};throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Vl;const e=Date.now()/1e3;let a=e,u=!0,l=null;const{payload:c}=Bf(t.access_token);if(c.exp&&(a=c.exp,u=a<=e),u){const{session:p,error:g}=await this._callRefreshToken(t.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!p)return{data:{user:null,session:null},error:null};l=p}else{const{data:p,error:g}=await this._getUser(t.access_token);if(g)throw g;l={access_token:t.access_token,refresh_token:t.refresh_token,user:p.user,token_type:"bearer",expires_in:a-e,expires_at:a},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(e){if(qn(e))return{data:{session:null,user:null},error:e};throw e}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async e=>{var a;if(!t){const{data:c,error:p}=e;if(p)throw p;t=(a=c.session)!==null&&a!==void 0?a:void 0}if(!t?.refresh_token)throw new Vl;const{session:u,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{user:null,session:null},error:l}:u?{data:{user:u.user,session:u},error:null}:{data:{user:null,session:null},error:null}})}catch(e){if(qn(e))return{data:{user:null,session:null},error:e};throw e}}async _getSessionFromURL(t,e){try{if(!rl())throw new fc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new fc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(e){case"implicit":if(this.flowType==="pkce")throw new d0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new fc("Not a valid implicit grant flow url.");break;default:}if(e==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new d0("No code detected.");const{data:W,error:Z}=await this._exchangeCodeForSession(t.code);if(Z)throw Z;const de=new URL(window.location.href);return de.searchParams.delete("code"),window.history.replaceState(window.history.state,"",de.toString()),{data:{session:W.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:u,access_token:l,refresh_token:c,expires_in:p,expires_at:g,token_type:y}=t;if(!l||!p||!c||!y)throw new fc("No session defined in URL");const S=Math.round(Date.now()/1e3),E=parseInt(p);let M=S+E;g&&(M=parseInt(g));const x=M-S;x*1e3<=$u&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${E}s`);const R=M-E;S-R>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",R,M,S):S-R<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",R,M,S);const{data:A,error:I}=await this._getUser(l);if(I)throw I;const O={provider_token:a,provider_refresh_token:u,access_token:l,expires_in:E,expires_at:M,refresh_token:c,token_type:y,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:O,redirectType:t.type},error:null}}catch(a){if(qn(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const e=await du(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&e)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async e=>{var a;const{data:u,error:l}=e;if(l)return{error:l};const c=(a=u.session)===null||a===void 0?void 0:a.access_token;if(c){const{error:p}=await this.admin.signOut(c,t);if(p&&!(d1(p)&&(p.status===404||p.status===401||p.status===403)))return{error:p}}return t!=="others"&&(await this._removeSession(),await Gl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const e=k1(),a={id:e,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",e),this.stateChangeEmitters.delete(e)}};return this._debug("#onAuthStateChange()","registered callback with id",e),this.stateChangeEmitters.set(e,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(e)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async e=>{var a,u;try{const{data:{session:l},error:c}=e;if(c)throw c;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",t,"session",l)}catch(l){await((u=this.stateChangeEmitters.get(t))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",l),console.error(l)}})}async resetPasswordForEmail(t,e={}){let a=null,u=null;this.flowType==="pkce"&&([a,u]=await zu(this.storage,this.storageKey,!0));try{return await nr(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:u,gotrue_meta_security:{captcha_token:e.captchaToken}},headers:this.headers,redirectTo:e.redirectTo})}catch(l){if(qn(l))return{data:null,error:l};throw l}}async getUserIdentities(){var t;try{const{data:e,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(t=e.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(e){if(qn(e))return{data:null,error:e};throw e}}async linkIdentity(t){var e;try{const{data:a,error:u}=await this._useSession(async l=>{var c,p,g,y,S;const{data:E,error:M}=l;if(M)throw M;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(p=t.options)===null||p===void 0?void 0:p.scopes,queryParams:(g=t.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await nr(this.fetch,"GET",x,{headers:this.headers,jwt:(S=(y=E.session)===null||y===void 0?void 0:y.access_token)!==null&&S!==void 0?S:void 0})});if(u)throw u;return rl()&&!(!((e=t.options)===null||e===void 0)&&e.skipBrowserRedirect)&&window.location.assign(a?.url),{data:{provider:t.provider,url:a?.url},error:null}}catch(a){if(qn(a))return{data:{provider:t.provider,url:null},error:a};throw a}}async unlinkIdentity(t){try{return await this._useSession(async e=>{var a,u;const{data:l,error:c}=e;if(c)throw c;return await nr(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(u=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&u!==void 0?u:void 0})})}catch(e){if(qn(e))return{data:null,error:e};throw e}}async _refreshAccessToken(t){const e=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(e,"begin");try{const a=Date.now();return await P1(async u=>(u>0&&await E1(200*Math.pow(2,u-1)),this._debug(e,"refreshing attempt",u),await nr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Pl})),(u,l)=>{const c=200*Math.pow(2,u);return l&&Mf(l)&&Date.now()+c-a<$u})}catch(a){if(this._debug(e,"error",a),qn(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(e,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,e){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:e.redirectTo,scopes:e.scopes,queryParams:e.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",e,"url",a),rl()&&!e.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,e;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const u=await du(this.storage,this.storageKey);if(u&&this.userStorage){let c=await du(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:u.user},await Zu(this.userStorage,this.storageKey+"-user",c)),u.user=(t=c?.user)!==null&&t!==void 0?t:Tf()}else if(u&&!u.user&&!u.user){const c=await du(this.storage,this.storageKey+"-user");c&&c?.user?(u.user=c.user,await Gl(this.storage,this.storageKey+"-user"),await Zu(this.storage,this.storageKey,u)):u.user=Tf()}if(this._debug(a,"session from storage",u),!this._isValidSession(u)){this._debug(a,"session is not valid"),u!==null&&await this._removeSession();return}const l=((e=u.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Af;if(this._debug(a,`session has${l?"":" not"} expired with margin of ${Af}s`),l){if(this.autoRefreshToken&&u.refresh_token){const{error:c}=await this._callRefreshToken(u.refresh_token);c&&(console.error(c),Mf(c)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:p}=await this._getUser(u.access_token);!p&&c?.user?(u.user=c.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(a,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(a,"error",u),console.error(u);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var e,a;if(!t)throw new Vl;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new Nc;const{data:l,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!l.session)throw new Vl;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const p={session:l.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(l){if(this._debug(u,"error",l),qn(l)){const c={session:null,error:l};return Mf(l)||await this._removeSession(),(e=this.refreshingDeferred)===null||e===void 0||e.resolve(c),c}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(l),l}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(t,e,a=!0){const u=`#_notifyAllSubscribers(${t})`;this._debug(u,"begin",e,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:e});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(t,e)}catch(g){l.push(g)}});if(await Promise.all(c),l.length>0){for(let p=0;p<l.length;p+=1)console.error(l[p]);throw l[0]}}finally{this._debug(u,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const e=Object.assign({},t),a=e.user&&e.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&e.user&&await Zu(this.userStorage,this.storageKey+"-user",{user:e.user});const u=Object.assign({},e);delete u.user;const l=v0(u);await Zu(this.storage,this.storageKey,l)}else{const u=v0(e);await Zu(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),await Gl(this.storage,this.storageKey),await Gl(this.storage,this.storageKey+"-code-verifier"),await Gl(this.storage,this.storageKey+"-user"),this.userStorage&&await Gl(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&rl()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(e){console.error("removing visibilitychange callback failed",e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),$u);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async e=>{const{data:{session:a}}=e;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((a.expires_at*1e3-t)/$u);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${$u}ms, refresh threshold is ${rd} ticks`),u<=rd&&await this._callRefreshToken(a.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Lm)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!rl()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const e=`#_onVisibilityChanged(${t})`;this._debug(e,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(e,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,e,a){const u=[`provider=${encodeURIComponent(e)}`];if(a?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&u.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[l,c]=await zu(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});u.push(p.toString())}if(a?.queryParams){const l=new URLSearchParams(a.queryParams);u.push(l.toString())}return a?.skipBrowserRedirect&&u.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${u.join("&")}`}async _unenroll(t){try{return await this._useSession(async e=>{var a;const{data:u,error:l}=e;return l?{data:null,error:l}:await nr(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=u?.session)===null||a===void 0?void 0:a.access_token})})}catch(e){if(qn(e))return{data:null,error:e};throw e}}async _enroll(t){try{return await this._useSession(async e=>{var a,u;const{data:l,error:c}=e;if(c)return{data:null,error:c};const p=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:g,error:y}=await nr(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});return y?{data:null,error:y}:(t.factorType==="totp"&&(!((u=g?.totp)===null||u===void 0)&&u.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(e){if(qn(e))return{data:null,error:e};throw e}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async e=>{var a;const{data:u,error:l}=e;if(l)return{data:null,error:l};const{data:c,error:p}=await nr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(a=u?.session)===null||a===void 0?void 0:a.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:p})})}catch(e){if(qn(e))return{data:null,error:e};throw e}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async e=>{var a;const{data:u,error:l}=e;return l?{data:null,error:l}:await nr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(a=u?.session)===null||a===void 0?void 0:a.access_token})})}catch(e){if(qn(e))return{data:null,error:e};throw e}})}async _challengeAndVerify(t){const{data:e,error:a}=await this._challenge({factorId:t.factorId});return a?{data:null,error:a}:await this._verify({factorId:t.factorId,challengeId:e.id,code:t.code})}async _listFactors(){const{data:{user:t},error:e}=await this.getUser();if(e)return{data:null,error:e};const a=t?.factors||[],u=a.filter(c=>c.factor_type==="totp"&&c.status==="verified"),l=a.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:a,totp:u,phone:l},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var e,a;const{data:{session:u},error:l}=t;if(l)return{data:null,error:l};if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Bf(u.access_token);let p=null;c.aal&&(p=c.aal);let g=p;((a=(e=u.user.factors)===null||e===void 0?void 0:e.filter(E=>E.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(g="aal2");const S=c.amr||[];return{data:{currentLevel:p,nextLevel:g,currentAuthenticationMethods:S},error:null}}))}async fetchJwk(t,e={keys:[]}){let a=e.keys.find(p=>p.kid===t);if(a)return a;const u=Date.now();if(a=this.jwks.keys.find(p=>p.kid===t),a&&this.jwks_cached_at+c1>u)return a;const{data:l,error:c}=await nr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=u,a=l.keys.find(p=>p.kid===t),!a)?null:a}async getClaims(t,e={}){try{let a=t;if(!a){const{data:x,error:R}=await this.getSession();if(R||!x.session)return{data:null,error:R};a=x.session.access_token}const{header:u,payload:l,signature:c,raw:{header:p,payload:g}}=Bf(a);e?.allowExpired||D1(l.exp);const y=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,e?.keys?{keys:e.keys}:e?.jwks);if(!y){const{error:x}=await this.getUser(a);if(x)throw x;return{data:{claims:l,header:u,signature:c},error:null}}const S=I1(u.alg),E=await crypto.subtle.importKey("jwk",y,S,!0,["verify"]);if(!await crypto.subtle.verify(S,E,c,b1(`${p}.${g}`)))throw new ad("Invalid JWT signature");return{data:{claims:l,header:u,signature:c},error:null}}catch(a){if(qn(a))return{data:null,error:a};throw a}}}Ph.nextInstanceID=0;const X1=Ph;class Q1 extends X1{constructor(t){super(t)}}var ev=function(o,t,e,a){function u(l){return l instanceof e?l:new e(function(c){c(l)})}return new(e||(e=Promise))(function(l,c){function p(S){try{y(a.next(S))}catch(E){c(E)}}function g(S){try{y(a.throw(S))}catch(E){c(E)}}function y(S){S.done?l(S.value):u(S.value).then(p,g)}y((a=a.apply(o,t||[])).next())})};class tv{constructor(t,e,a){var u,l,c;if(this.supabaseUrl=t,this.supabaseKey=e,!t)throw new Error("supabaseUrl is required.");if(!e)throw new Error("supabaseKey is required.");const p=s1(t),g=new URL(p);this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);const y=`sb-${g.hostname.split(".")[0]}-auth-token`,S={db:Y_,realtime:Q_,auth:Object.assign(Object.assign({},X_),{storageKey:y}),global:J_},E=a1(a??{},S);this.storageKey=(u=E.auth.storageKey)!==null&&u!==void 0?u:"",this.headers=(l=E.global.headers)!==null&&l!==void 0?l:{},E.accessToken?(this.accessToken=E.accessToken,this.auth=new Proxy({},{get:(M,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=E.auth)!==null&&c!==void 0?c:{},this.headers,E.global.fetch),this.fetch=r1(e,this._getAccessToken.bind(this),E.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},E.realtime)),this.rest=new __(new URL("rest/v1",g).href,{headers:this.headers,schema:E.db.schema,fetch:this.fetch}),this.storage=new $_(this.storageUrl.href,this.headers,this.fetch,a?.storage),E.accessToken||this._listenForAuthEvents()}get functions(){return new s_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},a={}){return this.rest.rpc(t,e,a)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,e;return ev(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(e=(t=a.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:a,storage:u,storageKey:l,flowType:c,lock:p,debug:g},y,S){const E={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Q1({url:this.authUrl.href,headers:Object.assign(Object.assign({},E),y),storageKey:l,autoRefreshToken:t,persistSession:e,detectSessionInUrl:a,storage:u,flowType:c,lock:p,debug:g,fetch:S,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new O_(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,a)=>{this._handleTokenChanged(e,"CLIENT",a?.access_token)})}_handleTokenChanged(t,e,a){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==a?this.changedAccessToken=a:t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const nv=(o,t,e)=>new tv(o,t,e);function rv(){if(typeof window<"u"||typeof process>"u")return!1;const o=process.version;if(o==null)return!1;const t=o.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}rv()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const iv="https://tyftyoexdxrjvxjbdyux.supabase.co",sv="sb_publishable_CUCrsx84syqTmA-uMJyF3g_EnrX-aW6",Aa=nv(iv,sv),av="/pudumaps/assets/pudulogo-pI67wG3d.png";function ov(){const[o,t]=dt.useState(""),[e,a]=dt.useState(""),[u,l]=dt.useState(!1),[c,p]=dt.useState(!1),[g,y]=dt.useState(null),S=async M=>{M.preventDefault(),l(!0),y(null);const{error:x}=await Aa.auth.signInWithPassword({email:o,password:e});x&&y(x.message),l(!1)},E=async()=>{p(!0),y(null);const{error:M}=await Aa.auth.signUp({email:o,password:e});M&&y(M.message),p(!1)};return ot.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:ot.jsxs("div",{className:"card max-w-md w-full",children:[ot.jsxs("div",{className:"text-center mb-6",children:[ot.jsx("img",{src:av,alt:"Pudumaps logo",className:"w-16 h-16 mx-auto"}),ot.jsx("h1",{className:"text-2xl font-bold mt-2",children:"Pudumaps"}),ot.jsx("p",{className:"text-gray-400 text-sm",children:"Inicia sesin en tu cuenta"})]}),ot.jsxs("form",{className:"space-y-5",onSubmit:S,children:[ot.jsxs("div",{children:[ot.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Correo electrnico"}),ot.jsx("input",{type:"email",className:"input",value:o,onChange:M=>t(M.target.value),placeholder:"ejemplo@correo.com",required:!0})]}),ot.jsxs("div",{children:[ot.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Contrasea"}),ot.jsx("input",{type:"password",className:"input",value:e,onChange:M=>a(M.target.value),placeholder:"********",required:!0})]}),g&&ot.jsx("p",{className:"text-red-400 text-sm",children:g}),ot.jsx("button",{type:"submit",className:"btn btn-primary w-full",disabled:u,children:u?"Entrando...":"Entrar"}),ot.jsx("button",{type:"button",onClick:E,className:"btn btn-secondary w-full",disabled:c,children:c?"Creando...":"Crear cuenta"})]}),ot.jsxs("p",{className:"text-center text-gray-500 text-sm mt-6",children:["Primera vez? ",ot.jsx("span",{className:"text-green-400",children:"Crea tu cuenta"})," y revisa tu correo para confirmar."]}),ot.jsxs("div",{className:"mt-8 border-t border-gray-700 pt-4 text-sm text-gray-400",children:[ot.jsx("h3",{className:"text-gray-200 font-semibold mb-3",children:" Roadmap Pudumaps"}),ot.jsxs("div",{className:"space-y-3",children:[ot.jsxs("div",{children:[ot.jsx("h4",{className:"text-gray-300 font-medium",children:" Ahora"}),ot.jsxs("ul",{className:"list-disc list-inside",children:[ot.jsx("li",{children:"Gestin de proyectos (crear, editar, eliminar, favoritos)"}),ot.jsx("li",{children:"Capas GeoJSON con estilos editables y persistentes"}),ot.jsx("li",{children:"Capas externas WMS con consulta GetFeatureInfo"}),ot.jsx("li",{children:"Exportacin de mapas a KMZ y PDF"})]})]}),ot.jsxs("div",{children:[ot.jsx("h4",{className:"text-gray-300 font-medium",children:" Prximo"}),ot.jsxs("ul",{className:"list-disc list-inside",children:[ot.jsx("li",{children:"Soporte para servicios ArcGIS REST"}),ot.jsx("li",{children:"Herramientas de medicin y dibujo en el mapa"}),ot.jsx("li",{children:"Compartir proyectos de forma pblica/privada"})]})]}),ot.jsxs("div",{children:[ot.jsx("h4",{className:"text-gray-300 font-medium",children:" Futuro"}),ot.jsxs("ul",{className:"list-disc list-inside",children:[ot.jsx("li",{children:"Roles y permisos colaborativos por proyecto"}),ot.jsx("li",{children:"Filtros y estadsticas por atributos"}),ot.jsx("li",{children:"Optimizacin para grandes volmenes de datos"})]})]})]})]})]})})}/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var L0="popstate";function lv(o={}){function t(a,u){let{pathname:l,search:c,hash:p}=a.location;return od("",{pathname:l,search:c,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function e(a,u){return typeof u=="string"?u:Ah(u)}return hv(t,e,null,o)}function mi(o,t){if(o===!1||o===null||typeof o>"u")throw new Error(t)}function gl(o,t){if(!o){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function uv(){return Math.random().toString(36).substring(2,10)}function k0(o,t){return{usr:o.state,key:o.key,idx:t}}function od(o,t,e=null,a){return{pathname:typeof o=="string"?o:o.pathname,search:"",hash:"",...typeof t=="string"?sh(t):t,state:e,key:t&&t.key||a||uv()}}function Ah({pathname:o="/",search:t="",hash:e=""}){return t&&t!=="?"&&(o+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(o+=e.charAt(0)==="#"?e:"#"+e),o}function sh(o){let t={};if(o){let e=o.indexOf("#");e>=0&&(t.hash=o.substring(e),o=o.substring(0,e));let a=o.indexOf("?");a>=0&&(t.search=o.substring(a),o=o.substring(0,a)),o&&(t.pathname=o)}return t}function hv(o,t,e,a={}){let{window:u=document.defaultView,v5Compat:l=!1}=a,c=u.history,p="POP",g=null,y=S();y==null&&(y=0,c.replaceState({...c.state,idx:y},""));function S(){return(c.state||{idx:null}).idx}function E(){p="POP";let I=S(),O=I==null?null:I-y;y=I,g&&g({action:p,location:A.location,delta:O})}function M(I,O){p="PUSH";let W=od(A.location,I,O);y=S()+1;let Z=k0(W,y),de=A.createHref(W);try{c.pushState(Z,"",de)}catch(ve){if(ve instanceof DOMException&&ve.name==="DataCloneError")throw ve;u.location.assign(de)}l&&g&&g({action:p,location:A.location,delta:1})}function x(I,O){p="REPLACE";let W=od(A.location,I,O);y=S();let Z=k0(W,y),de=A.createHref(W);c.replaceState(Z,"",de),l&&g&&g({action:p,location:A.location,delta:0})}function R(I){return cv(I)}let A={get action(){return p},get location(){return o(u,c)},listen(I){if(g)throw new Error("A history only accepts one active listener");return u.addEventListener(L0,E),g=I,()=>{u.removeEventListener(L0,E),g=null}},createHref(I){return t(u,I)},createURL:R,encodeLocation(I){let O=R(I);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:M,replace:x,go(I){return c.go(I)}};return A}function cv(o,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),mi(e,"No window.location.(origin|href) available to create URL");let a=typeof o=="string"?o:Ah(o);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=e+a),new URL(a,e)}function km(o,t,e="/"){return fv(o,t,e,!1)}function fv(o,t,e,a){let u=typeof t=="string"?sh(t):t,l=Bl(u.pathname||"/",e);if(l==null)return null;let c=Cm(o);dv(c);let p=null;for(let g=0;p==null&&g<c.length;++g){let y=kv(l);p=xv(c[g],y,a)}return p}function Cm(o,t=[],e=[],a=""){let u=(l,c,p)=>{let g={relativePath:p===void 0?l.path||"":p,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};g.relativePath.startsWith("/")&&(mi(g.relativePath.startsWith(a),`Absolute route path "${g.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(a.length));let y=Ml([a,g.relativePath]),S=e.concat(g);l.children&&l.children.length>0&&(mi(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Cm(l.children,t,S,y)),!(l.path==null&&!l.index)&&t.push({path:y,score:wv(y,l.index),routesMeta:S})};return o.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))u(l,c);else for(let p of Sm(l.path))u(l,c,p)}),t}function Sm(o){let t=o.split("/");if(t.length===0)return[];let[e,...a]=t,u=e.endsWith("?"),l=e.replace(/\?$/,"");if(a.length===0)return u?[l,""]:[l];let c=Sm(a.join("/")),p=[];return p.push(...c.map(g=>g===""?l:[l,g].join("/"))),u&&p.push(...c),p.map(g=>o.startsWith("/")&&g===""?"/":g)}function dv(o){o.sort((t,e)=>t.score!==e.score?e.score-t.score:bv(t.routesMeta.map(a=>a.childrenIndex),e.routesMeta.map(a=>a.childrenIndex)))}var pv=/^:[\w-]+$/,mv=3,gv=2,_v=1,vv=10,yv=-2,C0=o=>o==="*";function wv(o,t){let e=o.split("/"),a=e.length;return e.some(C0)&&(a+=yv),t&&(a+=gv),e.filter(u=>!C0(u)).reduce((u,l)=>u+(pv.test(l)?mv:l===""?_v:vv),a)}function bv(o,t){return o.length===t.length&&o.slice(0,-1).every((a,u)=>a===t[u])?o[o.length-1]-t[t.length-1]:0}function xv(o,t,e=!1){let{routesMeta:a}=o,u={},l="/",c=[];for(let p=0;p<a.length;++p){let g=a[p],y=p===a.length-1,S=l==="/"?t:t.slice(l.length)||"/",E=Pc({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},S),M=g.route;if(!E&&y&&e&&!a[a.length-1].route.index&&(E=Pc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},S)),!E)return null;Object.assign(u,E.params),c.push({params:u,pathname:Ml([l,E.pathname]),pathnameBase:Pv(Ml([l,E.pathnameBase])),route:M}),E.pathnameBase!=="/"&&(l=Ml([l,E.pathnameBase]))}return c}function Pc(o,t){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[e,a]=Lv(o.path,o.caseSensitive,o.end),u=t.match(e);if(!u)return null;let l=u[0],c=l.replace(/(.)\/+$/,"$1"),p=u.slice(1);return{params:a.reduce((y,{paramName:S,isOptional:E},M)=>{if(S==="*"){let R=p[M]||"";c=l.slice(0,l.length-R.length).replace(/(.)\/+$/,"$1")}const x=p[M];return E&&!x?y[S]=void 0:y[S]=(x||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:c,pattern:o}}function Lv(o,t=!1,e=!0){gl(o==="*"||!o.endsWith("*")||o.endsWith("/*"),`Route path "${o}" will be treated as if it were "${o.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${o.replace(/\*$/,"/*")}".`);let a=[],u="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,p,g)=>(a.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return o.endsWith("*")?(a.push({paramName:"*"}),u+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?u+="\\/*$":o!==""&&o!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,t?void 0:"i"),a]}function kv(o){try{return o.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return gl(!1,`The URL path "${o}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),o}}function Bl(o,t){if(t==="/")return o;if(!o.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,a=o.charAt(e);return a&&a!=="/"?null:o.slice(e)||"/"}function Cv(o,t="/"){let{pathname:e,search:a="",hash:u=""}=typeof o=="string"?sh(o):o;return{pathname:e?e.startsWith("/")?e:Sv(e,t):t,search:Av(a),hash:Mv(u)}}function Sv(o,t){let e=t.replace(/\/+$/,"").split("/");return o.split("/").forEach(u=>{u===".."?e.length>1&&e.pop():u!=="."&&e.push(u)}),e.length>1?e.join("/"):"/"}function Of(o,t,e,a){return`Cannot include a '${o}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ev(o){return o.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function Em(o){let t=Ev(o);return t.map((e,a)=>a===t.length-1?e.pathname:e.pathnameBase)}function Pm(o,t,e,a=!1){let u;typeof o=="string"?u=sh(o):(u={...o},mi(!u.pathname||!u.pathname.includes("?"),Of("?","pathname","search",u)),mi(!u.pathname||!u.pathname.includes("#"),Of("#","pathname","hash",u)),mi(!u.search||!u.search.includes("#"),Of("#","search","hash",u)));let l=o===""||u.pathname==="",c=l?"/":u.pathname,p;if(c==null)p=e;else{let E=t.length-1;if(!a&&c.startsWith("..")){let M=c.split("/");for(;M[0]==="..";)M.shift(),E-=1;u.pathname=M.join("/")}p=E>=0?t[E]:"/"}let g=Cv(u,p),y=c&&c!=="/"&&c.endsWith("/"),S=(l||c===".")&&e.endsWith("/");return!g.pathname.endsWith("/")&&(y||S)&&(g.pathname+="/"),g}var Ml=o=>o.join("/").replace(/\/\/+/g,"/"),Pv=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),Av=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,Mv=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o;function Bv(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}var Am=["POST","PUT","PATCH","DELETE"];new Set(Am);var Tv=["GET",...Am];new Set(Tv);var ah=dt.createContext(null);ah.displayName="DataRouter";var Oc=dt.createContext(null);Oc.displayName="DataRouterState";dt.createContext(!1);var Mm=dt.createContext({isTransitioning:!1});Mm.displayName="ViewTransition";var Nv=dt.createContext(new Map);Nv.displayName="Fetchers";var Ov=dt.createContext(null);Ov.displayName="Await";var _l=dt.createContext(null);_l.displayName="Navigation";var Th=dt.createContext(null);Th.displayName="Location";var vl=dt.createContext({outlet:null,matches:[],isDataRoute:!1});vl.displayName="Route";var Md=dt.createContext(null);Md.displayName="RouteError";function Dv(o,{relative:t}={}){mi(Nh(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:a}=dt.useContext(_l),{hash:u,pathname:l,search:c}=Oh(o,{relative:t}),p=l;return e!=="/"&&(p=l==="/"?e:Ml([e,l])),a.createHref({pathname:p,search:c,hash:u})}function Nh(){return dt.useContext(Th)!=null}function wu(){return mi(Nh(),"useLocation() may be used only in the context of a <Router> component."),dt.useContext(Th).location}var Bm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Tm(o){dt.useContext(_l).static||dt.useLayoutEffect(o)}function Iv(){let{isDataRoute:o}=dt.useContext(vl);return o?Jv():Rv()}function Rv(){mi(Nh(),"useNavigate() may be used only in the context of a <Router> component.");let o=dt.useContext(ah),{basename:t,navigator:e}=dt.useContext(_l),{matches:a}=dt.useContext(vl),{pathname:u}=wu(),l=JSON.stringify(Em(a)),c=dt.useRef(!1);return Tm(()=>{c.current=!0}),dt.useCallback((g,y={})=>{if(gl(c.current,Bm),!c.current)return;if(typeof g=="number"){e.go(g);return}let S=Pm(g,JSON.parse(l),u,y.relative==="path");o==null&&t!=="/"&&(S.pathname=S.pathname==="/"?t:Ml([t,S.pathname])),(y.replace?e.replace:e.push)(S,y.state,y)},[t,e,l,u,o])}dt.createContext(null);function Fv(){let{matches:o}=dt.useContext(vl),t=o[o.length-1];return t?t.params:{}}function Oh(o,{relative:t}={}){let{matches:e}=dt.useContext(vl),{pathname:a}=wu(),u=JSON.stringify(Em(e));return dt.useMemo(()=>Pm(o,JSON.parse(u),a,t==="path"),[o,u,a,t])}function jv(o,t){return Nm(o,t)}function Nm(o,t,e,a){mi(Nh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=dt.useContext(_l),{matches:l}=dt.useContext(vl),c=l[l.length-1],p=c?c.params:{},g=c?c.pathname:"/",y=c?c.pathnameBase:"/",S=c&&c.route;{let O=S&&S.path||"";Om(g,!S||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let E=wu(),M;if(t){let O=typeof t=="string"?sh(t):t;mi(y==="/"||O.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${O.pathname}" was given in the \`location\` prop.`),M=O}else M=E;let x=M.pathname||"/",R=x;if(y!=="/"){let O=y.replace(/^\//,"").split("/");R="/"+x.replace(/^\//,"").split("/").slice(O.length).join("/")}let A=km(o,{pathname:R});gl(S||A!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),gl(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=Hv(A&&A.map(O=>Object.assign({},O,{params:Object.assign({},p,O.params),pathname:Ml([y,u.encodeLocation?u.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?y:Ml([y,u.encodeLocation?u.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),l,e,a);return t&&I?dt.createElement(Th.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},I):I}function zv(){let o=Kv(),t=Bv(o)?`${o.status} ${o.statusText}`:o instanceof Error?o.message:JSON.stringify(o),e=o instanceof Error?o.stack:null,a="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",o),c=dt.createElement(dt.Fragment,null,dt.createElement("p",null," Hey developer "),dt.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",dt.createElement("code",{style:l},"ErrorBoundary")," or"," ",dt.createElement("code",{style:l},"errorElement")," prop on your route.")),dt.createElement(dt.Fragment,null,dt.createElement("h2",null,"Unexpected Application Error!"),dt.createElement("h3",{style:{fontStyle:"italic"}},t),e?dt.createElement("pre",{style:u},e):null,c)}var Uv=dt.createElement(zv,null),qv=class extends dt.Component{constructor(o){super(o),this.state={location:o.location,revalidation:o.revalidation,error:o.error}}static getDerivedStateFromError(o){return{error:o}}static getDerivedStateFromProps(o,t){return t.location!==o.location||t.revalidation!=="idle"&&o.revalidation==="idle"?{error:o.error,location:o.location,revalidation:o.revalidation}:{error:o.error!==void 0?o.error:t.error,location:t.location,revalidation:o.revalidation||t.revalidation}}componentDidCatch(o,t){console.error("React Router caught the following error during render",o,t)}render(){return this.state.error!==void 0?dt.createElement(vl.Provider,{value:this.props.routeContext},dt.createElement(Md.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Gv({routeContext:o,match:t,children:e}){let a=dt.useContext(ah);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),dt.createElement(vl.Provider,{value:o},e)}function Hv(o,t=[],e=null,a=null){if(o==null){if(!e)return null;if(e.errors)o=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)o=e.matches;else return null}let u=o,l=e?.errors;if(l!=null){let g=u.findIndex(y=>y.route.id&&l?.[y.route.id]!==void 0);mi(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let c=!1,p=-1;if(e)for(let g=0;g<u.length;g++){let y=u[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=g),y.route.id){let{loaderData:S,errors:E}=e,M=y.route.loader&&!S.hasOwnProperty(y.route.id)&&(!E||E[y.route.id]===void 0);if(y.route.lazy||M){c=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,y,S)=>{let E,M=!1,x=null,R=null;e&&(E=l&&y.route.id?l[y.route.id]:void 0,x=y.route.errorElement||Uv,c&&(p<0&&S===0?(Om("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,R=null):p===S&&(M=!0,R=y.route.hydrateFallbackElement||null)));let A=t.concat(u.slice(0,S+1)),I=()=>{let O;return E?O=x:M?O=R:y.route.Component?O=dt.createElement(y.route.Component,null):y.route.element?O=y.route.element:O=g,dt.createElement(Gv,{match:y,routeContext:{outlet:g,matches:A,isDataRoute:e!=null},children:O})};return e&&(y.route.ErrorBoundary||y.route.errorElement||S===0)?dt.createElement(qv,{location:e.location,revalidation:e.revalidation,component:x,error:E,children:I(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):I()},null)}function Bd(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Wv(o){let t=dt.useContext(ah);return mi(t,Bd(o)),t}function Vv(o){let t=dt.useContext(Oc);return mi(t,Bd(o)),t}function $v(o){let t=dt.useContext(vl);return mi(t,Bd(o)),t}function Td(o){let t=$v(o),e=t.matches[t.matches.length-1];return mi(e.route.id,`${o} can only be used on routes that contain a unique "id"`),e.route.id}function Zv(){return Td("useRouteId")}function Kv(){let o=dt.useContext(Md),t=Vv("useRouteError"),e=Td("useRouteError");return o!==void 0?o:t.errors?.[e]}function Jv(){let{router:o}=Wv("useNavigate"),t=Td("useNavigate"),e=dt.useRef(!1);return Tm(()=>{e.current=!0}),dt.useCallback(async(u,l={})=>{gl(e.current,Bm),e.current&&(typeof u=="number"?o.navigate(u):await o.navigate(u,{fromRouteId:t,...l}))},[o,t])}var S0={};function Om(o,t,e){!t&&!S0[o]&&(S0[o]=!0,gl(!1,e))}dt.memo(Yv);function Yv({routes:o,future:t,state:e}){return Nm(o,void 0,e,t)}function ld(o){mi(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Xv({basename:o="/",children:t=null,location:e,navigationType:a="POP",navigator:u,static:l=!1}){mi(!Nh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=o.replace(/^\/*/,"/"),p=dt.useMemo(()=>({basename:c,navigator:u,static:l,future:{}}),[c,u,l]);typeof e=="string"&&(e=sh(e));let{pathname:g="/",search:y="",hash:S="",state:E=null,key:M="default"}=e,x=dt.useMemo(()=>{let R=Bl(g,c);return R==null?null:{location:{pathname:R,search:y,hash:S,state:E,key:M},navigationType:a}},[c,g,y,S,E,M,a]);return gl(x!=null,`<Router basename="${c}"> is not able to match the URL "${g}${y}${S}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:dt.createElement(_l.Provider,{value:p},dt.createElement(Th.Provider,{children:t,value:x}))}function Qv({children:o,location:t}){return jv(ud(o),t)}function ud(o,t=[]){let e=[];return dt.Children.forEach(o,(a,u)=>{if(!dt.isValidElement(a))return;let l=[...t,u];if(a.type===dt.Fragment){e.push.apply(e,ud(a.props.children,l));return}mi(a.type===ld,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mi(!a.props.index||!a.props.children,"An index route cannot have child routes.");let c={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=ud(a.props.children,l)),e.push(c)}),e}var yc="get",wc="application/x-www-form-urlencoded";function Dc(o){return o!=null&&typeof o.tagName=="string"}function ey(o){return Dc(o)&&o.tagName.toLowerCase()==="button"}function ty(o){return Dc(o)&&o.tagName.toLowerCase()==="form"}function ny(o){return Dc(o)&&o.tagName.toLowerCase()==="input"}function ry(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}function iy(o,t){return o.button===0&&(!t||t==="_self")&&!ry(o)}var dc=null;function sy(){if(dc===null)try{new FormData(document.createElement("form"),0),dc=!1}catch{dc=!0}return dc}var ay=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Df(o){return o!=null&&!ay.has(o)?(gl(!1,`"${o}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wc}"`),null):o}function oy(o,t){let e,a,u,l,c;if(ty(o)){let p=o.getAttribute("action");a=p?Bl(p,t):null,e=o.getAttribute("method")||yc,u=Df(o.getAttribute("enctype"))||wc,l=new FormData(o)}else if(ey(o)||ny(o)&&(o.type==="submit"||o.type==="image")){let p=o.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=o.getAttribute("formaction")||p.getAttribute("action");if(a=g?Bl(g,t):null,e=o.getAttribute("formmethod")||p.getAttribute("method")||yc,u=Df(o.getAttribute("formenctype"))||Df(p.getAttribute("enctype"))||wc,l=new FormData(p,o),!sy()){let{name:y,type:S,value:E}=o;if(S==="image"){let M=y?`${y}.`:"";l.append(`${M}x`,"0"),l.append(`${M}y`,"0")}else y&&l.append(y,E)}}else{if(Dc(o))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=yc,a=null,u=wc,c=o}return l&&u==="text/plain"&&(c=l,l=void 0),{action:a,method:e.toLowerCase(),encType:u,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Nd(o,t){if(o===!1||o===null||typeof o>"u")throw new Error(t)}function ly(o,t,e){let a=typeof o=="string"?new URL(o,typeof window>"u"?"server://singlefetch/":window.location.origin):o;return a.pathname==="/"?a.pathname=`_root.${e}`:t&&Bl(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${e}`,a}async function uy(o,t){if(o.id in t)return t[o.id];try{let e=await import(o.module);return t[o.id]=e,e}catch(e){return console.error(`Error loading route module \`${o.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hy(o){return o==null?!1:o.href==null?o.rel==="preload"&&typeof o.imageSrcSet=="string"&&typeof o.imageSizes=="string":typeof o.rel=="string"&&typeof o.href=="string"}async function cy(o,t,e){let a=await Promise.all(o.map(async u=>{let l=t.routes[u.route.id];if(l){let c=await uy(l,e);return c.links?c.links():[]}return[]}));return my(a.flat(1).filter(hy).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function E0(o,t,e,a,u,l){let c=(g,y)=>e[y]?g.route.id!==e[y].route.id:!0,p=(g,y)=>e[y].pathname!==g.pathname||e[y].route.path?.endsWith("*")&&e[y].params["*"]!==g.params["*"];return l==="assets"?t.filter((g,y)=>c(g,y)||p(g,y)):l==="data"?t.filter((g,y)=>{let S=a.routes[g.route.id];if(!S||!S.hasLoader)return!1;if(c(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let E=g.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(o,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function fy(o,t,{includeHydrateFallback:e}={}){return dy(o.map(a=>{let u=t.routes[a.route.id];if(!u)return[];let l=[u.module];return u.clientActionModule&&(l=l.concat(u.clientActionModule)),u.clientLoaderModule&&(l=l.concat(u.clientLoaderModule)),e&&u.hydrateFallbackModule&&(l=l.concat(u.hydrateFallbackModule)),u.imports&&(l=l.concat(u.imports)),l}).flat(1))}function dy(o){return[...new Set(o)]}function py(o){let t={},e=Object.keys(o).sort();for(let a of e)t[a]=o[a];return t}function my(o,t){let e=new Set;return new Set(t),o.reduce((a,u)=>{let l=JSON.stringify(py(u));return e.has(l)||(e.add(l),a.push({key:l,link:u})),a},[])}function Dm(){let o=dt.useContext(ah);return Nd(o,"You must render this element inside a <DataRouterContext.Provider> element"),o}function gy(){let o=dt.useContext(Oc);return Nd(o,"You must render this element inside a <DataRouterStateContext.Provider> element"),o}var Od=dt.createContext(void 0);Od.displayName="FrameworkContext";function Im(){let o=dt.useContext(Od);return Nd(o,"You must render this element inside a <HydratedRouter> element"),o}function _y(o,t){let e=dt.useContext(Od),[a,u]=dt.useState(!1),[l,c]=dt.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:S,onTouchStart:E}=t,M=dt.useRef(null);dt.useEffect(()=>{if(o==="render"&&c(!0),o==="viewport"){let A=O=>{O.forEach(W=>{c(W.isIntersecting)})},I=new IntersectionObserver(A,{threshold:.5});return M.current&&I.observe(M.current),()=>{I.disconnect()}}},[o]),dt.useEffect(()=>{if(a){let A=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(A)}}},[a]);let x=()=>{u(!0)},R=()=>{u(!1),c(!1)};return e?o!=="intent"?[l,M,{}]:[l,M,{onFocus:vh(p,x),onBlur:vh(g,R),onMouseEnter:vh(y,x),onMouseLeave:vh(S,R),onTouchStart:vh(E,x)}]:[!1,M,{}]}function vh(o,t){return e=>{o&&o(e),e.defaultPrevented||t(e)}}function vy({page:o,...t}){let{router:e}=Dm(),a=dt.useMemo(()=>km(e.routes,o,e.basename),[e.routes,o,e.basename]);return a?dt.createElement(wy,{page:o,matches:a,...t}):null}function yy(o){let{manifest:t,routeModules:e}=Im(),[a,u]=dt.useState([]);return dt.useEffect(()=>{let l=!1;return cy(o,t,e).then(c=>{l||u(c)}),()=>{l=!0}},[o,t,e]),a}function wy({page:o,matches:t,...e}){let a=wu(),{manifest:u,routeModules:l}=Im(),{basename:c}=Dm(),{loaderData:p,matches:g}=gy(),y=dt.useMemo(()=>E0(o,t,g,u,a,"data"),[o,t,g,u,a]),S=dt.useMemo(()=>E0(o,t,g,u,a,"assets"),[o,t,g,u,a]),E=dt.useMemo(()=>{if(o===a.pathname+a.search+a.hash)return[];let R=new Set,A=!1;if(t.forEach(O=>{let W=u.routes[O.route.id];!W||!W.hasLoader||(!y.some(Z=>Z.route.id===O.route.id)&&O.route.id in p&&l[O.route.id]?.shouldRevalidate||W.hasClientLoader?A=!0:R.add(O.route.id))}),R.size===0)return[];let I=ly(o,c,"data");return A&&R.size>0&&I.searchParams.set("_routes",t.filter(O=>R.has(O.route.id)).map(O=>O.route.id).join(",")),[I.pathname+I.search]},[c,p,a,u,y,t,o,l]),M=dt.useMemo(()=>fy(S,u),[S,u]),x=yy(S);return dt.createElement(dt.Fragment,null,E.map(R=>dt.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...e})),M.map(R=>dt.createElement("link",{key:R,rel:"modulepreload",href:R,...e})),x.map(({key:R,link:A})=>dt.createElement("link",{key:R,nonce:e.nonce,...A})))}function by(...o){return t=>{o.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var Rm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Rm&&(window.__reactRouterVersion="7.8.0")}catch{}function xy({basename:o,children:t,window:e}){let a=dt.useRef();a.current==null&&(a.current=lv({window:e,v5Compat:!0}));let u=a.current,[l,c]=dt.useState({action:u.action,location:u.location}),p=dt.useCallback(g=>{dt.startTransition(()=>c(g))},[c]);return dt.useLayoutEffect(()=>u.listen(p),[u,p]),dt.createElement(Xv,{basename:o,children:t,location:l.location,navigationType:l.action,navigator:u})}var Fm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ic=dt.forwardRef(function({onClick:t,discover:e="render",prefetch:a="none",relative:u,reloadDocument:l,replace:c,state:p,target:g,to:y,preventScrollReset:S,viewTransition:E,...M},x){let{basename:R}=dt.useContext(_l),A=typeof y=="string"&&Fm.test(y),I,O=!1;if(typeof y=="string"&&A&&(I=y,Rm))try{let ge=new URL(window.location.href),Ie=y.startsWith("//")?new URL(ge.protocol+y):new URL(y),te=Bl(Ie.pathname,R);Ie.origin===ge.origin&&te!=null?y=te+Ie.search+Ie.hash:O=!0}catch{gl(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=Dv(y,{relative:u}),[Z,de,ve]=_y(a,M),Se=Sy(y,{replace:c,state:p,target:g,preventScrollReset:S,relative:u,viewTransition:E});function K(ge){t&&t(ge),ge.defaultPrevented||Se(ge)}let X=dt.createElement("a",{...M,...ve,href:I||W,onClick:O||l?t:K,ref:by(x,de),target:g,"data-discover":!A&&e==="render"?"true":void 0});return Z&&!A?dt.createElement(dt.Fragment,null,X,dt.createElement(vy,{page:W})):X});Ic.displayName="Link";var Ly=dt.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:a="",end:u=!1,style:l,to:c,viewTransition:p,children:g,...y},S){let E=Oh(c,{relative:y.relative}),M=wu(),x=dt.useContext(Oc),{navigator:R,basename:A}=dt.useContext(_l),I=x!=null&&By(E)&&p===!0,O=R.encodeLocation?R.encodeLocation(E).pathname:E.pathname,W=M.pathname,Z=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;e||(W=W.toLowerCase(),Z=Z?Z.toLowerCase():null,O=O.toLowerCase()),Z&&A&&(Z=Bl(Z,A)||Z);const de=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let ve=W===O||!u&&W.startsWith(O)&&W.charAt(de)==="/",Se=Z!=null&&(Z===O||!u&&Z.startsWith(O)&&Z.charAt(O.length)==="/"),K={isActive:ve,isPending:Se,isTransitioning:I},X=ve?t:void 0,ge;typeof a=="function"?ge=a(K):ge=[a,ve?"active":null,Se?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let Ie=typeof l=="function"?l(K):l;return dt.createElement(Ic,{...y,"aria-current":X,className:ge,ref:S,style:Ie,to:c,viewTransition:p},typeof g=="function"?g(K):g)});Ly.displayName="NavLink";var ky=dt.forwardRef(({discover:o="render",fetcherKey:t,navigate:e,reloadDocument:a,replace:u,state:l,method:c=yc,action:p,onSubmit:g,relative:y,preventScrollReset:S,viewTransition:E,...M},x)=>{let R=Ay(),A=My(p,{relative:y}),I=c.toLowerCase()==="get"?"get":"post",O=typeof p=="string"&&Fm.test(p),W=Z=>{if(g&&g(Z),Z.defaultPrevented)return;Z.preventDefault();let de=Z.nativeEvent.submitter,ve=de?.getAttribute("formmethod")||c;R(de||Z.currentTarget,{fetcherKey:t,method:ve,navigate:e,replace:u,state:l,relative:y,preventScrollReset:S,viewTransition:E})};return dt.createElement("form",{ref:x,method:I,action:A,onSubmit:a?g:W,...M,"data-discover":!O&&o==="render"?"true":void 0})});ky.displayName="Form";function Cy(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jm(o){let t=dt.useContext(ah);return mi(t,Cy(o)),t}function Sy(o,{target:t,replace:e,state:a,preventScrollReset:u,relative:l,viewTransition:c}={}){let p=Iv(),g=wu(),y=Oh(o,{relative:l});return dt.useCallback(S=>{if(iy(S,t)){S.preventDefault();let E=e!==void 0?e:Ah(g)===Ah(y);p(o,{replace:E,state:a,preventScrollReset:u,relative:l,viewTransition:c})}},[g,p,y,e,a,t,o,u,l,c])}var Ey=0,Py=()=>`__${String(++Ey)}__`;function Ay(){let{router:o}=jm("useSubmit"),{basename:t}=dt.useContext(_l),e=Zv();return dt.useCallback(async(a,u={})=>{let{action:l,method:c,encType:p,formData:g,body:y}=oy(a,t);if(u.navigate===!1){let S=u.fetcherKey||Py();await o.fetch(S,e,u.action||l,{preventScrollReset:u.preventScrollReset,formData:g,body:y,formMethod:u.method||c,formEncType:u.encType||p,flushSync:u.flushSync})}else await o.navigate(u.action||l,{preventScrollReset:u.preventScrollReset,formData:g,body:y,formMethod:u.method||c,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:e,flushSync:u.flushSync,viewTransition:u.viewTransition})},[o,t,e])}function My(o,{relative:t}={}){let{basename:e}=dt.useContext(_l),a=dt.useContext(vl);mi(a,"useFormAction must be used inside a RouteContext");let[u]=a.matches.slice(-1),l={...Oh(o||".",{relative:t})},c=wu();if(o==null){l.search=c.search;let p=new URLSearchParams(l.search),g=p.getAll("index");if(g.some(S=>S==="")){p.delete("index"),g.filter(E=>E).forEach(E=>p.append("index",E));let S=p.toString();l.search=S?`?${S}`:""}}return(!o||o===".")&&u.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(l.pathname=l.pathname==="/"?e:Ml([e,l.pathname])),Ah(l)}function By(o,{relative:t}={}){let e=dt.useContext(Mm);mi(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=jm("useViewTransitionState"),u=Oh(o,{relative:t});if(!e.isTransitioning)return!1;let l=Bl(e.currentLocation.pathname,a)||e.currentLocation.pathname,c=Bl(e.nextLocation.pathname,a)||e.nextLocation.pathname;return Pc(u.pathname,c)!=null||Pc(u.pathname,l)!=null}sm();function Ty({id:o,initialName:t,initialDescription:e,onClose:a,onUpdated:u,onNotify:l}){const[c,p]=dt.useState(t),[g,y]=dt.useState(e||""),[S,E]=dt.useState(!1);async function M(){if(!c){l?.(" El proyecto debe tener un nombre","error");return}E(!0);const{error:x}=await Aa.from("projects").update({name:c,description:g}).eq("id",o);if(E(!1),x){l?.(" No se pudo actualizar el proyecto","error");return}u(),a(),l?.(" Proyecto actualizado","success")}return ot.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-60 z-50",children:ot.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-md p-6 space-y-4",children:[ot.jsx("h2",{className:"text-lg font-semibold text-white",children:" Editar proyecto"}),ot.jsxs("div",{className:"space-y-3",children:[ot.jsxs("div",{children:[ot.jsx("label",{className:"block text-sm text-gray-300",children:"Nombre"}),ot.jsx("input",{type:"text",className:"input w-full",value:c,onChange:x=>p(x.target.value)})]}),ot.jsxs("div",{children:[ot.jsx("label",{className:"block text-sm text-gray-300",children:"Descripcin"}),ot.jsx("input",{type:"text",className:"input w-full",value:g,onChange:x=>y(x.target.value)})]})]}),ot.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[ot.jsx("button",{onClick:a,className:"px-3 py-1.5 rounded-md bg-gray-600 hover:bg-gray-500 text-white transition",children:"Cancelar"}),ot.jsx("button",{onClick:M,disabled:S,className:"px-3 py-1.5 rounded-md bg-green-600 hover:bg-green-700 text-white transition disabled:opacity-60",children:S?"Guardando":"Guardar"})]})]})})}function Ny({id:o,name:t,description:e,isFavorite:a,onDelete:u,onUpdated:l,onToggleFavorite:c,onNotify:p}){const[g,y]=dt.useState(!1);return ot.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-md p-5 flex justify-between items-center hover:bg-gray-750 transition",children:[ot.jsxs("div",{children:[ot.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[" ",t,ot.jsx("button",{onClick:c,className:"ml-2 text-lg focus:outline-none hover:scale-110 transition",title:a?"Quitar de favoritos":"Marcar como favorito",children:a?"":""})]}),e?ot.jsx("p",{className:"text-sm text-gray-400",children:e}):ot.jsx("p",{className:"text-sm text-gray-600 italic",children:"Sin descripcin"})]}),ot.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[ot.jsx(Ic,{to:`/project/${o}`,className:"px-3 py-1.5 text-sm font-medium rounded-md bg-blue-600 hover:bg-blue-700 text-white transition",children:"Abrir"}),ot.jsx("button",{onClick:()=>y(!0),className:"px-3 py-1.5 text-sm font-medium rounded-md border border-yellow-500 text-yellow-500 hover:bg-yellow-500 hover:text-white transition",children:" Editar"}),ot.jsx("button",{onClick:()=>u(o),className:"px-3 py-1.5 text-sm font-medium rounded-md border border-red-500 text-red-500 hover:bg-red-500 hover:text-white transition",children:" Eliminar"})]}),g&&ot.jsx(Ty,{id:o,initialName:t,initialDescription:e,onClose:()=>y(!1),onUpdated:l,onNotify:p})]})}function Oy({onProjectCreated:o,onNotify:t}){const[e,a]=dt.useState(""),[u,l]=dt.useState(""),[c,p]=dt.useState(!1);async function g(){if(!e){t?.(" El proyecto debe tener un nombre","error");return}p(!0);const{data:{user:y}}=await Aa.auth.getUser(),{error:S}=await Aa.from("projects").insert([{name:e,description:u,owner_id:y?.id}]);if(p(!1),S){t?.(" No se pudo crear el proyecto","error");return}a(""),l(""),o(),t?.(" Proyecto creado","success")}return ot.jsxs("div",{className:"card space-y-4",children:[ot.jsx("h2",{className:"subtitle",children:"Tus proyectos"}),ot.jsx("input",{type:"text",placeholder:"Nombre del proyecto",value:e,onChange:y=>a(y.target.value),className:"input"}),ot.jsx("input",{type:"text",placeholder:"Descripcin (ej: Capas base de Chile)",value:u,onChange:y=>l(y.target.value),className:"input"}),ot.jsx("div",{className:"flex gap-3",children:ot.jsx("button",{onClick:g,disabled:c,className:"btn btn-primary disabled:opacity-60",children:c?"Creando":"Crear y abrir"})})]})}function zm({message:o,type:t="info",duration:e=3e3,onClose:a}){const[u,l]=dt.useState(!0);if(dt.useEffect(()=>{const y=setTimeout(()=>l(!1),e-300),S=setTimeout(()=>a&&a(),e);return()=>{clearTimeout(y),clearTimeout(S)}},[e,a]),!u)return null;const c="px-4 py-2 rounded-md shadow-md text-sm font-medium flex items-center gap-2 transition-opacity duration-300",p={success:"bg-green-600 text-white",error:"bg-red-600 text-white",info:"bg-blue-600 text-white"},g={success:"",error:"",info:""};return ot.jsxs("div",{className:`${c} ${p[t]}`,children:[ot.jsx("span",{children:g[t]}),ot.jsx("span",{children:o})]})}function Dy({message:o,onConfirm:t,onCancel:e}){return ot.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-60 z-50",children:ot.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-sm p-6 space-y-4",children:[ot.jsx("h2",{className:"text-lg font-semibold text-white",children:" Confirmar accin"}),ot.jsx("p",{className:"text-gray-300",children:o}),ot.jsxs("div",{className:"flex justify-end gap-3",children:[ot.jsx("button",{onClick:e,className:"px-3 py-1.5 rounded-md bg-gray-600 hover:bg-gray-500 text-white transition",children:"Cancelar"}),ot.jsx("button",{onClick:t,className:"px-3 py-1.5 rounded-md bg-red-600 hover:bg-red-700 text-white transition",children:"Eliminar"})]})]})})}function Iy({email:o}){const[t,e]=dt.useState([]),[a,u]=dt.useState(null),[l,c]=dt.useState(null),[p,g]=dt.useState("");function y(A,I="info"){u({msg:A,type:I})}async function S(){const{data:A,error:I}=await Aa.from("projects").select("id, name, description, owner_id, is_favorite").order("is_favorite",{ascending:!1}).order("created_at",{ascending:!1});if(I){y(" No se pudieron cargar los proyectos","error");return}A&&e(A)}async function E(A,I=!1){const{error:O}=await Aa.from("projects").update({is_favorite:!I}).eq("id",A);if(O){y(" No se pudo actualizar favorito","error");return}S(),y(I?" Proyecto quitado de favoritos":" Proyecto marcado como favorito","success")}async function M(A){const{error:I}=await Aa.from("projects").delete().eq("id",A);if(I){y(" Error al eliminar proyecto","error");return}e(O=>O.filter(W=>W.id!==A)),y(" Proyecto eliminado","success")}async function x(){await Aa.auth.signOut(),y(" Sesin cerrada","info"),setTimeout(()=>window.location.reload(),1e3)}dt.useEffect(()=>{S()},[]);const R=t.filter(A=>A.name.toLowerCase().includes(p.toLowerCase())||(A.description?.toLowerCase()||"").includes(p.toLowerCase()));return ot.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-100 p-6 relative",children:[a&&ot.jsx("div",{className:"fixed top-4 right-4 z-50",children:ot.jsx(zm,{message:a.msg,type:a.type,duration:3e3,onClose:()=>u(null)})}),ot.jsxs("div",{className:"max-w-3xl mx-auto space-y-8",children:[ot.jsxs("div",{className:"flex items-center justify-between",children:[ot.jsxs("div",{children:[ot.jsx("h1",{className:"title",children:"Sesin iniciada en Pudumaps"}),ot.jsx("p",{className:"text-muted",children:o})]}),ot.jsx("button",{onClick:x,className:"btn btn-danger",children:"Cerrar sesin"})]}),ot.jsx(Oy,{onProjectCreated:()=>{S(),y(" Proyecto creado","success")},onNotify:y}),ot.jsx("div",{children:ot.jsx("input",{type:"text",placeholder:" Buscar proyectos...",value:p,onChange:A=>g(A.target.value),className:"input w-full"})}),ot.jsxs("div",{className:"space-y-3",children:[R.map(A=>ot.jsx(Ny,{id:A.id,name:A.name,description:A.description,isFavorite:A.is_favorite??!1,onDelete:I=>c(I),onUpdated:()=>{S(),y(" Proyecto actualizado","success")},onToggleFavorite:()=>E(A.id,A.is_favorite??!1),onNotify:y},A.id)),R.length===0&&ot.jsx("p",{className:"text-muted text-center",children:"No se encontraron proyectos."})]})]}),l&&ot.jsx(Dy,{message:"Seguro que deseas eliminar este proyecto?",onCancel:()=>c(null),onConfirm:()=>{M(l),c(null)}})]})}function Ry({children:o,fallback:t}){const[e,a]=dt.useState(null),[u,l]=dt.useState(!0);return dt.useEffect(()=>{Aa.auth.getSession().then(({data:p})=>{a(p.session),l(!1)});const{data:{subscription:c}}=Aa.auth.onAuthStateChange((p,g)=>{a(g)});return()=>c.unsubscribe()},[]),u?ot.jsx("div",{className:"flex min-h-screen items-center justify-center",children:ot.jsx("div",{className:"bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-100 rounded-xl shadow p-6",children:"Cargando"})}):e?ot.jsx(ot.Fragment,{children:o(e)}):ot.jsx(ot.Fragment,{children:t})}function Fy({projectId:o,onLayerAdded:t,onError:e}){const a=dt.useRef(null),[u,l]=dt.useState(!1);async function c(p){if(!p||p.length===0)return;const g=p[0];l(!0);try{const y=await g.text(),S=JSON.parse(y),{data:E,error:M}=await Aa.from("project_layers").insert({project_id:o,name:g.name.replace(/\.[^.]+$/,""),geojson:S}).select().single();if(M)throw M;const x={layer_id:E.id,color:"#3388ff",weight:2,opacity:1,fillColor:"#3388ff",fillOpacity:.2,radius:6};t?.(E,x)}catch(y){console.error(y),e?.(y.message||"No se pudo subir el archivo")}finally{l(!1)}}return ot.jsxs("div",{className:"flex items-center gap-2",children:[ot.jsx("input",{ref:a,type:"file",accept:".geojson,.json",className:"hidden",onChange:p=>c(p.target.files)}),ot.jsx("button",{type:"button",onClick:()=>a.current?.click(),disabled:u,className:"w-full sm:w-auto px-3 sm:px-4 py-2 text-xs sm:text-sm bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium shadow disabled:opacity-60 transition",children:u?"Subiendo":" Subir GeoJSON/KMZ/KML"})]})}function jy({layers:o,visible:t,onToggleVisible:e,onZoom:a,onDelete:u}){return o.length===0?ot.jsx("div",{className:"hint",children:"No hay capas todava. Sube una para empezar."}):ot.jsx("div",{className:"layer-list",children:o.map(l=>ot.jsxs("div",{className:"layer-item",children:[ot.jsxs("label",{children:[ot.jsx("input",{type:"checkbox",checked:t[l.id],onChange:()=>e(l.id)}),l.name]}),ot.jsx("button",{onClick:()=>a(l),children:""}),ot.jsx("button",{onClick:()=>u(l),children:""})]},l.id))})}const zy=1;function Uy(o){return Object.freeze({__version:zy,map:o})}const Um=dt.createContext(null),qy=Um.Provider;function Gy(){const o=dt.useContext(Um);if(o==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return o}function Hy(o){function t(e,a){const{instance:u}=o(e).current;return dt.useImperativeHandle(a,()=>u),null}return dt.forwardRef(t)}function Wy(o){return function(e){const a=Gy(),u=o(e,a),{instance:l}=u.current,c=dt.useRef(e.position),{position:p}=e;return dt.useEffect(function(){return l.addTo(a.map),function(){l.remove()}},[a.map,l]),dt.useEffect(function(){p!=null&&p!==c.current&&(l.setPosition(p),c.current=p)},[l,p]),u}}var xh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var Vy=xh.exports,P0;function qm(){return P0||(P0=1,(function(o,t){(function(e,a){a(t)})(Vy,(function(e){var a="1.9.4";function u(r){var f,w,T,V;for(w=1,T=arguments.length;w<T;w++){V=arguments[w];for(f in V)r[f]=V[f]}return r}var l=Object.create||(function(){function r(){}return function(f){return r.prototype=f,new r}})();function c(r,f){var w=Array.prototype.slice;if(r.bind)return r.bind.apply(r,w.call(arguments,1));var T=w.call(arguments,2);return function(){return r.apply(f,T.length?T.concat(w.call(arguments)):arguments)}}var p=0;function g(r){return"_leaflet_id"in r||(r._leaflet_id=++p),r._leaflet_id}function y(r,f,w){var T,V,le,He;return He=function(){T=!1,V&&(le.apply(w,V),V=!1)},le=function(){T?V=arguments:(r.apply(w,arguments),setTimeout(He,f),T=!0)},le}function S(r,f,w){var T=f[1],V=f[0],le=T-V;return r===T&&w?r:((r-V)%le+le)%le+V}function E(){return!1}function M(r,f){if(f===!1)return r;var w=Math.pow(10,f===void 0?6:f);return Math.round(r*w)/w}function x(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function R(r){return x(r).split(/\s+/)}function A(r,f){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?l(r.options):{});for(var w in f)r.options[w]=f[w];return r.options}function I(r,f,w){var T=[];for(var V in r)T.push(encodeURIComponent(w?V.toUpperCase():V)+"="+encodeURIComponent(r[V]));return(!f||f.indexOf("?")===-1?"?":"&")+T.join("&")}var O=/\{ *([\w_ -]+) *\}/g;function W(r,f){return r.replace(O,function(w,T){var V=f[T];if(V===void 0)throw new Error("No value provided for variable "+w);return typeof V=="function"&&(V=V(f)),V})}var Z=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function de(r,f){for(var w=0;w<r.length;w++)if(r[w]===f)return w;return-1}var ve="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Se(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var K=0;function X(r){var f=+new Date,w=Math.max(0,16-(f-K));return K=f+w,window.setTimeout(r,w)}var ge=window.requestAnimationFrame||Se("RequestAnimationFrame")||X,Ie=window.cancelAnimationFrame||Se("CancelAnimationFrame")||Se("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function te(r,f,w){if(w&&ge===X)r.call(f);else return ge.call(window,c(r,f))}function G(r){r&&Ie.call(window,r)}var ae={__proto__:null,extend:u,create:l,bind:c,get lastId(){return p},stamp:g,throttle:y,wrapNum:S,falseFn:E,formatNum:M,trim:x,splitWords:R,setOptions:A,getParamString:I,template:W,isArray:Z,indexOf:de,emptyImageUrl:ve,requestFn:ge,cancelFn:Ie,requestAnimFrame:te,cancelAnimFrame:G};function F(){}F.extend=function(r){var f=function(){A(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},w=f.__super__=this.prototype,T=l(w);T.constructor=f,f.prototype=T;for(var V in this)Object.prototype.hasOwnProperty.call(this,V)&&V!=="prototype"&&V!=="__super__"&&(f[V]=this[V]);return r.statics&&u(f,r.statics),r.includes&&(Be(r.includes),u.apply(null,[T].concat(r.includes))),u(T,r),delete T.statics,delete T.includes,T.options&&(T.options=w.options?l(w.options):{},u(T.options,r.options)),T._initHooks=[],T.callInitHooks=function(){if(!this._initHooksCalled){w.callInitHooks&&w.callInitHooks.call(this),this._initHooksCalled=!0;for(var le=0,He=T._initHooks.length;le<He;le++)T._initHooks[le].call(this)}},f},F.include=function(r){var f=this.prototype.options;return u(this.prototype,r),r.options&&(this.prototype.options=f,this.mergeOptions(r.options)),this},F.mergeOptions=function(r){return u(this.prototype.options,r),this},F.addInitHook=function(r){var f=Array.prototype.slice.call(arguments,1),w=typeof r=="function"?r:function(){this[r].apply(this,f)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(w),this};function Be(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=Z(r)?r:[r];for(var f=0;f<r.length;f++)r[f]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ve={on:function(r,f,w){if(typeof r=="object")for(var T in r)this._on(T,r[T],f);else{r=R(r);for(var V=0,le=r.length;V<le;V++)this._on(r[V],f,w)}return this},off:function(r,f,w){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var T in r)this._off(T,r[T],f);else{r=R(r);for(var V=arguments.length===1,le=0,He=r.length;le<He;le++)V?this._off(r[le]):this._off(r[le],f,w)}return this},_on:function(r,f,w,T){if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}if(this._listens(r,f,w)===!1){w===this&&(w=void 0);var V={fn:f,ctx:w};T&&(V.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(V)}},_off:function(r,f,w){var T,V,le;if(this._events&&(T=this._events[r],!!T)){if(arguments.length===1){if(this._firingCount)for(V=0,le=T.length;V<le;V++)T[V].fn=E;delete this._events[r];return}if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}var He=this._listens(r,f,w);if(He!==!1){var mt=T[He];this._firingCount&&(mt.fn=E,this._events[r]=T=T.slice()),T.splice(He,1)}}},fire:function(r,f,w){if(!this.listens(r,w))return this;var T=u({},f,{type:r,target:this,sourceTarget:f&&f.sourceTarget||this});if(this._events){var V=this._events[r];if(V){this._firingCount=this._firingCount+1||1;for(var le=0,He=V.length;le<He;le++){var mt=V[le],xt=mt.fn;mt.once&&this.off(r,xt,mt.ctx),xt.call(mt.ctx||this,T)}this._firingCount--}}return w&&this._propagateEvent(T),this},listens:function(r,f,w,T){typeof r!="string"&&console.warn('"string" type argument expected');var V=f;typeof f!="function"&&(T=!!f,V=void 0,w=void 0);var le=this._events&&this._events[r];if(le&&le.length&&this._listens(r,V,w)!==!1)return!0;if(T){for(var He in this._eventParents)if(this._eventParents[He].listens(r,f,w,T))return!0}return!1},_listens:function(r,f,w){if(!this._events)return!1;var T=this._events[r]||[];if(!f)return!!T.length;w===this&&(w=void 0);for(var V=0,le=T.length;V<le;V++)if(T[V].fn===f&&T[V].ctx===w)return V;return!1},once:function(r,f,w){if(typeof r=="object")for(var T in r)this._on(T,r[T],f,!0);else{r=R(r);for(var V=0,le=r.length;V<le;V++)this._on(r[V],f,w,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[g(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[g(r)],this},_propagateEvent:function(r){for(var f in this._eventParents)this._eventParents[f].fire(r.type,u({layer:r.target,propagatedFrom:r.target},r),!0)}};Ve.addEventListener=Ve.on,Ve.removeEventListener=Ve.clearAllEventListeners=Ve.off,Ve.addOneTimeEventListener=Ve.once,Ve.fireEvent=Ve.fire,Ve.hasEventListeners=Ve.listens;var Fe=F.extend(Ve);function xe(r,f,w){this.x=w?Math.round(r):r,this.y=w?Math.round(f):f}var Ae=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};xe.prototype={clone:function(){return new xe(this.x,this.y)},add:function(r){return this.clone()._add(Pe(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(Pe(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new xe(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new xe(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ae(this.x),this.y=Ae(this.y),this},distanceTo:function(r){r=Pe(r);var f=r.x-this.x,w=r.y-this.y;return Math.sqrt(f*f+w*w)},equals:function(r){return r=Pe(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=Pe(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+M(this.x)+", "+M(this.y)+")"}};function Pe(r,f,w){return r instanceof xe?r:Z(r)?new xe(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new xe(r.x,r.y):new xe(r,f,w)}function re(r,f){if(r)for(var w=f?[r,f]:r,T=0,V=w.length;T<V;T++)this.extend(w[T])}re.prototype={extend:function(r){var f,w;if(!r)return this;if(r instanceof xe||typeof r[0]=="number"||"x"in r)f=w=Pe(r);else if(r=j(r),f=r.min,w=r.max,!f||!w)return this;return!this.min&&!this.max?(this.min=f.clone(),this.max=w.clone()):(this.min.x=Math.min(f.x,this.min.x),this.max.x=Math.max(w.x,this.max.x),this.min.y=Math.min(f.y,this.min.y),this.max.y=Math.max(w.y,this.max.y)),this},getCenter:function(r){return Pe((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return Pe(this.min.x,this.max.y)},getTopRight:function(){return Pe(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var f,w;return typeof r[0]=="number"||r instanceof xe?r=Pe(r):r=j(r),r instanceof re?(f=r.min,w=r.max):f=w=r,f.x>=this.min.x&&w.x<=this.max.x&&f.y>=this.min.y&&w.y<=this.max.y},intersects:function(r){r=j(r);var f=this.min,w=this.max,T=r.min,V=r.max,le=V.x>=f.x&&T.x<=w.x,He=V.y>=f.y&&T.y<=w.y;return le&&He},overlaps:function(r){r=j(r);var f=this.min,w=this.max,T=r.min,V=r.max,le=V.x>f.x&&T.x<w.x,He=V.y>f.y&&T.y<w.y;return le&&He},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var f=this.min,w=this.max,T=Math.abs(f.x-w.x)*r,V=Math.abs(f.y-w.y)*r;return j(Pe(f.x-T,f.y-V),Pe(w.x+T,w.y+V))},equals:function(r){return r?(r=j(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function j(r,f){return!r||r instanceof re?r:new re(r,f)}function he(r,f){if(r)for(var w=f?[r,f]:r,T=0,V=w.length;T<V;T++)this.extend(w[T])}he.prototype={extend:function(r){var f=this._southWest,w=this._northEast,T,V;if(r instanceof pe)T=r,V=r;else if(r instanceof he){if(T=r._southWest,V=r._northEast,!T||!V)return this}else return r?this.extend(Te(r)||fe(r)):this;return!f&&!w?(this._southWest=new pe(T.lat,T.lng),this._northEast=new pe(V.lat,V.lng)):(f.lat=Math.min(T.lat,f.lat),f.lng=Math.min(T.lng,f.lng),w.lat=Math.max(V.lat,w.lat),w.lng=Math.max(V.lng,w.lng)),this},pad:function(r){var f=this._southWest,w=this._northEast,T=Math.abs(f.lat-w.lat)*r,V=Math.abs(f.lng-w.lng)*r;return new he(new pe(f.lat-T,f.lng-V),new pe(w.lat+T,w.lng+V))},getCenter:function(){return new pe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new pe(this.getNorth(),this.getWest())},getSouthEast:function(){return new pe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof pe||"lat"in r?r=Te(r):r=fe(r);var f=this._southWest,w=this._northEast,T,V;return r instanceof he?(T=r.getSouthWest(),V=r.getNorthEast()):T=V=r,T.lat>=f.lat&&V.lat<=w.lat&&T.lng>=f.lng&&V.lng<=w.lng},intersects:function(r){r=fe(r);var f=this._southWest,w=this._northEast,T=r.getSouthWest(),V=r.getNorthEast(),le=V.lat>=f.lat&&T.lat<=w.lat,He=V.lng>=f.lng&&T.lng<=w.lng;return le&&He},overlaps:function(r){r=fe(r);var f=this._southWest,w=this._northEast,T=r.getSouthWest(),V=r.getNorthEast(),le=V.lat>f.lat&&T.lat<w.lat,He=V.lng>f.lng&&T.lng<w.lng;return le&&He},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,f){return r?(r=fe(r),this._southWest.equals(r.getSouthWest(),f)&&this._northEast.equals(r.getNorthEast(),f)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function fe(r,f){return r instanceof he?r:new he(r,f)}function pe(r,f,w){if(isNaN(r)||isNaN(f))throw new Error("Invalid LatLng object: ("+r+", "+f+")");this.lat=+r,this.lng=+f,w!==void 0&&(this.alt=+w)}pe.prototype={equals:function(r,f){if(!r)return!1;r=Te(r);var w=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return w<=(f===void 0?1e-9:f)},toString:function(r){return"LatLng("+M(this.lat,r)+", "+M(this.lng,r)+")"},distanceTo:function(r){return We.distance(this,Te(r))},wrap:function(){return We.wrapLatLng(this)},toBounds:function(r){var f=180*r/40075017,w=f/Math.cos(Math.PI/180*this.lat);return fe([this.lat-f,this.lng-w],[this.lat+f,this.lng+w])},clone:function(){return new pe(this.lat,this.lng,this.alt)}};function Te(r,f,w){return r instanceof pe?r:Z(r)&&typeof r[0]!="object"?r.length===3?new pe(r[0],r[1],r[2]):r.length===2?new pe(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new pe(r.lat,"lng"in r?r.lng:r.lon,r.alt):f===void 0?null:new pe(r,f,w)}var Ke={latLngToPoint:function(r,f){var w=this.projection.project(r),T=this.scale(f);return this.transformation._transform(w,T)},pointToLatLng:function(r,f){var w=this.scale(f),T=this.transformation.untransform(r,w);return this.projection.unproject(T)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var f=this.projection.bounds,w=this.scale(r),T=this.transformation.transform(f.min,w),V=this.transformation.transform(f.max,w);return new re(T,V)},infinite:!1,wrapLatLng:function(r){var f=this.wrapLng?S(r.lng,this.wrapLng,!0):r.lng,w=this.wrapLat?S(r.lat,this.wrapLat,!0):r.lat,T=r.alt;return new pe(w,f,T)},wrapLatLngBounds:function(r){var f=r.getCenter(),w=this.wrapLatLng(f),T=f.lat-w.lat,V=f.lng-w.lng;if(T===0&&V===0)return r;var le=r.getSouthWest(),He=r.getNorthEast(),mt=new pe(le.lat-T,le.lng-V),xt=new pe(He.lat-T,He.lng-V);return new he(mt,xt)}},We=u({},Ke,{wrapLng:[-180,180],R:6371e3,distance:function(r,f){var w=Math.PI/180,T=r.lat*w,V=f.lat*w,le=Math.sin((f.lat-r.lat)*w/2),He=Math.sin((f.lng-r.lng)*w/2),mt=le*le+Math.cos(T)*Math.cos(V)*He*He,xt=2*Math.atan2(Math.sqrt(mt),Math.sqrt(1-mt));return this.R*xt}}),Ye=6378137,Tt={R:Ye,MAX_LATITUDE:85.0511287798,project:function(r){var f=Math.PI/180,w=this.MAX_LATITUDE,T=Math.max(Math.min(w,r.lat),-w),V=Math.sin(T*f);return new xe(this.R*r.lng*f,this.R*Math.log((1+V)/(1-V))/2)},unproject:function(r){var f=180/Math.PI;return new pe((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*f,r.x*f/this.R)},bounds:(function(){var r=Ye*Math.PI;return new re([-r,-r],[r,r])})()};function Ot(r,f,w,T){if(Z(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=f,this._c=w,this._d=T}Ot.prototype={transform:function(r,f){return this._transform(r.clone(),f)},_transform:function(r,f){return f=f||1,r.x=f*(this._a*r.x+this._b),r.y=f*(this._c*r.y+this._d),r},untransform:function(r,f){return f=f||1,new xe((r.x/f-this._b)/this._a,(r.y/f-this._d)/this._c)}};function Gt(r,f,w,T){return new Ot(r,f,w,T)}var qt=u({},We,{code:"EPSG:3857",projection:Tt,transformation:(function(){var r=.5/(Math.PI*Tt.R);return Gt(r,.5,-r,.5)})()}),$=u({},qt,{code:"EPSG:900913"});function je(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function oe(r,f){var w="",T,V,le,He,mt,xt;for(T=0,le=r.length;T<le;T++){for(mt=r[T],V=0,He=mt.length;V<He;V++)xt=mt[V],w+=(V?"L":"M")+xt.x+" "+xt.y;w+=f?Kt.svg?"z":"x":""}return w||"M0 0"}var Ee=document.documentElement.style,we="ActiveXObject"in window,Ne=we&&!document.addEventListener,it="msLaunchUri"in navigator&&!("documentMode"in document),ut=$n("webkit"),qe=$n("android"),Lt=$n("android 2")||$n("android 3"),It=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Bt=qe&&$n("Google")&&It<537&&!("AudioNode"in window),Ut=!!window.opera,an=!it&&$n("chrome"),tn=$n("gecko")&&!ut&&!Ut&&!we,on=!an&&$n("safari"),wn=$n("phantom"),Vt="OTransition"in Ee,ur=navigator.platform.indexOf("Win")===0,cn=we&&"transition"in Ee,Dr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Lt,zn="MozPerspective"in Ee,jn=!window.L_DISABLE_3D&&(cn||Dr||zn)&&!Vt&&!wn,Ar=typeof orientation<"u"||$n("mobile"),Wn=Ar&&ut,Ps=Ar&&Dr,ar=!window.PointerEvent&&window.MSPointerEvent,Ir=!!(window.PointerEvent||ar),Mr="ontouchstart"in window||!!window.TouchEvent,or=!window.L_NO_TOUCH&&(Mr||Ir),En=Ar&&Ut,Yn=Ar&&tn,ma=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Zr=(function(){var r=!1;try{var f=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",E,f),window.removeEventListener("testPassiveEventSupport",E,f)}catch{}return r})(),cs=(function(){return!!document.createElement("canvas").getContext})(),Zi=!!(document.createElementNS&&je("svg").createSVGRect),dn=!!Zi&&(function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Ki=!Zi&&(function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var f=r.firstChild;return f.style.behavior="url(#default#VML)",f&&typeof f.adj=="object"}catch{return!1}})(),Ii=navigator.platform.indexOf("Mac")===0,Ri=navigator.platform.indexOf("Linux")===0;function $n(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var Kt={ie:we,ielt9:Ne,edge:it,webkit:ut,android:qe,android23:Lt,androidStock:Bt,opera:Ut,chrome:an,gecko:tn,safari:on,phantom:wn,opera12:Vt,win:ur,ie3d:cn,webkit3d:Dr,gecko3d:zn,any3d:jn,mobile:Ar,mobileWebkit:Wn,mobileWebkit3d:Ps,msPointer:ar,pointer:Ir,touch:or,touchNative:Mr,mobileOpera:En,mobileGecko:Yn,retina:ma,passiveEvents:Zr,canvas:cs,svg:Zi,vml:Ki,inlineSvg:dn,mac:Ii,linux:Ri},ii=Kt.msPointer?"MSPointerDown":"pointerdown",ga=Kt.msPointer?"MSPointerMove":"pointermove",As=Kt.msPointer?"MSPointerUp":"pointerup",fs=Kt.msPointer?"MSPointerCancel":"pointercancel",Ji={touchstart:ii,touchmove:ga,touchend:As,touchcancel:fs},Kr={touchstart:wr,touchmove:eo,touchend:eo,touchcancel:eo},gi={},Fi=!1;function qs(r,f,w){return f==="touchstart"&&Ba(),Kr[f]?(w=Kr[f].bind(this,w),r.addEventListener(Ji[f],w,!1),w):(console.warn("wrong event specified:",f),E)}function Ma(r,f,w){if(!Ji[f]){console.warn("wrong event specified:",f);return}r.removeEventListener(Ji[f],w,!1)}function Xa(r){gi[r.pointerId]=r}function Qa(r){gi[r.pointerId]&&(gi[r.pointerId]=r)}function Gs(r){delete gi[r.pointerId]}function Ba(){Fi||(document.addEventListener(ii,Xa,!0),document.addEventListener(ga,Qa,!0),document.addEventListener(As,Gs,!0),document.addEventListener(fs,Gs,!0),Fi=!0)}function eo(r,f){if(f.pointerType!==(f.MSPOINTER_TYPE_MOUSE||"mouse")){f.touches=[];for(var w in gi)f.touches.push(gi[w]);f.changedTouches=[f],r(f)}}function wr(r,f){f.MSPOINTER_TYPE_TOUCH&&f.pointerType===f.MSPOINTER_TYPE_TOUCH&&gr(f),eo(r,f)}function wl(r){var f={},w,T;for(T in r)w=r[T],f[T]=w&&w.bind?w.bind(r):w;return r=f,f.type="dblclick",f.detail=2,f.isTrusted=!1,f._simulated=!0,f}var Ta=200;function Io(r,f){r.addEventListener("dblclick",f);var w=0,T;function V(le){if(le.detail!==1){T=le.detail;return}if(!(le.pointerType==="mouse"||le.sourceCapabilities&&!le.sourceCapabilities.firesTouchEvents)){var He=zi(le);if(!(He.some(function(xt){return xt instanceof HTMLLabelElement&&xt.attributes.for})&&!He.some(function(xt){return xt instanceof HTMLInputElement||xt instanceof HTMLSelectElement}))){var mt=Date.now();mt-w<=Ta?(T++,T===2&&f(wl(le))):T=1,w=mt}}}return r.addEventListener("click",V),{dblclick:f,simDblclick:V}}function _o(r,f){r.removeEventListener("dblclick",f.dblclick),r.removeEventListener("click",f.simDblclick)}var to=Ra(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Na=Ra(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Oa=Na==="webkitTransition"||Na==="OTransition"?Na+"End":"transitionend";function Yi(r){return typeof r=="string"?document.getElementById(r):r}function Xi(r,f){var w=r.style[f]||r.currentStyle&&r.currentStyle[f];if((!w||w==="auto")&&document.defaultView){var T=document.defaultView.getComputedStyle(r,null);w=T?T[f]:null}return w==="auto"?null:w}function An(r,f,w){var T=document.createElement(r);return T.className=f||"",w&&w.appendChild(T),T}function Mn(r){var f=r.parentNode;f&&f.removeChild(r)}function Da(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function _a(r){var f=r.parentNode;f&&f.lastChild!==r&&f.appendChild(r)}function Qi(r){var f=r.parentNode;f&&f.firstChild!==r&&f.insertBefore(r,f.firstChild)}function Hs(r,f){if(r.classList!==void 0)return r.classList.contains(f);var w=si(r);return w.length>0&&new RegExp("(^|\\s)"+f+"(\\s|$)").test(w)}function Ln(r,f){if(r.classList!==void 0)for(var w=R(f),T=0,V=w.length;T<V;T++)r.classList.add(w[T]);else if(!Hs(r,f)){var le=si(r);Ia(r,(le?le+" ":"")+f)}}function Vn(r,f){r.classList!==void 0?r.classList.remove(f):Ia(r,x((" "+si(r)+" ").replace(" "+f+" "," ")))}function Ia(r,f){r.className.baseVal===void 0?r.className=f:r.className.baseVal=f}function si(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function Jr(r,f){"opacity"in r.style?r.style.opacity=f:"filter"in r.style&&Ro(r,f)}function Ro(r,f){var w=!1,T="DXImageTransform.Microsoft.Alpha";try{w=r.filters.item(T)}catch{if(f===1)return}f=Math.round(f*100),w?(w.Enabled=f!==100,w.Opacity=f):r.style.filter+=" progid:"+T+"(opacity="+f+")"}function Ra(r){for(var f=document.documentElement.style,w=0;w<r.length;w++)if(r[w]in f)return r[w];return!1}function ji(r,f,w){var T=f||new xe(0,0);r.style[to]=(Kt.ie3d?"translate("+T.x+"px,"+T.y+"px)":"translate3d("+T.x+"px,"+T.y+"px,0)")+(w?" scale("+w+")":"")}function kr(r,f){r._leaflet_pos=f,Kt.any3d?ji(r,f):(r.style.left=f.x+"px",r.style.top=f.y+"px")}function ds(r){return r._leaflet_pos||new xe(0,0)}var Gn,Ws,vo;if("onselectstart"in document)Gn=function(){xn(window,"selectstart",gr)},Ws=function(){Hn(window,"selectstart",gr)};else{var Vs=Ra(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Gn=function(){if(Vs){var r=document.documentElement.style;vo=r[Vs],r[Vs]="none"}},Ws=function(){Vs&&(document.documentElement.style[Vs]=vo,vo=void 0)}}function yo(){xn(window,"dragstart",gr)}function ps(){Hn(window,"dragstart",gr)}var $s,Zs;function va(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(dr(),$s=r,Zs=r.style.outlineStyle,r.style.outlineStyle="none",xn(window,"keydown",dr))}function dr(){$s&&($s.style.outlineStyle=Zs,$s=void 0,Zs=void 0,Hn(window,"keydown",dr))}function Ms(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function es(r){var f=r.getBoundingClientRect();return{x:f.width/r.offsetWidth||1,y:f.height/r.offsetHeight||1,boundingClientRect:f}}var bn={__proto__:null,TRANSFORM:to,TRANSITION:Na,TRANSITION_END:Oa,get:Yi,getStyle:Xi,create:An,remove:Mn,empty:Da,toFront:_a,toBack:Qi,hasClass:Hs,addClass:Ln,removeClass:Vn,setClass:Ia,getClass:si,setOpacity:Jr,testProp:Ra,setTransform:ji,setPosition:kr,getPosition:ds,get disableTextSelection(){return Gn},get enableTextSelection(){return Ws},disableImageDrag:yo,enableImageDrag:ps,preventOutline:va,restoreOutline:dr,getSizedParentNode:Ms,getScale:es};function xn(r,f,w,T){if(f&&typeof f=="object")for(var V in f)Fa(r,V,f[V],w);else{f=R(f);for(var le=0,He=f.length;le<He;le++)Fa(r,f[le],w,T)}return this}var zr="_leaflet_events";function Hn(r,f,w,T){if(arguments.length===1)wo(r),delete r[zr];else if(f&&typeof f=="object")for(var V in f)ts(r,V,f[V],w);else if(f=R(f),arguments.length===2)wo(r,function(mt){return de(f,mt)!==-1});else for(var le=0,He=f.length;le<He;le++)ts(r,f[le],w,T);return this}function wo(r,f){for(var w in r[zr]){var T=w.split(/\d/)[0];(!f||f(T))&&ts(r,T,null,null,w)}}var Ks={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Fa(r,f,w,T){var V=f+g(w)+(T?"_"+g(T):"");if(r[zr]&&r[zr][V])return this;var le=function(mt){return w.call(T||r,mt||window.event)},He=le;!Kt.touchNative&&Kt.pointer&&f.indexOf("touch")===0?le=qs(r,f,le):Kt.touch&&f==="dblclick"?le=Io(r,le):"addEventListener"in r?f==="touchstart"||f==="touchmove"||f==="wheel"||f==="mousewheel"?r.addEventListener(Ks[f]||f,le,Kt.passiveEvents?{passive:!1}:!1):f==="mouseenter"||f==="mouseleave"?(le=function(mt){mt=mt||window.event,Js(r,mt)&&He(mt)},r.addEventListener(Ks[f],le,!1)):r.addEventListener(f,He,!1):r.attachEvent("on"+f,le),r[zr]=r[zr]||{},r[zr][V]=le}function ts(r,f,w,T,V){V=V||f+g(w)+(T?"_"+g(T):"");var le=r[zr]&&r[zr][V];if(!le)return this;!Kt.touchNative&&Kt.pointer&&f.indexOf("touch")===0?Ma(r,f,le):Kt.touch&&f==="dblclick"?_o(r,le):"removeEventListener"in r?r.removeEventListener(Ks[f]||f,le,!1):r.detachEvent("on"+f,le),r[zr][V]=null}function ms(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function bo(r){return Fa(r,"wheel",ms),this}function no(r){return xn(r,"mousedown touchstart dblclick contextmenu",ms),r._leaflet_disable_click=!0,this}function gr(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function ai(r){return gr(r),ms(r),this}function zi(r){if(r.composedPath)return r.composedPath();for(var f=[],w=r.target;w;)f.push(w),w=w.parentNode;return f}function ro(r,f){if(!f)return new xe(r.clientX,r.clientY);var w=es(f),T=w.boundingClientRect;return new xe((r.clientX-T.left)/w.x-f.clientLeft,(r.clientY-T.top)/w.y-f.clientTop)}var io=Kt.linux&&Kt.chrome?window.devicePixelRatio:Kt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function xo(r){return Kt.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/io:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function Js(r,f){var w=f.relatedTarget;if(!w)return!0;try{for(;w&&w!==r;)w=w.parentNode}catch{return!1}return w!==r}var Ys={__proto__:null,on:xn,off:Hn,stopPropagation:ms,disableScrollPropagation:bo,disableClickPropagation:no,preventDefault:gr,stop:ai,getPropagationPath:zi,getMousePosition:ro,getWheelDelta:xo,isExternalTarget:Js,addListener:xn,removeListener:Hn},so=Fe.extend({run:function(r,f,w,T){this.stop(),this._el=r,this._inProgress=!0,this._duration=w||.25,this._easeOutPower=1/Math.max(T||.5,.2),this._startPos=ds(r),this._offset=f.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=te(this._animate,this),this._step()},_step:function(r){var f=+new Date-this._startTime,w=this._duration*1e3;f<w?this._runFrame(this._easeOut(f/w),r):(this._runFrame(1),this._complete())},_runFrame:function(r,f){var w=this._startPos.add(this._offset.multiplyBy(r));f&&w._round(),kr(this._el,w),this.fire("step")},_complete:function(){G(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),In=Fe.extend({options:{crs:qt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,f){f=A(this,f),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),f.maxBounds&&this.setMaxBounds(f.maxBounds),f.zoom!==void 0&&(this._zoom=this._limitZoom(f.zoom)),f.center&&f.zoom!==void 0&&this.setView(Te(f.center),f.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Na&&Kt.any3d&&!Kt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),xn(this._proxy,Oa,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,f,w){if(f=f===void 0?this._zoom:this._limitZoom(f),r=this._limitCenter(Te(r),f,this.options.maxBounds),w=w||{},this._stop(),this._loaded&&!w.reset&&w!==!0){w.animate!==void 0&&(w.zoom=u({animate:w.animate},w.zoom),w.pan=u({animate:w.animate,duration:w.duration},w.pan));var T=this._zoom!==f?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,f,w.zoom):this._tryAnimatedPan(r,w.pan);if(T)return clearTimeout(this._sizeTimer),this}return this._resetView(r,f,w.pan&&w.pan.noMoveStart),this},setZoom:function(r,f){return this._loaded?this.setView(this.getCenter(),r,{zoom:f}):(this._zoom=r,this)},zoomIn:function(r,f){return r=r||(Kt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,f)},zoomOut:function(r,f){return r=r||(Kt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,f)},setZoomAround:function(r,f,w){var T=this.getZoomScale(f),V=this.getSize().divideBy(2),le=r instanceof xe?r:this.latLngToContainerPoint(r),He=le.subtract(V).multiplyBy(1-1/T),mt=this.containerPointToLatLng(V.add(He));return this.setView(mt,f,{zoom:w})},_getBoundsCenterZoom:function(r,f){f=f||{},r=r.getBounds?r.getBounds():fe(r);var w=Pe(f.paddingTopLeft||f.padding||[0,0]),T=Pe(f.paddingBottomRight||f.padding||[0,0]),V=this.getBoundsZoom(r,!1,w.add(T));if(V=typeof f.maxZoom=="number"?Math.min(f.maxZoom,V):V,V===1/0)return{center:r.getCenter(),zoom:V};var le=T.subtract(w).divideBy(2),He=this.project(r.getSouthWest(),V),mt=this.project(r.getNorthEast(),V),xt=this.unproject(He.add(mt).divideBy(2).add(le),V);return{center:xt,zoom:V}},fitBounds:function(r,f){if(r=fe(r),!r.isValid())throw new Error("Bounds are not valid.");var w=this._getBoundsCenterZoom(r,f);return this.setView(w.center,w.zoom,f)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,f){return this.setView(r,this._zoom,{pan:f})},panBy:function(r,f){if(r=Pe(r).round(),f=f||{},!r.x&&!r.y)return this.fire("moveend");if(f.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new so,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),f.noMoveStart||this.fire("movestart"),f.animate!==!1){Ln(this._mapPane,"leaflet-pan-anim");var w=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,w,f.duration||.25,f.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,f,w){if(w=w||{},w.animate===!1||!Kt.any3d)return this.setView(r,f,w);this._stop();var T=this.project(this.getCenter()),V=this.project(r),le=this.getSize(),He=this._zoom;r=Te(r),f=f===void 0?He:f;var mt=Math.max(le.x,le.y),xt=mt*this.getZoomScale(He,f),Rt=V.distanceTo(T)||1,Yt=1.42,pn=Yt*Yt;function On(Un){var ni=Un?-1:1,eu=Un?xt:mt,aa=xt*xt-mt*mt+ni*pn*pn*Rt*Rt,Wa=2*eu*pn*Rt,js=aa/Wa,La=Math.sqrt(js*js+1)-js,Ho=La<1e-9?-18:Math.log(La);return Ho}function di(Un){return(Math.exp(Un)-Math.exp(-Un))/2}function Wr(Un){return(Math.exp(Un)+Math.exp(-Un))/2}function Pi(Un){return di(Un)/Wr(Un)}var Pr=On(0);function ia(Un){return mt*(Wr(Pr)/Wr(Pr+Yt*Un))}function Go(Un){return mt*(Wr(Pr)*Pi(Pr+Yt*Un)-di(Pr))/pn}function ei(Un){return 1-Math.pow(1-Un,1.5)}var os=Date.now(),ti=(On(1)-Pr)/Yt,sa=w.duration?1e3*w.duration:1e3*ti*.8;function ho(){var Un=(Date.now()-os)/sa,ni=ei(Un)*ti;Un<=1?(this._flyToFrame=te(ho,this),this._move(this.unproject(T.add(V.subtract(T).multiplyBy(Go(ni)/Rt)),He),this.getScaleZoom(mt/ia(ni),He),{flyTo:!0})):this._move(r,f)._moveEnd(!0)}return this._moveStart(!0,w.noMoveStart),ho.call(this),this},flyToBounds:function(r,f){var w=this._getBoundsCenterZoom(r,f);return this.flyTo(w.center,w.zoom,f)},setMaxBounds:function(r){return r=fe(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var f=this.options.minZoom;return this.options.minZoom=r,this._loaded&&f!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var f=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&f!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,f){this._enforcingBounds=!0;var w=this.getCenter(),T=this._limitCenter(w,this._zoom,fe(r));return w.equals(T)||this.panTo(T,f),this._enforcingBounds=!1,this},panInside:function(r,f){f=f||{};var w=Pe(f.paddingTopLeft||f.padding||[0,0]),T=Pe(f.paddingBottomRight||f.padding||[0,0]),V=this.project(this.getCenter()),le=this.project(r),He=this.getPixelBounds(),mt=j([He.min.add(w),He.max.subtract(T)]),xt=mt.getSize();if(!mt.contains(le)){this._enforcingBounds=!0;var Rt=le.subtract(mt.getCenter()),Yt=mt.extend(le).getSize().subtract(xt);V.x+=Rt.x<0?-Yt.x:Yt.x,V.y+=Rt.y<0?-Yt.y:Yt.y,this.panTo(this.unproject(V),f),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=u({animate:!1,pan:!0},r===!0?{animate:!0}:r);var f=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var w=this.getSize(),T=f.divideBy(2).round(),V=w.divideBy(2).round(),le=T.subtract(V);return!le.x&&!le.y?this:(r.animate&&r.pan?this.panBy(le):(r.pan&&this._rawPanBy(le),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:f,newSize:w}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=u({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var f=c(this._handleGeolocationResponse,this),w=c(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(f,w,r):navigator.geolocation.getCurrentPosition(f,w,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var f=r.code,w=r.message||(f===1?"permission denied":f===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:f,message:"Geolocation error: "+w+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var f=r.coords.latitude,w=r.coords.longitude,T=new pe(f,w),V=T.toBounds(r.coords.accuracy*2),le=this._locateOptions;if(le.setView){var He=this.getBoundsZoom(V);this.setView(T,le.maxZoom?Math.min(He,le.maxZoom):He)}var mt={latlng:T,bounds:V,timestamp:r.timestamp};for(var xt in r.coords)typeof r.coords[xt]=="number"&&(mt[xt]=r.coords[xt]);this.fire("locationfound",mt)}},addHandler:function(r,f){if(!f)return this;var w=this[r]=new f(this);return this._handlers.push(w),this.options[r]&&w.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Mn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(G(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)Mn(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,f){var w="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),T=An("div",w,f||this._mapPane);return r&&(this._panes[r]=T),T},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),f=this.unproject(r.getBottomLeft()),w=this.unproject(r.getTopRight());return new he(f,w)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,f,w){r=fe(r),w=Pe(w||[0,0]);var T=this.getZoom()||0,V=this.getMinZoom(),le=this.getMaxZoom(),He=r.getNorthWest(),mt=r.getSouthEast(),xt=this.getSize().subtract(w),Rt=j(this.project(mt,T),this.project(He,T)).getSize(),Yt=Kt.any3d?this.options.zoomSnap:1,pn=xt.x/Rt.x,On=xt.y/Rt.y,di=f?Math.max(pn,On):Math.min(pn,On);return T=this.getScaleZoom(di,T),Yt&&(T=Math.round(T/(Yt/100))*(Yt/100),T=f?Math.ceil(T/Yt)*Yt:Math.floor(T/Yt)*Yt),Math.max(V,Math.min(le,T))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new xe(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,f){var w=this._getTopLeftPoint(r,f);return new re(w,w.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,f){var w=this.options.crs;return f=f===void 0?this._zoom:f,w.scale(r)/w.scale(f)},getScaleZoom:function(r,f){var w=this.options.crs;f=f===void 0?this._zoom:f;var T=w.zoom(r*w.scale(f));return isNaN(T)?1/0:T},project:function(r,f){return f=f===void 0?this._zoom:f,this.options.crs.latLngToPoint(Te(r),f)},unproject:function(r,f){return f=f===void 0?this._zoom:f,this.options.crs.pointToLatLng(Pe(r),f)},layerPointToLatLng:function(r){var f=Pe(r).add(this.getPixelOrigin());return this.unproject(f)},latLngToLayerPoint:function(r){var f=this.project(Te(r))._round();return f._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(Te(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(fe(r))},distance:function(r,f){return this.options.crs.distance(Te(r),Te(f))},containerPointToLayerPoint:function(r){return Pe(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return Pe(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var f=this.containerPointToLayerPoint(Pe(r));return this.layerPointToLatLng(f)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Te(r)))},mouseEventToContainerPoint:function(r){return ro(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var f=this._container=Yi(r);if(f){if(f._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");xn(f,"scroll",this._onScroll,this),this._containerId=g(f)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&Kt.any3d,Ln(r,"leaflet-container"+(Kt.touch?" leaflet-touch":"")+(Kt.retina?" leaflet-retina":"")+(Kt.ielt9?" leaflet-oldie":"")+(Kt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var f=Xi(r,"position");f!=="absolute"&&f!=="relative"&&f!=="fixed"&&f!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),kr(this._mapPane,new xe(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ln(r.markerPane,"leaflet-zoom-hide"),Ln(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,f,w){kr(this._mapPane,new xe(0,0));var T=!this._loaded;this._loaded=!0,f=this._limitZoom(f),this.fire("viewprereset");var V=this._zoom!==f;this._moveStart(V,w)._move(r,f)._moveEnd(V),this.fire("viewreset"),T&&this.fire("load")},_moveStart:function(r,f){return r&&this.fire("zoomstart"),f||this.fire("movestart"),this},_move:function(r,f,w,T){f===void 0&&(f=this._zoom);var V=this._zoom!==f;return this._zoom=f,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),T?w&&w.pinch&&this.fire("zoom",w):((V||w&&w.pinch)&&this.fire("zoom",w),this.fire("move",w)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return G(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){kr(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[g(this._container)]=this;var f=r?Hn:xn;f(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&f(window,"resize",this._onResize,this),Kt.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){G(this._resizeRequest),this._resizeRequest=te(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,f){for(var w=[],T,V=f==="mouseout"||f==="mouseover",le=r.target||r.srcElement,He=!1;le;){if(T=this._targets[g(le)],T&&(f==="click"||f==="preclick")&&this._draggableMoved(T)){He=!0;break}if(T&&T.listens(f,!0)&&(V&&!Js(le,r)||(w.push(T),V))||le===this._container)break;le=le.parentNode}return!w.length&&!He&&!V&&this.listens(f,!0)&&(w=[this]),w},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var f=r.target||r.srcElement;if(!(!this._loaded||f._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(f))){var w=r.type;w==="mousedown"&&va(f),this._fireDOMEvent(r,w)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,f,w){if(r.type==="click"){var T=u({},r);T.type="preclick",this._fireDOMEvent(T,T.type,w)}var V=this._findEventTargets(r,f);if(w){for(var le=[],He=0;He<w.length;He++)w[He].listens(f,!0)&&le.push(w[He]);V=le.concat(V)}if(V.length){f==="contextmenu"&&gr(r);var mt=V[0],xt={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var Rt=mt.getLatLng&&(!mt._radius||mt._radius<=10);xt.containerPoint=Rt?this.latLngToContainerPoint(mt.getLatLng()):this.mouseEventToContainerPoint(r),xt.layerPoint=this.containerPointToLayerPoint(xt.containerPoint),xt.latlng=Rt?mt.getLatLng():this.layerPointToLatLng(xt.layerPoint)}for(He=0;He<V.length;He++)if(V[He].fire(f,xt,!0),xt.originalEvent._stopped||V[He].options.bubblingMouseEvents===!1&&de(this._mouseEvents,f)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,f=this._handlers.length;r<f;r++)this._handlers[r].disable()},whenReady:function(r,f){return this._loaded?r.call(f||this,{target:this}):this.on("load",r,f),this},_getMapPanePos:function(){return ds(this._mapPane)||new xe(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,f){var w=r&&f!==void 0?this._getNewPixelOrigin(r,f):this.getPixelOrigin();return w.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,f){var w=this.getSize()._divideBy(2);return this.project(r,f)._subtract(w)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,f,w){var T=this._getNewPixelOrigin(w,f);return this.project(r,f)._subtract(T)},_latLngBoundsToNewLayerBounds:function(r,f,w){var T=this._getNewPixelOrigin(w,f);return j([this.project(r.getSouthWest(),f)._subtract(T),this.project(r.getNorthWest(),f)._subtract(T),this.project(r.getSouthEast(),f)._subtract(T),this.project(r.getNorthEast(),f)._subtract(T)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,f,w){if(!w)return r;var T=this.project(r,f),V=this.getSize().divideBy(2),le=new re(T.subtract(V),T.add(V)),He=this._getBoundsOffset(le,w,f);return Math.abs(He.x)<=1&&Math.abs(He.y)<=1?r:this.unproject(T.add(He),f)},_limitOffset:function(r,f){if(!f)return r;var w=this.getPixelBounds(),T=new re(w.min.add(r),w.max.add(r));return r.add(this._getBoundsOffset(T,f))},_getBoundsOffset:function(r,f,w){var T=j(this.project(f.getNorthEast(),w),this.project(f.getSouthWest(),w)),V=T.min.subtract(r.min),le=T.max.subtract(r.max),He=this._rebound(V.x,-le.x),mt=this._rebound(V.y,-le.y);return new xe(He,mt)},_rebound:function(r,f){return r+f>0?Math.round(r-f)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(f))},_limitZoom:function(r){var f=this.getMinZoom(),w=this.getMaxZoom(),T=Kt.any3d?this.options.zoomSnap:1;return T&&(r=Math.round(r/T)*T),Math.max(f,Math.min(w,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Vn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,f){var w=this._getCenterOffset(r)._trunc();return(f&&f.animate)!==!0&&!this.getSize().contains(w)?!1:(this.panBy(w,f),!0)},_createAnimProxy:function(){var r=this._proxy=An("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(f){var w=to,T=this._proxy.style[w];ji(this._proxy,this.project(f.center,f.zoom),this.getZoomScale(f.zoom,1)),T===this._proxy.style[w]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Mn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),f=this.getZoom();ji(this._proxy,this.project(r,f),this.getZoomScale(f,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,f,w){if(this._animatingZoom)return!0;if(w=w||{},!this._zoomAnimated||w.animate===!1||this._nothingToAnimate()||Math.abs(f-this._zoom)>this.options.zoomAnimationThreshold)return!1;var T=this.getZoomScale(f),V=this._getCenterOffset(r)._divideBy(1-1/T);return w.animate!==!0&&!this.getSize().contains(V)?!1:(te(function(){this._moveStart(!0,w.noMoveStart||!1)._animateZoom(r,f,!0)},this),!0)},_animateZoom:function(r,f,w,T){this._mapPane&&(w&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=f,Ln(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:f,noUpdate:T}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Vn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function gs(r,f){return new In(r,f)}var gn=F.extend({options:{position:"topright"},initialize:function(r){A(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var f=this._map;return f&&f.removeControl(this),this.options.position=r,f&&f.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var f=this._container=this.onAdd(r),w=this.getPosition(),T=r._controlCorners[w];return Ln(f,"leaflet-control"),w.indexOf("bottom")!==-1?T.insertBefore(f,T.firstChild):T.appendChild(f),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Mn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),Yr=function(r){return new gn(r)};In.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},f="leaflet-",w=this._controlContainer=An("div",f+"control-container",this._container);function T(V,le){var He=f+V+" "+f+le;r[V+le]=An("div",He,w)}T("top","left"),T("top","right"),T("bottom","left"),T("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)Mn(this._controlCorners[r]);Mn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ja=gn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,f,w,T){return w<T?-1:T<w?1:0}},initialize:function(r,f,w){A(this,w),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var T in r)this._addLayer(r[T],T);for(T in f)this._addLayer(f[T],T,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return gn.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,f){return this._addLayer(r,f),this._map?this._update():this},addOverlay:function(r,f){return this._addLayer(r,f,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var f=this._getLayer(g(r));return f&&this._layers.splice(this._layers.indexOf(f),1),this._map?this._update():this},expand:function(){Ln(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(Ln(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):Vn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Vn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",f=this._container=An("div",r),w=this.options.collapsed;f.setAttribute("aria-haspopup",!0),no(f),bo(f);var T=this._section=An("section",r+"-list");w&&(this._map.on("click",this.collapse,this),xn(f,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var V=this._layersLink=An("a",r+"-toggle",f);V.href="#",V.title="Layers",V.setAttribute("role","button"),xn(V,{keydown:function(le){le.keyCode===13&&this._expandSafely()},click:function(le){gr(le),this._expandSafely()}},this),w||this.expand(),this._baseLayersList=An("div",r+"-base",T),this._separator=An("div",r+"-separator",T),this._overlaysList=An("div",r+"-overlays",T),f.appendChild(T)},_getLayer:function(r){for(var f=0;f<this._layers.length;f++)if(this._layers[f]&&g(this._layers[f].layer)===r)return this._layers[f]},_addLayer:function(r,f,w){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:f,overlay:w}),this.options.sortLayers&&this._layers.sort(c(function(T,V){return this.options.sortFunction(T.layer,V.layer,T.name,V.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Da(this._baseLayersList),Da(this._overlaysList),this._layerControlInputs=[];var r,f,w,T,V=0;for(w=0;w<this._layers.length;w++)T=this._layers[w],this._addItem(T),f=f||T.overlay,r=r||!T.overlay,V+=T.overlay?0:1;return this.options.hideSingleBase&&(r=r&&V>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=f&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var f=this._getLayer(g(r.target)),w=f.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;w&&this._map.fire(w,f)},_createRadioElement:function(r,f){var w='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(f?' checked="checked"':"")+"/>",T=document.createElement("div");return T.innerHTML=w,T.firstChild},_addItem:function(r){var f=document.createElement("label"),w=this._map.hasLayer(r.layer),T;r.overlay?(T=document.createElement("input"),T.type="checkbox",T.className="leaflet-control-layers-selector",T.defaultChecked=w):T=this._createRadioElement("leaflet-base-layers_"+g(this),w),this._layerControlInputs.push(T),T.layerId=g(r.layer),xn(T,"click",this._onInputClick,this);var V=document.createElement("span");V.innerHTML=" "+r.name;var le=document.createElement("span");f.appendChild(le),le.appendChild(T),le.appendChild(V);var He=r.overlay?this._overlaysList:this._baseLayersList;return He.appendChild(f),this._checkDisabledLayers(),f},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,f,w,T=[],V=[];this._handlingClick=!0;for(var le=r.length-1;le>=0;le--)f=r[le],w=this._getLayer(f.layerId).layer,f.checked?T.push(w):f.checked||V.push(w);for(le=0;le<V.length;le++)this._map.hasLayer(V[le])&&this._map.removeLayer(V[le]);for(le=0;le<T.length;le++)this._map.hasLayer(T[le])||this._map.addLayer(T[le]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,f,w,T=this._map.getZoom(),V=r.length-1;V>=0;V--)f=r[V],w=this._getLayer(f.layerId).layer,f.disabled=w.options.minZoom!==void 0&&T<w.options.minZoom||w.options.maxZoom!==void 0&&T>w.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,xn(r,"click",gr),this.expand();var f=this;setTimeout(function(){Hn(r,"click",gr),f._preventClick=!1})}}),Bs=function(r,f,w){return new ja(r,f,w)},oi=gn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var f="leaflet-control-zoom",w=An("div",f+" leaflet-bar"),T=this.options;return this._zoomInButton=this._createButton(T.zoomInText,T.zoomInTitle,f+"-in",w,this._zoomIn),this._zoomOutButton=this._createButton(T.zoomOutText,T.zoomOutTitle,f+"-out",w,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),w},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,f,w,T,V){var le=An("a",w,T);return le.innerHTML=r,le.href="#",le.title=f,le.setAttribute("role","button"),le.setAttribute("aria-label",f),no(le),xn(le,"click",ai),xn(le,"click",V,this),xn(le,"click",this._refocusOnMap,this),le},_updateDisabled:function(){var r=this._map,f="leaflet-disabled";Vn(this._zoomInButton,f),Vn(this._zoomOutButton,f),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(Ln(this._zoomOutButton,f),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(Ln(this._zoomInButton,f),this._zoomInButton.setAttribute("aria-disabled","true"))}});In.mergeOptions({zoomControl:!0}),In.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new oi,this.addControl(this.zoomControl))});var Lo=function(r){return new oi(r)},Cr=gn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var f="leaflet-control-scale",w=An("div",f),T=this.options;return this._addScales(T,f+"-line",w),r.on(T.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),w},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,f,w){r.metric&&(this._mScale=An("div",f,w)),r.imperial&&(this._iScale=An("div",f,w))},_update:function(){var r=this._map,f=r.getSize().y/2,w=r.distance(r.containerPointToLatLng([0,f]),r.containerPointToLatLng([this.options.maxWidth,f]));this._updateScales(w)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var f=this._getRoundNum(r),w=f<1e3?f+" m":f/1e3+" km";this._updateScale(this._mScale,w,f/r)},_updateImperial:function(r){var f=r*3.2808399,w,T,V;f>5280?(w=f/5280,T=this._getRoundNum(w),this._updateScale(this._iScale,T+" mi",T/w)):(V=this._getRoundNum(f),this._updateScale(this._iScale,V+" ft",V/f))},_updateScale:function(r,f,w){r.style.width=Math.round(this.options.maxWidth*w)+"px",r.innerHTML=f},_getRoundNum:function(r){var f=Math.pow(10,(Math.floor(r)+"").length-1),w=r/f;return w=w>=10?10:w>=5?5:w>=3?3:w>=2?2:1,f*w}}),Ts=function(r){return new Cr(r)},za='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',_i=gn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Kt.inlineSvg?za+" ":"")+"Leaflet</a>"},initialize:function(r){A(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=An("div","leaflet-control-attribution"),no(this._container);for(var f in r._layers)r._layers[f].getAttribution&&this.addAttribution(r._layers[f].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var f in this._attributions)this._attributions[f]&&r.push(f);var w=[];this.options.prefix&&w.push(this.options.prefix),r.length&&w.push(r.join(", ")),this._container.innerHTML=w.join(' <span aria-hidden="true">|</span> ')}}});In.mergeOptions({attributionControl:!0}),In.addInitHook(function(){this.options.attributionControl&&new _i().addTo(this)});var ko=function(r){return new _i(r)};gn.Layers=ja,gn.Zoom=oi,gn.Scale=Cr,gn.Attribution=_i,Yr.layers=Bs,Yr.zoom=Lo,Yr.scale=Ts,Yr.attribution=ko;var Br=F.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Br.addTo=function(r,f){return r.addHandler(f,this),this};var Co={Events:Ve},Ns=Kt.touch?"touchstart mousedown":"mousedown",ki=Fe.extend({options:{clickTolerance:3},initialize:function(r,f,w,T){A(this,T),this._element=r,this._dragStartTarget=f||r,this._preventOutline=w},enable:function(){this._enabled||(xn(this._dragStartTarget,Ns,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ki._dragging===this&&this.finishDrag(!0),Hn(this._dragStartTarget,Ns,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!Hs(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){ki._dragging===this&&this.finishDrag();return}if(!(ki._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(ki._dragging=this,this._preventOutline&&va(this._element),yo(),Gn(),!this._moving)){this.fire("down");var f=r.touches?r.touches[0]:r,w=Ms(this._element);this._startPoint=new xe(f.clientX,f.clientY),this._startPos=ds(this._element),this._parentScale=es(w);var T=r.type==="mousedown";xn(document,T?"mousemove":"touchmove",this._onMove,this),xn(document,T?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var f=r.touches&&r.touches.length===1?r.touches[0]:r,w=new xe(f.clientX,f.clientY)._subtract(this._startPoint);!w.x&&!w.y||Math.abs(w.x)+Math.abs(w.y)<this.options.clickTolerance||(w.x/=this._parentScale.x,w.y/=this._parentScale.y,gr(r),this._moved||(this.fire("dragstart"),this._moved=!0,Ln(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ln(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(w),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),kr(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){Vn(document.body,"leaflet-dragging"),this._lastTarget&&(Vn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Hn(document,"mousemove touchmove",this._onMove,this),Hn(document,"mouseup touchend touchcancel",this._onUp,this),ps(),Ws();var f=this._moved&&this._moving;this._moving=!1,ki._dragging=!1,f&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function ao(r,f,w){var T,V=[1,4,2,8],le,He,mt,xt,Rt,Yt,pn,On;for(le=0,Yt=r.length;le<Yt;le++)r[le]._code=kt(r[le],f);for(mt=0;mt<4;mt++){for(pn=V[mt],T=[],le=0,Yt=r.length,He=Yt-1;le<Yt;He=le++)xt=r[le],Rt=r[He],xt._code&pn?Rt._code&pn||(On=ct(Rt,xt,pn,f,w),On._code=kt(On,f),T.push(On)):(Rt._code&pn&&(On=ct(Rt,xt,pn,f,w),On._code=kt(On,f),T.push(On)),T.push(xt));r=T}return r}function Fo(r,f){var w,T,V,le,He,mt,xt,Rt,Yt;if(!r||r.length===0)throw new Error("latlngs not passed");en(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var pn=Te([0,0]),On=fe(r),di=On.getNorthWest().distanceTo(On.getSouthWest())*On.getNorthEast().distanceTo(On.getNorthWest());di<1700&&(pn=jo(r));var Wr=r.length,Pi=[];for(w=0;w<Wr;w++){var Pr=Te(r[w]);Pi.push(f.project(Te([Pr.lat-pn.lat,Pr.lng-pn.lng])))}for(mt=xt=Rt=0,w=0,T=Wr-1;w<Wr;T=w++)V=Pi[w],le=Pi[T],He=V.y*le.x-le.y*V.x,xt+=(V.x+le.x)*He,Rt+=(V.y+le.y)*He,mt+=He*3;mt===0?Yt=Pi[0]:Yt=[xt/mt,Rt/mt];var ia=f.unproject(Pe(Yt));return Te([ia.lat+pn.lat,ia.lng+pn.lng])}function jo(r){for(var f=0,w=0,T=0,V=0;V<r.length;V++){var le=Te(r[V]);f+=le.lat,w+=le.lng,T++}return Te([f/T,w/T])}var So={__proto__:null,clipPolygon:ao,polygonCenter:Fo,centroid:jo};function Xs(r,f){if(!f||!r.length)return r.slice();var w=f*f;return r=ne(r,w),r=Tr(r,w),r}function oo(r,f,w){return Math.sqrt(Jt(r,f,w,!0))}function Ua(r,f,w){return Jt(r,f,w)}function Tr(r,f){var w=r.length,T=typeof Uint8Array<"u"?Uint8Array:Array,V=new T(w);V[0]=V[w-1]=1,P(r,V,f,0,w-1);var le,He=[];for(le=0;le<w;le++)V[le]&&He.push(r[le]);return He}function P(r,f,w,T,V){var le=0,He,mt,xt;for(mt=T+1;mt<=V-1;mt++)xt=Jt(r[mt],r[T],r[V],!0),xt>le&&(He=mt,le=xt);le>w&&(f[He]=1,P(r,f,w,T,He),P(r,f,w,He,V))}function ne(r,f){for(var w=[r[0]],T=1,V=0,le=r.length;T<le;T++)Ft(r[T],r[V])>f&&(w.push(r[T]),V=T);return V<le-1&&w.push(r[le-1]),w}var De;function $e(r,f,w,T,V){var le=T?De:kt(r,w),He=kt(f,w),mt,xt,Rt;for(De=He;;){if(!(le|He))return[r,f];if(le&He)return!1;mt=le||He,xt=ct(r,f,mt,w,V),Rt=kt(xt,w),mt===le?(r=xt,le=Rt):(f=xt,He=Rt)}}function ct(r,f,w,T,V){var le=f.x-r.x,He=f.y-r.y,mt=T.min,xt=T.max,Rt,Yt;return w&8?(Rt=r.x+le*(xt.y-r.y)/He,Yt=xt.y):w&4?(Rt=r.x+le*(mt.y-r.y)/He,Yt=mt.y):w&2?(Rt=xt.x,Yt=r.y+He*(xt.x-r.x)/le):w&1&&(Rt=mt.x,Yt=r.y+He*(mt.x-r.x)/le),new xe(Rt,Yt,V)}function kt(r,f){var w=0;return r.x<f.min.x?w|=1:r.x>f.max.x&&(w|=2),r.y<f.min.y?w|=4:r.y>f.max.y&&(w|=8),w}function Ft(r,f){var w=f.x-r.x,T=f.y-r.y;return w*w+T*T}function Jt(r,f,w,T){var V=f.x,le=f.y,He=w.x-V,mt=w.y-le,xt=He*He+mt*mt,Rt;return xt>0&&(Rt=((r.x-V)*He+(r.y-le)*mt)/xt,Rt>1?(V=w.x,le=w.y):Rt>0&&(V+=He*Rt,le+=mt*Rt)),He=r.x-V,mt=r.y-le,T?He*He+mt*mt:new xe(V,le)}function en(r){return!Z(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function _n(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),en(r)}function kn(r,f){var w,T,V,le,He,mt,xt,Rt;if(!r||r.length===0)throw new Error("latlngs not passed");en(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Yt=Te([0,0]),pn=fe(r),On=pn.getNorthWest().distanceTo(pn.getSouthWest())*pn.getNorthEast().distanceTo(pn.getNorthWest());On<1700&&(Yt=jo(r));var di=r.length,Wr=[];for(w=0;w<di;w++){var Pi=Te(r[w]);Wr.push(f.project(Te([Pi.lat-Yt.lat,Pi.lng-Yt.lng])))}for(w=0,T=0;w<di-1;w++)T+=Wr[w].distanceTo(Wr[w+1])/2;if(T===0)Rt=Wr[0];else for(w=0,le=0;w<di-1;w++)if(He=Wr[w],mt=Wr[w+1],V=He.distanceTo(mt),le+=V,le>T){xt=(le-T)/V,Rt=[mt.x-xt*(mt.x-He.x),mt.y-xt*(mt.y-He.y)];break}var Pr=f.unproject(Pe(Rt));return Te([Pr.lat+Yt.lat,Pr.lng+Yt.lng])}var Rn={__proto__:null,simplify:Xs,pointToSegmentDistance:oo,closestPointOnSegment:Ua,clipSegment:$e,_getEdgeIntersection:ct,_getBitCode:kt,_sqClosestPointOnSegment:Jt,isFlat:en,_flat:_n,polylineCenter:kn},_r={project:function(r){return new xe(r.lng,r.lat)},unproject:function(r){return new pe(r.y,r.x)},bounds:new re([-180,-90],[180,90])},Zn={R:6378137,R_MINOR:6356752314245179e-9,bounds:new re([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var f=Math.PI/180,w=this.R,T=r.lat*f,V=this.R_MINOR/w,le=Math.sqrt(1-V*V),He=le*Math.sin(T),mt=Math.tan(Math.PI/4-T/2)/Math.pow((1-He)/(1+He),le/2);return T=-w*Math.log(Math.max(mt,1e-10)),new xe(r.lng*f*w,T)},unproject:function(r){for(var f=180/Math.PI,w=this.R,T=this.R_MINOR/w,V=Math.sqrt(1-T*T),le=Math.exp(-r.y/w),He=Math.PI/2-2*Math.atan(le),mt=0,xt=.1,Rt;mt<15&&Math.abs(xt)>1e-7;mt++)Rt=V*Math.sin(He),Rt=Math.pow((1-Rt)/(1+Rt),V/2),xt=Math.PI/2-2*Math.atan(le*Rt)-He,He+=xt;return new pe(He*f,r.x*f/w)}},rr={__proto__:null,LonLat:_r,Mercator:Zn,SphericalMercator:Tt},Ur=u({},We,{code:"EPSG:3395",projection:Zn,transformation:(function(){var r=.5/(Math.PI*Zn.R);return Gt(r,.5,-r,.5)})()}),Rr=u({},We,{code:"EPSG:4326",projection:_r,transformation:Gt(1/180,1,-1/180,.5)}),ns=u({},Ke,{projection:_r,transformation:Gt(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,f){var w=f.lng-r.lng,T=f.lat-r.lat;return Math.sqrt(w*w+T*T)},infinite:!0});Ke.Earth=We,Ke.EPSG3395=Ur,Ke.EPSG3857=qt,Ke.EPSG900913=$,Ke.EPSG4326=Rr,Ke.Simple=ns;var hr=Fe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[g(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[g(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var f=r.target;if(f.hasLayer(this)){if(this._map=f,this._zoomAnimated=f._zoomAnimated,this.getEvents){var w=this.getEvents();f.on(w,this),this.once("remove",function(){f.off(w,this)},this)}this.onAdd(f),this.fire("add"),f.fire("layeradd",{layer:this})}}});In.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var f=g(r);return this._layers[f]?this:(this._layers[f]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var f=g(r);return this._layers[f]?(this._loaded&&r.onRemove(this),delete this._layers[f],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return g(r)in this._layers},eachLayer:function(r,f){for(var w in this._layers)r.call(f,this._layers[w]);return this},_addLayers:function(r){r=r?Z(r)?r:[r]:[];for(var f=0,w=r.length;f<w;f++)this.addLayer(r[f])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[g(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var f=g(r);this._zoomBoundLayers[f]&&(delete this._zoomBoundLayers[f],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,f=-1/0,w=this._getZoomSpan();for(var T in this._zoomBoundLayers){var V=this._zoomBoundLayers[T].options;r=V.minZoom===void 0?r:Math.min(r,V.minZoom),f=V.maxZoom===void 0?f:Math.max(f,V.maxZoom)}this._layersMaxZoom=f===-1/0?void 0:f,this._layersMinZoom=r===1/0?void 0:r,w!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var li=hr.extend({initialize:function(r,f){A(this,f),this._layers={};var w,T;if(r)for(w=0,T=r.length;w<T;w++)this.addLayer(r[w])},addLayer:function(r){var f=this.getLayerId(r);return this._layers[f]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var f=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[f]&&this._map.removeLayer(this._layers[f]),delete this._layers[f],this},hasLayer:function(r){var f=typeof r=="number"?r:this.getLayerId(r);return f in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var f=Array.prototype.slice.call(arguments,1),w,T;for(w in this._layers)T=this._layers[w],T[r]&&T[r].apply(T,f);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,f){for(var w in this._layers)r.call(f,this._layers[w]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return g(r)}}),qa=function(r,f){return new li(r,f)},Ci=li.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),li.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),li.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new he;for(var f in this._layers){var w=this._layers[f];r.extend(w.getBounds?w.getBounds():w.getLatLng())}return r}}),Eo=function(r,f){return new Ci(r,f)},_s=F.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){A(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,f){var w=this._getIconUrl(r);if(!w){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var T=this._createImg(w,f&&f.tagName==="IMG"?f:null);return this._setIconStyles(T,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(T.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),T},_setIconStyles:function(r,f){var w=this.options,T=w[f+"Size"];typeof T=="number"&&(T=[T,T]);var V=Pe(T),le=Pe(f==="shadow"&&w.shadowAnchor||w.iconAnchor||V&&V.divideBy(2,!0));r.className="leaflet-marker-"+f+" "+(w.className||""),le&&(r.style.marginLeft=-le.x+"px",r.style.marginTop=-le.y+"px"),V&&(r.style.width=V.x+"px",r.style.height=V.y+"px")},_createImg:function(r,f){return f=f||document.createElement("img"),f.src=r,f},_getIconUrl:function(r){return Kt.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function Po(r){return new _s(r)}var Qs=_s.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof Qs.imagePath!="string"&&(Qs.imagePath=this._detectIconPath()),(this.options.imagePath||Qs.imagePath)+_s.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var f=function(w,T,V){var le=T.exec(w);return le&&le[V]};return r=f(r,/^url\((['"])?(.+)\1\)$/,2),r&&f(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=An("div","leaflet-default-icon-path",document.body),f=Xi(r,"background-image")||Xi(r,"backgroundImage");if(document.body.removeChild(r),f=this._stripUrl(f),f)return f;var w=document.querySelector('link[href$="leaflet.css"]');return w?w.href.substring(0,w.href.length-11-1):""}}),ea=Br.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new ki(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ln(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Vn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var f=this._marker,w=f._map,T=this._marker.options.autoPanSpeed,V=this._marker.options.autoPanPadding,le=ds(f._icon),He=w.getPixelBounds(),mt=w.getPixelOrigin(),xt=j(He.min._subtract(mt).add(V),He.max._subtract(mt).subtract(V));if(!xt.contains(le)){var Rt=Pe((Math.max(xt.max.x,le.x)-xt.max.x)/(He.max.x-xt.max.x)-(Math.min(xt.min.x,le.x)-xt.min.x)/(He.min.x-xt.min.x),(Math.max(xt.max.y,le.y)-xt.max.y)/(He.max.y-xt.max.y)-(Math.min(xt.min.y,le.y)-xt.min.y)/(He.min.y-xt.min.y)).multiplyBy(T);w.panBy(Rt,{animate:!1}),this._draggable._newPos._add(Rt),this._draggable._startPos._add(Rt),kr(f._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=te(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(G(this._panRequest),this._panRequest=te(this._adjustPan.bind(this,r)))},_onDrag:function(r){var f=this._marker,w=f._shadow,T=ds(f._icon),V=f._map.layerPointToLatLng(T);w&&kr(w,T),f._latlng=V,r.latlng=V,r.oldLatLng=this._oldLatLng,f.fire("move",r).fire("drag",r)},_onDragEnd:function(r){G(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),vr=hr.extend({options:{icon:new Qs,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,f){A(this,f),this._latlng=Te(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var f=this._latlng;return this._latlng=Te(r),this.update(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,f="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),w=r.icon.createIcon(this._icon),T=!1;w!==this._icon&&(this._icon&&this._removeIcon(),T=!0,r.title&&(w.title=r.title),w.tagName==="IMG"&&(w.alt=r.alt||"")),Ln(w,f),r.keyboard&&(w.tabIndex="0",w.setAttribute("role","button")),this._icon=w,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&xn(w,"focus",this._panOnFocus,this);var V=r.icon.createShadow(this._shadow),le=!1;V!==this._shadow&&(this._removeShadow(),le=!0),V&&(Ln(V,f),V.alt=""),this._shadow=V,r.opacity<1&&this._updateOpacity(),T&&this.getPane().appendChild(this._icon),this._initInteraction(),V&&le&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Hn(this._icon,"focus",this._panOnFocus,this),Mn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Mn(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&kr(this._icon,r),this._shadow&&kr(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var f=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(f)},_initInteraction:function(){if(this.options.interactive&&(Ln(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ea)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ea(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&Jr(this._icon,r),this._shadow&&Jr(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var f=this.options.icon.options,w=f.iconSize?Pe(f.iconSize):Pe(0,0),T=f.iconAnchor?Pe(f.iconAnchor):Pe(0,0);r.panInside(this._latlng,{paddingTopLeft:T,paddingBottomRight:w.subtract(T)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Ao(r,f){return new vr(r,f)}var Ui=hr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return A(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Si=Ui.extend({options:{fill:!0,radius:10},initialize:function(r,f){A(this,f),this._latlng=Te(r),this._radius=this.options.radius},setLatLng:function(r){var f=this._latlng;return this._latlng=Te(r),this.redraw(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var f=r&&r.radius||this._radius;return Ui.prototype.setStyle.call(this,r),this.setRadius(f),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,f=this._radiusY||r,w=this._clickTolerance(),T=[r+w,f+w];this._pxBounds=new re(this._point.subtract(T),this._point.add(T))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function lo(r,f){return new Si(r,f)}var ui=Si.extend({initialize:function(r,f,w){if(typeof f=="number"&&(f=u({},w,{radius:f})),A(this,f),this._latlng=Te(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new he(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:Ui.prototype.setStyle,_project:function(){var r=this._latlng.lng,f=this._latlng.lat,w=this._map,T=w.options.crs;if(T.distance===We.distance){var V=Math.PI/180,le=this._mRadius/We.R/V,He=w.project([f+le,r]),mt=w.project([f-le,r]),xt=He.add(mt).divideBy(2),Rt=w.unproject(xt).lat,Yt=Math.acos((Math.cos(le*V)-Math.sin(f*V)*Math.sin(Rt*V))/(Math.cos(f*V)*Math.cos(Rt*V)))/V;(isNaN(Yt)||Yt===0)&&(Yt=le/Math.cos(Math.PI/180*f)),this._point=xt.subtract(w.getPixelOrigin()),this._radius=isNaN(Yt)?0:xt.x-w.project([Rt,r-Yt]).x,this._radiusY=xt.y-He.y}else{var pn=T.unproject(T.project(this._latlng).subtract([this._mRadius,0]));this._point=w.latLngToLayerPoint(this._latlng),this._radius=this._point.x-w.latLngToLayerPoint(pn).x}this._updateBounds()}});function rs(r,f,w){return new ui(r,f,w)}var hi=Ui.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,f){A(this,f),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var f=1/0,w=null,T=Jt,V,le,He=0,mt=this._parts.length;He<mt;He++)for(var xt=this._parts[He],Rt=1,Yt=xt.length;Rt<Yt;Rt++){V=xt[Rt-1],le=xt[Rt];var pn=T(r,V,le,!0);pn<f&&(f=pn,w=T(r,V,le))}return w&&(w.distance=Math.sqrt(f)),w},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return kn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,f){return f=f||this._defaultShape(),r=Te(r),f.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new he,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return en(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var f=[],w=en(r),T=0,V=r.length;T<V;T++)w?(f[T]=Te(r[T]),this._bounds.extend(f[T])):f[T]=this._convertLatLngs(r[T]);return f},_project:function(){var r=new re;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),f=new xe(r,r);this._rawPxBounds&&(this._pxBounds=new re([this._rawPxBounds.min.subtract(f),this._rawPxBounds.max.add(f)]))},_projectLatlngs:function(r,f,w){var T=r[0]instanceof pe,V=r.length,le,He;if(T){for(He=[],le=0;le<V;le++)He[le]=this._map.latLngToLayerPoint(r[le]),w.extend(He[le]);f.push(He)}else for(le=0;le<V;le++)this._projectLatlngs(r[le],f,w)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var f=this._parts,w,T,V,le,He,mt,xt;for(w=0,V=0,le=this._rings.length;w<le;w++)for(xt=this._rings[w],T=0,He=xt.length;T<He-1;T++)mt=$e(xt[T],xt[T+1],r,T,!0),mt&&(f[V]=f[V]||[],f[V].push(mt[0]),(mt[1]!==xt[T+1]||T===He-2)&&(f[V].push(mt[1]),V++))}},_simplifyPoints:function(){for(var r=this._parts,f=this.options.smoothFactor,w=0,T=r.length;w<T;w++)r[w]=Xs(r[w],f)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,f){var w,T,V,le,He,mt,xt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(w=0,le=this._parts.length;w<le;w++)for(mt=this._parts[w],T=0,He=mt.length,V=He-1;T<He;V=T++)if(!(!f&&T===0)&&oo(r,mt[V],mt[T])<=xt)return!0;return!1}});function ll(r,f){return new hi(r,f)}hi._flat=_n;var Sr=hi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Fo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var f=hi.prototype._convertLatLngs.call(this,r),w=f.length;return w>=2&&f[0]instanceof pe&&f[0].equals(f[w-1])&&f.pop(),f},_setLatLngs:function(r){hi.prototype._setLatLngs.call(this,r),en(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return en(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,f=this.options.weight,w=new xe(f,f);if(r=new re(r.min.subtract(w),r.max.add(w)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var T=0,V=this._rings.length,le;T<V;T++)le=ao(this._rings[T],r,!0),le.length&&this._parts.push(le)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var f=!1,w,T,V,le,He,mt,xt,Rt;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(le=0,xt=this._parts.length;le<xt;le++)for(w=this._parts[le],He=0,Rt=w.length,mt=Rt-1;He<Rt;mt=He++)T=w[He],V=w[mt],T.y>r.y!=V.y>r.y&&r.x<(V.x-T.x)*(r.y-T.y)/(V.y-T.y)+T.x&&(f=!f);return f||hi.prototype._containsPoint.call(this,r,!0)}});function ta(r,f){return new Sr(r,f)}var is=Ci.extend({initialize:function(r,f){A(this,f),this._layers={},r&&this.addData(r)},addData:function(r){var f=Z(r)?r:r.features,w,T,V;if(f){for(w=0,T=f.length;w<T;w++)V=f[w],(V.geometries||V.geometry||V.features||V.coordinates)&&this.addData(V);return this}var le=this.options;if(le.filter&&!le.filter(r))return this;var He=ya(r,le);return He?(He.feature=vs(r),He.defaultOptions=He.options,this.resetStyle(He),le.onEachFeature&&le.onEachFeature(r,He),this.addLayer(He)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=u({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(f){this._setLayerStyle(f,r)},this)},_setLayerStyle:function(r,f){r.setStyle&&(typeof f=="function"&&(f=f(r.feature)),r.setStyle(f))}});function ya(r,f){var w=r.type==="Feature"?r.geometry:r,T=w?w.coordinates:null,V=[],le=f&&f.pointToLayer,He=f&&f.coordsToLatLng||Ds,mt,xt,Rt,Yt;if(!T&&!w)return null;switch(w.type){case"Point":return mt=He(T),Os(le,r,mt,f);case"MultiPoint":for(Rt=0,Yt=T.length;Rt<Yt;Rt++)mt=He(T[Rt]),V.push(Os(le,r,mt,f));return new Ci(V);case"LineString":case"MultiLineString":return xt=Xr(T,w.type==="LineString"?0:1,He),new hi(xt,f);case"Polygon":case"MultiPolygon":return xt=Xr(T,w.type==="Polygon"?1:2,He),new Sr(xt,f);case"GeometryCollection":for(Rt=0,Yt=w.geometries.length;Rt<Yt;Rt++){var pn=ya({geometry:w.geometries[Rt],type:"Feature",properties:r.properties},f);pn&&V.push(pn)}return new Ci(V);case"FeatureCollection":for(Rt=0,Yt=w.features.length;Rt<Yt;Rt++){var On=ya(w.features[Rt],f);On&&V.push(On)}return new Ci(V);default:throw new Error("Invalid GeoJSON object.")}}function Os(r,f,w,T){return r?r(f,w):new vr(w,T&&T.markersInheritOptions&&T)}function Ds(r){return new pe(r[1],r[0],r[2])}function Xr(r,f,w){for(var T=[],V=0,le=r.length,He;V<le;V++)He=f?Xr(r[V],f-1,w):(w||Ds)(r[V]),T.push(He);return T}function qr(r,f){return r=Te(r),r.alt!==void 0?[M(r.lng,f),M(r.lat,f),M(r.alt,f)]:[M(r.lng,f),M(r.lat,f)]}function Is(r,f,w,T){for(var V=[],le=0,He=r.length;le<He;le++)V.push(f?Is(r[le],en(r[le])?0:f-1,w,T):qr(r[le],T));return!f&&w&&V.length>0&&V.push(V[0].slice()),V}function qi(r,f){return r.feature?u({},r.feature,{geometry:f}):vs(f)}function vs(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var wa={toGeoJSON:function(r){return qi(this,{type:"Point",coordinates:qr(this.getLatLng(),r)})}};vr.include(wa),ui.include(wa),Si.include(wa),hi.include({toGeoJSON:function(r){var f=!en(this._latlngs),w=Is(this._latlngs,f?1:0,!1,r);return qi(this,{type:(f?"Multi":"")+"LineString",coordinates:w})}}),Sr.include({toGeoJSON:function(r){var f=!en(this._latlngs),w=f&&!en(this._latlngs[0]),T=Is(this._latlngs,w?2:f?1:0,!0,r);return f||(T=[T]),qi(this,{type:(w?"Multi":"")+"Polygon",coordinates:T})}}),li.include({toMultiPoint:function(r){var f=[];return this.eachLayer(function(w){f.push(w.toGeoJSON(r).geometry.coordinates)}),qi(this,{type:"MultiPoint",coordinates:f})},toGeoJSON:function(r){var f=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(f==="MultiPoint")return this.toMultiPoint(r);var w=f==="GeometryCollection",T=[];return this.eachLayer(function(V){if(V.toGeoJSON){var le=V.toGeoJSON(r);if(w)T.push(le.geometry);else{var He=vs(le);He.type==="FeatureCollection"?T.push.apply(T,He.features):T.push(He)}}}),w?qi(this,{geometries:T,type:"GeometryCollection"}):{type:"FeatureCollection",features:T}}});function ys(r,f){return new is(r,f)}var Xn=ys,Gi=hr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,f,w){this._url=r,this._bounds=fe(f),A(this,w)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ln(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Mn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&_a(this._image),this},bringToBack:function(){return this._map&&Qi(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=fe(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",f=this._image=r?this._url:An("img");if(Ln(f,"leaflet-image-layer"),this._zoomAnimated&&Ln(f,"leaflet-zoom-animated"),this.options.className&&Ln(f,this.options.className),f.onselectstart=E,f.onmousemove=E,f.onload=c(this.fire,this,"load"),f.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=f.src;return}f.src=this._url,f.alt=this.options.alt},_animateZoom:function(r){var f=this._map.getZoomScale(r.zoom),w=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;ji(this._image,w,f)},_reset:function(){var r=this._image,f=new re(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),w=f.getSize();kr(r,f.min),r.style.width=w.x+"px",r.style.height=w.y+"px"},_updateOpacity:function(){Jr(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),vi=function(r,f,w){return new Gi(r,f,w)},ci=Gi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",f=this._image=r?this._url:An("video");if(Ln(f,"leaflet-image-layer"),this._zoomAnimated&&Ln(f,"leaflet-zoom-animated"),this.options.className&&Ln(f,this.options.className),f.onselectstart=E,f.onmousemove=E,f.onloadeddata=c(this.fire,this,"load"),r){for(var w=f.getElementsByTagName("source"),T=[],V=0;V<w.length;V++)T.push(w[V].src);this._url=w.length>0?T:[f.src];return}Z(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(f.style,"objectFit")&&(f.style.objectFit="fill"),f.autoplay=!!this.options.autoplay,f.loop=!!this.options.loop,f.muted=!!this.options.muted,f.playsInline=!!this.options.playsInline;for(var le=0;le<this._url.length;le++){var He=An("source");He.src=this._url[le],f.appendChild(He)}}});function Ga(r,f,w){return new ci(r,f,w)}var Mo=Gi.extend({_initImage:function(){var r=this._image=this._url;Ln(r,"leaflet-image-layer"),this._zoomAnimated&&Ln(r,"leaflet-zoom-animated"),this.options.className&&Ln(r,this.options.className),r.onselectstart=E,r.onmousemove=E}});function uo(r,f,w){return new Mo(r,f,w)}var yi=hr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,f){r&&(r instanceof pe||Z(r))?(this._latlng=Te(r),A(this,f)):(A(this,r),this._source=f),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&Jr(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&Jr(this._container,1),this.bringToFront(),this.options.interactive&&(Ln(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(Jr(this._container,0),this._removeTimeout=setTimeout(c(Mn,void 0,this._container),200)):Mn(this._container),this.options.interactive&&(Vn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=Te(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&_a(this._container),this},bringToBack:function(){return this._map&&Qi(this._container),this},_prepareOpen:function(r){var f=this._source;if(!f._map)return!1;if(f instanceof Ci){f=null;var w=this._source._layers;for(var T in w)if(w[T]._map){f=w[T];break}if(!f)return!1;this._source=f}if(!r)if(f.getCenter)r=f.getCenter();else if(f.getLatLng)r=f.getLatLng();else if(f.getBounds)r=f.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,f=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof f=="string")r.innerHTML=f;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(f)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),f=Pe(this.options.offset),w=this._getAnchor();this._zoomAnimated?kr(this._container,r.add(w)):f=f.add(r).add(w);var T=this._containerBottom=-f.y,V=this._containerLeft=-Math.round(this._containerWidth/2)+f.x;this._container.style.bottom=T+"px",this._container.style.left=V+"px"}},_getAnchor:function(){return[0,0]}});In.include({_initOverlay:function(r,f,w,T){var V=f;return V instanceof r||(V=new r(T).setContent(f)),w&&V.setLatLng(w),V}}),hr.include({_initOverlay:function(r,f,w,T){var V=w;return V instanceof r?(A(V,T),V._source=this):(V=f&&!T?f:new r(T,this),V.setContent(w)),V}});var Hi=yi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,yi.prototype.openOn.call(this,r)},onAdd:function(r){yi.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ui||this._source.on("preclick",ms))},onRemove:function(r){yi.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ui||this._source.off("preclick",ms))},getEvents:function(){var r=yi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",f=this._container=An("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),w=this._wrapper=An("div",r+"-content-wrapper",f);if(this._contentNode=An("div",r+"-content",w),no(f),bo(this._contentNode),xn(f,"contextmenu",ms),this._tipContainer=An("div",r+"-tip-container",f),this._tip=An("div",r+"-tip",this._tipContainer),this.options.closeButton){var T=this._closeButton=An("a",r+"-close-button",f);T.setAttribute("role","button"),T.setAttribute("aria-label","Close popup"),T.href="#close",T.innerHTML='<span aria-hidden="true">&#215;</span>',xn(T,"click",function(V){gr(V),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,f=r.style;f.width="",f.whiteSpace="nowrap";var w=r.offsetWidth;w=Math.min(w,this.options.maxWidth),w=Math.max(w,this.options.minWidth),f.width=w+1+"px",f.whiteSpace="",f.height="";var T=r.offsetHeight,V=this.options.maxHeight,le="leaflet-popup-scrolled";V&&T>V?(f.height=V+"px",Ln(r,le)):Vn(r,le),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var f=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),w=this._getAnchor();kr(this._container,f.add(w))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,f=parseInt(Xi(this._container,"marginBottom"),10)||0,w=this._container.offsetHeight+f,T=this._containerWidth,V=new xe(this._containerLeft,-w-this._containerBottom);V._add(ds(this._container));var le=r.layerPointToContainerPoint(V),He=Pe(this.options.autoPanPadding),mt=Pe(this.options.autoPanPaddingTopLeft||He),xt=Pe(this.options.autoPanPaddingBottomRight||He),Rt=r.getSize(),Yt=0,pn=0;le.x+T+xt.x>Rt.x&&(Yt=le.x+T-Rt.x+xt.x),le.x-Yt-mt.x<0&&(Yt=le.x-mt.x),le.y+w+xt.y>Rt.y&&(pn=le.y+w-Rt.y+xt.y),le.y-pn-mt.y<0&&(pn=le.y-mt.y),(Yt||pn)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([Yt,pn]))}},_getAnchor:function(){return Pe(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ss=function(r,f){return new Hi(r,f)};In.mergeOptions({closePopupOnClick:!0}),In.include({openPopup:function(r,f,w){return this._initOverlay(Hi,r,f,w).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),hr.include({bindPopup:function(r,f){return this._popup=this._initOverlay(Hi,this._popup,r,f),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof Ci||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){ai(r);var f=r.layer||r.target;if(this._popup._source===f&&!(f instanceof Ui)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=f,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var ws=yi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){yi.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){yi.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=yi.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",f=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=An("div",f),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+g(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var f,w,T=this._map,V=this._container,le=T.latLngToContainerPoint(T.getCenter()),He=T.layerPointToContainerPoint(r),mt=this.options.direction,xt=V.offsetWidth,Rt=V.offsetHeight,Yt=Pe(this.options.offset),pn=this._getAnchor();mt==="top"?(f=xt/2,w=Rt):mt==="bottom"?(f=xt/2,w=0):mt==="center"?(f=xt/2,w=Rt/2):mt==="right"?(f=0,w=Rt/2):mt==="left"?(f=xt,w=Rt/2):He.x<le.x?(mt="right",f=0,w=Rt/2):(mt="left",f=xt+(Yt.x+pn.x)*2,w=Rt/2),r=r.subtract(Pe(f,w,!0)).add(Yt).add(pn),Vn(V,"leaflet-tooltip-right"),Vn(V,"leaflet-tooltip-left"),Vn(V,"leaflet-tooltip-top"),Vn(V,"leaflet-tooltip-bottom"),Ln(V,"leaflet-tooltip-"+mt),kr(V,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&Jr(this._container,r)},_animateZoom:function(r){var f=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(f)},_getAnchor:function(){return Pe(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),na=function(r,f){return new ws(r,f)};In.include({openTooltip:function(r,f,w){return this._initOverlay(ws,r,f,w).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),hr.include({bindTooltip:function(r,f){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ws,this._tooltip,r,f),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var f=r?"off":"on",w={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?w.add=this._openTooltip:(w.mouseover=this._openTooltip,w.mouseout=this.closeTooltip,w.click=this._openTooltip,this._map?this._addFocusListeners():w.add=this._addFocusListeners),this._tooltip.options.sticky&&(w.mousemove=this._moveTooltip),this[f](w),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof Ci||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var f=typeof r.getElement=="function"&&r.getElement();f&&(xn(f,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),xn(f,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var f=typeof r.getElement=="function"&&r.getElement();f&&f.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var f=this;this._map.once("moveend",function(){f._openOnceFlag=!1,f._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var f=r.latlng,w,T;this._tooltip.options.sticky&&r.originalEvent&&(w=this._map.mouseEventToContainerPoint(r.originalEvent),T=this._map.containerPointToLayerPoint(w),f=this._map.layerPointToLatLng(T)),this._tooltip.setLatLng(f)}});var ra=_s.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var f=r&&r.tagName==="DIV"?r:document.createElement("div"),w=this.options;if(w.html instanceof Element?(Da(f),f.appendChild(w.html)):f.innerHTML=w.html!==!1?w.html:"",w.bgPos){var T=Pe(w.bgPos);f.style.backgroundPosition=-T.x+"px "+-T.y+"px"}return this._setIconStyles(f,"icon"),f},createShadow:function(){return null}});function ba(r){return new ra(r)}_s.Default=Qs;var bs=hr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Kt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){A(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),Mn(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(_a(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Qi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=y(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof xe?r:new xe(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var f=this.getPane().children,w=-r(-1/0,1/0),T=0,V=f.length,le;T<V;T++)le=f[T].style.zIndex,f[T]!==this._container&&le&&(w=r(w,+le));isFinite(w)&&(this.options.zIndex=w+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Kt.ielt9){Jr(this._container,this.options.opacity);var r=+new Date,f=!1,w=!1;for(var T in this._tiles){var V=this._tiles[T];if(!(!V.current||!V.loaded)){var le=Math.min(1,(r-V.loaded)/200);Jr(V.el,le),le<1?f=!0:(V.active?w=!0:this._onOpaqueTile(V),V.active=!0)}}w&&!this._noPrune&&this._pruneTiles(),f&&(G(this._fadeFrame),this._fadeFrame=te(this._updateOpacity,this))}},_onOpaqueTile:E,_initContainer:function(){this._container||(this._container=An("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,f=this.options.maxZoom;if(r!==void 0){for(var w in this._levels)w=Number(w),this._levels[w].el.children.length||w===r?(this._levels[w].el.style.zIndex=f-Math.abs(r-w),this._onUpdateLevel(w)):(Mn(this._levels[w].el),this._removeTilesAtZoom(w),this._onRemoveLevel(w),delete this._levels[w]);var T=this._levels[r],V=this._map;return T||(T=this._levels[r]={},T.el=An("div","leaflet-tile-container leaflet-zoom-animated",this._container),T.el.style.zIndex=f,T.origin=V.project(V.unproject(V.getPixelOrigin()),r).round(),T.zoom=r,this._setZoomTransform(T,V.getCenter(),V.getZoom()),E(T.el.offsetWidth),this._onCreateLevel(T)),this._level=T,T}},_onUpdateLevel:E,_onRemoveLevel:E,_onCreateLevel:E,_pruneTiles:function(){if(this._map){var r,f,w=this._map.getZoom();if(w>this.options.maxZoom||w<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)f=this._tiles[r],f.retain=f.current;for(r in this._tiles)if(f=this._tiles[r],f.current&&!f.active){var T=f.coords;this._retainParent(T.x,T.y,T.z,T.z-5)||this._retainChildren(T.x,T.y,T.z,T.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var f in this._tiles)this._tiles[f].coords.z===r&&this._removeTile(f)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)Mn(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,f,w,T){var V=Math.floor(r/2),le=Math.floor(f/2),He=w-1,mt=new xe(+V,+le);mt.z=+He;var xt=this._tileCoordsToKey(mt),Rt=this._tiles[xt];return Rt&&Rt.active?(Rt.retain=!0,!0):(Rt&&Rt.loaded&&(Rt.retain=!0),He>T?this._retainParent(V,le,He,T):!1)},_retainChildren:function(r,f,w,T){for(var V=2*r;V<2*r+2;V++)for(var le=2*f;le<2*f+2;le++){var He=new xe(V,le);He.z=w+1;var mt=this._tileCoordsToKey(He),xt=this._tiles[mt];if(xt&&xt.active){xt.retain=!0;continue}else xt&&xt.loaded&&(xt.retain=!0);w+1<T&&this._retainChildren(V,le,w+1,T)}},_resetView:function(r){var f=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),f,f)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var f=this.options;return f.minNativeZoom!==void 0&&r<f.minNativeZoom?f.minNativeZoom:f.maxNativeZoom!==void 0&&f.maxNativeZoom<r?f.maxNativeZoom:r},_setView:function(r,f,w,T){var V=Math.round(f);this.options.maxZoom!==void 0&&V>this.options.maxZoom||this.options.minZoom!==void 0&&V<this.options.minZoom?V=void 0:V=this._clampZoom(V);var le=this.options.updateWhenZooming&&V!==this._tileZoom;(!T||le)&&(this._tileZoom=V,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),V!==void 0&&this._update(r),w||this._pruneTiles(),this._noPrune=!!w),this._setZoomTransforms(r,f)},_setZoomTransforms:function(r,f){for(var w in this._levels)this._setZoomTransform(this._levels[w],r,f)},_setZoomTransform:function(r,f,w){var T=this._map.getZoomScale(w,r.zoom),V=r.origin.multiplyBy(T).subtract(this._map._getNewPixelOrigin(f,w)).round();Kt.any3d?ji(r.el,V,T):kr(r.el,V)},_resetGrid:function(){var r=this._map,f=r.options.crs,w=this._tileSize=this.getTileSize(),T=this._tileZoom,V=this._map.getPixelWorldBounds(this._tileZoom);V&&(this._globalTileRange=this._pxBoundsToTileRange(V)),this._wrapX=f.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,f.wrapLng[0]],T).x/w.x),Math.ceil(r.project([0,f.wrapLng[1]],T).x/w.y)],this._wrapY=f.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([f.wrapLat[0],0],T).y/w.x),Math.ceil(r.project([f.wrapLat[1],0],T).y/w.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var f=this._map,w=f._animatingZoom?Math.max(f._animateToZoom,f.getZoom()):f.getZoom(),T=f.getZoomScale(w,this._tileZoom),V=f.project(r,this._tileZoom).floor(),le=f.getSize().divideBy(T*2);return new re(V.subtract(le),V.add(le))},_update:function(r){var f=this._map;if(f){var w=this._clampZoom(f.getZoom());if(r===void 0&&(r=f.getCenter()),this._tileZoom!==void 0){var T=this._getTiledPixelBounds(r),V=this._pxBoundsToTileRange(T),le=V.getCenter(),He=[],mt=this.options.keepBuffer,xt=new re(V.getBottomLeft().subtract([mt,-mt]),V.getTopRight().add([mt,-mt]));if(!(isFinite(V.min.x)&&isFinite(V.min.y)&&isFinite(V.max.x)&&isFinite(V.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Rt in this._tiles){var Yt=this._tiles[Rt].coords;(Yt.z!==this._tileZoom||!xt.contains(new xe(Yt.x,Yt.y)))&&(this._tiles[Rt].current=!1)}if(Math.abs(w-this._tileZoom)>1){this._setView(r,w);return}for(var pn=V.min.y;pn<=V.max.y;pn++)for(var On=V.min.x;On<=V.max.x;On++){var di=new xe(On,pn);if(di.z=this._tileZoom,!!this._isValidTile(di)){var Wr=this._tiles[this._tileCoordsToKey(di)];Wr?Wr.current=!0:He.push(di)}}if(He.sort(function(Pr,ia){return Pr.distanceTo(le)-ia.distanceTo(le)}),He.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Pi=document.createDocumentFragment();for(On=0;On<He.length;On++)this._addTile(He[On],Pi);this._level.el.appendChild(Pi)}}}},_isValidTile:function(r){var f=this._map.options.crs;if(!f.infinite){var w=this._globalTileRange;if(!f.wrapLng&&(r.x<w.min.x||r.x>w.max.x)||!f.wrapLat&&(r.y<w.min.y||r.y>w.max.y))return!1}if(!this.options.bounds)return!0;var T=this._tileCoordsToBounds(r);return fe(this.options.bounds).overlaps(T)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var f=this._map,w=this.getTileSize(),T=r.scaleBy(w),V=T.add(w),le=f.unproject(T,r.z),He=f.unproject(V,r.z);return[le,He]},_tileCoordsToBounds:function(r){var f=this._tileCoordsToNwSe(r),w=new he(f[0],f[1]);return this.options.noWrap||(w=this._map.wrapLatLngBounds(w)),w},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var f=r.split(":"),w=new xe(+f[0],+f[1]);return w.z=+f[2],w},_removeTile:function(r){var f=this._tiles[r];f&&(Mn(f.el),delete this._tiles[r],this.fire("tileunload",{tile:f.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){Ln(r,"leaflet-tile");var f=this.getTileSize();r.style.width=f.x+"px",r.style.height=f.y+"px",r.onselectstart=E,r.onmousemove=E,Kt.ielt9&&this.options.opacity<1&&Jr(r,this.options.opacity)},_addTile:function(r,f){var w=this._getTilePos(r),T=this._tileCoordsToKey(r),V=this.createTile(this._wrapCoords(r),c(this._tileReady,this,r));this._initTile(V),this.createTile.length<2&&te(c(this._tileReady,this,r,null,V)),kr(V,w),this._tiles[T]={el:V,coords:r,current:!0},f.appendChild(V),this.fire("tileloadstart",{tile:V,coords:r})},_tileReady:function(r,f,w){f&&this.fire("tileerror",{error:f,tile:w,coords:r});var T=this._tileCoordsToKey(r);w=this._tiles[T],w&&(w.loaded=+new Date,this._map._fadeAnimated?(Jr(w.el,0),G(this._fadeFrame),this._fadeFrame=te(this._updateOpacity,this)):(w.active=!0,this._pruneTiles()),f||(Ln(w.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:w.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Kt.ielt9||!this._map._fadeAnimated?te(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var f=new xe(this._wrapX?S(r.x,this._wrapX):r.x,this._wrapY?S(r.y,this._wrapY):r.y);return f.z=r.z,f},_pxBoundsToTileRange:function(r){var f=this.getTileSize();return new re(r.min.unscaleBy(f).floor(),r.max.unscaleBy(f).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function fi(r){return new bs(r)}var Gr=bs.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,f){this._url=r,f=A(this,f),f.detectRetina&&Kt.retina&&f.maxZoom>0?(f.tileSize=Math.floor(f.tileSize/2),f.zoomReverse?(f.zoomOffset--,f.minZoom=Math.min(f.maxZoom,f.minZoom+1)):(f.zoomOffset++,f.maxZoom=Math.max(f.minZoom,f.maxZoom-1)),f.minZoom=Math.max(0,f.minZoom)):f.zoomReverse?f.minZoom=Math.min(f.maxZoom,f.minZoom):f.maxZoom=Math.max(f.minZoom,f.maxZoom),typeof f.subdomains=="string"&&(f.subdomains=f.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,f){return this._url===r&&f===void 0&&(f=!0),this._url=r,f||this.redraw(),this},createTile:function(r,f){var w=document.createElement("img");return xn(w,"load",c(this._tileOnLoad,this,f,w)),xn(w,"error",c(this._tileOnError,this,f,w)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(w.referrerPolicy=this.options.referrerPolicy),w.alt="",w.src=this.getTileUrl(r),w},getTileUrl:function(r){var f={r:Kt.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var w=this._globalTileRange.max.y-r.y;this.options.tms&&(f.y=w),f["-y"]=w}return W(this._url,u(f,this.options))},_tileOnLoad:function(r,f){Kt.ielt9?setTimeout(c(r,this,null,f),0):r(null,f)},_tileOnError:function(r,f,w){var T=this.options.errorTileUrl;T&&f.getAttribute("src")!==T&&(f.src=T),r(w,f)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,f=this.options.maxZoom,w=this.options.zoomReverse,T=this.options.zoomOffset;return w&&(r=f-r),r+T},_getSubdomain:function(r){var f=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[f]},_abortLoading:function(){var r,f;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(f=this._tiles[r].el,f.onload=E,f.onerror=E,!f.complete)){f.src=ve;var w=this._tiles[r].coords;Mn(f),delete this._tiles[r],this.fire("tileabort",{tile:f,coords:w})}},_removeTile:function(r){var f=this._tiles[r];if(f)return f.el.setAttribute("src",ve),bs.prototype._removeTile.call(this,r)},_tileReady:function(r,f,w){if(!(!this._map||w&&w.getAttribute("src")===ve))return bs.prototype._tileReady.call(this,r,f,w)}});function ir(r,f){return new Gr(r,f)}var Qn=Gr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,f){this._url=r;var w=u({},this.defaultWmsParams);for(var T in f)T in this.options||(w[T]=f[T]);f=A(this,f);var V=f.detectRetina&&Kt.retina?2:1,le=this.getTileSize();w.width=le.x*V,w.height=le.y*V,this.wmsParams=w},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var f=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[f]=this._crs.code,Gr.prototype.onAdd.call(this,r)},getTileUrl:function(r){var f=this._tileCoordsToNwSe(r),w=this._crs,T=j(w.project(f[0]),w.project(f[1])),V=T.min,le=T.max,He=(this._wmsVersion>=1.3&&this._crs===Rr?[V.y,V.x,le.y,le.x]:[V.x,V.y,le.x,le.y]).join(","),mt=Gr.prototype.getTileUrl.call(this,r);return mt+I(this.wmsParams,mt,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+He},setParams:function(r,f){return u(this.wmsParams,r),f||this.redraw(),this}});function Er(r,f){return new Qn(r,f)}Gr.WMS=Qn,ir.wms=Er;var lr=hr.extend({options:{padding:.1},initialize:function(r){A(this,r),g(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ln(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,f){var w=this._map.getZoomScale(f,this._zoom),T=this._map.getSize().multiplyBy(.5+this.options.padding),V=this._map.project(this._center,f),le=T.multiplyBy(-w).add(V).subtract(this._map._getNewPixelOrigin(r,f));Kt.any3d?ji(this._container,le,w):kr(this._container,le)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,f=this._map.getSize(),w=this._map.containerPointToLayerPoint(f.multiplyBy(-r)).round();this._bounds=new re(w,w.add(f.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),xs=lr.extend({options:{tolerance:0},getEvents:function(){var r=lr.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){lr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");xn(r,"mousemove",this._onMouseMove,this),xn(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),xn(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){G(this._redrawRequest),delete this._ctx,Mn(this._container),Hn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var f in this._layers)r=this._layers[f],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){lr.prototype._update.call(this);var r=this._bounds,f=this._container,w=r.getSize(),T=Kt.retina?2:1;kr(f,r.min),f.width=T*w.x,f.height=T*w.y,f.style.width=w.x+"px",f.style.height=w.y+"px",Kt.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){lr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[g(r)]=r;var f=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=f),this._drawLast=f,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var f=r._order,w=f.next,T=f.prev;w?w.prev=T:this._drawLast=T,T?T.next=w:this._drawFirst=w,delete r._order,delete this._layers[g(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var f=r.options.dashArray.split(/[, ]+/),w=[],T,V;for(V=0;V<f.length;V++){if(T=Number(f[V]),isNaN(T))return;w.push(T)}r.options._dashArray=w}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||te(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var f=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new re,this._redrawBounds.extend(r._pxBounds.min.subtract([f,f])),this._redrawBounds.extend(r._pxBounds.max.add([f,f]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var f=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,f.x,f.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,f=this._redrawBounds;if(this._ctx.save(),f){var w=f.getSize();this._ctx.beginPath(),this._ctx.rect(f.min.x,f.min.y,w.x,w.y),this._ctx.clip()}this._drawing=!0;for(var T=this._drawFirst;T;T=T.next)r=T.layer,(!f||r._pxBounds&&r._pxBounds.intersects(f))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,f){if(this._drawing){var w,T,V,le,He=r._parts,mt=He.length,xt=this._ctx;if(mt){for(xt.beginPath(),w=0;w<mt;w++){for(T=0,V=He[w].length;T<V;T++)le=He[w][T],xt[T?"lineTo":"moveTo"](le.x,le.y);f&&xt.closePath()}this._fillStroke(xt,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var f=r._point,w=this._ctx,T=Math.max(Math.round(r._radius),1),V=(Math.max(Math.round(r._radiusY),1)||T)/T;V!==1&&(w.save(),w.scale(1,V)),w.beginPath(),w.arc(f.x,f.y/V,T,0,Math.PI*2,!1),V!==1&&w.restore(),this._fillStroke(w,r)}},_fillStroke:function(r,f){var w=f.options;w.fill&&(r.globalAlpha=w.fillOpacity,r.fillStyle=w.fillColor||w.color,r.fill(w.fillRule||"evenodd")),w.stroke&&w.weight!==0&&(r.setLineDash&&r.setLineDash(f.options&&f.options._dashArray||[]),r.globalAlpha=w.opacity,r.lineWidth=w.weight,r.strokeStyle=w.color,r.lineCap=w.lineCap,r.lineJoin=w.lineJoin,r.stroke())},_onClick:function(r){for(var f=this._map.mouseEventToLayerPoint(r),w,T,V=this._drawFirst;V;V=V.next)w=V.layer,w.options.interactive&&w._containsPoint(f)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(w))&&(T=w);this._fireEvent(T?[T]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var f=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,f)}},_handleMouseOut:function(r){var f=this._hoveredLayer;f&&(Vn(this._container,"leaflet-interactive"),this._fireEvent([f],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,f){if(!this._mouseHoverThrottled){for(var w,T,V=this._drawFirst;V;V=V.next)w=V.layer,w.options.interactive&&w._containsPoint(f)&&(T=w);T!==this._hoveredLayer&&(this._handleMouseOut(r),T&&(Ln(this._container,"leaflet-interactive"),this._fireEvent([T],r,"mouseover"),this._hoveredLayer=T)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,f,w){this._map._fireDOMEvent(f,w||f.type,r)},_bringToFront:function(r){var f=r._order;if(f){var w=f.next,T=f.prev;if(w)w.prev=T;else return;T?T.next=w:w&&(this._drawFirst=w),f.prev=this._drawLast,this._drawLast.next=f,f.next=null,this._drawLast=f,this._requestRedraw(r)}},_bringToBack:function(r){var f=r._order;if(f){var w=f.next,T=f.prev;if(T)T.next=w;else return;w?w.prev=T:T&&(this._drawLast=T),f.prev=null,f.next=this._drawFirst,this._drawFirst.prev=f,this._drawFirst=f,this._requestRedraw(r)}}});function xa(r){return Kt.canvas?new xs(r):null}var Rs=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),zo={_initContainer:function(){this._container=An("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(lr.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var f=r._container=Rs("shape");Ln(f,"leaflet-vml-shape "+(this.options.className||"")),f.coordsize="1 1",r._path=Rs("path"),f.appendChild(r._path),this._updateStyle(r),this._layers[g(r)]=r},_addPath:function(r){var f=r._container;this._container.appendChild(f),r.options.interactive&&r.addInteractiveTarget(f)},_removePath:function(r){var f=r._container;Mn(f),r.removeInteractiveTarget(f),delete this._layers[g(r)]},_updateStyle:function(r){var f=r._stroke,w=r._fill,T=r.options,V=r._container;V.stroked=!!T.stroke,V.filled=!!T.fill,T.stroke?(f||(f=r._stroke=Rs("stroke")),V.appendChild(f),f.weight=T.weight+"px",f.color=T.color,f.opacity=T.opacity,T.dashArray?f.dashStyle=Z(T.dashArray)?T.dashArray.join(" "):T.dashArray.replace(/( *, *)/g," "):f.dashStyle="",f.endcap=T.lineCap.replace("butt","flat"),f.joinstyle=T.lineJoin):f&&(V.removeChild(f),r._stroke=null),T.fill?(w||(w=r._fill=Rs("fill")),V.appendChild(w),w.color=T.fillColor||T.color,w.opacity=T.fillOpacity):w&&(V.removeChild(w),r._fill=null)},_updateCircle:function(r){var f=r._point.round(),w=Math.round(r._radius),T=Math.round(r._radiusY||w);this._setPath(r,r._empty()?"M0 0":"AL "+f.x+","+f.y+" "+w+","+T+" 0,"+65535*360)},_setPath:function(r,f){r._path.v=f},_bringToFront:function(r){_a(r._container)},_bringToBack:function(r){Qi(r._container)}},Ei=Kt.vml?Rs:je,Nr=lr.extend({_initContainer:function(){this._container=Ei("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ei("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Mn(this._container),Hn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){lr.prototype._update.call(this);var r=this._bounds,f=r.getSize(),w=this._container;(!this._svgSize||!this._svgSize.equals(f))&&(this._svgSize=f,w.setAttribute("width",f.x),w.setAttribute("height",f.y)),kr(w,r.min),w.setAttribute("viewBox",[r.min.x,r.min.y,f.x,f.y].join(" ")),this.fire("update")}},_initPath:function(r){var f=r._path=Ei("path");r.options.className&&Ln(f,r.options.className),r.options.interactive&&Ln(f,"leaflet-interactive"),this._updateStyle(r),this._layers[g(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){Mn(r._path),r.removeInteractiveTarget(r._path),delete this._layers[g(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var f=r._path,w=r.options;f&&(w.stroke?(f.setAttribute("stroke",w.color),f.setAttribute("stroke-opacity",w.opacity),f.setAttribute("stroke-width",w.weight),f.setAttribute("stroke-linecap",w.lineCap),f.setAttribute("stroke-linejoin",w.lineJoin),w.dashArray?f.setAttribute("stroke-dasharray",w.dashArray):f.removeAttribute("stroke-dasharray"),w.dashOffset?f.setAttribute("stroke-dashoffset",w.dashOffset):f.removeAttribute("stroke-dashoffset")):f.setAttribute("stroke","none"),w.fill?(f.setAttribute("fill",w.fillColor||w.color),f.setAttribute("fill-opacity",w.fillOpacity),f.setAttribute("fill-rule",w.fillRule||"evenodd")):f.setAttribute("fill","none"))},_updatePoly:function(r,f){this._setPath(r,oe(r._parts,f))},_updateCircle:function(r){var f=r._point,w=Math.max(Math.round(r._radius),1),T=Math.max(Math.round(r._radiusY),1)||w,V="a"+w+","+T+" 0 1,0 ",le=r._empty()?"M0 0":"M"+(f.x-w)+","+f.y+V+w*2+",0 "+V+-w*2+",0 ";this._setPath(r,le)},_setPath:function(r,f){r._path.setAttribute("d",f)},_bringToFront:function(r){_a(r._path)},_bringToBack:function(r){Qi(r._path)}});Kt.vml&&Nr.include(zo);function sr(r){return Kt.svg||Kt.vml?new Nr(r):null}In.include({getRenderer:function(r){var f=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return f||(f=this._renderer=this._createRenderer()),this.hasLayer(f)||this.addLayer(f),f},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var f=this._paneRenderers[r];return f===void 0&&(f=this._createRenderer({pane:r}),this._paneRenderers[r]=f),f},_createRenderer:function(r){return this.options.preferCanvas&&xa(r)||sr(r)}});var Wi=Sr.extend({initialize:function(r,f){Sr.prototype.initialize.call(this,this._boundsToLatLngs(r),f)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=fe(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function Vi(r,f){return new Wi(r,f)}Nr.create=Ei,Nr.pointsToPath=oe,is.geometryToLayer=ya,is.coordsToLatLng=Ds,is.coordsToLatLngs=Xr,is.latLngToCoords=qr,is.latLngsToCoords=Is,is.getFeature=qi,is.asFeature=vs,In.mergeOptions({boxZoom:!0});var yn=Br.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){xn(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Hn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Mn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Gn(),yo(),this._startPoint=this._map.mouseEventToContainerPoint(r),xn(document,{contextmenu:ai,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=An("div","leaflet-zoom-box",this._container),Ln(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var f=new re(this._point,this._startPoint),w=f.getSize();kr(this._box,f.min),this._box.style.width=w.x+"px",this._box.style.height=w.y+"px"},_finish:function(){this._moved&&(Mn(this._box),Vn(this._container,"leaflet-crosshair")),Ws(),ps(),Hn(document,{contextmenu:ai,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var f=new he(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(f).fire("boxzoomend",{boxZoomBounds:f})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});In.addInitHook("addHandler","boxZoom",yn),In.mergeOptions({doubleClickZoom:!0});var Uo=Br.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var f=this._map,w=f.getZoom(),T=f.options.zoomDelta,V=r.originalEvent.shiftKey?w-T:w+T;f.options.doubleClickZoom==="center"?f.setZoom(V):f.setZoomAround(r.containerPoint,V)}});In.addInitHook("addHandler","doubleClickZoom",Uo),In.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ha=Br.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new ki(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}Ln(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Vn(this._map._container,"leaflet-grab"),Vn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var f=fe(this._map.options.maxBounds);this._offsetLimit=j(this._map.latLngToContainerPoint(f.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(f.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var f=this._lastTime=+new Date,w=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(w),this._times.push(f),this._prunePositions(f)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),f=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=f.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,f){return r-(r-f)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),f=this._offsetLimit;r.x<f.min.x&&(r.x=this._viscousLimit(r.x,f.min.x)),r.y<f.min.y&&(r.y=this._viscousLimit(r.y,f.min.y)),r.x>f.max.x&&(r.x=this._viscousLimit(r.x,f.max.x)),r.y>f.max.y&&(r.y=this._viscousLimit(r.y,f.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,f=Math.round(r/2),w=this._initialWorldOffset,T=this._draggable._newPos.x,V=(T-f+w)%r+f-w,le=(T+f+w)%r-f-w,He=Math.abs(V+w)<Math.abs(le+w)?V:le;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=He},_onDragEnd:function(r){var f=this._map,w=f.options,T=!w.inertia||r.noInertia||this._times.length<2;if(f.fire("dragend",r),T)f.fire("moveend");else{this._prunePositions(+new Date);var V=this._lastPos.subtract(this._positions[0]),le=(this._lastTime-this._times[0])/1e3,He=w.easeLinearity,mt=V.multiplyBy(He/le),xt=mt.distanceTo([0,0]),Rt=Math.min(w.inertiaMaxSpeed,xt),Yt=mt.multiplyBy(Rt/xt),pn=Rt/(w.inertiaDeceleration*He),On=Yt.multiplyBy(-pn/2).round();!On.x&&!On.y?f.fire("moveend"):(On=f._limitOffset(On,f.options.maxBounds),te(function(){f.panBy(On,{duration:pn,easeLinearity:He,noMoveStart:!0,animate:!0})}))}}});In.addInitHook("addHandler","dragging",Ha),In.mergeOptions({keyboard:!0,keyboardPanDelta:80});var as=Br.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),xn(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Hn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,f=document.documentElement,w=r.scrollTop||f.scrollTop,T=r.scrollLeft||f.scrollLeft;this._map._container.focus(),window.scrollTo(T,w)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var f=this._panKeys={},w=this.keyCodes,T,V;for(T=0,V=w.left.length;T<V;T++)f[w.left[T]]=[-1*r,0];for(T=0,V=w.right.length;T<V;T++)f[w.right[T]]=[r,0];for(T=0,V=w.down.length;T<V;T++)f[w.down[T]]=[0,r];for(T=0,V=w.up.length;T<V;T++)f[w.up[T]]=[0,-1*r]},_setZoomDelta:function(r){var f=this._zoomKeys={},w=this.keyCodes,T,V;for(T=0,V=w.zoomIn.length;T<V;T++)f[w.zoomIn[T]]=r;for(T=0,V=w.zoomOut.length;T<V;T++)f[w.zoomOut[T]]=-r},_addHooks:function(){xn(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Hn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var f=r.keyCode,w=this._map,T;if(f in this._panKeys){if(!w._panAnim||!w._panAnim._inProgress)if(T=this._panKeys[f],r.shiftKey&&(T=Pe(T).multiplyBy(3)),w.options.maxBounds&&(T=w._limitOffset(Pe(T),w.options.maxBounds)),w.options.worldCopyJump){var V=w.wrapLatLng(w.unproject(w.project(w.getCenter()).add(T)));w.panTo(V)}else w.panBy(T)}else if(f in this._zoomKeys)w.setZoom(w.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[f]);else if(f===27&&w._popup&&w._popup.options.closeOnEscapeKey)w.closePopup();else return;ai(r)}}});In.addInitHook("addHandler","keyboard",as),In.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Pn=Br.extend({addHooks:function(){xn(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Hn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var f=xo(r),w=this._map.options.wheelDebounceTime;this._delta+=f,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var T=Math.max(w-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),T),ai(r)},_performZoom:function(){var r=this._map,f=r.getZoom(),w=this._map.options.zoomSnap||0;r._stop();var T=this._delta/(this._map.options.wheelPxPerZoomLevel*4),V=4*Math.log(2/(1+Math.exp(-Math.abs(T))))/Math.LN2,le=w?Math.ceil(V/w)*w:V,He=r._limitZoom(f+(this._delta>0?le:-le))-f;this._delta=0,this._startTime=null,He&&(r.options.scrollWheelZoom==="center"?r.setZoom(f+He):r.setZoomAround(this._lastMousePos,f+He))}});In.addInitHook("addHandler","scrollWheelZoom",Pn);var qo=600;In.mergeOptions({tapHold:Kt.touchNative&&Kt.safari&&Kt.mobile,tapTolerance:15});var Qr=Br.extend({addHooks:function(){xn(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Hn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var f=r.touches[0];this._startPos=this._newPos=new xe(f.clientX,f.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(xn(document,"touchend",gr),xn(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",f))},this),qo),xn(document,"touchend touchcancel contextmenu",this._cancel,this),xn(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){Hn(document,"touchend",gr),Hn(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),Hn(document,"touchend touchcancel contextmenu",this._cancel,this),Hn(document,"touchmove",this._onMove,this)},_onMove:function(r){var f=r.touches[0];this._newPos=new xe(f.clientX,f.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,f){var w=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:f.screenX,screenY:f.screenY,clientX:f.clientX,clientY:f.clientY});w._simulated=!0,f.target.dispatchEvent(w)}});In.addInitHook("addHandler","tapHold",Qr),In.mergeOptions({touchZoom:Kt.touch,bounceAtZoomLimits:!0});var Hr=Br.extend({addHooks:function(){Ln(this._map._container,"leaflet-touch-zoom"),xn(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Vn(this._map._container,"leaflet-touch-zoom"),Hn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var f=this._map;if(!(!r.touches||r.touches.length!==2||f._animatingZoom||this._zooming)){var w=f.mouseEventToContainerPoint(r.touches[0]),T=f.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=f.getSize()._divideBy(2),this._startLatLng=f.containerPointToLatLng(this._centerPoint),f.options.touchZoom!=="center"&&(this._pinchStartLatLng=f.containerPointToLatLng(w.add(T)._divideBy(2))),this._startDist=w.distanceTo(T),this._startZoom=f.getZoom(),this._moved=!1,this._zooming=!0,f._stop(),xn(document,"touchmove",this._onTouchMove,this),xn(document,"touchend touchcancel",this._onTouchEnd,this),gr(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var f=this._map,w=f.mouseEventToContainerPoint(r.touches[0]),T=f.mouseEventToContainerPoint(r.touches[1]),V=w.distanceTo(T)/this._startDist;if(this._zoom=f.getScaleZoom(V,this._startZoom),!f.options.bounceAtZoomLimits&&(this._zoom<f.getMinZoom()&&V<1||this._zoom>f.getMaxZoom()&&V>1)&&(this._zoom=f._limitZoom(this._zoom)),f.options.touchZoom==="center"){if(this._center=this._startLatLng,V===1)return}else{var le=w._add(T)._divideBy(2)._subtract(this._centerPoint);if(V===1&&le.x===0&&le.y===0)return;this._center=f.unproject(f.project(this._pinchStartLatLng,this._zoom).subtract(le),this._zoom)}this._moved||(f._moveStart(!0,!1),this._moved=!0),G(this._animRequest);var He=c(f._move,f,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=te(He,this,!0),gr(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,G(this._animRequest),Hn(document,"touchmove",this._onTouchMove,this),Hn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});In.addInitHook("addHandler","touchZoom",Hr),In.BoxZoom=yn,In.DoubleClickZoom=Uo,In.Drag=Ha,In.Keyboard=as,In.ScrollWheelZoom=Pn,In.TapHold=Qr,In.TouchZoom=Hr,e.Bounds=re,e.Browser=Kt,e.CRS=Ke,e.Canvas=xs,e.Circle=ui,e.CircleMarker=Si,e.Class=F,e.Control=gn,e.DivIcon=ra,e.DivOverlay=yi,e.DomEvent=Ys,e.DomUtil=bn,e.Draggable=ki,e.Evented=Fe,e.FeatureGroup=Ci,e.GeoJSON=is,e.GridLayer=bs,e.Handler=Br,e.Icon=_s,e.ImageOverlay=Gi,e.LatLng=pe,e.LatLngBounds=he,e.Layer=hr,e.LayerGroup=li,e.LineUtil=Rn,e.Map=In,e.Marker=vr,e.Mixin=Co,e.Path=Ui,e.Point=xe,e.PolyUtil=So,e.Polygon=Sr,e.Polyline=hi,e.Popup=Hi,e.PosAnimation=so,e.Projection=rr,e.Rectangle=Wi,e.Renderer=lr,e.SVG=Nr,e.SVGOverlay=Mo,e.TileLayer=Gr,e.Tooltip=ws,e.Transformation=Ot,e.Util=ae,e.VideoOverlay=ci,e.bind=c,e.bounds=j,e.canvas=xa,e.circle=rs,e.circleMarker=lo,e.control=Yr,e.divIcon=ba,e.extend=u,e.featureGroup=Eo,e.geoJSON=ys,e.geoJson=Xn,e.gridLayer=fi,e.icon=Po,e.imageOverlay=vi,e.latLng=Te,e.latLngBounds=fe,e.layerGroup=qa,e.map=gs,e.marker=Ao,e.point=Pe,e.polygon=ta,e.polyline=ll,e.popup=ss,e.rectangle=Vi,e.setOptions=A,e.stamp=g,e.svg=sr,e.svgOverlay=uo,e.tileLayer=ir,e.tooltip=na,e.transformation=Gt,e.version=a,e.videoOverlay=Ga;var Fs=window.L;e.noConflict=function(){return window.L=Fs,this},window.L=e}))})(xh,xh.exports)),xh.exports}var Rc=qm();const Yu=Tc(Rc);function $y(o,t,e){return Object.freeze({instance:o,context:t,container:e})}function Zy(o,t){return function(a,u){const l=dt.useRef();return l.current||(l.current=o(a,u)),l}}function Ky(o){function t(u,l){return $y(o(u),l)}const e=Zy(t),a=Wy(e);return Hy(a)}function hd(){return hd=Object.assign||function(o){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(o[a]=e[a])}return o},hd.apply(this,arguments)}function Jy({bounds:o,boundsOptions:t,center:e,children:a,className:u,id:l,placeholder:c,style:p,whenReady:g,zoom:y,...S},E){const[M]=dt.useState({className:u,id:l,style:p}),[x,R]=dt.useState(null);dt.useImperativeHandle(E,()=>x?.map??null,[x]);const A=dt.useCallback(O=>{if(O!==null&&x===null){const W=new Rc.Map(O,S);e!=null&&y!=null?W.setView(e,y):o!=null&&W.fitBounds(o,t),g!=null&&W.whenReady(g),R(Uy(W))}},[]);dt.useEffect(()=>()=>{x?.map.remove()},[x]);const I=x?Kf.createElement(qy,{value:x},a):c??null;return Kf.createElement("div",hd({},M,{ref:A}),I)}const Yy=dt.forwardRef(Jy),Xy=Ky(function(t){return new Rc.Control.Scale(t)});function pc(o){throw new Error('Could not dynamically require "'+o+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var If={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var A0;function Qy(){return A0||(A0=1,(function(o,t){(function(e){o.exports=e()})(function(){return(function e(a,u,l){function c(y,S){if(!u[y]){if(!a[y]){var E=typeof pc=="function"&&pc;if(!S&&E)return E(y,!0);if(p)return p(y,!0);var M=new Error("Cannot find module '"+y+"'");throw M.code="MODULE_NOT_FOUND",M}var x=u[y]={exports:{}};a[y][0].call(x.exports,function(R){var A=a[y][1][R];return c(A||R)},x,x.exports,e,a,u,l)}return u[y].exports}for(var p=typeof pc=="function"&&pc,g=0;g<l.length;g++)c(l[g]);return c})({1:[function(e,a,u){var l=e("./utils"),c=e("./support"),p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";u.encode=function(g){for(var y,S,E,M,x,R,A,I=[],O=0,W=g.length,Z=W,de=l.getTypeOf(g)!=="string";O<g.length;)Z=W-O,E=de?(y=g[O++],S=O<W?g[O++]:0,O<W?g[O++]:0):(y=g.charCodeAt(O++),S=O<W?g.charCodeAt(O++):0,O<W?g.charCodeAt(O++):0),M=y>>2,x=(3&y)<<4|S>>4,R=1<Z?(15&S)<<2|E>>6:64,A=2<Z?63&E:64,I.push(p.charAt(M)+p.charAt(x)+p.charAt(R)+p.charAt(A));return I.join("")},u.decode=function(g){var y,S,E,M,x,R,A=0,I=0,O="data:";if(g.substr(0,O.length)===O)throw new Error("Invalid base64 input, it looks like a data url.");var W,Z=3*(g=g.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(g.charAt(g.length-1)===p.charAt(64)&&Z--,g.charAt(g.length-2)===p.charAt(64)&&Z--,Z%1!=0)throw new Error("Invalid base64 input, bad content length.");for(W=c.uint8array?new Uint8Array(0|Z):new Array(0|Z);A<g.length;)y=p.indexOf(g.charAt(A++))<<2|(M=p.indexOf(g.charAt(A++)))>>4,S=(15&M)<<4|(x=p.indexOf(g.charAt(A++)))>>2,E=(3&x)<<6|(R=p.indexOf(g.charAt(A++))),W[I++]=y,x!==64&&(W[I++]=S),R!==64&&(W[I++]=E);return W}},{"./support":30,"./utils":32}],2:[function(e,a,u){var l=e("./external"),c=e("./stream/DataWorker"),p=e("./stream/Crc32Probe"),g=e("./stream/DataLengthProbe");function y(S,E,M,x,R){this.compressedSize=S,this.uncompressedSize=E,this.crc32=M,this.compression=x,this.compressedContent=R}y.prototype={getContentWorker:function(){var S=new c(l.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new g("data_length")),E=this;return S.on("end",function(){if(this.streamInfo.data_length!==E.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),S},getCompressedWorker:function(){return new c(l.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},y.createWorkerFrom=function(S,E,M){return S.pipe(new p).pipe(new g("uncompressedSize")).pipe(E.compressWorker(M)).pipe(new g("compressedSize")).withStreamInfo("compression",E)},a.exports=y},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,a,u){var l=e("./stream/GenericWorker");u.STORE={magic:"\0\0",compressWorker:function(){return new l("STORE compression")},uncompressWorker:function(){return new l("STORE decompression")}},u.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,a,u){var l=e("./utils"),c=(function(){for(var p,g=[],y=0;y<256;y++){p=y;for(var S=0;S<8;S++)p=1&p?3988292384^p>>>1:p>>>1;g[y]=p}return g})();a.exports=function(p,g){return p!==void 0&&p.length?l.getTypeOf(p)!=="string"?(function(y,S,E,M){var x=c,R=M+E;y^=-1;for(var A=M;A<R;A++)y=y>>>8^x[255&(y^S[A])];return-1^y})(0|g,p,p.length,0):(function(y,S,E,M){var x=c,R=M+E;y^=-1;for(var A=M;A<R;A++)y=y>>>8^x[255&(y^S.charCodeAt(A))];return-1^y})(0|g,p,p.length,0):0}},{"./utils":32}],5:[function(e,a,u){u.base64=!1,u.binary=!1,u.dir=!1,u.createFolders=!0,u.date=null,u.compression=null,u.compressionOptions=null,u.comment=null,u.unixPermissions=null,u.dosPermissions=null},{}],6:[function(e,a,u){var l=null;l=typeof Promise<"u"?Promise:e("lie"),a.exports={Promise:l}},{lie:37}],7:[function(e,a,u){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",c=e("pako"),p=e("./utils"),g=e("./stream/GenericWorker"),y=l?"uint8array":"array";function S(E,M){g.call(this,"FlateWorker/"+E),this._pako=null,this._pakoAction=E,this._pakoOptions=M,this.meta={}}u.magic="\b\0",p.inherits(S,g),S.prototype.processChunk=function(E){this.meta=E.meta,this._pako===null&&this._createPako(),this._pako.push(p.transformTo(y,E.data),!1)},S.prototype.flush=function(){g.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},S.prototype.cleanUp=function(){g.prototype.cleanUp.call(this),this._pako=null},S.prototype._createPako=function(){this._pako=new c[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var E=this;this._pako.onData=function(M){E.push({data:M,meta:E.meta})}},u.compressWorker=function(E){return new S("Deflate",E)},u.uncompressWorker=function(){return new S("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,a,u){function l(x,R){var A,I="";for(A=0;A<R;A++)I+=String.fromCharCode(255&x),x>>>=8;return I}function c(x,R,A,I,O,W){var Z,de,ve=x.file,Se=x.compression,K=W!==y.utf8encode,X=p.transformTo("string",W(ve.name)),ge=p.transformTo("string",y.utf8encode(ve.name)),Ie=ve.comment,te=p.transformTo("string",W(Ie)),G=p.transformTo("string",y.utf8encode(Ie)),ae=ge.length!==ve.name.length,F=G.length!==Ie.length,Be="",Ve="",Fe="",xe=ve.dir,Ae=ve.date,Pe={crc32:0,compressedSize:0,uncompressedSize:0};R&&!A||(Pe.crc32=x.crc32,Pe.compressedSize=x.compressedSize,Pe.uncompressedSize=x.uncompressedSize);var re=0;R&&(re|=8),K||!ae&&!F||(re|=2048);var j=0,he=0;xe&&(j|=16),O==="UNIX"?(he=798,j|=(function(pe,Te){var Ke=pe;return pe||(Ke=Te?16893:33204),(65535&Ke)<<16})(ve.unixPermissions,xe)):(he=20,j|=(function(pe){return 63&(pe||0)})(ve.dosPermissions)),Z=Ae.getUTCHours(),Z<<=6,Z|=Ae.getUTCMinutes(),Z<<=5,Z|=Ae.getUTCSeconds()/2,de=Ae.getUTCFullYear()-1980,de<<=4,de|=Ae.getUTCMonth()+1,de<<=5,de|=Ae.getUTCDate(),ae&&(Ve=l(1,1)+l(S(X),4)+ge,Be+="up"+l(Ve.length,2)+Ve),F&&(Fe=l(1,1)+l(S(te),4)+G,Be+="uc"+l(Fe.length,2)+Fe);var fe="";return fe+=`
\0`,fe+=l(re,2),fe+=Se.magic,fe+=l(Z,2),fe+=l(de,2),fe+=l(Pe.crc32,4),fe+=l(Pe.compressedSize,4),fe+=l(Pe.uncompressedSize,4),fe+=l(X.length,2),fe+=l(Be.length,2),{fileRecord:E.LOCAL_FILE_HEADER+fe+X+Be,dirRecord:E.CENTRAL_FILE_HEADER+l(he,2)+fe+l(te.length,2)+"\0\0\0\0"+l(j,4)+l(I,4)+X+Be+te}}var p=e("../utils"),g=e("../stream/GenericWorker"),y=e("../utf8"),S=e("../crc32"),E=e("../signature");function M(x,R,A,I){g.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=R,this.zipPlatform=A,this.encodeFileName=I,this.streamFiles=x,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}p.inherits(M,g),M.prototype.push=function(x){var R=x.meta.percent||0,A=this.entriesCount,I=this._sources.length;this.accumulate?this.contentBuffer.push(x):(this.bytesWritten+=x.data.length,g.prototype.push.call(this,{data:x.data,meta:{currentFile:this.currentFile,percent:A?(R+100*(A-I-1))/A:100}}))},M.prototype.openedSource=function(x){this.currentSourceOffset=this.bytesWritten,this.currentFile=x.file.name;var R=this.streamFiles&&!x.file.dir;if(R){var A=c(x,R,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:A.fileRecord,meta:{percent:0}})}else this.accumulate=!0},M.prototype.closedSource=function(x){this.accumulate=!1;var R=this.streamFiles&&!x.file.dir,A=c(x,R,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(A.dirRecord),R)this.push({data:(function(I){return E.DATA_DESCRIPTOR+l(I.crc32,4)+l(I.compressedSize,4)+l(I.uncompressedSize,4)})(x),meta:{percent:100}});else for(this.push({data:A.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},M.prototype.flush=function(){for(var x=this.bytesWritten,R=0;R<this.dirRecords.length;R++)this.push({data:this.dirRecords[R],meta:{percent:100}});var A=this.bytesWritten-x,I=(function(O,W,Z,de,ve){var Se=p.transformTo("string",ve(de));return E.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(O,2)+l(O,2)+l(W,4)+l(Z,4)+l(Se.length,2)+Se})(this.dirRecords.length,A,x,this.zipComment,this.encodeFileName);this.push({data:I,meta:{percent:100}})},M.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},M.prototype.registerPrevious=function(x){this._sources.push(x);var R=this;return x.on("data",function(A){R.processChunk(A)}),x.on("end",function(){R.closedSource(R.previous.streamInfo),R._sources.length?R.prepareNextSource():R.end()}),x.on("error",function(A){R.error(A)}),this},M.prototype.resume=function(){return!!g.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},M.prototype.error=function(x){var R=this._sources;if(!g.prototype.error.call(this,x))return!1;for(var A=0;A<R.length;A++)try{R[A].error(x)}catch{}return!0},M.prototype.lock=function(){g.prototype.lock.call(this);for(var x=this._sources,R=0;R<x.length;R++)x[R].lock()},a.exports=M},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,a,u){var l=e("../compressions"),c=e("./ZipFileWorker");u.generateWorker=function(p,g,y){var S=new c(g.streamFiles,y,g.platform,g.encodeFileName),E=0;try{p.forEach(function(M,x){E++;var R=(function(W,Z){var de=W||Z,ve=l[de];if(!ve)throw new Error(de+" is not a valid compression method !");return ve})(x.options.compression,g.compression),A=x.options.compressionOptions||g.compressionOptions||{},I=x.dir,O=x.date;x._compressWorker(R,A).withStreamInfo("file",{name:M,dir:I,date:O,comment:x.comment||"",unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions}).pipe(S)}),S.entriesCount=E}catch(M){S.error(M)}return S}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,a,u){function l(){if(!(this instanceof l))return new l;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var c=new l;for(var p in this)typeof this[p]!="function"&&(c[p]=this[p]);return c}}(l.prototype=e("./object")).loadAsync=e("./load"),l.support=e("./support"),l.defaults=e("./defaults"),l.version="3.10.1",l.loadAsync=function(c,p){return new l().loadAsync(c,p)},l.external=e("./external"),a.exports=l},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,a,u){var l=e("./utils"),c=e("./external"),p=e("./utf8"),g=e("./zipEntries"),y=e("./stream/Crc32Probe"),S=e("./nodejsUtils");function E(M){return new c.Promise(function(x,R){var A=M.decompressed.getContentWorker().pipe(new y);A.on("error",function(I){R(I)}).on("end",function(){A.streamInfo.crc32!==M.decompressed.crc32?R(new Error("Corrupted zip : CRC32 mismatch")):x()}).resume()})}a.exports=function(M,x){var R=this;return x=l.extend(x||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:p.utf8decode}),S.isNode&&S.isStream(M)?c.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):l.prepareContent("the loaded zip file",M,!0,x.optimizedBinaryString,x.base64).then(function(A){var I=new g(x);return I.load(A),I}).then(function(A){var I=[c.Promise.resolve(A)],O=A.files;if(x.checkCRC32)for(var W=0;W<O.length;W++)I.push(E(O[W]));return c.Promise.all(I)}).then(function(A){for(var I=A.shift(),O=I.files,W=0;W<O.length;W++){var Z=O[W],de=Z.fileNameStr,ve=l.resolve(Z.fileNameStr);R.file(ve,Z.decompressed,{binary:!0,optimizedBinaryString:!0,date:Z.date,dir:Z.dir,comment:Z.fileCommentStr.length?Z.fileCommentStr:null,unixPermissions:Z.unixPermissions,dosPermissions:Z.dosPermissions,createFolders:x.createFolders}),Z.dir||(R.file(ve).unsafeOriginalName=de)}return I.zipComment.length&&(R.comment=I.zipComment),R})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,a,u){var l=e("../utils"),c=e("../stream/GenericWorker");function p(g,y){c.call(this,"Nodejs stream input adapter for "+g),this._upstreamEnded=!1,this._bindStream(y)}l.inherits(p,c),p.prototype._bindStream=function(g){var y=this;(this._stream=g).pause(),g.on("data",function(S){y.push({data:S,meta:{percent:0}})}).on("error",function(S){y.isPaused?this.generatedError=S:y.error(S)}).on("end",function(){y.isPaused?y._upstreamEnded=!0:y.end()})},p.prototype.pause=function(){return!!c.prototype.pause.call(this)&&(this._stream.pause(),!0)},p.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},a.exports=p},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,a,u){var l=e("readable-stream").Readable;function c(p,g,y){l.call(this,g),this._helper=p;var S=this;p.on("data",function(E,M){S.push(E)||S._helper.pause(),y&&y(M)}).on("error",function(E){S.emit("error",E)}).on("end",function(){S.push(null)})}e("../utils").inherits(c,l),c.prototype._read=function(){this._helper.resume()},a.exports=c},{"../utils":32,"readable-stream":16}],14:[function(e,a,u){a.exports={isNode:typeof Buffer<"u",newBufferFrom:function(l,c){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(l,c);if(typeof l=="number")throw new Error('The "data" argument must not be a number');return new Buffer(l,c)},allocBuffer:function(l){if(Buffer.alloc)return Buffer.alloc(l);var c=new Buffer(l);return c.fill(0),c},isBuffer:function(l){return Buffer.isBuffer(l)},isStream:function(l){return l&&typeof l.on=="function"&&typeof l.pause=="function"&&typeof l.resume=="function"}}},{}],15:[function(e,a,u){function l(ve,Se,K){var X,ge=p.getTypeOf(Se),Ie=p.extend(K||{},S);Ie.date=Ie.date||new Date,Ie.compression!==null&&(Ie.compression=Ie.compression.toUpperCase()),typeof Ie.unixPermissions=="string"&&(Ie.unixPermissions=parseInt(Ie.unixPermissions,8)),Ie.unixPermissions&&16384&Ie.unixPermissions&&(Ie.dir=!0),Ie.dosPermissions&&16&Ie.dosPermissions&&(Ie.dir=!0),Ie.dir&&(ve=O(ve)),Ie.createFolders&&(X=I(ve))&&W.call(this,X,!0);var te=ge==="string"&&Ie.binary===!1&&Ie.base64===!1;K&&K.binary!==void 0||(Ie.binary=!te),(Se instanceof E&&Se.uncompressedSize===0||Ie.dir||!Se||Se.length===0)&&(Ie.base64=!1,Ie.binary=!0,Se="",Ie.compression="STORE",ge="string");var G=null;G=Se instanceof E||Se instanceof g?Se:R.isNode&&R.isStream(Se)?new A(ve,Se):p.prepareContent(ve,Se,Ie.binary,Ie.optimizedBinaryString,Ie.base64);var ae=new M(ve,G,Ie);this.files[ve]=ae}var c=e("./utf8"),p=e("./utils"),g=e("./stream/GenericWorker"),y=e("./stream/StreamHelper"),S=e("./defaults"),E=e("./compressedObject"),M=e("./zipObject"),x=e("./generate"),R=e("./nodejsUtils"),A=e("./nodejs/NodejsStreamInputAdapter"),I=function(ve){ve.slice(-1)==="/"&&(ve=ve.substring(0,ve.length-1));var Se=ve.lastIndexOf("/");return 0<Se?ve.substring(0,Se):""},O=function(ve){return ve.slice(-1)!=="/"&&(ve+="/"),ve},W=function(ve,Se){return Se=Se!==void 0?Se:S.createFolders,ve=O(ve),this.files[ve]||l.call(this,ve,null,{dir:!0,createFolders:Se}),this.files[ve]};function Z(ve){return Object.prototype.toString.call(ve)==="[object RegExp]"}var de={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(ve){var Se,K,X;for(Se in this.files)X=this.files[Se],(K=Se.slice(this.root.length,Se.length))&&Se.slice(0,this.root.length)===this.root&&ve(K,X)},filter:function(ve){var Se=[];return this.forEach(function(K,X){ve(K,X)&&Se.push(X)}),Se},file:function(ve,Se,K){if(arguments.length!==1)return ve=this.root+ve,l.call(this,ve,Se,K),this;if(Z(ve)){var X=ve;return this.filter(function(Ie,te){return!te.dir&&X.test(Ie)})}var ge=this.files[this.root+ve];return ge&&!ge.dir?ge:null},folder:function(ve){if(!ve)return this;if(Z(ve))return this.filter(function(ge,Ie){return Ie.dir&&ve.test(ge)});var Se=this.root+ve,K=W.call(this,Se),X=this.clone();return X.root=K.name,X},remove:function(ve){ve=this.root+ve;var Se=this.files[ve];if(Se||(ve.slice(-1)!=="/"&&(ve+="/"),Se=this.files[ve]),Se&&!Se.dir)delete this.files[ve];else for(var K=this.filter(function(ge,Ie){return Ie.name.slice(0,ve.length)===ve}),X=0;X<K.length;X++)delete this.files[K[X].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(ve){var Se,K={};try{if((K=p.extend(ve||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:c.utf8encode})).type=K.type.toLowerCase(),K.compression=K.compression.toUpperCase(),K.type==="binarystring"&&(K.type="string"),!K.type)throw new Error("No output type specified.");p.checkSupport(K.type),K.platform!=="darwin"&&K.platform!=="freebsd"&&K.platform!=="linux"&&K.platform!=="sunos"||(K.platform="UNIX"),K.platform==="win32"&&(K.platform="DOS");var X=K.comment||this.comment||"";Se=x.generateWorker(this,K,X)}catch(ge){(Se=new g("error")).error(ge)}return new y(Se,K.type||"string",K.mimeType)},generateAsync:function(ve,Se){return this.generateInternalStream(ve).accumulate(Se)},generateNodeStream:function(ve,Se){return(ve=ve||{}).type||(ve.type="nodebuffer"),this.generateInternalStream(ve).toNodejsStream(Se)}};a.exports=de},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,a,u){a.exports=e("stream")},{stream:void 0}],17:[function(e,a,u){var l=e("./DataReader");function c(p){l.call(this,p);for(var g=0;g<this.data.length;g++)p[g]=255&p[g]}e("../utils").inherits(c,l),c.prototype.byteAt=function(p){return this.data[this.zero+p]},c.prototype.lastIndexOfSignature=function(p){for(var g=p.charCodeAt(0),y=p.charCodeAt(1),S=p.charCodeAt(2),E=p.charCodeAt(3),M=this.length-4;0<=M;--M)if(this.data[M]===g&&this.data[M+1]===y&&this.data[M+2]===S&&this.data[M+3]===E)return M-this.zero;return-1},c.prototype.readAndCheckSignature=function(p){var g=p.charCodeAt(0),y=p.charCodeAt(1),S=p.charCodeAt(2),E=p.charCodeAt(3),M=this.readData(4);return g===M[0]&&y===M[1]&&S===M[2]&&E===M[3]},c.prototype.readData=function(p){if(this.checkOffset(p),p===0)return[];var g=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,g},a.exports=c},{"../utils":32,"./DataReader":18}],18:[function(e,a,u){var l=e("../utils");function c(p){this.data=p,this.length=p.length,this.index=0,this.zero=0}c.prototype={checkOffset:function(p){this.checkIndex(this.index+p)},checkIndex:function(p){if(this.length<this.zero+p||p<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+p+"). Corrupted zip ?")},setIndex:function(p){this.checkIndex(p),this.index=p},skip:function(p){this.setIndex(this.index+p)},byteAt:function(){},readInt:function(p){var g,y=0;for(this.checkOffset(p),g=this.index+p-1;g>=this.index;g--)y=(y<<8)+this.byteAt(g);return this.index+=p,y},readString:function(p){return l.transformTo("string",this.readData(p))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var p=this.readInt(4);return new Date(Date.UTC(1980+(p>>25&127),(p>>21&15)-1,p>>16&31,p>>11&31,p>>5&63,(31&p)<<1))}},a.exports=c},{"../utils":32}],19:[function(e,a,u){var l=e("./Uint8ArrayReader");function c(p){l.call(this,p)}e("../utils").inherits(c,l),c.prototype.readData=function(p){this.checkOffset(p);var g=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,g},a.exports=c},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,a,u){var l=e("./DataReader");function c(p){l.call(this,p)}e("../utils").inherits(c,l),c.prototype.byteAt=function(p){return this.data.charCodeAt(this.zero+p)},c.prototype.lastIndexOfSignature=function(p){return this.data.lastIndexOf(p)-this.zero},c.prototype.readAndCheckSignature=function(p){return p===this.readData(4)},c.prototype.readData=function(p){this.checkOffset(p);var g=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,g},a.exports=c},{"../utils":32,"./DataReader":18}],21:[function(e,a,u){var l=e("./ArrayReader");function c(p){l.call(this,p)}e("../utils").inherits(c,l),c.prototype.readData=function(p){if(this.checkOffset(p),p===0)return new Uint8Array(0);var g=this.data.subarray(this.zero+this.index,this.zero+this.index+p);return this.index+=p,g},a.exports=c},{"../utils":32,"./ArrayReader":17}],22:[function(e,a,u){var l=e("../utils"),c=e("../support"),p=e("./ArrayReader"),g=e("./StringReader"),y=e("./NodeBufferReader"),S=e("./Uint8ArrayReader");a.exports=function(E){var M=l.getTypeOf(E);return l.checkSupport(M),M!=="string"||c.uint8array?M==="nodebuffer"?new y(E):c.uint8array?new S(l.transformTo("uint8array",E)):new p(l.transformTo("array",E)):new g(E)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,a,u){u.LOCAL_FILE_HEADER="PK",u.CENTRAL_FILE_HEADER="PK",u.CENTRAL_DIRECTORY_END="PK",u.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",u.ZIP64_CENTRAL_DIRECTORY_END="PK",u.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,a,u){var l=e("./GenericWorker"),c=e("../utils");function p(g){l.call(this,"ConvertWorker to "+g),this.destType=g}c.inherits(p,l),p.prototype.processChunk=function(g){this.push({data:c.transformTo(this.destType,g.data),meta:g.meta})},a.exports=p},{"../utils":32,"./GenericWorker":28}],25:[function(e,a,u){var l=e("./GenericWorker"),c=e("../crc32");function p(){l.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(p,l),p.prototype.processChunk=function(g){this.streamInfo.crc32=c(g.data,this.streamInfo.crc32||0),this.push(g)},a.exports=p},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,a,u){var l=e("../utils"),c=e("./GenericWorker");function p(g){c.call(this,"DataLengthProbe for "+g),this.propName=g,this.withStreamInfo(g,0)}l.inherits(p,c),p.prototype.processChunk=function(g){if(g){var y=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=y+g.data.length}c.prototype.processChunk.call(this,g)},a.exports=p},{"../utils":32,"./GenericWorker":28}],27:[function(e,a,u){var l=e("../utils"),c=e("./GenericWorker");function p(g){c.call(this,"DataWorker");var y=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,g.then(function(S){y.dataIsReady=!0,y.data=S,y.max=S&&S.length||0,y.type=l.getTypeOf(S),y.isPaused||y._tickAndRepeat()},function(S){y.error(S)})}l.inherits(p,c),p.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this.data=null},p.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,l.delay(this._tickAndRepeat,[],this)),!0)},p.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(l.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},p.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var g=null,y=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":g=this.data.substring(this.index,y);break;case"uint8array":g=this.data.subarray(this.index,y);break;case"array":case"nodebuffer":g=this.data.slice(this.index,y)}return this.index=y,this.push({data:g,meta:{percent:this.max?this.index/this.max*100:0}})},a.exports=p},{"../utils":32,"./GenericWorker":28}],28:[function(e,a,u){function l(c){this.name=c||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}l.prototype={push:function(c){this.emit("data",c)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(c){this.emit("error",c)}return!0},error:function(c){return!this.isFinished&&(this.isPaused?this.generatedError=c:(this.isFinished=!0,this.emit("error",c),this.previous&&this.previous.error(c),this.cleanUp()),!0)},on:function(c,p){return this._listeners[c].push(p),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(c,p){if(this._listeners[c])for(var g=0;g<this._listeners[c].length;g++)this._listeners[c][g].call(this,p)},pipe:function(c){return c.registerPrevious(this)},registerPrevious:function(c){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=c.streamInfo,this.mergeStreamInfo(),this.previous=c;var p=this;return c.on("data",function(g){p.processChunk(g)}),c.on("end",function(){p.end()}),c.on("error",function(g){p.error(g)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var c=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),c=!0),this.previous&&this.previous.resume(),!c},flush:function(){},processChunk:function(c){this.push(c)},withStreamInfo:function(c,p){return this.extraStreamInfo[c]=p,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var c in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,c)&&(this.streamInfo[c]=this.extraStreamInfo[c])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var c="Worker "+this.name;return this.previous?this.previous+" -> "+c:c}},a.exports=l},{}],29:[function(e,a,u){var l=e("../utils"),c=e("./ConvertWorker"),p=e("./GenericWorker"),g=e("../base64"),y=e("../support"),S=e("../external"),E=null;if(y.nodestream)try{E=e("../nodejs/NodejsStreamOutputAdapter")}catch{}function M(R,A){return new S.Promise(function(I,O){var W=[],Z=R._internalType,de=R._outputType,ve=R._mimeType;R.on("data",function(Se,K){W.push(Se),A&&A(K)}).on("error",function(Se){W=[],O(Se)}).on("end",function(){try{var Se=(function(K,X,ge){switch(K){case"blob":return l.newBlob(l.transformTo("arraybuffer",X),ge);case"base64":return g.encode(X);default:return l.transformTo(K,X)}})(de,(function(K,X){var ge,Ie=0,te=null,G=0;for(ge=0;ge<X.length;ge++)G+=X[ge].length;switch(K){case"string":return X.join("");case"array":return Array.prototype.concat.apply([],X);case"uint8array":for(te=new Uint8Array(G),ge=0;ge<X.length;ge++)te.set(X[ge],Ie),Ie+=X[ge].length;return te;case"nodebuffer":return Buffer.concat(X);default:throw new Error("concat : unsupported type '"+K+"'")}})(Z,W),ve);I(Se)}catch(K){O(K)}W=[]}).resume()})}function x(R,A,I){var O=A;switch(A){case"blob":case"arraybuffer":O="uint8array";break;case"base64":O="string"}try{this._internalType=O,this._outputType=A,this._mimeType=I,l.checkSupport(O),this._worker=R.pipe(new c(O)),R.lock()}catch(W){this._worker=new p("error"),this._worker.error(W)}}x.prototype={accumulate:function(R){return M(this,R)},on:function(R,A){var I=this;return R==="data"?this._worker.on(R,function(O){A.call(I,O.data,O.meta)}):this._worker.on(R,function(){l.delay(A,arguments,I)}),this},resume:function(){return l.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(R){if(l.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new E(this,{objectMode:this._outputType!=="nodebuffer"},R)}},a.exports=x},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,a,u){if(u.base64=!0,u.array=!0,u.string=!0,u.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",u.nodebuffer=typeof Buffer<"u",u.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")u.blob=!1;else{var l=new ArrayBuffer(0);try{u.blob=new Blob([l],{type:"application/zip"}).size===0}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);c.append(l),u.blob=c.getBlob("application/zip").size===0}catch{u.blob=!1}}}try{u.nodestream=!!e("readable-stream").Readable}catch{u.nodestream=!1}},{"readable-stream":16}],31:[function(e,a,u){for(var l=e("./utils"),c=e("./support"),p=e("./nodejsUtils"),g=e("./stream/GenericWorker"),y=new Array(256),S=0;S<256;S++)y[S]=252<=S?6:248<=S?5:240<=S?4:224<=S?3:192<=S?2:1;y[254]=y[254]=1;function E(){g.call(this,"utf-8 decode"),this.leftOver=null}function M(){g.call(this,"utf-8 encode")}u.utf8encode=function(x){return c.nodebuffer?p.newBufferFrom(x,"utf-8"):(function(R){var A,I,O,W,Z,de=R.length,ve=0;for(W=0;W<de;W++)(64512&(I=R.charCodeAt(W)))==55296&&W+1<de&&(64512&(O=R.charCodeAt(W+1)))==56320&&(I=65536+(I-55296<<10)+(O-56320),W++),ve+=I<128?1:I<2048?2:I<65536?3:4;for(A=c.uint8array?new Uint8Array(ve):new Array(ve),W=Z=0;Z<ve;W++)(64512&(I=R.charCodeAt(W)))==55296&&W+1<de&&(64512&(O=R.charCodeAt(W+1)))==56320&&(I=65536+(I-55296<<10)+(O-56320),W++),I<128?A[Z++]=I:(I<2048?A[Z++]=192|I>>>6:(I<65536?A[Z++]=224|I>>>12:(A[Z++]=240|I>>>18,A[Z++]=128|I>>>12&63),A[Z++]=128|I>>>6&63),A[Z++]=128|63&I);return A})(x)},u.utf8decode=function(x){return c.nodebuffer?l.transformTo("nodebuffer",x).toString("utf-8"):(function(R){var A,I,O,W,Z=R.length,de=new Array(2*Z);for(A=I=0;A<Z;)if((O=R[A++])<128)de[I++]=O;else if(4<(W=y[O]))de[I++]=65533,A+=W-1;else{for(O&=W===2?31:W===3?15:7;1<W&&A<Z;)O=O<<6|63&R[A++],W--;1<W?de[I++]=65533:O<65536?de[I++]=O:(O-=65536,de[I++]=55296|O>>10&1023,de[I++]=56320|1023&O)}return de.length!==I&&(de.subarray?de=de.subarray(0,I):de.length=I),l.applyFromCharCode(de)})(x=l.transformTo(c.uint8array?"uint8array":"array",x))},l.inherits(E,g),E.prototype.processChunk=function(x){var R=l.transformTo(c.uint8array?"uint8array":"array",x.data);if(this.leftOver&&this.leftOver.length){if(c.uint8array){var A=R;(R=new Uint8Array(A.length+this.leftOver.length)).set(this.leftOver,0),R.set(A,this.leftOver.length)}else R=this.leftOver.concat(R);this.leftOver=null}var I=(function(W,Z){var de;for((Z=Z||W.length)>W.length&&(Z=W.length),de=Z-1;0<=de&&(192&W[de])==128;)de--;return de<0||de===0?Z:de+y[W[de]]>Z?de:Z})(R),O=R;I!==R.length&&(c.uint8array?(O=R.subarray(0,I),this.leftOver=R.subarray(I,R.length)):(O=R.slice(0,I),this.leftOver=R.slice(I,R.length))),this.push({data:u.utf8decode(O),meta:x.meta})},E.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:u.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},u.Utf8DecodeWorker=E,l.inherits(M,g),M.prototype.processChunk=function(x){this.push({data:u.utf8encode(x.data),meta:x.meta})},u.Utf8EncodeWorker=M},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,a,u){var l=e("./support"),c=e("./base64"),p=e("./nodejsUtils"),g=e("./external");function y(A){return A}function S(A,I){for(var O=0;O<A.length;++O)I[O]=255&A.charCodeAt(O);return I}e("setimmediate"),u.newBlob=function(A,I){u.checkSupport("blob");try{return new Blob([A],{type:I})}catch{try{var O=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return O.append(A),O.getBlob(I)}catch{throw new Error("Bug : can't construct the Blob.")}}};var E={stringifyByChunk:function(A,I,O){var W=[],Z=0,de=A.length;if(de<=O)return String.fromCharCode.apply(null,A);for(;Z<de;)I==="array"||I==="nodebuffer"?W.push(String.fromCharCode.apply(null,A.slice(Z,Math.min(Z+O,de)))):W.push(String.fromCharCode.apply(null,A.subarray(Z,Math.min(Z+O,de)))),Z+=O;return W.join("")},stringifyByChar:function(A){for(var I="",O=0;O<A.length;O++)I+=String.fromCharCode(A[O]);return I},applyCanBeUsed:{uint8array:(function(){try{return l.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return l.nodebuffer&&String.fromCharCode.apply(null,p.allocBuffer(1)).length===1}catch{return!1}})()}};function M(A){var I=65536,O=u.getTypeOf(A),W=!0;if(O==="uint8array"?W=E.applyCanBeUsed.uint8array:O==="nodebuffer"&&(W=E.applyCanBeUsed.nodebuffer),W)for(;1<I;)try{return E.stringifyByChunk(A,O,I)}catch{I=Math.floor(I/2)}return E.stringifyByChar(A)}function x(A,I){for(var O=0;O<A.length;O++)I[O]=A[O];return I}u.applyFromCharCode=M;var R={};R.string={string:y,array:function(A){return S(A,new Array(A.length))},arraybuffer:function(A){return R.string.uint8array(A).buffer},uint8array:function(A){return S(A,new Uint8Array(A.length))},nodebuffer:function(A){return S(A,p.allocBuffer(A.length))}},R.array={string:M,array:y,arraybuffer:function(A){return new Uint8Array(A).buffer},uint8array:function(A){return new Uint8Array(A)},nodebuffer:function(A){return p.newBufferFrom(A)}},R.arraybuffer={string:function(A){return M(new Uint8Array(A))},array:function(A){return x(new Uint8Array(A),new Array(A.byteLength))},arraybuffer:y,uint8array:function(A){return new Uint8Array(A)},nodebuffer:function(A){return p.newBufferFrom(new Uint8Array(A))}},R.uint8array={string:M,array:function(A){return x(A,new Array(A.length))},arraybuffer:function(A){return A.buffer},uint8array:y,nodebuffer:function(A){return p.newBufferFrom(A)}},R.nodebuffer={string:M,array:function(A){return x(A,new Array(A.length))},arraybuffer:function(A){return R.nodebuffer.uint8array(A).buffer},uint8array:function(A){return x(A,new Uint8Array(A.length))},nodebuffer:y},u.transformTo=function(A,I){if(I=I||"",!A)return I;u.checkSupport(A);var O=u.getTypeOf(I);return R[O][A](I)},u.resolve=function(A){for(var I=A.split("/"),O=[],W=0;W<I.length;W++){var Z=I[W];Z==="."||Z===""&&W!==0&&W!==I.length-1||(Z===".."?O.pop():O.push(Z))}return O.join("/")},u.getTypeOf=function(A){return typeof A=="string"?"string":Object.prototype.toString.call(A)==="[object Array]"?"array":l.nodebuffer&&p.isBuffer(A)?"nodebuffer":l.uint8array&&A instanceof Uint8Array?"uint8array":l.arraybuffer&&A instanceof ArrayBuffer?"arraybuffer":void 0},u.checkSupport=function(A){if(!l[A.toLowerCase()])throw new Error(A+" is not supported by this platform")},u.MAX_VALUE_16BITS=65535,u.MAX_VALUE_32BITS=-1,u.pretty=function(A){var I,O,W="";for(O=0;O<(A||"").length;O++)W+="\\x"+((I=A.charCodeAt(O))<16?"0":"")+I.toString(16).toUpperCase();return W},u.delay=function(A,I,O){setImmediate(function(){A.apply(O||null,I||[])})},u.inherits=function(A,I){function O(){}O.prototype=I.prototype,A.prototype=new O},u.extend=function(){var A,I,O={};for(A=0;A<arguments.length;A++)for(I in arguments[A])Object.prototype.hasOwnProperty.call(arguments[A],I)&&O[I]===void 0&&(O[I]=arguments[A][I]);return O},u.prepareContent=function(A,I,O,W,Z){return g.Promise.resolve(I).then(function(de){return l.blob&&(de instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(de))!==-1)&&typeof FileReader<"u"?new g.Promise(function(ve,Se){var K=new FileReader;K.onload=function(X){ve(X.target.result)},K.onerror=function(X){Se(X.target.error)},K.readAsArrayBuffer(de)}):de}).then(function(de){var ve=u.getTypeOf(de);return ve?(ve==="arraybuffer"?de=u.transformTo("uint8array",de):ve==="string"&&(Z?de=c.decode(de):O&&W!==!0&&(de=(function(Se){return S(Se,l.uint8array?new Uint8Array(Se.length):new Array(Se.length))})(de))),de):g.Promise.reject(new Error("Can't read the data of '"+A+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,a,u){var l=e("./reader/readerFor"),c=e("./utils"),p=e("./signature"),g=e("./zipEntry"),y=e("./support");function S(E){this.files=[],this.loadOptions=E}S.prototype={checkSignature:function(E){if(!this.reader.readAndCheckSignature(E)){this.reader.index-=4;var M=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+c.pretty(M)+", expected "+c.pretty(E)+")")}},isSignature:function(E,M){var x=this.reader.index;this.reader.setIndex(E);var R=this.reader.readString(4)===M;return this.reader.setIndex(x),R},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var E=this.reader.readData(this.zipCommentLength),M=y.uint8array?"uint8array":"array",x=c.transformTo(M,E);this.zipComment=this.loadOptions.decodeFileName(x)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var E,M,x,R=this.zip64EndOfCentralSize-44;0<R;)E=this.reader.readInt(2),M=this.reader.readInt(4),x=this.reader.readData(M),this.zip64ExtensibleData[E]={id:E,length:M,value:x}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var E,M;for(E=0;E<this.files.length;E++)M=this.files[E],this.reader.setIndex(M.localHeaderOffset),this.checkSignature(p.LOCAL_FILE_HEADER),M.readLocalPart(this.reader),M.handleUTF8(),M.processAttributes()},readCentralDir:function(){var E;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(p.CENTRAL_FILE_HEADER);)(E=new g({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(E);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var E=this.reader.lastIndexOfSignature(p.CENTRAL_DIRECTORY_END);if(E<0)throw this.isSignature(0,p.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(E);var M=E;if(this.checkSignature(p.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===c.MAX_VALUE_16BITS||this.diskWithCentralDirStart===c.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===c.MAX_VALUE_16BITS||this.centralDirRecords===c.MAX_VALUE_16BITS||this.centralDirSize===c.MAX_VALUE_32BITS||this.centralDirOffset===c.MAX_VALUE_32BITS){if(this.zip64=!0,(E=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(E),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,p.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var x=this.centralDirOffset+this.centralDirSize;this.zip64&&(x+=20,x+=12+this.zip64EndOfCentralSize);var R=M-x;if(0<R)this.isSignature(M,p.CENTRAL_FILE_HEADER)||(this.reader.zero=R);else if(R<0)throw new Error("Corrupted zip: missing "+Math.abs(R)+" bytes.")},prepareReader:function(E){this.reader=l(E)},load:function(E){this.prepareReader(E),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},a.exports=S},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,a,u){var l=e("./reader/readerFor"),c=e("./utils"),p=e("./compressedObject"),g=e("./crc32"),y=e("./utf8"),S=e("./compressions"),E=e("./support");function M(x,R){this.options=x,this.loadOptions=R}M.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(x){var R,A;if(x.skip(22),this.fileNameLength=x.readInt(2),A=x.readInt(2),this.fileName=x.readData(this.fileNameLength),x.skip(A),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((R=(function(I){for(var O in S)if(Object.prototype.hasOwnProperty.call(S,O)&&S[O].magic===I)return S[O];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+c.pretty(this.compressionMethod)+" unknown (inner file : "+c.transformTo("string",this.fileName)+")");this.decompressed=new p(this.compressedSize,this.uncompressedSize,this.crc32,R,x.readData(this.compressedSize))},readCentralPart:function(x){this.versionMadeBy=x.readInt(2),x.skip(2),this.bitFlag=x.readInt(2),this.compressionMethod=x.readString(2),this.date=x.readDate(),this.crc32=x.readInt(4),this.compressedSize=x.readInt(4),this.uncompressedSize=x.readInt(4);var R=x.readInt(2);if(this.extraFieldsLength=x.readInt(2),this.fileCommentLength=x.readInt(2),this.diskNumberStart=x.readInt(2),this.internalFileAttributes=x.readInt(2),this.externalFileAttributes=x.readInt(4),this.localHeaderOffset=x.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");x.skip(R),this.readExtraFields(x),this.parseZIP64ExtraField(x),this.fileComment=x.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var x=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),x==0&&(this.dosPermissions=63&this.externalFileAttributes),x==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var x=l(this.extraFields[1].value);this.uncompressedSize===c.MAX_VALUE_32BITS&&(this.uncompressedSize=x.readInt(8)),this.compressedSize===c.MAX_VALUE_32BITS&&(this.compressedSize=x.readInt(8)),this.localHeaderOffset===c.MAX_VALUE_32BITS&&(this.localHeaderOffset=x.readInt(8)),this.diskNumberStart===c.MAX_VALUE_32BITS&&(this.diskNumberStart=x.readInt(4))}},readExtraFields:function(x){var R,A,I,O=x.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});x.index+4<O;)R=x.readInt(2),A=x.readInt(2),I=x.readData(A),this.extraFields[R]={id:R,length:A,value:I};x.setIndex(O)},handleUTF8:function(){var x=E.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=y.utf8decode(this.fileName),this.fileCommentStr=y.utf8decode(this.fileComment);else{var R=this.findExtraFieldUnicodePath();if(R!==null)this.fileNameStr=R;else{var A=c.transformTo(x,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(A)}var I=this.findExtraFieldUnicodeComment();if(I!==null)this.fileCommentStr=I;else{var O=c.transformTo(x,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(O)}}},findExtraFieldUnicodePath:function(){var x=this.extraFields[28789];if(x){var R=l(x.value);return R.readInt(1)!==1||g(this.fileName)!==R.readInt(4)?null:y.utf8decode(R.readData(x.length-5))}return null},findExtraFieldUnicodeComment:function(){var x=this.extraFields[25461];if(x){var R=l(x.value);return R.readInt(1)!==1||g(this.fileComment)!==R.readInt(4)?null:y.utf8decode(R.readData(x.length-5))}return null}},a.exports=M},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,a,u){function l(R,A,I){this.name=R,this.dir=I.dir,this.date=I.date,this.comment=I.comment,this.unixPermissions=I.unixPermissions,this.dosPermissions=I.dosPermissions,this._data=A,this._dataBinary=I.binary,this.options={compression:I.compression,compressionOptions:I.compressionOptions}}var c=e("./stream/StreamHelper"),p=e("./stream/DataWorker"),g=e("./utf8"),y=e("./compressedObject"),S=e("./stream/GenericWorker");l.prototype={internalStream:function(R){var A=null,I="string";try{if(!R)throw new Error("No output type specified.");var O=(I=R.toLowerCase())==="string"||I==="text";I!=="binarystring"&&I!=="text"||(I="string"),A=this._decompressWorker();var W=!this._dataBinary;W&&!O&&(A=A.pipe(new g.Utf8EncodeWorker)),!W&&O&&(A=A.pipe(new g.Utf8DecodeWorker))}catch(Z){(A=new S("error")).error(Z)}return new c(A,I,"")},async:function(R,A){return this.internalStream(R).accumulate(A)},nodeStream:function(R,A){return this.internalStream(R||"nodebuffer").toNodejsStream(A)},_compressWorker:function(R,A){if(this._data instanceof y&&this._data.compression.magic===R.magic)return this._data.getCompressedWorker();var I=this._decompressWorker();return this._dataBinary||(I=I.pipe(new g.Utf8EncodeWorker)),y.createWorkerFrom(I,R,A)},_decompressWorker:function(){return this._data instanceof y?this._data.getContentWorker():this._data instanceof S?this._data:new p(this._data)}};for(var E=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],M=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},x=0;x<E.length;x++)l.prototype[E[x]]=M;a.exports=l},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,a,u){(function(l){var c,p,g=l.MutationObserver||l.WebKitMutationObserver;if(g){var y=0,S=new g(R),E=l.document.createTextNode("");S.observe(E,{characterData:!0}),c=function(){E.data=y=++y%2}}else if(l.setImmediate||l.MessageChannel===void 0)c="document"in l&&"onreadystatechange"in l.document.createElement("script")?function(){var A=l.document.createElement("script");A.onreadystatechange=function(){R(),A.onreadystatechange=null,A.parentNode.removeChild(A),A=null},l.document.documentElement.appendChild(A)}:function(){setTimeout(R,0)};else{var M=new l.MessageChannel;M.port1.onmessage=R,c=function(){M.port2.postMessage(0)}}var x=[];function R(){var A,I;p=!0;for(var O=x.length;O;){for(I=x,x=[],A=-1;++A<O;)I[A]();O=x.length}p=!1}a.exports=function(A){x.push(A)!==1||p||c()}}).call(this,typeof Zl<"u"?Zl:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(e,a,u){var l=e("immediate");function c(){}var p={},g=["REJECTED"],y=["FULFILLED"],S=["PENDING"];function E(O){if(typeof O!="function")throw new TypeError("resolver must be a function");this.state=S,this.queue=[],this.outcome=void 0,O!==c&&A(this,O)}function M(O,W,Z){this.promise=O,typeof W=="function"&&(this.onFulfilled=W,this.callFulfilled=this.otherCallFulfilled),typeof Z=="function"&&(this.onRejected=Z,this.callRejected=this.otherCallRejected)}function x(O,W,Z){l(function(){var de;try{de=W(Z)}catch(ve){return p.reject(O,ve)}de===O?p.reject(O,new TypeError("Cannot resolve promise with itself")):p.resolve(O,de)})}function R(O){var W=O&&O.then;if(O&&(typeof O=="object"||typeof O=="function")&&typeof W=="function")return function(){W.apply(O,arguments)}}function A(O,W){var Z=!1;function de(K){Z||(Z=!0,p.reject(O,K))}function ve(K){Z||(Z=!0,p.resolve(O,K))}var Se=I(function(){W(ve,de)});Se.status==="error"&&de(Se.value)}function I(O,W){var Z={};try{Z.value=O(W),Z.status="success"}catch(de){Z.status="error",Z.value=de}return Z}(a.exports=E).prototype.finally=function(O){if(typeof O!="function")return this;var W=this.constructor;return this.then(function(Z){return W.resolve(O()).then(function(){return Z})},function(Z){return W.resolve(O()).then(function(){throw Z})})},E.prototype.catch=function(O){return this.then(null,O)},E.prototype.then=function(O,W){if(typeof O!="function"&&this.state===y||typeof W!="function"&&this.state===g)return this;var Z=new this.constructor(c);return this.state!==S?x(Z,this.state===y?O:W,this.outcome):this.queue.push(new M(Z,O,W)),Z},M.prototype.callFulfilled=function(O){p.resolve(this.promise,O)},M.prototype.otherCallFulfilled=function(O){x(this.promise,this.onFulfilled,O)},M.prototype.callRejected=function(O){p.reject(this.promise,O)},M.prototype.otherCallRejected=function(O){x(this.promise,this.onRejected,O)},p.resolve=function(O,W){var Z=I(R,W);if(Z.status==="error")return p.reject(O,Z.value);var de=Z.value;if(de)A(O,de);else{O.state=y,O.outcome=W;for(var ve=-1,Se=O.queue.length;++ve<Se;)O.queue[ve].callFulfilled(W)}return O},p.reject=function(O,W){O.state=g,O.outcome=W;for(var Z=-1,de=O.queue.length;++Z<de;)O.queue[Z].callRejected(W);return O},E.resolve=function(O){return O instanceof this?O:p.resolve(new this(c),O)},E.reject=function(O){var W=new this(c);return p.reject(W,O)},E.all=function(O){var W=this;if(Object.prototype.toString.call(O)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Z=O.length,de=!1;if(!Z)return this.resolve([]);for(var ve=new Array(Z),Se=0,K=-1,X=new this(c);++K<Z;)ge(O[K],K);return X;function ge(Ie,te){W.resolve(Ie).then(function(G){ve[te]=G,++Se!==Z||de||(de=!0,p.resolve(X,ve))},function(G){de||(de=!0,p.reject(X,G))})}},E.race=function(O){var W=this;if(Object.prototype.toString.call(O)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Z=O.length,de=!1;if(!Z)return this.resolve([]);for(var ve=-1,Se=new this(c);++ve<Z;)K=O[ve],W.resolve(K).then(function(X){de||(de=!0,p.resolve(Se,X))},function(X){de||(de=!0,p.reject(Se,X))});var K;return Se}},{immediate:36}],38:[function(e,a,u){var l={};(0,e("./lib/utils/common").assign)(l,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),a.exports=l},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,a,u){var l=e("./zlib/deflate"),c=e("./utils/common"),p=e("./utils/strings"),g=e("./zlib/messages"),y=e("./zlib/zstream"),S=Object.prototype.toString,E=0,M=-1,x=0,R=8;function A(O){if(!(this instanceof A))return new A(O);this.options=c.assign({level:M,method:R,chunkSize:16384,windowBits:15,memLevel:8,strategy:x,to:""},O||{});var W=this.options;W.raw&&0<W.windowBits?W.windowBits=-W.windowBits:W.gzip&&0<W.windowBits&&W.windowBits<16&&(W.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var Z=l.deflateInit2(this.strm,W.level,W.method,W.windowBits,W.memLevel,W.strategy);if(Z!==E)throw new Error(g[Z]);if(W.header&&l.deflateSetHeader(this.strm,W.header),W.dictionary){var de;if(de=typeof W.dictionary=="string"?p.string2buf(W.dictionary):S.call(W.dictionary)==="[object ArrayBuffer]"?new Uint8Array(W.dictionary):W.dictionary,(Z=l.deflateSetDictionary(this.strm,de))!==E)throw new Error(g[Z]);this._dict_set=!0}}function I(O,W){var Z=new A(W);if(Z.push(O,!0),Z.err)throw Z.msg||g[Z.err];return Z.result}A.prototype.push=function(O,W){var Z,de,ve=this.strm,Se=this.options.chunkSize;if(this.ended)return!1;de=W===~~W?W:W===!0?4:0,typeof O=="string"?ve.input=p.string2buf(O):S.call(O)==="[object ArrayBuffer]"?ve.input=new Uint8Array(O):ve.input=O,ve.next_in=0,ve.avail_in=ve.input.length;do{if(ve.avail_out===0&&(ve.output=new c.Buf8(Se),ve.next_out=0,ve.avail_out=Se),(Z=l.deflate(ve,de))!==1&&Z!==E)return this.onEnd(Z),!(this.ended=!0);ve.avail_out!==0&&(ve.avail_in!==0||de!==4&&de!==2)||(this.options.to==="string"?this.onData(p.buf2binstring(c.shrinkBuf(ve.output,ve.next_out))):this.onData(c.shrinkBuf(ve.output,ve.next_out)))}while((0<ve.avail_in||ve.avail_out===0)&&Z!==1);return de===4?(Z=l.deflateEnd(this.strm),this.onEnd(Z),this.ended=!0,Z===E):de!==2||(this.onEnd(E),!(ve.avail_out=0))},A.prototype.onData=function(O){this.chunks.push(O)},A.prototype.onEnd=function(O){O===E&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=O,this.msg=this.strm.msg},u.Deflate=A,u.deflate=I,u.deflateRaw=function(O,W){return(W=W||{}).raw=!0,I(O,W)},u.gzip=function(O,W){return(W=W||{}).gzip=!0,I(O,W)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,a,u){var l=e("./zlib/inflate"),c=e("./utils/common"),p=e("./utils/strings"),g=e("./zlib/constants"),y=e("./zlib/messages"),S=e("./zlib/zstream"),E=e("./zlib/gzheader"),M=Object.prototype.toString;function x(A){if(!(this instanceof x))return new x(A);this.options=c.assign({chunkSize:16384,windowBits:0,to:""},A||{});var I=this.options;I.raw&&0<=I.windowBits&&I.windowBits<16&&(I.windowBits=-I.windowBits,I.windowBits===0&&(I.windowBits=-15)),!(0<=I.windowBits&&I.windowBits<16)||A&&A.windowBits||(I.windowBits+=32),15<I.windowBits&&I.windowBits<48&&(15&I.windowBits)==0&&(I.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new S,this.strm.avail_out=0;var O=l.inflateInit2(this.strm,I.windowBits);if(O!==g.Z_OK)throw new Error(y[O]);this.header=new E,l.inflateGetHeader(this.strm,this.header)}function R(A,I){var O=new x(I);if(O.push(A,!0),O.err)throw O.msg||y[O.err];return O.result}x.prototype.push=function(A,I){var O,W,Z,de,ve,Se,K=this.strm,X=this.options.chunkSize,ge=this.options.dictionary,Ie=!1;if(this.ended)return!1;W=I===~~I?I:I===!0?g.Z_FINISH:g.Z_NO_FLUSH,typeof A=="string"?K.input=p.binstring2buf(A):M.call(A)==="[object ArrayBuffer]"?K.input=new Uint8Array(A):K.input=A,K.next_in=0,K.avail_in=K.input.length;do{if(K.avail_out===0&&(K.output=new c.Buf8(X),K.next_out=0,K.avail_out=X),(O=l.inflate(K,g.Z_NO_FLUSH))===g.Z_NEED_DICT&&ge&&(Se=typeof ge=="string"?p.string2buf(ge):M.call(ge)==="[object ArrayBuffer]"?new Uint8Array(ge):ge,O=l.inflateSetDictionary(this.strm,Se)),O===g.Z_BUF_ERROR&&Ie===!0&&(O=g.Z_OK,Ie=!1),O!==g.Z_STREAM_END&&O!==g.Z_OK)return this.onEnd(O),!(this.ended=!0);K.next_out&&(K.avail_out!==0&&O!==g.Z_STREAM_END&&(K.avail_in!==0||W!==g.Z_FINISH&&W!==g.Z_SYNC_FLUSH)||(this.options.to==="string"?(Z=p.utf8border(K.output,K.next_out),de=K.next_out-Z,ve=p.buf2string(K.output,Z),K.next_out=de,K.avail_out=X-de,de&&c.arraySet(K.output,K.output,Z,de,0),this.onData(ve)):this.onData(c.shrinkBuf(K.output,K.next_out)))),K.avail_in===0&&K.avail_out===0&&(Ie=!0)}while((0<K.avail_in||K.avail_out===0)&&O!==g.Z_STREAM_END);return O===g.Z_STREAM_END&&(W=g.Z_FINISH),W===g.Z_FINISH?(O=l.inflateEnd(this.strm),this.onEnd(O),this.ended=!0,O===g.Z_OK):W!==g.Z_SYNC_FLUSH||(this.onEnd(g.Z_OK),!(K.avail_out=0))},x.prototype.onData=function(A){this.chunks.push(A)},x.prototype.onEnd=function(A){A===g.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=A,this.msg=this.strm.msg},u.Inflate=x,u.inflate=R,u.inflateRaw=function(A,I){return(I=I||{}).raw=!0,R(A,I)},u.ungzip=R},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,a,u){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";u.assign=function(g){for(var y=Array.prototype.slice.call(arguments,1);y.length;){var S=y.shift();if(S){if(typeof S!="object")throw new TypeError(S+"must be non-object");for(var E in S)S.hasOwnProperty(E)&&(g[E]=S[E])}}return g},u.shrinkBuf=function(g,y){return g.length===y?g:g.subarray?g.subarray(0,y):(g.length=y,g)};var c={arraySet:function(g,y,S,E,M){if(y.subarray&&g.subarray)g.set(y.subarray(S,S+E),M);else for(var x=0;x<E;x++)g[M+x]=y[S+x]},flattenChunks:function(g){var y,S,E,M,x,R;for(y=E=0,S=g.length;y<S;y++)E+=g[y].length;for(R=new Uint8Array(E),y=M=0,S=g.length;y<S;y++)x=g[y],R.set(x,M),M+=x.length;return R}},p={arraySet:function(g,y,S,E,M){for(var x=0;x<E;x++)g[M+x]=y[S+x]},flattenChunks:function(g){return[].concat.apply([],g)}};u.setTyped=function(g){g?(u.Buf8=Uint8Array,u.Buf16=Uint16Array,u.Buf32=Int32Array,u.assign(u,c)):(u.Buf8=Array,u.Buf16=Array,u.Buf32=Array,u.assign(u,p))},u.setTyped(l)},{}],42:[function(e,a,u){var l=e("./common"),c=!0,p=!0;try{String.fromCharCode.apply(null,[0])}catch{c=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{p=!1}for(var g=new l.Buf8(256),y=0;y<256;y++)g[y]=252<=y?6:248<=y?5:240<=y?4:224<=y?3:192<=y?2:1;function S(E,M){if(M<65537&&(E.subarray&&p||!E.subarray&&c))return String.fromCharCode.apply(null,l.shrinkBuf(E,M));for(var x="",R=0;R<M;R++)x+=String.fromCharCode(E[R]);return x}g[254]=g[254]=1,u.string2buf=function(E){var M,x,R,A,I,O=E.length,W=0;for(A=0;A<O;A++)(64512&(x=E.charCodeAt(A)))==55296&&A+1<O&&(64512&(R=E.charCodeAt(A+1)))==56320&&(x=65536+(x-55296<<10)+(R-56320),A++),W+=x<128?1:x<2048?2:x<65536?3:4;for(M=new l.Buf8(W),A=I=0;I<W;A++)(64512&(x=E.charCodeAt(A)))==55296&&A+1<O&&(64512&(R=E.charCodeAt(A+1)))==56320&&(x=65536+(x-55296<<10)+(R-56320),A++),x<128?M[I++]=x:(x<2048?M[I++]=192|x>>>6:(x<65536?M[I++]=224|x>>>12:(M[I++]=240|x>>>18,M[I++]=128|x>>>12&63),M[I++]=128|x>>>6&63),M[I++]=128|63&x);return M},u.buf2binstring=function(E){return S(E,E.length)},u.binstring2buf=function(E){for(var M=new l.Buf8(E.length),x=0,R=M.length;x<R;x++)M[x]=E.charCodeAt(x);return M},u.buf2string=function(E,M){var x,R,A,I,O=M||E.length,W=new Array(2*O);for(x=R=0;x<O;)if((A=E[x++])<128)W[R++]=A;else if(4<(I=g[A]))W[R++]=65533,x+=I-1;else{for(A&=I===2?31:I===3?15:7;1<I&&x<O;)A=A<<6|63&E[x++],I--;1<I?W[R++]=65533:A<65536?W[R++]=A:(A-=65536,W[R++]=55296|A>>10&1023,W[R++]=56320|1023&A)}return S(W,R)},u.utf8border=function(E,M){var x;for((M=M||E.length)>E.length&&(M=E.length),x=M-1;0<=x&&(192&E[x])==128;)x--;return x<0||x===0?M:x+g[E[x]]>M?x:M}},{"./common":41}],43:[function(e,a,u){a.exports=function(l,c,p,g){for(var y=65535&l|0,S=l>>>16&65535|0,E=0;p!==0;){for(p-=E=2e3<p?2e3:p;S=S+(y=y+c[g++]|0)|0,--E;);y%=65521,S%=65521}return y|S<<16|0}},{}],44:[function(e,a,u){a.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,a,u){var l=(function(){for(var c,p=[],g=0;g<256;g++){c=g;for(var y=0;y<8;y++)c=1&c?3988292384^c>>>1:c>>>1;p[g]=c}return p})();a.exports=function(c,p,g,y){var S=l,E=y+g;c^=-1;for(var M=y;M<E;M++)c=c>>>8^S[255&(c^p[M])];return-1^c}},{}],46:[function(e,a,u){var l,c=e("../utils/common"),p=e("./trees"),g=e("./adler32"),y=e("./crc32"),S=e("./messages"),E=0,M=4,x=0,R=-2,A=-1,I=4,O=2,W=8,Z=9,de=286,ve=30,Se=19,K=2*de+1,X=15,ge=3,Ie=258,te=Ie+ge+1,G=42,ae=113,F=1,Be=2,Ve=3,Fe=4;function xe($,je){return $.msg=S[je],je}function Ae($){return($<<1)-(4<$?9:0)}function Pe($){for(var je=$.length;0<=--je;)$[je]=0}function re($){var je=$.state,oe=je.pending;oe>$.avail_out&&(oe=$.avail_out),oe!==0&&(c.arraySet($.output,je.pending_buf,je.pending_out,oe,$.next_out),$.next_out+=oe,je.pending_out+=oe,$.total_out+=oe,$.avail_out-=oe,je.pending-=oe,je.pending===0&&(je.pending_out=0))}function j($,je){p._tr_flush_block($,0<=$.block_start?$.block_start:-1,$.strstart-$.block_start,je),$.block_start=$.strstart,re($.strm)}function he($,je){$.pending_buf[$.pending++]=je}function fe($,je){$.pending_buf[$.pending++]=je>>>8&255,$.pending_buf[$.pending++]=255&je}function pe($,je){var oe,Ee,we=$.max_chain_length,Ne=$.strstart,it=$.prev_length,ut=$.nice_match,qe=$.strstart>$.w_size-te?$.strstart-($.w_size-te):0,Lt=$.window,It=$.w_mask,Bt=$.prev,Ut=$.strstart+Ie,an=Lt[Ne+it-1],tn=Lt[Ne+it];$.prev_length>=$.good_match&&(we>>=2),ut>$.lookahead&&(ut=$.lookahead);do if(Lt[(oe=je)+it]===tn&&Lt[oe+it-1]===an&&Lt[oe]===Lt[Ne]&&Lt[++oe]===Lt[Ne+1]){Ne+=2,oe++;do;while(Lt[++Ne]===Lt[++oe]&&Lt[++Ne]===Lt[++oe]&&Lt[++Ne]===Lt[++oe]&&Lt[++Ne]===Lt[++oe]&&Lt[++Ne]===Lt[++oe]&&Lt[++Ne]===Lt[++oe]&&Lt[++Ne]===Lt[++oe]&&Lt[++Ne]===Lt[++oe]&&Ne<Ut);if(Ee=Ie-(Ut-Ne),Ne=Ut-Ie,it<Ee){if($.match_start=je,ut<=(it=Ee))break;an=Lt[Ne+it-1],tn=Lt[Ne+it]}}while((je=Bt[je&It])>qe&&--we!=0);return it<=$.lookahead?it:$.lookahead}function Te($){var je,oe,Ee,we,Ne,it,ut,qe,Lt,It,Bt=$.w_size;do{if(we=$.window_size-$.lookahead-$.strstart,$.strstart>=Bt+(Bt-te)){for(c.arraySet($.window,$.window,Bt,Bt,0),$.match_start-=Bt,$.strstart-=Bt,$.block_start-=Bt,je=oe=$.hash_size;Ee=$.head[--je],$.head[je]=Bt<=Ee?Ee-Bt:0,--oe;);for(je=oe=Bt;Ee=$.prev[--je],$.prev[je]=Bt<=Ee?Ee-Bt:0,--oe;);we+=Bt}if($.strm.avail_in===0)break;if(it=$.strm,ut=$.window,qe=$.strstart+$.lookahead,Lt=we,It=void 0,It=it.avail_in,Lt<It&&(It=Lt),oe=It===0?0:(it.avail_in-=It,c.arraySet(ut,it.input,it.next_in,It,qe),it.state.wrap===1?it.adler=g(it.adler,ut,It,qe):it.state.wrap===2&&(it.adler=y(it.adler,ut,It,qe)),it.next_in+=It,it.total_in+=It,It),$.lookahead+=oe,$.lookahead+$.insert>=ge)for(Ne=$.strstart-$.insert,$.ins_h=$.window[Ne],$.ins_h=($.ins_h<<$.hash_shift^$.window[Ne+1])&$.hash_mask;$.insert&&($.ins_h=($.ins_h<<$.hash_shift^$.window[Ne+ge-1])&$.hash_mask,$.prev[Ne&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=Ne,Ne++,$.insert--,!($.lookahead+$.insert<ge)););}while($.lookahead<te&&$.strm.avail_in!==0)}function Ke($,je){for(var oe,Ee;;){if($.lookahead<te){if(Te($),$.lookahead<te&&je===E)return F;if($.lookahead===0)break}if(oe=0,$.lookahead>=ge&&($.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+ge-1])&$.hash_mask,oe=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart),oe!==0&&$.strstart-oe<=$.w_size-te&&($.match_length=pe($,oe)),$.match_length>=ge)if(Ee=p._tr_tally($,$.strstart-$.match_start,$.match_length-ge),$.lookahead-=$.match_length,$.match_length<=$.max_lazy_match&&$.lookahead>=ge){for($.match_length--;$.strstart++,$.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+ge-1])&$.hash_mask,oe=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart,--$.match_length!=0;);$.strstart++}else $.strstart+=$.match_length,$.match_length=0,$.ins_h=$.window[$.strstart],$.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+1])&$.hash_mask;else Ee=p._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++;if(Ee&&(j($,!1),$.strm.avail_out===0))return F}return $.insert=$.strstart<ge-1?$.strstart:ge-1,je===M?(j($,!0),$.strm.avail_out===0?Ve:Fe):$.last_lit&&(j($,!1),$.strm.avail_out===0)?F:Be}function We($,je){for(var oe,Ee,we;;){if($.lookahead<te){if(Te($),$.lookahead<te&&je===E)return F;if($.lookahead===0)break}if(oe=0,$.lookahead>=ge&&($.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+ge-1])&$.hash_mask,oe=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart),$.prev_length=$.match_length,$.prev_match=$.match_start,$.match_length=ge-1,oe!==0&&$.prev_length<$.max_lazy_match&&$.strstart-oe<=$.w_size-te&&($.match_length=pe($,oe),$.match_length<=5&&($.strategy===1||$.match_length===ge&&4096<$.strstart-$.match_start)&&($.match_length=ge-1)),$.prev_length>=ge&&$.match_length<=$.prev_length){for(we=$.strstart+$.lookahead-ge,Ee=p._tr_tally($,$.strstart-1-$.prev_match,$.prev_length-ge),$.lookahead-=$.prev_length-1,$.prev_length-=2;++$.strstart<=we&&($.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+ge-1])&$.hash_mask,oe=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart),--$.prev_length!=0;);if($.match_available=0,$.match_length=ge-1,$.strstart++,Ee&&(j($,!1),$.strm.avail_out===0))return F}else if($.match_available){if((Ee=p._tr_tally($,0,$.window[$.strstart-1]))&&j($,!1),$.strstart++,$.lookahead--,$.strm.avail_out===0)return F}else $.match_available=1,$.strstart++,$.lookahead--}return $.match_available&&(Ee=p._tr_tally($,0,$.window[$.strstart-1]),$.match_available=0),$.insert=$.strstart<ge-1?$.strstart:ge-1,je===M?(j($,!0),$.strm.avail_out===0?Ve:Fe):$.last_lit&&(j($,!1),$.strm.avail_out===0)?F:Be}function Ye($,je,oe,Ee,we){this.good_length=$,this.max_lazy=je,this.nice_length=oe,this.max_chain=Ee,this.func=we}function Tt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=W,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c.Buf16(2*K),this.dyn_dtree=new c.Buf16(2*(2*ve+1)),this.bl_tree=new c.Buf16(2*(2*Se+1)),Pe(this.dyn_ltree),Pe(this.dyn_dtree),Pe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c.Buf16(X+1),this.heap=new c.Buf16(2*de+1),Pe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c.Buf16(2*de+1),Pe(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ot($){var je;return $&&$.state?($.total_in=$.total_out=0,$.data_type=O,(je=$.state).pending=0,je.pending_out=0,je.wrap<0&&(je.wrap=-je.wrap),je.status=je.wrap?G:ae,$.adler=je.wrap===2?0:1,je.last_flush=E,p._tr_init(je),x):xe($,R)}function Gt($){var je=Ot($);return je===x&&(function(oe){oe.window_size=2*oe.w_size,Pe(oe.head),oe.max_lazy_match=l[oe.level].max_lazy,oe.good_match=l[oe.level].good_length,oe.nice_match=l[oe.level].nice_length,oe.max_chain_length=l[oe.level].max_chain,oe.strstart=0,oe.block_start=0,oe.lookahead=0,oe.insert=0,oe.match_length=oe.prev_length=ge-1,oe.match_available=0,oe.ins_h=0})($.state),je}function qt($,je,oe,Ee,we,Ne){if(!$)return R;var it=1;if(je===A&&(je=6),Ee<0?(it=0,Ee=-Ee):15<Ee&&(it=2,Ee-=16),we<1||Z<we||oe!==W||Ee<8||15<Ee||je<0||9<je||Ne<0||I<Ne)return xe($,R);Ee===8&&(Ee=9);var ut=new Tt;return($.state=ut).strm=$,ut.wrap=it,ut.gzhead=null,ut.w_bits=Ee,ut.w_size=1<<ut.w_bits,ut.w_mask=ut.w_size-1,ut.hash_bits=we+7,ut.hash_size=1<<ut.hash_bits,ut.hash_mask=ut.hash_size-1,ut.hash_shift=~~((ut.hash_bits+ge-1)/ge),ut.window=new c.Buf8(2*ut.w_size),ut.head=new c.Buf16(ut.hash_size),ut.prev=new c.Buf16(ut.w_size),ut.lit_bufsize=1<<we+6,ut.pending_buf_size=4*ut.lit_bufsize,ut.pending_buf=new c.Buf8(ut.pending_buf_size),ut.d_buf=1*ut.lit_bufsize,ut.l_buf=3*ut.lit_bufsize,ut.level=je,ut.strategy=Ne,ut.method=oe,Gt($)}l=[new Ye(0,0,0,0,function($,je){var oe=65535;for(oe>$.pending_buf_size-5&&(oe=$.pending_buf_size-5);;){if($.lookahead<=1){if(Te($),$.lookahead===0&&je===E)return F;if($.lookahead===0)break}$.strstart+=$.lookahead,$.lookahead=0;var Ee=$.block_start+oe;if(($.strstart===0||$.strstart>=Ee)&&($.lookahead=$.strstart-Ee,$.strstart=Ee,j($,!1),$.strm.avail_out===0)||$.strstart-$.block_start>=$.w_size-te&&(j($,!1),$.strm.avail_out===0))return F}return $.insert=0,je===M?(j($,!0),$.strm.avail_out===0?Ve:Fe):($.strstart>$.block_start&&(j($,!1),$.strm.avail_out),F)}),new Ye(4,4,8,4,Ke),new Ye(4,5,16,8,Ke),new Ye(4,6,32,32,Ke),new Ye(4,4,16,16,We),new Ye(8,16,32,32,We),new Ye(8,16,128,128,We),new Ye(8,32,128,256,We),new Ye(32,128,258,1024,We),new Ye(32,258,258,4096,We)],u.deflateInit=function($,je){return qt($,je,W,15,8,0)},u.deflateInit2=qt,u.deflateReset=Gt,u.deflateResetKeep=Ot,u.deflateSetHeader=function($,je){return $&&$.state?$.state.wrap!==2?R:($.state.gzhead=je,x):R},u.deflate=function($,je){var oe,Ee,we,Ne;if(!$||!$.state||5<je||je<0)return $?xe($,R):R;if(Ee=$.state,!$.output||!$.input&&$.avail_in!==0||Ee.status===666&&je!==M)return xe($,$.avail_out===0?-5:R);if(Ee.strm=$,oe=Ee.last_flush,Ee.last_flush=je,Ee.status===G)if(Ee.wrap===2)$.adler=0,he(Ee,31),he(Ee,139),he(Ee,8),Ee.gzhead?(he(Ee,(Ee.gzhead.text?1:0)+(Ee.gzhead.hcrc?2:0)+(Ee.gzhead.extra?4:0)+(Ee.gzhead.name?8:0)+(Ee.gzhead.comment?16:0)),he(Ee,255&Ee.gzhead.time),he(Ee,Ee.gzhead.time>>8&255),he(Ee,Ee.gzhead.time>>16&255),he(Ee,Ee.gzhead.time>>24&255),he(Ee,Ee.level===9?2:2<=Ee.strategy||Ee.level<2?4:0),he(Ee,255&Ee.gzhead.os),Ee.gzhead.extra&&Ee.gzhead.extra.length&&(he(Ee,255&Ee.gzhead.extra.length),he(Ee,Ee.gzhead.extra.length>>8&255)),Ee.gzhead.hcrc&&($.adler=y($.adler,Ee.pending_buf,Ee.pending,0)),Ee.gzindex=0,Ee.status=69):(he(Ee,0),he(Ee,0),he(Ee,0),he(Ee,0),he(Ee,0),he(Ee,Ee.level===9?2:2<=Ee.strategy||Ee.level<2?4:0),he(Ee,3),Ee.status=ae);else{var it=W+(Ee.w_bits-8<<4)<<8;it|=(2<=Ee.strategy||Ee.level<2?0:Ee.level<6?1:Ee.level===6?2:3)<<6,Ee.strstart!==0&&(it|=32),it+=31-it%31,Ee.status=ae,fe(Ee,it),Ee.strstart!==0&&(fe(Ee,$.adler>>>16),fe(Ee,65535&$.adler)),$.adler=1}if(Ee.status===69)if(Ee.gzhead.extra){for(we=Ee.pending;Ee.gzindex<(65535&Ee.gzhead.extra.length)&&(Ee.pending!==Ee.pending_buf_size||(Ee.gzhead.hcrc&&Ee.pending>we&&($.adler=y($.adler,Ee.pending_buf,Ee.pending-we,we)),re($),we=Ee.pending,Ee.pending!==Ee.pending_buf_size));)he(Ee,255&Ee.gzhead.extra[Ee.gzindex]),Ee.gzindex++;Ee.gzhead.hcrc&&Ee.pending>we&&($.adler=y($.adler,Ee.pending_buf,Ee.pending-we,we)),Ee.gzindex===Ee.gzhead.extra.length&&(Ee.gzindex=0,Ee.status=73)}else Ee.status=73;if(Ee.status===73)if(Ee.gzhead.name){we=Ee.pending;do{if(Ee.pending===Ee.pending_buf_size&&(Ee.gzhead.hcrc&&Ee.pending>we&&($.adler=y($.adler,Ee.pending_buf,Ee.pending-we,we)),re($),we=Ee.pending,Ee.pending===Ee.pending_buf_size)){Ne=1;break}Ne=Ee.gzindex<Ee.gzhead.name.length?255&Ee.gzhead.name.charCodeAt(Ee.gzindex++):0,he(Ee,Ne)}while(Ne!==0);Ee.gzhead.hcrc&&Ee.pending>we&&($.adler=y($.adler,Ee.pending_buf,Ee.pending-we,we)),Ne===0&&(Ee.gzindex=0,Ee.status=91)}else Ee.status=91;if(Ee.status===91)if(Ee.gzhead.comment){we=Ee.pending;do{if(Ee.pending===Ee.pending_buf_size&&(Ee.gzhead.hcrc&&Ee.pending>we&&($.adler=y($.adler,Ee.pending_buf,Ee.pending-we,we)),re($),we=Ee.pending,Ee.pending===Ee.pending_buf_size)){Ne=1;break}Ne=Ee.gzindex<Ee.gzhead.comment.length?255&Ee.gzhead.comment.charCodeAt(Ee.gzindex++):0,he(Ee,Ne)}while(Ne!==0);Ee.gzhead.hcrc&&Ee.pending>we&&($.adler=y($.adler,Ee.pending_buf,Ee.pending-we,we)),Ne===0&&(Ee.status=103)}else Ee.status=103;if(Ee.status===103&&(Ee.gzhead.hcrc?(Ee.pending+2>Ee.pending_buf_size&&re($),Ee.pending+2<=Ee.pending_buf_size&&(he(Ee,255&$.adler),he(Ee,$.adler>>8&255),$.adler=0,Ee.status=ae)):Ee.status=ae),Ee.pending!==0){if(re($),$.avail_out===0)return Ee.last_flush=-1,x}else if($.avail_in===0&&Ae(je)<=Ae(oe)&&je!==M)return xe($,-5);if(Ee.status===666&&$.avail_in!==0)return xe($,-5);if($.avail_in!==0||Ee.lookahead!==0||je!==E&&Ee.status!==666){var ut=Ee.strategy===2?(function(qe,Lt){for(var It;;){if(qe.lookahead===0&&(Te(qe),qe.lookahead===0)){if(Lt===E)return F;break}if(qe.match_length=0,It=p._tr_tally(qe,0,qe.window[qe.strstart]),qe.lookahead--,qe.strstart++,It&&(j(qe,!1),qe.strm.avail_out===0))return F}return qe.insert=0,Lt===M?(j(qe,!0),qe.strm.avail_out===0?Ve:Fe):qe.last_lit&&(j(qe,!1),qe.strm.avail_out===0)?F:Be})(Ee,je):Ee.strategy===3?(function(qe,Lt){for(var It,Bt,Ut,an,tn=qe.window;;){if(qe.lookahead<=Ie){if(Te(qe),qe.lookahead<=Ie&&Lt===E)return F;if(qe.lookahead===0)break}if(qe.match_length=0,qe.lookahead>=ge&&0<qe.strstart&&(Bt=tn[Ut=qe.strstart-1])===tn[++Ut]&&Bt===tn[++Ut]&&Bt===tn[++Ut]){an=qe.strstart+Ie;do;while(Bt===tn[++Ut]&&Bt===tn[++Ut]&&Bt===tn[++Ut]&&Bt===tn[++Ut]&&Bt===tn[++Ut]&&Bt===tn[++Ut]&&Bt===tn[++Ut]&&Bt===tn[++Ut]&&Ut<an);qe.match_length=Ie-(an-Ut),qe.match_length>qe.lookahead&&(qe.match_length=qe.lookahead)}if(qe.match_length>=ge?(It=p._tr_tally(qe,1,qe.match_length-ge),qe.lookahead-=qe.match_length,qe.strstart+=qe.match_length,qe.match_length=0):(It=p._tr_tally(qe,0,qe.window[qe.strstart]),qe.lookahead--,qe.strstart++),It&&(j(qe,!1),qe.strm.avail_out===0))return F}return qe.insert=0,Lt===M?(j(qe,!0),qe.strm.avail_out===0?Ve:Fe):qe.last_lit&&(j(qe,!1),qe.strm.avail_out===0)?F:Be})(Ee,je):l[Ee.level].func(Ee,je);if(ut!==Ve&&ut!==Fe||(Ee.status=666),ut===F||ut===Ve)return $.avail_out===0&&(Ee.last_flush=-1),x;if(ut===Be&&(je===1?p._tr_align(Ee):je!==5&&(p._tr_stored_block(Ee,0,0,!1),je===3&&(Pe(Ee.head),Ee.lookahead===0&&(Ee.strstart=0,Ee.block_start=0,Ee.insert=0))),re($),$.avail_out===0))return Ee.last_flush=-1,x}return je!==M?x:Ee.wrap<=0?1:(Ee.wrap===2?(he(Ee,255&$.adler),he(Ee,$.adler>>8&255),he(Ee,$.adler>>16&255),he(Ee,$.adler>>24&255),he(Ee,255&$.total_in),he(Ee,$.total_in>>8&255),he(Ee,$.total_in>>16&255),he(Ee,$.total_in>>24&255)):(fe(Ee,$.adler>>>16),fe(Ee,65535&$.adler)),re($),0<Ee.wrap&&(Ee.wrap=-Ee.wrap),Ee.pending!==0?x:1)},u.deflateEnd=function($){var je;return $&&$.state?(je=$.state.status)!==G&&je!==69&&je!==73&&je!==91&&je!==103&&je!==ae&&je!==666?xe($,R):($.state=null,je===ae?xe($,-3):x):R},u.deflateSetDictionary=function($,je){var oe,Ee,we,Ne,it,ut,qe,Lt,It=je.length;if(!$||!$.state||(Ne=(oe=$.state).wrap)===2||Ne===1&&oe.status!==G||oe.lookahead)return R;for(Ne===1&&($.adler=g($.adler,je,It,0)),oe.wrap=0,It>=oe.w_size&&(Ne===0&&(Pe(oe.head),oe.strstart=0,oe.block_start=0,oe.insert=0),Lt=new c.Buf8(oe.w_size),c.arraySet(Lt,je,It-oe.w_size,oe.w_size,0),je=Lt,It=oe.w_size),it=$.avail_in,ut=$.next_in,qe=$.input,$.avail_in=It,$.next_in=0,$.input=je,Te(oe);oe.lookahead>=ge;){for(Ee=oe.strstart,we=oe.lookahead-(ge-1);oe.ins_h=(oe.ins_h<<oe.hash_shift^oe.window[Ee+ge-1])&oe.hash_mask,oe.prev[Ee&oe.w_mask]=oe.head[oe.ins_h],oe.head[oe.ins_h]=Ee,Ee++,--we;);oe.strstart=Ee,oe.lookahead=ge-1,Te(oe)}return oe.strstart+=oe.lookahead,oe.block_start=oe.strstart,oe.insert=oe.lookahead,oe.lookahead=0,oe.match_length=oe.prev_length=ge-1,oe.match_available=0,$.next_in=ut,$.input=qe,$.avail_in=it,oe.wrap=Ne,x},u.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,a,u){a.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,a,u){a.exports=function(l,c){var p,g,y,S,E,M,x,R,A,I,O,W,Z,de,ve,Se,K,X,ge,Ie,te,G,ae,F,Be;p=l.state,g=l.next_in,F=l.input,y=g+(l.avail_in-5),S=l.next_out,Be=l.output,E=S-(c-l.avail_out),M=S+(l.avail_out-257),x=p.dmax,R=p.wsize,A=p.whave,I=p.wnext,O=p.window,W=p.hold,Z=p.bits,de=p.lencode,ve=p.distcode,Se=(1<<p.lenbits)-1,K=(1<<p.distbits)-1;e:do{Z<15&&(W+=F[g++]<<Z,Z+=8,W+=F[g++]<<Z,Z+=8),X=de[W&Se];t:for(;;){if(W>>>=ge=X>>>24,Z-=ge,(ge=X>>>16&255)===0)Be[S++]=65535&X;else{if(!(16&ge)){if((64&ge)==0){X=de[(65535&X)+(W&(1<<ge)-1)];continue t}if(32&ge){p.mode=12;break e}l.msg="invalid literal/length code",p.mode=30;break e}Ie=65535&X,(ge&=15)&&(Z<ge&&(W+=F[g++]<<Z,Z+=8),Ie+=W&(1<<ge)-1,W>>>=ge,Z-=ge),Z<15&&(W+=F[g++]<<Z,Z+=8,W+=F[g++]<<Z,Z+=8),X=ve[W&K];n:for(;;){if(W>>>=ge=X>>>24,Z-=ge,!(16&(ge=X>>>16&255))){if((64&ge)==0){X=ve[(65535&X)+(W&(1<<ge)-1)];continue n}l.msg="invalid distance code",p.mode=30;break e}if(te=65535&X,Z<(ge&=15)&&(W+=F[g++]<<Z,(Z+=8)<ge&&(W+=F[g++]<<Z,Z+=8)),x<(te+=W&(1<<ge)-1)){l.msg="invalid distance too far back",p.mode=30;break e}if(W>>>=ge,Z-=ge,(ge=S-E)<te){if(A<(ge=te-ge)&&p.sane){l.msg="invalid distance too far back",p.mode=30;break e}if(ae=O,(G=0)===I){if(G+=R-ge,ge<Ie){for(Ie-=ge;Be[S++]=O[G++],--ge;);G=S-te,ae=Be}}else if(I<ge){if(G+=R+I-ge,(ge-=I)<Ie){for(Ie-=ge;Be[S++]=O[G++],--ge;);if(G=0,I<Ie){for(Ie-=ge=I;Be[S++]=O[G++],--ge;);G=S-te,ae=Be}}}else if(G+=I-ge,ge<Ie){for(Ie-=ge;Be[S++]=O[G++],--ge;);G=S-te,ae=Be}for(;2<Ie;)Be[S++]=ae[G++],Be[S++]=ae[G++],Be[S++]=ae[G++],Ie-=3;Ie&&(Be[S++]=ae[G++],1<Ie&&(Be[S++]=ae[G++]))}else{for(G=S-te;Be[S++]=Be[G++],Be[S++]=Be[G++],Be[S++]=Be[G++],2<(Ie-=3););Ie&&(Be[S++]=Be[G++],1<Ie&&(Be[S++]=Be[G++]))}break}}break}}while(g<y&&S<M);g-=Ie=Z>>3,W&=(1<<(Z-=Ie<<3))-1,l.next_in=g,l.next_out=S,l.avail_in=g<y?y-g+5:5-(g-y),l.avail_out=S<M?M-S+257:257-(S-M),p.hold=W,p.bits=Z}},{}],49:[function(e,a,u){var l=e("../utils/common"),c=e("./adler32"),p=e("./crc32"),g=e("./inffast"),y=e("./inftrees"),S=1,E=2,M=0,x=-2,R=1,A=852,I=592;function O(G){return(G>>>24&255)+(G>>>8&65280)+((65280&G)<<8)+((255&G)<<24)}function W(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new l.Buf16(320),this.work=new l.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Z(G){var ae;return G&&G.state?(ae=G.state,G.total_in=G.total_out=ae.total=0,G.msg="",ae.wrap&&(G.adler=1&ae.wrap),ae.mode=R,ae.last=0,ae.havedict=0,ae.dmax=32768,ae.head=null,ae.hold=0,ae.bits=0,ae.lencode=ae.lendyn=new l.Buf32(A),ae.distcode=ae.distdyn=new l.Buf32(I),ae.sane=1,ae.back=-1,M):x}function de(G){var ae;return G&&G.state?((ae=G.state).wsize=0,ae.whave=0,ae.wnext=0,Z(G)):x}function ve(G,ae){var F,Be;return G&&G.state?(Be=G.state,ae<0?(F=0,ae=-ae):(F=1+(ae>>4),ae<48&&(ae&=15)),ae&&(ae<8||15<ae)?x:(Be.window!==null&&Be.wbits!==ae&&(Be.window=null),Be.wrap=F,Be.wbits=ae,de(G))):x}function Se(G,ae){var F,Be;return G?(Be=new W,(G.state=Be).window=null,(F=ve(G,ae))!==M&&(G.state=null),F):x}var K,X,ge=!0;function Ie(G){if(ge){var ae;for(K=new l.Buf32(512),X=new l.Buf32(32),ae=0;ae<144;)G.lens[ae++]=8;for(;ae<256;)G.lens[ae++]=9;for(;ae<280;)G.lens[ae++]=7;for(;ae<288;)G.lens[ae++]=8;for(y(S,G.lens,0,288,K,0,G.work,{bits:9}),ae=0;ae<32;)G.lens[ae++]=5;y(E,G.lens,0,32,X,0,G.work,{bits:5}),ge=!1}G.lencode=K,G.lenbits=9,G.distcode=X,G.distbits=5}function te(G,ae,F,Be){var Ve,Fe=G.state;return Fe.window===null&&(Fe.wsize=1<<Fe.wbits,Fe.wnext=0,Fe.whave=0,Fe.window=new l.Buf8(Fe.wsize)),Be>=Fe.wsize?(l.arraySet(Fe.window,ae,F-Fe.wsize,Fe.wsize,0),Fe.wnext=0,Fe.whave=Fe.wsize):(Be<(Ve=Fe.wsize-Fe.wnext)&&(Ve=Be),l.arraySet(Fe.window,ae,F-Be,Ve,Fe.wnext),(Be-=Ve)?(l.arraySet(Fe.window,ae,F-Be,Be,0),Fe.wnext=Be,Fe.whave=Fe.wsize):(Fe.wnext+=Ve,Fe.wnext===Fe.wsize&&(Fe.wnext=0),Fe.whave<Fe.wsize&&(Fe.whave+=Ve))),0}u.inflateReset=de,u.inflateReset2=ve,u.inflateResetKeep=Z,u.inflateInit=function(G){return Se(G,15)},u.inflateInit2=Se,u.inflate=function(G,ae){var F,Be,Ve,Fe,xe,Ae,Pe,re,j,he,fe,pe,Te,Ke,We,Ye,Tt,Ot,Gt,qt,$,je,oe,Ee,we=0,Ne=new l.Buf8(4),it=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!G||!G.state||!G.output||!G.input&&G.avail_in!==0)return x;(F=G.state).mode===12&&(F.mode=13),xe=G.next_out,Ve=G.output,Pe=G.avail_out,Fe=G.next_in,Be=G.input,Ae=G.avail_in,re=F.hold,j=F.bits,he=Ae,fe=Pe,je=M;e:for(;;)switch(F.mode){case R:if(F.wrap===0){F.mode=13;break}for(;j<16;){if(Ae===0)break e;Ae--,re+=Be[Fe++]<<j,j+=8}if(2&F.wrap&&re===35615){Ne[F.check=0]=255&re,Ne[1]=re>>>8&255,F.check=p(F.check,Ne,2,0),j=re=0,F.mode=2;break}if(F.flags=0,F.head&&(F.head.done=!1),!(1&F.wrap)||(((255&re)<<8)+(re>>8))%31){G.msg="incorrect header check",F.mode=30;break}if((15&re)!=8){G.msg="unknown compression method",F.mode=30;break}if(j-=4,$=8+(15&(re>>>=4)),F.wbits===0)F.wbits=$;else if($>F.wbits){G.msg="invalid window size",F.mode=30;break}F.dmax=1<<$,G.adler=F.check=1,F.mode=512&re?10:12,j=re=0;break;case 2:for(;j<16;){if(Ae===0)break e;Ae--,re+=Be[Fe++]<<j,j+=8}if(F.flags=re,(255&F.flags)!=8){G.msg="unknown compression method",F.mode=30;break}if(57344&F.flags){G.msg="unknown header flags set",F.mode=30;break}F.head&&(F.head.text=re>>8&1),512&F.flags&&(Ne[0]=255&re,Ne[1]=re>>>8&255,F.check=p(F.check,Ne,2,0)),j=re=0,F.mode=3;case 3:for(;j<32;){if(Ae===0)break e;Ae--,re+=Be[Fe++]<<j,j+=8}F.head&&(F.head.time=re),512&F.flags&&(Ne[0]=255&re,Ne[1]=re>>>8&255,Ne[2]=re>>>16&255,Ne[3]=re>>>24&255,F.check=p(F.check,Ne,4,0)),j=re=0,F.mode=4;case 4:for(;j<16;){if(Ae===0)break e;Ae--,re+=Be[Fe++]<<j,j+=8}F.head&&(F.head.xflags=255&re,F.head.os=re>>8),512&F.flags&&(Ne[0]=255&re,Ne[1]=re>>>8&255,F.check=p(F.check,Ne,2,0)),j=re=0,F.mode=5;case 5:if(1024&F.flags){for(;j<16;){if(Ae===0)break e;Ae--,re+=Be[Fe++]<<j,j+=8}F.length=re,F.head&&(F.head.extra_len=re),512&F.flags&&(Ne[0]=255&re,Ne[1]=re>>>8&255,F.check=p(F.check,Ne,2,0)),j=re=0}else F.head&&(F.head.extra=null);F.mode=6;case 6:if(1024&F.flags&&(Ae<(pe=F.length)&&(pe=Ae),pe&&(F.head&&($=F.head.extra_len-F.length,F.head.extra||(F.head.extra=new Array(F.head.extra_len)),l.arraySet(F.head.extra,Be,Fe,pe,$)),512&F.flags&&(F.check=p(F.check,Be,pe,Fe)),Ae-=pe,Fe+=pe,F.length-=pe),F.length))break e;F.length=0,F.mode=7;case 7:if(2048&F.flags){if(Ae===0)break e;for(pe=0;$=Be[Fe+pe++],F.head&&$&&F.length<65536&&(F.head.name+=String.fromCharCode($)),$&&pe<Ae;);if(512&F.flags&&(F.check=p(F.check,Be,pe,Fe)),Ae-=pe,Fe+=pe,$)break e}else F.head&&(F.head.name=null);F.length=0,F.mode=8;case 8:if(4096&F.flags){if(Ae===0)break e;for(pe=0;$=Be[Fe+pe++],F.head&&$&&F.length<65536&&(F.head.comment+=String.fromCharCode($)),$&&pe<Ae;);if(512&F.flags&&(F.check=p(F.check,Be,pe,Fe)),Ae-=pe,Fe+=pe,$)break e}else F.head&&(F.head.comment=null);F.mode=9;case 9:if(512&F.flags){for(;j<16;){if(Ae===0)break e;Ae--,re+=Be[Fe++]<<j,j+=8}if(re!==(65535&F.check)){G.msg="header crc mismatch",F.mode=30;break}j=re=0}F.head&&(F.head.hcrc=F.flags>>9&1,F.head.done=!0),G.adler=F.check=0,F.mode=12;break;case 10:for(;j<32;){if(Ae===0)break e;Ae--,re+=Be[Fe++]<<j,j+=8}G.adler=F.check=O(re),j=re=0,F.mode=11;case 11:if(F.havedict===0)return G.next_out=xe,G.avail_out=Pe,G.next_in=Fe,G.avail_in=Ae,F.hold=re,F.bits=j,2;G.adler=F.check=1,F.mode=12;case 12:if(ae===5||ae===6)break e;case 13:if(F.last){re>>>=7&j,j-=7&j,F.mode=27;break}for(;j<3;){if(Ae===0)break e;Ae--,re+=Be[Fe++]<<j,j+=8}switch(F.last=1&re,j-=1,3&(re>>>=1)){case 0:F.mode=14;break;case 1:if(Ie(F),F.mode=20,ae!==6)break;re>>>=2,j-=2;break e;case 2:F.mode=17;break;case 3:G.msg="invalid block type",F.mode=30}re>>>=2,j-=2;break;case 14:for(re>>>=7&j,j-=7&j;j<32;){if(Ae===0)break e;Ae--,re+=Be[Fe++]<<j,j+=8}if((65535&re)!=(re>>>16^65535)){G.msg="invalid stored block lengths",F.mode=30;break}if(F.length=65535&re,j=re=0,F.mode=15,ae===6)break e;case 15:F.mode=16;case 16:if(pe=F.length){if(Ae<pe&&(pe=Ae),Pe<pe&&(pe=Pe),pe===0)break e;l.arraySet(Ve,Be,Fe,pe,xe),Ae-=pe,Fe+=pe,Pe-=pe,xe+=pe,F.length-=pe;break}F.mode=12;break;case 17:for(;j<14;){if(Ae===0)break e;Ae--,re+=Be[Fe++]<<j,j+=8}if(F.nlen=257+(31&re),re>>>=5,j-=5,F.ndist=1+(31&re),re>>>=5,j-=5,F.ncode=4+(15&re),re>>>=4,j-=4,286<F.nlen||30<F.ndist){G.msg="too many length or distance symbols",F.mode=30;break}F.have=0,F.mode=18;case 18:for(;F.have<F.ncode;){for(;j<3;){if(Ae===0)break e;Ae--,re+=Be[Fe++]<<j,j+=8}F.lens[it[F.have++]]=7&re,re>>>=3,j-=3}for(;F.have<19;)F.lens[it[F.have++]]=0;if(F.lencode=F.lendyn,F.lenbits=7,oe={bits:F.lenbits},je=y(0,F.lens,0,19,F.lencode,0,F.work,oe),F.lenbits=oe.bits,je){G.msg="invalid code lengths set",F.mode=30;break}F.have=0,F.mode=19;case 19:for(;F.have<F.nlen+F.ndist;){for(;Ye=(we=F.lencode[re&(1<<F.lenbits)-1])>>>16&255,Tt=65535&we,!((We=we>>>24)<=j);){if(Ae===0)break e;Ae--,re+=Be[Fe++]<<j,j+=8}if(Tt<16)re>>>=We,j-=We,F.lens[F.have++]=Tt;else{if(Tt===16){for(Ee=We+2;j<Ee;){if(Ae===0)break e;Ae--,re+=Be[Fe++]<<j,j+=8}if(re>>>=We,j-=We,F.have===0){G.msg="invalid bit length repeat",F.mode=30;break}$=F.lens[F.have-1],pe=3+(3&re),re>>>=2,j-=2}else if(Tt===17){for(Ee=We+3;j<Ee;){if(Ae===0)break e;Ae--,re+=Be[Fe++]<<j,j+=8}j-=We,$=0,pe=3+(7&(re>>>=We)),re>>>=3,j-=3}else{for(Ee=We+7;j<Ee;){if(Ae===0)break e;Ae--,re+=Be[Fe++]<<j,j+=8}j-=We,$=0,pe=11+(127&(re>>>=We)),re>>>=7,j-=7}if(F.have+pe>F.nlen+F.ndist){G.msg="invalid bit length repeat",F.mode=30;break}for(;pe--;)F.lens[F.have++]=$}}if(F.mode===30)break;if(F.lens[256]===0){G.msg="invalid code -- missing end-of-block",F.mode=30;break}if(F.lenbits=9,oe={bits:F.lenbits},je=y(S,F.lens,0,F.nlen,F.lencode,0,F.work,oe),F.lenbits=oe.bits,je){G.msg="invalid literal/lengths set",F.mode=30;break}if(F.distbits=6,F.distcode=F.distdyn,oe={bits:F.distbits},je=y(E,F.lens,F.nlen,F.ndist,F.distcode,0,F.work,oe),F.distbits=oe.bits,je){G.msg="invalid distances set",F.mode=30;break}if(F.mode=20,ae===6)break e;case 20:F.mode=21;case 21:if(6<=Ae&&258<=Pe){G.next_out=xe,G.avail_out=Pe,G.next_in=Fe,G.avail_in=Ae,F.hold=re,F.bits=j,g(G,fe),xe=G.next_out,Ve=G.output,Pe=G.avail_out,Fe=G.next_in,Be=G.input,Ae=G.avail_in,re=F.hold,j=F.bits,F.mode===12&&(F.back=-1);break}for(F.back=0;Ye=(we=F.lencode[re&(1<<F.lenbits)-1])>>>16&255,Tt=65535&we,!((We=we>>>24)<=j);){if(Ae===0)break e;Ae--,re+=Be[Fe++]<<j,j+=8}if(Ye&&(240&Ye)==0){for(Ot=We,Gt=Ye,qt=Tt;Ye=(we=F.lencode[qt+((re&(1<<Ot+Gt)-1)>>Ot)])>>>16&255,Tt=65535&we,!(Ot+(We=we>>>24)<=j);){if(Ae===0)break e;Ae--,re+=Be[Fe++]<<j,j+=8}re>>>=Ot,j-=Ot,F.back+=Ot}if(re>>>=We,j-=We,F.back+=We,F.length=Tt,Ye===0){F.mode=26;break}if(32&Ye){F.back=-1,F.mode=12;break}if(64&Ye){G.msg="invalid literal/length code",F.mode=30;break}F.extra=15&Ye,F.mode=22;case 22:if(F.extra){for(Ee=F.extra;j<Ee;){if(Ae===0)break e;Ae--,re+=Be[Fe++]<<j,j+=8}F.length+=re&(1<<F.extra)-1,re>>>=F.extra,j-=F.extra,F.back+=F.extra}F.was=F.length,F.mode=23;case 23:for(;Ye=(we=F.distcode[re&(1<<F.distbits)-1])>>>16&255,Tt=65535&we,!((We=we>>>24)<=j);){if(Ae===0)break e;Ae--,re+=Be[Fe++]<<j,j+=8}if((240&Ye)==0){for(Ot=We,Gt=Ye,qt=Tt;Ye=(we=F.distcode[qt+((re&(1<<Ot+Gt)-1)>>Ot)])>>>16&255,Tt=65535&we,!(Ot+(We=we>>>24)<=j);){if(Ae===0)break e;Ae--,re+=Be[Fe++]<<j,j+=8}re>>>=Ot,j-=Ot,F.back+=Ot}if(re>>>=We,j-=We,F.back+=We,64&Ye){G.msg="invalid distance code",F.mode=30;break}F.offset=Tt,F.extra=15&Ye,F.mode=24;case 24:if(F.extra){for(Ee=F.extra;j<Ee;){if(Ae===0)break e;Ae--,re+=Be[Fe++]<<j,j+=8}F.offset+=re&(1<<F.extra)-1,re>>>=F.extra,j-=F.extra,F.back+=F.extra}if(F.offset>F.dmax){G.msg="invalid distance too far back",F.mode=30;break}F.mode=25;case 25:if(Pe===0)break e;if(pe=fe-Pe,F.offset>pe){if((pe=F.offset-pe)>F.whave&&F.sane){G.msg="invalid distance too far back",F.mode=30;break}Te=pe>F.wnext?(pe-=F.wnext,F.wsize-pe):F.wnext-pe,pe>F.length&&(pe=F.length),Ke=F.window}else Ke=Ve,Te=xe-F.offset,pe=F.length;for(Pe<pe&&(pe=Pe),Pe-=pe,F.length-=pe;Ve[xe++]=Ke[Te++],--pe;);F.length===0&&(F.mode=21);break;case 26:if(Pe===0)break e;Ve[xe++]=F.length,Pe--,F.mode=21;break;case 27:if(F.wrap){for(;j<32;){if(Ae===0)break e;Ae--,re|=Be[Fe++]<<j,j+=8}if(fe-=Pe,G.total_out+=fe,F.total+=fe,fe&&(G.adler=F.check=F.flags?p(F.check,Ve,fe,xe-fe):c(F.check,Ve,fe,xe-fe)),fe=Pe,(F.flags?re:O(re))!==F.check){G.msg="incorrect data check",F.mode=30;break}j=re=0}F.mode=28;case 28:if(F.wrap&&F.flags){for(;j<32;){if(Ae===0)break e;Ae--,re+=Be[Fe++]<<j,j+=8}if(re!==(4294967295&F.total)){G.msg="incorrect length check",F.mode=30;break}j=re=0}F.mode=29;case 29:je=1;break e;case 30:je=-3;break e;case 31:return-4;case 32:default:return x}return G.next_out=xe,G.avail_out=Pe,G.next_in=Fe,G.avail_in=Ae,F.hold=re,F.bits=j,(F.wsize||fe!==G.avail_out&&F.mode<30&&(F.mode<27||ae!==4))&&te(G,G.output,G.next_out,fe-G.avail_out)?(F.mode=31,-4):(he-=G.avail_in,fe-=G.avail_out,G.total_in+=he,G.total_out+=fe,F.total+=fe,F.wrap&&fe&&(G.adler=F.check=F.flags?p(F.check,Ve,fe,G.next_out-fe):c(F.check,Ve,fe,G.next_out-fe)),G.data_type=F.bits+(F.last?64:0)+(F.mode===12?128:0)+(F.mode===20||F.mode===15?256:0),(he==0&&fe===0||ae===4)&&je===M&&(je=-5),je)},u.inflateEnd=function(G){if(!G||!G.state)return x;var ae=G.state;return ae.window&&(ae.window=null),G.state=null,M},u.inflateGetHeader=function(G,ae){var F;return G&&G.state?(2&(F=G.state).wrap)==0?x:((F.head=ae).done=!1,M):x},u.inflateSetDictionary=function(G,ae){var F,Be=ae.length;return G&&G.state?(F=G.state).wrap!==0&&F.mode!==11?x:F.mode===11&&c(1,ae,Be,0)!==F.check?-3:te(G,ae,Be,Be)?(F.mode=31,-4):(F.havedict=1,M):x},u.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,a,u){var l=e("../utils/common"),c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],p=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],g=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],y=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];a.exports=function(S,E,M,x,R,A,I,O){var W,Z,de,ve,Se,K,X,ge,Ie,te=O.bits,G=0,ae=0,F=0,Be=0,Ve=0,Fe=0,xe=0,Ae=0,Pe=0,re=0,j=null,he=0,fe=new l.Buf16(16),pe=new l.Buf16(16),Te=null,Ke=0;for(G=0;G<=15;G++)fe[G]=0;for(ae=0;ae<x;ae++)fe[E[M+ae]]++;for(Ve=te,Be=15;1<=Be&&fe[Be]===0;Be--);if(Be<Ve&&(Ve=Be),Be===0)return R[A++]=20971520,R[A++]=20971520,O.bits=1,0;for(F=1;F<Be&&fe[F]===0;F++);for(Ve<F&&(Ve=F),G=Ae=1;G<=15;G++)if(Ae<<=1,(Ae-=fe[G])<0)return-1;if(0<Ae&&(S===0||Be!==1))return-1;for(pe[1]=0,G=1;G<15;G++)pe[G+1]=pe[G]+fe[G];for(ae=0;ae<x;ae++)E[M+ae]!==0&&(I[pe[E[M+ae]]++]=ae);if(K=S===0?(j=Te=I,19):S===1?(j=c,he-=257,Te=p,Ke-=257,256):(j=g,Te=y,-1),G=F,Se=A,xe=ae=re=0,de=-1,ve=(Pe=1<<(Fe=Ve))-1,S===1&&852<Pe||S===2&&592<Pe)return 1;for(;;){for(X=G-xe,Ie=I[ae]<K?(ge=0,I[ae]):I[ae]>K?(ge=Te[Ke+I[ae]],j[he+I[ae]]):(ge=96,0),W=1<<G-xe,F=Z=1<<Fe;R[Se+(re>>xe)+(Z-=W)]=X<<24|ge<<16|Ie|0,Z!==0;);for(W=1<<G-1;re&W;)W>>=1;if(W!==0?(re&=W-1,re+=W):re=0,ae++,--fe[G]==0){if(G===Be)break;G=E[M+I[ae]]}if(Ve<G&&(re&ve)!==de){for(xe===0&&(xe=Ve),Se+=F,Ae=1<<(Fe=G-xe);Fe+xe<Be&&!((Ae-=fe[Fe+xe])<=0);)Fe++,Ae<<=1;if(Pe+=1<<Fe,S===1&&852<Pe||S===2&&592<Pe)return 1;R[de=re&ve]=Ve<<24|Fe<<16|Se-A|0}}return re!==0&&(R[Se+re]=G-xe<<24|64<<16|0),O.bits=Ve,0}},{"../utils/common":41}],51:[function(e,a,u){a.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,a,u){var l=e("../utils/common"),c=0,p=1;function g(we){for(var Ne=we.length;0<=--Ne;)we[Ne]=0}var y=0,S=29,E=256,M=E+1+S,x=30,R=19,A=2*M+1,I=15,O=16,W=7,Z=256,de=16,ve=17,Se=18,K=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],X=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ge=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Ie=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],te=new Array(2*(M+2));g(te);var G=new Array(2*x);g(G);var ae=new Array(512);g(ae);var F=new Array(256);g(F);var Be=new Array(S);g(Be);var Ve,Fe,xe,Ae=new Array(x);function Pe(we,Ne,it,ut,qe){this.static_tree=we,this.extra_bits=Ne,this.extra_base=it,this.elems=ut,this.max_length=qe,this.has_stree=we&&we.length}function re(we,Ne){this.dyn_tree=we,this.max_code=0,this.stat_desc=Ne}function j(we){return we<256?ae[we]:ae[256+(we>>>7)]}function he(we,Ne){we.pending_buf[we.pending++]=255&Ne,we.pending_buf[we.pending++]=Ne>>>8&255}function fe(we,Ne,it){we.bi_valid>O-it?(we.bi_buf|=Ne<<we.bi_valid&65535,he(we,we.bi_buf),we.bi_buf=Ne>>O-we.bi_valid,we.bi_valid+=it-O):(we.bi_buf|=Ne<<we.bi_valid&65535,we.bi_valid+=it)}function pe(we,Ne,it){fe(we,it[2*Ne],it[2*Ne+1])}function Te(we,Ne){for(var it=0;it|=1&we,we>>>=1,it<<=1,0<--Ne;);return it>>>1}function Ke(we,Ne,it){var ut,qe,Lt=new Array(I+1),It=0;for(ut=1;ut<=I;ut++)Lt[ut]=It=It+it[ut-1]<<1;for(qe=0;qe<=Ne;qe++){var Bt=we[2*qe+1];Bt!==0&&(we[2*qe]=Te(Lt[Bt]++,Bt))}}function We(we){var Ne;for(Ne=0;Ne<M;Ne++)we.dyn_ltree[2*Ne]=0;for(Ne=0;Ne<x;Ne++)we.dyn_dtree[2*Ne]=0;for(Ne=0;Ne<R;Ne++)we.bl_tree[2*Ne]=0;we.dyn_ltree[2*Z]=1,we.opt_len=we.static_len=0,we.last_lit=we.matches=0}function Ye(we){8<we.bi_valid?he(we,we.bi_buf):0<we.bi_valid&&(we.pending_buf[we.pending++]=we.bi_buf),we.bi_buf=0,we.bi_valid=0}function Tt(we,Ne,it,ut){var qe=2*Ne,Lt=2*it;return we[qe]<we[Lt]||we[qe]===we[Lt]&&ut[Ne]<=ut[it]}function Ot(we,Ne,it){for(var ut=we.heap[it],qe=it<<1;qe<=we.heap_len&&(qe<we.heap_len&&Tt(Ne,we.heap[qe+1],we.heap[qe],we.depth)&&qe++,!Tt(Ne,ut,we.heap[qe],we.depth));)we.heap[it]=we.heap[qe],it=qe,qe<<=1;we.heap[it]=ut}function Gt(we,Ne,it){var ut,qe,Lt,It,Bt=0;if(we.last_lit!==0)for(;ut=we.pending_buf[we.d_buf+2*Bt]<<8|we.pending_buf[we.d_buf+2*Bt+1],qe=we.pending_buf[we.l_buf+Bt],Bt++,ut===0?pe(we,qe,Ne):(pe(we,(Lt=F[qe])+E+1,Ne),(It=K[Lt])!==0&&fe(we,qe-=Be[Lt],It),pe(we,Lt=j(--ut),it),(It=X[Lt])!==0&&fe(we,ut-=Ae[Lt],It)),Bt<we.last_lit;);pe(we,Z,Ne)}function qt(we,Ne){var it,ut,qe,Lt=Ne.dyn_tree,It=Ne.stat_desc.static_tree,Bt=Ne.stat_desc.has_stree,Ut=Ne.stat_desc.elems,an=-1;for(we.heap_len=0,we.heap_max=A,it=0;it<Ut;it++)Lt[2*it]!==0?(we.heap[++we.heap_len]=an=it,we.depth[it]=0):Lt[2*it+1]=0;for(;we.heap_len<2;)Lt[2*(qe=we.heap[++we.heap_len]=an<2?++an:0)]=1,we.depth[qe]=0,we.opt_len--,Bt&&(we.static_len-=It[2*qe+1]);for(Ne.max_code=an,it=we.heap_len>>1;1<=it;it--)Ot(we,Lt,it);for(qe=Ut;it=we.heap[1],we.heap[1]=we.heap[we.heap_len--],Ot(we,Lt,1),ut=we.heap[1],we.heap[--we.heap_max]=it,we.heap[--we.heap_max]=ut,Lt[2*qe]=Lt[2*it]+Lt[2*ut],we.depth[qe]=(we.depth[it]>=we.depth[ut]?we.depth[it]:we.depth[ut])+1,Lt[2*it+1]=Lt[2*ut+1]=qe,we.heap[1]=qe++,Ot(we,Lt,1),2<=we.heap_len;);we.heap[--we.heap_max]=we.heap[1],(function(tn,on){var wn,Vt,ur,cn,Dr,zn,jn=on.dyn_tree,Ar=on.max_code,Wn=on.stat_desc.static_tree,Ps=on.stat_desc.has_stree,ar=on.stat_desc.extra_bits,Ir=on.stat_desc.extra_base,Mr=on.stat_desc.max_length,or=0;for(cn=0;cn<=I;cn++)tn.bl_count[cn]=0;for(jn[2*tn.heap[tn.heap_max]+1]=0,wn=tn.heap_max+1;wn<A;wn++)Mr<(cn=jn[2*jn[2*(Vt=tn.heap[wn])+1]+1]+1)&&(cn=Mr,or++),jn[2*Vt+1]=cn,Ar<Vt||(tn.bl_count[cn]++,Dr=0,Ir<=Vt&&(Dr=ar[Vt-Ir]),zn=jn[2*Vt],tn.opt_len+=zn*(cn+Dr),Ps&&(tn.static_len+=zn*(Wn[2*Vt+1]+Dr)));if(or!==0){do{for(cn=Mr-1;tn.bl_count[cn]===0;)cn--;tn.bl_count[cn]--,tn.bl_count[cn+1]+=2,tn.bl_count[Mr]--,or-=2}while(0<or);for(cn=Mr;cn!==0;cn--)for(Vt=tn.bl_count[cn];Vt!==0;)Ar<(ur=tn.heap[--wn])||(jn[2*ur+1]!==cn&&(tn.opt_len+=(cn-jn[2*ur+1])*jn[2*ur],jn[2*ur+1]=cn),Vt--)}})(we,Ne),Ke(Lt,an,we.bl_count)}function $(we,Ne,it){var ut,qe,Lt=-1,It=Ne[1],Bt=0,Ut=7,an=4;for(It===0&&(Ut=138,an=3),Ne[2*(it+1)+1]=65535,ut=0;ut<=it;ut++)qe=It,It=Ne[2*(ut+1)+1],++Bt<Ut&&qe===It||(Bt<an?we.bl_tree[2*qe]+=Bt:qe!==0?(qe!==Lt&&we.bl_tree[2*qe]++,we.bl_tree[2*de]++):Bt<=10?we.bl_tree[2*ve]++:we.bl_tree[2*Se]++,Lt=qe,an=(Bt=0)===It?(Ut=138,3):qe===It?(Ut=6,3):(Ut=7,4))}function je(we,Ne,it){var ut,qe,Lt=-1,It=Ne[1],Bt=0,Ut=7,an=4;for(It===0&&(Ut=138,an=3),ut=0;ut<=it;ut++)if(qe=It,It=Ne[2*(ut+1)+1],!(++Bt<Ut&&qe===It)){if(Bt<an)for(;pe(we,qe,we.bl_tree),--Bt!=0;);else qe!==0?(qe!==Lt&&(pe(we,qe,we.bl_tree),Bt--),pe(we,de,we.bl_tree),fe(we,Bt-3,2)):Bt<=10?(pe(we,ve,we.bl_tree),fe(we,Bt-3,3)):(pe(we,Se,we.bl_tree),fe(we,Bt-11,7));Lt=qe,an=(Bt=0)===It?(Ut=138,3):qe===It?(Ut=6,3):(Ut=7,4)}}g(Ae);var oe=!1;function Ee(we,Ne,it,ut){fe(we,(y<<1)+(ut?1:0),3),(function(qe,Lt,It,Bt){Ye(qe),he(qe,It),he(qe,~It),l.arraySet(qe.pending_buf,qe.window,Lt,It,qe.pending),qe.pending+=It})(we,Ne,it)}u._tr_init=function(we){oe||((function(){var Ne,it,ut,qe,Lt,It=new Array(I+1);for(qe=ut=0;qe<S-1;qe++)for(Be[qe]=ut,Ne=0;Ne<1<<K[qe];Ne++)F[ut++]=qe;for(F[ut-1]=qe,qe=Lt=0;qe<16;qe++)for(Ae[qe]=Lt,Ne=0;Ne<1<<X[qe];Ne++)ae[Lt++]=qe;for(Lt>>=7;qe<x;qe++)for(Ae[qe]=Lt<<7,Ne=0;Ne<1<<X[qe]-7;Ne++)ae[256+Lt++]=qe;for(it=0;it<=I;it++)It[it]=0;for(Ne=0;Ne<=143;)te[2*Ne+1]=8,Ne++,It[8]++;for(;Ne<=255;)te[2*Ne+1]=9,Ne++,It[9]++;for(;Ne<=279;)te[2*Ne+1]=7,Ne++,It[7]++;for(;Ne<=287;)te[2*Ne+1]=8,Ne++,It[8]++;for(Ke(te,M+1,It),Ne=0;Ne<x;Ne++)G[2*Ne+1]=5,G[2*Ne]=Te(Ne,5);Ve=new Pe(te,K,E+1,M,I),Fe=new Pe(G,X,0,x,I),xe=new Pe(new Array(0),ge,0,R,W)})(),oe=!0),we.l_desc=new re(we.dyn_ltree,Ve),we.d_desc=new re(we.dyn_dtree,Fe),we.bl_desc=new re(we.bl_tree,xe),we.bi_buf=0,we.bi_valid=0,We(we)},u._tr_stored_block=Ee,u._tr_flush_block=function(we,Ne,it,ut){var qe,Lt,It=0;0<we.level?(we.strm.data_type===2&&(we.strm.data_type=(function(Bt){var Ut,an=4093624447;for(Ut=0;Ut<=31;Ut++,an>>>=1)if(1&an&&Bt.dyn_ltree[2*Ut]!==0)return c;if(Bt.dyn_ltree[18]!==0||Bt.dyn_ltree[20]!==0||Bt.dyn_ltree[26]!==0)return p;for(Ut=32;Ut<E;Ut++)if(Bt.dyn_ltree[2*Ut]!==0)return p;return c})(we)),qt(we,we.l_desc),qt(we,we.d_desc),It=(function(Bt){var Ut;for($(Bt,Bt.dyn_ltree,Bt.l_desc.max_code),$(Bt,Bt.dyn_dtree,Bt.d_desc.max_code),qt(Bt,Bt.bl_desc),Ut=R-1;3<=Ut&&Bt.bl_tree[2*Ie[Ut]+1]===0;Ut--);return Bt.opt_len+=3*(Ut+1)+5+5+4,Ut})(we),qe=we.opt_len+3+7>>>3,(Lt=we.static_len+3+7>>>3)<=qe&&(qe=Lt)):qe=Lt=it+5,it+4<=qe&&Ne!==-1?Ee(we,Ne,it,ut):we.strategy===4||Lt===qe?(fe(we,2+(ut?1:0),3),Gt(we,te,G)):(fe(we,4+(ut?1:0),3),(function(Bt,Ut,an,tn){var on;for(fe(Bt,Ut-257,5),fe(Bt,an-1,5),fe(Bt,tn-4,4),on=0;on<tn;on++)fe(Bt,Bt.bl_tree[2*Ie[on]+1],3);je(Bt,Bt.dyn_ltree,Ut-1),je(Bt,Bt.dyn_dtree,an-1)})(we,we.l_desc.max_code+1,we.d_desc.max_code+1,It+1),Gt(we,we.dyn_ltree,we.dyn_dtree)),We(we),ut&&Ye(we)},u._tr_tally=function(we,Ne,it){return we.pending_buf[we.d_buf+2*we.last_lit]=Ne>>>8&255,we.pending_buf[we.d_buf+2*we.last_lit+1]=255&Ne,we.pending_buf[we.l_buf+we.last_lit]=255&it,we.last_lit++,Ne===0?we.dyn_ltree[2*it]++:(we.matches++,Ne--,we.dyn_ltree[2*(F[it]+E+1)]++,we.dyn_dtree[2*j(Ne)]++),we.last_lit===we.lit_bufsize-1},u._tr_align=function(we){fe(we,2,3),pe(we,Z,te),(function(Ne){Ne.bi_valid===16?(he(Ne,Ne.bi_buf),Ne.bi_buf=0,Ne.bi_valid=0):8<=Ne.bi_valid&&(Ne.pending_buf[Ne.pending++]=255&Ne.bi_buf,Ne.bi_buf>>=8,Ne.bi_valid-=8)})(we)}},{"../utils/common":41}],53:[function(e,a,u){a.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,a,u){(function(l){(function(c,p){if(!c.setImmediate){var g,y,S,E,M=1,x={},R=!1,A=c.document,I=Object.getPrototypeOf&&Object.getPrototypeOf(c);I=I&&I.setTimeout?I:c,g={}.toString.call(c.process)==="[object process]"?function(de){process.nextTick(function(){W(de)})}:(function(){if(c.postMessage&&!c.importScripts){var de=!0,ve=c.onmessage;return c.onmessage=function(){de=!1},c.postMessage("","*"),c.onmessage=ve,de}})()?(E="setImmediate$"+Math.random()+"$",c.addEventListener?c.addEventListener("message",Z,!1):c.attachEvent("onmessage",Z),function(de){c.postMessage(E+de,"*")}):c.MessageChannel?((S=new MessageChannel).port1.onmessage=function(de){W(de.data)},function(de){S.port2.postMessage(de)}):A&&"onreadystatechange"in A.createElement("script")?(y=A.documentElement,function(de){var ve=A.createElement("script");ve.onreadystatechange=function(){W(de),ve.onreadystatechange=null,y.removeChild(ve),ve=null},y.appendChild(ve)}):function(de){setTimeout(W,0,de)},I.setImmediate=function(de){typeof de!="function"&&(de=new Function(""+de));for(var ve=new Array(arguments.length-1),Se=0;Se<ve.length;Se++)ve[Se]=arguments[Se+1];var K={callback:de,args:ve};return x[M]=K,g(M),M++},I.clearImmediate=O}function O(de){delete x[de]}function W(de){if(R)setTimeout(W,0,de);else{var ve=x[de];if(ve){R=!0;try{(function(Se){var K=Se.callback,X=Se.args;switch(X.length){case 0:K();break;case 1:K(X[0]);break;case 2:K(X[0],X[1]);break;case 3:K(X[0],X[1],X[2]);break;default:K.apply(p,X)}})(ve)}finally{O(de),R=!1}}}}function Z(de){de.source===c&&typeof de.data=="string"&&de.data.indexOf(E)===0&&W(+de.data.slice(E.length))}})(typeof self>"u"?l===void 0?this:l:self)}).call(this,typeof Zl<"u"?Zl:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(If)),If.exports}Qy();var Hu={},M0;function e2(){if(M0)return Hu;M0=1,Hu.attr=o,Hu.tagClose=t,Hu.tag=e,Hu.encode=a;function o(u){return u&&u.length?" "+u.map(function(l){return l[0]+'="'+l[1]+'"'}).join(" "):""}function t(u,l){return"<"+u+o(l)+"/>"}function e(u,l,c){return"<"+u+o(c)+">"+l+"</"+u+">"}function a(u){return(u===null?"":u.toString()).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}return Hu}var Rf,B0;function t2(){if(B0)return Rf;B0=1;var o=e2(),t=o.tag,e=o.encode;Rf=function(X,ge){return ge=ge||{documentName:void 0,documentDescription:void 0,name:"name",description:"description",simplestyle:!1,timestamp:"timestamp"},'<?xml version="1.0" encoding="UTF-8"?>'+t("kml",t("Document",l(ge)+c(ge)+u(X,ge)),[["xmlns","http://www.opengis.net/kml/2.2"]])};function a(K,X){return function(ge){if(!ge.properties||!S.valid(ge.geometry))return"";var Ie=S.any(ge.geometry);if(!Ie)return"";var te="",G="";if(K.simplestyle){var ae=de(ge.properties);ae&&(S.isPoint(ge.geometry)&&R(ge.properties)?(X.indexOf(ae)===-1&&(te=A(ge.properties,ae),X.push(ae)),G=t("styleUrl","#"+ae)):(S.isPolygon(ge.geometry)||S.isLine(ge.geometry))&&W(ge.properties)&&(X.indexOf(ae)===-1&&(te=Z(ge.properties,ae),X.push(ae)),G=t("styleUrl","#"+ae)))}return te+t("Placemark",p(ge.properties,K)+g(ge.properties,K)+M(ge.properties)+y(ge.properties,K)+Ie+G)}}function u(K,X){if(!K.type)return"";var ge=[];switch(K.type){case"FeatureCollection":return K.features?K.features.map(a(X,ge)).join(""):"";case"Feature":return a(X,ge)(K);default:return a(X,ge)({type:"Feature",geometry:K,properties:{}})}}function l(K){return K.documentName!==void 0?t("name",K.documentName):""}function c(K){return K.documentDescription!==void 0?t("description",K.documentDescription):""}function p(K,X){return K[X.name]?t("name",e(K[X.name])):""}function g(K,X){return K[X.description]?t("description",e(K[X.description])):""}function y(K,X){return K[X.timestamp]?t("TimeStamp",t("when",e(K[X.timestamp]))):""}var S={Point:function(K){return t("Point",t("coordinates",K.coordinates.join(",")))},LineString:function(K){return t("LineString",t("coordinates",E(K.coordinates)))},Polygon:function(K){if(!K.coordinates.length)return"";var X=K.coordinates[0],ge=K.coordinates.slice(1),Ie=t("outerBoundaryIs",t("LinearRing",t("coordinates",E(X)))),te=ge.map(function(G){return t("innerBoundaryIs",t("LinearRing",t("coordinates",E(G))))}).join("");return t("Polygon",Ie+te)},MultiPoint:function(K){return K.coordinates.length?t("MultiGeometry",K.coordinates.map(function(X){return S.Point({coordinates:X})}).join("")):""},MultiPolygon:function(K){return K.coordinates.length?t("MultiGeometry",K.coordinates.map(function(X){return S.Polygon({coordinates:X})}).join("")):""},MultiLineString:function(K){return K.coordinates.length?t("MultiGeometry",K.coordinates.map(function(X){return S.LineString({coordinates:X})}).join("")):""},GeometryCollection:function(K){return t("MultiGeometry",K.geometries.map(S.any).join(""))},valid:function(K){return K&&K.type&&(K.coordinates||K.type==="GeometryCollection"&&K.geometries&&K.geometries.every(S.valid))},any:function(K){return S[K.type]?S[K.type](K):""},isPoint:function(K){return K.type==="Point"||K.type==="MultiPoint"},isPolygon:function(K){return K.type==="Polygon"||K.type==="MultiPolygon"},isLine:function(K){return K.type==="LineString"||K.type==="MultiLineString"}};function E(K){return K.map(function(X){return X.join(",")}).join(" ")}function M(K){return t("ExtendedData",Se(K).map(x).join(""))}function x(K){return t("Data",t("value",e(K[1])),[["name",e(K[0])]])}function R(K){return!!(K["marker-size"]||K["marker-symbol"]||K["marker-color"])}function A(K,X){return t("Style",t("IconStyle",t("Icon",t("href",I(K))))+O(),[["id",X]])}function I(K){var X=K["marker-size"]||"medium",ge=K["marker-symbol"]?"-"+K["marker-symbol"]:"",Ie=(K["marker-color"]||"7e7e7e").replace("#","");return"https://api.tiles.mapbox.com/v3/marker/pin-"+X.charAt(0)+ge+"+"+Ie+".png"}function O(K){return t("hotSpot","",[["xunits","fraction"],["yunits","fraction"],["x",.5],["y",.5]])}function W(K){for(var X in K)if({stroke:!0,"stroke-opacity":!0,"stroke-width":!0,fill:!0,"fill-opacity":!0}[X])return!0}function Z(K,X){var ge=t("LineStyle",[t("color",ve(K.stroke,K["stroke-opacity"])||"ff555555")+t("width",K["stroke-width"]===void 0?2:K["stroke-width"])]),Ie="";return(K.fill||K["fill-opacity"])&&(Ie=t("PolyStyle",[t("color",ve(K.fill,K["fill-opacity"])||"88555555")])),t("Style",ge+Ie,[["id",X]])}function de(K){var X="";return K["marker-symbol"]&&(X=X+"ms"+K["marker-symbol"]),K["marker-color"]&&(X=X+"mc"+K["marker-color"].replace("#","")),K["marker-size"]&&(X=X+"ms"+K["marker-size"]),K.stroke&&(X=X+"s"+K.stroke.replace("#","")),K["stroke-width"]&&(X=X+"sw"+K["stroke-width"].toString().replace(".","")),K["stroke-opacity"]&&(X=X+"mo"+K["stroke-opacity"].toString().replace(".","")),K.fill&&(X=X+"f"+K.fill.replace("#","")),K["fill-opacity"]&&(X=X+"fo"+K["fill-opacity"].toString().replace(".","")),X}function ve(K,X){if(typeof K!="string")return"";if(K=K.replace("#","").toLowerCase(),K.length===3)K=K[0]+K[0]+K[1]+K[1]+K[2]+K[2];else if(K.length!==6)return"";var ge=K[0]+K[1],Ie=K[2]+K[3],te=K[4]+K[5],G="ff";return typeof X=="number"&&X>=0&&X<=1&&(G=(X*255).toString(16),G.indexOf(".")>-1&&(G=G.substr(0,G.indexOf("."))),G.length<2&&(G="0"+G)),G+te+Ie+ge}function Se(K){var X=[];for(var ge in K)X.push([ge,K[ge]]);return X}return Rf}t2();function Lr(o){"@babel/helpers - typeof";return Lr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lr(o)}var pa=Uint8Array,go=Uint16Array,Dd=Int32Array,Fc=new pa([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),jc=new pa([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),cd=new pa([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Gm=function(o,t){for(var e=new go(31),a=0;a<31;++a)e[a]=t+=1<<o[a-1];for(var u=new Dd(e[30]),a=1;a<30;++a)for(var l=e[a];l<e[a+1];++l)u[l]=l-e[a]<<5|a;return{b:e,r:u}},Hm=Gm(Fc,2),Wm=Hm.b,fd=Hm.r;Wm[28]=258,fd[258]=28;var Vm=Gm(jc,0),n2=Vm.b,T0=Vm.r,dd=new go(32768);for(var $r=0;$r<32768;++$r){var Hl=($r&43690)>>1|($r&21845)<<1;Hl=(Hl&52428)>>2|(Hl&13107)<<2,Hl=(Hl&61680)>>4|(Hl&3855)<<4,dd[$r]=((Hl&65280)>>8|(Hl&255)<<8)>>1}var ml=(function(o,t,e){for(var a=o.length,u=0,l=new go(t);u<a;++u)o[u]&&++l[o[u]-1];var c=new go(t);for(u=1;u<t;++u)c[u]=c[u-1]+l[u-1]<<1;var p;if(e){p=new go(1<<t);var g=15-t;for(u=0;u<a;++u)if(o[u])for(var y=u<<4|o[u],S=t-o[u],E=c[o[u]-1]++<<S,M=E|(1<<S)-1;E<=M;++E)p[dd[E]>>g]=y}else for(p=new go(a),u=0;u<a;++u)o[u]&&(p[u]=dd[c[o[u]-1]++]>>15-o[u]);return p}),Yl=new pa(288);for(var $r=0;$r<144;++$r)Yl[$r]=8;for(var $r=144;$r<256;++$r)Yl[$r]=9;for(var $r=256;$r<280;++$r)Yl[$r]=7;for(var $r=280;$r<288;++$r)Yl[$r]=8;var Mh=new pa(32);for(var $r=0;$r<32;++$r)Mh[$r]=5;var r2=ml(Yl,9,0),i2=ml(Yl,9,1),s2=ml(Mh,5,0),a2=ml(Mh,5,1),Ff=function(o){for(var t=o[0],e=1;e<o.length;++e)o[e]>t&&(t=o[e]);return t},tl=function(o,t,e){var a=t/8|0;return(o[a]|o[a+1]<<8)>>(t&7)&e},jf=function(o,t){var e=t/8|0;return(o[e]|o[e+1]<<8|o[e+2]<<16)>>(t&7)},Id=function(o){return(o+7)/8|0},$m=function(o,t,e){return(e==null||e>o.length)&&(e=o.length),new pa(o.subarray(t,e))},o2=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],il=function(o,t,e){var a=new Error(t||o2[o]);if(a.code=o,Error.captureStackTrace&&Error.captureStackTrace(a,il),!e)throw a;return a},l2=function(o,t,e,a){var u=o.length,l=0;if(!u||t.f&&!t.l)return e||new pa(0);var c=!e,p=c||t.i!=2,g=t.i;c&&(e=new pa(u*3));var y=function(Ot){var Gt=e.length;if(Ot>Gt){var qt=new pa(Math.max(Gt*2,Ot));qt.set(e),e=qt}},S=t.f||0,E=t.p||0,M=t.b||0,x=t.l,R=t.d,A=t.m,I=t.n,O=u*8;do{if(!x){S=tl(o,E,1);var W=tl(o,E+1,3);if(E+=3,W)if(W==1)x=i2,R=a2,A=9,I=5;else if(W==2){var Se=tl(o,E,31)+257,K=tl(o,E+10,15)+4,X=Se+tl(o,E+5,31)+1;E+=14;for(var ge=new pa(X),Ie=new pa(19),te=0;te<K;++te)Ie[cd[te]]=tl(o,E+te*3,7);E+=K*3;for(var G=Ff(Ie),ae=(1<<G)-1,F=ml(Ie,G,1),te=0;te<X;){var Be=F[tl(o,E,ae)];E+=Be&15;var Z=Be>>4;if(Z<16)ge[te++]=Z;else{var Ve=0,Fe=0;for(Z==16?(Fe=3+tl(o,E,3),E+=2,Ve=ge[te-1]):Z==17?(Fe=3+tl(o,E,7),E+=3):Z==18&&(Fe=11+tl(o,E,127),E+=7);Fe--;)ge[te++]=Ve}}var xe=ge.subarray(0,Se),Ae=ge.subarray(Se);A=Ff(xe),I=Ff(Ae),x=ml(xe,A,1),R=ml(Ae,I,1)}else il(1);else{var Z=Id(E)+4,de=o[Z-4]|o[Z-3]<<8,ve=Z+de;if(ve>u){g&&il(0);break}p&&y(M+de),e.set(o.subarray(Z,ve),M),t.b=M+=de,t.p=E=ve*8,t.f=S;continue}if(E>O){g&&il(0);break}}p&&y(M+131072);for(var Pe=(1<<A)-1,re=(1<<I)-1,j=E;;j=E){var Ve=x[jf(o,E)&Pe],he=Ve>>4;if(E+=Ve&15,E>O){g&&il(0);break}if(Ve||il(2),he<256)e[M++]=he;else if(he==256){j=E,x=null;break}else{var fe=he-254;if(he>264){var te=he-257,pe=Fc[te];fe=tl(o,E,(1<<pe)-1)+Wm[te],E+=pe}var Te=R[jf(o,E)&re],Ke=Te>>4;Te||il(3),E+=Te&15;var Ae=n2[Ke];if(Ke>3){var pe=jc[Ke];Ae+=jf(o,E)&(1<<pe)-1,E+=pe}if(E>O){g&&il(0);break}p&&y(M+131072);var We=M+fe;if(M<Ae){var Ye=l-Ae,Tt=Math.min(Ae,We);for(Ye+M<0&&il(3);M<Tt;++M)e[M]=a[Ye+M]}for(;M<We;++M)e[M]=e[M-Ae]}}t.l=x,t.p=j,t.b=M,t.f=S,x&&(S=1,t.m=A,t.d=R,t.n=I)}while(!S);return M!=e.length&&c?$m(e,0,M):e.subarray(0,M)},El=function(o,t,e){e<<=t&7;var a=t/8|0;o[a]|=e,o[a+1]|=e>>8},yh=function(o,t,e){e<<=t&7;var a=t/8|0;o[a]|=e,o[a+1]|=e>>8,o[a+2]|=e>>16},zf=function(o,t){for(var e=[],a=0;a<o.length;++a)o[a]&&e.push({s:a,f:o[a]});var u=e.length,l=e.slice();if(!u)return{t:Km,l:0};if(u==1){var c=new pa(e[0].s+1);return c[e[0].s]=1,{t:c,l:1}}e.sort(function(ve,Se){return ve.f-Se.f}),e.push({s:-1,f:25001});var p=e[0],g=e[1],y=0,S=1,E=2;for(e[0]={s:-1,f:p.f+g.f,l:p,r:g};S!=u-1;)p=e[e[y].f<e[E].f?y++:E++],g=e[y!=S&&e[y].f<e[E].f?y++:E++],e[S++]={s:-1,f:p.f+g.f,l:p,r:g};for(var M=l[0].s,a=1;a<u;++a)l[a].s>M&&(M=l[a].s);var x=new go(M+1),R=pd(e[S-1],x,0);if(R>t){var a=0,A=0,I=R-t,O=1<<I;for(l.sort(function(Se,K){return x[K.s]-x[Se.s]||Se.f-K.f});a<u;++a){var W=l[a].s;if(x[W]>t)A+=O-(1<<R-x[W]),x[W]=t;else break}for(A>>=I;A>0;){var Z=l[a].s;x[Z]<t?A-=1<<t-x[Z]++-1:++a}for(;a>=0&&A;--a){var de=l[a].s;x[de]==t&&(--x[de],++A)}R=t}return{t:new pa(x),l:R}},pd=function(o,t,e){return o.s==-1?Math.max(pd(o.l,t,e+1),pd(o.r,t,e+1)):t[o.s]=e},N0=function(o){for(var t=o.length;t&&!o[--t];);for(var e=new go(++t),a=0,u=o[0],l=1,c=function(g){e[a++]=g},p=1;p<=t;++p)if(o[p]==u&&p!=t)++l;else{if(!u&&l>2){for(;l>138;l-=138)c(32754);l>2&&(c(l>10?l-11<<5|28690:l-3<<5|12305),l=0)}else if(l>3){for(c(u),--l;l>6;l-=6)c(8304);l>2&&(c(l-3<<5|8208),l=0)}for(;l--;)c(u);l=1,u=o[p]}return{c:e.subarray(0,a),n:t}},wh=function(o,t){for(var e=0,a=0;a<t.length;++a)e+=o[a]*t[a];return e},Zm=function(o,t,e){var a=e.length,u=Id(t+2);o[u]=a&255,o[u+1]=a>>8,o[u+2]=o[u]^255,o[u+3]=o[u+1]^255;for(var l=0;l<a;++l)o[u+l+4]=e[l];return(u+4+a)*8},O0=function(o,t,e,a,u,l,c,p,g,y,S){El(t,S++,e),++u[256];for(var E=zf(u,15),M=E.t,x=E.l,R=zf(l,15),A=R.t,I=R.l,O=N0(M),W=O.c,Z=O.n,de=N0(A),ve=de.c,Se=de.n,K=new go(19),X=0;X<W.length;++X)++K[W[X]&31];for(var X=0;X<ve.length;++X)++K[ve[X]&31];for(var ge=zf(K,7),Ie=ge.t,te=ge.l,G=19;G>4&&!Ie[cd[G-1]];--G);var ae=y+5<<3,F=wh(u,Yl)+wh(l,Mh)+c,Be=wh(u,M)+wh(l,A)+c+14+3*G+wh(K,Ie)+2*K[16]+3*K[17]+7*K[18];if(g>=0&&ae<=F&&ae<=Be)return Zm(t,S,o.subarray(g,g+y));var Ve,Fe,xe,Ae;if(El(t,S,1+(Be<F)),S+=2,Be<F){Ve=ml(M,x,0),Fe=M,xe=ml(A,I,0),Ae=A;var Pe=ml(Ie,te,0);El(t,S,Z-257),El(t,S+5,Se-1),El(t,S+10,G-4),S+=14;for(var X=0;X<G;++X)El(t,S+3*X,Ie[cd[X]]);S+=3*G;for(var re=[W,ve],j=0;j<2;++j)for(var he=re[j],X=0;X<he.length;++X){var fe=he[X]&31;El(t,S,Pe[fe]),S+=Ie[fe],fe>15&&(El(t,S,he[X]>>5&127),S+=he[X]>>12)}}else Ve=r2,Fe=Yl,xe=s2,Ae=Mh;for(var X=0;X<p;++X){var pe=a[X];if(pe>255){var fe=pe>>18&31;yh(t,S,Ve[fe+257]),S+=Fe[fe+257],fe>7&&(El(t,S,pe>>23&31),S+=Fc[fe]);var Te=pe&31;yh(t,S,xe[Te]),S+=Ae[Te],Te>3&&(yh(t,S,pe>>5&8191),S+=jc[Te])}else yh(t,S,Ve[pe]),S+=Fe[pe]}return yh(t,S,Ve[256]),S+Fe[256]},u2=new Dd([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Km=new pa(0),h2=function(o,t,e,a,u,l){var c=l.z||o.length,p=new pa(a+c+5*(1+Math.ceil(c/7e3))+u),g=p.subarray(a,p.length-u),y=l.l,S=(l.r||0)&7;if(t){S&&(g[0]=l.r>>3);for(var E=u2[t-1],M=E>>13,x=E&8191,R=(1<<e)-1,A=l.p||new go(32768),I=l.h||new go(R+1),O=Math.ceil(e/3),W=2*O,Z=function($){return(o[$]^o[$+1]<<O^o[$+2]<<W)&R},de=new Dd(25e3),ve=new go(288),Se=new go(32),K=0,X=0,ge=l.i||0,Ie=0,te=l.w||0,G=0;ge+2<c;++ge){var ae=Z(ge),F=ge&32767,Be=I[ae];if(A[F]=Be,I[ae]=F,te<=ge){var Ve=c-ge;if((K>7e3||Ie>24576)&&(Ve>423||!y)){S=O0(o,g,0,de,ve,Se,X,Ie,G,ge-G,S),Ie=K=X=0,G=ge;for(var Fe=0;Fe<286;++Fe)ve[Fe]=0;for(var Fe=0;Fe<30;++Fe)Se[Fe]=0}var xe=2,Ae=0,Pe=x,re=F-Be&32767;if(Ve>2&&ae==Z(ge-re))for(var j=Math.min(M,Ve)-1,he=Math.min(32767,ge),fe=Math.min(258,Ve);re<=he&&--Pe&&F!=Be;){if(o[ge+xe]==o[ge+xe-re]){for(var pe=0;pe<fe&&o[ge+pe]==o[ge+pe-re];++pe);if(pe>xe){if(xe=pe,Ae=re,pe>j)break;for(var Te=Math.min(re,pe-2),Ke=0,Fe=0;Fe<Te;++Fe){var We=ge-re+Fe&32767,Ye=A[We],Tt=We-Ye&32767;Tt>Ke&&(Ke=Tt,Be=We)}}}F=Be,Be=A[F],re+=F-Be&32767}if(Ae){de[Ie++]=268435456|fd[xe]<<18|T0[Ae];var Ot=fd[xe]&31,Gt=T0[Ae]&31;X+=Fc[Ot]+jc[Gt],++ve[257+Ot],++Se[Gt],te=ge+xe,++K}else de[Ie++]=o[ge],++ve[o[ge]]}}for(ge=Math.max(ge,te);ge<c;++ge)de[Ie++]=o[ge],++ve[o[ge]];S=O0(o,g,y,de,ve,Se,X,Ie,G,ge-G,S),y||(l.r=S&7|g[S/8|0]<<3,S-=7,l.h=I,l.p=A,l.i=ge,l.w=te)}else{for(var ge=l.w||0;ge<c+y;ge+=65535){var qt=ge+65535;qt>=c&&(g[S/8|0]=y,qt=c),S=Zm(g,S+1,o.subarray(ge,qt))}l.i=c}return $m(p,0,a+Id(S)+u)},Jm=function(){var o=1,t=0;return{p:function(e){for(var a=o,u=t,l=e.length|0,c=0;c!=l;){for(var p=Math.min(c+2655,l);c<p;++c)u+=a+=e[c];a=(a&65535)+15*(a>>16),u=(u&65535)+15*(u>>16)}o=a,t=u},d:function(){return o%=65521,t%=65521,(o&255)<<24|(o&65280)<<8|(t&255)<<8|t>>8}}},c2=function(o,t,e,a,u){if(!u&&(u={l:1},t.dictionary)){var l=t.dictionary.subarray(-32768),c=new pa(l.length+o.length);c.set(l),c.set(o,l.length),o=c,u.w=l.length}return h2(o,t.level==null?6:t.level,t.mem==null?u.l?Math.ceil(Math.max(8,Math.min(13,Math.log(o.length)))*1.5):20:12+t.mem,e,a,u)},Ym=function(o,t,e){for(;e;++t)o[t]=e,e>>>=8},f2=function(o,t){var e=t.level,a=e==0?0:e<6?1:e==9?3:2;if(o[0]=120,o[1]=a<<6|(t.dictionary&&32),o[1]|=31-(o[0]<<8|o[1])%31,t.dictionary){var u=Jm();u.p(t.dictionary),Ym(o,2,u.d())}},d2=function(o,t){return((o[0]&15)!=8||o[0]>>4>7||(o[0]<<8|o[1])%31)&&il(6,"invalid zlib data"),(o[1]>>5&1)==1&&il(6,"invalid zlib data: "+(o[1]&32?"need":"unexpected")+" dictionary"),(o[1]>>3&4)+2};function md(o,t){t||(t={});var e=Jm();e.p(o);var a=c2(o,t,t.dictionary?6:2,4);return f2(a,t),Ym(a,a.length-4,e.d()),a}function p2(o,t){return l2(o.subarray(d2(o),-4),{i:2},t,t)}var m2=typeof TextDecoder<"u"&&new TextDecoder,g2=0;try{m2.decode(Km,{stream:!0}),g2=1}catch{}var Tn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Uf(){Tn.console&&typeof Tn.console.log=="function"&&Tn.console.log.apply(Tn.console,arguments)}var Or={log:Uf,warn:function(o){Tn.console&&(typeof Tn.console.warn=="function"?Tn.console.warn.apply(Tn.console,arguments):Uf.call(null,arguments))},error:function(o){Tn.console&&(typeof Tn.console.error=="function"?Tn.console.error.apply(Tn.console,arguments):Uf(o))}};function qf(o,t,e){var a=new XMLHttpRequest;a.open("GET",o),a.responseType="blob",a.onload=function(){mu(a.response,t,e)},a.onerror=function(){Or.error("could not download file")},a.send()}function D0(o){var t=new XMLHttpRequest;t.open("HEAD",o,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function mc(o){try{o.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),o.dispatchEvent(t)}}var Eh,gd,mu=Tn.saveAs||((typeof window>"u"?"undefined":Lr(window))!=="object"||window!==Tn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(o,t,e){var a=Tn.URL||Tn.webkitURL,u=document.createElement("a");t=t||o.name||"download",u.download=t,u.rel="noopener",typeof o=="string"?(u.href=o,u.origin!==location.origin?D0(u.href)?qf(o,t,e):mc(u,u.target="_blank"):mc(u)):(u.href=a.createObjectURL(o),setTimeout((function(){a.revokeObjectURL(u.href)}),4e4),setTimeout((function(){mc(u)}),0))}:"msSaveOrOpenBlob"in navigator?function(o,t,e){if(t=t||o.name||"download",typeof o=="string")if(D0(o))qf(o,t,e);else{var a=document.createElement("a");a.href=o,a.target="_blank",setTimeout((function(){mc(a)}))}else navigator.msSaveOrOpenBlob((function(u,l){return l===void 0?l={autoBom:!1}:Lr(l)!=="object"&&(Or.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u})(o,e),t)}:function(o,t,e,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof o=="string")return qf(o,t,e);var u=o.type==="application/octet-stream",l=/constructor/i.test(Tn.HTMLElement)||Tn.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||u&&l)&&(typeof FileReader>"u"?"undefined":Lr(FileReader))==="object"){var p=new FileReader;p.onloadend=function(){var S=p.result;S=c?S:S.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=S:location=S,a=null},p.readAsDataURL(o)}else{var g=Tn.URL||Tn.webkitURL,y=g.createObjectURL(o);a?a.location=y:location.href=y,a=null,setTimeout((function(){g.revokeObjectURL(y)}),4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Xm(o){var t;o=o||"",this.ok=!1,o.charAt(0)=="#"&&(o=o.substr(1,6)),o={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[o=(o=o.replace(/ /g,"")).toLowerCase()]||o;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(p){return[parseInt(p[1]),parseInt(p[2]),parseInt(p[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(p){return[parseInt(p[1],16),parseInt(p[2],16),parseInt(p[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(p){return[parseInt(p[1]+p[1],16),parseInt(p[2]+p[2],16),parseInt(p[3]+p[3],16)]}}],a=0;a<e.length;a++){var u=e[a].re,l=e[a].process,c=u.exec(o);c&&(t=l(c),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var p=this.r.toString(16),g=this.g.toString(16),y=this.b.toString(16);return p.length==1&&(p="0"+p),g.length==1&&(g="0"+g),y.length==1&&(y="0"+y),"#"+p+g+y}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Gf(o,t){var e=o[0],a=o[1],u=o[2],l=o[3];e=ha(e,a,u,l,t[0],7,-680876936),l=ha(l,e,a,u,t[1],12,-389564586),u=ha(u,l,e,a,t[2],17,606105819),a=ha(a,u,l,e,t[3],22,-1044525330),e=ha(e,a,u,l,t[4],7,-176418897),l=ha(l,e,a,u,t[5],12,1200080426),u=ha(u,l,e,a,t[6],17,-1473231341),a=ha(a,u,l,e,t[7],22,-45705983),e=ha(e,a,u,l,t[8],7,1770035416),l=ha(l,e,a,u,t[9],12,-1958414417),u=ha(u,l,e,a,t[10],17,-42063),a=ha(a,u,l,e,t[11],22,-1990404162),e=ha(e,a,u,l,t[12],7,1804603682),l=ha(l,e,a,u,t[13],12,-40341101),u=ha(u,l,e,a,t[14],17,-1502002290),e=ca(e,a=ha(a,u,l,e,t[15],22,1236535329),u,l,t[1],5,-165796510),l=ca(l,e,a,u,t[6],9,-1069501632),u=ca(u,l,e,a,t[11],14,643717713),a=ca(a,u,l,e,t[0],20,-373897302),e=ca(e,a,u,l,t[5],5,-701558691),l=ca(l,e,a,u,t[10],9,38016083),u=ca(u,l,e,a,t[15],14,-660478335),a=ca(a,u,l,e,t[4],20,-405537848),e=ca(e,a,u,l,t[9],5,568446438),l=ca(l,e,a,u,t[14],9,-1019803690),u=ca(u,l,e,a,t[3],14,-187363961),a=ca(a,u,l,e,t[8],20,1163531501),e=ca(e,a,u,l,t[13],5,-1444681467),l=ca(l,e,a,u,t[2],9,-51403784),u=ca(u,l,e,a,t[7],14,1735328473),e=fa(e,a=ca(a,u,l,e,t[12],20,-1926607734),u,l,t[5],4,-378558),l=fa(l,e,a,u,t[8],11,-2022574463),u=fa(u,l,e,a,t[11],16,1839030562),a=fa(a,u,l,e,t[14],23,-35309556),e=fa(e,a,u,l,t[1],4,-1530992060),l=fa(l,e,a,u,t[4],11,1272893353),u=fa(u,l,e,a,t[7],16,-155497632),a=fa(a,u,l,e,t[10],23,-1094730640),e=fa(e,a,u,l,t[13],4,681279174),l=fa(l,e,a,u,t[0],11,-358537222),u=fa(u,l,e,a,t[3],16,-722521979),a=fa(a,u,l,e,t[6],23,76029189),e=fa(e,a,u,l,t[9],4,-640364487),l=fa(l,e,a,u,t[12],11,-421815835),u=fa(u,l,e,a,t[15],16,530742520),e=da(e,a=fa(a,u,l,e,t[2],23,-995338651),u,l,t[0],6,-198630844),l=da(l,e,a,u,t[7],10,1126891415),u=da(u,l,e,a,t[14],15,-1416354905),a=da(a,u,l,e,t[5],21,-57434055),e=da(e,a,u,l,t[12],6,1700485571),l=da(l,e,a,u,t[3],10,-1894986606),u=da(u,l,e,a,t[10],15,-1051523),a=da(a,u,l,e,t[1],21,-2054922799),e=da(e,a,u,l,t[8],6,1873313359),l=da(l,e,a,u,t[15],10,-30611744),u=da(u,l,e,a,t[6],15,-1560198380),a=da(a,u,l,e,t[13],21,1309151649),e=da(e,a,u,l,t[4],6,-145523070),l=da(l,e,a,u,t[11],10,-1120210379),u=da(u,l,e,a,t[2],15,718787259),a=da(a,u,l,e,t[9],21,-343485551),o[0]=Kl(e,o[0]),o[1]=Kl(a,o[1]),o[2]=Kl(u,o[2]),o[3]=Kl(l,o[3])}function zc(o,t,e,a,u,l){return t=Kl(Kl(t,o),Kl(a,l)),Kl(t<<u|t>>>32-u,e)}function ha(o,t,e,a,u,l,c){return zc(t&e|~t&a,o,t,u,l,c)}function ca(o,t,e,a,u,l,c){return zc(t&a|e&~a,o,t,u,l,c)}function fa(o,t,e,a,u,l,c){return zc(t^e^a,o,t,u,l,c)}function da(o,t,e,a,u,l,c){return zc(e^(t|~a),o,t,u,l,c)}function Qm(o){var t,e=o.length,a=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=o.length;t+=64)Gf(a,_2(o.substring(t-64,t)));o=o.substring(t-64);var u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o.length;t++)u[t>>2]|=o.charCodeAt(t)<<(t%4<<3);if(u[t>>2]|=128<<(t%4<<3),t>55)for(Gf(a,u),t=0;t<16;t++)u[t]=0;return u[14]=8*e,Gf(a,u),a}function _2(o){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=o.charCodeAt(t)+(o.charCodeAt(t+1)<<8)+(o.charCodeAt(t+2)<<16)+(o.charCodeAt(t+3)<<24);return e}Eh=Tn.atob.bind(Tn),gd=Tn.btoa.bind(Tn);var I0="0123456789abcdef".split("");function v2(o){for(var t="",e=0;e<4;e++)t+=I0[o>>8*e+4&15]+I0[o>>8*e&15];return t}function y2(o){return String.fromCharCode((255&o)>>0,(65280&o)>>8,(16711680&o)>>16,(4278190080&o)>>24)}function _d(o){return Qm(o).map(y2).join("")}var w2=(function(o){for(var t=0;t<o.length;t++)o[t]=v2(o[t]);return o.join("")})(Qm("hello"))!="5d41402abc4b2a76b9719d911017c592";function Kl(o,t){if(w2){var e=(65535&o)+(65535&t);return(o>>16)+(t>>16)+(e>>16)<<16|65535&e}return o+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function vd(o,t){var e,a,u,l;if(o!==e){for(var c=(u=o,l=1+(256/o.length>>0),new Array(l+1).join(u)),p=[],g=0;g<256;g++)p[g]=g;var y=0;for(g=0;g<256;g++){var S=p[g];y=(y+S+c.charCodeAt(g))%256,p[g]=p[y],p[y]=S}e=o,a=p}else p=a;var E=t.length,M=0,x=0,R="";for(g=0;g<E;g++)x=(x+(S=p[M=(M+1)%256]))%256,p[M]=p[x],p[x]=S,c=p[(p[M]+p[x])%256],R+=String.fromCharCode(t.charCodeAt(g)^c);return R}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var R0={print:4,modify:8,copy:16,"annot-forms":32};function Ku(o,t,e,a){this.v=1,this.r=2;var u=192;o.forEach((function(p){if(R0.perm!==void 0)throw new Error("Invalid permission: "+p);u+=R0[p]})),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var l=(t+this.padding).substr(0,32),c=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(l,c),this.P=-(1+(255^u)),this.encryptionKey=_d(l+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=vd(this.encryptionKey,this.padding)}function Ju(o){if(/[^\u0000-\u00ff]/.test(o))throw new Error("Invalid PDF Name Object: "+o+", Only accept ASCII characters.");for(var t="",e=o.length,a=0;a<e;a++){var u=o.charCodeAt(a);u<33||u===35||u===37||u===40||u===41||u===47||u===60||u===62||u===91||u===93||u===123||u===125||u>126?t+="#"+("0"+u.toString(16)).slice(-2):t+=o[a]}return t}function F0(o){if(Lr(o)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,a,u){if(u=u||!1,typeof e!="string"||typeof a!="function"||typeof u!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var l=Math.random().toString(35);return t[e][l]=[a,!!u],l},this.unsubscribe=function(e){for(var a in t)if(t[a][e])return delete t[a][e],Object.keys(t[a]).length===0&&delete t[a],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var a=Array.prototype.slice.call(arguments,1),u=[];for(var l in t[e]){var c=t[e][l];try{c[0].apply(o,a)}catch(p){Tn.console&&Or.error("jsPDF PubSub Error",p.message,p)}c[1]&&u.push(l)}u.length&&u.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Ac(o){if(!(this instanceof Ac))return new Ac(o);var t="opacity,stroke-opacity".split(",");for(var e in o)o.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=o[e]);this.id="",this.objectNumber=-1}function eg(o,t){this.gState=o,this.matrix=t,this.id="",this.objectNumber=-1}function _u(o,t,e,a,u){if(!(this instanceof _u))return new _u(o,t,e,a,u);this.type=o==="axial"?2:3,this.coords=t,this.colors=e,eg.call(this,a,u)}function Xu(o,t,e,a,u){if(!(this instanceof Xu))return new Xu(o,t,e,a,u);this.boundingBox=o,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,eg.call(this,a,u)}function Bn(o){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],u=arguments[2],l=arguments[3],c=[],p=1,g=16,y="S",S=null;Lr(o=o||{})==="object"&&(e=o.orientation,a=o.unit||a,u=o.format||u,l=o.compress||o.compressPdf||l,(S=o.encryption||null)!==null&&(S.userPassword=S.userPassword||"",S.ownerPassword=S.ownerPassword||"",S.userPermissions=S.userPermissions||[]),p=typeof o.userUnit=="number"?Math.abs(o.userUnit):1,o.precision!==void 0&&(t=o.precision),o.floatPrecision!==void 0&&(g=o.floatPrecision),y=o.defaultPathOperation||"S"),c=o.filters||(l===!0?["FlateEncode"]:c),a=a||"mm",e=(""+(e||"P")).toLowerCase();var E=o.putOnlyUsedFonts||!1,M={},x={internal:{},__private__:{}};x.__private__.PubSub=F0;var R="1.3",A=x.__private__.getPdfVersion=function(){return R};x.__private__.setPdfVersion=function(P){R=P};var I={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};x.__private__.getPageFormats=function(){return I};var O=x.__private__.getPageFormat=function(P){return I[P]};u=u||"a4";var W={COMPAT:"compat",ADVANCED:"advanced"},Z=W.COMPAT;function de(){this.saveGraphicsState(),oe(new dn(Vt,0,0,-Vt,0,Ua()*Vt).toString()+" cm"),this.setFontSize(this.getFontSize()/Vt),y="n",Z=W.ADVANCED}function ve(){this.restoreGraphicsState(),y="S",Z=W.COMPAT}var Se=x.__private__.combineFontStyleAndFontWeight=function(P,ne){if(P=="bold"&&ne=="normal"||P=="bold"&&ne==400||P=="normal"&&ne=="italic"||P=="bold"&&ne=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ne&&(P=ne==400||ne==="normal"?P==="italic"?"italic":"normal":ne!=700&&ne!=="bold"||P!=="normal"?(ne==700?"bold":ne)+""+P:"bold"),P};x.advancedAPI=function(P){var ne=Z===W.COMPAT;return ne&&de.call(this),typeof P!="function"||(P(this),ne&&ve.call(this)),this},x.compatAPI=function(P){var ne=Z===W.ADVANCED;return ne&&ve.call(this),typeof P!="function"||(P(this),ne&&de.call(this)),this},x.isAdvancedAPI=function(){return Z===W.ADVANCED};var K,X=function(P){if(Z!==W.ADVANCED)throw new Error(P+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ge=x.roundToPrecision=x.__private__.roundToPrecision=function(P,ne){var De=t||ne;if(isNaN(P)||isNaN(De))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return P.toFixed(De).replace(/0+$/,"")};K=x.hpf=x.__private__.hpf=typeof g=="number"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return ge(P,g)}:g==="smart"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return ge(P,P>-1&&P<1?16:5)}:function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return ge(P,16)};var Ie=x.f2=x.__private__.f2=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f2");return ge(P,2)},te=x.__private__.f3=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f3");return ge(P,3)},G=x.scale=x.__private__.scale=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.scale");return Z===W.COMPAT?P*Vt:Z===W.ADVANCED?P:void 0},ae=function(P){return Z===W.COMPAT?Ua()-P:Z===W.ADVANCED?P:void 0},F=function(P){return G(ae(P))};x.__private__.setPrecision=x.setPrecision=function(P){typeof parseInt(P,10)=="number"&&(t=parseInt(P,10))};var Be,Ve="00000000000000000000000000000000",Fe=x.__private__.getFileId=function(){return Ve},xe=x.__private__.setFileId=function(P){return Ve=P!==void 0&&/^[a-fA-F0-9]{32}$/.test(P)?P.toUpperCase():Ve.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),S!==null&&(dr=new Ku(S.userPermissions,S.userPassword,S.ownerPassword,Ve)),Ve};x.setFileId=function(P){return xe(P),this},x.getFileId=function(){return Fe()};var Ae=x.__private__.convertDateToPDFDate=function(P){var ne=P.getTimezoneOffset(),De=ne<0?"+":"-",$e=Math.floor(Math.abs(ne/60)),ct=Math.abs(ne%60),kt=[De,fe($e),"'",fe(ct),"'"].join("");return["D:",P.getFullYear(),fe(P.getMonth()+1),fe(P.getDate()),fe(P.getHours()),fe(P.getMinutes()),fe(P.getSeconds()),kt].join("")},Pe=x.__private__.convertPDFDateToDate=function(P){var ne=parseInt(P.substr(2,4),10),De=parseInt(P.substr(6,2),10)-1,$e=parseInt(P.substr(8,2),10),ct=parseInt(P.substr(10,2),10),kt=parseInt(P.substr(12,2),10),Ft=parseInt(P.substr(14,2),10);return new Date(ne,De,$e,ct,kt,Ft,0)},re=x.__private__.setCreationDate=function(P){var ne;if(P===void 0&&(P=new Date),P instanceof Date)ne=Ae(P);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(P))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ne=P}return Be=ne},j=x.__private__.getCreationDate=function(P){var ne=Be;return P==="jsDate"&&(ne=Pe(Be)),ne};x.setCreationDate=function(P){return re(P),this},x.getCreationDate=function(P){return j(P)};var he,fe=x.__private__.padd2=function(P){return("0"+parseInt(P)).slice(-2)},pe=x.__private__.padd2Hex=function(P){return("00"+(P=P.toString())).substr(P.length)},Te=0,Ke=[],We=[],Ye=0,Tt=[],Ot=[],Gt=!1,qt=We,$=function(){Te=0,Ye=0,We=[],Ke=[],Tt=[],As=Kt(),fs=Kt()};x.__private__.setCustomOutputDestination=function(P){Gt=!0,qt=P};var je=function(P){Gt||(qt=P)};x.__private__.resetCustomOutputDestination=function(){Gt=!1,qt=We};var oe=x.__private__.out=function(P){return P=P.toString(),Ye+=P.length+1,qt.push(P),qt},Ee=x.__private__.write=function(P){return oe(arguments.length===1?P.toString():Array.prototype.join.call(arguments," "))},we=x.__private__.getArrayBuffer=function(P){for(var ne=P.length,De=new ArrayBuffer(ne),$e=new Uint8Array(De);ne--;)$e[ne]=P.charCodeAt(ne);return De},Ne=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];x.__private__.getStandardFonts=function(){return Ne};var it=o.fontSize||16;x.__private__.setFontSize=x.setFontSize=function(P){return it=Z===W.ADVANCED?P/Vt:P,this};var ut,qe=x.__private__.getFontSize=x.getFontSize=function(){return Z===W.COMPAT?it:it*Vt},Lt=o.R2L||!1;x.__private__.setR2L=x.setR2L=function(P){return Lt=P,this},x.__private__.getR2L=x.getR2L=function(){return Lt};var It,Bt=x.__private__.setZoomMode=function(P){var ne=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(P))ut=P;else if(isNaN(P)){if(ne.indexOf(P)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+P+'" is not recognized.');ut=P}else ut=parseInt(P,10)};x.__private__.getZoomMode=function(){return ut};var Ut,an=x.__private__.setPageMode=function(P){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(P)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+P+'" is not recognized.');It=P};x.__private__.getPageMode=function(){return It};var tn=x.__private__.setLayoutMode=function(P){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(P)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+P+'" is not recognized.');Ut=P};x.__private__.getLayoutMode=function(){return Ut},x.__private__.setDisplayMode=x.setDisplayMode=function(P,ne,De){return Bt(P),tn(ne),an(De),this};var on={title:"",subject:"",author:"",keywords:"",creator:""};x.__private__.getDocumentProperty=function(P){if(Object.keys(on).indexOf(P)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return on[P]},x.__private__.getDocumentProperties=function(){return on},x.__private__.setDocumentProperties=x.setProperties=x.setDocumentProperties=function(P){for(var ne in on)on.hasOwnProperty(ne)&&P[ne]&&(on[ne]=P[ne]);return this},x.__private__.setDocumentProperty=function(P,ne){if(Object.keys(on).indexOf(P)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return on[P]=ne};var wn,Vt,ur,cn,Dr,zn={},jn={},Ar=[],Wn={},Ps={},ar={},Ir={},Mr=null,or=0,En=[],Yn=new F0(x),ma=o.hotfixes||[],Zr={},cs={},Zi=[],dn=function P(ne,De,$e,ct,kt,Ft){if(!(this instanceof P))return new P(ne,De,$e,ct,kt,Ft);isNaN(ne)&&(ne=1),isNaN(De)&&(De=0),isNaN($e)&&($e=0),isNaN(ct)&&(ct=1),isNaN(kt)&&(kt=0),isNaN(Ft)&&(Ft=0),this._matrix=[ne,De,$e,ct,kt,Ft]};Object.defineProperty(dn.prototype,"sx",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(dn.prototype,"shy",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(dn.prototype,"shx",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(dn.prototype,"sy",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(dn.prototype,"tx",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(dn.prototype,"ty",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(dn.prototype,"a",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(dn.prototype,"b",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(dn.prototype,"c",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(dn.prototype,"d",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(dn.prototype,"e",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(dn.prototype,"f",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(dn.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(dn.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(dn.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(dn.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),dn.prototype.join=function(P){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(K).join(P)},dn.prototype.multiply=function(P){var ne=P.sx*this.sx+P.shy*this.shx,De=P.sx*this.shy+P.shy*this.sy,$e=P.shx*this.sx+P.sy*this.shx,ct=P.shx*this.shy+P.sy*this.sy,kt=P.tx*this.sx+P.ty*this.shx+this.tx,Ft=P.tx*this.shy+P.ty*this.sy+this.ty;return new dn(ne,De,$e,ct,kt,Ft)},dn.prototype.decompose=function(){var P=this.sx,ne=this.shy,De=this.shx,$e=this.sy,ct=this.tx,kt=this.ty,Ft=Math.sqrt(P*P+ne*ne),Jt=(P/=Ft)*De+(ne/=Ft)*$e;De-=P*Jt,$e-=ne*Jt;var en=Math.sqrt(De*De+$e*$e);return Jt/=en,P*($e/=en)<ne*(De/=en)&&(P=-P,ne=-ne,Jt=-Jt,Ft=-Ft),{scale:new dn(Ft,0,0,en,0,0),translate:new dn(1,0,0,1,ct,kt),rotate:new dn(P,ne,-ne,P,0,0),skew:new dn(1,0,Jt,1,0,0)}},dn.prototype.toString=function(P){return this.join(" ")},dn.prototype.inversed=function(){var P=this.sx,ne=this.shy,De=this.shx,$e=this.sy,ct=this.tx,kt=this.ty,Ft=1/(P*$e-ne*De),Jt=$e*Ft,en=-ne*Ft,_n=-De*Ft,kn=P*Ft;return new dn(Jt,en,_n,kn,-Jt*ct-_n*kt,-en*ct-kn*kt)},dn.prototype.applyToPoint=function(P){var ne=P.x*this.sx+P.y*this.shx+this.tx,De=P.x*this.shy+P.y*this.sy+this.ty;return new Ns(ne,De)},dn.prototype.applyToRectangle=function(P){var ne=this.applyToPoint(P),De=this.applyToPoint(new Ns(P.x+P.w,P.y+P.h));return new ki(ne.x,ne.y,De.x-ne.x,De.y-ne.y)},dn.prototype.clone=function(){var P=this.sx,ne=this.shy,De=this.shx,$e=this.sy,ct=this.tx,kt=this.ty;return new dn(P,ne,De,$e,ct,kt)},x.Matrix=dn;var Ki=x.matrixMult=function(P,ne){return ne.multiply(P)},Ii=new dn(1,0,0,1,0,0);x.unitMatrix=x.identityMatrix=Ii;var Ri=function(P,ne){if(!Ps[P]){var De=(ne instanceof _u?"Sh":"P")+(Object.keys(Wn).length+1).toString(10);ne.id=De,Ps[P]=De,Wn[De]=ne,Yn.publish("addPattern",ne)}};x.ShadingPattern=_u,x.TilingPattern=Xu,x.addShadingPattern=function(P,ne){return X("addShadingPattern()"),Ri(P,ne),this},x.beginTilingPattern=function(P){X("beginTilingPattern()"),Fo(P.boundingBox[0],P.boundingBox[1],P.boundingBox[2]-P.boundingBox[0],P.boundingBox[3]-P.boundingBox[1],P.matrix)},x.endTilingPattern=function(P,ne){X("endTilingPattern()"),ne.stream=Ot[he].join(`
`),Ri(P,ne),Yn.publish("endTilingPattern",ne),Zi.pop().restore()};var $n=x.__private__.newObject=function(){var P=Kt();return ii(P,!0),P},Kt=x.__private__.newObjectDeferred=function(){return Te++,Ke[Te]=function(){return Ye},Te},ii=function(P,ne){return ne=typeof ne=="boolean"&&ne,Ke[P]=Ye,ne&&oe(P+" 0 obj"),P},ga=x.__private__.newAdditionalObject=function(){var P={objId:Kt(),content:""};return Tt.push(P),P},As=Kt(),fs=Kt(),Ji=x.__private__.decodeColorString=function(P){var ne=P.split(" ");if(ne.length!==2||ne[1]!=="g"&&ne[1]!=="G")ne.length===5&&(ne[4]==="k"||ne[4]==="K")&&(ne=[(1-ne[0])*(1-ne[3]),(1-ne[1])*(1-ne[3]),(1-ne[2])*(1-ne[3]),"r"]);else{var De=parseFloat(ne[0]);ne=[De,De,De,"r"]}for(var $e="#",ct=0;ct<3;ct++)$e+=("0"+Math.floor(255*parseFloat(ne[ct])).toString(16)).slice(-2);return $e},Kr=x.__private__.encodeColorString=function(P){var ne;typeof P=="string"&&(P={ch1:P});var De=P.ch1,$e=P.ch2,ct=P.ch3,kt=P.ch4,Ft=P.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof De=="string"&&De.charAt(0)!=="#"){var Jt=new Xm(De);if(Jt.ok)De=Jt.toHex();else if(!/^\d*\.?\d*$/.test(De))throw new Error('Invalid color "'+De+'" passed to jsPDF.encodeColorString.')}if(typeof De=="string"&&/^#[0-9A-Fa-f]{3}$/.test(De)&&(De="#"+De[1]+De[1]+De[2]+De[2]+De[3]+De[3]),typeof De=="string"&&/^#[0-9A-Fa-f]{6}$/.test(De)){var en=parseInt(De.substr(1),16);De=en>>16&255,$e=en>>8&255,ct=255&en}if($e===void 0||kt===void 0&&De===$e&&$e===ct)if(typeof De=="string")ne=De+" "+Ft[0];else switch(P.precision){case 2:ne=Ie(De/255)+" "+Ft[0];break;case 3:default:ne=te(De/255)+" "+Ft[0]}else if(kt===void 0||Lr(kt)==="object"){if(kt&&!isNaN(kt.a)&&kt.a===0)return ne=["1.","1.","1.",Ft[1]].join(" ");if(typeof De=="string")ne=[De,$e,ct,Ft[1]].join(" ");else switch(P.precision){case 2:ne=[Ie(De/255),Ie($e/255),Ie(ct/255),Ft[1]].join(" ");break;default:case 3:ne=[te(De/255),te($e/255),te(ct/255),Ft[1]].join(" ")}}else if(typeof De=="string")ne=[De,$e,ct,kt,Ft[2]].join(" ");else switch(P.precision){case 2:ne=[Ie(De),Ie($e),Ie(ct),Ie(kt),Ft[2]].join(" ");break;case 3:default:ne=[te(De),te($e),te(ct),te(kt),Ft[2]].join(" ")}return ne},gi=x.__private__.getFilters=function(){return c},Fi=x.__private__.putStream=function(P){var ne=(P=P||{}).data||"",De=P.filters||gi(),$e=P.alreadyAppliedFilters||[],ct=P.addLength1||!1,kt=ne.length,Ft=P.objectId,Jt=function(Ur){return Ur};if(S!==null&&Ft===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");S!==null&&(Jt=dr.encryptor(Ft,0));var en={};De===!0&&(De=["FlateEncode"]);var _n=P.additionalKeyValues||[],kn=(en=Bn.API.processDataByFilters!==void 0?Bn.API.processDataByFilters(ne,De):{data:ne,reverseChain:[]}).reverseChain+(Array.isArray($e)?$e.join(" "):$e.toString());if(en.data.length!==0&&(_n.push({key:"Length",value:en.data.length}),ct===!0&&_n.push({key:"Length1",value:kt})),kn.length!=0)if(kn.split("/").length-1==1)_n.push({key:"Filter",value:kn});else{_n.push({key:"Filter",value:"["+kn+"]"});for(var Rn=0;Rn<_n.length;Rn+=1)if(_n[Rn].key==="DecodeParms"){for(var _r=[],Zn=0;Zn<en.reverseChain.split("/").length-1;Zn+=1)_r.push("null");_r.push(_n[Rn].value),_n[Rn].value="["+_r.join(" ")+"]"}}oe("<<");for(var rr=0;rr<_n.length;rr++)oe("/"+_n[rr].key+" "+_n[rr].value);oe(">>"),en.data.length!==0&&(oe("stream"),oe(Jt(en.data)),oe("endstream"))},qs=x.__private__.putPage=function(P){var ne=P.number,De=P.data,$e=P.objId,ct=P.contentsObjId;ii($e,!0),oe("<</Type /Page"),oe("/Parent "+P.rootDictionaryObjId+" 0 R"),oe("/Resources "+P.resourceDictionaryObjId+" 0 R"),oe("/MediaBox ["+parseFloat(K(P.mediaBox.bottomLeftX))+" "+parseFloat(K(P.mediaBox.bottomLeftY))+" "+K(P.mediaBox.topRightX)+" "+K(P.mediaBox.topRightY)+"]"),P.cropBox!==null&&oe("/CropBox ["+K(P.cropBox.bottomLeftX)+" "+K(P.cropBox.bottomLeftY)+" "+K(P.cropBox.topRightX)+" "+K(P.cropBox.topRightY)+"]"),P.bleedBox!==null&&oe("/BleedBox ["+K(P.bleedBox.bottomLeftX)+" "+K(P.bleedBox.bottomLeftY)+" "+K(P.bleedBox.topRightX)+" "+K(P.bleedBox.topRightY)+"]"),P.trimBox!==null&&oe("/TrimBox ["+K(P.trimBox.bottomLeftX)+" "+K(P.trimBox.bottomLeftY)+" "+K(P.trimBox.topRightX)+" "+K(P.trimBox.topRightY)+"]"),P.artBox!==null&&oe("/ArtBox ["+K(P.artBox.bottomLeftX)+" "+K(P.artBox.bottomLeftY)+" "+K(P.artBox.topRightX)+" "+K(P.artBox.topRightY)+"]"),typeof P.userUnit=="number"&&P.userUnit!==1&&oe("/UserUnit "+P.userUnit),Yn.publish("putPage",{objId:$e,pageContext:En[ne],pageNumber:ne,page:De}),oe("/Contents "+ct+" 0 R"),oe(">>"),oe("endobj");var kt=De.join(`
`);return Z===W.ADVANCED&&(kt+=`
Q`),ii(ct,!0),Fi({data:kt,filters:gi(),objectId:ct}),oe("endobj"),$e},Ma=x.__private__.putPages=function(){var P,ne,De=[];for(P=1;P<=or;P++)En[P].objId=Kt(),En[P].contentsObjId=Kt();for(P=1;P<=or;P++)De.push(qs({number:P,data:Ot[P],objId:En[P].objId,contentsObjId:En[P].contentsObjId,mediaBox:En[P].mediaBox,cropBox:En[P].cropBox,bleedBox:En[P].bleedBox,trimBox:En[P].trimBox,artBox:En[P].artBox,userUnit:En[P].userUnit,rootDictionaryObjId:As,resourceDictionaryObjId:fs}));ii(As,!0),oe("<</Type /Pages");var $e="/Kids [";for(ne=0;ne<or;ne++)$e+=De[ne]+" 0 R ";oe($e+"]"),oe("/Count "+or),oe(">>"),oe("endobj"),Yn.publish("postPutPages")},Xa=function(P){Yn.publish("putFont",{font:P,out:oe,newObject:$n,putStream:Fi}),P.isAlreadyPutted!==!0&&(P.objectNumber=$n(),oe("<<"),oe("/Type /Font"),oe("/BaseFont /"+Ju(P.postScriptName)),oe("/Subtype /Type1"),typeof P.encoding=="string"&&oe("/Encoding /"+P.encoding),oe("/FirstChar 32"),oe("/LastChar 255"),oe(">>"),oe("endobj"))},Qa=function(){for(var P in zn)zn.hasOwnProperty(P)&&(E===!1||E===!0&&M.hasOwnProperty(P))&&Xa(zn[P])},Gs=function(P){P.objectNumber=$n();var ne=[];ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Form"}),ne.push({key:"BBox",value:"["+[K(P.x),K(P.y),K(P.x+P.width),K(P.y+P.height)].join(" ")+"]"}),ne.push({key:"Matrix",value:"["+P.matrix.toString()+"]"});var De=P.pages[1].join(`
`);Fi({data:De,additionalKeyValues:ne,objectId:P.objectNumber}),oe("endobj")},Ba=function(){for(var P in Zr)Zr.hasOwnProperty(P)&&Gs(Zr[P])},eo=function(P,ne){var De,$e=[],ct=1/(ne-1);for(De=0;De<1;De+=ct)$e.push(De);if($e.push(1),P[0].offset!=0){var kt={offset:0,color:P[0].color};P.unshift(kt)}if(P[P.length-1].offset!=1){var Ft={offset:1,color:P[P.length-1].color};P.push(Ft)}for(var Jt="",en=0,_n=0;_n<$e.length;_n++){for(De=$e[_n];De>P[en+1].offset;)en++;var kn=P[en].offset,Rn=(De-kn)/(P[en+1].offset-kn),_r=P[en].color,Zn=P[en+1].color;Jt+=pe(Math.round((1-Rn)*_r[0]+Rn*Zn[0]).toString(16))+pe(Math.round((1-Rn)*_r[1]+Rn*Zn[1]).toString(16))+pe(Math.round((1-Rn)*_r[2]+Rn*Zn[2]).toString(16))}return Jt.trim()},wr=function(P,ne){ne||(ne=21);var De=$n(),$e=eo(P.colors,ne),ct=[];ct.push({key:"FunctionType",value:"0"}),ct.push({key:"Domain",value:"[0.0 1.0]"}),ct.push({key:"Size",value:"["+ne+"]"}),ct.push({key:"BitsPerSample",value:"8"}),ct.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ct.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Fi({data:$e,additionalKeyValues:ct,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:De}),oe("endobj"),P.objectNumber=$n(),oe("<< /ShadingType "+P.type),oe("/ColorSpace /DeviceRGB");var kt="/Coords ["+K(parseFloat(P.coords[0]))+" "+K(parseFloat(P.coords[1]))+" ";P.type===2?kt+=K(parseFloat(P.coords[2]))+" "+K(parseFloat(P.coords[3])):kt+=K(parseFloat(P.coords[2]))+" "+K(parseFloat(P.coords[3]))+" "+K(parseFloat(P.coords[4]))+" "+K(parseFloat(P.coords[5])),oe(kt+="]"),P.matrix&&oe("/Matrix ["+P.matrix.toString()+"]"),oe("/Function "+De+" 0 R"),oe("/Extend [true true]"),oe(">>"),oe("endobj")},wl=function(P,ne){var De=Kt(),$e=$n();ne.push({resourcesOid:De,objectOid:$e}),P.objectNumber=$e;var ct=[];ct.push({key:"Type",value:"/Pattern"}),ct.push({key:"PatternType",value:"1"}),ct.push({key:"PaintType",value:"1"}),ct.push({key:"TilingType",value:"1"}),ct.push({key:"BBox",value:"["+P.boundingBox.map(K).join(" ")+"]"}),ct.push({key:"XStep",value:K(P.xStep)}),ct.push({key:"YStep",value:K(P.yStep)}),ct.push({key:"Resources",value:De+" 0 R"}),P.matrix&&ct.push({key:"Matrix",value:"["+P.matrix.toString()+"]"}),Fi({data:P.stream,additionalKeyValues:ct,objectId:P.objectNumber}),oe("endobj")},Ta=function(P){var ne;for(ne in Wn)Wn.hasOwnProperty(ne)&&(Wn[ne]instanceof _u?wr(Wn[ne]):Wn[ne]instanceof Xu&&wl(Wn[ne],P))},Io=function(P){for(var ne in P.objectNumber=$n(),oe("<<"),P)switch(ne){case"opacity":oe("/ca "+Ie(P[ne]));break;case"stroke-opacity":oe("/CA "+Ie(P[ne]))}oe(">>"),oe("endobj")},_o=function(){var P;for(P in ar)ar.hasOwnProperty(P)&&Io(ar[P])},to=function(){for(var P in oe("/XObject <<"),Zr)Zr.hasOwnProperty(P)&&Zr[P].objectNumber>=0&&oe("/"+P+" "+Zr[P].objectNumber+" 0 R");Yn.publish("putXobjectDict"),oe(">>")},Na=function(){dr.oid=$n(),oe("<<"),oe("/Filter /Standard"),oe("/V "+dr.v),oe("/R "+dr.r),oe("/U <"+dr.toHexString(dr.U)+">"),oe("/O <"+dr.toHexString(dr.O)+">"),oe("/P "+dr.P),oe(">>"),oe("endobj")},Oa=function(){for(var P in oe("/Font <<"),zn)zn.hasOwnProperty(P)&&(E===!1||E===!0&&M.hasOwnProperty(P))&&oe("/"+P+" "+zn[P].objectNumber+" 0 R");oe(">>")},Yi=function(){if(Object.keys(Wn).length>0){for(var P in oe("/Shading <<"),Wn)Wn.hasOwnProperty(P)&&Wn[P]instanceof _u&&Wn[P].objectNumber>=0&&oe("/"+P+" "+Wn[P].objectNumber+" 0 R");Yn.publish("putShadingPatternDict"),oe(">>")}},Xi=function(P){if(Object.keys(Wn).length>0){for(var ne in oe("/Pattern <<"),Wn)Wn.hasOwnProperty(ne)&&Wn[ne]instanceof x.TilingPattern&&Wn[ne].objectNumber>=0&&Wn[ne].objectNumber<P&&oe("/"+ne+" "+Wn[ne].objectNumber+" 0 R");Yn.publish("putTilingPatternDict"),oe(">>")}},An=function(){if(Object.keys(ar).length>0){var P;for(P in oe("/ExtGState <<"),ar)ar.hasOwnProperty(P)&&ar[P].objectNumber>=0&&oe("/"+P+" "+ar[P].objectNumber+" 0 R");Yn.publish("putGStateDict"),oe(">>")}},Mn=function(P){ii(P.resourcesOid,!0),oe("<<"),oe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Oa(),Yi(),Xi(P.objectOid),An(),to(),oe(">>"),oe("endobj")},Da=function(){var P=[];Qa(),_o(),Ba(),Ta(P),Yn.publish("putResources"),P.forEach(Mn),Mn({resourcesOid:fs,objectOid:Number.MAX_SAFE_INTEGER}),Yn.publish("postPutResources")},_a=function(){Yn.publish("putAdditionalObjects");for(var P=0;P<Tt.length;P++){var ne=Tt[P];ii(ne.objId,!0),oe(ne.content),oe("endobj")}Yn.publish("postPutAdditionalObjects")},Qi=function(P){jn[P.fontName]=jn[P.fontName]||{},jn[P.fontName][P.fontStyle]=P.id},Hs=function(P,ne,De,$e,ct){var kt={id:"F"+(Object.keys(zn).length+1).toString(10),postScriptName:P,fontName:ne,fontStyle:De,encoding:$e,isStandardFont:ct||!1,metadata:{}};return Yn.publish("addFont",{font:kt,instance:this}),zn[kt.id]=kt,Qi(kt),kt.id},Ln=function(P){for(var ne=0,De=Ne.length;ne<De;ne++){var $e=Hs.call(this,P[ne][0],P[ne][1],P[ne][2],Ne[ne][3],!0);E===!1&&(M[$e]=!0);var ct=P[ne][0].split("-");Qi({id:$e,fontName:ct[0],fontStyle:ct[1]||""})}Yn.publish("addFonts",{fonts:zn,dictionary:jn})},Vn=function(P){return P.foo=function(){try{return P.apply(this,arguments)}catch($e){var ne=$e.stack||"";~ne.indexOf(" at ")&&(ne=ne.split(" at ")[1]);var De="Error in function "+ne.split(`
`)[0].split("<")[0]+": "+$e.message;if(!Tn.console)throw new Error(De);Tn.console.error(De,$e),Tn.alert&&alert(De)}},P.foo.bar=P,P.foo},Ia=function(P,ne){var De,$e,ct,kt,Ft,Jt,en,_n,kn;if(ct=(ne=ne||{}).sourceEncoding||"Unicode",Ft=ne.outputEncoding,(ne.autoencode||Ft)&&zn[wn].metadata&&zn[wn].metadata[ct]&&zn[wn].metadata[ct].encoding&&(kt=zn[wn].metadata[ct].encoding,!Ft&&zn[wn].encoding&&(Ft=zn[wn].encoding),!Ft&&kt.codePages&&(Ft=kt.codePages[0]),typeof Ft=="string"&&(Ft=kt[Ft]),Ft)){for(en=!1,Jt=[],De=0,$e=P.length;De<$e;De++)(_n=Ft[P.charCodeAt(De)])?Jt.push(String.fromCharCode(_n)):Jt.push(P[De]),Jt[De].charCodeAt(0)>>8&&(en=!0);P=Jt.join("")}for(De=P.length;en===void 0&&De!==0;)P.charCodeAt(De-1)>>8&&(en=!0),De--;if(!en)return P;for(Jt=ne.noBOM?[]:[254,255],De=0,$e=P.length;De<$e;De++){if((kn=(_n=P.charCodeAt(De))>>8)>>8)throw new Error("Character at position "+De+" of string '"+P+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Jt.push(kn),Jt.push(_n-(kn<<8))}return String.fromCharCode.apply(void 0,Jt)},si=x.__private__.pdfEscape=x.pdfEscape=function(P,ne){return Ia(P,ne).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Jr=x.__private__.beginPage=function(P){Ot[++or]=[],En[or]={objId:0,contentsObjId:0,userUnit:Number(p),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(P[0]),topRightY:Number(P[1])}},ji(or),je(Ot[he])},Ro=function(P,ne){var De,$e,ct;switch(e=ne||e,typeof P=="string"&&(De=O(P.toLowerCase()),Array.isArray(De)&&($e=De[0],ct=De[1])),Array.isArray(P)&&($e=P[0]*Vt,ct=P[1]*Vt),isNaN($e)&&($e=u[0],ct=u[1]),($e>14400||ct>14400)&&(Or.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),$e=Math.min(14400,$e),ct=Math.min(14400,ct)),u=[$e,ct],e.substr(0,1)){case"l":ct>$e&&(u=[ct,$e]);break;case"p":$e>ct&&(u=[ct,$e])}Jr(u),Ys(xo),oe(oi),ko!==0&&oe(ko+" J"),Br!==0&&oe(Br+" j"),Yn.publish("addPage",{pageNumber:or})},Ra=function(P){P>0&&P<=or&&(Ot.splice(P,1),En.splice(P,1),or--,he>or&&(he=or),this.setPage(he))},ji=function(P){P>0&&P<=or&&(he=P)},kr=x.__private__.getNumberOfPages=x.getNumberOfPages=function(){return Ot.length-1},ds=function(P,ne,De){var $e,ct=void 0;return De=De||{},P=P!==void 0?P:zn[wn].fontName,ne=ne!==void 0?ne:zn[wn].fontStyle,$e=P.toLowerCase(),jn[$e]!==void 0&&jn[$e][ne]!==void 0?ct=jn[$e][ne]:jn[P]!==void 0&&jn[P][ne]!==void 0?ct=jn[P][ne]:De.disableWarning===!1&&Or.warn("Unable to look up font label for font '"+P+"', '"+ne+"'. Refer to getFontList() for available fonts."),ct||De.noFallback||(ct=jn.times[ne])==null&&(ct=jn.times.normal),ct},Gn=x.__private__.putInfo=function(){var P=$n(),ne=function($e){return $e};for(var De in S!==null&&(ne=dr.encryptor(P,0)),oe("<<"),oe("/Producer ("+si(ne("jsPDF "+Bn.version))+")"),on)on.hasOwnProperty(De)&&on[De]&&oe("/"+De.substr(0,1).toUpperCase()+De.substr(1)+" ("+si(ne(on[De]))+")");oe("/CreationDate ("+si(ne(Be))+")"),oe(">>"),oe("endobj")},Ws=x.__private__.putCatalog=function(P){var ne=(P=P||{}).rootDictionaryObjId||As;switch($n(),oe("<<"),oe("/Type /Catalog"),oe("/Pages "+ne+" 0 R"),ut||(ut="fullwidth"),ut){case"fullwidth":oe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":oe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":oe("/OpenAction [3 0 R /Fit]");break;case"original":oe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var De=""+ut;De.substr(De.length-1)==="%"&&(ut=parseInt(ut)/100),typeof ut=="number"&&oe("/OpenAction [3 0 R /XYZ null null "+Ie(ut)+"]")}switch(Ut||(Ut="continuous"),Ut){case"continuous":oe("/PageLayout /OneColumn");break;case"single":oe("/PageLayout /SinglePage");break;case"two":case"twoleft":oe("/PageLayout /TwoColumnLeft");break;case"tworight":oe("/PageLayout /TwoColumnRight")}It&&oe("/PageMode /"+It),Yn.publish("putCatalog"),oe(">>"),oe("endobj")},vo=x.__private__.putTrailer=function(){oe("trailer"),oe("<<"),oe("/Size "+(Te+1)),oe("/Root "+Te+" 0 R"),oe("/Info "+(Te-1)+" 0 R"),S!==null&&oe("/Encrypt "+dr.oid+" 0 R"),oe("/ID [ <"+Ve+"> <"+Ve+"> ]"),oe(">>")},Vs=x.__private__.putHeader=function(){oe("%PDF-"+R),oe("%")},yo=x.__private__.putXRef=function(){var P="0000000000";oe("xref"),oe("0 "+(Te+1)),oe("0000000000 65535 f ");for(var ne=1;ne<=Te;ne++)typeof Ke[ne]=="function"?oe((P+Ke[ne]()).slice(-10)+" 00000 n "):Ke[ne]!==void 0?oe((P+Ke[ne]).slice(-10)+" 00000 n "):oe("0000000000 00000 n ")},ps=x.__private__.buildDocument=function(){$(),je(We),Yn.publish("buildDocument"),Vs(),Ma(),_a(),Da(),S!==null&&Na(),Gn(),Ws();var P=Ye;return yo(),vo(),oe("startxref"),oe(""+P),oe("%%EOF"),je(Ot[he]),We.join(`
`)},$s=x.__private__.getBlob=function(P){return new Blob([we(P)],{type:"application/pdf"})},Zs=x.output=x.__private__.output=Vn((function(P,ne){switch(typeof(ne=ne||{})=="string"?ne={filename:ne}:ne.filename=ne.filename||"generated.pdf",P){case void 0:return ps();case"save":x.save(ne.filename);break;case"arraybuffer":return we(ps());case"blob":return $s(ps());case"bloburi":case"bloburl":if(Tn.URL!==void 0&&typeof Tn.URL.createObjectURL=="function")return Tn.URL&&Tn.URL.createObjectURL($s(ps()))||void 0;Or.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var De="",$e=ps();try{De=gd($e)}catch{De=gd(unescape(encodeURIComponent($e)))}return"data:application/pdf;filename="+ne.filename+";base64,"+De;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Tn)==="[object Window]"){var ct="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",kt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ne.pdfObjectUrl&&(ct=ne.pdfObjectUrl,kt="");var Ft='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ct+'"'+kt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ne)+");<\/script></body></html>",Jt=Tn.open();return Jt!==null&&Jt.document.write(Ft),Jt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Tn)==="[object Window]"){var en='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ne.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ne.filename+'" width="500px" height="400px" /></body></html>',_n=Tn.open();if(_n!==null){_n.document.write(en);var kn=this;_n.document.documentElement.querySelector("#pdfViewer").onload=function(){_n.document.title=ne.filename,_n.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(kn.output("bloburl"))}}return _n}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Tn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Rn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ne)+'"></iframe></body></html>',_r=Tn.open();if(_r!==null&&(_r.document.write(Rn),_r.document.title=ne.filename),_r||typeof safari>"u")return _r;break;case"datauri":case"dataurl":return Tn.document.location.href=this.output("datauristring",ne);default:return null}})),va=function(P){return Array.isArray(ma)===!0&&ma.indexOf(P)>-1};switch(a){case"pt":Vt=1;break;case"mm":Vt=72/25.4;break;case"cm":Vt=72/2.54;break;case"in":Vt=72;break;case"px":Vt=va("px_scaling")==1?.75:96/72;break;case"pc":case"em":Vt=12;break;case"ex":Vt=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);Vt=a}var dr=null;re(),xe();var Ms=function(P){return S!==null?dr.encryptor(P,0):function(ne){return ne}},es=x.__private__.getPageInfo=x.getPageInfo=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:En[P].objId,pageNumber:P,pageContext:En[P]}},bn=x.__private__.getPageInfoByObjId=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ne in En)if(En[ne].objId===P)break;return es(ne)},xn=x.__private__.getCurrentPageInfo=x.getCurrentPageInfo=function(){return{objId:En[he].objId,pageNumber:he,pageContext:En[he]}};x.addPage=function(){return Ro.apply(this,arguments),this},x.setPage=function(){return ji.apply(this,arguments),je.call(this,Ot[he]),this},x.insertPage=function(P){return this.addPage(),this.movePage(he,P),this},x.movePage=function(P,ne){var De,$e;if(P>ne){De=Ot[P],$e=En[P];for(var ct=P;ct>ne;ct--)Ot[ct]=Ot[ct-1],En[ct]=En[ct-1];Ot[ne]=De,En[ne]=$e,this.setPage(ne)}else if(P<ne){De=Ot[P],$e=En[P];for(var kt=P;kt<ne;kt++)Ot[kt]=Ot[kt+1],En[kt]=En[kt+1];Ot[ne]=De,En[ne]=$e,this.setPage(ne)}return this},x.deletePage=function(){return Ra.apply(this,arguments),this},x.__private__.text=x.text=function(P,ne,De,$e,ct){var kt,Ft,Jt,en,_n,kn,Rn,_r,Zn,rr=($e=$e||{}).scope||this;if(typeof P=="number"&&typeof ne=="number"&&(typeof De=="string"||Array.isArray(De))){var Ur=De;De=ne,ne=P,P=Ur}if(arguments[3]instanceof dn?(X("The transform parameter of text() with a Matrix value"),Zn=ct):(Jt=arguments[4],en=arguments[5],Lr(Rn=arguments[3])==="object"&&Rn!==null||(typeof Jt=="string"&&(en=Jt,Jt=null),typeof Rn=="string"&&(en=Rn,Rn=null),typeof Rn=="number"&&(Jt=Rn,Rn=null),$e={flags:Rn,angle:Jt,align:en})),isNaN(ne)||isNaN(De)||P==null)throw new Error("Invalid arguments passed to jsPDF.text");if(P.length===0)return rr;var Rr="",ns=!1,hr=typeof $e.lineHeightFactor=="number"?$e.lineHeightFactor:io,li=rr.internal.scaleFactor;function qa(ir){return ir=ir.split("	").join(Array($e.TabLen||9).join(" ")),si(ir,Rn)}function Ci(ir){for(var Qn,Er=ir.concat(),lr=[],xs=Er.length;xs--;)typeof(Qn=Er.shift())=="string"?lr.push(Qn):Array.isArray(ir)&&(Qn.length===1||Qn[1]===void 0&&Qn[2]===void 0)?lr.push(Qn[0]):lr.push([Qn[0],Qn[1],Qn[2]]);return lr}function Eo(ir,Qn){var Er;if(typeof ir=="string")Er=Qn(ir)[0];else if(Array.isArray(ir)){for(var lr,xs,xa=ir.concat(),Rs=[],zo=xa.length;zo--;)typeof(lr=xa.shift())=="string"?Rs.push(Qn(lr)[0]):Array.isArray(lr)&&typeof lr[0]=="string"&&(xs=Qn(lr[0],lr[1],lr[2]),Rs.push([xs[0],xs[1],xs[2]]));Er=Rs}return Er}var _s=!1,Po=!0;if(typeof P=="string")_s=!0;else if(Array.isArray(P)){var Qs=P.concat();Ft=[];for(var ea,vr=Qs.length;vr--;)(typeof(ea=Qs.shift())!="string"||Array.isArray(ea)&&typeof ea[0]!="string")&&(Po=!1);_s=Po}if(_s===!1)throw new Error('Type of text must be string or Array. "'+P+'" is not recognized.');typeof P=="string"&&(P=P.match(/[\r?\n]/)?P.split(/\r\n|\r|\n/g):[P]);var Ao=it/rr.internal.scaleFactor,Ui=Ao*(hr-1);switch($e.baseline){case"bottom":De-=Ui;break;case"top":De+=Ao-Ui;break;case"hanging":De+=Ao-2*Ui;break;case"middle":De+=Ao/2-Ui}if((kn=$e.maxWidth||0)>0&&(typeof P=="string"?P=rr.splitTextToSize(P,kn):Object.prototype.toString.call(P)==="[object Array]"&&(P=P.reduce((function(ir,Qn){return ir.concat(rr.splitTextToSize(Qn,kn))}),[]))),kt={text:P,x:ne,y:De,options:$e,mutex:{pdfEscape:si,activeFontKey:wn,fonts:zn,activeFontSize:it}},Yn.publish("preProcessText",kt),P=kt.text,Jt=($e=kt.options).angle,!(Zn instanceof dn)&&Jt&&typeof Jt=="number"){Jt*=Math.PI/180,$e.rotationDirection===0&&(Jt=-Jt),Z===W.ADVANCED&&(Jt=-Jt);var Si=Math.cos(Jt),lo=Math.sin(Jt);Zn=new dn(Si,lo,-lo,Si,0,0)}else Jt&&Jt instanceof dn&&(Zn=Jt);Z!==W.ADVANCED||Zn||(Zn=Ii),(_n=$e.charSpace||za)!==void 0&&(Rr+=K(G(_n))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(_r=$e.horizontalScale)!==void 0&&(Rr+=K(100*_r)+` Tz
`),$e.lang;var ui=-1,rs=$e.renderingMode!==void 0?$e.renderingMode:$e.stroke,hi=rr.internal.getCurrentPageInfo().pageContext;switch(rs){case 0:case!1:case"fill":ui=0;break;case 1:case!0:case"stroke":ui=1;break;case 2:case"fillThenStroke":ui=2;break;case 3:case"invisible":ui=3;break;case 4:case"fillAndAddForClipping":ui=4;break;case 5:case"strokeAndAddPathForClipping":ui=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ui=6;break;case 7:case"addToPathForClipping":ui=7}var ll=hi.usedRenderingMode!==void 0?hi.usedRenderingMode:-1;ui!==-1?Rr+=ui+` Tr
`:ll!==-1&&(Rr+=`0 Tr
`),ui!==-1&&(hi.usedRenderingMode=ui),en=$e.align||"left";var Sr,ta=it*hr,is=rr.internal.pageSize.getWidth(),ya=zn[wn];_n=$e.charSpace||za,kn=$e.maxWidth||0,Rn=Object.assign({autoencode:!0,noBOM:!0},$e.flags);var Os=[],Ds=function(ir){return rr.getStringUnitWidth(ir,{font:ya,charSpace:_n,fontSize:it,doKerning:!1})*it/li};if(Object.prototype.toString.call(P)==="[object Array]"){var Xr;Ft=Ci(P),en!=="left"&&(Sr=Ft.map(Ds));var qr,Is=0;if(en==="right"){ne-=Sr[0],P=[],vr=Ft.length;for(var qi=0;qi<vr;qi++)qi===0?(qr=gn(ne),Xr=Yr(De)):(qr=G(Is-Sr[qi]),Xr=-ta),P.push([Ft[qi],qr,Xr]),Is=Sr[qi]}else if(en==="center"){ne-=Sr[0]/2,P=[],vr=Ft.length;for(var vs=0;vs<vr;vs++)vs===0?(qr=gn(ne),Xr=Yr(De)):(qr=G((Is-Sr[vs])/2),Xr=-ta),P.push([Ft[vs],qr,Xr]),Is=Sr[vs]}else if(en==="left"){P=[],vr=Ft.length;for(var wa=0;wa<vr;wa++)P.push(Ft[wa])}else if(en==="justify"&&ya.encoding==="Identity-H"){P=[],vr=Ft.length,kn=kn!==0?kn:is;for(var ys=0,Xn=0;Xn<vr;Xn++)if(Xr=Xn===0?Yr(De):-ta,qr=Xn===0?gn(ne):ys,Xn<vr-1){var Gi=G((kn-Sr[Xn])/(Ft[Xn].split(" ").length-1)),vi=Ft[Xn].split(" ");P.push([vi[0]+" ",qr,Xr]),ys=0;for(var ci=1;ci<vi.length;ci++){var Ga=(Ds(vi[ci-1]+" "+vi[ci])-Ds(vi[ci]))*li+Gi;ci==vi.length-1?P.push([vi[ci],Ga,0]):P.push([vi[ci]+" ",Ga,0]),ys-=Ga}}else P.push([Ft[Xn],qr,Xr]);P.push(["",ys,0])}else{if(en!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(P=[],vr=Ft.length,kn=kn!==0?kn:is,Xn=0;Xn<vr;Xn++)Xr=Xn===0?Yr(De):-ta,qr=Xn===0?gn(ne):0,Xn<vr-1?Os.push(K(G((kn-Sr[Xn])/(Ft[Xn].split(" ").length-1)))):Os.push(0),P.push([Ft[Xn],qr,Xr])}}var Mo=typeof $e.R2L=="boolean"?$e.R2L:Lt;Mo===!0&&(P=Eo(P,(function(ir,Qn,Er){return[ir.split("").reverse().join(""),Qn,Er]}))),kt={text:P,x:ne,y:De,options:$e,mutex:{pdfEscape:si,activeFontKey:wn,fonts:zn,activeFontSize:it}},Yn.publish("postProcessText",kt),P=kt.text,ns=kt.mutex.isHex||!1;var uo=zn[wn].encoding;uo!=="WinAnsiEncoding"&&uo!=="StandardEncoding"||(P=Eo(P,(function(ir,Qn,Er){return[qa(ir),Qn,Er]}))),Ft=Ci(P),P=[];for(var yi,Hi,ss,ws=0,na=1,ra=Array.isArray(Ft[0])?na:ws,ba="",bs=function(ir,Qn,Er){var lr="";return Er instanceof dn?(Er=typeof $e.angle=="number"?Ki(Er,new dn(1,0,0,1,ir,Qn)):Ki(new dn(1,0,0,1,ir,Qn),Er),Z===W.ADVANCED&&(Er=Ki(new dn(1,0,0,-1,0,0),Er)),lr=Er.join(" ")+` Tm
`):lr=K(ir)+" "+K(Qn)+` Td
`,lr},fi=0;fi<Ft.length;fi++){switch(ba="",ra){case na:ss=(ns?"<":"(")+Ft[fi][0]+(ns?">":")"),yi=parseFloat(Ft[fi][1]),Hi=parseFloat(Ft[fi][2]);break;case ws:ss=(ns?"<":"(")+Ft[fi]+(ns?">":")"),yi=gn(ne),Hi=Yr(De)}Os!==void 0&&Os[fi]!==void 0&&(ba=Os[fi]+` Tw
`),fi===0?P.push(ba+bs(yi,Hi,Zn)+ss):ra===ws?P.push(ba+ss):ra===na&&P.push(ba+bs(yi,Hi,Zn)+ss)}P=ra===ws?P.join(` Tj
T* `):P.join(` Tj
`),P+=` Tj
`;var Gr=`BT
/`;return Gr+=wn+" "+it+` Tf
`,Gr+=K(it*hr)+` TL
`,Gr+=Cr+`
`,Gr+=Rr,Gr+=P,oe(Gr+="ET"),M[wn]=!0,rr};var zr=x.__private__.clip=x.clip=function(P){return oe(P==="evenodd"?"W*":"W"),this};x.clipEvenOdd=function(){return zr("evenodd")},x.__private__.discardPath=x.discardPath=function(){return oe("n"),this};var Hn=x.__private__.isValidStyle=function(P){var ne=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(P)!==-1&&(ne=!0),ne};x.__private__.setDefaultPathOperation=x.setDefaultPathOperation=function(P){return Hn(P)&&(y=P),this};var wo=x.__private__.getStyle=x.getStyle=function(P){var ne=y;switch(P){case"D":case"S":ne="S";break;case"F":ne="f";break;case"FD":case"DF":ne="B";break;case"f":case"f*":case"B":case"B*":ne=P}return ne},Ks=x.close=function(){return oe("h"),this};x.stroke=function(){return oe("S"),this},x.fill=function(P){return Fa("f",P),this},x.fillEvenOdd=function(P){return Fa("f*",P),this},x.fillStroke=function(P){return Fa("B",P),this},x.fillStrokeEvenOdd=function(P){return Fa("B*",P),this};var Fa=function(P,ne){Lr(ne)==="object"?bo(ne,P):oe(P)},ts=function(P){P===null||Z===W.ADVANCED&&P===void 0||(P=wo(P),oe(P))};function ms(P,ne,De,$e,ct){var kt=new Xu(ne||this.boundingBox,De||this.xStep,$e||this.yStep,this.gState,ct||this.matrix);kt.stream=this.stream;var Ft=P+"$$"+this.cloneIndex+++"$$";return Ri(Ft,kt),kt}var bo=function(P,ne){var De=Ps[P.key],$e=Wn[De];if($e instanceof _u)oe("q"),oe(no(ne)),$e.gState&&x.setGState($e.gState),oe(P.matrix.toString()+" cm"),oe("/"+De+" sh"),oe("Q");else if($e instanceof Xu){var ct=new dn(1,0,0,-1,0,Ua());P.matrix&&(ct=ct.multiply(P.matrix||Ii),De=ms.call($e,P.key,P.boundingBox,P.xStep,P.yStep,ct).id),oe("q"),oe("/Pattern cs"),oe("/"+De+" scn"),$e.gState&&x.setGState($e.gState),oe(ne),oe("Q")}},no=function(P){switch(P){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},gr=x.moveTo=function(P,ne){return oe(K(G(P))+" "+K(F(ne))+" m"),this},ai=x.lineTo=function(P,ne){return oe(K(G(P))+" "+K(F(ne))+" l"),this},zi=x.curveTo=function(P,ne,De,$e,ct,kt){return oe([K(G(P)),K(F(ne)),K(G(De)),K(F($e)),K(G(ct)),K(F(kt)),"c"].join(" ")),this};x.__private__.line=x.line=function(P,ne,De,$e,ct){if(isNaN(P)||isNaN(ne)||isNaN(De)||isNaN($e)||!Hn(ct))throw new Error("Invalid arguments passed to jsPDF.line");return Z===W.COMPAT?this.lines([[De-P,$e-ne]],P,ne,[1,1],ct||"S"):this.lines([[De-P,$e-ne]],P,ne,[1,1]).stroke()},x.__private__.lines=x.lines=function(P,ne,De,$e,ct,kt){var Ft,Jt,en,_n,kn,Rn,_r,Zn,rr,Ur,Rr,ns;if(typeof P=="number"&&(ns=De,De=ne,ne=P,P=ns),$e=$e||[1,1],kt=kt||!1,isNaN(ne)||isNaN(De)||!Array.isArray(P)||!Array.isArray($e)||!Hn(ct)||typeof kt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(gr(ne,De),Ft=$e[0],Jt=$e[1],_n=P.length,Ur=ne,Rr=De,en=0;en<_n;en++)(kn=P[en]).length===2?(Ur=kn[0]*Ft+Ur,Rr=kn[1]*Jt+Rr,ai(Ur,Rr)):(Rn=kn[0]*Ft+Ur,_r=kn[1]*Jt+Rr,Zn=kn[2]*Ft+Ur,rr=kn[3]*Jt+Rr,Ur=kn[4]*Ft+Ur,Rr=kn[5]*Jt+Rr,zi(Rn,_r,Zn,rr,Ur,Rr));return kt&&Ks(),ts(ct),this},x.path=function(P){for(var ne=0;ne<P.length;ne++){var De=P[ne],$e=De.c;switch(De.op){case"m":gr($e[0],$e[1]);break;case"l":ai($e[0],$e[1]);break;case"c":zi.apply(this,$e);break;case"h":Ks()}}return this},x.__private__.rect=x.rect=function(P,ne,De,$e,ct){if(isNaN(P)||isNaN(ne)||isNaN(De)||isNaN($e)||!Hn(ct))throw new Error("Invalid arguments passed to jsPDF.rect");return Z===W.COMPAT&&($e=-$e),oe([K(G(P)),K(F(ne)),K(G(De)),K(G($e)),"re"].join(" ")),ts(ct),this},x.__private__.triangle=x.triangle=function(P,ne,De,$e,ct,kt,Ft){if(isNaN(P)||isNaN(ne)||isNaN(De)||isNaN($e)||isNaN(ct)||isNaN(kt)||!Hn(Ft))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[De-P,$e-ne],[ct-De,kt-$e],[P-ct,ne-kt]],P,ne,[1,1],Ft,!0),this},x.__private__.roundedRect=x.roundedRect=function(P,ne,De,$e,ct,kt,Ft){if(isNaN(P)||isNaN(ne)||isNaN(De)||isNaN($e)||isNaN(ct)||isNaN(kt)||!Hn(Ft))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Jt=4/3*(Math.SQRT2-1);return ct=Math.min(ct,.5*De),kt=Math.min(kt,.5*$e),this.lines([[De-2*ct,0],[ct*Jt,0,ct,kt-kt*Jt,ct,kt],[0,$e-2*kt],[0,kt*Jt,-ct*Jt,kt,-ct,kt],[2*ct-De,0],[-ct*Jt,0,-ct,-kt*Jt,-ct,-kt],[0,2*kt-$e],[0,-kt*Jt,ct*Jt,-kt,ct,-kt]],P+ct,ne,[1,1],Ft,!0),this},x.__private__.ellipse=x.ellipse=function(P,ne,De,$e,ct){if(isNaN(P)||isNaN(ne)||isNaN(De)||isNaN($e)||!Hn(ct))throw new Error("Invalid arguments passed to jsPDF.ellipse");var kt=4/3*(Math.SQRT2-1)*De,Ft=4/3*(Math.SQRT2-1)*$e;return gr(P+De,ne),zi(P+De,ne-Ft,P+kt,ne-$e,P,ne-$e),zi(P-kt,ne-$e,P-De,ne-Ft,P-De,ne),zi(P-De,ne+Ft,P-kt,ne+$e,P,ne+$e),zi(P+kt,ne+$e,P+De,ne+Ft,P+De,ne),ts(ct),this},x.__private__.circle=x.circle=function(P,ne,De,$e){if(isNaN(P)||isNaN(ne)||isNaN(De)||!Hn($e))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(P,ne,De,De,$e)},x.setFont=function(P,ne,De){return De&&(ne=Se(ne,De)),wn=ds(P,ne,{disableWarning:!1}),this};var ro=x.__private__.getFont=x.getFont=function(){return zn[ds.apply(x,arguments)]};x.__private__.getFontList=x.getFontList=function(){var P,ne,De={};for(P in jn)if(jn.hasOwnProperty(P))for(ne in De[P]=[],jn[P])jn[P].hasOwnProperty(ne)&&De[P].push(ne);return De},x.addFont=function(P,ne,De,$e,ct){var kt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&kt.indexOf(arguments[3])!==-1?ct=arguments[3]:arguments[3]&&kt.indexOf(arguments[3])==-1&&(De=Se(De,$e)),ct=ct||"Identity-H",Hs.call(this,P,ne,De,ct)};var io,xo=o.lineWidth||.200025,Js=x.__private__.getLineWidth=x.getLineWidth=function(){return xo},Ys=x.__private__.setLineWidth=x.setLineWidth=function(P){return xo=P,oe(K(G(P))+" w"),this};x.__private__.setLineDash=Bn.API.setLineDash=Bn.API.setLineDashPattern=function(P,ne){if(P=P||[],ne=ne||0,isNaN(ne)||!Array.isArray(P))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return P=P.map((function(De){return K(G(De))})).join(" "),ne=K(G(ne)),oe("["+P+"] "+ne+" d"),this};var so=x.__private__.getLineHeight=x.getLineHeight=function(){return it*io};x.__private__.getLineHeight=x.getLineHeight=function(){return it*io};var In=x.__private__.setLineHeightFactor=x.setLineHeightFactor=function(P){return typeof(P=P||1.15)=="number"&&(io=P),this},gs=x.__private__.getLineHeightFactor=x.getLineHeightFactor=function(){return io};In(o.lineHeight);var gn=x.__private__.getHorizontalCoordinate=function(P){return G(P)},Yr=x.__private__.getVerticalCoordinate=function(P){return Z===W.ADVANCED?P:En[he].mediaBox.topRightY-En[he].mediaBox.bottomLeftY-G(P)},ja=x.__private__.getHorizontalCoordinateString=x.getHorizontalCoordinateString=function(P){return K(gn(P))},Bs=x.__private__.getVerticalCoordinateString=x.getVerticalCoordinateString=function(P){return K(Yr(P))},oi=o.strokeColor||"0 G";x.__private__.getStrokeColor=x.getDrawColor=function(){return Ji(oi)},x.__private__.setStrokeColor=x.setDrawColor=function(P,ne,De,$e){return oi=Kr({ch1:P,ch2:ne,ch3:De,ch4:$e,pdfColorType:"draw",precision:2}),oe(oi),this};var Lo=o.fillColor||"0 g";x.__private__.getFillColor=x.getFillColor=function(){return Ji(Lo)},x.__private__.setFillColor=x.setFillColor=function(P,ne,De,$e){return Lo=Kr({ch1:P,ch2:ne,ch3:De,ch4:$e,pdfColorType:"fill",precision:2}),oe(Lo),this};var Cr=o.textColor||"0 g",Ts=x.__private__.getTextColor=x.getTextColor=function(){return Ji(Cr)};x.__private__.setTextColor=x.setTextColor=function(P,ne,De,$e){return Cr=Kr({ch1:P,ch2:ne,ch3:De,ch4:$e,pdfColorType:"text",precision:3}),this};var za=o.charSpace,_i=x.__private__.getCharSpace=x.getCharSpace=function(){return parseFloat(za||0)};x.__private__.setCharSpace=x.setCharSpace=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return za=P,this};var ko=0;x.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},x.__private__.setLineCap=x.setLineCap=function(P){var ne=x.CapJoinStyles[P];if(ne===void 0)throw new Error("Line cap style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ko=ne,oe(ne+" J"),this};var Br=0;x.__private__.setLineJoin=x.setLineJoin=function(P){var ne=x.CapJoinStyles[P];if(ne===void 0)throw new Error("Line join style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Br=ne,oe(ne+" j"),this},x.__private__.setLineMiterLimit=x.__private__.setMiterLimit=x.setLineMiterLimit=x.setMiterLimit=function(P){if(P=P||0,isNaN(P))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return oe(K(G(P))+" M"),this},x.GState=Ac,x.setGState=function(P){(P=typeof P=="string"?ar[Ir[P]]:Co(null,P)).equals(Mr)||(oe("/"+P.id+" gs"),Mr=P)};var Co=function(P,ne){if(!P||!Ir[P]){var De=!1;for(var $e in ar)if(ar.hasOwnProperty($e)&&ar[$e].equals(ne)){De=!0;break}if(De)ne=ar[$e];else{var ct="GS"+(Object.keys(ar).length+1).toString(10);ar[ct]=ne,ne.id=ct}return P&&(Ir[P]=ne.id),Yn.publish("addGState",ne),ne}};x.addGState=function(P,ne){return Co(P,ne),this},x.saveGraphicsState=function(){return oe("q"),Ar.push({key:wn,size:it,color:Cr}),this},x.restoreGraphicsState=function(){oe("Q");var P=Ar.pop();return wn=P.key,it=P.size,Cr=P.color,Mr=null,this},x.setCurrentTransformationMatrix=function(P){return oe(P.toString()+" cm"),this},x.comment=function(P){return oe("#"+P),this};var Ns=function(P,ne){var De=P||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return De},set:function(kt){isNaN(kt)||(De=parseFloat(kt))}});var $e=ne||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return $e},set:function(kt){isNaN(kt)||($e=parseFloat(kt))}});var ct="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ct},set:function(kt){ct=kt.toString()}}),this},ki=function(P,ne,De,$e){Ns.call(this,P,ne),this.type="rect";var ct=De||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ct},set:function(Ft){isNaN(Ft)||(ct=parseFloat(Ft))}});var kt=$e||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return kt},set:function(Ft){isNaN(Ft)||(kt=parseFloat(Ft))}}),this},ao=function(){this.page=or,this.currentPage=he,this.pages=Ot.slice(0),this.pagesContext=En.slice(0),this.x=ur,this.y=cn,this.matrix=Dr,this.width=Xs(he),this.height=Ua(he),this.outputDestination=qt,this.id="",this.objectNumber=-1};ao.prototype.restore=function(){or=this.page,he=this.currentPage,En=this.pagesContext,Ot=this.pages,ur=this.x,cn=this.y,Dr=this.matrix,oo(he,this.width),Tr(he,this.height),qt=this.outputDestination};var Fo=function(P,ne,De,$e,ct){Zi.push(new ao),or=he=0,Ot=[],ur=P,cn=ne,Dr=ct,Jr([De,$e])},jo=function(P){if(cs[P])Zi.pop().restore();else{var ne=new ao,De="Xo"+(Object.keys(Zr).length+1).toString(10);ne.id=De,cs[P]=De,Zr[De]=ne,Yn.publish("addFormObject",ne),Zi.pop().restore()}};for(var So in x.beginFormObject=function(P,ne,De,$e,ct){return Fo(P,ne,De,$e,ct),this},x.endFormObject=function(P){return jo(P),this},x.doFormObject=function(P,ne){var De=Zr[cs[P]];return oe("q"),oe(ne.toString()+" cm"),oe("/"+De.id+" Do"),oe("Q"),this},x.getFormObject=function(P){var ne=Zr[cs[P]];return{x:ne.x,y:ne.y,width:ne.width,height:ne.height,matrix:ne.matrix}},x.save=function(P,ne){return P=P||"generated.pdf",(ne=ne||{}).returnPromise=ne.returnPromise||!1,ne.returnPromise===!1?(mu($s(ps()),P),typeof mu.unload=="function"&&Tn.setTimeout&&setTimeout(mu.unload,911),this):new Promise((function(De,$e){try{var ct=mu($s(ps()),P);typeof mu.unload=="function"&&Tn.setTimeout&&setTimeout(mu.unload,911),De(ct)}catch(kt){$e(kt.message)}}))},Bn.API)Bn.API.hasOwnProperty(So)&&(So==="events"&&Bn.API.events.length?(function(P,ne){var De,$e,ct;for(ct=ne.length-1;ct!==-1;ct--)De=ne[ct][0],$e=ne[ct][1],P.subscribe.apply(P,[De].concat(typeof $e=="function"?[$e]:$e))})(Yn,Bn.API.events):x[So]=Bn.API[So]);var Xs=x.getPageWidth=function(P){return(En[P=P||he].mediaBox.topRightX-En[P].mediaBox.bottomLeftX)/Vt},oo=x.setPageWidth=function(P,ne){En[P].mediaBox.topRightX=ne*Vt+En[P].mediaBox.bottomLeftX},Ua=x.getPageHeight=function(P){return(En[P=P||he].mediaBox.topRightY-En[P].mediaBox.bottomLeftY)/Vt},Tr=x.setPageHeight=function(P,ne){En[P].mediaBox.topRightY=ne*Vt+En[P].mediaBox.bottomLeftY};return x.internal={pdfEscape:si,getStyle:wo,getFont:ro,getFontSize:qe,getCharSpace:_i,getTextColor:Ts,getLineHeight:so,getLineHeightFactor:gs,getLineWidth:Js,write:Ee,getHorizontalCoordinate:gn,getVerticalCoordinate:Yr,getCoordinateString:ja,getVerticalCoordinateString:Bs,collections:{},newObject:$n,newAdditionalObject:ga,newObjectDeferred:Kt,newObjectDeferredBegin:ii,getFilters:gi,putStream:Fi,events:Yn,scaleFactor:Vt,pageSize:{getWidth:function(){return Xs(he)},setWidth:function(P){oo(he,P)},getHeight:function(){return Ua(he)},setHeight:function(P){Tr(he,P)}},encryptionOptions:S,encryption:dr,getEncryptor:Ms,output:Zs,getNumberOfPages:kr,pages:Ot,out:oe,f2:Ie,f3:te,getPageInfo:es,getPageInfoByObjId:bn,getCurrentPageInfo:xn,getPDFVersion:A,Point:Ns,Rectangle:ki,Matrix:dn,hasHotfix:va},Object.defineProperty(x.internal.pageSize,"width",{get:function(){return Xs(he)},set:function(P){oo(he,P)},enumerable:!0,configurable:!0}),Object.defineProperty(x.internal.pageSize,"height",{get:function(){return Ua(he)},set:function(P){Tr(he,P)},enumerable:!0,configurable:!0}),Ln.call(x,Ne),wn="F1",Ro(u,e),Yn.publish("initialized"),x}Ku.prototype.lsbFirstWord=function(o){return String.fromCharCode(o>>0&255,o>>8&255,o>>16&255,o>>24&255)},Ku.prototype.toHexString=function(o){return o.split("").map((function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)})).join("")},Ku.prototype.hexToBytes=function(o){for(var t=[],e=0;e<o.length;e+=2)t.push(String.fromCharCode(parseInt(o.substr(e,2),16)));return t.join("")},Ku.prototype.processOwnerPassword=function(o,t){return vd(_d(t).substr(0,5),o)},Ku.prototype.encryptor=function(o,t){var e=_d(this.encryptionKey+String.fromCharCode(255&o,o>>8&255,o>>16&255,255&t,t>>8&255)).substr(0,10);return function(a){return vd(e,a)}},Ac.prototype.equals=function(o){var t,e="id,objectNumber,equals";if(!o||Lr(o)!==Lr(this))return!1;var a=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!o.hasOwnProperty(t)||this[t]!==o[t])return!1;a++}for(t in o)o.hasOwnProperty(t)&&e.indexOf(t)<0&&a--;return a===0},Bn.API={events:[]},Bn.version="3.0.1";var Li=Bn.API,Rd=1,bu=function(o){return o.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Wu=function(o){return o.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Fn=function(o){return o.toFixed(2)},Wl=function(o){return o.toFixed(5)};Li.__acroform__={};var Ya=function(o,t){o.prototype=Object.create(t.prototype),o.prototype.constructor=o},j0=function(o){return o*Rd},fl=function(o){var t=new ng,e=hn.internal.getHeight(o)||0,a=hn.internal.getWidth(o)||0;return t.BBox=[0,0,Number(Fn(a)),Number(Fn(e))],t},b2=Li.__acroform__.setBit=function(o,t){if(o=o||0,t=t||0,isNaN(o)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return o|=1<<t},x2=Li.__acroform__.clearBit=function(o,t){if(o=o||0,t=t||0,isNaN(o)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return o&=~(1<<t)},L2=Li.__acroform__.getBit=function(o,t){if(isNaN(o)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(o&1<<t)==0?0:1},Ni=Li.__acroform__.getBitForPdf=function(o,t){if(isNaN(o)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return L2(o,t-1)},Oi=Li.__acroform__.setBitForPdf=function(o,t){if(isNaN(o)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return b2(o,t-1)},Di=Li.__acroform__.clearBitForPdf=function(o,t){if(isNaN(o)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return x2(o,t-1)},k2=Li.__acroform__.calculateCoordinates=function(o,t){var e=t.internal.getHorizontalCoordinate,a=t.internal.getVerticalCoordinate,u=o[0],l=o[1],c=o[2],p=o[3],g={};return g.lowerLeft_X=e(u)||0,g.lowerLeft_Y=a(l+p)||0,g.upperRight_X=e(u+c)||0,g.upperRight_Y=a(l)||0,[Number(Fn(g.lowerLeft_X)),Number(Fn(g.lowerLeft_Y)),Number(Fn(g.upperRight_X)),Number(Fn(g.upperRight_Y))]},C2=function(o){if(o.appearanceStreamContent)return o.appearanceStreamContent;if(o.V||o.DV){var t=[],e=o._V||o.DV,a=yd(o,e),u=o.scope.internal.getFont(o.fontName,o.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(o.scope.__private__.encodeColorString(o.color)),t.push("/"+u+" "+Fn(a.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC");var l=fl(o);return l.scope=o.scope,l.stream=t.join(`
`),l}},yd=function(o,t){var e=o.fontSize===0?o.maxFontSize:o.fontSize,a={text:"",fontSize:""},u=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");u=o.multiline?u.map((function(te){return te.split(`
`)})):u.map((function(te){return[te]}));var l=e,c=hn.internal.getHeight(o)||0;c=c<0?-c:c;var p=hn.internal.getWidth(o)||0;p=p<0?-p:p;var g=function(te,G,ae){if(te+1<u.length){var F=G+" "+u[te+1][0];return gc(F,o,ae).width<=p-4}return!1};l++;e:for(;l>0;){t="",l--;var y,S,E=gc("3",o,l).height,M=o.multiline?c-l:(c-E)/2,x=M+=2,R=0,A=0,I=0;if(l<=0){t=`(...) Tj
`,t+="% Width of Text: "+gc(t,o,l=12).width+", FieldWidth:"+p+`
`;break}for(var O="",W=0,Z=0;Z<u.length;Z++)if(u.hasOwnProperty(Z)){var de=!1;if(u[Z].length!==1&&I!==u[Z].length-1){if((E+2)*(W+2)+2>c)continue e;O+=u[Z][I],de=!0,A=Z,Z--}else{O=(O+=u[Z][I]+" ").substr(O.length-1)==" "?O.substr(0,O.length-1):O;var ve=parseInt(Z),Se=g(ve,O,l),K=Z>=u.length-1;if(Se&&!K){O+=" ",I=0;continue}if(Se||K){if(K)A=ve;else if(o.multiline&&(E+2)*(W+2)+2>c)continue e}else{if(!o.multiline||(E+2)*(W+2)+2>c)continue e;A=ve}}for(var X="",ge=R;ge<=A;ge++){var Ie=u[ge];if(o.multiline){if(ge===A){X+=Ie[I]+" ",I=(I+1)%Ie.length;continue}if(ge===R){X+=Ie[Ie.length-1]+" ";continue}}X+=Ie[0]+" "}switch(X=X.substr(X.length-1)==" "?X.substr(0,X.length-1):X,S=gc(X,o,l).width,o.textAlign){case"right":y=p-S-2;break;case"center":y=(p-S)/2;break;case"left":default:y=2}t+=Fn(y)+" "+Fn(x)+` Td
`,t+="("+bu(X)+`) Tj
`,t+=-Fn(y)+` 0 Td
`,x=-(l+2),S=0,R=de?A:A+1,W++,O=""}break}return a.text=t,a.fontSize=l,a},gc=function(o,t,e){var a=t.scope.internal.getFont(t.fontName,t.fontStyle),u=t.scope.getStringUnitWidth(o,{font:a,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:u}},S2={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},E2=function(o,t){var e={type:"reference",object:o};t.internal.getPageInfo(o.page).pageContext.annotations.find((function(a){return a.type===e.type&&a.object===e.object}))===void 0&&t.internal.getPageInfo(o.page).pageContext.annotations.push(e)},P2=function(o,t){for(var e in o)if(o.hasOwnProperty(e)){var a=e,u=o[e];t.internal.newObjectDeferredBegin(u.objId,!0),Lr(u)==="object"&&typeof u.putStream=="function"&&u.putStream(),delete o[a]}},A2=function(o,t){if(t.scope=o,o.internal!==void 0&&(o.internal.acroformPlugin===void 0||o.internal.acroformPlugin.isInitialized===!1)){if(al.FieldNum=0,o.internal.acroformPlugin=JSON.parse(JSON.stringify(S2)),o.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Rd=o.internal.scaleFactor,o.internal.acroformPlugin.acroFormDictionaryRoot=new rg,o.internal.acroformPlugin.acroFormDictionaryRoot.scope=o,o.internal.acroformPlugin.acroFormDictionaryRoot._eventID=o.internal.events.subscribe("postPutResources",(function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(o)})),o.internal.events.subscribe("buildDocument",(function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var u in a)if(a.hasOwnProperty(u)){var l=a[u];l.objId=void 0,l.hasAnnotation&&E2(l,e)}})(o)})),o.internal.events.subscribe("putCatalog",(function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(o)})),o.internal.events.subscribe("postPutPages",(function(e){(function(a,u){var l=!a;for(var c in a||(u.internal.newObjectDeferredBegin(u.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),u.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||u.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(c)){var p=a[c],g=[],y=p.Rect;if(p.Rect&&(p.Rect=k2(p.Rect,u)),u.internal.newObjectDeferredBegin(p.objId,!0),p.DA=hn.createDefaultAppearanceStream(p),Lr(p)==="object"&&typeof p.getKeyValueListForStream=="function"&&(g=p.getKeyValueListForStream()),p.Rect=y,p.hasAppearanceStream&&!p.appearanceStreamContent){var S=C2(p);g.push({key:"AP",value:"<</N "+S+">>"}),u.internal.acroformPlugin.xForms.push(S)}if(p.appearanceStreamContent){var E="";for(var M in p.appearanceStreamContent)if(p.appearanceStreamContent.hasOwnProperty(M)){var x=p.appearanceStreamContent[M];if(E+="/"+M+" ",E+="<<",Object.keys(x).length>=1||Array.isArray(x)){for(var c in x)if(x.hasOwnProperty(c)){var R=x[c];typeof R=="function"&&(R=R.call(u,p)),E+="/"+c+" "+R+" ",u.internal.acroformPlugin.xForms.indexOf(R)>=0||u.internal.acroformPlugin.xForms.push(R)}}else typeof(R=x)=="function"&&(R=R.call(u,p)),E+="/"+c+" "+R,u.internal.acroformPlugin.xForms.indexOf(R)>=0||u.internal.acroformPlugin.xForms.push(R);E+=">>"}g.push({key:"AP",value:`<<
`+E+">>"})}u.internal.putStream({additionalKeyValues:g,objectId:p.objId}),u.internal.out("endobj")}l&&P2(u.internal.acroformPlugin.xForms,u)})(e,o)})),o.internal.acroformPlugin.isInitialized=!0}},tg=Li.__acroform__.arrayToPdfArray=function(o,t,e){var a=function(c){return c};if(Array.isArray(o)){for(var u="[",l=0;l<o.length;l++)switch(l!==0&&(u+=" "),Lr(o[l])){case"boolean":case"number":case"object":u+=o[l].toString();break;case"string":o[l].substr(0,1)!=="/"?(t!==void 0&&e&&(a=e.internal.getEncryptor(t)),u+="("+bu(a(o[l].toString()))+")"):u+=o[l].toString()}return u+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Hf=function(o,t,e){var a=function(u){return u};return t!==void 0&&e&&(a=e.internal.getEncryptor(t)),(o=o||"").toString(),o="("+bu(a(o))+")"},pl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(o){this._objId=o}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};pl.prototype.toString=function(){return this.objId+" 0 R"},pl.prototype.putStream=function(){var o=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:o,objectId:this.objId}),this.scope.internal.out("endobj")},pl.prototype.getKeyValueListForStream=function(){var o=[],t=Object.getOwnPropertyNames(this).filter((function(l){return l!="content"&&l!="appearanceStreamContent"&&l!="scope"&&l!="objId"&&l.substring(0,1)!="_"}));for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var a=t[e],u=this[a];u&&(Array.isArray(u)?o.push({key:a,value:tg(u,this.objId,this.scope)}):u instanceof pl?(u.scope=this.scope,o.push({key:a,value:u.objId+" 0 R"})):typeof u!="function"&&o.push({key:a,value:u}))}return o};var ng=function(){pl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var o,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){o=e.trim()},get:function(){return o||null}})};Ya(ng,pl);var rg=function(){pl.call(this);var o,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(o){var e=function(a){return a};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+bu(e(o))+")"}},set:function(e){o=e}})};Ya(rg,pl);var al=function o(){pl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(O){if(isNaN(O))throw new Error('Invalid value "'+O+'" for attribute F supplied.');t=O}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ni(t,3)},set:function(O){O?this.F=Oi(t,3):this.F=Di(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(O){if(isNaN(O))throw new Error('Invalid value "'+O+'" for attribute Ff supplied.');e=O}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(O){a=O!==void 0?O:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(O){a[0]=O}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(O){a[1]=O}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(O){a[2]=O}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(O){a[3]=O}});var u="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return u},set:function(O){switch(O){case"/Btn":case"/Tx":case"/Ch":case"/Sig":u=O;break;default:throw new Error('Invalid value "'+O+'" for attribute FT supplied.')}}});var l=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!l||l.length<1){if(this instanceof Mc)return;l="FieldObject"+o.FieldNum++}var O=function(W){return W};return this.scope&&(O=this.scope.internal.getEncryptor(this.objId)),"("+bu(O(l))+")"},set:function(O){l=O.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return l},set:function(O){l=O}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(O){c=O}});var p="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return p},set:function(O){p=O}});var g=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return g},set:function(O){g=O}});var y=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return y===void 0?50/Rd:y},set:function(O){y=O}});var S="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return S},set:function(O){S=O}});var E="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!E||this instanceof Mc||this instanceof vu))return Hf(E,this.objId,this.scope)},set:function(O){O=O.toString(),E=O}});var M=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(M)return this instanceof Es?M:Hf(M,this.objId,this.scope)},set:function(O){O=O.toString(),M=this instanceof Es?O:O.substr(0,1)==="("?Wu(O.substr(1,O.length-2)):Wu(O)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Es?Wu(M.substr(1,M.length-1)):M},set:function(O){O=O.toString(),M=this instanceof Es?"/"+O:O}});var x=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(x)return x},set:function(O){this.V=O}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof Es?x:Hf(x,this.objId,this.scope)},set:function(O){O=O.toString(),x=this instanceof Es?O:O.substr(0,1)==="("?Wu(O.substr(1,O.length-2)):Wu(O)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Es?Wu(x.substr(1,x.length-1)):x},set:function(O){O=O.toString(),x=this instanceof Es?"/"+O:O}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var R,A=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return A},set:function(O){O=!!O,A=O}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(R)return R},set:function(O){R=O}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,1)},set:function(O){O?this.Ff=Oi(this.Ff,1):this.Ff=Di(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,2)},set:function(O){O?this.Ff=Oi(this.Ff,2):this.Ff=Di(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,3)},set:function(O){O?this.Ff=Oi(this.Ff,3):this.Ff=Di(this.Ff,3)}});var I=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(I!==null)return I},set:function(O){if([0,1,2].indexOf(O)===-1)throw new Error('Invalid value "'+O+'" for attribute Q supplied.');I=O}}),Object.defineProperty(this,"textAlign",{get:function(){var O;switch(I){case 0:default:O="left";break;case 1:O="center";break;case 2:O="right"}return O},configurable:!0,enumerable:!0,set:function(O){switch(O){case"right":case 2:I=2;break;case"center":case 1:I=1;break;case"left":case 0:default:I=0}}})};Ya(al,pl);var Qu=function(){al.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var o=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return o},set:function(e){o=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return o},set:function(e){o=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return tg(t,this.objId,this.scope)},set:function(e){var a,u;u=[],typeof(a=e)=="string"&&(u=(function(l,c,p){p||(p=1);for(var g,y=[];g=c.exec(l);)y.push(g[p]);return y})(a,/\((.*?)\)/g)),t=u}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,a){for(a=a||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,18)},set:function(e){e?this.Ff=Oi(this.Ff,18):this.Ff=Di(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=Oi(this.Ff,19):this.Ff=Di(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,20)},set:function(e){e?(this.Ff=Oi(this.Ff,20),t.sort()):this.Ff=Di(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,22)},set:function(e){e?this.Ff=Oi(this.Ff,22):this.Ff=Di(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,23)},set:function(e){e?this.Ff=Oi(this.Ff,23):this.Ff=Di(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,27)},set:function(e){e?this.Ff=Oi(this.Ff,27):this.Ff=Di(this.Ff,27)}}),this.hasAppearanceStream=!1};Ya(Qu,al);var eh=function(){Qu.call(this),this.fontName="helvetica",this.combo=!1};Ya(eh,Qu);var th=function(){eh.call(this),this.combo=!0};Ya(th,eh);var bc=function(){th.call(this),this.edit=!0};Ya(bc,th);var Es=function(){al.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,15)},set:function(e){e?this.Ff=Oi(this.Ff,15):this.Ff=Di(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,16)},set:function(e){e?this.Ff=Oi(this.Ff,16):this.Ff=Di(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,17)},set:function(e){e?this.Ff=Oi(this.Ff,17):this.Ff=Di(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,26)},set:function(e){e?this.Ff=Oi(this.Ff,26):this.Ff=Di(this.Ff,26)}});var o,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(l){return l};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var a,u=[];for(a in u.push("<<"),t)u.push("/"+a+" ("+bu(e(t[a]))+")");return u.push(">>"),u.join(`
`)}},set:function(e){Lr(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return o},set:function(e){o=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return o.substr(1,o.length-1)},set:function(e){o="/"+e}})};Ya(Es,al);var xc=function(){Es.call(this),this.pushButton=!0};Ya(xc,Es);var nh=function(){Es.call(this),this.radio=!0,this.pushButton=!1;var o=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return o},set:function(t){o=t!==void 0?t:[]}})};Ya(nh,Es);var Mc=function(){var o,t;al.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return o},set:function(u){o=u}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(u){t=u}});var e,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var u=function(p){return p};this.scope&&(u=this.scope.internal.getEncryptor(this.objId));var l,c=[];for(l in c.push("<<"),a)c.push("/"+l+" ("+bu(u(a[l]))+")");return c.push(">>"),c.join(`
`)},set:function(u){Lr(u)==="object"&&(a=u)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(u){typeof u=="string"&&(a.CA=u)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(u){e=u}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(u){e="/"+u}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=hn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ya(Mc,al),nh.prototype.setAppearance=function(o){if(!("createAppearanceStream"in o)||!("getCA"in o))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=o.createAppearanceStream(e.optionName),e.caption=o.getCA()}},nh.prototype.createOption=function(o){var t=new Mc;return t.Parent=this,t.optionName=o,this.Kids.push(t),M2.call(this.scope,t),t};var Lc=function(){Es.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=hn.CheckBox.createAppearanceStream()};Ya(Lc,Es);var vu=function(){al.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,13)},set:function(t){t?this.Ff=Oi(this.Ff,13):this.Ff=Di(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,21)},set:function(t){t?this.Ff=Oi(this.Ff,21):this.Ff=Di(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,23)},set:function(t){t?this.Ff=Oi(this.Ff,23):this.Ff=Di(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,24)},set:function(t){t?this.Ff=Oi(this.Ff,24):this.Ff=Di(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,25)},set:function(t){t?this.Ff=Oi(this.Ff,25):this.Ff=Di(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,26)},set:function(t){t?this.Ff=Oi(this.Ff,26):this.Ff=Di(this.Ff,26)}});var o=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return o},set:function(t){o=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return o},set:function(t){Number.isInteger(t)&&(o=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ya(vu,al);var kc=function(){vu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,14)},set:function(o){o?this.Ff=Oi(this.Ff,14):this.Ff=Di(this.Ff,14)}}),this.password=!0};Ya(kc,vu);var hn={CheckBox:{createAppearanceStream:function(){return{N:{On:hn.CheckBox.YesNormal},D:{On:hn.CheckBox.YesPushDown,Off:hn.CheckBox.OffPushDown}}},YesPushDown:function(o){var t=fl(o);t.scope=o.scope;var e=[],a=o.scope.internal.getFont(o.fontName,o.fontStyle).id,u=o.scope.__private__.encodeColorString(o.color),l=yd(o,o.caption);return e.push("0.749023 g"),e.push("0 0 "+Fn(hn.internal.getWidth(o))+" "+Fn(hn.internal.getHeight(o))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+a+" "+Fn(l.fontSize)+" Tf "+u),e.push("BT"),e.push(l.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(o){var t=fl(o);t.scope=o.scope;var e=o.scope.internal.getFont(o.fontName,o.fontStyle).id,a=o.scope.__private__.encodeColorString(o.color),u=[],l=hn.internal.getHeight(o),c=hn.internal.getWidth(o),p=yd(o,o.caption);return u.push("1 g"),u.push("0 0 "+Fn(c)+" "+Fn(l)+" re"),u.push("f"),u.push("q"),u.push("0 0 1 rg"),u.push("0 0 "+Fn(c-1)+" "+Fn(l-1)+" re"),u.push("W"),u.push("n"),u.push("0 g"),u.push("BT"),u.push("/"+e+" "+Fn(p.fontSize)+" Tf "+a),u.push(p.text),u.push("ET"),u.push("Q"),t.stream=u.join(`
`),t},OffPushDown:function(o){var t=fl(o);t.scope=o.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Fn(hn.internal.getWidth(o))+" "+Fn(hn.internal.getHeight(o))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(o){var t={D:{Off:hn.RadioButton.Circle.OffPushDown},N:{}};return t.N[o]=hn.RadioButton.Circle.YesNormal,t.D[o]=hn.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(o){var t=fl(o);t.scope=o.scope;var e=[],a=hn.internal.getWidth(o)<=hn.internal.getHeight(o)?hn.internal.getWidth(o)/4:hn.internal.getHeight(o)/4;a=Number((.9*a).toFixed(5));var u=hn.internal.Bezier_C,l=Number((a*u).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+Wl(hn.internal.getWidth(o)/2)+" "+Wl(hn.internal.getHeight(o)/2)+" cm"),e.push(a+" 0 m"),e.push(a+" "+l+" "+l+" "+a+" 0 "+a+" c"),e.push("-"+l+" "+a+" -"+a+" "+l+" -"+a+" 0 c"),e.push("-"+a+" -"+l+" -"+l+" -"+a+" 0 -"+a+" c"),e.push(l+" -"+a+" "+a+" -"+l+" "+a+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(o){var t=fl(o);t.scope=o.scope;var e=[],a=hn.internal.getWidth(o)<=hn.internal.getHeight(o)?hn.internal.getWidth(o)/4:hn.internal.getHeight(o)/4;a=Number((.9*a).toFixed(5));var u=Number((2*a).toFixed(5)),l=Number((u*hn.internal.Bezier_C).toFixed(5)),c=Number((a*hn.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Wl(hn.internal.getWidth(o)/2)+" "+Wl(hn.internal.getHeight(o)/2)+" cm"),e.push(u+" 0 m"),e.push(u+" "+l+" "+l+" "+u+" 0 "+u+" c"),e.push("-"+l+" "+u+" -"+u+" "+l+" -"+u+" 0 c"),e.push("-"+u+" -"+l+" -"+l+" -"+u+" 0 -"+u+" c"),e.push(l+" -"+u+" "+u+" -"+l+" "+u+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+Wl(hn.internal.getWidth(o)/2)+" "+Wl(hn.internal.getHeight(o)/2)+" cm"),e.push(a+" 0 m"),e.push(a+" "+c+" "+c+" "+a+" 0 "+a+" c"),e.push("-"+c+" "+a+" -"+a+" "+c+" -"+a+" 0 c"),e.push("-"+a+" -"+c+" -"+c+" -"+a+" 0 -"+a+" c"),e.push(c+" -"+a+" "+a+" -"+c+" "+a+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(o){var t=fl(o);t.scope=o.scope;var e=[],a=hn.internal.getWidth(o)<=hn.internal.getHeight(o)?hn.internal.getWidth(o)/4:hn.internal.getHeight(o)/4;a=Number((.9*a).toFixed(5));var u=Number((2*a).toFixed(5)),l=Number((u*hn.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Wl(hn.internal.getWidth(o)/2)+" "+Wl(hn.internal.getHeight(o)/2)+" cm"),e.push(u+" 0 m"),e.push(u+" "+l+" "+l+" "+u+" 0 "+u+" c"),e.push("-"+l+" "+u+" -"+u+" "+l+" -"+u+" 0 c"),e.push("-"+u+" -"+l+" -"+l+" -"+u+" 0 -"+u+" c"),e.push(l+" -"+u+" "+u+" -"+l+" "+u+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(o){var t={D:{Off:hn.RadioButton.Cross.OffPushDown},N:{}};return t.N[o]=hn.RadioButton.Cross.YesNormal,t.D[o]=hn.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(o){var t=fl(o);t.scope=o.scope;var e=[],a=hn.internal.calculateCross(o);return e.push("q"),e.push("1 1 "+Fn(hn.internal.getWidth(o)-2)+" "+Fn(hn.internal.getHeight(o)-2)+" re"),e.push("W"),e.push("n"),e.push(Fn(a.x1.x)+" "+Fn(a.x1.y)+" m"),e.push(Fn(a.x2.x)+" "+Fn(a.x2.y)+" l"),e.push(Fn(a.x4.x)+" "+Fn(a.x4.y)+" m"),e.push(Fn(a.x3.x)+" "+Fn(a.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(o){var t=fl(o);t.scope=o.scope;var e=hn.internal.calculateCross(o),a=[];return a.push("0.749023 g"),a.push("0 0 "+Fn(hn.internal.getWidth(o))+" "+Fn(hn.internal.getHeight(o))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+Fn(hn.internal.getWidth(o)-2)+" "+Fn(hn.internal.getHeight(o)-2)+" re"),a.push("W"),a.push("n"),a.push(Fn(e.x1.x)+" "+Fn(e.x1.y)+" m"),a.push(Fn(e.x2.x)+" "+Fn(e.x2.y)+" l"),a.push(Fn(e.x4.x)+" "+Fn(e.x4.y)+" m"),a.push(Fn(e.x3.x)+" "+Fn(e.x3.y)+" l"),a.push("s"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(o){var t=fl(o);t.scope=o.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Fn(hn.internal.getWidth(o))+" "+Fn(hn.internal.getHeight(o))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(o){var t=o.scope.internal.getFont(o.fontName,o.fontStyle).id,e=o.scope.__private__.encodeColorString(o.color);return"/"+t+" "+o.fontSize+" Tf "+e}};hn.internal={Bezier_C:.551915024494,calculateCross:function(o){var t=hn.internal.getWidth(o),e=hn.internal.getHeight(o),a=Math.min(t,e);return{x1:{x:(t-a)/2,y:(e-a)/2+a},x2:{x:(t-a)/2+a,y:(e-a)/2},x3:{x:(t-a)/2,y:(e-a)/2},x4:{x:(t-a)/2+a,y:(e-a)/2+a}}}},hn.internal.getWidth=function(o){var t=0;return Lr(o)==="object"&&(t=j0(o.Rect[2])),t},hn.internal.getHeight=function(o){var t=0;return Lr(o)==="object"&&(t=j0(o.Rect[3])),t};var M2=Li.addField=function(o){if(A2(this,o),!(o instanceof al))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=o).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),o.page=o.scope.internal.getCurrentPageInfo().pageNumber,this};Li.AcroFormChoiceField=Qu,Li.AcroFormListBox=eh,Li.AcroFormComboBox=th,Li.AcroFormEditBox=bc,Li.AcroFormButton=Es,Li.AcroFormPushButton=xc,Li.AcroFormRadioButton=nh,Li.AcroFormCheckBox=Lc,Li.AcroFormTextField=vu,Li.AcroFormPasswordField=kc,Li.AcroFormAppearance=hn,Li.AcroForm={ChoiceField:Qu,ListBox:eh,ComboBox:th,EditBox:bc,Button:Es,PushButton:xc,RadioButton:nh,CheckBox:Lc,TextField:vu,PasswordField:kc,Appearance:hn},Bn.AcroForm={ChoiceField:Qu,ListBox:eh,ComboBox:th,EditBox:bc,Button:Es,PushButton:xc,RadioButton:nh,CheckBox:Lc,TextField:vu,PasswordField:kc,Appearance:hn};Bn.AcroForm;function ig(o){return o.reduce((function(t,e,a){return t[e]=a,t}),{})}(function(o){o.__addimage__={};var t="UNKNOWN",e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=o.__addimage__.getImageFileTypeByImageData=function(te,G){var ae,F,Be,Ve,Fe,xe=t;if((G=G||t)==="RGBA"||te.data!==void 0&&te.data instanceof Uint8ClampedArray&&"height"in te&&"width"in te)return"RGBA";if(Se(te))for(Fe in e)for(Be=e[Fe],ae=0;ae<Be.length;ae+=1){for(Ve=!0,F=0;F<Be[ae].length;F+=1)if(Be[ae][F]!==void 0&&Be[ae][F]!==te[F]){Ve=!1;break}if(Ve===!0){xe=Fe;break}}else for(Fe in e)for(Be=e[Fe],ae=0;ae<Be.length;ae+=1){for(Ve=!0,F=0;F<Be[ae].length;F+=1)if(Be[ae][F]!==void 0&&Be[ae][F]!==te.charCodeAt(F)){Ve=!1;break}if(Ve===!0){xe=Fe;break}}return xe===t&&G!==t&&(xe=G),xe},u=function te(G){for(var ae=this.internal.write,F=this.internal.putStream,Be=(0,this.internal.getFilters)();Be.indexOf("FlateEncode")!==-1;)Be.splice(Be.indexOf("FlateEncode"),1);G.objectId=this.internal.newObject();var Ve=[];if(Ve.push({key:"Type",value:"/XObject"}),Ve.push({key:"Subtype",value:"/Image"}),Ve.push({key:"Width",value:G.width}),Ve.push({key:"Height",value:G.height}),G.colorSpace===I.INDEXED?Ve.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(G.palette.length/3-1)+" "+("sMask"in G&&G.sMask!==void 0?G.objectId+2:G.objectId+1)+" 0 R]"}):(Ve.push({key:"ColorSpace",value:"/"+G.colorSpace}),G.colorSpace===I.DEVICE_CMYK&&Ve.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Ve.push({key:"BitsPerComponent",value:G.bitsPerComponent}),"decodeParameters"in G&&G.decodeParameters!==void 0&&Ve.push({key:"DecodeParms",value:"<<"+G.decodeParameters+">>"}),"transparency"in G&&Array.isArray(G.transparency)){for(var Fe="",xe=0,Ae=G.transparency.length;xe<Ae;xe++)Fe+=G.transparency[xe]+" "+G.transparency[xe]+" ";Ve.push({key:"Mask",value:"["+Fe+"]"})}G.sMask!==void 0&&Ve.push({key:"SMask",value:G.objectId+1+" 0 R"});var Pe=G.filter!==void 0?["/"+G.filter]:void 0;if(F({data:G.data,additionalKeyValues:Ve,alreadyAppliedFilters:Pe,objectId:G.objectId}),ae("endobj"),"sMask"in G&&G.sMask!==void 0){var re="/Predictor "+G.predictor+" /Colors 1 /BitsPerComponent "+G.bitsPerComponent+" /Columns "+G.width,j={width:G.width,height:G.height,colorSpace:"DeviceGray",bitsPerComponent:G.bitsPerComponent,decodeParameters:re,data:G.sMask};"filter"in G&&(j.filter=G.filter),te.call(this,j)}if(G.colorSpace===I.INDEXED){var he=this.internal.newObject();F({data:X(new Uint8Array(G.palette)),objectId:he}),ae("endobj")}},l=function(){var te=this.internal.collections.addImage_images;for(var G in te)u.call(this,te[G])},c=function(){var te,G=this.internal.collections.addImage_images,ae=this.internal.write;for(var F in G)ae("/I"+(te=G[F]).index,te.objectId,"0","R")},p=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",c))},g=function(){var te=this.internal.collections.addImage_images;return p.call(this),te},y=function(){return Object.keys(this.internal.collections.addImage_images).length},S=function(te){return typeof o["process"+te.toUpperCase()]=="function"},E=function(te){return Lr(te)==="object"&&te.nodeType===1},M=function(te,G){if(te.nodeName==="IMG"&&te.hasAttribute("src")){var ae=""+te.getAttribute("src");if(ae.indexOf("data:image/")===0)return Eh(unescape(ae).split("base64,").pop());var F=o.loadFile(ae,!0);if(F!==void 0)return F}if(te.nodeName==="CANVAS"){if(te.width===0||te.height===0)throw new Error("Given canvas must have data. Canvas width: "+te.width+", height: "+te.height);var Be;switch(G){case"PNG":Be="image/png";break;case"WEBP":Be="image/webp";break;case"JPEG":case"JPG":default:Be="image/jpeg"}return Eh(te.toDataURL(Be,1).split("base64,").pop())}},x=function(te){var G=this.internal.collections.addImage_images;if(G){for(var ae in G)if(te===G[ae].alias)return G[ae]}},R=function(te,G,ae){return te||G||(te=-96,G=-96),te<0&&(te=-1*ae.width*72/te/this.internal.scaleFactor),G<0&&(G=-1*ae.height*72/G/this.internal.scaleFactor),te===0&&(te=G*ae.width/ae.height),G===0&&(G=te*ae.height/ae.width),[te,G]},A=function(te,G,ae,F,Be,Ve){var Fe=R.call(this,ae,F,Be),xe=this.internal.getCoordinateString,Ae=this.internal.getVerticalCoordinateString,Pe=g.call(this);if(ae=Fe[0],F=Fe[1],Pe[Be.index]=Be,Ve){Ve*=Math.PI/180;var re=Math.cos(Ve),j=Math.sin(Ve),he=function(pe){return pe.toFixed(4)},fe=[he(re),he(j),he(-1*j),he(re),0,0,"cm"]}this.internal.write("q"),Ve?(this.internal.write([1,"0","0",1,xe(te),Ae(G+F),"cm"].join(" ")),this.internal.write(fe.join(" ")),this.internal.write([xe(ae),"0","0",xe(F),"0","0","cm"].join(" "))):this.internal.write([xe(ae),"0","0",xe(F),xe(te),Ae(G+F),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Be.index+" Do"),this.internal.write("Q")},I=o.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};o.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var O=o.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},W=o.__addimage__.sHashCode=function(te){var G,ae,F=0;if(typeof te=="string")for(ae=te.length,G=0;G<ae;G++)F=(F<<5)-F+te.charCodeAt(G),F|=0;else if(Se(te))for(ae=te.byteLength/2,G=0;G<ae;G++)F=(F<<5)-F+te[G],F|=0;return F},Z=o.__addimage__.validateStringAsBase64=function(te){(te=te||"").toString().trim();var G=!0;return te.length===0&&(G=!1),te.length%4!=0&&(G=!1),/^[A-Za-z0-9+/]+$/.test(te.substr(0,te.length-2))===!1&&(G=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(te.substr(-2))===!1&&(G=!1),G},de=o.__addimage__.extractImageFromDataUrl=function(te){if(te==null||!(te=te.trim()).startsWith("data:"))return null;var G=te.indexOf(",");return G<0?null:te.substring(0,G).trim().endsWith("base64")?te.substring(G+1):null},ve=o.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};o.__addimage__.isArrayBuffer=function(te){return ve()&&te instanceof ArrayBuffer};var Se=o.__addimage__.isArrayBufferView=function(te){return ve()&&typeof Uint32Array<"u"&&(te instanceof Int8Array||te instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&te instanceof Uint8ClampedArray||te instanceof Int16Array||te instanceof Uint16Array||te instanceof Int32Array||te instanceof Uint32Array||te instanceof Float32Array||te instanceof Float64Array)},K=o.__addimage__.binaryStringToUint8Array=function(te){for(var G=te.length,ae=new Uint8Array(G),F=0;F<G;F++)ae[F]=te.charCodeAt(F);return ae},X=o.__addimage__.arrayBufferToBinaryString=function(te){for(var G="",ae=Se(te)?te:new Uint8Array(te),F=0;F<ae.length;F+=8192)G+=String.fromCharCode.apply(null,ae.subarray(F,F+8192));return G};o.addImage=function(){var te,G,ae,F,Be,Ve,Fe,xe,Ae;if(typeof arguments[1]=="number"?(G=t,ae=arguments[1],F=arguments[2],Be=arguments[3],Ve=arguments[4],Fe=arguments[5],xe=arguments[6],Ae=arguments[7]):(G=arguments[1],ae=arguments[2],F=arguments[3],Be=arguments[4],Ve=arguments[5],Fe=arguments[6],xe=arguments[7],Ae=arguments[8]),Lr(te=arguments[0])==="object"&&!E(te)&&"imageData"in te){var Pe=te;te=Pe.imageData,G=Pe.format||G||t,ae=Pe.x||ae||0,F=Pe.y||F||0,Be=Pe.w||Pe.width||Be,Ve=Pe.h||Pe.height||Ve,Fe=Pe.alias||Fe,xe=Pe.compression||xe,Ae=Pe.rotation||Pe.angle||Ae}var re=this.internal.getFilters();if(xe===void 0&&re.indexOf("FlateEncode")!==-1&&(xe="SLOW"),isNaN(ae)||isNaN(F))throw new Error("Invalid coordinates passed to jsPDF.addImage");p.call(this);var j=ge.call(this,te,G,Fe,xe);return A.call(this,ae,F,Be,Ve,j,Ae),this};var ge=function(te,G,ae,F){var Be,Ve,Fe;if(typeof te=="string"&&a(te)===t){te=unescape(te);var xe=Ie(te,!1);(xe!==""||(xe=o.loadFile(te,!0))!==void 0)&&(te=xe)}if(E(te)&&(te=M(te,G)),G=a(te,G),!S(G))throw new Error("addImage does not support files of type '"+G+"', please ensure that a plugin for '"+G+"' support is added.");if(((Fe=ae)==null||Fe.length===0)&&(ae=(function(Ae){return typeof Ae=="string"||Se(Ae)?W(Ae):Se(Ae.data)?W(Ae.data):null})(te)),(Be=x.call(this,ae))||(ve()&&(te instanceof Uint8Array||G==="RGBA"||(Ve=te,te=K(te))),Be=this["process"+G.toUpperCase()](te,y.call(this),ae,(function(Ae){return Ae&&typeof Ae=="string"&&(Ae=Ae.toUpperCase()),Ae in o.image_compression?Ae:O.NONE})(F),Ve)),!Be)throw new Error("An unknown error occurred whilst processing the image.");return Be},Ie=o.__addimage__.convertBase64ToBinaryString=function(te,G){G=typeof G!="boolean"||G;var ae,F="";if(typeof te=="string"){var Be;ae=(Be=de(te))!==null&&Be!==void 0?Be:te;try{F=Eh(ae)}catch(Ve){if(G)throw Z(ae)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Ve.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return F};o.getImageProperties=function(te){var G,ae,F="";if(E(te)&&(te=M(te)),typeof te=="string"&&a(te)===t&&((F=Ie(te,!1))===""&&(F=o.loadFile(te)||""),te=F),ae=a(te),!S(ae))throw new Error("addImage does not support files of type '"+ae+"', please ensure that a plugin for '"+ae+"' support is added.");if(!ve()||te instanceof Uint8Array||(te=K(te)),!(G=this["process"+ae.toUpperCase()](te)))throw new Error("An unknown error occurred whilst processing the image");return G.fileType=ae,G}})(Bn.API),(function(o){var t=function(e){if(e!==void 0&&e!="")return!0};Bn.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),o.events.push(["putPage",function(e){for(var a,u,l,c=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString,g=this.internal.getPageInfoByObjId(e.objId),y=e.pageContext.annotations,S=!1,E=0;E<y.length&&!S;E++)switch((a=y[E]).type){case"link":(t(a.options.url)||t(a.options.pageNumber))&&(S=!0);break;case"reference":case"text":case"freetext":S=!0}if(S!=0){this.internal.write("/Annots [");for(var M=0;M<y.length;M++){a=y[M];var x=this.internal.pdfEscape,R=this.internal.getEncryptor(e.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var A=this.internal.newAdditionalObject(),I=this.internal.newAdditionalObject(),O=this.internal.getEncryptor(A.objId),W=a.title||"Note";l="<</Type /Annot /Subtype /Text "+(u="/Rect ["+c(a.bounds.x)+" "+p(a.bounds.y+a.bounds.h)+" "+c(a.bounds.x+a.bounds.w)+" "+p(a.bounds.y)+"] ")+"/Contents ("+x(O(a.contents))+")",l+=" /Popup "+I.objId+" 0 R",l+=" /P "+g.objId+" 0 R",l+=" /T ("+x(O(W))+") >>",A.content=l;var Z=A.objId+" 0 R";l="<</Type /Annot /Subtype /Popup "+(u="/Rect ["+c(a.bounds.x+30)+" "+p(a.bounds.y+a.bounds.h)+" "+c(a.bounds.x+a.bounds.w+30)+" "+p(a.bounds.y)+"] ")+" /Parent "+Z,a.open&&(l+=" /Open true"),l+=" >>",I.content=l,this.internal.write(A.objId,"0 R",I.objId,"0 R");break;case"freetext":u="/Rect ["+c(a.bounds.x)+" "+p(a.bounds.y)+" "+c(a.bounds.x+a.bounds.w)+" "+p(a.bounds.y+a.bounds.h)+"] ";var de=a.color||"#000000";l="<</Type /Annot /Subtype /FreeText "+u+"/Contents ("+x(R(a.contents))+")",l+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+de+")",l+=" /Border [0 0 0]",l+=" >>",this.internal.write(l);break;case"link":if(a.options.name){var ve=this.annotations._nameMap[a.options.name];a.options.pageNumber=ve.page,a.options.top=ve.y}else a.options.top||(a.options.top=0);if(u="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",l="",a.options.url)l="<</Type /Annot /Subtype /Link "+u+"/Border [0 0 0] /A <</S /URI /URI ("+x(R(a.options.url))+") >>";else if(a.options.pageNumber)switch(l="<</Type /Annot /Subtype /Link "+u+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":l+=" /Fit]";break;case"FitH":l+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,l+=" /FitV "+a.options.left+"]";break;case"XYZ":default:var Se=p(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),l+=" /XYZ "+a.options.left+" "+Se+" "+a.options.zoom+"]"}l!=""&&(l+=" >>",this.internal.write(l))}}this.internal.write("]")}}]),o.createAnnotation=function(e){var a=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":a.pageContext.annotations.push(e)}},o.link=function(e,a,u,l,c){var p=this.internal.getCurrentPageInfo(),g=this.internal.getCoordinateString,y=this.internal.getVerticalCoordinateString;p.pageContext.annotations.push({finalBounds:{x:g(e),y:y(a),w:g(e+u),h:y(a+l)},options:c,type:"link"})},o.textWithLink=function(e,a,u,l){var c,p,g=this.getTextWidth(e),y=this.internal.getLineHeight()/this.internal.scaleFactor;if(l.maxWidth!==void 0){p=l.maxWidth;var S=this.splitTextToSize(e,p).length;c=Math.ceil(y*S)}else p=g,c=y;return this.text(e,a,u,l),u+=.2*y,l.align==="center"&&(a-=g/2),l.align==="right"&&(a-=g),this.link(a,u-y,p,c,l),g},o.getTextWidth=function(e){var a=this.internal.getFontSize();return this.getStringUnitWidth(e)*a/this.internal.scaleFactor}})(Bn.API),(function(o){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},u=[1570,1571,1573,1575];o.__arabicParser__={};var l=o.__arabicParser__.isInArabicSubstitutionA=function(A){return t[A.charCodeAt(0)]!==void 0},c=o.__arabicParser__.isArabicLetter=function(A){return typeof A=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(A)},p=o.__arabicParser__.isArabicEndLetter=function(A){return c(A)&&l(A)&&t[A.charCodeAt(0)].length<=2},g=o.__arabicParser__.isArabicAlfLetter=function(A){return c(A)&&u.indexOf(A.charCodeAt(0))>=0};o.__arabicParser__.arabicLetterHasIsolatedForm=function(A){return c(A)&&l(A)&&t[A.charCodeAt(0)].length>=1};var y=o.__arabicParser__.arabicLetterHasFinalForm=function(A){return c(A)&&l(A)&&t[A.charCodeAt(0)].length>=2};o.__arabicParser__.arabicLetterHasInitialForm=function(A){return c(A)&&l(A)&&t[A.charCodeAt(0)].length>=3};var S=o.__arabicParser__.arabicLetterHasMedialForm=function(A){return c(A)&&l(A)&&t[A.charCodeAt(0)].length==4},E=o.__arabicParser__.resolveLigatures=function(A){var I=0,O=e,W="",Z=0;for(I=0;I<A.length;I+=1)O[A.charCodeAt(I)]!==void 0?(Z++,typeof(O=O[A.charCodeAt(I)])=="number"&&(W+=String.fromCharCode(O),O=e,Z=0),I===A.length-1&&(O=e,W+=A.charAt(I-(Z-1)),I-=Z-1,Z=0)):(O=e,W+=A.charAt(I-Z),I-=Z,Z=0);return W};o.__arabicParser__.isArabicDiacritic=function(A){return A!==void 0&&a[A.charCodeAt(0)]!==void 0};var M=o.__arabicParser__.getCorrectForm=function(A,I,O){return c(A)?l(A)===!1?-1:!y(A)||!c(I)&&!c(O)||!c(O)&&p(I)||p(A)&&!c(I)||p(A)&&g(I)||p(A)&&p(I)?0:S(A)&&c(I)&&!p(I)&&c(O)&&y(O)?3:p(A)||!c(O)?1:2:-1},x=function(A){var I=0,O=0,W=0,Z="",de="",ve="",Se=(A=A||"").split("\\s+"),K=[];for(I=0;I<Se.length;I+=1){for(K.push(""),O=0;O<Se[I].length;O+=1)Z=Se[I][O],de=Se[I][O-1],ve=Se[I][O+1],c(Z)?(W=M(Z,de,ve),K[I]+=W!==-1?String.fromCharCode(t[Z.charCodeAt(0)][W]):Z):K[I]+=Z;K[I]=E(K[I])}return K.join(" ")},R=o.__arabicParser__.processArabic=o.processArabic=function(){var A,I=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,O=[];if(Array.isArray(I)){var W=0;for(O=[],W=0;W<I.length;W+=1)Array.isArray(I[W])?O.push([x(I[W][0]),I[W][1],I[W][2]]):O.push([x(I[W])]);A=O}else A=x(I);return typeof arguments[0]=="string"?A:(arguments[0].text=A,arguments[0])};o.events.push(["preProcessText",R])})(Bn.API),Bn.API.autoPrint=function(o){var t;switch((o=o||{}).variant=o.variant||"non-conform",o.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",(function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+t+" 0 R")}))}return this},(function(o){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(p){e=p}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(p){a=isNaN(p)||Number.isInteger(p)===!1||p<0?150:p,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var u=300;Object.defineProperty(this,"height",{get:function(){return u},set:function(p){u=isNaN(p)||Number.isInteger(p)===!1||p<0?300:p,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=u+1)}});var l=[];Object.defineProperty(this,"childNodes",{get:function(){return l},set:function(p){l=p}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(p){c=p}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,a){var u;if((e=e||"2d")!=="2d")return null;for(u in a)this.pdf.context2d.hasOwnProperty(u)&&(this.pdf.context2d[u]=a[u]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},o.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(Bn.API),(function(o){var t={left:0,top:0,bottom:0,right:0},e=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),u.call(this))},u=function(){this.internal.__cell__.lastCell=new l,this.internal.__cell__.pages=1},l=function(){var g=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return g},set:function(A){g=A}});var y=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return y},set:function(A){y=A}});var S=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return S},set:function(A){S=A}});var E=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return E},set:function(A){E=A}});var M=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return M},set:function(A){M=A}});var x=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return x},set:function(A){x=A}});var R=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return R},set:function(A){R=A}}),this};l.prototype.clone=function(){return new l(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},l.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},o.setHeaderFunction=function(g){return a.call(this),this.internal.__cell__.headerFunction=typeof g=="function"?g:void 0,this},o.getTextDimensions=function(g,y){a.call(this);var S=(y=y||{}).fontSize||this.getFontSize(),E=y.font||this.getFont(),M=y.scaleFactor||this.internal.scaleFactor,x=0,R=0,A=0,I=this;if(!Array.isArray(g)&&typeof g!="string"){if(typeof g!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");g=String(g)}var O=y.maxWidth;O>0?typeof g=="string"?g=this.splitTextToSize(g,O):Object.prototype.toString.call(g)==="[object Array]"&&(g=g.reduce((function(Z,de){return Z.concat(I.splitTextToSize(de,O))}),[])):g=Array.isArray(g)?g:[g];for(var W=0;W<g.length;W++)x<(A=this.getStringUnitWidth(g[W],{font:E})*S)&&(x=A);return x!==0&&(R=g.length),{w:x/=M,h:Math.max((R*S*this.getLineHeightFactor()-S*(this.getLineHeightFactor()-1))/M,0)}},o.cellAddPage=function(){a.call(this),this.addPage();var g=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new l(g.left,g.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=o.cell=function(){var g;g=arguments[0]instanceof l?arguments[0]:new l(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),a.call(this);var y=this.internal.__cell__.lastCell,S=this.internal.__cell__.padding,E=this.internal.__cell__.margins||t,M=this.internal.__cell__.tableHeaderRow,x=this.internal.__cell__.printHeaders;return y.lineNumber!==void 0&&(y.lineNumber===g.lineNumber?(g.x=(y.x||0)+(y.width||0),g.y=y.y||0):y.y+y.height+g.height+E.bottom>this.getPageHeight()?(this.cellAddPage(),g.y=E.top,x&&M&&(this.printHeaderRow(g.lineNumber,!0),g.y+=M[0].height)):g.y=y.y+y.height||g.y),g.text[0]!==void 0&&(this.rect(g.x,g.y,g.width,g.height,e===!0?"FD":void 0),g.align==="right"?this.text(g.text,g.x+g.width-S,g.y+S,{align:"right",baseline:"top"}):g.align==="center"?this.text(g.text,g.x+g.width/2,g.y+S,{align:"center",baseline:"top",maxWidth:g.width-S-S}):this.text(g.text,g.x+S,g.y+S,{align:"left",baseline:"top",maxWidth:g.width-S-S})),this.internal.__cell__.lastCell=g,this};o.table=function(g,y,S,E,M){if(a.call(this),!S)throw new Error("No data for PDF table.");var x,R,A,I,O=[],W=[],Z=[],de={},ve={},Se=[],K=[],X=(M=M||{}).autoSize||!1,ge=M.printHeaders!==!1,Ie=M.css&&M.css["font-size"]!==void 0?16*M.css["font-size"]:M.fontSize||12,te=M.margins||Object.assign({width:this.getPageWidth()},t),G=typeof M.padding=="number"?M.padding:3,ae=M.headerBackgroundColor||"#c8c8c8",F=M.headerTextColor||"#000";if(u.call(this),this.internal.__cell__.printHeaders=ge,this.internal.__cell__.margins=te,this.internal.__cell__.table_font_size=Ie,this.internal.__cell__.padding=G,this.internal.__cell__.headerBackgroundColor=ae,this.internal.__cell__.headerTextColor=F,this.setFontSize(Ie),E==null)W=O=Object.keys(S[0]),Z=O.map((function(){return"left"}));else if(Array.isArray(E)&&Lr(E[0])==="object")for(O=E.map((function(Pe){return Pe.name})),W=E.map((function(Pe){return Pe.prompt||Pe.name||""})),Z=E.map((function(Pe){return Pe.align||"left"})),x=0;x<E.length;x+=1)ve[E[x].name]=E[x].width*(19.049976/25.4);else Array.isArray(E)&&typeof E[0]=="string"&&(W=O=E,Z=O.map((function(){return"left"})));if(X||Array.isArray(E)&&typeof E[0]=="string")for(x=0;x<O.length;x+=1){for(de[I=O[x]]=S.map((function(Pe){return Pe[I]})),this.setFont(void 0,"bold"),Se.push(this.getTextDimensions(W[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),R=de[I],this.setFont(void 0,"normal"),A=0;A<R.length;A+=1)Se.push(this.getTextDimensions(R[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ve[I]=Math.max.apply(null,Se)+G+G,Se=[]}if(ge){var Be={};for(x=0;x<O.length;x+=1)Be[O[x]]={},Be[O[x]].text=W[x],Be[O[x]].align=Z[x];var Ve=p.call(this,Be,ve);K=O.map((function(Pe){return new l(g,y,ve[Pe],Ve,Be[Pe].text,void 0,Be[Pe].align)})),this.setTableHeaderRow(K),this.printHeaderRow(1,!1)}var Fe=E.reduce((function(Pe,re){return Pe[re.name]=re.align,Pe}),{});for(x=0;x<S.length;x+=1){"rowStart"in M&&M.rowStart instanceof Function&&M.rowStart({row:x,data:S[x]},this);var xe=p.call(this,S[x],ve);for(A=0;A<O.length;A+=1){var Ae=S[x][O[A]];"cellStart"in M&&M.cellStart instanceof Function&&M.cellStart({row:x,col:A,data:Ae},this),c.call(this,new l(g,y,ve[O[A]],xe,Ae,x+2,Fe[O[A]]))}}return this.internal.__cell__.table_x=g,this.internal.__cell__.table_y=y,this};var p=function(g,y){var S=this.internal.__cell__.padding,E=this.internal.__cell__.table_font_size,M=this.internal.scaleFactor;return Object.keys(g).map((function(x){var R=g[x];return this.splitTextToSize(R.hasOwnProperty("text")?R.text:R,y[x]-S-S)}),this).map((function(x){return this.getLineHeightFactor()*x.length*E/M+S+S}),this).reduce((function(x,R){return Math.max(x,R)}),0)};o.setTableHeaderRow=function(g){a.call(this),this.internal.__cell__.tableHeaderRow=g},o.printHeaderRow=function(g,y){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var S;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var E=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new l(E[0],E[1],E[2],E[3],void 0,-1)}this.setFont(void 0,"bold");for(var M=[],x=0;x<this.internal.__cell__.tableHeaderRow.length;x+=1){S=this.internal.__cell__.tableHeaderRow[x].clone(),y&&(S.y=this.internal.__cell__.margins.top||0,M.push(S)),S.lineNumber=g;var R=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,S),this.setTextColor(R)}M.length>0&&this.setTableHeaderRow(M),this.setFont(void 0,"normal"),e=!1}})(Bn.API);var sg={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},ag=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],wd=ig(ag),og=[100,200,300,400,500,600,700,800,900],B2=ig(og);function bd(o){var t=o.family.replace(/"|'/g,"").toLowerCase(),e=(function(l){return sg[l=l||"normal"]?l:"normal"})(o.style),a=(function(l){if(!l)return 400;if(typeof l=="number")return l>=100&&l<=900&&l%100==0?l:400;if(/^\d00$/.test(l))return parseInt(l);switch(l){case"bold":return 700;case"normal":default:return 400}})(o.weight),u=(function(l){return typeof wd[l=l||"normal"]=="number"?l:"normal"})(o.stretch);return{family:t,style:e,weight:a,stretch:u,src:o.src||[],ref:o.ref||{name:t,style:[u,e,a].join(" ")}}}function z0(o,t,e,a){var u;for(u=e;u>=0&&u<t.length;u+=a)if(o[t[u]])return o[t[u]];for(u=e;u>=0&&u<t.length;u-=a)if(o[t[u]])return o[t[u]]}var T2={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},U0={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function q0(o){return[o.stretch,o.style,o.weight,o.family].join(" ")}function N2(o,t,e){for(var a=(e=e||{}).defaultFontFamily||"times",u=Object.assign({},T2,e.genericFontFamilies||{}),l=null,c=null,p=0;p<t.length;++p)if(u[(l=bd(t[p])).family]&&(l.family=u[l.family]),o.hasOwnProperty(l.family)){c=o[l.family];break}if(!(c=c||o[a]))throw new Error("Could not find a font-family for the rule '"+q0(l)+"' and default family '"+a+"'.");if(c=(function(g,y){if(y[g])return y[g];var S=wd[g],E=S<=wd.normal?-1:1,M=z0(y,ag,S,E);if(!M)throw new Error("Could not find a matching font-stretch value for "+g);return M})(l.stretch,c),c=(function(g,y){if(y[g])return y[g];for(var S=sg[g],E=0;E<S.length;++E)if(y[S[E]])return y[S[E]];throw new Error("Could not find a matching font-style for "+g)})(l.style,c),!(c=(function(g,y){if(y[g])return y[g];if(g===400&&y[500])return y[500];if(g===500&&y[400])return y[400];var S=B2[g],E=z0(y,og,S,g<400?-1:1);if(!E)throw new Error("Could not find a matching font-weight for value "+g);return E})(l.weight,c)))throw new Error("Failed to resolve a font for the rule '"+q0(l)+"'.");return c}function G0(o){return o.trimLeft()}function O2(o,t){for(var e=0;e<o.length;){if(o.charAt(e)===t)return[o.substring(0,e),o.substring(e+1)];e+=1}return null}function D2(o){var t=o.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],o.substring(t[0].length)]}var _c,H0,W0,Wf=["times"];(function(o){var t,e,a,u,l,c,p,g,y,S=function(j){return j=j||{},this.isStrokeTransparent=j.isStrokeTransparent||!1,this.strokeOpacity=j.strokeOpacity||1,this.strokeStyle=j.strokeStyle||"#000000",this.fillStyle=j.fillStyle||"#000000",this.isFillTransparent=j.isFillTransparent||!1,this.fillOpacity=j.fillOpacity||1,this.font=j.font||"10px sans-serif",this.textBaseline=j.textBaseline||"alphabetic",this.textAlign=j.textAlign||"left",this.lineWidth=j.lineWidth||1,this.lineJoin=j.lineJoin||"miter",this.lineCap=j.lineCap||"butt",this.path=j.path||[],this.transform=j.transform!==void 0?j.transform.clone():new g,this.globalCompositeOperation=j.globalCompositeOperation||"normal",this.globalAlpha=j.globalAlpha||1,this.clip_path=j.clip_path||[],this.currentPoint=j.currentPoint||new c,this.miterLimit=j.miterLimit||10,this.lastPoint=j.lastPoint||new c,this.lineDashOffset=j.lineDashOffset||0,this.lineDash=j.lineDash||[],this.margin=j.margin||[0,0,0,0],this.prevPageLastElemOffset=j.prevPageLastElemOffset||0,this.ignoreClearRect=typeof j.ignoreClearRect!="boolean"||j.ignoreClearRect,this};o.events.push(["initialized",function(){this.context2d=new E(this),t=this.internal.f2,e=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,u=this.internal.getHorizontalCoordinate,l=this.internal.getVerticalCoordinate,c=this.internal.Point,p=this.internal.Rectangle,g=this.internal.Matrix,y=new S}]);var E=function(j){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var he=j;Object.defineProperty(this,"pdf",{get:function(){return he}});var fe=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return fe},set:function(je){fe=!!je}});var pe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return pe},set:function(je){pe=!!je}});var Te=0;Object.defineProperty(this,"posX",{get:function(){return Te},set:function(je){isNaN(je)||(Te=je)}});var Ke=0;Object.defineProperty(this,"posY",{get:function(){return Ke},set:function(je){isNaN(je)||(Ke=je)}}),Object.defineProperty(this,"margin",{get:function(){return y.margin},set:function(je){var oe;typeof je=="number"?oe=[je,je,je,je]:((oe=new Array(4))[0]=je[0],oe[1]=je.length>=2?je[1]:oe[0],oe[2]=je.length>=3?je[2]:oe[0],oe[3]=je.length>=4?je[3]:oe[1]),y.margin=oe}});var We=!1;Object.defineProperty(this,"autoPaging",{get:function(){return We},set:function(je){We=je}});var Ye=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ye},set:function(je){Ye=je}});var Tt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Tt},set:function(je){Tt=je}}),Object.defineProperty(this,"ctx",{get:function(){return y},set:function(je){je instanceof S&&(y=je)}}),Object.defineProperty(this,"path",{get:function(){return y.path},set:function(je){y.path=je}});var Ot=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ot},set:function(je){Ot=je}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(je){var oe;oe=M(je),this.ctx.fillStyle=oe.style,this.ctx.isFillTransparent=oe.a===0,this.ctx.fillOpacity=oe.a,this.pdf.setFillColor(oe.r,oe.g,oe.b,{a:oe.a}),this.pdf.setTextColor(oe.r,oe.g,oe.b,{a:oe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(je){var oe=M(je);this.ctx.strokeStyle=oe.style,this.ctx.isStrokeTransparent=oe.a===0,this.ctx.strokeOpacity=oe.a,oe.a===0?this.pdf.setDrawColor(255,255,255):(oe.a,this.pdf.setDrawColor(oe.r,oe.g,oe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(je){["butt","round","square"].indexOf(je)!==-1&&(this.ctx.lineCap=je,this.pdf.setLineCap(je))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(je){isNaN(je)||(this.ctx.lineWidth=je,this.pdf.setLineWidth(je))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(je){["bevel","round","miter"].indexOf(je)!==-1&&(this.ctx.lineJoin=je,this.pdf.setLineJoin(je))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(je){isNaN(je)||(this.ctx.miterLimit=je,this.pdf.setMiterLimit(je))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(je){this.ctx.textBaseline=je}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(je){["right","end","center","left","start"].indexOf(je)!==-1&&(this.ctx.textAlign=je)}});var Gt=null;function qt(je,oe){if(Gt===null){var Ee=(function(we){var Ne=[];return Object.keys(we).forEach((function(it){we[it].forEach((function(ut){var qe=null;switch(ut){case"bold":qe={family:it,weight:"bold"};break;case"italic":qe={family:it,style:"italic"};break;case"bolditalic":qe={family:it,weight:"bold",style:"italic"};break;case"":case"normal":qe={family:it}}qe!==null&&(qe.ref={name:it,style:ut},Ne.push(qe))}))})),Ne})(je.getFontList());Gt=(function(we){for(var Ne={},it=0;it<we.length;++it){var ut=bd(we[it]),qe=ut.family,Lt=ut.stretch,It=ut.style,Bt=ut.weight;Ne[qe]=Ne[qe]||{},Ne[qe][Lt]=Ne[qe][Lt]||{},Ne[qe][Lt][It]=Ne[qe][Lt][It]||{},Ne[qe][Lt][It][Bt]=ut}return Ne})(Ee.concat(oe))}return Gt}var $=null;Object.defineProperty(this,"fontFaces",{get:function(){return $},set:function(je){Gt=null,$=je}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(je){var oe;if(this.ctx.font=je,(oe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(je))!==null){var Ee=oe[1];oe[2];var we=oe[3],Ne=oe[4];oe[5];var it=oe[6],ut=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ne)[2];Ne=Math.floor(ut==="px"?parseFloat(Ne)*this.pdf.internal.scaleFactor:ut==="em"?parseFloat(Ne)*this.pdf.getFontSize():parseFloat(Ne)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ne);var qe=(function(on){var wn,Vt,ur=[],cn=on.trim();if(cn==="")return Wf;if(cn in U0)return[U0[cn]];for(;cn!=="";){switch(Vt=null,wn=(cn=G0(cn)).charAt(0)){case'"':case"'":Vt=O2(cn.substring(1),wn);break;default:Vt=D2(cn)}if(Vt===null||(ur.push(Vt[0]),(cn=G0(Vt[1]))!==""&&cn.charAt(0)!==","))return Wf;cn=cn.replace(/^,/,"")}return ur})(it);if(this.fontFaces){var Lt=N2(qt(this.pdf,this.fontFaces),qe.map((function(on){return{family:on,stretch:"normal",weight:we,style:Ee}})));this.pdf.setFont(Lt.ref.name,Lt.ref.style)}else{var It="";(we==="bold"||parseInt(we,10)>=700||Ee==="bold")&&(It="bold"),Ee==="italic"&&(It+="italic"),It.length===0&&(It="normal");for(var Bt="",Ut={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},an=0;an<qe.length;an++){if(this.pdf.internal.getFont(qe[an],It,{noFallback:!0,disableWarning:!0})!==void 0){Bt=qe[an];break}if(It==="bolditalic"&&this.pdf.internal.getFont(qe[an],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Bt=qe[an],It="bold";else if(this.pdf.internal.getFont(qe[an],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Bt=qe[an],It="normal";break}}if(Bt===""){for(var tn=0;tn<qe.length;tn++)if(Ut[qe[tn]]){Bt=Ut[qe[tn]];break}}Bt=Bt===""?"Times":Bt,this.pdf.setFont(Bt,It)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(je){this.ctx.globalCompositeOperation=je}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(je){this.ctx.globalAlpha=je}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(je){this.ctx.lineDashOffset=je,re.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(je){this.ctx.lineDash=je,re.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(je){this.ctx.ignoreClearRect=!!je}})};E.prototype.setLineDash=function(j){this.lineDash=j},E.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},E.prototype.fill=function(){de.call(this,"fill",!1)},E.prototype.stroke=function(){de.call(this,"stroke",!1)},E.prototype.beginPath=function(){this.path=[{type:"begin"}]},E.prototype.moveTo=function(j,he){if(isNaN(j)||isNaN(he))throw Or.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var fe=this.ctx.transform.applyToPoint(new c(j,he));this.path.push({type:"mt",x:fe.x,y:fe.y}),this.ctx.lastPoint=new c(j,he)},E.prototype.closePath=function(){var j=new c(0,0),he=0;for(he=this.path.length-1;he!==-1;he--)if(this.path[he].type==="begin"&&Lr(this.path[he+1])==="object"&&typeof this.path[he+1].x=="number"){j=new c(this.path[he+1].x,this.path[he+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(j.x,j.y)},E.prototype.lineTo=function(j,he){if(isNaN(j)||isNaN(he))throw Or.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var fe=this.ctx.transform.applyToPoint(new c(j,he));this.path.push({type:"lt",x:fe.x,y:fe.y}),this.ctx.lastPoint=new c(fe.x,fe.y)},E.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),de.call(this,null,!0)},E.prototype.quadraticCurveTo=function(j,he,fe,pe){if(isNaN(fe)||isNaN(pe)||isNaN(j)||isNaN(he))throw Or.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Te=this.ctx.transform.applyToPoint(new c(fe,pe)),Ke=this.ctx.transform.applyToPoint(new c(j,he));this.path.push({type:"qct",x1:Ke.x,y1:Ke.y,x:Te.x,y:Te.y}),this.ctx.lastPoint=new c(Te.x,Te.y)},E.prototype.bezierCurveTo=function(j,he,fe,pe,Te,Ke){if(isNaN(Te)||isNaN(Ke)||isNaN(j)||isNaN(he)||isNaN(fe)||isNaN(pe))throw Or.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var We=this.ctx.transform.applyToPoint(new c(Te,Ke)),Ye=this.ctx.transform.applyToPoint(new c(j,he)),Tt=this.ctx.transform.applyToPoint(new c(fe,pe));this.path.push({type:"bct",x1:Ye.x,y1:Ye.y,x2:Tt.x,y2:Tt.y,x:We.x,y:We.y}),this.ctx.lastPoint=new c(We.x,We.y)},E.prototype.arc=function(j,he,fe,pe,Te,Ke){if(isNaN(j)||isNaN(he)||isNaN(fe)||isNaN(pe)||isNaN(Te))throw Or.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ke=!!Ke,!this.ctx.transform.isIdentity){var We=this.ctx.transform.applyToPoint(new c(j,he));j=We.x,he=We.y;var Ye=this.ctx.transform.applyToPoint(new c(0,fe)),Tt=this.ctx.transform.applyToPoint(new c(0,0));fe=Math.sqrt(Math.pow(Ye.x-Tt.x,2)+Math.pow(Ye.y-Tt.y,2))}Math.abs(Te-pe)>=2*Math.PI&&(pe=0,Te=2*Math.PI),this.path.push({type:"arc",x:j,y:he,radius:fe,startAngle:pe,endAngle:Te,counterclockwise:Ke})},E.prototype.arcTo=function(j,he,fe,pe,Te){throw new Error("arcTo not implemented.")},E.prototype.rect=function(j,he,fe,pe){if(isNaN(j)||isNaN(he)||isNaN(fe)||isNaN(pe))throw Or.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(j,he),this.lineTo(j+fe,he),this.lineTo(j+fe,he+pe),this.lineTo(j,he+pe),this.lineTo(j,he),this.lineTo(j+fe,he),this.lineTo(j,he)},E.prototype.fillRect=function(j,he,fe,pe){if(isNaN(j)||isNaN(he)||isNaN(fe)||isNaN(pe))throw Or.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!x.call(this)){var Te={};this.lineCap!=="butt"&&(Te.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Te.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(j,he,fe,pe),this.fill(),Te.hasOwnProperty("lineCap")&&(this.lineCap=Te.lineCap),Te.hasOwnProperty("lineJoin")&&(this.lineJoin=Te.lineJoin)}},E.prototype.strokeRect=function(j,he,fe,pe){if(isNaN(j)||isNaN(he)||isNaN(fe)||isNaN(pe))throw Or.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");R.call(this)||(this.beginPath(),this.rect(j,he,fe,pe),this.stroke())},E.prototype.clearRect=function(j,he,fe,pe){if(isNaN(j)||isNaN(he)||isNaN(fe)||isNaN(pe))throw Or.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(j,he,fe,pe))},E.prototype.save=function(j){j=typeof j!="boolean"||j;for(var he=this.pdf.internal.getCurrentPageInfo().pageNumber,fe=0;fe<this.pdf.internal.getNumberOfPages();fe++)this.pdf.setPage(fe+1),this.pdf.internal.out("q");if(this.pdf.setPage(he),j){this.ctx.fontSize=this.pdf.internal.getFontSize();var pe=new S(this.ctx);this.ctxStack.push(this.ctx),this.ctx=pe}},E.prototype.restore=function(j){j=typeof j!="boolean"||j;for(var he=this.pdf.internal.getCurrentPageInfo().pageNumber,fe=0;fe<this.pdf.internal.getNumberOfPages();fe++)this.pdf.setPage(fe+1),this.pdf.internal.out("Q");this.pdf.setPage(he),j&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},E.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var M=function(j){var he,fe,pe,Te;if(j.isCanvasGradient===!0&&(j=j.getColor()),!j)return{r:0,g:0,b:0,a:0,style:j};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(j))he=0,fe=0,pe=0,Te=0;else{var Ke=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(j);if(Ke!==null)he=parseInt(Ke[1]),fe=parseInt(Ke[2]),pe=parseInt(Ke[3]),Te=1;else if((Ke=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(j))!==null)he=parseInt(Ke[1]),fe=parseInt(Ke[2]),pe=parseInt(Ke[3]),Te=parseFloat(Ke[4]);else{if(Te=1,typeof j=="string"&&j.charAt(0)!=="#"){var We=new Xm(j);j=We.ok?We.toHex():"#000000"}j.length===4?(he=j.substring(1,2),he+=he,fe=j.substring(2,3),fe+=fe,pe=j.substring(3,4),pe+=pe):(he=j.substring(1,3),fe=j.substring(3,5),pe=j.substring(5,7)),he=parseInt(he,16),fe=parseInt(fe,16),pe=parseInt(pe,16)}}return{r:he,g:fe,b:pe,a:Te,style:j}},x=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},R=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};E.prototype.fillText=function(j,he,fe,pe){if(isNaN(he)||isNaN(fe)||typeof j!="string")throw Or.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(pe=isNaN(pe)?void 0:pe,!x.call(this)){var Te=xe(this.ctx.transform.rotation),Ke=this.ctx.transform.scaleX;G.call(this,{text:j,x:he,y:fe,scale:Ke,angle:Te,align:this.textAlign,maxWidth:pe})}},E.prototype.strokeText=function(j,he,fe,pe){if(isNaN(he)||isNaN(fe)||typeof j!="string")throw Or.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!R.call(this)){pe=isNaN(pe)?void 0:pe;var Te=xe(this.ctx.transform.rotation),Ke=this.ctx.transform.scaleX;G.call(this,{text:j,x:he,y:fe,scale:Ke,renderingMode:"stroke",angle:Te,align:this.textAlign,maxWidth:pe})}},E.prototype.measureText=function(j){if(typeof j!="string")throw Or.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var he=this.pdf,fe=this.pdf.internal.scaleFactor,pe=he.internal.getFontSize(),Te=he.getStringUnitWidth(j)*pe/he.internal.scaleFactor,Ke=function(We){var Ye=(We=We||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ye}}),this};return new Ke({width:Te*=Math.round(96*fe/72*1e4)/1e4})},E.prototype.scale=function(j,he){if(isNaN(j)||isNaN(he))throw Or.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var fe=new g(j,0,0,he,0,0);this.ctx.transform=this.ctx.transform.multiply(fe)},E.prototype.rotate=function(j){if(isNaN(j))throw Or.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var he=new g(Math.cos(j),Math.sin(j),-Math.sin(j),Math.cos(j),0,0);this.ctx.transform=this.ctx.transform.multiply(he)},E.prototype.translate=function(j,he){if(isNaN(j)||isNaN(he))throw Or.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var fe=new g(1,0,0,1,j,he);this.ctx.transform=this.ctx.transform.multiply(fe)},E.prototype.transform=function(j,he,fe,pe,Te,Ke){if(isNaN(j)||isNaN(he)||isNaN(fe)||isNaN(pe)||isNaN(Te)||isNaN(Ke))throw Or.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var We=new g(j,he,fe,pe,Te,Ke);this.ctx.transform=this.ctx.transform.multiply(We)},E.prototype.setTransform=function(j,he,fe,pe,Te,Ke){j=isNaN(j)?1:j,he=isNaN(he)?0:he,fe=isNaN(fe)?0:fe,pe=isNaN(pe)?1:pe,Te=isNaN(Te)?0:Te,Ke=isNaN(Ke)?0:Ke,this.ctx.transform=new g(j,he,fe,pe,Te,Ke)};var A=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};E.prototype.drawImage=function(j,he,fe,pe,Te,Ke,We,Ye,Tt){var Ot=this.pdf.getImageProperties(j),Gt=1,qt=1,$=1,je=1;pe!==void 0&&Ye!==void 0&&($=Ye/pe,je=Tt/Te,Gt=Ot.width/pe*Ye/pe,qt=Ot.height/Te*Tt/Te),Ke===void 0&&(Ke=he,We=fe,he=0,fe=0),pe!==void 0&&Ye===void 0&&(Ye=pe,Tt=Te),pe===void 0&&Ye===void 0&&(Ye=Ot.width,Tt=Ot.height);for(var oe,Ee=this.ctx.transform.decompose(),we=xe(Ee.rotate.shx),Ne=new g,it=(Ne=(Ne=(Ne=Ne.multiply(Ee.translate)).multiply(Ee.skew)).multiply(Ee.scale)).applyToRectangle(new p(Ke-he*$,We-fe*je,pe*Gt,Te*qt)),ut=I.call(this,it),qe=[],Lt=0;Lt<ut.length;Lt+=1)qe.indexOf(ut[Lt])===-1&&qe.push(ut[Lt]);if(Z(qe),this.autoPaging)for(var It=qe[0],Bt=qe[qe.length-1],Ut=It;Ut<Bt+1;Ut++){this.pdf.setPage(Ut);var an=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],tn=Ut===1?this.posY+this.margin[0]:this.margin[0],on=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Vt=Ut===1?0:on+(Ut-2)*wn;if(this.ctx.clip_path.length!==0){var ur=this.path;oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=W(oe,this.posX+this.margin[3],-Vt+tn+this.ctx.prevPageLastElemOffset),ve.call(this,"fill",!0),this.path=ur}var cn=JSON.parse(JSON.stringify(it));cn=W([cn],this.posX+this.margin[3],-Vt+tn+this.ctx.prevPageLastElemOffset)[0];var Dr=(Ut>It||Ut<Bt)&&A.call(this);Dr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],an,wn,null).clip().discardPath()),this.pdf.addImage(j,"JPEG",cn.x,cn.y,cn.w,cn.h,null,null,we),Dr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(j,"JPEG",it.x,it.y,it.w,it.h,null,null,we)};var I=function(j,he,fe){var pe=[];he=he||this.pdf.internal.pageSize.width,fe=fe||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Te=this.posY+this.ctx.prevPageLastElemOffset;switch(j.type){default:case"mt":case"lt":pe.push(Math.floor((j.y+Te)/fe)+1);break;case"arc":pe.push(Math.floor((j.y+Te-j.radius)/fe)+1),pe.push(Math.floor((j.y+Te+j.radius)/fe)+1);break;case"qct":var Ke=Ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x,j.y);pe.push(Math.floor((Ke.y+Te)/fe)+1),pe.push(Math.floor((Ke.y+Ke.h+Te)/fe)+1);break;case"bct":var We=Pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x2,j.y2,j.x,j.y);pe.push(Math.floor((We.y+Te)/fe)+1),pe.push(Math.floor((We.y+We.h+Te)/fe)+1);break;case"rect":pe.push(Math.floor((j.y+Te)/fe)+1),pe.push(Math.floor((j.y+j.h+Te)/fe)+1)}for(var Ye=0;Ye<pe.length;Ye+=1)for(;this.pdf.internal.getNumberOfPages()<pe[Ye];)O.call(this);return pe},O=function(){var j=this.fillStyle,he=this.strokeStyle,fe=this.font,pe=this.lineCap,Te=this.lineWidth,Ke=this.lineJoin;this.pdf.addPage(),this.fillStyle=j,this.strokeStyle=he,this.font=fe,this.lineCap=pe,this.lineWidth=Te,this.lineJoin=Ke},W=function(j,he,fe){for(var pe=0;pe<j.length;pe++)switch(j[pe].type){case"bct":j[pe].x2+=he,j[pe].y2+=fe;case"qct":j[pe].x1+=he,j[pe].y1+=fe;case"mt":case"lt":case"arc":default:j[pe].x+=he,j[pe].y+=fe}return j},Z=function(j){return j.sort((function(he,fe){return he-fe}))},de=function(j,he){for(var fe,pe,Te=this.fillStyle,Ke=this.strokeStyle,We=this.lineCap,Ye=this.lineWidth,Tt=Math.abs(Ye*this.ctx.transform.scaleX),Ot=this.lineJoin,Gt=JSON.parse(JSON.stringify(this.path)),qt=JSON.parse(JSON.stringify(this.path)),$=[],je=0;je<qt.length;je++)if(qt[je].x!==void 0)for(var oe=I.call(this,qt[je]),Ee=0;Ee<oe.length;Ee+=1)$.indexOf(oe[Ee])===-1&&$.push(oe[Ee]);for(var we=0;we<$.length;we++)for(;this.pdf.internal.getNumberOfPages()<$[we];)O.call(this);if(Z($),this.autoPaging)for(var Ne=$[0],it=$[$.length-1],ut=Ne;ut<it+1;ut++){this.pdf.setPage(ut),this.fillStyle=Te,this.strokeStyle=Ke,this.lineCap=We,this.lineWidth=Tt,this.lineJoin=Ot;var qe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Lt=ut===1?this.posY+this.margin[0]:this.margin[0],It=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ut=ut===1?0:It+(ut-2)*Bt;if(this.ctx.clip_path.length!==0){var an=this.path;fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=W(fe,this.posX+this.margin[3],-Ut+Lt+this.ctx.prevPageLastElemOffset),ve.call(this,j,!0),this.path=an}if(pe=JSON.parse(JSON.stringify(Gt)),this.path=W(pe,this.posX+this.margin[3],-Ut+Lt+this.ctx.prevPageLastElemOffset),he===!1||ut===0){var tn=(ut>Ne||ut<it)&&A.call(this);tn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qe,Bt,null).clip().discardPath()),ve.call(this,j,he),tn&&this.pdf.restoreGraphicsState()}this.lineWidth=Ye}else this.lineWidth=Tt,ve.call(this,j,he),this.lineWidth=Ye;this.path=Gt},ve=function(j,he){if((j!=="stroke"||he||!R.call(this))&&(j==="stroke"||he||!x.call(this))){for(var fe,pe,Te=[],Ke=this.path,We=0;We<Ke.length;We++){var Ye=Ke[We];switch(Ye.type){case"begin":Te.push({begin:!0});break;case"close":Te.push({close:!0});break;case"mt":Te.push({start:Ye,deltas:[],abs:[]});break;case"lt":var Tt=Te.length;if(Ke[We-1]&&!isNaN(Ke[We-1].x)&&(fe=[Ye.x-Ke[We-1].x,Ye.y-Ke[We-1].y],Tt>0)){for(;Tt>=0;Tt--)if(Te[Tt-1].close!==!0&&Te[Tt-1].begin!==!0){Te[Tt-1].deltas.push(fe),Te[Tt-1].abs.push(Ye);break}}break;case"bct":fe=[Ye.x1-Ke[We-1].x,Ye.y1-Ke[We-1].y,Ye.x2-Ke[We-1].x,Ye.y2-Ke[We-1].y,Ye.x-Ke[We-1].x,Ye.y-Ke[We-1].y],Te[Te.length-1].deltas.push(fe);break;case"qct":var Ot=Ke[We-1].x+2/3*(Ye.x1-Ke[We-1].x),Gt=Ke[We-1].y+2/3*(Ye.y1-Ke[We-1].y),qt=Ye.x+2/3*(Ye.x1-Ye.x),$=Ye.y+2/3*(Ye.y1-Ye.y),je=Ye.x,oe=Ye.y;fe=[Ot-Ke[We-1].x,Gt-Ke[We-1].y,qt-Ke[We-1].x,$-Ke[We-1].y,je-Ke[We-1].x,oe-Ke[We-1].y],Te[Te.length-1].deltas.push(fe);break;case"arc":Te.push({deltas:[],abs:[],arc:!0}),Array.isArray(Te[Te.length-1].abs)&&Te[Te.length-1].abs.push(Ye)}}pe=he?null:j==="stroke"?"stroke":"fill";for(var Ee=!1,we=0;we<Te.length;we++)if(Te[we].arc)for(var Ne=Te[we].abs,it=0;it<Ne.length;it++){var ut=Ne[it];ut.type==="arc"?X.call(this,ut.x,ut.y,ut.radius,ut.startAngle,ut.endAngle,ut.counterclockwise,void 0,he,!Ee):ae.call(this,ut.x,ut.y),Ee=!0}else if(Te[we].close===!0)this.pdf.internal.out("h"),Ee=!1;else if(Te[we].begin!==!0){var qe=Te[we].start.x,Lt=Te[we].start.y;F.call(this,Te[we].deltas,qe,Lt),Ee=!0}pe&&ge.call(this,pe),he&&Ie.call(this)}},Se=function(j){var he=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,fe=he*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return j-fe;case"top":return j+he-fe;case"hanging":return j+he-2*fe;case"middle":return j+he/2-fe;case"ideographic":return j;case"alphabetic":default:return j}},K=function(j){return j+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};E.prototype.createLinearGradient=function(){var j=function(){};return j.colorStops=[],j.addColorStop=function(he,fe){this.colorStops.push([he,fe])},j.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},j.isCanvasGradient=!0,j},E.prototype.createPattern=function(){return this.createLinearGradient()},E.prototype.createRadialGradient=function(){return this.createLinearGradient()};var X=function(j,he,fe,pe,Te,Ke,We,Ye,Tt){for(var Ot=Ve.call(this,fe,pe,Te,Ke),Gt=0;Gt<Ot.length;Gt++){var qt=Ot[Gt];Gt===0&&(Tt?te.call(this,qt.x1+j,qt.y1+he):ae.call(this,qt.x1+j,qt.y1+he)),Be.call(this,j,he,qt.x2,qt.y2,qt.x3,qt.y3,qt.x4,qt.y4)}Ye?Ie.call(this):ge.call(this,We)},ge=function(j){switch(j){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Ie=function(){this.pdf.clip(),this.pdf.discardPath()},te=function(j,he){this.pdf.internal.out(e(j)+" "+a(he)+" m")},G=function(j){var he;switch(j.align){case"right":case"end":he="right";break;case"center":he="center";break;case"left":case"start":default:he="left"}var fe=this.pdf.getTextDimensions(j.text),pe=Se.call(this,j.y),Te=K.call(this,pe)-fe.h,Ke=this.ctx.transform.applyToPoint(new c(j.x,pe)),We=this.ctx.transform.decompose(),Ye=new g;Ye=(Ye=(Ye=Ye.multiply(We.translate)).multiply(We.skew)).multiply(We.scale);for(var Tt,Ot,Gt,qt=this.ctx.transform.applyToRectangle(new p(j.x,pe,fe.w,fe.h)),$=Ye.applyToRectangle(new p(j.x,Te,fe.w,fe.h)),je=I.call(this,$),oe=[],Ee=0;Ee<je.length;Ee+=1)oe.indexOf(je[Ee])===-1&&oe.push(je[Ee]);if(Z(oe),this.autoPaging)for(var we=oe[0],Ne=oe[oe.length-1],it=we;it<Ne+1;it++){this.pdf.setPage(it);var ut=it===1?this.posY+this.margin[0]:this.margin[0],qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Lt=this.pdf.internal.pageSize.height-this.margin[2],It=Lt-this.margin[0],Bt=this.pdf.internal.pageSize.width-this.margin[1],Ut=Bt-this.margin[3],an=it===1?0:qe+(it-2)*It;if(this.ctx.clip_path.length!==0){var tn=this.path;Tt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=W(Tt,this.posX+this.margin[3],-1*an+ut),ve.call(this,"fill",!0),this.path=tn}var on=W([JSON.parse(JSON.stringify($))],this.posX+this.margin[3],-an+ut+this.ctx.prevPageLastElemOffset)[0];j.scale>=.01&&(Ot=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ot*j.scale),Gt=this.lineWidth,this.lineWidth=Gt*j.scale);var wn=this.autoPaging!=="text";if(wn||on.y+on.h<=Lt){if(wn||on.y>=ut&&on.x<=Bt){var Vt=wn?j.text:this.pdf.splitTextToSize(j.text,j.maxWidth||Bt-on.x)[0],ur=W([JSON.parse(JSON.stringify(qt))],this.posX+this.margin[3],-an+ut+this.ctx.prevPageLastElemOffset)[0],cn=wn&&(it>we||it<Ne)&&A.call(this);cn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ut,It,null).clip().discardPath()),this.pdf.text(Vt,ur.x,ur.y,{angle:j.angle,align:he,renderingMode:j.renderingMode}),cn&&this.pdf.restoreGraphicsState()}}else on.y<Lt&&(this.ctx.prevPageLastElemOffset+=Lt-on.y);j.scale>=.01&&(this.pdf.setFontSize(Ot),this.lineWidth=Gt)}else j.scale>=.01&&(Ot=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ot*j.scale),Gt=this.lineWidth,this.lineWidth=Gt*j.scale),this.pdf.text(j.text,Ke.x+this.posX,Ke.y+this.posY,{angle:j.angle,align:he,renderingMode:j.renderingMode,maxWidth:j.maxWidth}),j.scale>=.01&&(this.pdf.setFontSize(Ot),this.lineWidth=Gt)},ae=function(j,he,fe,pe){fe=fe||0,pe=pe||0,this.pdf.internal.out(e(j+fe)+" "+a(he+pe)+" l")},F=function(j,he,fe){return this.pdf.lines(j,he,fe,null,null)},Be=function(j,he,fe,pe,Te,Ke,We,Ye){this.pdf.internal.out([t(u(fe+j)),t(l(pe+he)),t(u(Te+j)),t(l(Ke+he)),t(u(We+j)),t(l(Ye+he)),"c"].join(" "))},Ve=function(j,he,fe,pe){for(var Te=2*Math.PI,Ke=Math.PI/2;he>fe;)he-=Te;var We=Math.abs(fe-he);We<Te&&pe&&(We=Te-We);for(var Ye=[],Tt=pe?-1:1,Ot=he;We>1e-5;){var Gt=Ot+Tt*Math.min(We,Ke);Ye.push(Fe.call(this,j,Ot,Gt)),We-=Math.abs(Gt-Ot),Ot=Gt}return Ye},Fe=function(j,he,fe){var pe=(fe-he)/2,Te=j*Math.cos(pe),Ke=j*Math.sin(pe),We=Te,Ye=-Ke,Tt=We*We+Ye*Ye,Ot=Tt+We*Te+Ye*Ke,Gt=4/3*(Math.sqrt(2*Tt*Ot)-Ot)/(We*Ke-Ye*Te),qt=We-Gt*Ye,$=Ye+Gt*We,je=qt,oe=-$,Ee=pe+he,we=Math.cos(Ee),Ne=Math.sin(Ee);return{x1:j*Math.cos(he),y1:j*Math.sin(he),x2:qt*we-$*Ne,y2:qt*Ne+$*we,x3:je*we-oe*Ne,y3:je*Ne+oe*we,x4:j*Math.cos(fe),y4:j*Math.sin(fe)}},xe=function(j){return 180*j/Math.PI},Ae=function(j,he,fe,pe,Te,Ke){var We=j+.5*(fe-j),Ye=he+.5*(pe-he),Tt=Te+.5*(fe-Te),Ot=Ke+.5*(pe-Ke),Gt=Math.min(j,Te,We,Tt),qt=Math.max(j,Te,We,Tt),$=Math.min(he,Ke,Ye,Ot),je=Math.max(he,Ke,Ye,Ot);return new p(Gt,$,qt-Gt,je-$)},Pe=function(j,he,fe,pe,Te,Ke,We,Ye){var Tt,Ot,Gt,qt,$,je,oe,Ee,we,Ne,it,ut,qe,Lt,It=fe-j,Bt=pe-he,Ut=Te-fe,an=Ke-pe,tn=We-Te,on=Ye-Ke;for(Ot=0;Ot<41;Ot++)we=(oe=(Gt=j+(Tt=Ot/40)*It)+Tt*(($=fe+Tt*Ut)-Gt))+Tt*($+Tt*(Te+Tt*tn-$)-oe),Ne=(Ee=(qt=he+Tt*Bt)+Tt*((je=pe+Tt*an)-qt))+Tt*(je+Tt*(Ke+Tt*on-je)-Ee),Ot==0?(it=we,ut=Ne,qe=we,Lt=Ne):(it=Math.min(it,we),ut=Math.min(ut,Ne),qe=Math.max(qe,we),Lt=Math.max(Lt,Ne));return new p(Math.round(it),Math.round(ut),Math.round(qe-it),Math.round(Lt-ut))},re=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var j,he,fe=(j=this.ctx.lineDash,he=this.ctx.lineDashOffset,JSON.stringify({lineDash:j,lineDashOffset:he}));this.prevLineDash!==fe&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=fe)}}})(Bn.API),(function(o){var t=function(l){var c,p,g,y,S,E,M,x,R,A;for(p=[],g=0,y=(l+=c="\0\0\0\0".slice(l.length%4||4)).length;y>g;g+=4)(S=(l.charCodeAt(g)<<24)+(l.charCodeAt(g+1)<<16)+(l.charCodeAt(g+2)<<8)+l.charCodeAt(g+3))!==0?(E=(S=((S=((S=((S=(S-(A=S%85))/85)-(R=S%85))/85)-(x=S%85))/85)-(M=S%85))/85)%85,p.push(E+33,M+33,x+33,R+33,A+33)):p.push(122);return(function(I,O){for(var W=O;W>0;W--)I.pop()})(p,c.length),String.fromCharCode.apply(String,p)+"~>"},e=function(l){var c,p,g,y,S,E=String,M="length",x=255,R="charCodeAt",A="slice",I="replace";for(l[A](-2),l=l[A](0,-2)[I](/\s/g,"")[I]("z","!!!!!"),g=[],y=0,S=(l+=c="uuuuu"[A](l[M]%5||5))[M];S>y;y+=5)p=52200625*(l[R](y)-33)+614125*(l[R](y+1)-33)+7225*(l[R](y+2)-33)+85*(l[R](y+3)-33)+(l[R](y+4)-33),g.push(x&p>>24,x&p>>16,x&p>>8,x&p);return(function(O,W){for(var Z=W;Z>0;Z--)O.pop()})(g,c[M]),E.fromCharCode.apply(E,g)},a=function(l){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),c.test(l)===!1)return"";for(var p="",g=0;g<l.length;g+=2)p+=String.fromCharCode("0x"+(l[g]+l[g+1]));return p},u=function(l){for(var c=new Uint8Array(l.length),p=l.length;p--;)c[p]=l.charCodeAt(p);return l=(c=md(c)).reduce((function(g,y){return g+String.fromCharCode(y)}),"")};o.processDataByFilters=function(l,c){var p=0,g=l||"",y=[];for(typeof(c=c||[])=="string"&&(c=[c]),p=0;p<c.length;p+=1)switch(c[p]){case"ASCII85Decode":case"/ASCII85Decode":g=e(g),y.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":g=t(g),y.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":g=a(g),y.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":g=g.split("").map((function(S){return("0"+S.charCodeAt().toString(16)).slice(-2)})).join("")+">",y.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":g=u(g),y.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[p]+'" is not implemented')}return{data:g,reverseChain:y.reverse().join(" ")}}})(Bn.API),(function(o){o.loadFile=function(t,e,a){return(function(u,l,c){l=l!==!1,c=typeof c=="function"?c:function(){};var p=void 0;try{p=(function(g,y,S){var E=new XMLHttpRequest,M=0,x=function(R){var A=R.length,I=[],O=String.fromCharCode;for(M=0;M<A;M+=1)I.push(O(255&R.charCodeAt(M)));return I.join("")};if(E.open("GET",g,!y),E.overrideMimeType("text/plain; charset=x-user-defined"),y===!1&&(E.onload=function(){E.status===200?S(x(this.responseText)):S(void 0)}),E.send(null),y&&E.status===200)return x(E.responseText)})(u,l,c)}catch{}return p})(t,e,a)},o.loadImageFile=o.loadFile})(Bn.API),(function(o){function t(){return(Tn.html2canvas?Promise.resolve(Tn.html2canvas):Jl(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch((function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))})).then((function(c){return c.default?c.default:c}))}function e(){return(Tn.DOMPurify?Promise.resolve(Tn.DOMPurify):Jl(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch((function(c){return Promise.reject(new Error("Could not load dompurify: "+c))})).then((function(c){return c.default?c.default:c}))}var a=function(c){var p=Lr(c);return p==="undefined"?"undefined":p==="string"||c instanceof String?"string":p==="number"||c instanceof Number?"number":p==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":p==="object"?"object":"unknown"},u=function(c,p){var g=document.createElement(c);for(var y in p.className&&(g.className=p.className),p.innerHTML&&p.dompurify&&(g.innerHTML=p.dompurify.sanitize(p.innerHTML)),p.style)g.style[y]=p.style[y];return g},l=function c(p){var g=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),y=c.convert(Promise.resolve(),g);return y=(y=y.setProgress(1,c,1,[c])).set(p)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(c,p){return c.__proto__=p||l.prototype,c},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(c,p){return this.then((function(){switch(p=p||(function(g){switch(a(g)){case"string":return"string";case"element":return g.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c)){case"string":return this.then(e).then((function(g){return this.set({src:u("div",{innerHTML:c,dompurify:g})})}));case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}}))},l.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},p=(function g(y,S){for(var E=y.nodeType===3?document.createTextNode(y.nodeValue):y.cloneNode(!1),M=y.firstChild;M;M=M.nextSibling)S!==!0&&M.nodeType===1&&M.nodeName==="SCRIPT"||E.appendChild(g(M,S));return y.nodeType===1&&(y.nodeName==="CANVAS"?(E.width=y.width,E.height=y.height,E.getContext("2d").drawImage(y,0,0)):y.nodeName!=="TEXTAREA"&&y.nodeName!=="SELECT"||(E.value=y.value),E.addEventListener("load",(function(){E.scrollTop=y.scrollTop,E.scrollLeft=y.scrollLeft}),!0)),E})(this.prop.src,this.opt.html2canvas.javascriptEnabled);p.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=u("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=u("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(p),this.prop.container.firstChild.appendChild(u("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},l.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(t).then((function(p){var g=Object.assign({},this.opt.html2canvas);return delete g.onrendered,p(this.prop.container,g)})).then((function(p){(this.opt.html2canvas.onrendered||function(){})(p),this.prop.canvas=p,document.body.removeChild(this.prop.overlay)}))},l.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(t).then((function(p){var g=this.opt.jsPDF,y=this.opt.fontFaces,S=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,E=Object.assign({async:!0,allowTaint:!0,scale:S,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete E.onrendered,g.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,g.context2d.posX=this.opt.x,g.context2d.posY=this.opt.y,g.context2d.margin=this.opt.margin,g.context2d.fontFaces=y,y)for(var M=0;M<y.length;++M){var x=y[M],R=x.src.find((function(A){return A.format==="truetype"}));R&&g.addFont(R.url,x.ref.name,x.ref.style)}return E.windowHeight=E.windowHeight||0,E.windowHeight=E.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):E.windowHeight,g.context2d.save(!0),p(this.prop.container,E)})).then((function(p){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(p),this.prop.canvas=p,document.body.removeChild(this.prop.overlay)}))},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c}))},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},l.prototype.output=function(c,p,g){return(g=g||"pdf").toLowerCase()==="img"||g.toLowerCase()==="image"?this.outputImg(c,p):this.outputPdf(c,p)},l.prototype.outputPdf=function(c,p){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(c,p)}))},l.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}}))},l.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},l.prototype.set=function(c){if(a(c)!=="object")return this;var p=Object.keys(c||{}).map((function(g){if(g in l.template.prop)return function(){this.prop[g]=c[g]};switch(g){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[g]=c[g]}}}),this);return this.then((function(){return this.thenList(p)}))},l.prototype.get=function(c,p){return this.then((function(){var g=c in l.template.prop?this.prop[c]:this.opt[c];return p?p(g):g}))},l.prototype.setMargin=function(c){return this.then((function(){switch(a(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c})).then(this.setPageSize)},l.prototype.setPageSize=function(c){function p(g,y){return Math.floor(g*y/72*96)}return this.then((function(){(c=c||Bn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:p(c.inner.width,c.k),height:p(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c}))},l.prototype.setProgress=function(c,p,g,y){return c!=null&&(this.progress.val=c),p!=null&&(this.progress.state=p),g!=null&&(this.progress.n=g),y!=null&&(this.progress.stack=y),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(c,p,g,y){return this.setProgress(c?this.progress.val+c:null,p||null,g?this.progress.n+g:null,y?this.progress.stack.concat(y):null)},l.prototype.then=function(c,p){var g=this;return this.thenCore(c,p,(function(y,S){return g.updateProgress(null,null,1,[y]),Promise.prototype.then.call(this,(function(E){return g.updateProgress(null,y),E})).then(y,S).then((function(E){return g.updateProgress(1),E}))}))},l.prototype.thenCore=function(c,p,g){g=g||Promise.prototype.then,c&&(c=c.bind(this)),p&&(p=p.bind(this));var y=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:l.convert(Object.assign({},this),Promise.prototype),S=g.call(y,c,p);return l.convert(S,this.__proto__)},l.prototype.thenExternal=function(c,p){return Promise.prototype.then.call(this,c,p)},l.prototype.thenList=function(c){var p=this;return c.forEach((function(g){p=p.thenCore(g)})),p},l.prototype.catch=function(c){c&&(c=c.bind(this));var p=Promise.prototype.catch.call(this,c);return l.convert(p,this)},l.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},l.prototype.error=function(c){return this.then((function(){throw new Error(c)}))},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,Bn.getPageSize=function(c,p,g){if(Lr(c)==="object"){var y=c;c=y.orientation,p=y.unit||p,g=y.format||g}p=p||"mm",g=g||"a4",c=(""+(c||"P")).toLowerCase();var S,E=(""+g).toLowerCase(),M={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(p){case"pt":S=1;break;case"mm":S=72/25.4;break;case"cm":S=72/2.54;break;case"in":S=72;break;case"px":S=.75;break;case"pc":case"em":S=12;break;case"ex":S=6;break;default:throw"Invalid unit: "+p}var x,R=0,A=0;if(M.hasOwnProperty(E))R=M[E][1]/S,A=M[E][0]/S;else try{R=g[1],A=g[0]}catch{throw new Error("Invalid format: "+g)}if(c==="p"||c==="portrait")c="p",A>R&&(x=A,A=R,R=x);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",R>A&&(x=A,A=R,R=x)}return{width:A,height:R,unit:p,k:S,orientation:c}},o.html=function(c,p){(p=p||{}).callback=p.callback||function(){},p.html2canvas=p.html2canvas||{},p.html2canvas.canvas=p.html2canvas.canvas||this.canvas,p.jsPDF=p.jsPDF||this,p.fontFaces=p.fontFaces?p.fontFaces.map(bd):null;var g=new l(p);return p.worker?g:g.from(c).doCallback()}})(Bn.API),Bn.API.addJS=function(o){return W0=o,this.internal.events.subscribe("postPutResources",(function(){_c=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(_c+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),H0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+W0+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){_c!==void 0&&H0!==void 0&&this.internal.out("/Names <</JavaScript "+_c+" 0 R>>")})),this},(function(o){var t;o.events.push(["postPutResources",function(){var e=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var u=e.outline.render().split(/\r\n/),l=0;l<u.length;l++){var c=u[l],p=a.exec(c);if(p!=null){var g=p[1];e.internal.newObjectDeferredBegin(g,!1)}e.internal.write(c)}if(this.outline.createNamedDestinations){var y=this.internal.pages.length,S=[];for(l=0;l<y;l++){var E=e.internal.newObject();S.push(E);var M=e.internal.getPageInfo(l+1);e.internal.write("<< /D["+M.objId+" 0 R /XYZ null null null]>> endobj")}var x=e.internal.newObject();for(e.internal.write("<< /Names [ "),l=0;l<S.length;l++)e.internal.write("(page_"+(l+1)+")"+S[l]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+x+" 0 R"),e.internal.write(">>","endobj")}}]),o.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),o.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(a,u,l){var c={title:u,options:l,children:[]};return a==null&&(a=this.root),a.children.push(c),c},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(a){a.id=e.internal.newObjectDeferred();for(var u=0;u<a.children.length;u++)this.genIds_r(a.children[u])},e.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},e.outline.renderItems=function(a){for(var u=this.ctx.pdf.internal.getVerticalCoordinateString,l=0;l<a.children.length;l++){var c=a.children[l];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(a)),l>0&&this.line("/Prev "+this.makeRef(a.children[l-1])),l<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[l+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var p=this.count=this.count_r({count:0},c);if(p>0&&this.line("/Count "+p),c.options&&c.options.pageNumber){var g=e.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+g.objId+" 0 R /XYZ 0 "+u(0)+" 0]")}this.objEnd()}for(var y=0;y<a.children.length;y++)this.renderItems(a.children[y])},e.outline.line=function(a){this.ctx.val+=a+`\r
`},e.outline.makeRef=function(a){return a.id+" 0 R"},e.outline.makeString=function(a){return"("+e.internal.pdfEscape(a)+")"},e.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(a,u){for(var l=0;l<u.children.length;l++)a.count++,this.count_r(a,u.children[l]);return a.count}}])})(Bn.API),(function(o){var t=[192,193,194,195,196,197,198,199];o.processJPEG=function(e,a,u,l,c,p){var g,y=this.decode.DCT_DECODE,S=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=c||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(g=(function(E){for(var M,x=256*E.charCodeAt(4)+E.charCodeAt(5),R=E.length,A={width:0,height:0,numcomponents:1},I=4;I<R;I+=2){if(I+=x,t.indexOf(E.charCodeAt(I+1))!==-1){M=256*E.charCodeAt(I+5)+E.charCodeAt(I+6),A={width:256*E.charCodeAt(I+7)+E.charCodeAt(I+8),height:M,numcomponents:E.charCodeAt(I+9)};break}x=256*E.charCodeAt(I+2)+E.charCodeAt(I+3)}return A})(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:p=this.color_spaces.DEVICE_GRAY;break;case 4:p=this.color_spaces.DEVICE_CMYK;break;case 3:p=this.color_spaces.DEVICE_RGB}S={data:e,width:g.width,height:g.height,colorSpace:p,bitsPerComponent:8,filter:y,index:a,alias:u}}return S}})(Bn.API);var Vu,vc,V0,$0,Z0,I2=(function(){var o,t,e;function a(l){var c,p,g,y,S,E,M,x,R,A,I,O,W,Z;for(this.data=l,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},E=null;;){switch(c=this.readUInt32(),R=(function(){var de,ve;for(ve=[],de=0;de<4;++de)ve.push(String.fromCharCode(this.data[this.pos++]));return ve}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(c);break;case"fcTL":E&&this.animation.frames.push(E),this.pos+=4,E={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},S=this.readUInt16(),y=this.readUInt16()||100,E.delay=1e3*S/y,E.disposeOp=this.data[this.pos++],E.blendOp=this.data[this.pos++],E.data=[];break;case"IDAT":case"fdAT":for(R==="fdAT"&&(this.pos+=4,c-=4),l=E?.data||this.imgData,O=0;0<=c?O<c:O>c;0<=c?++O:--O)l.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(g=this.palette.length/3,this.transparency.indexed=this.read(c),this.transparency.indexed.length>g)throw new Error("More transparent colors than palette size");if((A=g-this.transparency.indexed.length)>0)for(W=0;0<=A?W<A:W>A;0<=A?++W:--W)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(c)[0];break;case 2:this.transparency.rgb=this.read(c)}break;case"tEXt":M=(I=this.read(c)).indexOf(0),x=String.fromCharCode.apply(String,I.slice(0,M)),this.text[x]=String.fromCharCode.apply(String,I.slice(M+1));break;case"IEND":return E&&this.animation.frames.push(E),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(Z=this.colorType)===4||Z===6,p=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*p,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=c}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}a.prototype.read=function(l){var c,p;for(p=[],c=0;0<=l?c<l:c>l;0<=l?++c:--c)p.push(this.data[this.pos++]);return p},a.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},a.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},a.prototype.decodePixels=function(l){var c=this.pixelBitlength/8,p=new Uint8Array(this.width*this.height*c),g=0,y=this;if(l==null&&(l=this.imgData),l.length===0)return new Uint8Array(0);function S(E,M,x,R){var A,I,O,W,Z,de,ve,Se,K,X,ge,Ie,te,G,ae,F,Be,Ve,Fe,xe,Ae,Pe=Math.ceil((y.width-E)/x),re=Math.ceil((y.height-M)/R),j=y.width==Pe&&y.height==re;for(G=c*Pe,Ie=j?p:new Uint8Array(G*re),de=l.length,te=0,I=0;te<re&&g<de;){switch(l[g++]){case 0:for(W=Be=0;Be<G;W=Be+=1)Ie[I++]=l[g++];break;case 1:for(W=Ve=0;Ve<G;W=Ve+=1)A=l[g++],Z=W<c?0:Ie[I-c],Ie[I++]=(A+Z)%256;break;case 2:for(W=Fe=0;Fe<G;W=Fe+=1)A=l[g++],O=(W-W%c)/c,ae=te&&Ie[(te-1)*G+O*c+W%c],Ie[I++]=(ae+A)%256;break;case 3:for(W=xe=0;xe<G;W=xe+=1)A=l[g++],O=(W-W%c)/c,Z=W<c?0:Ie[I-c],ae=te&&Ie[(te-1)*G+O*c+W%c],Ie[I++]=(A+Math.floor((Z+ae)/2))%256;break;case 4:for(W=Ae=0;Ae<G;W=Ae+=1)A=l[g++],O=(W-W%c)/c,Z=W<c?0:Ie[I-c],te===0?ae=F=0:(ae=Ie[(te-1)*G+O*c+W%c],F=O&&Ie[(te-1)*G+(O-1)*c+W%c]),ve=Z+ae-F,Se=Math.abs(ve-Z),X=Math.abs(ve-ae),ge=Math.abs(ve-F),K=Se<=X&&Se<=ge?Z:X<=ge?ae:F,Ie[I++]=(A+K)%256;break;default:throw new Error("Invalid filter algorithm: "+l[g-1])}if(!j){var he=((M+te*R)*y.width+E)*c,fe=te*G;for(W=0;W<Pe;W+=1){for(var pe=0;pe<c;pe+=1)p[he++]=Ie[fe++];he+=(x-1)*c}}te++}}return l=p2(l),y.interlaceMethod==1?(S(0,0,8,8),S(4,0,8,8),S(0,4,4,8),S(2,0,4,4),S(0,2,2,4),S(1,0,2,2),S(0,1,1,2)):S(0,0,1,1),p},a.prototype.decodePalette=function(){var l,c,p,g,y,S,E,M,x;for(p=this.palette,S=this.transparency.indexed||[],y=new Uint8Array((S.length||0)+p.length),g=0,l=0,c=E=0,M=p.length;E<M;c=E+=3)y[g++]=p[c],y[g++]=p[c+1],y[g++]=p[c+2],y[g++]=(x=S[l++])!=null?x:255;return y},a.prototype.copyToImageData=function(l,c){var p,g,y,S,E,M,x,R,A,I,O;if(g=this.colors,A=null,p=this.hasAlphaChannel,this.palette.length&&(A=(O=this._decodedPalette)!=null?O:this._decodedPalette=this.decodePalette(),g=4,p=!0),R=(y=l.data||l).length,E=A||c,S=M=0,g===1)for(;S<R;)x=A?4*c[S/4]:M,I=E[x++],y[S++]=I,y[S++]=I,y[S++]=I,y[S++]=p?E[x++]:255,M=x;else for(;S<R;)x=A?4*c[S/4]:M,y[S++]=E[x++],y[S++]=E[x++],y[S++]=E[x++],y[S++]=p?E[x++]:255,M=x},a.prototype.decode=function(){var l;return l=new Uint8Array(this.width*this.height*4),this.copyToImageData(l,this.decodePixels()),l};var u=function(){if(Object.prototype.toString.call(Tn)==="[object Window]"){try{t=Tn.document.createElement("canvas"),e=t.getContext("2d")}catch{return!1}return!0}return!1};return u(),o=function(l){var c;if(u()===!0)return e.width=l.width,e.height=l.height,e.clearRect(0,0,l.width,l.height),e.putImageData(l,0,0),(c=new Image).src=t.toDataURL(),c;throw new Error("This method requires a Browser with Canvas-capability.")},a.prototype.decodeFrames=function(l){var c,p,g,y,S,E,M,x;if(this.animation){for(x=[],p=S=0,E=(M=this.animation.frames).length;S<E;p=++S)c=M[p],g=l.createImageData(c.width,c.height),y=this.decodePixels(new Uint8Array(c.data)),this.copyToImageData(g,y),c.imageData=g,x.push(c.image=o(g));return x}},a.prototype.renderFrame=function(l,c){var p,g,y;return p=(g=this.animation.frames)[c],y=g[c-1],c===0&&l.clearRect(0,0,this.width,this.height),y?.disposeOp===1?l.clearRect(y.xOffset,y.yOffset,y.width,y.height):y?.disposeOp===2&&l.putImageData(y.imageData,y.xOffset,y.yOffset),p.blendOp===0&&l.clearRect(p.xOffset,p.yOffset,p.width,p.height),l.drawImage(p.image,p.xOffset,p.yOffset)},a.prototype.animate=function(l){var c,p,g,y,S,E,M=this;return p=0,E=this.animation,y=E.numFrames,g=E.frames,S=E.numPlays,(c=function(){var x,R;if(x=p++%y,R=g[x],M.renderFrame(l,x),y>1&&p/y<S)return M.animation._timeout=setTimeout(c,R.delay)})()},a.prototype.stopAnimation=function(){var l;return clearTimeout((l=this.animation)!=null?l._timeout:void 0)},a.prototype.render=function(l){var c,p;return l._png&&l._png.stopAnimation(),l._png=this,l.width=this.width,l.height=this.height,c=l.getContext("2d"),this.animation?(this.decodeFrames(c),this.animate(c)):(p=c.createImageData(this.width,this.height),this.copyToImageData(p,this.decodePixels()),c.putImageData(p,0,0))},a})();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function R2(o){var t=0;if(o[t++]!==71||o[t++]!==73||o[t++]!==70||o[t++]!==56||(o[t++]+1&253)!=56||o[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=o[t++]|o[t++]<<8,a=o[t++]|o[t++]<<8,u=o[t++],l=u>>7,c=1<<(7&u)+1;o[t++],o[t++];var p=null,g=null;l&&(p=t,g=c,t+=3*c);var y=!0,S=[],E=0,M=null,x=0,R=null;for(this.width=e,this.height=a;y&&t<o.length;)switch(o[t++]){case 33:switch(o[t++]){case 255:if(o[t]!==11||o[t+1]==78&&o[t+2]==69&&o[t+3]==84&&o[t+4]==83&&o[t+5]==67&&o[t+6]==65&&o[t+7]==80&&o[t+8]==69&&o[t+9]==50&&o[t+10]==46&&o[t+11]==48&&o[t+12]==3&&o[t+13]==1&&o[t+16]==0)t+=14,R=o[t++]|o[t++]<<8,t++;else for(t+=12;;){if(!((te=o[t++])>=0))throw Error("Invalid block size");if(te===0)break;t+=te}break;case 249:if(o[t++]!==4||o[t+4]!==0)throw new Error("Invalid graphics extension block.");var A=o[t++];E=o[t++]|o[t++]<<8,M=o[t++],(1&A)==0&&(M=null),x=A>>2&7,t++;break;case 254:for(;;){if(!((te=o[t++])>=0))throw Error("Invalid block size");if(te===0)break;t+=te}break;default:throw new Error("Unknown graphic control label: 0x"+o[t-1].toString(16))}break;case 44:var I=o[t++]|o[t++]<<8,O=o[t++]|o[t++]<<8,W=o[t++]|o[t++]<<8,Z=o[t++]|o[t++]<<8,de=o[t++],ve=de>>6&1,Se=1<<(7&de)+1,K=p,X=g,ge=!1;de>>7&&(ge=!0,K=t,X=Se,t+=3*Se);var Ie=t;for(t++;;){var te;if(!((te=o[t++])>=0))throw Error("Invalid block size");if(te===0)break;t+=te}S.push({x:I,y:O,width:W,height:Z,has_local_palette:ge,palette_offset:K,palette_size:X,data_offset:Ie,data_length:t-Ie,transparent_index:M,interlaced:!!ve,delay:E,disposal:x});break;case 59:y=!1;break;default:throw new Error("Unknown gif block: 0x"+o[t-1].toString(16))}this.numFrames=function(){return S.length},this.loopCount=function(){return R},this.frameInfo=function(G){if(G<0||G>=S.length)throw new Error("Frame index out of range.");return S[G]},this.decodeAndBlitFrameBGRA=function(G,ae){var F=this.frameInfo(G),Be=F.width*F.height,Ve=new Uint8Array(Be);K0(o,F.data_offset,Ve,Be);var Fe=F.palette_offset,xe=F.transparent_index;xe===null&&(xe=256);var Ae=F.width,Pe=e-Ae,re=Ae,j=4*(F.y*e+F.x),he=4*((F.y+F.height)*e+F.x),fe=j,pe=4*Pe;F.interlaced===!0&&(pe+=4*e*7);for(var Te=8,Ke=0,We=Ve.length;Ke<We;++Ke){var Ye=Ve[Ke];if(re===0&&(re=Ae,(fe+=pe)>=he&&(pe=4*Pe+4*e*(Te-1),fe=j+(Ae+Pe)*(Te<<1),Te>>=1)),Ye===xe)fe+=4;else{var Tt=o[Fe+3*Ye],Ot=o[Fe+3*Ye+1],Gt=o[Fe+3*Ye+2];ae[fe++]=Gt,ae[fe++]=Ot,ae[fe++]=Tt,ae[fe++]=255}--re}},this.decodeAndBlitFrameRGBA=function(G,ae){var F=this.frameInfo(G),Be=F.width*F.height,Ve=new Uint8Array(Be);K0(o,F.data_offset,Ve,Be);var Fe=F.palette_offset,xe=F.transparent_index;xe===null&&(xe=256);var Ae=F.width,Pe=e-Ae,re=Ae,j=4*(F.y*e+F.x),he=4*((F.y+F.height)*e+F.x),fe=j,pe=4*Pe;F.interlaced===!0&&(pe+=4*e*7);for(var Te=8,Ke=0,We=Ve.length;Ke<We;++Ke){var Ye=Ve[Ke];if(re===0&&(re=Ae,(fe+=pe)>=he&&(pe=4*Pe+4*e*(Te-1),fe=j+(Ae+Pe)*(Te<<1),Te>>=1)),Ye===xe)fe+=4;else{var Tt=o[Fe+3*Ye],Ot=o[Fe+3*Ye+1],Gt=o[Fe+3*Ye+2];ae[fe++]=Tt,ae[fe++]=Ot,ae[fe++]=Gt,ae[fe++]=255}--re}}}function K0(o,t,e,a){for(var u=o[t++],l=1<<u,c=l+1,p=c+1,g=u+1,y=(1<<g)-1,S=0,E=0,M=0,x=o[t++],R=new Int32Array(4096),A=null;;){for(;S<16&&x!==0;)E|=o[t++]<<S,S+=8,x===1?x=o[t++]:--x;if(S<g)break;var I=E&y;if(E>>=g,S-=g,I!==l){if(I===c)break;for(var O=I<p?I:A,W=0,Z=O;Z>l;)Z=R[Z]>>8,++W;var de=Z;if(M+W+(O!==I?1:0)>a)return void Or.log("Warning, gif stream longer than expected.");e[M++]=de;var ve=M+=W;for(O!==I&&(e[M++]=de),Z=O;W--;)Z=R[Z],e[--ve]=255&Z,Z>>=8;A!==null&&p<4096&&(R[p++]=A<<8|de,p>=y+1&&g<12&&(++g,y=y<<1|1)),A=I}else p=c+1,y=(1<<(g=u+1))-1,A=null}return M!==a&&Or.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Vf(o){var t,e,a,u,l,c=Math.floor,p=new Array(64),g=new Array(64),y=new Array(64),S=new Array(64),E=new Array(65535),M=new Array(65535),x=new Array(64),R=new Array(64),A=[],I=0,O=7,W=new Array(64),Z=new Array(64),de=new Array(64),ve=new Array(256),Se=new Array(2048),K=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],X=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],ge=[0,1,2,3,4,5,6,7,8,9,10,11],Ie=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],te=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],G=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ae=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Be=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ve(j,he){for(var fe=0,pe=0,Te=new Array,Ke=1;Ke<=16;Ke++){for(var We=1;We<=j[Ke];We++)Te[he[pe]]=[],Te[he[pe]][0]=fe,Te[he[pe]][1]=Ke,pe++,fe++;fe*=2}return Te}function Fe(j){for(var he=j[0],fe=j[1]-1;fe>=0;)he&1<<fe&&(I|=1<<O),fe--,--O<0&&(I==255?(xe(255),xe(0)):xe(I),O=7,I=0)}function xe(j){A.push(j)}function Ae(j){xe(j>>8&255),xe(255&j)}function Pe(j,he,fe,pe,Te){for(var Ke,We=Te[0],Ye=Te[240],Tt=(function(Ne,it){var ut,qe,Lt,It,Bt,Ut,an,tn,on,wn,Vt=0;for(on=0;on<8;++on){ut=Ne[Vt],qe=Ne[Vt+1],Lt=Ne[Vt+2],It=Ne[Vt+3],Bt=Ne[Vt+4],Ut=Ne[Vt+5],an=Ne[Vt+6];var ur=ut+(tn=Ne[Vt+7]),cn=ut-tn,Dr=qe+an,zn=qe-an,jn=Lt+Ut,Ar=Lt-Ut,Wn=It+Bt,Ps=It-Bt,ar=ur+Wn,Ir=ur-Wn,Mr=Dr+jn,or=Dr-jn;Ne[Vt]=ar+Mr,Ne[Vt+4]=ar-Mr;var En=.707106781*(or+Ir);Ne[Vt+2]=Ir+En,Ne[Vt+6]=Ir-En;var Yn=.382683433*((ar=Ps+Ar)-(or=zn+cn)),ma=.5411961*ar+Yn,Zr=1.306562965*or+Yn,cs=.707106781*(Mr=Ar+zn),Zi=cn+cs,dn=cn-cs;Ne[Vt+5]=dn+ma,Ne[Vt+3]=dn-ma,Ne[Vt+1]=Zi+Zr,Ne[Vt+7]=Zi-Zr,Vt+=8}for(Vt=0,on=0;on<8;++on){ut=Ne[Vt],qe=Ne[Vt+8],Lt=Ne[Vt+16],It=Ne[Vt+24],Bt=Ne[Vt+32],Ut=Ne[Vt+40],an=Ne[Vt+48];var Ki=ut+(tn=Ne[Vt+56]),Ii=ut-tn,Ri=qe+an,$n=qe-an,Kt=Lt+Ut,ii=Lt-Ut,ga=It+Bt,As=It-Bt,fs=Ki+ga,Ji=Ki-ga,Kr=Ri+Kt,gi=Ri-Kt;Ne[Vt]=fs+Kr,Ne[Vt+32]=fs-Kr;var Fi=.707106781*(gi+Ji);Ne[Vt+16]=Ji+Fi,Ne[Vt+48]=Ji-Fi;var qs=.382683433*((fs=As+ii)-(gi=$n+Ii)),Ma=.5411961*fs+qs,Xa=1.306562965*gi+qs,Qa=.707106781*(Kr=ii+$n),Gs=Ii+Qa,Ba=Ii-Qa;Ne[Vt+40]=Ba+Ma,Ne[Vt+24]=Ba-Ma,Ne[Vt+8]=Gs+Xa,Ne[Vt+56]=Gs-Xa,Vt++}for(on=0;on<64;++on)wn=Ne[on]*it[on],x[on]=wn>0?wn+.5|0:wn-.5|0;return x})(j,he),Ot=0;Ot<64;++Ot)R[K[Ot]]=Tt[Ot];var Gt=R[0]-fe;fe=R[0],Gt==0?Fe(pe[0]):(Fe(pe[M[Ke=32767+Gt]]),Fe(E[Ke]));for(var qt=63;qt>0&&R[qt]==0;)qt--;if(qt==0)return Fe(We),fe;for(var $,je=1;je<=qt;){for(var oe=je;R[je]==0&&je<=qt;)++je;var Ee=je-oe;if(Ee>=16){$=Ee>>4;for(var we=1;we<=$;++we)Fe(Ye);Ee&=15}Ke=32767+R[je],Fe(Te[(Ee<<4)+M[Ke]]),Fe(E[Ke]),je++}return qt!=63&&Fe(We),fe}function re(j){j=Math.min(Math.max(j,1),100),l!=j&&((function(he){for(var fe=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],pe=0;pe<64;pe++){var Te=c((fe[pe]*he+50)/100);Te=Math.min(Math.max(Te,1),255),p[K[pe]]=Te}for(var Ke=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],We=0;We<64;We++){var Ye=c((Ke[We]*he+50)/100);Ye=Math.min(Math.max(Ye,1),255),g[K[We]]=Ye}for(var Tt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ot=0,Gt=0;Gt<8;Gt++)for(var qt=0;qt<8;qt++)y[Ot]=1/(p[K[Ot]]*Tt[Gt]*Tt[qt]*8),S[Ot]=1/(g[K[Ot]]*Tt[Gt]*Tt[qt]*8),Ot++})(j<50?Math.floor(5e3/j):Math.floor(200-2*j)),l=j)}this.encode=function(j,he){he&&re(he),A=new Array,I=0,O=7,Ae(65496),Ae(65504),Ae(16),xe(74),xe(70),xe(73),xe(70),xe(0),xe(1),xe(1),xe(0),Ae(1),Ae(1),xe(0),xe(0),(function(){Ae(65499),Ae(132),xe(0);for(var qe=0;qe<64;qe++)xe(p[qe]);xe(1);for(var Lt=0;Lt<64;Lt++)xe(g[Lt])})(),(function(qe,Lt){Ae(65472),Ae(17),xe(8),Ae(Lt),Ae(qe),xe(3),xe(1),xe(17),xe(0),xe(2),xe(17),xe(1),xe(3),xe(17),xe(1)})(j.width,j.height),(function(){Ae(65476),Ae(418),xe(0);for(var qe=0;qe<16;qe++)xe(X[qe+1]);for(var Lt=0;Lt<=11;Lt++)xe(ge[Lt]);xe(16);for(var It=0;It<16;It++)xe(Ie[It+1]);for(var Bt=0;Bt<=161;Bt++)xe(te[Bt]);xe(1);for(var Ut=0;Ut<16;Ut++)xe(G[Ut+1]);for(var an=0;an<=11;an++)xe(ae[an]);xe(17);for(var tn=0;tn<16;tn++)xe(F[tn+1]);for(var on=0;on<=161;on++)xe(Be[on])})(),Ae(65498),Ae(12),xe(3),xe(1),xe(0),xe(2),xe(17),xe(3),xe(17),xe(0),xe(63),xe(0);var fe=0,pe=0,Te=0;I=0,O=7,this.encode.displayName="_encode_";for(var Ke,We,Ye,Tt,Ot,Gt,qt,$,je,oe=j.data,Ee=j.width,we=j.height,Ne=4*Ee,it=0;it<we;){for(Ke=0;Ke<Ne;){for(Ot=Ne*it+Ke,qt=-1,$=0,je=0;je<64;je++)Gt=Ot+($=je>>3)*Ne+(qt=4*(7&je)),it+$>=we&&(Gt-=Ne*(it+1+$-we)),Ke+qt>=Ne&&(Gt-=Ke+qt-Ne+4),We=oe[Gt++],Ye=oe[Gt++],Tt=oe[Gt++],W[je]=(Se[We]+Se[Ye+256>>0]+Se[Tt+512>>0]>>16)-128,Z[je]=(Se[We+768>>0]+Se[Ye+1024>>0]+Se[Tt+1280>>0]>>16)-128,de[je]=(Se[We+1280>>0]+Se[Ye+1536>>0]+Se[Tt+1792>>0]>>16)-128;fe=Pe(W,y,fe,t,a),pe=Pe(Z,S,pe,e,u),Te=Pe(de,S,Te,e,u),Ke+=32}it+=8}if(O>=0){var ut=[];ut[1]=O+1,ut[0]=(1<<O+1)-1,Fe(ut)}return Ae(65497),new Uint8Array(A)},o=o||50,(function(){for(var j=String.fromCharCode,he=0;he<256;he++)ve[he]=j(he)})(),t=Ve(X,ge),e=Ve(G,ae),a=Ve(Ie,te),u=Ve(F,Be),(function(){for(var j=1,he=2,fe=1;fe<=15;fe++){for(var pe=j;pe<he;pe++)M[32767+pe]=fe,E[32767+pe]=[],E[32767+pe][1]=fe,E[32767+pe][0]=pe;for(var Te=-(he-1);Te<=-j;Te++)M[32767+Te]=fe,E[32767+Te]=[],E[32767+Te][1]=fe,E[32767+Te][0]=he-1+Te;j<<=1,he<<=1}})(),(function(){for(var j=0;j<256;j++)Se[j]=19595*j,Se[j+256>>0]=38470*j,Se[j+512>>0]=7471*j+32768,Se[j+768>>0]=-11059*j,Se[j+1024>>0]=-21709*j,Se[j+1280>>0]=32768*j+8421375,Se[j+1536>>0]=-27439*j,Se[j+1792>>0]=-5329*j})(),re(o)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function nl(o,t){if(this.pos=0,this.buffer=o,this.datav=new DataView(o.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function J0(o){function t(X){if(!X)throw Error("assert :P")}function e(X,ge,Ie){for(var te=0;4>te;te++)if(X[ge+te]!=Ie.charCodeAt(te))return!0;return!1}function a(X,ge,Ie,te,G){for(var ae=0;ae<G;ae++)X[ge+ae]=Ie[te+ae]}function u(X,ge,Ie,te){for(var G=0;G<te;G++)X[ge+G]=Ie}function l(X){return new Int32Array(X)}function c(X,ge){for(var Ie=[],te=0;te<X;te++)Ie.push(new ge);return Ie}function p(X,ge){var Ie=[];return(function te(G,ae,F){for(var Be=F[ae],Ve=0;Ve<Be&&(G.push(F.length>ae+1?[]:new ge),!(F.length<ae+1));Ve++)te(G[Ve],ae+1,F)})(Ie,0,X),Ie}var g=function(){var X=this;function ge(_,C){for(var D=1<<C-1>>>0;_&D;)D>>>=1;return D?(_&D-1)+D:_}function Ie(_,C,D,H,Q){t(!(H%D));do _[C+(H-=D)]=Q;while(0<H)}function te(_,C,D,H,Q){if(t(2328>=Q),512>=Q)var ie=l(512);else if((ie=l(Q))==null)return 0;return(function(ue,_e,ye,Ce,Je,_t){var vt,at,Pt=_e,Ct=1<<ye,et=l(16),tt=l(16);for(t(Je!=0),t(Ce!=null),t(ue!=null),t(0<ye),at=0;at<Je;++at){if(15<Ce[at])return 0;++et[Ce[at]]}if(et[0]==Je)return 0;for(tt[1]=0,vt=1;15>vt;++vt){if(et[vt]>1<<vt)return 0;tt[vt+1]=tt[vt]+et[vt]}for(at=0;at<Je;++at)vt=Ce[at],0<Ce[at]&&(_t[tt[vt]++]=at);if(tt[15]==1)return(Ce=new G).g=0,Ce.value=_t[0],Ie(ue,Pt,1,Ct,Ce),Ct;var At,Mt=-1,Nt=Ct-1,Qt=0,i=1,h=1,d=1<<ye;for(at=0,vt=1,Je=2;vt<=ye;++vt,Je<<=1){if(i+=h<<=1,0>(h-=et[vt]))return 0;for(;0<et[vt];--et[vt])(Ce=new G).g=vt,Ce.value=_t[at++],Ie(ue,Pt+Qt,Je,d,Ce),Qt=ge(Qt,vt)}for(vt=ye+1,Je=2;15>=vt;++vt,Je<<=1){if(i+=h<<=1,0>(h-=et[vt]))return 0;for(;0<et[vt];--et[vt]){if(Ce=new G,(Qt&Nt)!=Mt){for(Pt+=d,At=1<<(Mt=vt)-ye;15>Mt&&!(0>=(At-=et[Mt]));)++Mt,At<<=1;Ct+=d=1<<(At=Mt-ye),ue[_e+(Mt=Qt&Nt)].g=At+ye,ue[_e+Mt].value=Pt-_e-Mt}Ce.g=vt-ye,Ce.value=_t[at++],Ie(ue,Pt+(Qt>>ye),Je,d,Ce),Qt=ge(Qt,vt)}}return i!=2*tt[15]-1?0:Ct})(_,C,D,H,Q,ie)}function G(){this.value=this.g=0}function ae(){this.value=this.g=0}function F(){this.G=c(5,G),this.H=l(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(vr,ae)}function Be(_,C,D,H){t(_!=null),t(C!=null),t(2147483648>H),_.Ca=254,_.I=0,_.b=-8,_.Ka=0,_.oa=C,_.pa=D,_.Jd=C,_.Yc=D+H,_.Zc=4<=H?D+H-4+1:D,Ke(_)}function Ve(_,C){for(var D=0;0<C--;)D|=Ye(_,128)<<C;return D}function Fe(_,C){var D=Ve(_,C);return We(_)?-D:D}function xe(_,C,D,H){var Q,ie=0;for(t(_!=null),t(C!=null),t(4294967288>H),_.Sb=H,_.Ra=0,_.u=0,_.h=0,4<H&&(H=4),Q=0;Q<H;++Q)ie+=C[D+Q]<<8*Q;_.Ra=ie,_.bb=H,_.oa=C,_.pa=D}function Ae(_){for(;8<=_.u&&_.bb<_.Sb;)_.Ra>>>=8,_.Ra+=_.oa[_.pa+_.bb]<<Si-8>>>0,++_.bb,_.u-=8;fe(_)&&(_.h=1,_.u=0)}function Pe(_,C){if(t(0<=C),!_.h&&C<=Ui){var D=he(_)&Ao[C];return _.u+=C,Ae(_),D}return _.h=1,_.u=0}function re(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function j(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function he(_){return _.Ra>>>(_.u&Si-1)>>>0}function fe(_){return t(_.bb<=_.Sb),_.h||_.bb==_.Sb&&_.u>Si}function pe(_,C){_.u=C,_.h=fe(_)}function Te(_){_.u>=lo&&(t(_.u>=lo),Ae(_))}function Ke(_){t(_!=null&&_.oa!=null),_.pa<_.Zc?(_.I=(_.oa[_.pa++]|_.I<<8)>>>0,_.b+=8):(t(_!=null&&_.oa!=null),_.pa<_.Yc?(_.b+=8,_.I=_.oa[_.pa++]|_.I<<8):_.Ka?_.b=0:(_.I<<=8,_.b+=8,_.Ka=1))}function We(_){return Ve(_,1)}function Ye(_,C){var D=_.Ca;0>_.b&&Ke(_);var H=_.b,Q=D*C>>>8,ie=(_.I>>>H>Q)+0;for(ie?(D-=Q,_.I-=Q+1<<H>>>0):D=Q+1,H=D,Q=0;256<=H;)Q+=8,H>>=8;return H=7^Q+ui[H],_.b-=H,_.Ca=(D<<H)-1,ie}function Tt(_,C,D){_[C+0]=D>>24&255,_[C+1]=D>>16&255,_[C+2]=D>>8&255,_[C+3]=D>>0&255}function Ot(_,C){return _[C+0]<<0|_[C+1]<<8}function Gt(_,C){return Ot(_,C)|_[C+2]<<16}function qt(_,C){return Ot(_,C)|Ot(_,C+2)<<16}function $(_,C){var D=1<<C;return t(_!=null),t(0<C),_.X=l(D),_.X==null?0:(_.Mb=32-C,_.Xa=C,1)}function je(_,C){t(_!=null),t(C!=null),t(_.Xa==C.Xa),a(C.X,0,_.X,0,1<<C.Xa)}function oe(){this.X=[],this.Xa=this.Mb=0}function Ee(_,C,D,H){t(D!=null),t(H!=null);var Q=D[0],ie=H[0];return Q==0&&(Q=(_*ie+C/2)/C),ie==0&&(ie=(C*Q+_/2)/_),0>=Q||0>=ie?0:(D[0]=Q,H[0]=ie,1)}function we(_,C){return _+(1<<C)-1>>>C}function Ne(_,C){return((4278255360&_)+(4278255360&C)>>>0&4278255360)+((16711935&_)+(16711935&C)>>>0&16711935)>>>0}function it(_,C){X[C]=function(D,H,Q,ie,ue,_e,ye){var Ce;for(Ce=0;Ce<ue;++Ce){var Je=X[_](_e[ye+Ce-1],Q,ie+Ce);_e[ye+Ce]=Ne(D[H+Ce],Je)}}}function ut(){this.ud=this.hd=this.jd=0}function qe(_,C){return((4278124286&(_^C))>>>1)+(_&C)>>>0}function Lt(_){return 0<=_&&256>_?_:0>_?0:255<_?255:void 0}function It(_,C){return Lt(_+(_-C+.5>>1))}function Bt(_,C,D){return Math.abs(C-D)-Math.abs(_-D)}function Ut(_,C,D,H,Q,ie,ue){for(H=ie[ue-1],D=0;D<Q;++D)ie[ue+D]=H=Ne(_[C+D],H)}function an(_,C,D,H,Q){var ie;for(ie=0;ie<D;++ie){var ue=_[C+ie],_e=ue>>8&255,ye=16711935&(ye=(ye=16711935&ue)+((_e<<16)+_e));H[Q+ie]=(4278255360&ue)+ye>>>0}}function tn(_,C){C.jd=_>>0&255,C.hd=_>>8&255,C.ud=_>>16&255}function on(_,C,D,H,Q,ie){var ue;for(ue=0;ue<H;++ue){var _e=C[D+ue],ye=_e>>>8,Ce=_e,Je=255&(Je=(Je=_e>>>16)+((_.jd<<24>>24)*(ye<<24>>24)>>>5));Ce=255&(Ce=(Ce=Ce+((_.hd<<24>>24)*(ye<<24>>24)>>>5))+((_.ud<<24>>24)*(Je<<24>>24)>>>5)),Q[ie+ue]=(4278255360&_e)+(Je<<16)+Ce}}function wn(_,C,D,H,Q){X[C]=function(ie,ue,_e,ye,Ce,Je,_t,vt,at){for(ye=_t;ye<vt;++ye)for(_t=0;_t<at;++_t)Ce[Je++]=Q(_e[H(ie[ue++])])},X[_]=function(ie,ue,_e,ye,Ce,Je,_t){var vt=8>>ie.b,at=ie.Ea,Pt=ie.K[0],Ct=ie.w;if(8>vt)for(ie=(1<<ie.b)-1,Ct=(1<<vt)-1;ue<_e;++ue){var et,tt=0;for(et=0;et<at;++et)et&ie||(tt=H(ye[Ce++])),Je[_t++]=Q(Pt[tt&Ct]),tt>>=vt}else X["VP8LMapColor"+D](ye,Ce,Pt,Ct,Je,_t,ue,_e,at)}}function Vt(_,C,D,H,Q){for(D=C+D;C<D;){var ie=_[C++];H[Q++]=ie>>16&255,H[Q++]=ie>>8&255,H[Q++]=ie>>0&255}}function ur(_,C,D,H,Q){for(D=C+D;C<D;){var ie=_[C++];H[Q++]=ie>>16&255,H[Q++]=ie>>8&255,H[Q++]=ie>>0&255,H[Q++]=ie>>24&255}}function cn(_,C,D,H,Q){for(D=C+D;C<D;){var ie=(ue=_[C++])>>16&240|ue>>12&15,ue=ue>>0&240|ue>>28&15;H[Q++]=ie,H[Q++]=ue}}function Dr(_,C,D,H,Q){for(D=C+D;C<D;){var ie=(ue=_[C++])>>16&248|ue>>13&7,ue=ue>>5&224|ue>>3&31;H[Q++]=ie,H[Q++]=ue}}function zn(_,C,D,H,Q){for(D=C+D;C<D;){var ie=_[C++];H[Q++]=ie>>0&255,H[Q++]=ie>>8&255,H[Q++]=ie>>16&255}}function jn(_,C,D,H,Q,ie){if(ie==0)for(D=C+D;C<D;)Tt(H,((ie=_[C++])[0]>>24|ie[1]>>8&65280|ie[2]<<8&16711680|ie[3]<<24)>>>0),Q+=32;else a(H,Q,_,C,D)}function Ar(_,C){X[C][0]=X[_+"0"],X[C][1]=X[_+"1"],X[C][2]=X[_+"2"],X[C][3]=X[_+"3"],X[C][4]=X[_+"4"],X[C][5]=X[_+"5"],X[C][6]=X[_+"6"],X[C][7]=X[_+"7"],X[C][8]=X[_+"8"],X[C][9]=X[_+"9"],X[C][10]=X[_+"10"],X[C][11]=X[_+"11"],X[C][12]=X[_+"12"],X[C][13]=X[_+"13"],X[C][14]=X[_+"0"],X[C][15]=X[_+"0"]}function Wn(_){return _==Qr||_==Hr||_==Fs||_==r}function Ps(){this.eb=[],this.size=this.A=this.fb=0}function ar(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ir(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ps,this.f.kb=new ar,this.sd=null}function Mr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function or(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function En(_){return alert("todo:WebPSamplerProcessPlane"),_.T}function Yn(_,C){var D=_.T,H=C.ba.f.RGBA,Q=H.eb,ie=H.fb+_.ka*H.A,ue=ni[C.ba.S],_e=_.y,ye=_.O,Ce=_.f,Je=_.N,_t=_.ea,vt=_.W,at=C.cc,Pt=C.dc,Ct=C.Mc,et=C.Nc,tt=_.ka,At=_.ka+_.T,Mt=_.U,Nt=Mt+1>>1;for(tt==0?ue(_e,ye,null,null,Ce,Je,_t,vt,Ce,Je,_t,vt,Q,ie,null,null,Mt):(ue(C.ec,C.fc,_e,ye,at,Pt,Ct,et,Ce,Je,_t,vt,Q,ie-H.A,Q,ie,Mt),++D);tt+2<At;tt+=2)at=Ce,Pt=Je,Ct=_t,et=vt,Je+=_.Rc,vt+=_.Rc,ie+=2*H.A,ue(_e,(ye+=2*_.fa)-_.fa,_e,ye,at,Pt,Ct,et,Ce,Je,_t,vt,Q,ie-H.A,Q,ie,Mt);return ye+=_.fa,_.j+At<_.o?(a(C.ec,C.fc,_e,ye,Mt),a(C.cc,C.dc,Ce,Je,Nt),a(C.Mc,C.Nc,_t,vt,Nt),D--):1&At||ue(_e,ye,null,null,Ce,Je,_t,vt,Ce,Je,_t,vt,Q,ie+H.A,null,null,Mt),D}function ma(_,C,D){var H=_.F,Q=[_.J];if(H!=null){var ie=_.U,ue=C.ba.S,_e=ue==as||ue==Fs;C=C.ba.f.RGBA;var ye=[0],Ce=_.ka;ye[0]=_.T,_.Kb&&(Ce==0?--ye[0]:(--Ce,Q[0]-=_.width),_.j+_.ka+_.T==_.o&&(ye[0]=_.o-_.j-Ce));var Je=C.eb;Ce=C.fb+Ce*C.A,_=Qn(H,Q[0],_.width,ie,ye,Je,Ce+(_e?0:3),C.A),t(D==ye),_&&Wn(ue)&&Gr(Je,Ce,_e,ie,ye,C.A)}return 0}function Zr(_){var C=_.ma,D=C.ba.S,H=11>D,Q=D==yn||D==Ha||D==as||D==Pn||D==12||Wn(D);if(C.memory=null,C.Ib=null,C.Jb=null,C.Nd=null,!Po(C.Oa,_,Q?11:12))return 0;if(Q&&Wn(D)&&Ft(),_.da)alert("todo:use_scaling");else{if(H){if(C.Ib=En,_.Kb){if(D=_.U+1>>1,C.memory=l(_.U+2*D),C.memory==null)return 0;C.ec=C.memory,C.fc=0,C.cc=C.ec,C.dc=C.fc+_.U,C.Mc=C.cc,C.Nc=C.dc+D,C.Ib=Yn,Ft()}}else alert("todo:EmitYUV");Q&&(C.Jb=ma,H&&ct())}if(H&&!Vr){for(_=0;256>_;++_)Ai[_]=89858*(_-128)+oa>>co,Mi[_]=-22014*(_-128)+oa,ul[_]=-45773*(_-128),Wo[_]=113618*(_-128)+oa>>co;for(_=cr;_<pr;++_)C=76283*(_-16)+oa>>co,Vo[_-cr]=hr(C,255),tu[_-cr]=hr(C+8>>4,15);Vr=1}return 1}function cs(_){var C=_.ma,D=_.U,H=_.T;return t(!(1&_.ka)),0>=D||0>=H?0:(D=C.Ib(_,C),C.Jb!=null&&C.Jb(_,C,D),C.Dc+=D,1)}function Zi(_){_.ma.memory=null}function dn(_,C,D,H){return Pe(_,8)!=47?0:(C[0]=Pe(_,14)+1,D[0]=Pe(_,14)+1,H[0]=Pe(_,1),Pe(_,3)!=0?0:!_.h)}function Ki(_,C){if(4>_)return _+1;var D=_-2>>1;return(2+(1&_)<<D)+Pe(C,D)+1}function Ii(_,C){return 120<C?C-120:1<=(D=((D=He[C-1])>>4)*_+(8-(15&D)))?D:1;var D}function Ri(_,C,D){var H=he(D),Q=_[C+=255&H].g-8;return 0<Q&&(pe(D,D.u+8),H=he(D),C+=_[C].value,C+=H&(1<<Q)-1),pe(D,D.u+_[C].g),_[C].value}function $n(_,C,D){return D.g+=_.g,D.value+=_.value<<C>>>0,t(8>=D.g),_.g}function Kt(_,C,D){var H=_.xc;return t((C=H==0?0:_.vc[_.md*(D>>H)+(C>>H)])<_.Wb),_.Ya[C]}function ii(_,C,D,H){var Q=_.ab,ie=_.c*C,ue=_.C;C=ue+C;var _e=D,ye=H;for(H=_.Ta,D=_.Ua;0<Q--;){var Ce=_.gc[Q],Je=ue,_t=C,vt=_e,at=ye,Pt=(ye=H,_e=D,Ce.Ea);switch(t(Je<_t),t(_t<=Ce.nc),Ce.hc){case 2:ll(vt,at,(_t-Je)*Pt,ye,_e);break;case 0:var Ct=Je,et=_t,tt=ye,At=_e,Mt=(d=Ce).Ea;Ct==0&&(rs(vt,at,null,null,1,tt,At),Ut(vt,at+1,0,0,Mt-1,tt,At+1),at+=Mt,At+=Mt,++Ct);for(var Nt=1<<d.b,Qt=Nt-1,i=we(Mt,d.b),h=d.K,d=d.w+(Ct>>d.b)*i;Ct<et;){var v=h,k=d,B=1;for(hi(vt,at,tt,At-Mt,1,tt,At);B<Mt;){var z=(B&~Qt)+Nt;z>Mt&&(z=Mt),(0,Os[v[k++]>>8&15])(vt,at+ +B,tt,At+B-Mt,z-B,tt,At+B),B=z}at+=Mt,At+=Mt,++Ct&Qt||(d+=i)}_t!=Ce.nc&&a(ye,_e-Pt,ye,_e+(_t-Je-1)*Pt,Pt);break;case 1:for(Pt=vt,et=at,Mt=(vt=Ce.Ea)-(At=vt&~(tt=(at=1<<Ce.b)-1)),Ct=we(vt,Ce.b),Nt=Ce.K,Ce=Ce.w+(Je>>Ce.b)*Ct;Je<_t;){for(Qt=Nt,i=Ce,h=new ut,d=et+At,v=et+vt;et<d;)tn(Qt[i++],h),Ds(h,Pt,et,at,ye,_e),et+=at,_e+=at;et<v&&(tn(Qt[i++],h),Ds(h,Pt,et,Mt,ye,_e),et+=Mt,_e+=Mt),++Je&tt||(Ce+=Ct)}break;case 3:if(vt==ye&&at==_e&&0<Ce.b){for(et=ye,vt=Pt=_e+(_t-Je)*Pt-(At=(_t-Je)*we(Ce.Ea,Ce.b)),at=ye,tt=_e,Ct=[],At=(Mt=At)-1;0<=At;--At)Ct[At]=at[tt+At];for(At=Mt-1;0<=At;--At)et[vt+At]=Ct[At];Sr(Ce,Je,_t,ye,Pt,ye,_e)}else Sr(Ce,Je,_t,vt,at,ye,_e)}_e=H,ye=D}ye!=D&&a(H,D,_e,ye,ie)}function ga(_,C){var D=_.V,H=_.Ba+_.c*_.C,Q=C-_.C;if(t(C<=_.l.o),t(16>=Q),0<Q){var ie=_.l,ue=_.Ta,_e=_.Ua,ye=ie.width;if(ii(_,Q,D,H),Q=_e=[_e],t((D=_.C)<(H=C)),t(ie.v<ie.va),H>ie.o&&(H=ie.o),D<ie.j){var Ce=ie.j-D;D=ie.j,Q[0]+=Ce*ye}if(D>=H?D=0:(Q[0]+=4*ie.v,ie.ka=D-ie.j,ie.U=ie.va-ie.v,ie.T=H-D,D=1),D){if(_e=_e[0],11>(D=_.ca).S){var Je=D.f.RGBA,_t=(H=D.S,Q=ie.U,ie=ie.T,Ce=Je.eb,Je.A),vt=ie;for(Je=Je.fb+_.Ma*Je.A;0<vt--;){var at=ue,Pt=_e,Ct=Q,et=Ce,tt=Je;switch(H){case Vi:Xr(at,Pt,Ct,et,tt);break;case yn:qr(at,Pt,Ct,et,tt);break;case Qr:qr(at,Pt,Ct,et,tt),Gr(et,tt,0,Ct,1,0);break;case Uo:vs(at,Pt,Ct,et,tt);break;case Ha:jn(at,Pt,Ct,et,tt,1);break;case Hr:jn(at,Pt,Ct,et,tt,1),Gr(et,tt,0,Ct,1,0);break;case as:jn(at,Pt,Ct,et,tt,0);break;case Fs:jn(at,Pt,Ct,et,tt,0),Gr(et,tt,1,Ct,1,0);break;case Pn:Is(at,Pt,Ct,et,tt);break;case r:Is(at,Pt,Ct,et,tt),ir(et,tt,Ct,1,0);break;case qo:qi(at,Pt,Ct,et,tt);break;default:t(0)}_e+=ye,Je+=_t}_.Ma+=ie}else alert("todo:EmitRescaledRowsYUVA");t(_.Ma<=D.height)}}_.C=C,t(_.C<=_.i)}function As(_){var C;if(0<_.ua)return 0;for(C=0;C<_.Wb;++C){var D=_.Ya[C].G,H=_.Ya[C].H;if(0<D[1][H[1]+0].g||0<D[2][H[2]+0].g||0<D[3][H[3]+0].g)return 0}return 1}function fs(_,C,D,H,Q,ie){if(_.Z!=0){var ue=_.qd,_e=_.rd;for(t(Un[_.Z]!=null);C<D;++C)Un[_.Z](ue,_e,H,Q,H,Q,ie),ue=H,_e=Q,Q+=ie;_.qd=ue,_.rd=_e}}function Ji(_,C){var D=_.l.ma,H=D.Z==0||D.Z==1?_.l.j:_.C;if(H=_.C<H?H:_.C,t(C<=_.l.o),C>H){var Q=_.l.width,ie=D.ca,ue=D.tb+Q*H,_e=_.V,ye=_.Ba+_.c*H,Ce=_.gc;t(_.ab==1),t(Ce[0].hc==3),is(Ce[0],H,C,_e,ye,ie,ue),fs(D,H,C,ie,ue,Q)}_.C=_.Ma=C}function Kr(_,C,D,H,Q,ie,ue){var _e=_.$/H,ye=_.$%H,Ce=_.m,Je=_.s,_t=D+_.$,vt=_t;Q=D+H*Q;var at=D+H*ie,Pt=280+Je.ua,Ct=_.Pb?_e:16777216,et=0<Je.ua?Je.Wa:null,tt=Je.wc,At=_t<at?Kt(Je,ye,_e):null;t(_.C<ie),t(at<=Q);var Mt=!1;e:for(;;){for(;Mt||_t<at;){var Nt=0;if(_e>=Ct){var Qt=_t-D;t((Ct=_).Pb),Ct.wd=Ct.m,Ct.xd=Qt,0<Ct.s.ua&&je(Ct.s.Wa,Ct.s.vb),Ct=_e+xt}if(ye&tt||(At=Kt(Je,ye,_e)),t(At!=null),At.Qb&&(C[_t]=At.qb,Mt=!0),!Mt)if(Te(Ce),At.jc){Nt=Ce,Qt=C;var i=_t,h=At.pd[he(Nt)&vr-1];t(At.jc),256>h.g?(pe(Nt,Nt.u+h.g),Qt[i]=h.value,Nt=0):(pe(Nt,Nt.u+h.g-256),t(256<=h.value),Nt=h.value),Nt==0&&(Mt=!0)}else Nt=Ri(At.G[0],At.H[0],Ce);if(Ce.h)break;if(Mt||256>Nt){if(!Mt)if(At.nd)C[_t]=(At.qb|Nt<<8)>>>0;else{if(Te(Ce),Mt=Ri(At.G[1],At.H[1],Ce),Te(Ce),Qt=Ri(At.G[2],At.H[2],Ce),i=Ri(At.G[3],At.H[3],Ce),Ce.h)break;C[_t]=(i<<24|Mt<<16|Nt<<8|Qt)>>>0}if(Mt=!1,++_t,++ye>=H&&(ye=0,++_e,ue!=null&&_e<=ie&&!(_e%16)&&ue(_,_e),et!=null))for(;vt<_t;)Nt=C[vt++],et.X[(506832829*Nt&4294967295)>>>et.Mb]=Nt}else if(280>Nt){if(Nt=Ki(Nt-256,Ce),Qt=Ri(At.G[4],At.H[4],Ce),Te(Ce),Qt=Ii(H,Qt=Ki(Qt,Ce)),Ce.h)break;if(_t-D<Qt||Q-_t<Nt)break e;for(i=0;i<Nt;++i)C[_t+i]=C[_t+i-Qt];for(_t+=Nt,ye+=Nt;ye>=H;)ye-=H,++_e,ue!=null&&_e<=ie&&!(_e%16)&&ue(_,_e);if(t(_t<=Q),ye&tt&&(At=Kt(Je,ye,_e)),et!=null)for(;vt<_t;)Nt=C[vt++],et.X[(506832829*Nt&4294967295)>>>et.Mb]=Nt}else{if(!(Nt<Pt))break e;for(Mt=Nt-280,t(et!=null);vt<_t;)Nt=C[vt++],et.X[(506832829*Nt&4294967295)>>>et.Mb]=Nt;Nt=_t,t(!(Mt>>>(Qt=et).Xa)),C[Nt]=Qt.X[Mt],Mt=!0}Mt||t(Ce.h==fe(Ce))}if(_.Pb&&Ce.h&&_t<Q)t(_.m.h),_.a=5,_.m=_.wd,_.$=_.xd,0<_.s.ua&&je(_.s.vb,_.s.Wa);else{if(Ce.h)break e;ue?.(_,_e>ie?ie:_e),_.a=0,_.$=_t-D}return 1}return _.a=3,0}function gi(_){t(_!=null),_.vc=null,_.yc=null,_.Ya=null;var C=_.Wa;C!=null&&(C.X=null),_.vb=null,t(_!=null)}function Fi(){var _=new jo;return _==null?null:(_.a=0,_.xb=ho,Ar("Predictor","VP8LPredictors"),Ar("Predictor","VP8LPredictors_C"),Ar("PredictorAdd","VP8LPredictorsAdd"),Ar("PredictorAdd","VP8LPredictorsAdd_C"),ll=an,Ds=on,Xr=Vt,qr=ur,Is=cn,qi=Dr,vs=zn,X.VP8LMapColor32b=ta,X.VP8LMapColor8b=ya,_)}function qs(_,C,D,H,Q){var ie=1,ue=[_],_e=[C],ye=H.m,Ce=H.s,Je=null,_t=0;e:for(;;){if(D)for(;ie&&Pe(ye,1);){var vt=ue,at=_e,Pt=H,Ct=1,et=Pt.m,tt=Pt.gc[Pt.ab],At=Pe(et,2);if(Pt.Oc&1<<At)ie=0;else{switch(Pt.Oc|=1<<At,tt.hc=At,tt.Ea=vt[0],tt.nc=at[0],tt.K=[null],++Pt.ab,t(4>=Pt.ab),At){case 0:case 1:tt.b=Pe(et,3)+2,Ct=qs(we(tt.Ea,tt.b),we(tt.nc,tt.b),0,Pt,tt.K),tt.K=tt.K[0];break;case 3:var Mt,Nt=Pe(et,8)+1,Qt=16<Nt?0:4<Nt?1:2<Nt?2:3;if(vt[0]=we(tt.Ea,Qt),tt.b=Qt,Mt=Ct=qs(Nt,1,0,Pt,tt.K)){var i,h=Nt,d=tt,v=1<<(8>>d.b),k=l(v);if(k==null)Mt=0;else{var B=d.K[0],z=d.w;for(k[0]=d.K[0][0],i=1;i<1*h;++i)k[i]=Ne(B[z+i],k[i-1]);for(;i<4*v;++i)k[i]=0;d.K[0]=null,d.K[0]=k,Mt=1}}Ct=Mt;break;case 2:break;default:t(0)}ie=Ct}}if(ue=ue[0],_e=_e[0],ie&&Pe(ye,1)&&!(ie=1<=(_t=Pe(ye,4))&&11>=_t)){H.a=3;break e}var q;if(q=ie)t:{var J,ee,Re,Me=H,lt=ue,gt=_e,Et=_t,Wt=D,Zt=Me.m,mn=Me.s,Oe=[null],Ue=1,nt=0,yt=mt[Et];n:for(;;){if(Wt&&Pe(Zt,1)){var rt=Pe(Zt,3)+2,ft=we(lt,rt),Y=we(gt,rt),ce=ft*Y;if(!qs(ft,Y,0,Me,Oe))break n;for(Oe=Oe[0],mn.xc=rt,J=0;J<ce;++J){var be=Oe[J]>>8&65535;Oe[J]=be,be>=Ue&&(Ue=be+1)}}if(Zt.h)break n;for(ee=0;5>ee;++ee){var me=T[ee];!ee&&0<Et&&(me+=1<<Et),nt<me&&(nt=me)}var Le=c(Ue*yt,G),ke=Ue,Ze=c(ke,F);if(Ze==null)var Ge=null;else t(65536>=ke),Ge=Ze;var Xe=l(nt);if(Ge==null||Xe==null||Le==null){Me.a=1;break n}var pt=Le;for(J=Re=0;J<Ue;++J){var ht=Ge[J],Dt=ht.G,Xt=ht.H,nn=0,rn=1,Kn=0;for(ee=0;5>ee;++ee){me=T[ee],Dt[ee]=pt,Xt[ee]=Re,!ee&&0<Et&&(me+=1<<Et);i:{var Jn,Dn=me,tr=Me,br=Xe,xl=pt,Ll=Re,yr=0,ri=tr.m,Zo=Pe(ri,1);if(u(br,0,0,Dn),Zo){var Ls=Pe(ri,1)+1,wi=Pe(ri,1),xr=Pe(ri,wi==0?1:8);br[xr]=1,Ls==2&&(br[xr=Pe(ri,8)]=1);var To=1}else{var Fr=l(19),bi=Pe(ri,4)+4;if(19<bi){tr.a=3;var pi=0;break i}for(Jn=0;Jn<bi;++Jn)Fr[le[Jn]]=Pe(ri,3);var Nl=void 0,Ko=void 0,Ol=tr,Uc=Fr,Bi=Dn,xu=br,iu=0,No=Ol.m,fo=8,ka=c(128,G);r:for(;te(ka,0,7,Uc,19);){if(Pe(No,1)){var su=2+2*Pe(No,3);if((Nl=2+Pe(No,su))>Bi)break r}else Nl=Bi;for(Ko=0;Ko<Bi&&Nl--;){Te(No);var Lu=ka[0+(127&he(No))];pe(No,No.u+Lu.g);var hl=Lu.value;if(16>hl)xu[Ko++]=hl,hl!=0&&(fo=hl);else{var Dh=hl==16,oh=hl-16,Ih=w[oh],lh=Pe(No,f[oh])+Ih;if(Ko+lh>Bi)break r;for(var Rh=Dh?fo:0;0<lh--;)xu[Ko++]=Rh}}iu=1;break r}iu||(Ol.a=3),To=iu}(To=To&&!ri.h)&&(yr=te(xl,Ll,8,br,Dn)),To&&yr!=0?pi=yr:(tr.a=3,pi=0)}if(pi==0)break n;if(rn&&V[ee]==1&&(rn=pt[Re].g==0),nn+=pt[Re].g,Re+=pi,3>=ee){var Dl,ku=Xe[0];for(Dl=1;Dl<me;++Dl)Xe[Dl]>ku&&(ku=Xe[Dl]);Kn+=ku}}if(ht.nd=rn,ht.Qb=0,rn&&(ht.qb=(Dt[3][Xt[3]+0].value<<24|Dt[1][Xt[1]+0].value<<16|Dt[2][Xt[2]+0].value)>>>0,nn==0&&256>Dt[0][Xt[0]+0].value&&(ht.Qb=1,ht.qb+=Dt[0][Xt[0]+0].value<<8)),ht.jc=!ht.Qb&&6>Kn,ht.jc){var au,Ca=ht;for(au=0;au<vr;++au){var Jo=au,po=Ca.pd[Jo],kl=Ca.G[0][Ca.H[0]+Jo];256<=kl.value?(po.g=kl.g+256,po.value=kl.value):(po.g=0,po.value=0,Jo>>=$n(kl,8,po),Jo>>=$n(Ca.G[1][Ca.H[1]+Jo],16,po),Jo>>=$n(Ca.G[2][Ca.H[2]+Jo],0,po),$n(Ca.G[3][Ca.H[3]+Jo],24,po))}}}mn.vc=Oe,mn.Wb=Ue,mn.Ya=Ge,mn.yc=Le,q=1;break t}q=0}if(!(ie=q)){H.a=3;break e}if(0<_t){if(Ce.ua=1<<_t,!$(Ce.Wa,_t)){H.a=1,ie=0;break e}}else Ce.ua=0;var Cu=H,Su=ue,Fh=_e,Eu=Cu.s,Pu=Eu.xc;if(Cu.c=Su,Cu.i=Fh,Eu.md=we(Su,Pu),Eu.wc=Pu==0?-1:(1<<Pu)-1,D){H.xb=sa;break e}if((Je=l(ue*_e))==null){H.a=1,ie=0;break e}ie=(ie=Kr(H,Je,0,ue,_e,_e,null))&&!ye.h;break e}return ie?(Q!=null?Q[0]=Je:(t(Je==null),t(D)),H.$=0,D||gi(Ce)):gi(Ce),ie}function Ma(_,C){var D=_.c*_.i,H=D+C+16*C;return t(_.c<=C),_.V=l(H),_.V==null?(_.Ta=null,_.Ua=0,_.a=1,0):(_.Ta=_.V,_.Ua=_.Ba+D+C,1)}function Xa(_,C){var D=_.C,H=C-D,Q=_.V,ie=_.Ba+_.c*D;for(t(C<=_.l.o);0<H;){var ue=16<H?16:H,_e=_.l.ma,ye=_.l.width,Ce=ye*ue,Je=_e.ca,_t=_e.tb+ye*D,vt=_.Ta,at=_.Ua;ii(_,ue,Q,ie),Er(vt,at,Je,_t,Ce),fs(_e,D,D+ue,Je,_t,ye),H-=ue,Q+=ue*_.c,D+=ue}t(D==C),_.C=_.Ma=C}function Qa(){this.ub=this.yd=this.td=this.Rb=0}function Gs(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ba(){this.Fb=this.Bb=this.Cb=0,this.Zb=l(4),this.Lb=l(4)}function eo(){this.Yb=(function(){var _=[];return(function C(D,H,Q){for(var ie=Q[H],ue=0;ue<ie&&(D.push(Q.length>H+1?[]:0),!(Q.length<H+1));ue++)C(D[ue],H+1,Q)})(_,0,[3,11]),_})()}function wr(){this.jb=l(3),this.Wc=p([4,8],eo),this.Xc=p([4,17],eo)}function wl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new l(4),this.od=new l(4)}function Ta(){this.ld=this.La=this.dd=this.tc=0}function Io(){this.Na=this.la=0}function _o(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function to(){this.ad=l(384),this.Za=0,this.Ob=l(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Na(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ta),this.Y=0,this.ya=Array(new to),this.aa=0,this.l=new Xi}function Oa(){this.y=l(16),this.f=l(8),this.ea=l(8)}function Yi(){this.cb=this.a=0,this.sc="",this.m=new re,this.Od=new Qa,this.Kc=new Gs,this.ed=new wl,this.Qa=new Ba,this.Ic=this.$c=this.Aa=0,this.D=new Na,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,re),this.ia=0,this.pb=c(4,_o),this.Pa=new wr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Oa),this.Hd=0,this.rb=Array(new Io),this.sb=0,this.wa=Array(new Ta),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new to),this.L=this.aa=0,this.gd=p([4,2],Ta),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Xi(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function An(){var _=new Yi;return _!=null&&(_.a=0,_.sc="OK",_.cb=0,_.Xb=0,pn||(pn=Qi)),_}function Mn(_,C,D){return _.a==0&&(_.a=C,_.sc=D,_.cb=0),0}function Da(_,C,D){return 3<=D&&_[C+0]==157&&_[C+1]==1&&_[C+2]==42}function _a(_,C){if(_==null)return 0;if(_.a=0,_.sc="OK",C==null)return Mn(_,2,"null VP8Io passed to VP8GetHeaders()");var D=C.data,H=C.w,Q=C.ha;if(4>Q)return Mn(_,7,"Truncated header.");var ie=D[H+0]|D[H+1]<<8|D[H+2]<<16,ue=_.Od;if(ue.Rb=!(1&ie),ue.td=ie>>1&7,ue.yd=ie>>4&1,ue.ub=ie>>5,3<ue.td)return Mn(_,3,"Incorrect keyframe parameters.");if(!ue.yd)return Mn(_,4,"Frame not displayable.");H+=3,Q-=3;var _e=_.Kc;if(ue.Rb){if(7>Q)return Mn(_,7,"cannot parse picture header");if(!Da(D,H,Q))return Mn(_,3,"Bad code word");_e.c=16383&(D[H+4]<<8|D[H+3]),_e.Td=D[H+4]>>6,_e.i=16383&(D[H+6]<<8|D[H+5]),_e.Ud=D[H+6]>>6,H+=7,Q-=7,_.za=_e.c+15>>4,_.Ub=_e.i+15>>4,C.width=_e.c,C.height=_e.i,C.Da=0,C.j=0,C.v=0,C.va=C.width,C.o=C.height,C.da=0,C.ib=C.width,C.hb=C.height,C.U=C.width,C.T=C.height,u((ie=_.Pa).jb,0,255,ie.jb.length),t((ie=_.Qa)!=null),ie.Cb=0,ie.Bb=0,ie.Fb=1,u(ie.Zb,0,0,ie.Zb.length),u(ie.Lb,0,0,ie.Lb)}if(ue.ub>Q)return Mn(_,7,"bad partition length");Be(ie=_.m,D,H,ue.ub),H+=ue.ub,Q-=ue.ub,ue.Rb&&(_e.Ld=We(ie),_e.Kd=We(ie)),_e=_.Qa;var ye,Ce=_.Pa;if(t(ie!=null),t(_e!=null),_e.Cb=We(ie),_e.Cb){if(_e.Bb=We(ie),We(ie)){for(_e.Fb=We(ie),ye=0;4>ye;++ye)_e.Zb[ye]=We(ie)?Fe(ie,7):0;for(ye=0;4>ye;++ye)_e.Lb[ye]=We(ie)?Fe(ie,6):0}if(_e.Bb)for(ye=0;3>ye;++ye)Ce.jb[ye]=We(ie)?Ve(ie,8):255}else _e.Bb=0;if(ie.Ka)return Mn(_,3,"cannot parse segment header");if((_e=_.ed).zd=We(ie),_e.Tb=Ve(ie,6),_e.wb=Ve(ie,3),_e.Pc=We(ie),_e.Pc&&We(ie)){for(Ce=0;4>Ce;++Ce)We(ie)&&(_e.vd[Ce]=Fe(ie,6));for(Ce=0;4>Ce;++Ce)We(ie)&&(_e.od[Ce]=Fe(ie,6))}if(_.L=_e.Tb==0?0:_e.zd?1:2,ie.Ka)return Mn(_,3,"cannot parse filter header");var Je=Q;if(Q=ye=H,H=ye+Je,_e=Je,_.Xb=(1<<Ve(_.m,2))-1,Je<3*(Ce=_.Xb))D=7;else{for(ye+=3*Ce,_e-=3*Ce,Je=0;Je<Ce;++Je){var _t=D[Q+0]|D[Q+1]<<8|D[Q+2]<<16;_t>_e&&(_t=_e),Be(_.Jc[+Je],D,ye,_t),ye+=_t,_e-=_t,Q+=3}Be(_.Jc[+Ce],D,ye,_e),D=ye<H?0:5}if(D!=0)return Mn(_,D,"cannot parse partitions");for(D=Ve(ye=_.m,7),Q=We(ye)?Fe(ye,4):0,H=We(ye)?Fe(ye,4):0,_e=We(ye)?Fe(ye,4):0,Ce=We(ye)?Fe(ye,4):0,ye=We(ye)?Fe(ye,4):0,Je=_.Qa,_t=0;4>_t;++_t){if(Je.Cb){var vt=Je.Zb[_t];Je.Fb||(vt+=D)}else{if(0<_t){_.pb[_t]=_.pb[0];continue}vt=D}var at=_.pb[_t];at.Sc[0]=Rt[hr(vt+Q,127)],at.Sc[1]=Yt[hr(vt+0,127)],at.Eb[0]=2*Rt[hr(vt+H,127)],at.Eb[1]=101581*Yt[hr(vt+_e,127)]>>16,8>at.Eb[1]&&(at.Eb[1]=8),at.Qc[0]=Rt[hr(vt+Ce,117)],at.Qc[1]=Yt[hr(vt+ye,127)],at.lc=vt+ye}if(!ue.Rb)return Mn(_,4,"Not a key frame.");for(We(ie),ue=_.Pa,D=0;4>D;++D){for(Q=0;8>Q;++Q)for(H=0;3>H;++H)for(_e=0;11>_e;++_e)Ce=Ye(ie,ia[D][Q][H][_e])?Ve(ie,8):Pi[D][Q][H][_e],ue.Wc[D][Q].Yb[H][_e]=Ce;for(Q=0;17>Q;++Q)ue.Xc[D][Q]=ue.Wc[D][Go[Q]]}return _.kc=We(ie),_.kc&&(_.Bd=Ve(ie,8)),_.cb=1}function Qi(_,C,D,H,Q,ie,ue){var _e=C[Q].Yb[D];for(D=0;16>Q;++Q){if(!Ye(_,_e[D+0]))return Q;for(;!Ye(_,_e[D+1]);)if(_e=C[++Q].Yb[0],D=0,Q==16)return 16;var ye=C[Q+1].Yb;if(Ye(_,_e[D+2])){var Ce=_,Je=0;if(Ye(Ce,(vt=_e)[(_t=D)+3]))if(Ye(Ce,vt[_t+6])){for(_e=0,_t=2*(Je=Ye(Ce,vt[_t+8]))+(vt=Ye(Ce,vt[_t+9+Je])),Je=0,vt=On[_t];vt[_e];++_e)Je+=Je+Ye(Ce,vt[_e]);Je+=3+(8<<_t)}else Ye(Ce,vt[_t+7])?(Je=7+2*Ye(Ce,165),Je+=Ye(Ce,145)):Je=5+Ye(Ce,159);else Je=Ye(Ce,vt[_t+4])?3+Ye(Ce,vt[_t+5]):2;_e=ye[2]}else Je=1,_e=ye[1];ye=ue+di[Q],0>(Ce=_).b&&Ke(Ce);var _t,vt=Ce.b,at=(_t=Ce.Ca>>1)-(Ce.I>>vt)>>31;--Ce.b,Ce.Ca+=at,Ce.Ca|=1,Ce.I-=(_t+1&at)<<vt,ie[ye]=((Je^at)-at)*H[(0<Q)+0]}return 16}function Hs(_){var C=_.rb[_.sb-1];C.la=0,C.Na=0,u(_.zc,0,0,_.zc.length),_.ja=0}function Ln(_,C){if(_==null)return 0;if(C==null)return Mn(_,2,"NULL VP8Io parameter in VP8Decode().");if(!_.cb&&!_a(_,C))return 0;if(t(_.cb),C.ac==null||C.ac(C)){C.ob&&(_.L=0);var D=$o[_.L];if(_.L==2?(_.yb=0,_.zb=0):(_.yb=C.v-D>>4,_.zb=C.j-D>>4,0>_.yb&&(_.yb=0),0>_.zb&&(_.zb=0)),_.Va=C.o+15+D>>4,_.Hb=C.va+15+D>>4,_.Hb>_.za&&(_.Hb=_.za),_.Va>_.Ub&&(_.Va=_.Ub),0<_.L){var H=_.ed;for(D=0;4>D;++D){var Q;if(_.Qa.Cb){var ie=_.Qa.Lb[D];_.Qa.Fb||(ie+=H.Tb)}else ie=H.Tb;for(Q=0;1>=Q;++Q){var ue=_.gd[D][Q],_e=ie;if(H.Pc&&(_e+=H.vd[0],Q&&(_e+=H.od[0])),0<(_e=0>_e?0:63<_e?63:_e)){var ye=_e;0<H.wb&&(ye=4<H.wb?ye>>2:ye>>1)>9-H.wb&&(ye=9-H.wb),1>ye&&(ye=1),ue.dd=ye,ue.tc=2*_e+ye,ue.ld=40<=_e?2:15<=_e?1:0}else ue.tc=0;ue.La=Q}}}D=0}else Mn(_,6,"Frame setup failed"),D=_.a;if(D=D==0){if(D){_.$c=0,0<_.Aa||(_.Ic=Va);e:{D=_.Ic,H=4*(ye=_.za);var Ce=32*ye,Je=ye+1,_t=0<_.L?ye*(0<_.Aa?2:1):0,vt=(_.Aa==2?2:1)*ye;if((ue=H+832+(Q=3*(16*D+$o[_.L])/2*Ce)+(ie=_.Fa!=null&&0<_.Fa.length?_.Kc.c*_.Kc.i:0))!=ue)D=0;else{if(ue>_.Vb){if(_.Vb=0,_.Ec=l(ue),_.Fc=0,_.Ec==null){D=Mn(_,1,"no memory during frame initialization.");break e}_.Vb=ue}ue=_.Ec,_e=_.Fc,_.Ac=ue,_.Bc=_e,_e+=H,_.Gd=c(Ce,Oa),_.Hd=0,_.rb=c(Je+1,Io),_.sb=1,_.wa=_t?c(_t,Ta):null,_.Y=0,_.D.Nb=0,_.D.wa=_.wa,_.D.Y=_.Y,0<_.Aa&&(_.D.Y+=ye),t(!0),_.oc=ue,_.pc=_e,_e+=832,_.ya=c(vt,to),_.aa=0,_.D.ya=_.ya,_.D.aa=_.aa,_.Aa==2&&(_.D.aa+=ye),_.R=16*ye,_.B=8*ye,ye=(Ce=$o[_.L])*_.R,Ce=Ce/2*_.B,_.sa=ue,_.ta=_e+ye,_.qa=_.sa,_.ra=_.ta+16*D*_.R+Ce,_.Ha=_.qa,_.Ia=_.ra+8*D*_.B+Ce,_.$c=0,_e+=Q,_.mb=ie?ue:null,_.nb=ie?_e:null,t(_e+ie<=_.Fc+_.Vb),Hs(_),u(_.Ac,_.Bc,0,H),D=1}}if(D){if(C.ka=0,C.y=_.sa,C.O=_.ta,C.f=_.qa,C.N=_.ra,C.ea=_.Ha,C.Vd=_.Ia,C.fa=_.R,C.Rc=_.B,C.F=null,C.J=0,!zo){for(D=-255;255>=D;++D)lr[255+D]=0>D?-D:D;for(D=-1020;1020>=D;++D)xs[1020+D]=-128>D?-128:127<D?127:D;for(D=-112;112>=D;++D)xa[112+D]=-16>D?-16:15<D?15:D;for(D=-255;510>=D;++D)Rs[255+D]=0>D?0:255<D?255:D;zo=1}wa=Gn,ys=Ra,Gi=ji,vi=kr,ci=ds,Xn=Ro,Ga=Lo,Mo=Cr,uo=_i,yi=ko,Hi=Ts,ss=za,ws=Br,na=Co,ra=gs,ba=gn,bs=Yr,fi=ja,os[0]=Hn,os[1]=vo,os[2]=xn,os[3]=zr,os[4]=wo,os[5]=Fa,os[6]=Ks,os[7]=ts,os[8]=bo,os[9]=ms,ei[0]=va,ei[1]=yo,ei[2]=ps,ei[3]=$s,ei[4]=dr,ei[5]=Ms,ei[6]=es,ti[0]=zi,ti[1]=Vs,ti[2]=no,ti[3]=gr,ti[4]=io,ti[5]=ro,ti[6]=xo,D=1}else D=0}D&&(D=(function(at,Pt){for(at.M=0;at.M<at.Va;++at.M){var Ct,et=at.Jc[at.M&at.Xb],tt=at.m,At=at;for(Ct=0;Ct<At.za;++Ct){var Mt=tt,Nt=At,Qt=Nt.Ac,i=Nt.Bc+4*Ct,h=Nt.zc,d=Nt.ya[Nt.aa+Ct];if(Nt.Qa.Bb?d.$b=Ye(Mt,Nt.Pa.jb[0])?2+Ye(Mt,Nt.Pa.jb[2]):Ye(Mt,Nt.Pa.jb[1]):d.$b=0,Nt.kc&&(d.Ad=Ye(Mt,Nt.Bd)),d.Za=!Ye(Mt,145)+0,d.Za){var v=d.Ob,k=0;for(Nt=0;4>Nt;++Nt){var B,z=h[0+Nt];for(B=0;4>B;++B){z=Pr[Qt[i+B]][z];for(var q=Wr[Ye(Mt,z[0])];0<q;)q=Wr[2*q+Ye(Mt,z[q])];z=-q,Qt[i+B]=z}a(v,k,Qt,i,4),k+=4,h[0+Nt]=z}}else z=Ye(Mt,156)?Ye(Mt,128)?1:3:Ye(Mt,163)?2:0,d.Ob[0]=z,u(Qt,i,z,4),u(h,0,z,4);d.Dd=Ye(Mt,142)?Ye(Mt,114)?Ye(Mt,183)?1:3:2:0}if(At.m.Ka)return Mn(at,7,"Premature end-of-partition0 encountered.");for(;at.ja<at.za;++at.ja){if(At=et,Mt=(tt=at).rb[tt.sb-1],Qt=tt.rb[tt.sb+tt.ja],Ct=tt.ya[tt.aa+tt.ja],i=tt.kc?Ct.Ad:0)Mt.la=Qt.la=0,Ct.Za||(Mt.Na=Qt.Na=0),Ct.Hc=0,Ct.Gc=0,Ct.ia=0;else{var J,ee;if(Mt=Qt,Qt=At,i=tt.Pa.Xc,h=tt.ya[tt.aa+tt.ja],d=tt.pb[h.$b],Nt=h.ad,v=0,k=tt.rb[tt.sb-1],z=B=0,u(Nt,v,0,384),h.Za)var Re=0,Me=i[3];else{q=l(16);var lt=Mt.Na+k.Na;if(lt=pn(Qt,i[1],lt,d.Eb,0,q,0),Mt.Na=k.Na=(0<lt)+0,1<lt)wa(q,0,Nt,v);else{var gt=q[0]+3>>3;for(q=0;256>q;q+=16)Nt[v+q]=gt}Re=1,Me=i[0]}var Et=15&Mt.la,Wt=15&k.la;for(q=0;4>q;++q){var Zt=1&Wt;for(gt=ee=0;4>gt;++gt)Et=Et>>1|(Zt=(lt=pn(Qt,Me,lt=Zt+(1&Et),d.Sc,Re,Nt,v))>Re)<<7,ee=ee<<2|(3<lt?3:1<lt?2:Nt[v+0]!=0),v+=16;Et>>=4,Wt=Wt>>1|Zt<<7,B=(B<<8|ee)>>>0}for(Me=Et,Re=Wt>>4,J=0;4>J;J+=2){for(ee=0,Et=Mt.la>>4+J,Wt=k.la>>4+J,q=0;2>q;++q){for(Zt=1&Wt,gt=0;2>gt;++gt)lt=Zt+(1&Et),Et=Et>>1|(Zt=0<(lt=pn(Qt,i[2],lt,d.Qc,0,Nt,v)))<<3,ee=ee<<2|(3<lt?3:1<lt?2:Nt[v+0]!=0),v+=16;Et>>=2,Wt=Wt>>1|Zt<<5}z|=ee<<4*J,Me|=Et<<4<<J,Re|=(240&Wt)<<J}Mt.la=Me,k.la=Re,h.Hc=B,h.Gc=z,h.ia=43690&z?0:d.ia,i=!(B|z)}if(0<tt.L&&(tt.wa[tt.Y+tt.ja]=tt.gd[Ct.$b][Ct.Za],tt.wa[tt.Y+tt.ja].La|=!i),At.Ka)return Mn(at,7,"Premature end-of-file encountered.")}if(Hs(at),tt=Pt,At=1,Ct=(et=at).D,Mt=0<et.L&&et.M>=et.zb&&et.M<=et.Va,et.Aa==0)e:{if(Ct.M=et.M,Ct.uc=Mt,Eo(et,Ct),At=1,Ct=(ee=et.D).Nb,Mt=(z=$o[et.L])*et.R,Qt=z/2*et.B,q=16*Ct*et.R,gt=8*Ct*et.B,i=et.sa,h=et.ta-Mt+q,d=et.qa,Nt=et.ra-Qt+gt,v=et.Ha,k=et.Ia-Qt+gt,Wt=(Et=ee.M)==0,B=Et>=et.Va-1,et.Aa==2&&Eo(et,ee),ee.uc)for(Zt=(lt=et).D.M,t(lt.D.uc),ee=lt.yb;ee<lt.Hb;++ee){Re=ee,Me=Zt;var mn=(Oe=(me=lt).D).Nb;J=me.R;var Oe=Oe.wa[Oe.Y+Re],Ue=me.sa,nt=me.ta+16*mn*J+16*Re,yt=Oe.dd,rt=Oe.tc;if(rt!=0)if(t(3<=rt),me.L==1)0<Re&&ba(Ue,nt,J,rt+4),Oe.La&&fi(Ue,nt,J,rt),0<Me&&ra(Ue,nt,J,rt+4),Oe.La&&bs(Ue,nt,J,rt);else{var ft=me.B,Y=me.qa,ce=me.ra+8*mn*ft+8*Re,be=me.Ha,me=me.Ia+8*mn*ft+8*Re;mn=Oe.ld,0<Re&&(Mo(Ue,nt,J,rt+4,yt,mn),yi(Y,ce,be,me,ft,rt+4,yt,mn)),Oe.La&&(ss(Ue,nt,J,rt,yt,mn),na(Y,ce,be,me,ft,rt,yt,mn)),0<Me&&(Ga(Ue,nt,J,rt+4,yt,mn),uo(Y,ce,be,me,ft,rt+4,yt,mn)),Oe.La&&(Hi(Ue,nt,J,rt,yt,mn),ws(Y,ce,be,me,ft,rt,yt,mn))}}if(et.ia&&alert("todo:DitherRow"),tt.put!=null){if(ee=16*Et,Et=16*(Et+1),Wt?(tt.y=et.sa,tt.O=et.ta+q,tt.f=et.qa,tt.N=et.ra+gt,tt.ea=et.Ha,tt.W=et.Ia+gt):(ee-=z,tt.y=i,tt.O=h,tt.f=d,tt.N=Nt,tt.ea=v,tt.W=k),B||(Et-=z),Et>tt.o&&(Et=tt.o),tt.F=null,tt.J=null,et.Fa!=null&&0<et.Fa.length&&ee<Et&&(tt.J=Tr(et,tt,ee,Et-ee),tt.F=et.mb,tt.F==null&&tt.F.length==0)){At=Mn(et,3,"Could not decode alpha data.");break e}ee<tt.j&&(z=tt.j-ee,ee=tt.j,t(!(1&z)),tt.O+=et.R*z,tt.N+=et.B*(z>>1),tt.W+=et.B*(z>>1),tt.F!=null&&(tt.J+=tt.width*z)),ee<Et&&(tt.O+=tt.v,tt.N+=tt.v>>1,tt.W+=tt.v>>1,tt.F!=null&&(tt.J+=tt.v),tt.ka=ee-tt.j,tt.U=tt.va-tt.v,tt.T=Et-ee,At=tt.put(tt))}Ct+1!=et.Ic||B||(a(et.sa,et.ta-Mt,i,h+16*et.R,Mt),a(et.qa,et.ra-Qt,d,Nt+8*et.B,Qt),a(et.Ha,et.Ia-Qt,v,k+8*et.B,Qt))}if(!At)return Mn(at,6,"Output aborted.")}return 1})(_,C)),C.bc!=null&&C.bc(C),D&=1}return D?(_.cb=0,D):0}function Vn(_,C,D,H,Q){Q=_[C+D+32*H]+(Q>>3),_[C+D+32*H]=-256&Q?0>Q?0:255:Q}function Ia(_,C,D,H,Q,ie){Vn(_,C,0,D,H+Q),Vn(_,C,1,D,H+ie),Vn(_,C,2,D,H-ie),Vn(_,C,3,D,H-Q)}function si(_){return(20091*_>>16)+_}function Jr(_,C,D,H){var Q,ie=0,ue=l(16);for(Q=0;4>Q;++Q){var _e=_[C+0]+_[C+8],ye=_[C+0]-_[C+8],Ce=(35468*_[C+4]>>16)-si(_[C+12]),Je=si(_[C+4])+(35468*_[C+12]>>16);ue[ie+0]=_e+Je,ue[ie+1]=ye+Ce,ue[ie+2]=ye-Ce,ue[ie+3]=_e-Je,ie+=4,C++}for(Q=ie=0;4>Q;++Q)_e=(_=ue[ie+0]+4)+ue[ie+8],ye=_-ue[ie+8],Ce=(35468*ue[ie+4]>>16)-si(ue[ie+12]),Vn(D,H,0,0,_e+(Je=si(ue[ie+4])+(35468*ue[ie+12]>>16))),Vn(D,H,1,0,ye+Ce),Vn(D,H,2,0,ye-Ce),Vn(D,H,3,0,_e-Je),ie++,H+=32}function Ro(_,C,D,H){var Q=_[C+0]+4,ie=35468*_[C+4]>>16,ue=si(_[C+4]),_e=35468*_[C+1]>>16;Ia(D,H,0,Q+ue,_=si(_[C+1]),_e),Ia(D,H,1,Q+ie,_,_e),Ia(D,H,2,Q-ie,_,_e),Ia(D,H,3,Q-ue,_,_e)}function Ra(_,C,D,H,Q){Jr(_,C,D,H),Q&&Jr(_,C+16,D,H+4)}function ji(_,C,D,H){ys(_,C+0,D,H,1),ys(_,C+32,D,H+128,1)}function kr(_,C,D,H){var Q;for(_=_[C+0]+4,Q=0;4>Q;++Q)for(C=0;4>C;++C)Vn(D,H,C,Q,_)}function ds(_,C,D,H){_[C+0]&&vi(_,C+0,D,H),_[C+16]&&vi(_,C+16,D,H+4),_[C+32]&&vi(_,C+32,D,H+128),_[C+48]&&vi(_,C+48,D,H+128+4)}function Gn(_,C,D,H){var Q,ie=l(16);for(Q=0;4>Q;++Q){var ue=_[C+0+Q]+_[C+12+Q],_e=_[C+4+Q]+_[C+8+Q],ye=_[C+4+Q]-_[C+8+Q],Ce=_[C+0+Q]-_[C+12+Q];ie[0+Q]=ue+_e,ie[8+Q]=ue-_e,ie[4+Q]=Ce+ye,ie[12+Q]=Ce-ye}for(Q=0;4>Q;++Q)ue=(_=ie[0+4*Q]+3)+ie[3+4*Q],_e=ie[1+4*Q]+ie[2+4*Q],ye=ie[1+4*Q]-ie[2+4*Q],Ce=_-ie[3+4*Q],D[H+0]=ue+_e>>3,D[H+16]=Ce+ye>>3,D[H+32]=ue-_e>>3,D[H+48]=Ce-ye>>3,H+=64}function Ws(_,C,D){var H,Q=C-32,ie=sr,ue=255-_[Q-1];for(H=0;H<D;++H){var _e,ye=ie,Ce=ue+_[C-1];for(_e=0;_e<D;++_e)_[C+_e]=ye[Ce+_[Q+_e]];C+=32}}function vo(_,C){Ws(_,C,4)}function Vs(_,C){Ws(_,C,8)}function yo(_,C){Ws(_,C,16)}function ps(_,C){var D;for(D=0;16>D;++D)a(_,C+32*D,_,C-32,16)}function $s(_,C){var D;for(D=16;0<D;--D)u(_,C,_[C-1],16),C+=32}function Zs(_,C,D){var H;for(H=0;16>H;++H)u(C,D+32*H,_,16)}function va(_,C){var D,H=16;for(D=0;16>D;++D)H+=_[C-1+32*D]+_[C+D-32];Zs(H>>5,_,C)}function dr(_,C){var D,H=8;for(D=0;16>D;++D)H+=_[C-1+32*D];Zs(H>>4,_,C)}function Ms(_,C){var D,H=8;for(D=0;16>D;++D)H+=_[C+D-32];Zs(H>>4,_,C)}function es(_,C){Zs(128,_,C)}function bn(_,C,D){return _+2*C+D+2>>2}function xn(_,C){var D,H=C-32;for(H=new Uint8Array([bn(_[H-1],_[H+0],_[H+1]),bn(_[H+0],_[H+1],_[H+2]),bn(_[H+1],_[H+2],_[H+3]),bn(_[H+2],_[H+3],_[H+4])]),D=0;4>D;++D)a(_,C+32*D,H,0,H.length)}function zr(_,C){var D=_[C-1],H=_[C-1+32],Q=_[C-1+64],ie=_[C-1+96];Tt(_,C+0,16843009*bn(_[C-1-32],D,H)),Tt(_,C+32,16843009*bn(D,H,Q)),Tt(_,C+64,16843009*bn(H,Q,ie)),Tt(_,C+96,16843009*bn(Q,ie,ie))}function Hn(_,C){var D,H=4;for(D=0;4>D;++D)H+=_[C+D-32]+_[C-1+32*D];for(H>>=3,D=0;4>D;++D)u(_,C+32*D,H,4)}function wo(_,C){var D=_[C-1+0],H=_[C-1+32],Q=_[C-1+64],ie=_[C-1-32],ue=_[C+0-32],_e=_[C+1-32],ye=_[C+2-32],Ce=_[C+3-32];_[C+0+96]=bn(H,Q,_[C-1+96]),_[C+1+96]=_[C+0+64]=bn(D,H,Q),_[C+2+96]=_[C+1+64]=_[C+0+32]=bn(ie,D,H),_[C+3+96]=_[C+2+64]=_[C+1+32]=_[C+0+0]=bn(ue,ie,D),_[C+3+64]=_[C+2+32]=_[C+1+0]=bn(_e,ue,ie),_[C+3+32]=_[C+2+0]=bn(ye,_e,ue),_[C+3+0]=bn(Ce,ye,_e)}function Ks(_,C){var D=_[C+1-32],H=_[C+2-32],Q=_[C+3-32],ie=_[C+4-32],ue=_[C+5-32],_e=_[C+6-32],ye=_[C+7-32];_[C+0+0]=bn(_[C+0-32],D,H),_[C+1+0]=_[C+0+32]=bn(D,H,Q),_[C+2+0]=_[C+1+32]=_[C+0+64]=bn(H,Q,ie),_[C+3+0]=_[C+2+32]=_[C+1+64]=_[C+0+96]=bn(Q,ie,ue),_[C+3+32]=_[C+2+64]=_[C+1+96]=bn(ie,ue,_e),_[C+3+64]=_[C+2+96]=bn(ue,_e,ye),_[C+3+96]=bn(_e,ye,ye)}function Fa(_,C){var D=_[C-1+0],H=_[C-1+32],Q=_[C-1+64],ie=_[C-1-32],ue=_[C+0-32],_e=_[C+1-32],ye=_[C+2-32],Ce=_[C+3-32];_[C+0+0]=_[C+1+64]=ie+ue+1>>1,_[C+1+0]=_[C+2+64]=ue+_e+1>>1,_[C+2+0]=_[C+3+64]=_e+ye+1>>1,_[C+3+0]=ye+Ce+1>>1,_[C+0+96]=bn(Q,H,D),_[C+0+64]=bn(H,D,ie),_[C+0+32]=_[C+1+96]=bn(D,ie,ue),_[C+1+32]=_[C+2+96]=bn(ie,ue,_e),_[C+2+32]=_[C+3+96]=bn(ue,_e,ye),_[C+3+32]=bn(_e,ye,Ce)}function ts(_,C){var D=_[C+0-32],H=_[C+1-32],Q=_[C+2-32],ie=_[C+3-32],ue=_[C+4-32],_e=_[C+5-32],ye=_[C+6-32],Ce=_[C+7-32];_[C+0+0]=D+H+1>>1,_[C+1+0]=_[C+0+64]=H+Q+1>>1,_[C+2+0]=_[C+1+64]=Q+ie+1>>1,_[C+3+0]=_[C+2+64]=ie+ue+1>>1,_[C+0+32]=bn(D,H,Q),_[C+1+32]=_[C+0+96]=bn(H,Q,ie),_[C+2+32]=_[C+1+96]=bn(Q,ie,ue),_[C+3+32]=_[C+2+96]=bn(ie,ue,_e),_[C+3+64]=bn(ue,_e,ye),_[C+3+96]=bn(_e,ye,Ce)}function ms(_,C){var D=_[C-1+0],H=_[C-1+32],Q=_[C-1+64],ie=_[C-1+96];_[C+0+0]=D+H+1>>1,_[C+2+0]=_[C+0+32]=H+Q+1>>1,_[C+2+32]=_[C+0+64]=Q+ie+1>>1,_[C+1+0]=bn(D,H,Q),_[C+3+0]=_[C+1+32]=bn(H,Q,ie),_[C+3+32]=_[C+1+64]=bn(Q,ie,ie),_[C+3+64]=_[C+2+64]=_[C+0+96]=_[C+1+96]=_[C+2+96]=_[C+3+96]=ie}function bo(_,C){var D=_[C-1+0],H=_[C-1+32],Q=_[C-1+64],ie=_[C-1+96],ue=_[C-1-32],_e=_[C+0-32],ye=_[C+1-32],Ce=_[C+2-32];_[C+0+0]=_[C+2+32]=D+ue+1>>1,_[C+0+32]=_[C+2+64]=H+D+1>>1,_[C+0+64]=_[C+2+96]=Q+H+1>>1,_[C+0+96]=ie+Q+1>>1,_[C+3+0]=bn(_e,ye,Ce),_[C+2+0]=bn(ue,_e,ye),_[C+1+0]=_[C+3+32]=bn(D,ue,_e),_[C+1+32]=_[C+3+64]=bn(H,D,ue),_[C+1+64]=_[C+3+96]=bn(Q,H,D),_[C+1+96]=bn(ie,Q,H)}function no(_,C){var D;for(D=0;8>D;++D)a(_,C+32*D,_,C-32,8)}function gr(_,C){var D;for(D=0;8>D;++D)u(_,C,_[C-1],8),C+=32}function ai(_,C,D){var H;for(H=0;8>H;++H)u(C,D+32*H,_,8)}function zi(_,C){var D,H=8;for(D=0;8>D;++D)H+=_[C+D-32]+_[C-1+32*D];ai(H>>4,_,C)}function ro(_,C){var D,H=4;for(D=0;8>D;++D)H+=_[C+D-32];ai(H>>3,_,C)}function io(_,C){var D,H=4;for(D=0;8>D;++D)H+=_[C-1+32*D];ai(H>>3,_,C)}function xo(_,C){ai(128,_,C)}function Js(_,C,D){var H=_[C-D],Q=_[C+0],ie=3*(Q-H)+Ei[1020+_[C-2*D]-_[C+D]],ue=Nr[112+(ie+4>>3)];_[C-D]=sr[255+H+Nr[112+(ie+3>>3)]],_[C+0]=sr[255+Q-ue]}function Ys(_,C,D,H){var Q=_[C+0],ie=_[C+D];return Wi[255+_[C-2*D]-_[C-D]]>H||Wi[255+ie-Q]>H}function so(_,C,D,H){return 4*Wi[255+_[C-D]-_[C+0]]+Wi[255+_[C-2*D]-_[C+D]]<=H}function In(_,C,D,H,Q){var ie=_[C-3*D],ue=_[C-2*D],_e=_[C-D],ye=_[C+0],Ce=_[C+D],Je=_[C+2*D],_t=_[C+3*D];return 4*Wi[255+_e-ye]+Wi[255+ue-Ce]>H?0:Wi[255+_[C-4*D]-ie]<=Q&&Wi[255+ie-ue]<=Q&&Wi[255+ue-_e]<=Q&&Wi[255+_t-Je]<=Q&&Wi[255+Je-Ce]<=Q&&Wi[255+Ce-ye]<=Q}function gs(_,C,D,H){var Q=2*H+1;for(H=0;16>H;++H)so(_,C+H,D,Q)&&Js(_,C+H,D)}function gn(_,C,D,H){var Q=2*H+1;for(H=0;16>H;++H)so(_,C+H*D,1,Q)&&Js(_,C+H*D,1)}function Yr(_,C,D,H){var Q;for(Q=3;0<Q;--Q)gs(_,C+=4*D,D,H)}function ja(_,C,D,H){var Q;for(Q=3;0<Q;--Q)gn(_,C+=4,D,H)}function Bs(_,C,D,H,Q,ie,ue,_e){for(ie=2*ie+1;0<Q--;){if(In(_,C,D,ie,ue))if(Ys(_,C,D,_e))Js(_,C,D);else{var ye=_,Ce=C,Je=D,_t=ye[Ce-2*Je],vt=ye[Ce-Je],at=ye[Ce+0],Pt=ye[Ce+Je],Ct=ye[Ce+2*Je],et=27*(At=Ei[1020+3*(at-vt)+Ei[1020+_t-Pt]])+63>>7,tt=18*At+63>>7,At=9*At+63>>7;ye[Ce-3*Je]=sr[255+ye[Ce-3*Je]+At],ye[Ce-2*Je]=sr[255+_t+tt],ye[Ce-Je]=sr[255+vt+et],ye[Ce+0]=sr[255+at-et],ye[Ce+Je]=sr[255+Pt-tt],ye[Ce+2*Je]=sr[255+Ct-At]}C+=H}}function oi(_,C,D,H,Q,ie,ue,_e){for(ie=2*ie+1;0<Q--;){if(In(_,C,D,ie,ue))if(Ys(_,C,D,_e))Js(_,C,D);else{var ye=_,Ce=C,Je=D,_t=ye[Ce-Je],vt=ye[Ce+0],at=ye[Ce+Je],Pt=Nr[112+((Ct=3*(vt-_t))+4>>3)],Ct=Nr[112+(Ct+3>>3)],et=Pt+1>>1;ye[Ce-2*Je]=sr[255+ye[Ce-2*Je]+et],ye[Ce-Je]=sr[255+_t+Ct],ye[Ce+0]=sr[255+vt-Pt],ye[Ce+Je]=sr[255+at-et]}C+=H}}function Lo(_,C,D,H,Q,ie){Bs(_,C,D,1,16,H,Q,ie)}function Cr(_,C,D,H,Q,ie){Bs(_,C,1,D,16,H,Q,ie)}function Ts(_,C,D,H,Q,ie){var ue;for(ue=3;0<ue;--ue)oi(_,C+=4*D,D,1,16,H,Q,ie)}function za(_,C,D,H,Q,ie){var ue;for(ue=3;0<ue;--ue)oi(_,C+=4,1,D,16,H,Q,ie)}function _i(_,C,D,H,Q,ie,ue,_e){Bs(_,C,Q,1,8,ie,ue,_e),Bs(D,H,Q,1,8,ie,ue,_e)}function ko(_,C,D,H,Q,ie,ue,_e){Bs(_,C,1,Q,8,ie,ue,_e),Bs(D,H,1,Q,8,ie,ue,_e)}function Br(_,C,D,H,Q,ie,ue,_e){oi(_,C+4*Q,Q,1,8,ie,ue,_e),oi(D,H+4*Q,Q,1,8,ie,ue,_e)}function Co(_,C,D,H,Q,ie,ue,_e){oi(_,C+4,1,Q,8,ie,ue,_e),oi(D,H+4,1,Q,8,ie,ue,_e)}function Ns(){this.ba=new Ir,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new or,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ki(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ao(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Fo(){this.ua=0,this.Wa=new oe,this.vb=new oe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new F,this.yc=new G}function jo(){this.xb=this.a=0,this.l=new Xi,this.ca=new Ir,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new j,this.Pb=0,this.wd=new j,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Fo,this.ab=0,this.gc=c(4,ao),this.Oc=0}function So(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Xi,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Xs(_,C,D,H,Q,ie,ue){for(_=_==null?0:_[C+0],C=0;C<ue;++C)Q[ie+C]=_+D[H+C]&255,_=Q[ie+C]}function oo(_,C,D,H,Q,ie,ue){var _e;if(_==null)Xs(null,null,D,H,Q,ie,ue);else for(_e=0;_e<ue;++_e)Q[ie+_e]=_[C+_e]+D[H+_e]&255}function Ua(_,C,D,H,Q,ie,ue){if(_==null)Xs(null,null,D,H,Q,ie,ue);else{var _e,ye=_[C+0],Ce=ye,Je=ye;for(_e=0;_e<ue;++_e)Ce=Je+(ye=_[C+_e])-Ce,Je=D[H+_e]+(-256&Ce?0>Ce?0:255:Ce)&255,Ce=ye,Q[ie+_e]=Je}}function Tr(_,C,D,H){var Q=C.width,ie=C.o;if(t(_!=null&&C!=null),0>D||0>=H||D+H>ie)return null;if(!_.Cc){if(_.ga==null){var ue;if(_.ga=new So,(ue=_.ga==null)||(ue=C.width*C.o,t(_.Gb.length==0),_.Gb=l(ue),_.Uc=0,_.Gb==null?ue=0:(_.mb=_.Gb,_.nb=_.Uc,_.rc=null,ue=1),ue=!ue),!ue){ue=_.ga;var _e=_.Fa,ye=_.P,Ce=_.qc,Je=_.mb,_t=_.nb,vt=ye+1,at=Ce-1,Pt=ue.l;if(t(_e!=null&&Je!=null&&C!=null),Un[0]=null,Un[1]=Xs,Un[2]=oo,Un[3]=Ua,ue.ca=Je,ue.tb=_t,ue.c=C.width,ue.i=C.height,t(0<ue.c&&0<ue.i),1>=Ce)C=0;else if(ue.$a=_e[ye+0]>>0&3,ue.Z=_e[ye+0]>>2&3,ue.Lc=_e[ye+0]>>4&3,ye=_e[ye+0]>>6&3,0>ue.$a||1<ue.$a||4<=ue.Z||1<ue.Lc||ye)C=0;else if(Pt.put=cs,Pt.ac=Zr,Pt.bc=Zi,Pt.ma=ue,Pt.width=C.width,Pt.height=C.height,Pt.Da=C.Da,Pt.v=C.v,Pt.va=C.va,Pt.j=C.j,Pt.o=C.o,ue.$a)e:{t(ue.$a==1),C=Fi();t:for(;;){if(C==null){C=0;break e}if(t(ue!=null),ue.mc=C,C.c=ue.c,C.i=ue.i,C.l=ue.l,C.l.ma=ue,C.l.width=ue.c,C.l.height=ue.i,C.a=0,xe(C.m,_e,vt,at),!qs(ue.c,ue.i,1,C,null)||(C.ab==1&&C.gc[0].hc==3&&As(C.s)?(ue.ic=1,_e=C.c*C.i,C.Ta=null,C.Ua=0,C.V=l(_e),C.Ba=0,C.V==null?(C.a=1,C=0):C=1):(ue.ic=0,C=Ma(C,ue.c)),!C))break t;C=1;break e}ue.mc=null,C=0}else C=at>=ue.c*ue.i;ue=!C}if(ue)return null;_.ga.Lc!=1?_.Ga=0:H=ie-D}t(_.ga!=null),t(D+H<=ie);e:{if(C=(_e=_.ga).c,ie=_e.l.o,_e.$a==0){if(vt=_.rc,at=_.Vc,Pt=_.Fa,ye=_.P+1+D*C,Ce=_.mb,Je=_.nb+D*C,t(ye<=_.P+_.qc),_e.Z!=0)for(t(Un[_e.Z]!=null),ue=0;ue<H;++ue)Un[_e.Z](vt,at,Pt,ye,Ce,Je,C),vt=Ce,at=Je,Je+=C,ye+=C;else for(ue=0;ue<H;++ue)a(Ce,Je,Pt,ye,C),vt=Ce,at=Je,Je+=C,ye+=C;_.rc=vt,_.Vc=at}else{if(t(_e.mc!=null),C=D+H,t((ue=_e.mc)!=null),t(C<=ue.i),ue.C>=C)C=1;else if(_e.ic||ct(),_e.ic){_e=ue.V,vt=ue.Ba,at=ue.c;var Ct=ue.i,et=(Pt=1,ye=ue.$/at,Ce=ue.$%at,Je=ue.m,_t=ue.s,ue.$),tt=at*Ct,At=at*C,Mt=_t.wc,Nt=et<At?Kt(_t,Ce,ye):null;t(et<=tt),t(C<=Ct),t(As(_t));t:for(;;){for(;!Je.h&&et<At;){if(Ce&Mt||(Nt=Kt(_t,Ce,ye)),t(Nt!=null),Te(Je),256>(Ct=Ri(Nt.G[0],Nt.H[0],Je)))_e[vt+et]=Ct,++et,++Ce>=at&&(Ce=0,++ye<=C&&!(ye%16)&&Ji(ue,ye));else{if(!(280>Ct)){Pt=0;break t}Ct=Ki(Ct-256,Je);var Qt,i=Ri(Nt.G[4],Nt.H[4],Je);if(Te(Je),!(et>=(i=Ii(at,i=Ki(i,Je)))&&tt-et>=Ct)){Pt=0;break t}for(Qt=0;Qt<Ct;++Qt)_e[vt+et+Qt]=_e[vt+et+Qt-i];for(et+=Ct,Ce+=Ct;Ce>=at;)Ce-=at,++ye<=C&&!(ye%16)&&Ji(ue,ye);et<At&&Ce&Mt&&(Nt=Kt(_t,Ce,ye))}t(Je.h==fe(Je))}Ji(ue,ye>C?C:ye);break t}!Pt||Je.h&&et<tt?(Pt=0,ue.a=Je.h?5:3):ue.$=et,C=Pt}else C=Kr(ue,ue.V,ue.Ba,ue.c,ue.i,C,Xa);if(!C){H=0;break e}}D+H>=ie&&(_.Cc=1),H=1}if(!H)return null;if(_.Cc&&((H=_.ga)!=null&&(H.mc=null),_.ga=null,0<_.Ga))return alert("todo:WebPDequantizeLevels"),null}return _.nb+D*Q}function P(_,C,D,H,Q,ie){for(;0<Q--;){var ue,_e=_,ye=C+(D?1:0),Ce=_,Je=C+(D?0:3);for(ue=0;ue<H;++ue){var _t=Ce[Je+4*ue];_t!=255&&(_t*=32897,_e[ye+4*ue+0]=_e[ye+4*ue+0]*_t>>23,_e[ye+4*ue+1]=_e[ye+4*ue+1]*_t>>23,_e[ye+4*ue+2]=_e[ye+4*ue+2]*_t>>23)}C+=ie}}function ne(_,C,D,H,Q){for(;0<H--;){var ie;for(ie=0;ie<D;++ie){var ue=_[C+2*ie+0],_e=15&(Ce=_[C+2*ie+1]),ye=4369*_e,Ce=(240&Ce|Ce>>4)*ye>>16;_[C+2*ie+0]=(240&ue|ue>>4)*ye>>16&240|(15&ue|ue<<4)*ye>>16>>4&15,_[C+2*ie+1]=240&Ce|_e}C+=Q}}function De(_,C,D,H,Q,ie,ue,_e){var ye,Ce,Je=255;for(Ce=0;Ce<Q;++Ce){for(ye=0;ye<H;++ye){var _t=_[C+ye];ie[ue+4*ye]=_t,Je&=_t}C+=D,ue+=_e}return Je!=255}function $e(_,C,D,H,Q){var ie;for(ie=0;ie<Q;++ie)D[H+ie]=_[C+ie]>>8}function ct(){Gr=P,ir=ne,Qn=De,Er=$e}function kt(_,C,D){X[_]=function(H,Q,ie,ue,_e,ye,Ce,Je,_t,vt,at,Pt,Ct,et,tt,At,Mt){var Nt,Qt=Mt-1>>1,i=_e[ye+0]|Ce[Je+0]<<16,h=_t[vt+0]|at[Pt+0]<<16;t(H!=null);var d=3*i+h+131074>>2;for(C(H[Q+0],255&d,d>>16,Ct,et),ie!=null&&(d=3*h+i+131074>>2,C(ie[ue+0],255&d,d>>16,tt,At)),Nt=1;Nt<=Qt;++Nt){var v=_e[ye+Nt]|Ce[Je+Nt]<<16,k=_t[vt+Nt]|at[Pt+Nt]<<16,B=i+v+h+k+524296,z=B+2*(v+h)>>3;d=z+i>>1,i=(B=B+2*(i+k)>>3)+v>>1,C(H[Q+2*Nt-1],255&d,d>>16,Ct,et+(2*Nt-1)*D),C(H[Q+2*Nt-0],255&i,i>>16,Ct,et+(2*Nt-0)*D),ie!=null&&(d=B+h>>1,i=z+k>>1,C(ie[ue+2*Nt-1],255&d,d>>16,tt,At+(2*Nt-1)*D),C(ie[ue+2*Nt+0],255&i,i>>16,tt,At+(2*Nt+0)*D)),i=v,h=k}1&Mt||(d=3*i+h+131074>>2,C(H[Q+Mt-1],255&d,d>>16,Ct,et+(Mt-1)*D),ie!=null&&(d=3*h+i+131074>>2,C(ie[ue+Mt-1],255&d,d>>16,tt,At+(Mt-1)*D)))}}function Ft(){ni[Vi]=eu,ni[yn]=Wa,ni[Uo]=aa,ni[Ha]=js,ni[as]=La,ni[Pn]=Ho,ni[qo]=Tl,ni[Qr]=Wa,ni[Hr]=js,ni[Fs]=La,ni[r]=Ho}function Jt(_){return _&-16384?0>_?0:255:_>>Bo}function en(_,C){return Jt((19077*_>>8)+(26149*C>>8)-14234)}function _n(_,C,D){return Jt((19077*_>>8)-(6419*C>>8)-(13320*D>>8)+8708)}function kn(_,C){return Jt((19077*_>>8)+(33050*C>>8)-17685)}function Rn(_,C,D,H,Q){H[Q+0]=en(_,D),H[Q+1]=_n(_,C,D),H[Q+2]=kn(_,C)}function _r(_,C,D,H,Q){H[Q+0]=kn(_,C),H[Q+1]=_n(_,C,D),H[Q+2]=en(_,D)}function Zn(_,C,D,H,Q){var ie=_n(_,C,D);C=ie<<3&224|kn(_,C)>>3,H[Q+0]=248&en(_,D)|ie>>5,H[Q+1]=C}function rr(_,C,D,H,Q){var ie=240&kn(_,C)|15;H[Q+0]=240&en(_,D)|_n(_,C,D)>>4,H[Q+1]=ie}function Ur(_,C,D,H,Q){H[Q+0]=255,Rn(_,C,D,H,Q+1)}function Rr(_,C,D,H,Q){_r(_,C,D,H,Q),H[Q+3]=255}function ns(_,C,D,H,Q){Rn(_,C,D,H,Q),H[Q+3]=255}function hr(_,C){return 0>_?0:_>C?C:_}function li(_,C,D){X[_]=function(H,Q,ie,ue,_e,ye,Ce,Je,_t){for(var vt=Je+(-2&_t)*D;Je!=vt;)C(H[Q+0],ie[ue+0],_e[ye+0],Ce,Je),C(H[Q+1],ie[ue+0],_e[ye+0],Ce,Je+D),Q+=2,++ue,++ye,Je+=2*D;1&_t&&C(H[Q+0],ie[ue+0],_e[ye+0],Ce,Je)}}function qa(_,C,D){return D==0?_==0?C==0?6:5:C==0?4:0:D}function Ci(_,C,D,H,Q){switch(_>>>30){case 3:ys(C,D,H,Q,0);break;case 2:Xn(C,D,H,Q);break;case 1:vi(C,D,H,Q)}}function Eo(_,C){var D,H,Q=C.M,ie=C.Nb,ue=_.oc,_e=_.pc+40,ye=_.oc,Ce=_.pc+584,Je=_.oc,_t=_.pc+600;for(D=0;16>D;++D)ue[_e+32*D-1]=129;for(D=0;8>D;++D)ye[Ce+32*D-1]=129,Je[_t+32*D-1]=129;for(0<Q?ue[_e-1-32]=ye[Ce-1-32]=Je[_t-1-32]=129:(u(ue,_e-32-1,127,21),u(ye,Ce-32-1,127,9),u(Je,_t-32-1,127,9)),H=0;H<_.za;++H){var vt=C.ya[C.aa+H];if(0<H){for(D=-1;16>D;++D)a(ue,_e+32*D-4,ue,_e+32*D+12,4);for(D=-1;8>D;++D)a(ye,Ce+32*D-4,ye,Ce+32*D+4,4),a(Je,_t+32*D-4,Je,_t+32*D+4,4)}var at=_.Gd,Pt=_.Hd+H,Ct=vt.ad,et=vt.Hc;if(0<Q&&(a(ue,_e-32,at[Pt].y,0,16),a(ye,Ce-32,at[Pt].f,0,8),a(Je,_t-32,at[Pt].ea,0,8)),vt.Za){var tt=ue,At=_e-32+16;for(0<Q&&(H>=_.za-1?u(tt,At,at[Pt].y[15],4):a(tt,At,at[Pt+1].y,0,4)),D=0;4>D;D++)tt[At+128+D]=tt[At+256+D]=tt[At+384+D]=tt[At+0+D];for(D=0;16>D;++D,et<<=2)tt=ue,At=_e+nu[D],os[vt.Ob[D]](tt,At),Ci(et,Ct,16*+D,tt,At)}else if(tt=qa(H,Q,vt.Ob[0]),ei[tt](ue,_e),et!=0)for(D=0;16>D;++D,et<<=2)Ci(et,Ct,16*+D,ue,_e+nu[D]);for(D=vt.Gc,tt=qa(H,Q,vt.Dd),ti[tt](ye,Ce),ti[tt](Je,_t),et=Ct,tt=ye,At=Ce,255&(vt=D>>0)&&(170&vt?Gi(et,256,tt,At):ci(et,256,tt,At)),vt=Je,et=_t,255&(D>>=8)&&(170&D?Gi(Ct,320,vt,et):ci(Ct,320,vt,et)),Q<_.Ub-1&&(a(at[Pt].y,0,ue,_e+480,16),a(at[Pt].f,0,ye,Ce+224,8),a(at[Pt].ea,0,Je,_t+224,8)),D=8*ie*_.B,at=_.sa,Pt=_.ta+16*H+16*ie*_.R,Ct=_.qa,vt=_.ra+8*H+D,et=_.Ha,tt=_.Ia+8*H+D,D=0;16>D;++D)a(at,Pt+D*_.R,ue,_e+32*D,16);for(D=0;8>D;++D)a(Ct,vt+D*_.B,ye,Ce+32*D,8),a(et,tt+D*_.B,Je,_t+32*D,8)}}function _s(_,C,D,H,Q,ie,ue,_e,ye){var Ce=[0],Je=[0],_t=0,vt=ye!=null?ye.kd:0,at=ye??new ki;if(_==null||12>D)return 7;at.data=_,at.w=C,at.ha=D,C=[C],D=[D],at.gb=[at.gb];e:{var Pt=C,Ct=D,et=at.gb;if(t(_!=null),t(Ct!=null),t(et!=null),et[0]=0,12<=Ct[0]&&!e(_,Pt[0],"RIFF")){if(e(_,Pt[0]+8,"WEBP")){et=3;break e}var tt=qt(_,Pt[0]+4);if(12>tt||4294967286<tt){et=3;break e}if(vt&&tt>Ct[0]-8){et=7;break e}et[0]=tt,Pt[0]+=12,Ct[0]-=12}et=0}if(et!=0)return et;for(tt=0<at.gb[0],D=D[0];;){e:{var At=_;Ct=C,et=D;var Mt=Ce,Nt=Je,Qt=Pt=[0];if((d=_t=[_t])[0]=0,8>et[0])et=7;else{if(!e(At,Ct[0],"VP8X")){if(qt(At,Ct[0]+4)!=10){et=3;break e}if(18>et[0]){et=7;break e}var i=qt(At,Ct[0]+8),h=1+Gt(At,Ct[0]+12);if(2147483648<=h*(At=1+Gt(At,Ct[0]+15))){et=3;break e}Qt!=null&&(Qt[0]=i),Mt!=null&&(Mt[0]=h),Nt!=null&&(Nt[0]=At),Ct[0]+=18,et[0]-=18,d[0]=1}et=0}}if(_t=_t[0],Pt=Pt[0],et!=0)return et;if(Ct=!!(2&Pt),!tt&&_t)return 3;if(ie!=null&&(ie[0]=!!(16&Pt)),ue!=null&&(ue[0]=Ct),_e!=null&&(_e[0]=0),ue=Ce[0],Pt=Je[0],_t&&Ct&&ye==null){et=0;break}if(4>D){et=7;break}if(tt&&_t||!tt&&!_t&&!e(_,C[0],"ALPH")){D=[D],at.na=[at.na],at.P=[at.P],at.Sa=[at.Sa];e:{i=_,et=C,tt=D;var d=at.gb;Mt=at.na,Nt=at.P,Qt=at.Sa,h=22,t(i!=null),t(tt!=null),At=et[0];var v=tt[0];for(t(Mt!=null),t(Qt!=null),Mt[0]=null,Nt[0]=null,Qt[0]=0;;){if(et[0]=At,tt[0]=v,8>v){et=7;break e}var k=qt(i,At+4);if(4294967286<k){et=3;break e}var B=8+k+1&-2;if(h+=B,0<d&&h>d){et=3;break e}if(!e(i,At,"VP8 ")||!e(i,At,"VP8L")){et=0;break e}if(v[0]<B){et=7;break e}e(i,At,"ALPH")||(Mt[0]=i,Nt[0]=At+8,Qt[0]=k),At+=B,v-=B}}if(D=D[0],at.na=at.na[0],at.P=at.P[0],at.Sa=at.Sa[0],et!=0)break}D=[D],at.Ja=[at.Ja],at.xa=[at.xa];e:if(d=_,et=C,tt=D,Mt=at.gb[0],Nt=at.Ja,Qt=at.xa,i=et[0],At=!e(d,i,"VP8 "),h=!e(d,i,"VP8L"),t(d!=null),t(tt!=null),t(Nt!=null),t(Qt!=null),8>tt[0])et=7;else{if(At||h){if(d=qt(d,i+4),12<=Mt&&d>Mt-12){et=3;break e}if(vt&&d>tt[0]-8){et=7;break e}Nt[0]=d,et[0]+=8,tt[0]-=8,Qt[0]=h}else Qt[0]=5<=tt[0]&&d[i+0]==47&&!(d[i+4]>>5),Nt[0]=tt[0];et=0}if(D=D[0],at.Ja=at.Ja[0],at.xa=at.xa[0],C=C[0],et!=0)break;if(4294967286<at.Ja)return 3;if(_e==null||Ct||(_e[0]=at.xa?2:1),ue=[ue],Pt=[Pt],at.xa){if(5>D){et=7;break}_e=ue,vt=Pt,Ct=ie,_==null||5>D?_=0:5<=D&&_[C+0]==47&&!(_[C+4]>>5)?(tt=[0],d=[0],Mt=[0],xe(Nt=new j,_,C,D),dn(Nt,tt,d,Mt)?(_e!=null&&(_e[0]=tt[0]),vt!=null&&(vt[0]=d[0]),Ct!=null&&(Ct[0]=Mt[0]),_=1):_=0):_=0}else{if(10>D){et=7;break}_e=Pt,_==null||10>D||!Da(_,C+3,D-3)?_=0:(vt=_[C+0]|_[C+1]<<8|_[C+2]<<16,Ct=16383&(_[C+7]<<8|_[C+6]),_=16383&(_[C+9]<<8|_[C+8]),1&vt||3<(vt>>1&7)||!(vt>>4&1)||vt>>5>=at.Ja||!Ct||!_?_=0:(ue&&(ue[0]=Ct),_e&&(_e[0]=_),_=1))}if(!_||(ue=ue[0],Pt=Pt[0],_t&&(Ce[0]!=ue||Je[0]!=Pt)))return 3;ye!=null&&(ye[0]=at,ye.offset=C-ye.w,t(4294967286>C-ye.w),t(ye.offset==ye.ha-D));break}return et==0||et==7&&_t&&ye==null?(ie!=null&&(ie[0]|=at.na!=null&&0<at.na.length),H!=null&&(H[0]=ue),Q!=null&&(Q[0]=Pt),0):et}function Po(_,C,D){var H=C.width,Q=C.height,ie=0,ue=0,_e=H,ye=Q;if(C.Da=_!=null&&0<_.Da,C.Da&&(_e=_.cd,ye=_.bd,ie=_.v,ue=_.j,11>D||(ie&=-2,ue&=-2),0>ie||0>ue||0>=_e||0>=ye||ie+_e>H||ue+ye>Q))return 0;if(C.v=ie,C.j=ue,C.va=ie+_e,C.o=ue+ye,C.U=_e,C.T=ye,C.da=_!=null&&0<_.da,C.da){if(!Ee(_e,ye,D=[_.ib],ie=[_.hb]))return 0;C.ib=D[0],C.hb=ie[0]}return C.ob=_!=null&&_.ob,C.Kb=_==null||!_.Sd,C.da&&(C.ob=C.ib<3*H/4&&C.hb<3*Q/4,C.Kb=0),1}function Qs(_){if(_==null)return 2;if(11>_.S){var C=_.f.RGBA;C.fb+=(_.height-1)*C.A,C.A=-C.A}else C=_.f.kb,_=_.height,C.O+=(_-1)*C.fa,C.fa=-C.fa,C.N+=(_-1>>1)*C.Ab,C.Ab=-C.Ab,C.W+=(_-1>>1)*C.Db,C.Db=-C.Db,C.F!=null&&(C.J+=(_-1)*C.lb,C.lb=-C.lb);return 0}function ea(_,C,D,H){if(H==null||0>=_||0>=C)return 2;if(D!=null){if(D.Da){var Q=D.cd,ie=D.bd,ue=-2&D.v,_e=-2&D.j;if(0>ue||0>_e||0>=Q||0>=ie||ue+Q>_||_e+ie>C)return 2;_=Q,C=ie}if(D.da){if(!Ee(_,C,Q=[D.ib],ie=[D.hb]))return 2;_=Q[0],C=ie[0]}}H.width=_,H.height=C;e:{var ye=H.width,Ce=H.height;if(_=H.S,0>=ye||0>=Ce||!(_>=Vi&&13>_))_=2;else{if(0>=H.Rd&&H.sd==null){ue=ie=Q=C=0;var Je=(_e=ye*bl[_])*Ce;if(11>_||(ie=(Ce+1)/2*(C=(ye+1)/2),_==12&&(ue=(Q=ye)*Ce)),(Ce=l(Je+2*ie+ue))==null){_=1;break e}H.sd=Ce,11>_?((ye=H.f.RGBA).eb=Ce,ye.fb=0,ye.A=_e,ye.size=Je):((ye=H.f.kb).y=Ce,ye.O=0,ye.fa=_e,ye.Fd=Je,ye.f=Ce,ye.N=0+Je,ye.Ab=C,ye.Cd=ie,ye.ea=Ce,ye.W=0+Je+ie,ye.Db=C,ye.Ed=ie,_==12&&(ye.F=Ce,ye.J=0+Je+2*ie),ye.Tc=ue,ye.lb=Q)}if(C=1,Q=H.S,ie=H.width,ue=H.height,Q>=Vi&&13>Q)if(11>Q)_=H.f.RGBA,C&=(_e=Math.abs(_.A))*(ue-1)+ie<=_.size,C&=_e>=ie*bl[Q],C&=_.eb!=null;else{_=H.f.kb,_e=(ie+1)/2,Je=(ue+1)/2,ye=Math.abs(_.fa),Ce=Math.abs(_.Ab);var _t=Math.abs(_.Db),vt=Math.abs(_.lb),at=vt*(ue-1)+ie;C&=ye*(ue-1)+ie<=_.Fd,C&=Ce*(Je-1)+_e<=_.Cd,C=(C&=_t*(Je-1)+_e<=_.Ed)&ye>=ie&Ce>=_e&_t>=_e,C&=_.y!=null,C&=_.f!=null,C&=_.ea!=null,Q==12&&(C&=vt>=ie,C&=at<=_.Tc,C&=_.F!=null)}else C=0;_=C?0:2}}return _!=0||D!=null&&D.fd&&(_=Qs(H)),_}var vr=64,Ao=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ui=24,Si=32,lo=8,ui=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];it("Predictor0","PredictorAdd0"),X.Predictor0=function(){return 4278190080},X.Predictor1=function(_){return _},X.Predictor2=function(_,C,D){return C[D+0]},X.Predictor3=function(_,C,D){return C[D+1]},X.Predictor4=function(_,C,D){return C[D-1]},X.Predictor5=function(_,C,D){return qe(qe(_,C[D+1]),C[D+0])},X.Predictor6=function(_,C,D){return qe(_,C[D-1])},X.Predictor7=function(_,C,D){return qe(_,C[D+0])},X.Predictor8=function(_,C,D){return qe(C[D-1],C[D+0])},X.Predictor9=function(_,C,D){return qe(C[D+0],C[D+1])},X.Predictor10=function(_,C,D){return qe(qe(_,C[D-1]),qe(C[D+0],C[D+1]))},X.Predictor11=function(_,C,D){var H=C[D+0];return 0>=Bt(H>>24&255,_>>24&255,(C=C[D-1])>>24&255)+Bt(H>>16&255,_>>16&255,C>>16&255)+Bt(H>>8&255,_>>8&255,C>>8&255)+Bt(255&H,255&_,255&C)?H:_},X.Predictor12=function(_,C,D){var H=C[D+0];return(Lt((_>>24&255)+(H>>24&255)-((C=C[D-1])>>24&255))<<24|Lt((_>>16&255)+(H>>16&255)-(C>>16&255))<<16|Lt((_>>8&255)+(H>>8&255)-(C>>8&255))<<8|Lt((255&_)+(255&H)-(255&C)))>>>0},X.Predictor13=function(_,C,D){var H=C[D-1];return(It((_=qe(_,C[D+0]))>>24&255,H>>24&255)<<24|It(_>>16&255,H>>16&255)<<16|It(_>>8&255,H>>8&255)<<8|It(_>>0&255,H>>0&255))>>>0};var rs=X.PredictorAdd0;X.PredictorAdd1=Ut,it("Predictor2","PredictorAdd2"),it("Predictor3","PredictorAdd3"),it("Predictor4","PredictorAdd4"),it("Predictor5","PredictorAdd5"),it("Predictor6","PredictorAdd6"),it("Predictor7","PredictorAdd7"),it("Predictor8","PredictorAdd8"),it("Predictor9","PredictorAdd9"),it("Predictor10","PredictorAdd10"),it("Predictor11","PredictorAdd11"),it("Predictor12","PredictorAdd12"),it("Predictor13","PredictorAdd13");var hi=X.PredictorAdd2;wn("ColorIndexInverseTransform","MapARGB","32b",(function(_){return _>>8&255}),(function(_){return _})),wn("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(_){return _}),(function(_){return _>>8&255}));var ll,Sr=X.ColorIndexInverseTransform,ta=X.MapARGB,is=X.VP8LColorIndexInverseTransformAlpha,ya=X.MapAlpha,Os=X.VP8LPredictorsAdd=[];Os.length=16,(X.VP8LPredictors=[]).length=16,(X.VP8LPredictorsAdd_C=[]).length=16,(X.VP8LPredictors_C=[]).length=16;var Ds,Xr,qr,Is,qi,vs,wa,ys,Xn,Gi,vi,ci,Ga,Mo,uo,yi,Hi,ss,ws,na,ra,ba,bs,fi,Gr,ir,Qn,Er,lr=l(511),xs=l(2041),xa=l(225),Rs=l(767),zo=0,Ei=xs,Nr=xa,sr=Rs,Wi=lr,Vi=0,yn=1,Uo=2,Ha=3,as=4,Pn=5,qo=6,Qr=7,Hr=8,Fs=9,r=10,f=[2,3,7],w=[3,3,11],T=[280,256,256,256,40],V=[0,1,1,1,0],le=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],He=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],mt=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],xt=8,Rt=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Yt=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],pn=null,On=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],di=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Wr=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Pi=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Pr=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ia=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Go=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ei=[],os=[],ti=[],sa=1,ho=2,Un=[],ni=[];kt("UpsampleRgbLinePair",Rn,3),kt("UpsampleBgrLinePair",_r,3),kt("UpsampleRgbaLinePair",ns,4),kt("UpsampleBgraLinePair",Rr,4),kt("UpsampleArgbLinePair",Ur,4),kt("UpsampleRgba4444LinePair",rr,2),kt("UpsampleRgb565LinePair",Zn,2);var eu=X.UpsampleRgbLinePair,aa=X.UpsampleBgrLinePair,Wa=X.UpsampleRgbaLinePair,js=X.UpsampleBgraLinePair,La=X.UpsampleArgbLinePair,Ho=X.UpsampleRgba4444LinePair,Tl=X.UpsampleRgb565LinePair,co=16,oa=1<<co-1,cr=-227,pr=482,Bo=6,Vr=0,Ai=l(256),Wo=l(256),ul=l(256),Mi=l(256),Vo=l(pr-cr),tu=l(pr-cr);li("YuvToRgbRow",Rn,3),li("YuvToBgrRow",_r,3),li("YuvToRgbaRow",ns,4),li("YuvToBgraRow",Rr,4),li("YuvToArgbRow",Ur,4),li("YuvToRgba4444Row",rr,2),li("YuvToRgb565Row",Zn,2);var nu=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],$o=[0,2,8],ru=[8,7,6,4,4,2,2,2,1,1,1,1],Va=1;this.WebPDecodeRGBA=function(_,C,D,H,Q){var ie=yn,ue=new Ns,_e=new Ir;ue.ba=_e,_e.S=ie,_e.width=[_e.width],_e.height=[_e.height];var ye=_e.width,Ce=_e.height,Je=new Mr;if(Je==null||_==null)var _t=2;else t(Je!=null),_t=_s(_,C,D,Je.width,Je.height,Je.Pd,Je.Qd,Je.format,null);if(_t!=0?ye=0:(ye!=null&&(ye[0]=Je.width[0]),Ce!=null&&(Ce[0]=Je.height[0]),ye=1),ye){_e.width=_e.width[0],_e.height=_e.height[0],H!=null&&(H[0]=_e.width),Q!=null&&(Q[0]=_e.height);e:{if(H=new Xi,(Q=new ki).data=_,Q.w=C,Q.ha=D,Q.kd=1,C=[0],t(Q!=null),((_=_s(Q.data,Q.w,Q.ha,null,null,null,C,null,Q))==0||_==7)&&C[0]&&(_=4),(C=_)==0){if(t(ue!=null),H.data=Q.data,H.w=Q.w+Q.offset,H.ha=Q.ha-Q.offset,H.put=cs,H.ac=Zr,H.bc=Zi,H.ma=ue,Q.xa){if((_=Fi())==null){ue=1;break e}if((function(vt,at){var Pt=[0],Ct=[0],et=[0];t:for(;;){if(vt==null)return 0;if(at==null)return vt.a=2,0;if(vt.l=at,vt.a=0,xe(vt.m,at.data,at.w,at.ha),!dn(vt.m,Pt,Ct,et)){vt.a=3;break t}if(vt.xb=ho,at.width=Pt[0],at.height=Ct[0],!qs(Pt[0],Ct[0],1,vt,null))break t;return 1}return t(vt.a!=0),0})(_,H)){if(H=(C=ea(H.width,H.height,ue.Oa,ue.ba))==0){t:{H=_;n:for(;;){if(H==null){H=0;break t}if(t(H.s.yc!=null),t(H.s.Ya!=null),t(0<H.s.Wb),t((D=H.l)!=null),t((Q=D.ma)!=null),H.xb!=0){if(H.ca=Q.ba,H.tb=Q.tb,t(H.ca!=null),!Po(Q.Oa,D,Ha)){H.a=2;break n}if(!Ma(H,D.width)||D.da)break n;if((D.da||Wn(H.ca.S))&&ct(),11>H.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),H.ca.f.kb.F!=null&&ct()),H.Pb&&0<H.s.ua&&H.s.vb.X==null&&!$(H.s.vb,H.s.Wa.Xa)){H.a=1;break n}H.xb=0}if(!Kr(H,H.V,H.Ba,H.c,H.i,D.o,ga))break n;Q.Dc=H.Ma,H=1;break t}t(H.a!=0),H=0}H=!H}H&&(C=_.a)}else C=_.a}else{if((_=new An)==null){ue=1;break e}if(_.Fa=Q.na,_.P=Q.P,_.qc=Q.Sa,_a(_,H)){if((C=ea(H.width,H.height,ue.Oa,ue.ba))==0){if(_.Aa=0,D=ue.Oa,t((Q=_)!=null),D!=null){if(0<(ye=0>(ye=D.Md)?0:100<ye?255:255*ye/100)){for(Ce=Je=0;4>Ce;++Ce)12>(_t=Q.pb[Ce]).lc&&(_t.ia=ye*ru[0>_t.lc?0:_t.lc]>>3),Je|=_t.ia;Je&&(alert("todo:VP8InitRandom"),Q.ia=1)}Q.Ga=D.Id,100<Q.Ga?Q.Ga=100:0>Q.Ga&&(Q.Ga=0)}Ln(_,H)||(C=_.a)}}else C=_.a}C==0&&ue.Oa!=null&&ue.Oa.fd&&(C=Qs(ue.ba))}ue=C}ie=ue!=0?null:11>ie?_e.f.RGBA.eb:_e.f.kb.y}else ie=null;return ie};var bl=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function y(X,ge){for(var Ie="",te=0;te<4;te++)Ie+=String.fromCharCode(X[ge++]);return Ie}function S(X,ge){return(X[ge+0]<<0|X[ge+1]<<8|X[ge+2]<<16)>>>0}function E(X,ge){return(X[ge+0]<<0|X[ge+1]<<8|X[ge+2]<<16|X[ge+3]<<24)>>>0}new g;var M=[0],x=[0],R=[],A=new g,I=o,O=(function(X,ge){var Ie={},te=0,G=!1,ae=0,F=0;if(Ie.frames=[],!(function(he,fe,pe,Te){for(var Ke=0;Ke<Te;Ke++)if(he[fe+Ke]!=pe.charCodeAt(Ke))return!0;return!1})(X,ge,"RIFF",4)){for(E(X,ge+=4),ge+=8;ge<X.length;){var Be=y(X,ge),Ve=E(X,ge+=4);ge+=4;var Fe=Ve+(1&Ve);switch(Be){case"VP8 ":case"VP8L":Ie.frames[te]===void 0&&(Ie.frames[te]={}),(Pe=Ie.frames[te]).src_off=G?F:ge-8,Pe.src_size=ae+Ve+8,te++,G&&(G=!1,ae=0,F=0);break;case"VP8X":(Pe=Ie.header={}).feature_flags=X[ge];var xe=ge+4;Pe.canvas_width=1+S(X,xe),xe+=3,Pe.canvas_height=1+S(X,xe),xe+=3;break;case"ALPH":G=!0,ae=Fe+8,F=ge-8;break;case"ANIM":(Pe=Ie.header).bgcolor=E(X,ge),xe=ge+4,Pe.loop_count=(re=X)[(j=xe)+0]<<0|re[j+1]<<8,xe+=2;break;case"ANMF":var Ae,Pe;(Pe=Ie.frames[te]={}).offset_x=2*S(X,ge),ge+=3,Pe.offset_y=2*S(X,ge),ge+=3,Pe.width=1+S(X,ge),ge+=3,Pe.height=1+S(X,ge),ge+=3,Pe.duration=S(X,ge),ge+=3,Ae=X[ge++],Pe.dispose=1&Ae,Pe.blend=Ae>>1&1}Be!="ANMF"&&(ge+=Fe)}var re,j;return Ie}})(I,0);O.response=I,O.rgbaoutput=!0,O.dataurl=!1;var W=O.header?O.header:null,Z=O.frames?O.frames:null;if(W){W.loop_counter=W.loop_count,M=[W.canvas_height],x=[W.canvas_width];for(var de=0;de<Z.length&&Z[de].blend!=0;de++);}var ve=Z[0],Se=A.WebPDecodeRGBA(I,ve.src_off,ve.src_size,x,M);ve.rgba=Se,ve.imgwidth=x[0],ve.imgheight=M[0];for(var K=0;K<x[0]*M[0]*4;K++)R[K]=Se[K];return this.width=x,this.height=M,this.data=R,this}(function(o){var t=function(){return typeof md=="function"},e=function(M,x,R,A){var I=4,O=c;switch(A){case o.image_compression.FAST:I=1,O=l;break;case o.image_compression.MEDIUM:I=6,O=p;break;case o.image_compression.SLOW:I=9,O=g}M=a(M,x,R,O);var W=md(M,{level:I});return o.__addimage__.arrayBufferToBinaryString(W)},a=function(M,x,R,A){for(var I,O,W,Z=M.length/x,de=new Uint8Array(M.length+Z),ve=S(),Se=0;Se<Z;Se+=1){if(W=Se*x,I=M.subarray(W,W+x),A)de.set(A(I,R,O),W+Se);else{for(var K,X=ve.length,ge=[];K<X;K+=1)ge[K]=ve[K](I,R,O);var Ie=E(ge.concat());de.set(ge[Ie],W+Se)}O=I}return de},u=function(M){var x=Array.apply([],M);return x.unshift(0),x},l=function(M,x){var R,A=[],I=M.length;A[0]=1;for(var O=0;O<I;O+=1)R=M[O-x]||0,A[O+1]=M[O]-R+256&255;return A},c=function(M,x,R){var A,I=[],O=M.length;I[0]=2;for(var W=0;W<O;W+=1)A=R&&R[W]||0,I[W+1]=M[W]-A+256&255;return I},p=function(M,x,R){var A,I,O=[],W=M.length;O[0]=3;for(var Z=0;Z<W;Z+=1)A=M[Z-x]||0,I=R&&R[Z]||0,O[Z+1]=M[Z]+256-(A+I>>>1)&255;return O},g=function(M,x,R){var A,I,O,W,Z=[],de=M.length;Z[0]=4;for(var ve=0;ve<de;ve+=1)A=M[ve-x]||0,I=R&&R[ve]||0,O=R&&R[ve-x]||0,W=y(A,I,O),Z[ve+1]=M[ve]-W+256&255;return Z},y=function(M,x,R){if(M===x&&x===R)return M;var A=Math.abs(x-R),I=Math.abs(M-R),O=Math.abs(M+x-R-R);return A<=I&&A<=O?M:I<=O?x:R},S=function(){return[u,l,c,p,g]},E=function(M){var x=M.map((function(R){return R.reduce((function(A,I){return A+Math.abs(I)}),0)}));return x.indexOf(Math.min.apply(null,x))};o.processPNG=function(M,x,R,A){var I,O,W,Z,de,ve,Se,K,X,ge,Ie,te,G,ae,F,Be=this.decode.FLATE_DECODE,Ve="";if(this.__addimage__.isArrayBuffer(M)&&(M=new Uint8Array(M)),this.__addimage__.isArrayBufferView(M)){if(M=(W=new I2(M)).imgData,O=W.bits,I=W.colorSpace,de=W.colors,[4,6].indexOf(W.colorType)!==-1){if(W.bits===8){X=(K=W.pixelBitlength==32?new Uint32Array(W.decodePixels().buffer):W.pixelBitlength==16?new Uint16Array(W.decodePixels().buffer):new Uint8Array(W.decodePixels().buffer)).length,Ie=new Uint8Array(X*W.colors),ge=new Uint8Array(X);var Fe,xe=W.pixelBitlength-W.bits;for(ae=0,F=0;ae<X;ae++){for(G=K[ae],Fe=0;Fe<xe;)Ie[F++]=G>>>Fe&255,Fe+=W.bits;ge[ae]=G>>>Fe&255}}if(W.bits===16){X=(K=new Uint32Array(W.decodePixels().buffer)).length,Ie=new Uint8Array(X*(32/W.pixelBitlength)*W.colors),ge=new Uint8Array(X*(32/W.pixelBitlength)),te=W.colors>1,ae=0,F=0;for(var Ae=0;ae<X;)G=K[ae++],Ie[F++]=G>>>0&255,te&&(Ie[F++]=G>>>16&255,G=K[ae++],Ie[F++]=G>>>0&255),ge[Ae++]=G>>>16&255;O=8}A!==o.image_compression.NONE&&t()?(M=e(Ie,W.width*W.colors,W.colors,A),Se=e(ge,W.width,1,A)):(M=Ie,Se=ge,Be=void 0)}if(W.colorType===3&&(I=this.color_spaces.INDEXED,ve=W.palette,W.transparency.indexed)){var Pe=W.transparency.indexed,re=0;for(ae=0,X=Pe.length;ae<X;++ae)re+=Pe[ae];if((re/=255)===X-1&&Pe.indexOf(0)!==-1)Z=[Pe.indexOf(0)];else if(re!==X){for(K=W.decodePixels(),ge=new Uint8Array(K.length),ae=0,X=K.length;ae<X;ae++)ge[ae]=Pe[K[ae]];Se=e(ge,W.width,1)}}var j=(function(he){var fe;switch(he){case o.image_compression.FAST:fe=11;break;case o.image_compression.MEDIUM:fe=13;break;case o.image_compression.SLOW:fe=14;break;default:fe=12}return fe})(A);return Be===this.decode.FLATE_DECODE&&(Ve="/Predictor "+j+" "),Ve+="/Colors "+de+" /BitsPerComponent "+O+" /Columns "+W.width,(this.__addimage__.isArrayBuffer(M)||this.__addimage__.isArrayBufferView(M))&&(M=this.__addimage__.arrayBufferToBinaryString(M)),(Se&&this.__addimage__.isArrayBuffer(Se)||this.__addimage__.isArrayBufferView(Se))&&(Se=this.__addimage__.arrayBufferToBinaryString(Se)),{alias:R,data:M,index:x,filter:Be,decodeParameters:Ve,transparency:Z,palette:ve,sMask:Se,predictor:j,width:W.width,height:W.height,bitsPerComponent:O,colorSpace:I}}}})(Bn.API),(function(o){o.processGIF89A=function(t,e,a,u){var l=new R2(t),c=l.width,p=l.height,g=[];l.decodeAndBlitFrameRGBA(0,g);var y={data:g,width:c,height:p},S=new Vf(100).encode(y,100);return o.processJPEG.call(this,S,e,a,u)},o.processGIF87A=o.processGIF89A})(Bn.API),nl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var o=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(o);for(var t=0;t<o;t++){var e=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:u,green:a,blue:e,quad:l}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},nl.prototype.parseBGR=function(){this.pos=this.offset;try{var o="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[o]()}catch(e){Or.log("bit decode error:"+e)}},nl.prototype.bit1=function(){var o,t=Math.ceil(this.width/8),e=t%4;for(o=this.height-1;o>=0;o--){for(var a=this.bottom_up?o:this.height-1-o,u=0;u<t;u++)for(var l=this.datav.getUint8(this.pos++,!0),c=a*this.width*4+8*u*4,p=0;p<8&&8*u+p<this.width;p++){var g=this.palette[l>>7-p&1];this.data[c+4*p]=g.blue,this.data[c+4*p+1]=g.green,this.data[c+4*p+2]=g.red,this.data[c+4*p+3]=255}e!==0&&(this.pos+=4-e)}},nl.prototype.bit4=function(){for(var o=Math.ceil(this.width/2),t=o%4,e=this.height-1;e>=0;e--){for(var a=this.bottom_up?e:this.height-1-e,u=0;u<o;u++){var l=this.datav.getUint8(this.pos++,!0),c=a*this.width*4+2*u*4,p=l>>4,g=15&l,y=this.palette[p];if(this.data[c]=y.blue,this.data[c+1]=y.green,this.data[c+2]=y.red,this.data[c+3]=255,2*u+1>=this.width)break;y=this.palette[g],this.data[c+4]=y.blue,this.data[c+4+1]=y.green,this.data[c+4+2]=y.red,this.data[c+4+3]=255}t!==0&&(this.pos+=4-t)}},nl.prototype.bit8=function(){for(var o=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var u=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*a;if(u<this.palette.length){var c=this.palette[u];this.data[l]=c.red,this.data[l+1]=c.green,this.data[l+2]=c.blue,this.data[l+3]=255}else this.data[l]=255,this.data[l+1]=255,this.data[l+2]=255,this.data[l+3]=255}o!==0&&(this.pos+=4-o)}},nl.prototype.bit15=function(){for(var o=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var a=this.bottom_up?e:this.height-1-e,u=0;u<this.width;u++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(l&t)/t*255|0,p=(l>>5&t)/t*255|0,g=(l>>10&t)/t*255|0,y=l>>15?255:0,S=a*this.width*4+4*u;this.data[S]=g,this.data[S+1]=p,this.data[S+2]=c,this.data[S+3]=y}this.pos+=o}},nl.prototype.bit16=function(){for(var o=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var u=this.bottom_up?a:this.height-1-a,l=0;l<this.width;l++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var p=(c&t)/t*255|0,g=(c>>5&e)/e*255|0,y=(c>>11)/t*255|0,S=u*this.width*4+4*l;this.data[S]=y,this.data[S+1]=g,this.data[S+2]=p,this.data[S+3]=255}this.pos+=o}},nl.prototype.bit24=function(){for(var o=this.height-1;o>=0;o--){for(var t=this.bottom_up?o:this.height-1-o,e=0;e<this.width;e++){var a=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*e;this.data[c]=l,this.data[c+1]=u,this.data[c+2]=a,this.data[c+3]=255}this.pos+=this.width%4}},nl.prototype.bit32=function(){for(var o=this.height-1;o>=0;o--)for(var t=this.bottom_up?o:this.height-1-o,e=0;e<this.width;e++){var a=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),p=t*this.width*4+4*e;this.data[p]=l,this.data[p+1]=u,this.data[p+2]=a,this.data[p+3]=c}},nl.prototype.getData=function(){return this.data},(function(o){o.processBMP=function(t,e,a,u){var l=new nl(t,!1),c=l.width,p=l.height,g={data:l.getData(),width:c,height:p},y=new Vf(100).encode(g,100);return o.processJPEG.call(this,y,e,a,u)}})(Bn.API),J0.prototype.getData=function(){return this.data},(function(o){o.processWEBP=function(t,e,a,u){var l=new J0(t),c=l.width,p=l.height,g={data:l.getData(),width:c,height:p},y=new Vf(100).encode(g,100);return o.processJPEG.call(this,y,e,a,u)}})(Bn.API),Bn.API.processRGBA=function(o,t,e){for(var a=o.data,u=a.length,l=new Uint8Array(u/4*3),c=new Uint8Array(u/4),p=0,g=0,y=0;y<u;y+=4){var S=a[y],E=a[y+1],M=a[y+2],x=a[y+3];l[p++]=S,l[p++]=E,l[p++]=M,c[g++]=x}var R=this.__addimage__.arrayBufferToBinaryString(l);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:R,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:o.width,height:o.height}},Bn.API.setLanguage=function(o){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[o]!==void 0&&(this.internal.languageSettings.languageCode=o,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},Vu=Bn.API,vc=Vu.getCharWidthsArray=function(o,t){var e,a,u=(t=t||{}).font||this.internal.getFont(),l=t.fontSize||this.internal.getFontSize(),c=t.charSpace||this.internal.getCharSpace(),p=t.widths?t.widths:u.metadata.Unicode.widths,g=p.fof?p.fof:1,y=t.kerning?t.kerning:u.metadata.Unicode.kerning,S=y.fof?y.fof:1,E=t.doKerning!==!1,M=0,x=o.length,R=0,A=p[0]||g,I=[];for(e=0;e<x;e++)a=o.charCodeAt(e),typeof u.metadata.widthOfString=="function"?I.push((u.metadata.widthOfGlyph(u.metadata.characterToGlyph(a))+c*(1e3/l)||0)/1e3):(M=E&&Lr(y[a])==="object"&&!isNaN(parseInt(y[a][R],10))?y[a][R]/S:0,I.push((p[a]||A)/g+M)),R=a;return I},V0=Vu.getStringUnitWidth=function(o,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),a=t.font||this.internal.getFont(),u=t.charSpace||this.internal.getCharSpace();return Vu.processArabic&&(o=Vu.processArabic(o)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(o,e,u)/e:vc.apply(this,arguments).reduce((function(l,c){return l+c}),0)},$0=function(o,t,e,a){for(var u=[],l=0,c=o.length,p=0;l!==c&&p+t[l]<e;)p+=t[l],l++;u.push(o.slice(0,l));var g=l;for(p=0;l!==c;)p+t[l]>a&&(u.push(o.slice(g,l)),p=0,g=l),p+=t[l],l++;return g!==l&&u.push(o.slice(g,l)),u},Z0=function(o,t,e){e||(e={});var a,u,l,c,p,g,y,S=[],E=[S],M=e.textIndent||0,x=0,R=0,A=o.split(" "),I=vc.apply(this,[" ",e])[0];if(g=e.lineIndent===-1?A[0].length+2:e.lineIndent||0){var O=Array(g).join(" "),W=[];A.map((function(de){(de=de.split(/\s*\n/)).length>1?W=W.concat(de.map((function(ve,Se){return(Se&&ve.length?`
`:"")+ve}))):W.push(de[0])})),A=W,g=V0.apply(this,[O,e])}for(l=0,c=A.length;l<c;l++){var Z=0;if(a=A[l],g&&a[0]==`
`&&(a=a.substr(1),Z=1),M+x+(R=(u=vc.apply(this,[a,e])).reduce((function(de,ve){return de+ve}),0))>t||Z){if(R>t){for(p=$0.apply(this,[a,u,t-(M+x),t]),S.push(p.shift()),S=[p.pop()];p.length;)E.push([p.shift()]);R=u.slice(a.length-(S[0]?S[0].length:0)).reduce((function(de,ve){return de+ve}),0)}else S=[a];E.push(S),M=R+g,x=I}else S.push(a),M+=x+R,x=I}return y=g?function(de,ve){return(ve?O:"")+de.join(" ")}:function(de){return de.join(" ")},E.map(y)},Vu.splitTextToSize=function(o,t,e){var a,u=(e=e||{}).fontSize||this.internal.getFontSize(),l=(function(S){if(S.widths&&S.kerning)return{widths:S.widths,kerning:S.kerning};var E=this.internal.getFont(S.fontName,S.fontStyle);return E.metadata.Unicode?{widths:E.metadata.Unicode.widths||{0:1},kerning:E.metadata.Unicode.kerning||{}}:{font:E.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);a=Array.isArray(o)?o:String(o).split(/\r?\n/);var c=1*this.internal.scaleFactor*t/u;l.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/u:0,l.lineIndent=e.lineIndent;var p,g,y=[];for(p=0,g=a.length;p<g;p++)y=y.concat(Z0.apply(this,[a[p],c,l]));return y},(function(o){o.__fontmetrics__=o.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",e={},a={},u=0;u<t.length;u++)e[t[u]]="0123456789abcdef"[u],a["0123456789abcdef"[u]]=t[u];var l=function(E){return"0x"+parseInt(E,10).toString(16)},c=o.__fontmetrics__.compress=function(E){var M,x,R,A,I=["{"];for(var O in E){if(M=E[O],isNaN(parseInt(O,10))?x="'"+O+"'":(O=parseInt(O,10),x=(x=l(O).slice(2)).slice(0,-1)+a[x.slice(-1)]),typeof M=="number")M<0?(R=l(M).slice(3),A="-"):(R=l(M).slice(2),A=""),R=A+R.slice(0,-1)+a[R.slice(-1)];else{if(Lr(M)!=="object")throw new Error("Don't know what to do with value type "+Lr(M)+".");R=c(M)}I.push(x+R)}return I.push("}"),I.join("")},p=o.__fontmetrics__.uncompress=function(E){if(typeof E!="string")throw new Error("Invalid argument passed to uncompress.");for(var M,x,R,A,I={},O=1,W=I,Z=[],de="",ve="",Se=E.length-1,K=1;K<Se;K+=1)(A=E[K])=="'"?M?(R=M.join(""),M=void 0):M=[]:M?M.push(A):A=="{"?(Z.push([W,R]),W={},R=void 0):A=="}"?((x=Z.pop())[0][x[1]]=W,R=void 0,W=x[0]):A=="-"?O=-1:R===void 0?e.hasOwnProperty(A)?(de+=e[A],R=parseInt(de,16)*O,O=1,de=""):de+=A:e.hasOwnProperty(A)?(ve+=e[A],W[R]=parseInt(ve,16)*O,O=1,R=void 0,ve=""):ve+=A;return I},g={codePages:["WinAnsiEncoding"],WinAnsiEncoding:p("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},y={Unicode:{Courier:g,"Courier-Bold":g,"Courier-BoldOblique":g,"Courier-Oblique":g,Helvetica:g,"Helvetica-Bold":g,"Helvetica-BoldOblique":g,"Helvetica-Oblique":g,"Times-Roman":g,"Times-Bold":g,"Times-BoldItalic":g,"Times-Italic":g}},S={Unicode:{"Courier-Oblique":p("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":p("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":p("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:p("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":p("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":p("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:p("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:p("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":p("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:p("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":p("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":p("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":p("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":p("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};o.events.push(["addFont",function(E){var M=E.font,x=S.Unicode[M.postScriptName];x&&(M.metadata.Unicode={},M.metadata.Unicode.widths=x.widths,M.metadata.Unicode.kerning=x.kerning);var R=y.Unicode[M.postScriptName];R&&(M.metadata.Unicode.encoding=R,M.encoding=R.codePages[0])}])})(Bn.API),(function(o){var t=function(e){for(var a=e.length,u=new Uint8Array(a),l=0;l<a;l++)u[l]=e.charCodeAt(l);return u};o.API.events.push(["addFont",function(e){var a=void 0,u=e.font,l=e.instance;if(!u.isStandardFont){if(l===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+u.postScriptName+"').");if(typeof(a=l.existsFileInVFS(u.postScriptName)===!1?l.loadFile(u.postScriptName):l.getFileFromVFS(u.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+u.postScriptName+"').");(function(c,p){p=/^\x00\x01\x00\x00/.test(p)?t(p):t(Eh(p)),c.metadata=o.API.TTFFont.open(p),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(u,a)}}])})(Bn),(function(o){function t(){return(Tn.canvg?Promise.resolve(Tn.canvg):Jl(()=>import("./index.es-CSD3J22h.js"),[])).catch((function(e){return Promise.reject(new Error("Could not load canvg: "+e))})).then((function(e){return e.default?e.default:e}))}Bn.API.addSvgAsImage=function(e,a,u,l,c,p,g,y){if(isNaN(a)||isNaN(u))throw Or.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(l)||isNaN(c))throw Or.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var S=document.createElement("canvas");S.width=l,S.height=c;var E=S.getContext("2d");E.fillStyle="#fff",E.fillRect(0,0,S.width,S.height);var M={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},x=this;return t().then((function(R){return R.fromString(E,e,M)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(R){return R.render(M)})).then((function(){x.addImage(S.toDataURL("image/jpeg",1),a,u,l,c,g,y)}))}})(),Bn.API.putTotalPages=function(o){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(o,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(o,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var u=0;u<this.internal.pages[a].length;u++)this.internal.pages[a][u]=this.internal.pages[a][u].replace(t,e);return this},Bn.API.viewerPreferences=function(o,t){var e;o=o||{},t=t||!1;var a,u,l,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},p=Object.keys(c),g=[],y=0,S=0,E=0;function M(R,A){var I,O=!1;for(I=0;I<R.length;I+=1)R[I]===A&&(O=!0);return O}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,o==="reset"||t===!0){var x=p.length;for(E=0;E<x;E+=1)e[p[E]].value=e[p[E]].defaultValue,e[p[E]].explicitSet=!1}if(Lr(o)==="object"){for(u in o)if(l=o[u],M(p,u)&&l!==void 0){if(e[u].type==="boolean"&&typeof l=="boolean")e[u].value=l;else if(e[u].type==="name"&&M(e[u].valueSet,l))e[u].value=l;else if(e[u].type==="integer"&&Number.isInteger(l))e[u].value=l;else if(e[u].type==="array"){for(y=0;y<l.length;y+=1)if(a=!0,l[y].length===1&&typeof l[y][0]=="number")g.push(String(l[y]-1));else if(l[y].length>1){for(S=0;S<l[y].length;S+=1)typeof l[y][S]!="number"&&(a=!1);a===!0&&g.push([l[y][0]-1,l[y][1]-1].join(" "))}e[u].value="["+g.join(" ")+"]"}else e[u].value=e[u].defaultValue;e[u].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){var R,A=[];for(R in e)e[R].explicitSet===!0&&(e[R].type==="name"?A.push("/"+R+" /"+e[R].value):A.push("/"+R+" "+e[R].value));A.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+A.join(`
`)+`
>>`)})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},(function(o){var t=function(){var a='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',u=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),l=unescape(encodeURIComponent(a)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),p=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),g=unescape(encodeURIComponent("</x:xmpmeta>")),y=l.length+c.length+p.length+u.length+g.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+y+" >>"),this.internal.write("stream"),this.internal.write(u+l+c+p+g),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};o.addMetadata=function(a,u){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:a,namespaceuri:u||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}})(Bn.API),(function(o){var t=o.API,e=t.pdfEscape16=function(l,c){for(var p,g=c.metadata.Unicode.widths,y=["","0","00","000","0000"],S=[""],E=0,M=l.length;E<M;++E){if(p=c.metadata.characterToGlyph(l.charCodeAt(E)),c.metadata.glyIdsUsed.push(p),c.metadata.toUnicode[p]=l.charCodeAt(E),g.indexOf(p)==-1&&(g.push(p),g.push([parseInt(c.metadata.widthOfGlyph(p),10)])),p=="0")return S.join("");p=p.toString(16),S.push(y[4-p.length],p)}return S.join("")},a=function(l){var c,p,g,y,S,E,M;for(S=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,g=[],E=0,M=(p=Object.keys(l).sort((function(x,R){return x-R}))).length;E<M;E++)c=p[E],g.length>=100&&(S+=`
`+g.length+` beginbfchar
`+g.join(`
`)+`
endbfchar`,g=[]),l[c]!==void 0&&l[c]!==null&&typeof l[c].toString=="function"&&(y=("0000"+l[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),g.push("<"+c+"><"+y+">"));return g.length&&(S+=`
`+g.length+` beginbfchar
`+g.join(`
`)+`
endbfchar
`),S+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(l){(function(c){var p=c.font,g=c.out,y=c.newObject,S=c.putStream;if(p.metadata instanceof o.API.TTFFont&&p.encoding==="Identity-H"){for(var E=p.metadata.Unicode.widths,M=p.metadata.subset.encode(p.metadata.glyIdsUsed,1),x="",R=0;R<M.length;R++)x+=String.fromCharCode(M[R]);var A=y();S({data:x,addLength1:!0,objectId:A}),g("endobj");var I=y();S({data:a(p.metadata.toUnicode),addLength1:!0,objectId:I}),g("endobj");var O=y();g("<<"),g("/Type /FontDescriptor"),g("/FontName /"+Ju(p.fontName)),g("/FontFile2 "+A+" 0 R"),g("/FontBBox "+o.API.PDFObject.convert(p.metadata.bbox)),g("/Flags "+p.metadata.flags),g("/StemV "+p.metadata.stemV),g("/ItalicAngle "+p.metadata.italicAngle),g("/Ascent "+p.metadata.ascender),g("/Descent "+p.metadata.decender),g("/CapHeight "+p.metadata.capHeight),g(">>"),g("endobj");var W=y();g("<<"),g("/Type /Font"),g("/BaseFont /"+Ju(p.fontName)),g("/FontDescriptor "+O+" 0 R"),g("/W "+o.API.PDFObject.convert(E)),g("/CIDToGIDMap /Identity"),g("/DW 1000"),g("/Subtype /CIDFontType2"),g("/CIDSystemInfo"),g("<<"),g("/Supplement 0"),g("/Registry (Adobe)"),g("/Ordering ("+p.encoding+")"),g(">>"),g(">>"),g("endobj"),p.objectNumber=y(),g("<<"),g("/Type /Font"),g("/Subtype /Type0"),g("/ToUnicode "+I+" 0 R"),g("/BaseFont /"+Ju(p.fontName)),g("/Encoding /"+p.encoding),g("/DescendantFonts ["+W+" 0 R]"),g(">>"),g("endobj"),p.isAlreadyPutted=!0}})(l)}]),t.events.push(["putFont",function(l){(function(c){var p=c.font,g=c.out,y=c.newObject,S=c.putStream;if(p.metadata instanceof o.API.TTFFont&&p.encoding==="WinAnsiEncoding"){for(var E=p.metadata.rawData,M="",x=0;x<E.length;x++)M+=String.fromCharCode(E[x]);var R=y();S({data:M,addLength1:!0,objectId:R}),g("endobj");var A=y();S({data:a(p.metadata.toUnicode),addLength1:!0,objectId:A}),g("endobj");var I=y();g("<<"),g("/Descent "+p.metadata.decender),g("/CapHeight "+p.metadata.capHeight),g("/StemV "+p.metadata.stemV),g("/Type /FontDescriptor"),g("/FontFile2 "+R+" 0 R"),g("/Flags 96"),g("/FontBBox "+o.API.PDFObject.convert(p.metadata.bbox)),g("/FontName /"+Ju(p.fontName)),g("/ItalicAngle "+p.metadata.italicAngle),g("/Ascent "+p.metadata.ascender),g(">>"),g("endobj"),p.objectNumber=y();for(var O=0;O<p.metadata.hmtx.widths.length;O++)p.metadata.hmtx.widths[O]=parseInt(p.metadata.hmtx.widths[O]*(1e3/p.metadata.head.unitsPerEm));g("<</Subtype/TrueType/Type/Font/ToUnicode "+A+" 0 R/BaseFont/"+Ju(p.fontName)+"/FontDescriptor "+I+" 0 R/Encoding/"+p.encoding+" /FirstChar 29 /LastChar 255 /Widths "+o.API.PDFObject.convert(p.metadata.hmtx.widths)+">>"),g("endobj"),p.isAlreadyPutted=!0}})(l)}]);var u=function(l){var c,p=l.text||"",g=l.x,y=l.y,S=l.options||{},E=l.mutex||{},M=E.pdfEscape,x=E.activeFontKey,R=E.fonts,A=x,I="",O=0,W="",Z=R[A].encoding;if(R[A].encoding!=="Identity-H")return{text:p,x:g,y,options:S,mutex:E};for(W=p,A=x,Array.isArray(p)&&(W=p[0]),O=0;O<W.length;O+=1)R[A].metadata.hasOwnProperty("cmap")&&(c=R[A].metadata.cmap.unicode.codeMap[W[O].charCodeAt(0)]),c||W[O].charCodeAt(0)<256&&R[A].metadata.hasOwnProperty("Unicode")?I+=W[O]:I+="";var de="";return parseInt(A.slice(1))<14||Z==="WinAnsiEncoding"?de=M(I,A).split("").map((function(ve){return ve.charCodeAt(0).toString(16)})).join(""):Z==="Identity-H"&&(de=e(I,R[A])),E.isHex=!0,{text:de,x:g,y,options:S,mutex:E}};t.events.push(["postProcessText",function(l){var c=l.text||"",p=[],g={text:c,x:l.x,y:l.y,options:l.options,mutex:l.mutex};if(Array.isArray(c)){var y=0;for(y=0;y<c.length;y+=1)Array.isArray(c[y])&&c[y].length===3?p.push([u(Object.assign({},g,{text:c[y][0]})).text,c[y][1],c[y][2]]):p.push(u(Object.assign({},g,{text:c[y]})).text);l.text=p}else l.text=u(Object.assign({},g,{text:c})).text}])})(Bn),(function(o){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};o.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},o.addFileToVFS=function(e,a){return t.call(this),this.internal.vFS[e]=a,this},o.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}})(Bn.API),(function(o){o.__bidiEngine__=o.prototype.__bidiEngine__=function(a){var u,l,c,p,g,y,S,E=t,M=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],x=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],R={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},A={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},I=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],O=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),W=!1,Z=0;this.__bidiEngine__={};var de=function(te){var G=te.charCodeAt(),ae=G>>8,F=A[ae];return F!==void 0?E[256*F+(255&G)]:ae===252||ae===253?"AL":O.test(ae)?"L":ae===8?"R":"N"},ve=function(te){for(var G,ae=0;ae<te.length;ae++){if((G=de(te.charAt(ae)))==="L")return!1;if(G==="R")return!0}return!1},Se=function(te,G,ae,F){var Be,Ve,Fe,xe,Ae=G[F];switch(Ae){case"L":case"R":W=!1;break;case"N":case"AN":break;case"EN":W&&(Ae="AN");break;case"AL":W=!0,Ae="R";break;case"WS":Ae="N";break;case"CS":F<1||F+1>=G.length||(Be=ae[F-1])!=="EN"&&Be!=="AN"||(Ve=G[F+1])!=="EN"&&Ve!=="AN"?Ae="N":W&&(Ve="AN"),Ae=Ve===Be?Ve:"N";break;case"ES":Ae=(Be=F>0?ae[F-1]:"B")==="EN"&&F+1<G.length&&G[F+1]==="EN"?"EN":"N";break;case"ET":if(F>0&&ae[F-1]==="EN"){Ae="EN";break}if(W){Ae="N";break}for(Fe=F+1,xe=G.length;Fe<xe&&G[Fe]==="ET";)Fe++;Ae=Fe<xe&&G[Fe]==="EN"?"EN":"N";break;case"NSM":if(c&&!p){for(xe=G.length,Fe=F+1;Fe<xe&&G[Fe]==="NSM";)Fe++;if(Fe<xe){var Pe=te[F],re=Pe>=1425&&Pe<=2303||Pe===64286;if(Be=G[Fe],re&&(Be==="R"||Be==="AL")){Ae="R";break}}}Ae=F<1||(Be=G[F-1])==="B"?"N":ae[F-1];break;case"B":W=!1,u=!0,Ae=Z;break;case"S":l=!0,Ae="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":W=!1;break;case"BN":Ae="N"}return Ae},K=function(te,G,ae){var F=te.split("");return ae&&X(F,ae,{hiLevel:Z}),F.reverse(),G&&G.reverse(),F.join("")},X=function(te,G,ae){var F,Be,Ve,Fe,xe,Ae=-1,Pe=te.length,re=0,j=[],he=Z?x:M,fe=[];for(W=!1,u=!1,l=!1,Be=0;Be<Pe;Be++)fe[Be]=de(te[Be]);for(Ve=0;Ve<Pe;Ve++){if(xe=re,j[Ve]=Se(te,fe,j,Ve),F=240&(re=he[xe][R[j[Ve]]]),re&=15,G[Ve]=Fe=he[re][5],F>0)if(F===16){for(Be=Ae;Be<Ve;Be++)G[Be]=1;Ae=-1}else Ae=-1;if(he[re][6])Ae===-1&&(Ae=Ve);else if(Ae>-1){for(Be=Ae;Be<Ve;Be++)G[Be]=Fe;Ae=-1}fe[Ve]==="B"&&(G[Ve]=0),ae.hiLevel|=Fe}l&&(function(pe,Te,Ke){for(var We=0;We<Ke;We++)if(pe[We]==="S"){Te[We]=Z;for(var Ye=We-1;Ye>=0&&pe[Ye]==="WS";Ye--)Te[Ye]=Z}})(fe,G,Pe)},ge=function(te,G,ae,F,Be){if(!(Be.hiLevel<te)){if(te===1&&Z===1&&!u)return G.reverse(),void(ae&&ae.reverse());for(var Ve,Fe,xe,Ae,Pe=G.length,re=0;re<Pe;){if(F[re]>=te){for(xe=re+1;xe<Pe&&F[xe]>=te;)xe++;for(Ae=re,Fe=xe-1;Ae<Fe;Ae++,Fe--)Ve=G[Ae],G[Ae]=G[Fe],G[Fe]=Ve,ae&&(Ve=ae[Ae],ae[Ae]=ae[Fe],ae[Fe]=Ve);re=xe}re++}}},Ie=function(te,G,ae){var F=te.split(""),Be={hiLevel:Z};return ae||(ae=[]),X(F,ae,Be),(function(Ve,Fe,xe){if(xe.hiLevel!==0&&S)for(var Ae,Pe=0;Pe<Ve.length;Pe++)Fe[Pe]===1&&(Ae=I.indexOf(Ve[Pe]))>=0&&(Ve[Pe]=I[Ae+1])})(F,ae,Be),ge(2,F,G,ae,Be),ge(1,F,G,ae,Be),F.join("")};return this.__bidiEngine__.doBidiReorder=function(te,G,ae){if((function(Be,Ve){if(Ve)for(var Fe=0;Fe<Be.length;Fe++)Ve[Fe]=Fe;p===void 0&&(p=ve(Be)),y===void 0&&(y=ve(Be))})(te,G),c||!g||y)if(c&&g&&p^y)Z=p?1:0,te=K(te,G,ae);else if(!c&&g&&y)Z=p?1:0,te=Ie(te,G,ae),te=K(te,G);else if(!c||p||g||y){if(c&&!g&&p^y)te=K(te,G),p?(Z=0,te=Ie(te,G,ae)):(Z=1,te=Ie(te,G,ae),te=K(te,G));else if(c&&p&&!g&&y)Z=1,te=Ie(te,G,ae),te=K(te,G);else if(!c&&!g&&p^y){var F=S;p?(Z=1,te=Ie(te,G,ae),Z=0,S=!1,te=Ie(te,G,ae),S=F):(Z=0,te=Ie(te,G,ae),te=K(te,G),Z=1,S=!1,te=Ie(te,G,ae),S=F,te=K(te,G))}}else Z=0,te=Ie(te,G,ae);else Z=p?1:0,te=Ie(te,G,ae);return te},this.__bidiEngine__.setOptions=function(te){te&&(c=te.isInputVisual,g=te.isOutputVisual,p=te.isInputRtl,y=te.isOutputRtl,S=te.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new o.__bidiEngine__({isInputVisual:!0});o.API.events.push(["postProcessText",function(a){var u=a.text;a.x,a.y;var l=a.options||{};a.mutex,l.lang;var c=[];if(l.isInputVisual=typeof l.isInputVisual!="boolean"||l.isInputVisual,e.setOptions(l),Object.prototype.toString.call(u)==="[object Array]"){var p=0;for(c=[],p=0;p<u.length;p+=1)Object.prototype.toString.call(u[p])==="[object Array]"?c.push([e.doBidiReorder(u[p][0]),u[p][1],u[p][2]]):c.push([e.doBidiReorder(u[p])]);a.text=c}else a.text=e.doBidiReorder(u);e.setOptions({isInputVisual:!0})}])})(Bn),Bn.API.TTFFont=(function(){function o(t){var e;if(this.rawData=t,e=this.contents=new Xl(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new X2(this),this.registerTTF()}return o.open=function(t){return new o(t)},o.prototype.parse=function(){return this.directory=new F2(this.contents),this.head=new z2(this),this.name=new W2(this),this.cmap=new lg(this),this.toUnicode={},this.hhea=new U2(this),this.maxp=new V2(this),this.hmtx=new $2(this),this.post=new G2(this),this.os2=new q2(this),this.loca=new Y2(this),this.glyf=new Z2(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},o.prototype.registerTTF=function(){var t,e,a,u,l;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,p,g,y;for(y=[],c=0,p=(g=this.bbox).length;c<p;c++)t=g[c],y.push(Math.round(t*this.scaleFactor));return y}).call(this),this.stemV=0,this.post.exists?(a=255&(u=this.post.italic_angle),(32768&(e=u>>16))!=0&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(l=this.familyClass)===1||l===2||l===3||l===4||l===5||l===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},o.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},o.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},o.prototype.widthOfString=function(t,e,a){var u,l,c,p;for(c=0,l=0,p=(t=""+t).length;0<=p?l<p:l>p;l=0<=p?++l:--l)u=t.charCodeAt(l),c+=this.widthOfGlyph(this.characterToGlyph(u))+a*(1e3/e)||0;return c*(e/1e3)},o.prototype.lineHeight=function(t,e){var a;return e==null&&(e=!1),a=e?this.lineGap:0,(this.ascender+a-this.decender)/1e3*t},o})();var ol,Xl=(function(){function o(t){this.data=t??[],this.pos=0,this.length=this.data.length}return o.prototype.readByte=function(){return this.data[this.pos++]},o.prototype.writeByte=function(t){return this.data[this.pos++]=t},o.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},o.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},o.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},o.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},o.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},o.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},o.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},o.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},o.prototype.readString=function(t){var e,a;for(a=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)a[e]=String.fromCharCode(this.readByte());return a.join("")},o.prototype.writeString=function(t){var e,a,u;for(u=[],e=0,a=t.length;0<=a?e<a:e>a;e=0<=a?++e:--e)u.push(this.writeByte(t.charCodeAt(e)));return u},o.prototype.readShort=function(){return this.readInt16()},o.prototype.writeShort=function(t){return this.writeInt16(t)},o.prototype.readLongLong=function(){var t,e,a,u,l,c,p,g;return t=this.readByte(),e=this.readByte(),a=this.readByte(),u=this.readByte(),l=this.readByte(),c=this.readByte(),p=this.readByte(),g=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^a)+4294967296*(255^u)+16777216*(255^l)+65536*(255^c)+256*(255^p)+(255^g)+1):72057594037927940*t+281474976710656*e+1099511627776*a+4294967296*u+16777216*l+65536*c+256*p+g},o.prototype.writeLongLong=function(t){var e,a;return e=Math.floor(t/4294967296),a=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},o.prototype.readInt=function(){return this.readInt32()},o.prototype.writeInt=function(t){return this.writeInt32(t)},o.prototype.read=function(t){var e,a;for(e=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)e.push(this.readByte());return e},o.prototype.write=function(t){var e,a,u,l;for(l=[],a=0,u=t.length;a<u;a++)e=t[a],l.push(this.writeByte(e));return l},o})(),F2=(function(){var o;function t(e){var a,u,l;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},u=0,l=this.tableCount;0<=l?u<l:u>l;u=0<=l?++u:--u)a={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[a.tag]=a}return t.prototype.encode=function(e){var a,u,l,c,p,g,y,S,E,M,x,R,A;for(A in x=Object.keys(e).length,g=Math.log(2),E=16*Math.floor(Math.log(x)/g),c=Math.floor(E/g),S=16*x-E,(u=new Xl).writeInt(this.scalarType),u.writeShort(x),u.writeShort(E),u.writeShort(c),u.writeShort(S),l=16*x,y=u.pos+l,p=null,R=[],e)for(M=e[A],u.writeString(A),u.writeInt(o(M)),u.writeInt(y),u.writeInt(M.length),R=R.concat(M),A==="head"&&(p=y),y+=M.length;y%4;)R.push(0),y++;return u.write(R),a=2981146554-o(u.data),u.pos=p+8,u.writeUInt32(a),u.data},o=function(e){var a,u,l,c;for(e=ug.call(e);e.length%4;)e.push(0);for(l=new Xl(e),u=0,a=0,c=e.length;a<c;a=a+=4)u+=l.readUInt32();return 4294967295&u},t})(),j2={}.hasOwnProperty,yl=function(o,t){for(var e in t)j2.call(t,e)&&(o[e]=t[e]);function a(){this.constructor=o}return a.prototype=t.prototype,o.prototype=new a,o.__super__=t.prototype,o};ol=(function(){function o(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return o.prototype.parse=function(){},o.prototype.encode=function(){},o.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},o})();var z2=(function(o){function t(){return t.__super__.constructor.apply(this,arguments)}return yl(t,ol),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var a;return(a=new Xl).writeInt(this.version),a.writeInt(this.revision),a.writeInt(this.checkSumAdjustment),a.writeInt(this.magicNumber),a.writeShort(this.flags),a.writeShort(this.unitsPerEm),a.writeLongLong(this.created),a.writeLongLong(this.modified),a.writeShort(this.xMin),a.writeShort(this.yMin),a.writeShort(this.xMax),a.writeShort(this.yMax),a.writeShort(this.macStyle),a.writeShort(this.lowestRecPPEM),a.writeShort(this.fontDirectionHint),a.writeShort(e),a.writeShort(this.glyphDataFormat),a.data},t})(),Y0=(function(){function o(t,e){var a,u,l,c,p,g,y,S,E,M,x,R,A,I,O,W,Z;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),E=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(g=0;g<256;++g)this.codeMap[g]=t.readByte();break;case 4:for(x=t.readUInt16(),M=x/2,t.pos+=6,l=(function(){var de,ve;for(ve=[],g=de=0;0<=M?de<M:de>M;g=0<=M?++de:--de)ve.push(t.readUInt16());return ve})(),t.pos+=2,A=(function(){var de,ve;for(ve=[],g=de=0;0<=M?de<M:de>M;g=0<=M?++de:--de)ve.push(t.readUInt16());return ve})(),y=(function(){var de,ve;for(ve=[],g=de=0;0<=M?de<M:de>M;g=0<=M?++de:--de)ve.push(t.readUInt16());return ve})(),S=(function(){var de,ve;for(ve=[],g=de=0;0<=M?de<M:de>M;g=0<=M?++de:--de)ve.push(t.readUInt16());return ve})(),u=(this.length-t.pos+this.offset)/2,p=(function(){var de,ve;for(ve=[],g=de=0;0<=u?de<u:de>u;g=0<=u?++de:--de)ve.push(t.readUInt16());return ve})(),g=O=0,Z=l.length;O<Z;g=++O)for(I=l[g],a=W=R=A[g];R<=I?W<=I:W>=I;a=R<=I?++W:--W)S[g]===0?c=a+y[g]:(c=p[S[g]/2+(a-R)-(M-g)]||0)!==0&&(c+=y[g]),this.codeMap[a]=65535&c}t.pos=E}return o.encode=function(t,e){var a,u,l,c,p,g,y,S,E,M,x,R,A,I,O,W,Z,de,ve,Se,K,X,ge,Ie,te,G,ae,F,Be,Ve,Fe,xe,Ae,Pe,re,j,he,fe,pe,Te,Ke,We,Ye,Tt,Ot,Gt;switch(F=new Xl,c=Object.keys(t).sort((function(qt,$){return qt-$})),e){case"macroman":for(A=0,I=(function(){var qt=[];for(R=0;R<256;++R)qt.push(0);return qt})(),W={0:0},l={},Be=0,Ae=c.length;Be<Ae;Be++)W[Ye=t[u=c[Be]]]==null&&(W[Ye]=++A),l[u]={old:t[u],new:W[t[u]]},I[u]=W[t[u]];return F.writeUInt16(1),F.writeUInt16(0),F.writeUInt32(12),F.writeUInt16(0),F.writeUInt16(262),F.writeUInt16(0),F.write(I),{charMap:l,subtable:F.data,maxGlyphID:A+1};case"unicode":for(G=[],E=[],Z=0,W={},a={},O=y=null,Ve=0,Pe=c.length;Ve<Pe;Ve++)W[ve=t[u=c[Ve]]]==null&&(W[ve]=++Z),a[u]={old:ve,new:W[ve]},p=W[ve]-u,O!=null&&p===y||(O&&E.push(O),G.push(u),y=p),O=u;for(O&&E.push(O),E.push(65535),G.push(65535),Ie=2*(ge=G.length),X=2*Math.pow(Math.log(ge)/Math.LN2,2),M=Math.log(X/2)/Math.LN2,K=2*ge-X,g=[],Se=[],x=[],R=Fe=0,re=G.length;Fe<re;R=++Fe){if(te=G[R],S=E[R],te===65535){g.push(0),Se.push(0);break}if(te-(ae=a[te].new)>=32768)for(g.push(0),Se.push(2*(x.length+ge-R)),u=xe=te;te<=S?xe<=S:xe>=S;u=te<=S?++xe:--xe)x.push(a[u].new);else g.push(ae-te),Se.push(0)}for(F.writeUInt16(3),F.writeUInt16(1),F.writeUInt32(12),F.writeUInt16(4),F.writeUInt16(16+8*ge+2*x.length),F.writeUInt16(0),F.writeUInt16(Ie),F.writeUInt16(X),F.writeUInt16(M),F.writeUInt16(K),Ke=0,j=E.length;Ke<j;Ke++)u=E[Ke],F.writeUInt16(u);for(F.writeUInt16(0),We=0,he=G.length;We<he;We++)u=G[We],F.writeUInt16(u);for(Tt=0,fe=g.length;Tt<fe;Tt++)p=g[Tt],F.writeUInt16(p);for(Ot=0,pe=Se.length;Ot<pe;Ot++)de=Se[Ot],F.writeUInt16(de);for(Gt=0,Te=x.length;Gt<Te;Gt++)A=x[Gt],F.writeUInt16(A);return{charMap:a,subtable:F.data,maxGlyphID:Z+1}}},o})(),lg=(function(o){function t(){return t.__super__.constructor.apply(this,arguments)}return yl(t,ol),t.prototype.tag="cmap",t.prototype.parse=function(e){var a,u,l;for(e.pos=this.offset,this.version=e.readUInt16(),l=e.readUInt16(),this.tables=[],this.unicode=null,u=0;0<=l?u<l:u>l;u=0<=l?++u:--u)a=new Y0(e,this.offset),this.tables.push(a),a.isUnicode&&this.unicode==null&&(this.unicode=a);return!0},t.encode=function(e,a){var u,l;return a==null&&(a="macroman"),u=Y0.encode(e,a),(l=new Xl).writeUInt16(0),l.writeUInt16(1),u.table=l.data.concat(u.subtable),u},t})(),U2=(function(o){function t(){return t.__super__.constructor.apply(this,arguments)}return yl(t,ol),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),q2=(function(o){function t(){return t.__super__.constructor.apply(this,arguments)}return yl(t,ol),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var a,u;for(u=[],a=0;a<10;++a)u.push(e.readByte());return u})(),this.charRange=(function(){var a,u;for(u=[],a=0;a<4;++a)u.push(e.readInt());return u})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var a,u;for(u=[],a=0;a<2;a=++a)u.push(e.readInt());return u})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),G2=(function(o){function t(){return t.__super__.constructor.apply(this,arguments)}return yl(t,ol),t.prototype.tag="post",t.prototype.parse=function(e){var a,u,l;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:var c;for(u=e.readUInt16(),this.glyphNameIndex=[],c=0;0<=u?c<u:c>u;c=0<=u?++c:--c)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],l=[];e.pos<this.offset+this.length;)a=e.readByte(),l.push(this.names.push(e.readString(a)));return l;case 151552:return u=e.readUInt16(),this.offsets=e.read(u);case 196608:break;case 262144:return this.map=(function(){var p,g,y;for(y=[],c=p=0,g=this.file.maxp.numGlyphs;0<=g?p<g:p>g;c=0<=g?++p:--p)y.push(e.readUInt32());return y}).call(this)}},t})(),H2=function(o,t){this.raw=o,this.length=o.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},W2=(function(o){function t(){return t.__super__.constructor.apply(this,arguments)}return yl(t,ol),t.prototype.tag="name",t.prototype.parse=function(e){var a,u,l,c,p,g,y,S,E,M,x;for(e.pos=this.offset,e.readShort(),a=e.readShort(),g=e.readShort(),u=[],c=0;0<=a?c<a:c>a;c=0<=a?++c:--c)u.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+g+e.readShort()});for(y={},c=E=0,M=u.length;E<M;c=++E)l=u[c],e.pos=l.offset,S=e.readString(l.length),p=new H2(S,l),y[x=l.nameID]==null&&(y[x]=[]),y[l.nameID].push(p);this.strings=y,this.copyright=y[0],this.fontFamily=y[1],this.fontSubfamily=y[2],this.uniqueSubfamily=y[3],this.fontName=y[4],this.version=y[5];try{this.postscriptName=y[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=y[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=y[7],this.manufacturer=y[8],this.designer=y[9],this.description=y[10],this.vendorUrl=y[11],this.designerUrl=y[12],this.license=y[13],this.licenseUrl=y[14],this.preferredFamily=y[15],this.preferredSubfamily=y[17],this.compatibleFull=y[18],this.sampleText=y[19]},t})(),V2=(function(o){function t(){return t.__super__.constructor.apply(this,arguments)}return yl(t,ol),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),$2=(function(o){function t(){return t.__super__.constructor.apply(this,arguments)}return yl(t,ol),t.prototype.tag="hmtx",t.prototype.parse=function(e){var a,u,l,c,p,g,y;for(e.pos=this.offset,this.metrics=[],a=0,g=this.file.hhea.numberOfMetrics;0<=g?a<g:a>g;a=0<=g?++a:--a)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(l=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var S,E;for(E=[],a=S=0;0<=l?S<l:S>l;a=0<=l?++S:--S)E.push(e.readInt16());return E})(),this.widths=(function(){var S,E,M,x;for(x=[],S=0,E=(M=this.metrics).length;S<E;S++)c=M[S],x.push(c.advance);return x}).call(this),u=this.widths[this.widths.length-1],y=[],a=p=0;0<=l?p<l:p>l;a=0<=l?++p:--p)y.push(this.widths.push(u));return y},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),ug=[].slice,Z2=(function(o){function t(){return t.__super__.constructor.apply(this,arguments)}return yl(t,ol),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var a,u,l,c,p,g,y,S,E,M;return e in this.cache?this.cache[e]:(c=this.file.loca,a=this.file.contents,u=c.indexOf(e),(l=c.lengthOf(e))===0?this.cache[e]=null:(a.pos=this.offset+u,p=(g=new Xl(a.read(l))).readShort(),S=g.readShort(),M=g.readShort(),y=g.readShort(),E=g.readShort(),this.cache[e]=p===-1?new J2(g,S,M,y,E):new K2(g,p,S,M,y,E),this.cache[e]))},t.prototype.encode=function(e,a,u){var l,c,p,g,y;for(p=[],c=[],g=0,y=a.length;g<y;g++)l=e[a[g]],c.push(p.length),l&&(p=p.concat(l.encode(u)));return c.push(p.length),{table:p,offsets:c}},t})(),K2=(function(){function o(t,e,a,u,l,c){this.raw=t,this.numberOfContours=e,this.xMin=a,this.yMin=u,this.xMax=l,this.yMax=c,this.compound=!1}return o.prototype.encode=function(){return this.raw.data},o})(),J2=(function(){function o(t,e,a,u,l){var c,p;for(this.raw=t,this.xMin=e,this.yMin=a,this.xMax=u,this.yMax=l,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;p=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&p;)c.pos+=1&p?4:2,128&p?c.pos+=8:64&p?c.pos+=4:8&p&&(c.pos+=2)}return o.prototype.encode=function(){var t,e,a;for(e=new Xl(ug.call(this.raw.data)),t=0,a=this.glyphIDs.length;t<a;++t)e.pos=this.glyphOffsets[t];return e.data},o})(),Y2=(function(o){function t(){return t.__super__.constructor.apply(this,arguments)}return yl(t,ol),t.prototype.tag="loca",t.prototype.parse=function(e){var a,u;return e.pos=this.offset,a=this.file.head.indexToLocFormat,this.offsets=a===0?(function(){var l,c;for(c=[],u=0,l=this.length;u<l;u+=2)c.push(2*e.readUInt16());return c}).call(this):(function(){var l,c;for(c=[],u=0,l=this.length;u<l;u+=4)c.push(e.readUInt32());return c}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,a){for(var u=new Uint32Array(this.offsets.length),l=0,c=0,p=0;p<u.length;++p)if(u[p]=l,c<a.length&&a[c]==p){++c,u[p]=l;var g=this.offsets[p],y=this.offsets[p+1]-g;y>0&&(l+=y)}for(var S=new Array(4*u.length),E=0;E<u.length;++E)S[4*E+3]=255&u[E],S[4*E+2]=(65280&u[E])>>8,S[4*E+1]=(16711680&u[E])>>16,S[4*E]=(4278190080&u[E])>>24;return S},t})(),X2=(function(){function o(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return o.prototype.generateCmap=function(){var t,e,a,u,l;for(e in u=this.font.cmap.tables[0].codeMap,t={},l=this.subset)a=l[e],t[e]=u[a];return t},o.prototype.glyphsFor=function(t){var e,a,u,l,c,p,g;for(u={},c=0,p=t.length;c<p;c++)u[l=t[c]]=this.font.glyf.glyphFor(l);for(l in e=[],u)(a=u[l])!=null&&a.compound&&e.push.apply(e,a.glyphIDs);if(e.length>0)for(l in g=this.glyphsFor(e))a=g[l],u[l]=a;return u},o.prototype.encode=function(t,e){var a,u,l,c,p,g,y,S,E,M,x,R,A,I,O;for(u in a=lg.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(t),x={0:0},O=a.charMap)x[(g=O[u]).old]=g.new;for(R in M=a.maxGlyphID,c)R in x||(x[R]=M++);return S=(function(W){var Z,de;for(Z in de={},W)de[W[Z]]=Z;return de})(x),E=Object.keys(S).sort((function(W,Z){return W-Z})),A=(function(){var W,Z,de;for(de=[],W=0,Z=E.length;W<Z;W++)p=E[W],de.push(S[p]);return de})(),l=this.font.glyf.encode(c,A,x),y=this.font.loca.encode(l.offsets,A),I={cmap:this.font.cmap.raw(),glyf:l.table,loca:y,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(I["OS/2"]=this.font.os2.raw()),this.font.directory.encode(I)},o})();Bn.API.PDFObject=(function(){var o;function t(){}return o=function(e,a){return(Array(a+1).join("0")+e).slice(-a)},t.convert=function(e){var a,u,l,c;if(Array.isArray(e))return"["+(function(){var p,g,y;for(y=[],p=0,g=e.length;p<g;p++)a=e[p],y.push(t.convert(a));return y})().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e?.isString)return"("+e+")";if(e instanceof Date)return"(D:"+o(e.getUTCFullYear(),4)+o(e.getUTCMonth(),2)+o(e.getUTCDate(),2)+o(e.getUTCHours(),2)+o(e.getUTCMinutes(),2)+o(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(u in l=["<<"],e)c=e[u],l.push("/"+u+" "+t.convert(c));return l.push(">>"),l.join(`
`)}return""+e},t})();var Q2="2.0.3",e5=[].slice,t5={};function xd(o){if(!(o>=1))throw new Error;this._size=o,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}xd.prototype=cg.prototype={constructor:xd,defer:function(o){if(typeof o!="function"||this._call)throw new Error;if(this._error!=null)return this;var t=e5.call(arguments,1);return t.push(o),++this._waiting,this._tasks.push(t),hg(this),this},abort:function(){return this._error==null&&Fd(this,new Error("abort")),this},await:function(o){if(typeof o!="function"||this._call)throw new Error;return this._call=function(t,e){o.apply(null,[t].concat(e))},Bc(this),this},awaitAll:function(o){if(typeof o!="function"||this._call)throw new Error;return this._call=o,Bc(this),this}};function hg(o){if(!o._start)try{n5(o)}catch(t){o._tasks[o._ended+o._active-1]&&Fd(o,t)}}function n5(o){for(;o._start=o._waiting&&o._active<o._size;){var t=o._ended+o._active,e=o._tasks[t],a=e.length-1,u=e[a];e[a]=r5(o,t),--o._waiting,++o._active,e=u.apply(null,e),o._tasks[t]&&(o._tasks[t]=e||t5)}}function r5(o,t){return function(e,a){o._tasks[t]&&(--o._active,++o._ended,o._tasks[t]=null,o._error==null&&(e!=null?Fd(o,e):(o._data[t]=a,o._waiting?hg(o):Bc(o))))}}function Fd(o,t){var e=o._tasks.length,a;for(o._error=t,o._data=void 0,o._waiting=NaN;--e>=0;)if((a=o._tasks[e])&&(o._tasks[e]=null,a.abort))try{a.abort()}catch{}o._active=NaN,Bc(o)}function Bc(o){!o._active&&o._call&&o._call(o._error,o._data)}function cg(o){return new xd(arguments.length?+o:1/0)}const i5=Object.freeze(Object.defineProperty({__proto__:null,queue:cg,version:Q2},Symbol.toStringTag,{value:"Module"})),s5=im(i5);var $f,X0;function a5(){if(X0)return $f;X0=1;var o=s5.queue,t=+new Date;return $f=function(a,u){var l=!!L.mapbox,c=a.getSize(),p=new o(1),g=document.createElement("canvas");g.width=c.x,g.height=c.y;var y=g.getContext("2d"),S=document.createElement("canvas");S.width=1,S.height=1;var E=S.getContext("2d");if(E.fillStyle="rgba(0,0,0,0)",E.fillRect(0,0,1,1),a.eachLayer(x),a.eachLayer(A),a._pathRoot)p.defer(Z,a._pathRoot);else if(a._panes){var M=a._panes.overlayPane.getElementsByTagName("canvas").item(0);M&&p.defer(Z,M)}a.eachLayer(R),p.awaitAll(O);function x(X){X instanceof L.TileLayer?p.defer(W,X):X._heat&&p.defer(Z,X._canvas)}function R(X){X instanceof L.Marker&&X.options.icon instanceof L.Icon&&p.defer(de,X)}function A(X){L.esri&&X instanceof L.esri.DynamicMapLayer&&p.defer(ve,X)}function I(){u(null,g)}function O(X,ge){if(X)throw X;ge.forEach(function(Ie){Ie&&Ie.canvas&&y.drawImage(Ie.canvas,0,0)}),I()}function W(X,ge){var Ie=L.TileLayer.Canvas&&X instanceof L.TileLayer.Canvas,te=document.createElement("canvas");te.width=c.x,te.height=c.y;var G=te.getContext("2d"),ae=a.getPixelBounds(),F=a.getZoom(),Be=X.options.tileSize;if(F>X.options.maxZoom||F<X.options.minZoom||l&&X instanceof L.mapbox.tileLayer&&!X.options.tiles)return ge();var Ve=L.bounds(ae.min.divideBy(Be)._floor(),ae.max.divideBy(Be)._floor()),Fe=[],xe,Ae,Pe=new o(1);for(xe=Ve.min.y;xe<=Ve.max.y;xe++)for(Ae=Ve.min.x;Ae<=Ve.max.x;Ae++)Fe.push(new L.Point(Ae,xe));Fe.forEach(function(pe){var Te=pe.clone();X._adjustTilePoint&&X._adjustTilePoint(pe);var Ke=Te.scaleBy(new L.Point(Be,Be)).subtract(ae.min);if(pe.y>=0)if(Ie){var We=X._tiles[pe.x+":"+pe.y];Pe.defer(re,We,Ke,Be)}else{var Ye=Se(X.getTileUrl(pe));Pe.defer(j,Ye,Ke,Be)}}),Pe.awaitAll(he);function re(pe,Te,Ke,We){We(null,{img:pe,pos:Te,size:Ke})}function j(pe,Te,Ke,We){var Ye=new Image;Ye.crossOrigin="",Ye.onload=function(){We(null,{img:this,pos:Te,size:Ke})},Ye.onerror=function(Tt){X.options.errorTileUrl!=""&&Tt.target.errorCheck===void 0?(Tt.target.errorCheck=!0,Tt.target.src=X.options.errorTileUrl):We(null,{img:S,pos:Te,size:Ke})},Ye.src=pe}function he(pe,Te){Te.forEach(fe),ge(null,{canvas:te})}function fe(pe){G.drawImage(pe.img,Math.floor(pe.pos.x),Math.floor(pe.pos.y),pe.size,pe.size)}}function Z(X,ge){var Ie=a.getPixelBounds(),te=a.getPixelOrigin(),G=document.createElement("canvas");G.width=c.x,G.height=c.y;var ae=G.getContext("2d"),F=L.DomUtil.getPosition(X).subtract(Ie.min).add(te);try{ae.drawImage(X,F.x,F.y,G.width-F.x*2,G.height-F.y*2),ge(null,{canvas:G})}catch{console.error("Element could not be drawn on canvas",X)}}function de(X,ge){var Ie=document.createElement("canvas"),te=Ie.getContext("2d"),G=a.getPixelBounds(),ae=new L.Point(G.min.x,G.min.y),F=a.project(X.getLatLng()),Be=/^data\:/.test(X._icon.src),Ve=Be?X._icon.src:Se(X._icon.src),Fe=new Image,xe=X.options.icon.options,Ae=xe.iconSize,Pe=F.subtract(ae),re=L.point(xe.iconAnchor||Ae&&Ae.divideBy(2,!0));Ae instanceof L.Point&&(Ae=[Ae.x,Ae.y]);var j=Math.round(Pe.x-Ae[0]+re.x),he=Math.round(Pe.y-re.y);Ie.width=c.x,Ie.height=c.y,Fe.crossOrigin="",Fe.onload=function(){te.drawImage(this,j,he,Ae[0],Ae[1]),ge(null,{canvas:Ie})},Fe.src=Ve,Be&&Fe.onload()}function ve(X,ge){var Ie=document.createElement("canvas");Ie.width=c.x,Ie.height=c.y;var te=Ie.getContext("2d"),G=new Image;G.crossOrigin="",G.src=Se(X._currentImage._image.src),G.onload=function(){te.drawImage(G,0,0),ge(null,{canvas:Ie})}}function Se(X){return K(X)||X.indexOf("mapbox.com/styles/v1")!==-1?X:X+(X.match(/\?/)?"&":"?")+"cache="+t}function K(X){var ge=/^\s*data:([a-z]+\/[a-z]+(;[a-z\-]+\=[a-z\-]+)?)?(;base64)?,[a-z0-9\!\$\&\'\,\(\)\*\+\,\;\=\-\.\_\~\:\@\/\?\%\s]*\s*$/i;return!!X.match(ge)}},$f}a5();var Q0={},em;function o5(){return em||(em=1,(()=>{var o=Object.create,t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,u=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,c=(i,h)=>()=>(h||i((h={exports:{}}).exports,h),h.exports),p=(i,h,d,v)=>{if(h&&typeof h=="object"||typeof h=="function")for(let k of a(h))!l.call(i,k)&&k!==d&&t(i,k,{get:()=>h[k],enumerable:!(v=e(h,k))||v.enumerable});return i},g=(i,h,d)=>(d=i!=null?o(u(i)):{},p(h||!i||!i.__esModule?t(d,"default",{value:i,enumerable:!0}):d,i)),y=c((i,h)=>{function d(){this.__data__=[],this.size=0}h.exports=d}),S=c((i,h)=>{function d(v,k){return v===k||v!==v&&k!==k}h.exports=d}),E=c((i,h)=>{var d=S();function v(k,B){for(var z=k.length;z--;)if(d(k[z][0],B))return z;return-1}h.exports=v}),M=c((i,h)=>{var d=E(),v=Array.prototype,k=v.splice;function B(z){var q=this.__data__,J=d(q,z);if(J<0)return!1;var ee=q.length-1;return J==ee?q.pop():k.call(q,J,1),--this.size,!0}h.exports=B}),x=c((i,h)=>{var d=E();function v(k){var B=this.__data__,z=d(B,k);return z<0?void 0:B[z][1]}h.exports=v}),R=c((i,h)=>{var d=E();function v(k){return d(this.__data__,k)>-1}h.exports=v}),A=c((i,h)=>{var d=E();function v(k,B){var z=this.__data__,q=d(z,k);return q<0?(++this.size,z.push([k,B])):z[q][1]=B,this}h.exports=v}),I=c((i,h)=>{var d=y(),v=M(),k=x(),B=R(),z=A();function q(J){var ee=-1,Re=J==null?0:J.length;for(this.clear();++ee<Re;){var Me=J[ee];this.set(Me[0],Me[1])}}q.prototype.clear=d,q.prototype.delete=v,q.prototype.get=k,q.prototype.has=B,q.prototype.set=z,h.exports=q}),O=c((i,h)=>{var d=I();function v(){this.__data__=new d,this.size=0}h.exports=v}),W=c((i,h)=>{function d(v){var k=this.__data__,B=k.delete(v);return this.size=k.size,B}h.exports=d}),Z=c((i,h)=>{function d(v){return this.__data__.get(v)}h.exports=d}),de=c((i,h)=>{function d(v){return this.__data__.has(v)}h.exports=d}),ve=c((i,h)=>{var d=typeof Zl=="object"&&Zl&&Zl.Object===Object&&Zl;h.exports=d}),Se=c((i,h)=>{var d=ve(),v=typeof self=="object"&&self&&self.Object===Object&&self,k=d||v||Function("return this")();h.exports=k}),K=c((i,h)=>{var d=Se(),v=d.Symbol;h.exports=v}),X=c((i,h)=>{var d=K(),v=Object.prototype,k=v.hasOwnProperty,B=v.toString,z=d?d.toStringTag:void 0;function q(J){var ee=k.call(J,z),Re=J[z];try{J[z]=void 0;var Me=!0}catch{}var lt=B.call(J);return Me&&(ee?J[z]=Re:delete J[z]),lt}h.exports=q}),ge=c((i,h)=>{var d=Object.prototype,v=d.toString;function k(B){return v.call(B)}h.exports=k}),Ie=c((i,h)=>{var d=K(),v=X(),k=ge(),B="[object Null]",z="[object Undefined]",q=d?d.toStringTag:void 0;function J(ee){return ee==null?ee===void 0?z:B:q&&q in Object(ee)?v(ee):k(ee)}h.exports=J}),te=c((i,h)=>{function d(v){var k=typeof v;return v!=null&&(k=="object"||k=="function")}h.exports=d}),G=c((i,h)=>{var d=Ie(),v=te(),k="[object AsyncFunction]",B="[object Function]",z="[object GeneratorFunction]",q="[object Proxy]";function J(ee){if(!v(ee))return!1;var Re=d(ee);return Re==B||Re==z||Re==k||Re==q}h.exports=J}),ae=c((i,h)=>{var d=Se(),v=d["__core-js_shared__"];h.exports=v}),F=c((i,h)=>{var d=ae(),v=(function(){var B=/[^.]+$/.exec(d&&d.keys&&d.keys.IE_PROTO||"");return B?"Symbol(src)_1."+B:""})();function k(B){return!!v&&v in B}h.exports=k}),Be=c((i,h)=>{var d=Function.prototype,v=d.toString;function k(B){if(B!=null){try{return v.call(B)}catch{}try{return B+""}catch{}}return""}h.exports=k}),Ve=c((i,h)=>{var d=G(),v=F(),k=te(),B=Be(),z=/[\\^$.*+?()[\]{}|]/g,q=/^\[object .+?Constructor\]$/,J=Function.prototype,ee=Object.prototype,Re=J.toString,Me=ee.hasOwnProperty,lt=RegExp("^"+Re.call(Me).replace(z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function gt(Et){if(!k(Et)||v(Et))return!1;var Wt=d(Et)?lt:q;return Wt.test(B(Et))}h.exports=gt}),Fe=c((i,h)=>{function d(v,k){return v?.[k]}h.exports=d}),xe=c((i,h)=>{var d=Ve(),v=Fe();function k(B,z){var q=v(B,z);return d(q)?q:void 0}h.exports=k}),Ae=c((i,h)=>{var d=xe(),v=Se(),k=d(v,"Map");h.exports=k}),Pe=c((i,h)=>{var d=xe(),v=d(Object,"create");h.exports=v}),re=c((i,h)=>{var d=Pe();function v(){this.__data__=d?d(null):{},this.size=0}h.exports=v}),j=c((i,h)=>{function d(v){var k=this.has(v)&&delete this.__data__[v];return this.size-=k?1:0,k}h.exports=d}),he=c((i,h)=>{var d=Pe(),v="__lodash_hash_undefined__",k=Object.prototype,B=k.hasOwnProperty;function z(q){var J=this.__data__;if(d){var ee=J[q];return ee===v?void 0:ee}return B.call(J,q)?J[q]:void 0}h.exports=z}),fe=c((i,h)=>{var d=Pe(),v=Object.prototype,k=v.hasOwnProperty;function B(z){var q=this.__data__;return d?q[z]!==void 0:k.call(q,z)}h.exports=B}),pe=c((i,h)=>{var d=Pe(),v="__lodash_hash_undefined__";function k(B,z){var q=this.__data__;return this.size+=this.has(B)?0:1,q[B]=d&&z===void 0?v:z,this}h.exports=k}),Te=c((i,h)=>{var d=re(),v=j(),k=he(),B=fe(),z=pe();function q(J){var ee=-1,Re=J==null?0:J.length;for(this.clear();++ee<Re;){var Me=J[ee];this.set(Me[0],Me[1])}}q.prototype.clear=d,q.prototype.delete=v,q.prototype.get=k,q.prototype.has=B,q.prototype.set=z,h.exports=q}),Ke=c((i,h)=>{var d=Te(),v=I(),k=Ae();function B(){this.size=0,this.__data__={hash:new d,map:new(k||v),string:new d}}h.exports=B}),We=c((i,h)=>{function d(v){var k=typeof v;return k=="string"||k=="number"||k=="symbol"||k=="boolean"?v!=="__proto__":v===null}h.exports=d}),Ye=c((i,h)=>{var d=We();function v(k,B){var z=k.__data__;return d(B)?z[typeof B=="string"?"string":"hash"]:z.map}h.exports=v}),Tt=c((i,h)=>{var d=Ye();function v(k){var B=d(this,k).delete(k);return this.size-=B?1:0,B}h.exports=v}),Ot=c((i,h)=>{var d=Ye();function v(k){return d(this,k).get(k)}h.exports=v}),Gt=c((i,h)=>{var d=Ye();function v(k){return d(this,k).has(k)}h.exports=v}),qt=c((i,h)=>{var d=Ye();function v(k,B){var z=d(this,k),q=z.size;return z.set(k,B),this.size+=z.size==q?0:1,this}h.exports=v}),$=c((i,h)=>{var d=Ke(),v=Tt(),k=Ot(),B=Gt(),z=qt();function q(J){var ee=-1,Re=J==null?0:J.length;for(this.clear();++ee<Re;){var Me=J[ee];this.set(Me[0],Me[1])}}q.prototype.clear=d,q.prototype.delete=v,q.prototype.get=k,q.prototype.has=B,q.prototype.set=z,h.exports=q}),je=c((i,h)=>{var d=I(),v=Ae(),k=$(),B=200;function z(q,J){var ee=this.__data__;if(ee instanceof d){var Re=ee.__data__;if(!v||Re.length<B-1)return Re.push([q,J]),this.size=++ee.size,this;ee=this.__data__=new k(Re)}return ee.set(q,J),this.size=ee.size,this}h.exports=z}),oe=c((i,h)=>{var d=I(),v=O(),k=W(),B=Z(),z=de(),q=je();function J(ee){var Re=this.__data__=new d(ee);this.size=Re.size}J.prototype.clear=v,J.prototype.delete=k,J.prototype.get=B,J.prototype.has=z,J.prototype.set=q,h.exports=J}),Ee=c((i,h)=>{var d=xe(),v=(function(){try{var k=d(Object,"defineProperty");return k({},"",{}),k}catch{}})();h.exports=v}),we=c((i,h)=>{var d=Ee();function v(k,B,z){B=="__proto__"&&d?d(k,B,{configurable:!0,enumerable:!0,value:z,writable:!0}):k[B]=z}h.exports=v}),Ne=c((i,h)=>{var d=we(),v=S();function k(B,z,q){(q!==void 0&&!v(B[z],q)||q===void 0&&!(z in B))&&d(B,z,q)}h.exports=k}),it=c((i,h)=>{function d(v){return function(k,B,z){for(var q=-1,J=Object(k),ee=z(k),Re=ee.length;Re--;){var Me=ee[v?Re:++q];if(B(J[Me],Me,J)===!1)break}return k}}h.exports=d}),ut=c((i,h)=>{var d=it(),v=d();h.exports=v}),qe=c((i,h)=>{var d=Se(),v=typeof i=="object"&&i&&!i.nodeType&&i,k=v&&typeof h=="object"&&h&&!h.nodeType&&h,B=k&&k.exports===v,z=B?d.Buffer:void 0,q=z?z.allocUnsafe:void 0;function J(ee,Re){if(Re)return ee.slice();var Me=ee.length,lt=q?q(Me):new ee.constructor(Me);return ee.copy(lt),lt}h.exports=J}),Lt=c((i,h)=>{var d=Se(),v=d.Uint8Array;h.exports=v}),It=c((i,h)=>{var d=Lt();function v(k){var B=new k.constructor(k.byteLength);return new d(B).set(new d(k)),B}h.exports=v}),Bt=c((i,h)=>{var d=It();function v(k,B){var z=B?d(k.buffer):k.buffer;return new k.constructor(z,k.byteOffset,k.length)}h.exports=v}),Ut=c((i,h)=>{function d(v,k){var B=-1,z=v.length;for(k||(k=Array(z));++B<z;)k[B]=v[B];return k}h.exports=d}),an=c((i,h)=>{var d=te(),v=Object.create,k=(function(){function B(){}return function(z){if(!d(z))return{};if(v)return v(z);B.prototype=z;var q=new B;return B.prototype=void 0,q}})();h.exports=k}),tn=c((i,h)=>{function d(v,k){return function(B){return v(k(B))}}h.exports=d}),on=c((i,h)=>{var d=tn(),v=d(Object.getPrototypeOf,Object);h.exports=v}),wn=c((i,h)=>{var d=Object.prototype;function v(k){var B=k&&k.constructor,z=typeof B=="function"&&B.prototype||d;return k===z}h.exports=v}),Vt=c((i,h)=>{var d=an(),v=on(),k=wn();function B(z){return typeof z.constructor=="function"&&!k(z)?d(v(z)):{}}h.exports=B}),ur=c((i,h)=>{function d(v){return v!=null&&typeof v=="object"}h.exports=d}),cn=c((i,h)=>{var d=Ie(),v=ur(),k="[object Arguments]";function B(z){return v(z)&&d(z)==k}h.exports=B}),Dr=c((i,h)=>{var d=cn(),v=ur(),k=Object.prototype,B=k.hasOwnProperty,z=k.propertyIsEnumerable,q=d((function(){return arguments})())?d:function(J){return v(J)&&B.call(J,"callee")&&!z.call(J,"callee")};h.exports=q}),zn=c((i,h)=>{var d=Array.isArray;h.exports=d}),jn=c((i,h)=>{var d=9007199254740991;function v(k){return typeof k=="number"&&k>-1&&k%1==0&&k<=d}h.exports=v}),Ar=c((i,h)=>{var d=G(),v=jn();function k(B){return B!=null&&v(B.length)&&!d(B)}h.exports=k}),Wn=c((i,h)=>{var d=Ar(),v=ur();function k(B){return v(B)&&d(B)}h.exports=k}),Ps=c((i,h)=>{function d(){return!1}h.exports=d}),ar=c((i,h)=>{var d=Se(),v=Ps(),k=typeof i=="object"&&i&&!i.nodeType&&i,B=k&&typeof h=="object"&&h&&!h.nodeType&&h,z=B&&B.exports===k,q=z?d.Buffer:void 0,J=q?q.isBuffer:void 0,ee=J||v;h.exports=ee}),Ir=c((i,h)=>{var d=Ie(),v=on(),k=ur(),B="[object Object]",z=Function.prototype,q=Object.prototype,J=z.toString,ee=q.hasOwnProperty,Re=J.call(Object);function Me(lt){if(!k(lt)||d(lt)!=B)return!1;var gt=v(lt);if(gt===null)return!0;var Et=ee.call(gt,"constructor")&&gt.constructor;return typeof Et=="function"&&Et instanceof Et&&J.call(Et)==Re}h.exports=Me}),Mr=c((i,h)=>{var d=Ie(),v=jn(),k=ur(),B="[object Arguments]",z="[object Array]",q="[object Boolean]",J="[object Date]",ee="[object Error]",Re="[object Function]",Me="[object Map]",lt="[object Number]",gt="[object Object]",Et="[object RegExp]",Wt="[object Set]",Zt="[object String]",mn="[object WeakMap]",Oe="[object ArrayBuffer]",Ue="[object DataView]",nt="[object Float32Array]",yt="[object Float64Array]",rt="[object Int8Array]",ft="[object Int16Array]",Y="[object Int32Array]",ce="[object Uint8Array]",be="[object Uint8ClampedArray]",me="[object Uint16Array]",Le="[object Uint32Array]",ke={};ke[nt]=ke[yt]=ke[rt]=ke[ft]=ke[Y]=ke[ce]=ke[be]=ke[me]=ke[Le]=!0,ke[B]=ke[z]=ke[Oe]=ke[q]=ke[Ue]=ke[J]=ke[ee]=ke[Re]=ke[Me]=ke[lt]=ke[gt]=ke[Et]=ke[Wt]=ke[Zt]=ke[mn]=!1;function Ze(Ge){return k(Ge)&&v(Ge.length)&&!!ke[d(Ge)]}h.exports=Ze}),or=c((i,h)=>{function d(v){return function(k){return v(k)}}h.exports=d}),En=c((i,h)=>{var d=ve(),v=typeof i=="object"&&i&&!i.nodeType&&i,k=v&&typeof h=="object"&&h&&!h.nodeType&&h,B=k&&k.exports===v,z=B&&d.process,q=(function(){try{var J=k&&k.require&&k.require("util").types;return J||z&&z.binding&&z.binding("util")}catch{}})();h.exports=q}),Yn=c((i,h)=>{var d=Mr(),v=or(),k=En(),B=k&&k.isTypedArray,z=B?v(B):d;h.exports=z}),ma=c((i,h)=>{function d(v,k){if(!(k==="constructor"&&typeof v[k]=="function")&&k!="__proto__")return v[k]}h.exports=d}),Zr=c((i,h)=>{var d=we(),v=S(),k=Object.prototype,B=k.hasOwnProperty;function z(q,J,ee){var Re=q[J];(!(B.call(q,J)&&v(Re,ee))||ee===void 0&&!(J in q))&&d(q,J,ee)}h.exports=z}),cs=c((i,h)=>{var d=Zr(),v=we();function k(B,z,q,J){var ee=!q;q||(q={});for(var Re=-1,Me=z.length;++Re<Me;){var lt=z[Re],gt=J?J(q[lt],B[lt],lt,q,B):void 0;gt===void 0&&(gt=B[lt]),ee?v(q,lt,gt):d(q,lt,gt)}return q}h.exports=k}),Zi=c((i,h)=>{function d(v,k){for(var B=-1,z=Array(v);++B<v;)z[B]=k(B);return z}h.exports=d}),dn=c((i,h)=>{var d=9007199254740991,v=/^(?:0|[1-9]\d*)$/;function k(B,z){var q=typeof B;return z=z??d,!!z&&(q=="number"||q!="symbol"&&v.test(B))&&B>-1&&B%1==0&&B<z}h.exports=k}),Ki=c((i,h)=>{var d=Zi(),v=Dr(),k=zn(),B=ar(),z=dn(),q=Yn(),J=Object.prototype,ee=J.hasOwnProperty;function Re(Me,lt){var gt=k(Me),Et=!gt&&v(Me),Wt=!gt&&!Et&&B(Me),Zt=!gt&&!Et&&!Wt&&q(Me),mn=gt||Et||Wt||Zt,Oe=mn?d(Me.length,String):[],Ue=Oe.length;for(var nt in Me)(lt||ee.call(Me,nt))&&!(mn&&(nt=="length"||Wt&&(nt=="offset"||nt=="parent")||Zt&&(nt=="buffer"||nt=="byteLength"||nt=="byteOffset")||z(nt,Ue)))&&Oe.push(nt);return Oe}h.exports=Re}),Ii=c((i,h)=>{function d(v){var k=[];if(v!=null)for(var B in Object(v))k.push(B);return k}h.exports=d}),Ri=c((i,h)=>{var d=te(),v=wn(),k=Ii(),B=Object.prototype,z=B.hasOwnProperty;function q(J){if(!d(J))return k(J);var ee=v(J),Re=[];for(var Me in J)Me=="constructor"&&(ee||!z.call(J,Me))||Re.push(Me);return Re}h.exports=q}),$n=c((i,h)=>{var d=Ki(),v=Ri(),k=Ar();function B(z){return k(z)?d(z,!0):v(z)}h.exports=B}),Kt=c((i,h)=>{var d=cs(),v=$n();function k(B){return d(B,v(B))}h.exports=k}),ii=c((i,h)=>{var d=Ne(),v=qe(),k=Bt(),B=Ut(),z=Vt(),q=Dr(),J=zn(),ee=Wn(),Re=ar(),Me=G(),lt=te(),gt=Ir(),Et=Yn(),Wt=ma(),Zt=Kt();function mn(Oe,Ue,nt,yt,rt,ft,Y){var ce=Wt(Oe,nt),be=Wt(Ue,nt),me=Y.get(be);if(me){d(Oe,nt,me);return}var Le=ft?ft(ce,be,nt+"",Oe,Ue,Y):void 0,ke=Le===void 0;if(ke){var Ze=J(be),Ge=!Ze&&Re(be),Xe=!Ze&&!Ge&&Et(be);Le=be,Ze||Ge||Xe?J(ce)?Le=ce:ee(ce)?Le=B(ce):Ge?(ke=!1,Le=v(be,!0)):Xe?(ke=!1,Le=k(be,!0)):Le=[]:gt(be)||q(be)?(Le=ce,q(ce)?Le=Zt(ce):(!lt(ce)||Me(ce))&&(Le=z(be))):ke=!1}ke&&(Y.set(be,Le),rt(Le,be,yt,ft,Y),Y.delete(be)),d(Oe,nt,Le)}h.exports=mn}),ga=c((i,h)=>{var d=oe(),v=Ne(),k=ut(),B=ii(),z=te(),q=$n(),J=ma();function ee(Re,Me,lt,gt,Et){Re!==Me&&k(Me,function(Wt,Zt){if(Et||(Et=new d),z(Wt))B(Re,Me,Zt,lt,ee,gt,Et);else{var mn=gt?gt(J(Re,Zt),Wt,Zt+"",Re,Me,Et):void 0;mn===void 0&&(mn=Wt),v(Re,Zt,mn)}},q)}h.exports=ee}),As=c((i,h)=>{function d(v){return v}h.exports=d}),fs=c((i,h)=>{function d(v,k,B){switch(B.length){case 0:return v.call(k);case 1:return v.call(k,B[0]);case 2:return v.call(k,B[0],B[1]);case 3:return v.call(k,B[0],B[1],B[2])}return v.apply(k,B)}h.exports=d}),Ji=c((i,h)=>{var d=fs(),v=Math.max;function k(B,z,q){return z=v(z===void 0?B.length-1:z,0),function(){for(var J=arguments,ee=-1,Re=v(J.length-z,0),Me=Array(Re);++ee<Re;)Me[ee]=J[z+ee];ee=-1;for(var lt=Array(z+1);++ee<z;)lt[ee]=J[ee];return lt[z]=q(Me),d(B,this,lt)}}h.exports=k}),Kr=c((i,h)=>{function d(v){return function(){return v}}h.exports=d}),gi=c((i,h)=>{var d=Kr(),v=Ee(),k=As(),B=v?function(z,q){return v(z,"toString",{configurable:!0,enumerable:!1,value:d(q),writable:!0})}:k;h.exports=B}),Fi=c((i,h)=>{var d=800,v=16,k=Date.now;function B(z){var q=0,J=0;return function(){var ee=k(),Re=v-(ee-J);if(J=ee,Re>0){if(++q>=d)return arguments[0]}else q=0;return z.apply(void 0,arguments)}}h.exports=B}),qs=c((i,h)=>{var d=gi(),v=Fi(),k=v(d);h.exports=k}),Ma=c((i,h)=>{var d=As(),v=Ji(),k=qs();function B(z,q){return k(v(z,q,d),z+"")}h.exports=B}),Xa=c((i,h)=>{var d=S(),v=Ar(),k=dn(),B=te();function z(q,J,ee){if(!B(ee))return!1;var Re=typeof J;return(Re=="number"?v(ee)&&k(J,ee.length):Re=="string"&&J in ee)?d(ee[J],q):!1}h.exports=z}),Qa=c((i,h)=>{var d=Ma(),v=Xa();function k(B){return d(function(z,q){var J=-1,ee=q.length,Re=ee>1?q[ee-1]:void 0,Me=ee>2?q[2]:void 0;for(Re=B.length>3&&typeof Re=="function"?(ee--,Re):void 0,Me&&v(q[0],q[1],Me)&&(Re=ee<3?void 0:Re,ee=1),z=Object(z);++J<ee;){var lt=q[J];lt&&B(z,lt,J,Re)}return z})}h.exports=k}),Gs=c((i,h)=>{var d=ga(),v=Qa(),k=v(function(B,z,q){d(B,z,q)});h.exports=k}),Ba=c((i,h)=>{var d=Ie(),v=ur(),k="[object Symbol]";function B(z){return typeof z=="symbol"||v(z)&&d(z)==k}h.exports=B}),eo=c((i,h)=>{var d=zn(),v=Ba(),k=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,B=/^\w*$/;function z(q,J){if(d(q))return!1;var ee=typeof q;return ee=="number"||ee=="symbol"||ee=="boolean"||q==null||v(q)?!0:B.test(q)||!k.test(q)||J!=null&&q in Object(J)}h.exports=z}),wr=c((i,h)=>{var d=$(),v="Expected a function";function k(B,z){if(typeof B!="function"||z!=null&&typeof z!="function")throw new TypeError(v);var q=function(){var J=arguments,ee=z?z.apply(this,J):J[0],Re=q.cache;if(Re.has(ee))return Re.get(ee);var Me=B.apply(this,J);return q.cache=Re.set(ee,Me)||Re,Me};return q.cache=new(k.Cache||d),q}k.Cache=d,h.exports=k}),wl=c((i,h)=>{var d=wr(),v=500;function k(B){var z=d(B,function(J){return q.size===v&&q.clear(),J}),q=z.cache;return z}h.exports=k}),Ta=c((i,h)=>{var d=wl(),v=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,k=/\\(\\)?/g,B=d(function(z){var q=[];return z.charCodeAt(0)===46&&q.push(""),z.replace(v,function(J,ee,Re,Me){q.push(Re?Me.replace(k,"$1"):ee||J)}),q});h.exports=B}),Io=c((i,h)=>{function d(v,k){for(var B=-1,z=v==null?0:v.length,q=Array(z);++B<z;)q[B]=k(v[B],B,v);return q}h.exports=d}),_o=c((i,h)=>{var d=K(),v=Io(),k=zn(),B=Ba(),z=d?d.prototype:void 0,q=z?z.toString:void 0;function J(ee){if(typeof ee=="string")return ee;if(k(ee))return v(ee,J)+"";if(B(ee))return q?q.call(ee):"";var Re=ee+"";return Re=="0"&&1/ee==-1/0?"-0":Re}h.exports=J}),to=c((i,h)=>{var d=_o();function v(k){return k==null?"":d(k)}h.exports=v}),Na=c((i,h)=>{var d=zn(),v=eo(),k=Ta(),B=to();function z(q,J){return d(q)?q:v(q,J)?[q]:k(B(q))}h.exports=z}),Oa=c((i,h)=>{var d=Ba();function v(k){if(typeof k=="string"||d(k))return k;var B=k+"";return B=="0"&&1/k==-1/0?"-0":B}h.exports=v}),Yi=c((i,h)=>{var d=Na(),v=Oa();function k(B,z){z=d(z,B);for(var q=0,J=z.length;B!=null&&q<J;)B=B[v(z[q++])];return q&&q==J?B:void 0}h.exports=k}),Xi=c((i,h)=>{var d=Yi();function v(k,B,z){var q=k==null?void 0:d(k,B);return q===void 0?z:q}h.exports=v}),An=c((i,h)=>{(function(d,v){typeof i=="object"&&typeof h<"u"?h.exports=v():(d=d||self).RBush=v()})(i,function(){function d(Oe,Ue,nt,yt,rt){(function ft(Y,ce,be,me,Le){for(;me>be;){if(me-be>600){var ke=me-be+1,Ze=ce-be+1,Ge=Math.log(ke),Xe=.5*Math.exp(2*Ge/3),pt=.5*Math.sqrt(Ge*Xe*(ke-Xe)/ke)*(Ze-ke/2<0?-1:1),ht=Math.max(be,Math.floor(ce-Ze*Xe/ke+pt)),Dt=Math.min(me,Math.floor(ce+(ke-Ze)*Xe/ke+pt));ft(Y,ce,ht,Dt,Le)}var Xt=Y[ce],nn=be,rn=me;for(v(Y,be,ce),Le(Y[me],Xt)>0&&v(Y,be,me);nn<rn;){for(v(Y,nn,rn),nn++,rn--;Le(Y[nn],Xt)<0;)nn++;for(;Le(Y[rn],Xt)>0;)rn--}Le(Y[be],Xt)===0?v(Y,be,rn):v(Y,++rn,me),rn<=ce&&(be=rn+1),ce<=rn&&(me=rn-1)}})(Oe,Ue,nt||0,yt||Oe.length-1,rt||k)}function v(Oe,Ue,nt){var yt=Oe[Ue];Oe[Ue]=Oe[nt],Oe[nt]=yt}function k(Oe,Ue){return Oe<Ue?-1:Oe>Ue?1:0}var B=function(Oe){Oe===void 0&&(Oe=9),this._maxEntries=Math.max(4,Oe),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function z(Oe,Ue,nt){if(!nt)return Ue.indexOf(Oe);for(var yt=0;yt<Ue.length;yt++)if(nt(Oe,Ue[yt]))return yt;return-1}function q(Oe,Ue){J(Oe,0,Oe.children.length,Ue,Oe)}function J(Oe,Ue,nt,yt,rt){rt||(rt=Zt(null)),rt.minX=1/0,rt.minY=1/0,rt.maxX=-1/0,rt.maxY=-1/0;for(var ft=Ue;ft<nt;ft++){var Y=Oe.children[ft];ee(rt,Oe.leaf?yt(Y):Y)}return rt}function ee(Oe,Ue){return Oe.minX=Math.min(Oe.minX,Ue.minX),Oe.minY=Math.min(Oe.minY,Ue.minY),Oe.maxX=Math.max(Oe.maxX,Ue.maxX),Oe.maxY=Math.max(Oe.maxY,Ue.maxY),Oe}function Re(Oe,Ue){return Oe.minX-Ue.minX}function Me(Oe,Ue){return Oe.minY-Ue.minY}function lt(Oe){return(Oe.maxX-Oe.minX)*(Oe.maxY-Oe.minY)}function gt(Oe){return Oe.maxX-Oe.minX+(Oe.maxY-Oe.minY)}function Et(Oe,Ue){return Oe.minX<=Ue.minX&&Oe.minY<=Ue.minY&&Ue.maxX<=Oe.maxX&&Ue.maxY<=Oe.maxY}function Wt(Oe,Ue){return Ue.minX<=Oe.maxX&&Ue.minY<=Oe.maxY&&Ue.maxX>=Oe.minX&&Ue.maxY>=Oe.minY}function Zt(Oe){return{children:Oe,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function mn(Oe,Ue,nt,yt,rt){for(var ft=[Ue,nt];ft.length;)if(!((nt=ft.pop())-(Ue=ft.pop())<=yt)){var Y=Ue+Math.ceil((nt-Ue)/yt/2)*yt;d(Oe,Y,Ue,nt,rt),ft.push(Ue,Y,Y,nt)}}return B.prototype.all=function(){return this._all(this.data,[])},B.prototype.search=function(Oe){var Ue=this.data,nt=[];if(!Wt(Oe,Ue))return nt;for(var yt=this.toBBox,rt=[];Ue;){for(var ft=0;ft<Ue.children.length;ft++){var Y=Ue.children[ft],ce=Ue.leaf?yt(Y):Y;Wt(Oe,ce)&&(Ue.leaf?nt.push(Y):Et(Oe,ce)?this._all(Y,nt):rt.push(Y))}Ue=rt.pop()}return nt},B.prototype.collides=function(Oe){var Ue=this.data;if(!Wt(Oe,Ue))return!1;for(var nt=[];Ue;){for(var yt=0;yt<Ue.children.length;yt++){var rt=Ue.children[yt],ft=Ue.leaf?this.toBBox(rt):rt;if(Wt(Oe,ft)){if(Ue.leaf||Et(Oe,ft))return!0;nt.push(rt)}}Ue=nt.pop()}return!1},B.prototype.load=function(Oe){if(!Oe||!Oe.length)return this;if(Oe.length<this._minEntries){for(var Ue=0;Ue<Oe.length;Ue++)this.insert(Oe[Ue]);return this}var nt=this._build(Oe.slice(),0,Oe.length-1,0);if(this.data.children.length)if(this.data.height===nt.height)this._splitRoot(this.data,nt);else{if(this.data.height<nt.height){var yt=this.data;this.data=nt,nt=yt}this._insert(nt,this.data.height-nt.height-1,!0)}else this.data=nt;return this},B.prototype.insert=function(Oe){return Oe&&this._insert(Oe,this.data.height-1),this},B.prototype.clear=function(){return this.data=Zt([]),this},B.prototype.remove=function(Oe,Ue){if(!Oe)return this;for(var nt,yt,rt,ft=this.data,Y=this.toBBox(Oe),ce=[],be=[];ft||ce.length;){if(ft||(ft=ce.pop(),yt=ce[ce.length-1],nt=be.pop(),rt=!0),ft.leaf){var me=z(Oe,ft.children,Ue);if(me!==-1)return ft.children.splice(me,1),ce.push(ft),this._condense(ce),this}rt||ft.leaf||!Et(ft,Y)?yt?(nt++,ft=yt.children[nt],rt=!1):ft=null:(ce.push(ft),be.push(nt),nt=0,yt=ft,ft=ft.children[0])}return this},B.prototype.toBBox=function(Oe){return Oe},B.prototype.compareMinX=function(Oe,Ue){return Oe.minX-Ue.minX},B.prototype.compareMinY=function(Oe,Ue){return Oe.minY-Ue.minY},B.prototype.toJSON=function(){return this.data},B.prototype.fromJSON=function(Oe){return this.data=Oe,this},B.prototype._all=function(Oe,Ue){for(var nt=[];Oe;)Oe.leaf?Ue.push.apply(Ue,Oe.children):nt.push.apply(nt,Oe.children),Oe=nt.pop();return Ue},B.prototype._build=function(Oe,Ue,nt,yt){var rt,ft=nt-Ue+1,Y=this._maxEntries;if(ft<=Y)return q(rt=Zt(Oe.slice(Ue,nt+1)),this.toBBox),rt;yt||(yt=Math.ceil(Math.log(ft)/Math.log(Y)),Y=Math.ceil(ft/Math.pow(Y,yt-1))),(rt=Zt([])).leaf=!1,rt.height=yt;var ce=Math.ceil(ft/Y),be=ce*Math.ceil(Math.sqrt(Y));mn(Oe,Ue,nt,be,this.compareMinX);for(var me=Ue;me<=nt;me+=be){var Le=Math.min(me+be-1,nt);mn(Oe,me,Le,ce,this.compareMinY);for(var ke=me;ke<=Le;ke+=ce){var Ze=Math.min(ke+ce-1,Le);rt.children.push(this._build(Oe,ke,Ze,yt-1))}}return q(rt,this.toBBox),rt},B.prototype._chooseSubtree=function(Oe,Ue,nt,yt){for(;yt.push(Ue),!Ue.leaf&&yt.length-1!==nt;){for(var rt=1/0,ft=1/0,Y=void 0,ce=0;ce<Ue.children.length;ce++){var be=Ue.children[ce],me=lt(be),Le=(ke=Oe,Ze=be,(Math.max(Ze.maxX,ke.maxX)-Math.min(Ze.minX,ke.minX))*(Math.max(Ze.maxY,ke.maxY)-Math.min(Ze.minY,ke.minY))-me);Le<ft?(ft=Le,rt=me<rt?me:rt,Y=be):Le===ft&&me<rt&&(rt=me,Y=be)}Ue=Y||Ue.children[0]}var ke,Ze;return Ue},B.prototype._insert=function(Oe,Ue,nt){var yt=nt?Oe:this.toBBox(Oe),rt=[],ft=this._chooseSubtree(yt,this.data,Ue,rt);for(ft.children.push(Oe),ee(ft,yt);Ue>=0&&rt[Ue].children.length>this._maxEntries;)this._split(rt,Ue),Ue--;this._adjustParentBBoxes(yt,rt,Ue)},B.prototype._split=function(Oe,Ue){var nt=Oe[Ue],yt=nt.children.length,rt=this._minEntries;this._chooseSplitAxis(nt,rt,yt);var ft=this._chooseSplitIndex(nt,rt,yt),Y=Zt(nt.children.splice(ft,nt.children.length-ft));Y.height=nt.height,Y.leaf=nt.leaf,q(nt,this.toBBox),q(Y,this.toBBox),Ue?Oe[Ue-1].children.push(Y):this._splitRoot(nt,Y)},B.prototype._splitRoot=function(Oe,Ue){this.data=Zt([Oe,Ue]),this.data.height=Oe.height+1,this.data.leaf=!1,q(this.data,this.toBBox)},B.prototype._chooseSplitIndex=function(Oe,Ue,nt){for(var yt,rt,ft,Y,ce,be,me,Le=1/0,ke=1/0,Ze=Ue;Ze<=nt-Ue;Ze++){var Ge=J(Oe,0,Ze,this.toBBox),Xe=J(Oe,Ze,nt,this.toBBox),pt=(rt=Ge,ft=Xe,Y=void 0,ce=void 0,be=void 0,me=void 0,Y=Math.max(rt.minX,ft.minX),ce=Math.max(rt.minY,ft.minY),be=Math.min(rt.maxX,ft.maxX),me=Math.min(rt.maxY,ft.maxY),Math.max(0,be-Y)*Math.max(0,me-ce)),ht=lt(Ge)+lt(Xe);pt<Le?(Le=pt,yt=Ze,ke=ht<ke?ht:ke):pt===Le&&ht<ke&&(ke=ht,yt=Ze)}return yt||nt-Ue},B.prototype._chooseSplitAxis=function(Oe,Ue,nt){var yt=Oe.leaf?this.compareMinX:Re,rt=Oe.leaf?this.compareMinY:Me;this._allDistMargin(Oe,Ue,nt,yt)<this._allDistMargin(Oe,Ue,nt,rt)&&Oe.children.sort(yt)},B.prototype._allDistMargin=function(Oe,Ue,nt,yt){Oe.children.sort(yt);for(var rt=this.toBBox,ft=J(Oe,0,Ue,rt),Y=J(Oe,nt-Ue,nt,rt),ce=gt(ft)+gt(Y),be=Ue;be<nt-Ue;be++){var me=Oe.children[be];ee(ft,Oe.leaf?rt(me):me),ce+=gt(ft)}for(var Le=nt-Ue-1;Le>=Ue;Le--){var ke=Oe.children[Le];ee(Y,Oe.leaf?rt(ke):ke),ce+=gt(Y)}return ce},B.prototype._adjustParentBBoxes=function(Oe,Ue,nt){for(var yt=nt;yt>=0;yt--)ee(Ue[yt],Oe)},B.prototype._condense=function(Oe){for(var Ue=Oe.length-1,nt=void 0;Ue>=0;Ue--)Oe[Ue].children.length===0?Ue>0?(nt=Oe[Ue-1].children).splice(nt.indexOf(Oe[Ue]),1):this.clear():q(Oe[Ue],this.toBBox)},B})}),Mn=c(i=>{Object.defineProperty(i,"__esModule",{value:!0}),i.earthRadius=63710088e-1,i.factors={centimeters:i.earthRadius*100,centimetres:i.earthRadius*100,degrees:i.earthRadius/111325,feet:i.earthRadius*3.28084,inches:i.earthRadius*39.37,kilometers:i.earthRadius/1e3,kilometres:i.earthRadius/1e3,meters:i.earthRadius,metres:i.earthRadius,miles:i.earthRadius/1609.344,millimeters:i.earthRadius*1e3,millimetres:i.earthRadius*1e3,nauticalmiles:i.earthRadius/1852,radians:1,yards:i.earthRadius*1.0936},i.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/i.earthRadius,yards:1.0936133},i.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function h(me,Le,ke){ke===void 0&&(ke={});var Ze={type:"Feature"};return(ke.id===0||ke.id)&&(Ze.id=ke.id),ke.bbox&&(Ze.bbox=ke.bbox),Ze.properties=Le||{},Ze.geometry=me,Ze}i.feature=h;function d(me,Le,ke){switch(me){case"Point":return v(Le).geometry;case"LineString":return q(Le).geometry;case"Polygon":return B(Le).geometry;case"MultiPoint":return Me(Le).geometry;case"MultiLineString":return Re(Le).geometry;case"MultiPolygon":return lt(Le).geometry;default:throw new Error(me+" is invalid")}}i.geometry=d;function v(me,Le,ke){if(ke===void 0&&(ke={}),!me)throw new Error("coordinates is required");if(!Array.isArray(me))throw new Error("coordinates must be an Array");if(me.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!ft(me[0])||!ft(me[1]))throw new Error("coordinates must contain numbers");var Ze={type:"Point",coordinates:me};return h(Ze,Le,ke)}i.point=v;function k(me,Le,ke){return ke===void 0&&(ke={}),ee(me.map(function(Ze){return v(Ze,Le)}),ke)}i.points=k;function B(me,Le,ke){ke===void 0&&(ke={});for(var Ze=0,Ge=me;Ze<Ge.length;Ze++){var Xe=Ge[Ze];if(Xe.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var pt=0;pt<Xe[Xe.length-1].length;pt++)if(Xe[Xe.length-1][pt]!==Xe[0][pt])throw new Error("First and last Position are not equivalent.")}var ht={type:"Polygon",coordinates:me};return h(ht,Le,ke)}i.polygon=B;function z(me,Le,ke){return ke===void 0&&(ke={}),ee(me.map(function(Ze){return B(Ze,Le)}),ke)}i.polygons=z;function q(me,Le,ke){if(ke===void 0&&(ke={}),me.length<2)throw new Error("coordinates must be an array of two or more positions");var Ze={type:"LineString",coordinates:me};return h(Ze,Le,ke)}i.lineString=q;function J(me,Le,ke){return ke===void 0&&(ke={}),ee(me.map(function(Ze){return q(Ze,Le)}),ke)}i.lineStrings=J;function ee(me,Le){Le===void 0&&(Le={});var ke={type:"FeatureCollection"};return Le.id&&(ke.id=Le.id),Le.bbox&&(ke.bbox=Le.bbox),ke.features=me,ke}i.featureCollection=ee;function Re(me,Le,ke){ke===void 0&&(ke={});var Ze={type:"MultiLineString",coordinates:me};return h(Ze,Le,ke)}i.multiLineString=Re;function Me(me,Le,ke){ke===void 0&&(ke={});var Ze={type:"MultiPoint",coordinates:me};return h(Ze,Le,ke)}i.multiPoint=Me;function lt(me,Le,ke){ke===void 0&&(ke={});var Ze={type:"MultiPolygon",coordinates:me};return h(Ze,Le,ke)}i.multiPolygon=lt;function gt(me,Le,ke){ke===void 0&&(ke={});var Ze={type:"GeometryCollection",geometries:me};return h(Ze,Le,ke)}i.geometryCollection=gt;function Et(me,Le){if(Le===void 0&&(Le=0),Le&&!(Le>=0))throw new Error("precision must be a positive number");var ke=Math.pow(10,Le||0);return Math.round(me*ke)/ke}i.round=Et;function Wt(me,Le){Le===void 0&&(Le="kilometers");var ke=i.factors[Le];if(!ke)throw new Error(Le+" units is invalid");return me*ke}i.radiansToLength=Wt;function Zt(me,Le){Le===void 0&&(Le="kilometers");var ke=i.factors[Le];if(!ke)throw new Error(Le+" units is invalid");return me/ke}i.lengthToRadians=Zt;function mn(me,Le){return Ue(Zt(me,Le))}i.lengthToDegrees=mn;function Oe(me){var Le=me%360;return Le<0&&(Le+=360),Le}i.bearingToAzimuth=Oe;function Ue(me){var Le=me%(2*Math.PI);return Le*180/Math.PI}i.radiansToDegrees=Ue;function nt(me){var Le=me%360;return Le*Math.PI/180}i.degreesToRadians=nt;function yt(me,Le,ke){if(Le===void 0&&(Le="kilometers"),ke===void 0&&(ke="kilometers"),!(me>=0))throw new Error("length must be a positive number");return Wt(Zt(me,Le),ke)}i.convertLength=yt;function rt(me,Le,ke){if(Le===void 0&&(Le="meters"),ke===void 0&&(ke="kilometers"),!(me>=0))throw new Error("area must be a positive number");var Ze=i.areaFactors[Le];if(!Ze)throw new Error("invalid original units");var Ge=i.areaFactors[ke];if(!Ge)throw new Error("invalid final units");return me/Ze*Ge}i.convertArea=rt;function ft(me){return!isNaN(me)&&me!==null&&!Array.isArray(me)}i.isNumber=ft;function Y(me){return!!me&&me.constructor===Object}i.isObject=Y;function ce(me){if(!me)throw new Error("bbox is required");if(!Array.isArray(me))throw new Error("bbox must be an Array");if(me.length!==4&&me.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");me.forEach(function(Le){if(!ft(Le))throw new Error("bbox must only contain numbers")})}i.validateBBox=ce;function be(me){if(!me)throw new Error("id is required");if(["string","number"].indexOf(typeof me)===-1)throw new Error("id must be a number or a string")}i.validateId=be}),Da=c(i=>{Object.defineProperty(i,"__esModule",{value:!0});var h=Mn();function d(Ue,nt,yt){if(Ue!==null)for(var rt,ft,Y,ce,be,me,Le,ke=0,Ze=0,Ge,Xe=Ue.type,pt=Xe==="FeatureCollection",ht=Xe==="Feature",Dt=pt?Ue.features.length:1,Xt=0;Xt<Dt;Xt++){Le=pt?Ue.features[Xt].geometry:ht?Ue.geometry:Ue,Ge=Le?Le.type==="GeometryCollection":!1,be=Ge?Le.geometries.length:1;for(var nn=0;nn<be;nn++){var rn=0,Kn=0;if(ce=Ge?Le.geometries[nn]:Le,ce!==null){me=ce.coordinates;var Jn=ce.type;switch(ke=yt&&(Jn==="Polygon"||Jn==="MultiPolygon")?1:0,Jn){case null:break;case"Point":if(nt(me,Ze,Xt,rn,Kn)===!1)return!1;Ze++,rn++;break;case"LineString":case"MultiPoint":for(rt=0;rt<me.length;rt++){if(nt(me[rt],Ze,Xt,rn,Kn)===!1)return!1;Ze++,Jn==="MultiPoint"&&rn++}Jn==="LineString"&&rn++;break;case"Polygon":case"MultiLineString":for(rt=0;rt<me.length;rt++){for(ft=0;ft<me[rt].length-ke;ft++){if(nt(me[rt][ft],Ze,Xt,rn,Kn)===!1)return!1;Ze++}Jn==="MultiLineString"&&rn++,Jn==="Polygon"&&Kn++}Jn==="Polygon"&&rn++;break;case"MultiPolygon":for(rt=0;rt<me.length;rt++){for(Kn=0,ft=0;ft<me[rt].length;ft++){for(Y=0;Y<me[rt][ft].length-ke;Y++){if(nt(me[rt][ft][Y],Ze,Xt,rn,Kn)===!1)return!1;Ze++}Kn++}rn++}break;case"GeometryCollection":for(rt=0;rt<ce.geometries.length;rt++)if(d(ce.geometries[rt],nt,yt)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function v(Ue,nt,yt,rt){var ft=yt;return d(Ue,function(Y,ce,be,me,Le){ce===0&&yt===void 0?ft=Y:ft=nt(ft,Y,ce,be,me,Le)},rt),ft}function k(Ue,nt){var yt;switch(Ue.type){case"FeatureCollection":for(yt=0;yt<Ue.features.length&&nt(Ue.features[yt].properties,yt)!==!1;yt++);break;case"Feature":nt(Ue.properties,0);break}}function B(Ue,nt,yt){var rt=yt;return k(Ue,function(ft,Y){Y===0&&yt===void 0?rt=ft:rt=nt(rt,ft,Y)}),rt}function z(Ue,nt){if(Ue.type==="Feature")nt(Ue,0);else if(Ue.type==="FeatureCollection")for(var yt=0;yt<Ue.features.length&&nt(Ue.features[yt],yt)!==!1;yt++);}function q(Ue,nt,yt){var rt=yt;return z(Ue,function(ft,Y){Y===0&&yt===void 0?rt=ft:rt=nt(rt,ft,Y)}),rt}function J(Ue){var nt=[];return d(Ue,function(yt){nt.push(yt)}),nt}function ee(Ue,nt){var yt,rt,ft,Y,ce,be,me,Le,ke,Ze,Ge=0,Xe=Ue.type==="FeatureCollection",pt=Ue.type==="Feature",ht=Xe?Ue.features.length:1;for(yt=0;yt<ht;yt++){for(be=Xe?Ue.features[yt].geometry:pt?Ue.geometry:Ue,Le=Xe?Ue.features[yt].properties:pt?Ue.properties:{},ke=Xe?Ue.features[yt].bbox:pt?Ue.bbox:void 0,Ze=Xe?Ue.features[yt].id:pt?Ue.id:void 0,me=be?be.type==="GeometryCollection":!1,ce=me?be.geometries.length:1,ft=0;ft<ce;ft++){if(Y=me?be.geometries[ft]:be,Y===null){if(nt(null,Ge,Le,ke,Ze)===!1)return!1;continue}switch(Y.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(nt(Y,Ge,Le,ke,Ze)===!1)return!1;break}case"GeometryCollection":{for(rt=0;rt<Y.geometries.length;rt++)if(nt(Y.geometries[rt],Ge,Le,ke,Ze)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}Ge++}}function Re(Ue,nt,yt){var rt=yt;return ee(Ue,function(ft,Y,ce,be,me){Y===0&&yt===void 0?rt=ft:rt=nt(rt,ft,Y,ce,be,me)}),rt}function Me(Ue,nt){ee(Ue,function(yt,rt,ft,Y,ce){var be=yt===null?null:yt.type;switch(be){case null:case"Point":case"LineString":case"Polygon":return nt(h.feature(yt,ft,{bbox:Y,id:ce}),rt,0)===!1?!1:void 0}var me;switch(be){case"MultiPoint":me="Point";break;case"MultiLineString":me="LineString";break;case"MultiPolygon":me="Polygon";break}for(var Le=0;Le<yt.coordinates.length;Le++){var ke=yt.coordinates[Le],Ze={type:me,coordinates:ke};if(nt(h.feature(Ze,ft),rt,Le)===!1)return!1}})}function lt(Ue,nt,yt){var rt=yt;return Me(Ue,function(ft,Y,ce){Y===0&&ce===0&&yt===void 0?rt=ft:rt=nt(rt,ft,Y,ce)}),rt}function gt(Ue,nt){Me(Ue,function(yt,rt,ft){var Y=0;if(yt.geometry){var ce=yt.geometry.type;if(!(ce==="Point"||ce==="MultiPoint")){var be,me=0,Le=0,ke=0;if(d(yt,function(Ze,Ge,Xe,pt,ht){if(be===void 0||rt>me||pt>Le||ht>ke){be=Ze,me=rt,Le=pt,ke=ht,Y=0;return}var Dt=h.lineString([be,Ze],yt.properties);if(nt(Dt,rt,ft,ht,Y)===!1)return!1;Y++,be=Ze})===!1)return!1}}})}function Et(Ue,nt,yt){var rt=yt,ft=!1;return gt(Ue,function(Y,ce,be,me,Le){ft===!1&&yt===void 0?rt=Y:rt=nt(rt,Y,ce,be,me,Le),ft=!0}),rt}function Wt(Ue,nt){if(!Ue)throw new Error("geojson is required");Me(Ue,function(yt,rt,ft){if(yt.geometry!==null){var Y=yt.geometry.type,ce=yt.geometry.coordinates;switch(Y){case"LineString":if(nt(yt,rt,ft,0,0)===!1)return!1;break;case"Polygon":for(var be=0;be<ce.length;be++)if(nt(h.lineString(ce[be],yt.properties),rt,ft,be)===!1)return!1;break}}})}function Zt(Ue,nt,yt){var rt=yt;return Wt(Ue,function(ft,Y,ce,be){Y===0&&yt===void 0?rt=ft:rt=nt(rt,ft,Y,ce,be)}),rt}function mn(Ue,nt){if(nt=nt||{},!h.isObject(nt))throw new Error("options is invalid");var yt=nt.featureIndex||0,rt=nt.multiFeatureIndex||0,ft=nt.geometryIndex||0,Y=nt.segmentIndex||0,ce=nt.properties,be;switch(Ue.type){case"FeatureCollection":yt<0&&(yt=Ue.features.length+yt),ce=ce||Ue.features[yt].properties,be=Ue.features[yt].geometry;break;case"Feature":ce=ce||Ue.properties,be=Ue.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":be=Ue;break;default:throw new Error("geojson is invalid")}if(be===null)return null;var me=be.coordinates;switch(be.type){case"Point":case"MultiPoint":return null;case"LineString":return Y<0&&(Y=me.length+Y-1),h.lineString([me[Y],me[Y+1]],ce,nt);case"Polygon":return ft<0&&(ft=me.length+ft),Y<0&&(Y=me[ft].length+Y-1),h.lineString([me[ft][Y],me[ft][Y+1]],ce,nt);case"MultiLineString":return rt<0&&(rt=me.length+rt),Y<0&&(Y=me[rt].length+Y-1),h.lineString([me[rt][Y],me[rt][Y+1]],ce,nt);case"MultiPolygon":return rt<0&&(rt=me.length+rt),ft<0&&(ft=me[rt].length+ft),Y<0&&(Y=me[rt][ft].length-Y-1),h.lineString([me[rt][ft][Y],me[rt][ft][Y+1]],ce,nt)}throw new Error("geojson is invalid")}function Oe(Ue,nt){if(nt=nt||{},!h.isObject(nt))throw new Error("options is invalid");var yt=nt.featureIndex||0,rt=nt.multiFeatureIndex||0,ft=nt.geometryIndex||0,Y=nt.coordIndex||0,ce=nt.properties,be;switch(Ue.type){case"FeatureCollection":yt<0&&(yt=Ue.features.length+yt),ce=ce||Ue.features[yt].properties,be=Ue.features[yt].geometry;break;case"Feature":ce=ce||Ue.properties,be=Ue.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":be=Ue;break;default:throw new Error("geojson is invalid")}if(be===null)return null;var me=be.coordinates;switch(be.type){case"Point":return h.point(me,ce,nt);case"MultiPoint":return rt<0&&(rt=me.length+rt),h.point(me[rt],ce,nt);case"LineString":return Y<0&&(Y=me.length+Y),h.point(me[Y],ce,nt);case"Polygon":return ft<0&&(ft=me.length+ft),Y<0&&(Y=me[ft].length+Y),h.point(me[ft][Y],ce,nt);case"MultiLineString":return rt<0&&(rt=me.length+rt),Y<0&&(Y=me[rt].length+Y),h.point(me[rt][Y],ce,nt);case"MultiPolygon":return rt<0&&(rt=me.length+rt),ft<0&&(ft=me[rt].length+ft),Y<0&&(Y=me[rt][ft].length-Y),h.point(me[rt][ft][Y],ce,nt)}throw new Error("geojson is invalid")}i.coordAll=J,i.coordEach=d,i.coordReduce=v,i.featureEach=z,i.featureReduce=q,i.findPoint=Oe,i.findSegment=mn,i.flattenEach=Me,i.flattenReduce=lt,i.geomEach=ee,i.geomReduce=Re,i.lineEach=Wt,i.lineReduce=Zt,i.propEach=k,i.propReduce=B,i.segmentEach=gt,i.segmentReduce=Et}),_a=c(i=>{Object.defineProperty(i,"__esModule",{value:!0});var h=Da();function d(v){var k=[1/0,1/0,-1/0,-1/0];return h.coordEach(v,function(B){k[0]>B[0]&&(k[0]=B[0]),k[1]>B[1]&&(k[1]=B[1]),k[2]<B[0]&&(k[2]=B[0]),k[3]<B[1]&&(k[3]=B[1])}),k}d.default=d,i.default=d}),Qi=c((i,h)=>{var d=An(),v=Mn(),k=Da(),B=_a().default,z=k.featureEach;k.coordEach,v.polygon;var q=v.featureCollection;function J(ee){var Re=new d(ee);return Re.insert=function(Me){if(Me.type!=="Feature")throw new Error("invalid feature");return Me.bbox=Me.bbox?Me.bbox:B(Me),d.prototype.insert.call(this,Me)},Re.load=function(Me){var lt=[];return Array.isArray(Me)?Me.forEach(function(gt){if(gt.type!=="Feature")throw new Error("invalid features");gt.bbox=gt.bbox?gt.bbox:B(gt),lt.push(gt)}):z(Me,function(gt){if(gt.type!=="Feature")throw new Error("invalid features");gt.bbox=gt.bbox?gt.bbox:B(gt),lt.push(gt)}),d.prototype.load.call(this,lt)},Re.remove=function(Me,lt){if(Me.type!=="Feature")throw new Error("invalid feature");return Me.bbox=Me.bbox?Me.bbox:B(Me),d.prototype.remove.call(this,Me,lt)},Re.clear=function(){return d.prototype.clear.call(this)},Re.search=function(Me){var lt=d.prototype.search.call(this,this.toBBox(Me));return q(lt)},Re.collides=function(Me){return d.prototype.collides.call(this,this.toBBox(Me))},Re.all=function(){var Me=d.prototype.all.call(this);return q(Me)},Re.toJSON=function(){return d.prototype.toJSON.call(this)},Re.fromJSON=function(Me){return d.prototype.fromJSON.call(this,Me)},Re.toBBox=function(Me){var lt;if(Me.bbox)lt=Me.bbox;else if(Array.isArray(Me)&&Me.length===4)lt=Me;else if(Array.isArray(Me)&&Me.length===6)lt=[Me[0],Me[1],Me[3],Me[4]];else if(Me.type==="Feature")lt=B(Me);else if(Me.type==="FeatureCollection")lt=B(Me);else throw new Error("invalid geojson");return{minX:lt[0],minY:lt[1],maxX:lt[2],maxY:lt[3]}},Re}h.exports=J,h.exports.default=J});Array.prototype.findIndex=Array.prototype.findIndex||function(i){if(this===null)throw new TypeError("Array.prototype.findIndex called on null or undefined");if(typeof i!="function")throw new TypeError("callback must be a function");for(var h=Object(this),d=h.length>>>0,v=arguments[1],k=0;k<d;k++)if(i.call(v,h[k],k,h))return k;return-1},Array.prototype.find=Array.prototype.find||function(i){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof i!="function")throw new TypeError("callback must be a function");for(var h=Object(this),d=h.length>>>0,v=arguments[1],k=0;k<d;k++){var B=h[k];if(i.call(v,B,k,h))return B}},typeof Object.assign!="function"&&(Object.assign=function(i){if(i==null)throw new TypeError("Cannot convert undefined or null to object");i=Object(i);for(var h=1;h<arguments.length;h++){var d=arguments[h];if(d!=null)for(var v in d)Object.prototype.hasOwnProperty.call(d,v)&&(i[v]=d[v])}return i}),(function(i){i.forEach(function(h){h.hasOwnProperty("remove")||Object.defineProperty(h,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})})([Element.prototype,CharacterData.prototype,DocumentType.prototype]),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(i,h){if(this==null)throw new TypeError('"this" is null or not defined');var d=Object(this),v=d.length>>>0;if(v===0)return!1;var k=h|0,B=Math.max(k>=0?k:v-Math.abs(k),0);function z(q,J){return q===J||typeof q=="number"&&typeof J=="number"&&isNaN(q)&&isNaN(J)}for(;B<v;){if(z(d[B],i))return!0;B++}return!1}});var Hs={version:"2.18.3"},Ln=g(Gs()),Vn={tooltips:{placeMarker:"Click to place marker",firstVertex:"Click to place first vertex",continueLine:"Click to continue drawing",finishLine:"Click any existing marker to finish",finishPoly:"Click first marker to finish",finishRect:"Click to finish",startCircle:"Click to place circle center",finishCircle:"Click to finish circle",placeCircleMarker:"Click to place circle marker",placeText:"Click to place text",selectFirstLayerFor:"Select first layer for {action}",selectSecondLayerFor:"Select second layer for {action}"},actions:{finish:"Finish",cancel:"Cancel",removeLastVertex:"Remove Last Vertex"},buttonTitles:{drawMarkerButton:"Draw Marker",drawPolyButton:"Draw Polygons",drawLineButton:"Draw Polyline",drawCircleButton:"Draw Circle",drawRectButton:"Draw Rectangle",editButton:"Edit Layers",dragButton:"Drag Layers",cutButton:"Cut Layers",deleteButton:"Remove Layers",drawCircleMarkerButton:"Draw Circle Marker",snappingButton:"Snap dragged marker to other layers and vertices",pinningButton:"Pin shared vertices together",rotateButton:"Rotate Layers",drawTextButton:"Draw Text",scaleButton:"Scale Layers",autoTracingButton:"Auto trace Line",snapGuidesButton:"Show SnapGuides",unionButton:"Union layers",differenceButton:"Subtract layers"},measurements:{totalLength:"Length",segmentLength:"Segment length",area:"Area",radius:"Radius",perimeter:"Perimeter",height:"Height",width:"Width",coordinates:"Position",coordinatesMarker:"Position Marker"}},Ia={tooltips:{placeMarker:"Platziere den Marker mit Klick",firstVertex:"Platziere den ersten Marker mit Klick",continueLine:"Klicke, um weiter zu zeichnen",finishLine:"Beende mit Klick auf existierenden Marker",finishPoly:"Beende mit Klick auf ersten Marker",finishRect:"Beende mit Klick",startCircle:"Platziere das Kreiszentrum mit Klick",finishCircle:"Beende den Kreis mit Klick",placeCircleMarker:"Platziere den Kreismarker mit Klick",placeText:"Platziere den Text mit Klick"},actions:{finish:"Beenden",cancel:"Abbrechen",removeLastVertex:"Letzten Vertex lschen"},buttonTitles:{drawMarkerButton:"Marker zeichnen",drawPolyButton:"Polygon zeichnen",drawLineButton:"Polyline zeichnen",drawCircleButton:"Kreis zeichnen",drawRectButton:"Rechteck zeichnen",editButton:"Layer editieren",dragButton:"Layer bewegen",cutButton:"Layer schneiden",deleteButton:"Layer lschen",drawCircleMarkerButton:"Kreismarker zeichnen",snappingButton:"Bewegter Layer an andere Layer oder Vertexe einhacken",pinningButton:"Vertexe an der gleichen Position verknpfen",rotateButton:"Layer drehen",drawTextButton:"Text zeichnen",scaleButton:"Layer skalieren",autoTracingButton:"Linie automatisch nachzeichen"},measurements:{totalLength:"Lnge",segmentLength:"Segment Lnge",area:"Flche",radius:"Radius",perimeter:"Umfang",height:"Hhe",width:"Breite",coordinates:"Position",coordinatesMarker:"Position Marker"}},si={tooltips:{placeMarker:"Clicca per posizionare un Marker",firstVertex:"Clicca per posizionare il primo vertice",continueLine:"Clicca per continuare a disegnare",finishLine:"Clicca qualsiasi marker esistente per terminare",finishPoly:"Clicca il primo marker per terminare",finishRect:"Clicca per terminare",startCircle:"Clicca per posizionare il punto centrale del cerchio",finishCircle:"Clicca per terminare il cerchio",placeCircleMarker:"Clicca per posizionare un Marker del cherchio"},actions:{finish:"Termina",cancel:"Annulla",removeLastVertex:"Rimuovi l'ultimo vertice"},buttonTitles:{drawMarkerButton:"Disegna Marker",drawPolyButton:"Disegna Poligoni",drawLineButton:"Disegna Polilinea",drawCircleButton:"Disegna Cerchio",drawRectButton:"Disegna Rettangolo",editButton:"Modifica Livelli",dragButton:"Sposta Livelli",cutButton:"Ritaglia Livelli",deleteButton:"Elimina Livelli",drawCircleMarkerButton:"Disegna Marker del Cerchio",snappingButton:"Snap ha trascinato il pennarello su altri strati e vertici",pinningButton:"Pin condiviso vertici insieme",rotateButton:"Ruota livello"}},Jr={tooltips:{placeMarker:"Klik untuk menempatkan marker",firstVertex:"Klik untuk menempatkan vertex pertama",continueLine:"Klik untuk meneruskan digitasi",finishLine:"Klik pada sembarang marker yang ada untuk mengakhiri",finishPoly:"Klik marker pertama untuk mengakhiri",finishRect:"Klik untuk mengakhiri",startCircle:"Klik untuk menempatkan titik pusat lingkaran",finishCircle:"Klik untuk mengakhiri lingkaran",placeCircleMarker:"Klik untuk menempatkan penanda lingkarann"},actions:{finish:"Selesai",cancel:"Batal",removeLastVertex:"Hilangkan Vertex Terakhir"},buttonTitles:{drawMarkerButton:"Digitasi Marker",drawPolyButton:"Digitasi Polygon",drawLineButton:"Digitasi Polyline",drawCircleButton:"Digitasi Lingkaran",drawRectButton:"Digitasi Segi Empat",editButton:"Edit Layer",dragButton:"Geser Layer",cutButton:"Potong Layer",deleteButton:"Hilangkan Layer",drawCircleMarkerButton:"Digitasi Penanda Lingkaran",snappingButton:"Jepretkan penanda yang ditarik ke lapisan dan simpul lain",pinningButton:"Sematkan simpul bersama bersama",rotateButton:"Putar lapisan"}},Ro={tooltips:{placeMarker:"Adaug un punct",firstVertex:"Apas aici pentru a aduga primul Vertex",continueLine:"Apas aici pentru a continua desenul",finishLine:"Apas pe orice obiect pentru a finisa desenul",finishPoly:"Apas pe primul obiect pentru a finisa",finishRect:"Apas pentru a finisa",startCircle:"Apas pentru a desena un cerc",finishCircle:"Apas pentru a finisa un cerc",placeCircleMarker:"Adaug un punct"},actions:{finish:"Termin",cancel:"Anuleaz",removeLastVertex:"terge ultimul Vertex"},buttonTitles:{drawMarkerButton:"Adaug o bulin",drawPolyButton:"Deseneaz un poligon",drawLineButton:"Deseneaz o linie",drawCircleButton:"Deseneaz un cerc",drawRectButton:"Deseneaz un dreptunghi",editButton:"Editeaz straturile",dragButton:"Mut straturile",cutButton:"Taie straturile",deleteButton:"terge straturile",drawCircleMarkerButton:"Deseneaz marcatorul cercului",snappingButton:"Fixai marcatorul glisat pe alte straturi i vrfuri",pinningButton:"Fixai vrfurile partajate mpreun",rotateButton:"Rotii stratul"}},Ra={tooltips:{placeMarker:",   ",firstVertex:",    ",continueLine:",   ",finishLine:"     ",finishPoly:"  ,  ",finishRect:",  ",startCircle:",    ",finishCircle:",   ",placeCircleMarker:",    "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"   ",rotateButton:" "}},ji={tooltips:{placeMarker:"Presiona para colocar un marcador",firstVertex:"Presiona para colocar el primer vrtice",continueLine:"Presiona para continuar dibujando",finishLine:"Presiona cualquier marcador existente para finalizar",finishPoly:"Presiona el primer marcador para finalizar",finishRect:"Presiona para finalizar",startCircle:"Presiona para colocar el centro del crculo",finishCircle:"Presiona para finalizar el crculo",placeCircleMarker:"Presiona para colocar un marcador de crculo"},actions:{finish:"Finalizar",cancel:"Cancelar",removeLastVertex:"Eliminar ltimo vrtice"},buttonTitles:{drawMarkerButton:"Dibujar Marcador",drawPolyButton:"Dibujar Polgono",drawLineButton:"Dibujar Lnea",drawCircleButton:"Dibujar Crculo",drawRectButton:"Dibujar Rectngulo",editButton:"Editar Capas",dragButton:"Arrastrar Capas",cutButton:"Cortar Capas",deleteButton:"Eliminar Capas",drawCircleMarkerButton:"Dibujar Marcador de Crculo",snappingButton:"El marcador de Snap arrastrado a otras capas y vrtices",pinningButton:"Fijar juntos los vrtices compartidos",rotateButton:"Rotar capa"}},kr={tooltips:{placeMarker:"Klik om een marker te plaatsen",firstVertex:"Klik om het eerste punt te plaatsen",continueLine:"Klik om te blijven tekenen",finishLine:"Klik op een bestaand punt om te beindigen",finishPoly:"Klik op het eerst punt om te beindigen",finishRect:"Klik om te beindigen",startCircle:"Klik om het middelpunt te plaatsen",finishCircle:"Klik om de cirkel te beindigen",placeCircleMarker:"Klik om een marker te plaatsen"},actions:{finish:"Bewaar",cancel:"Annuleer",removeLastVertex:"Verwijder laatste punt"},buttonTitles:{drawMarkerButton:"Plaats Marker",drawPolyButton:"Teken een vlak",drawLineButton:"Teken een lijn",drawCircleButton:"Teken een cirkel",drawRectButton:"Teken een vierkant",editButton:"Bewerk",dragButton:"Verplaats",cutButton:"Knip",deleteButton:"Verwijder",drawCircleMarkerButton:"Plaats Marker",snappingButton:"Snap gesleepte marker naar andere lagen en hoekpunten",pinningButton:"Speld gedeelde hoekpunten samen",rotateButton:"Laag roteren"}},ds={tooltips:{placeMarker:"Cliquez pour placer un marqueur",firstVertex:"Cliquez pour placer le premier sommet",continueLine:"Cliquez pour continuer  dessiner",finishLine:"Cliquez sur n'importe quel marqueur pour terminer",finishPoly:"Cliquez sur le premier marqueur pour terminer",finishRect:"Cliquez pour terminer",startCircle:"Cliquez pour placer le centre du cercle",finishCircle:"Cliquez pour finir le cercle",placeCircleMarker:"Cliquez pour placer le marqueur circulaire"},actions:{finish:"Terminer",cancel:"Annuler",removeLastVertex:"Retirer le dernier sommet"},buttonTitles:{drawMarkerButton:"Placer des marqueurs",drawPolyButton:"Dessiner des polygones",drawLineButton:"Dessiner des polylignes",drawCircleButton:"Dessiner un cercle",drawRectButton:"Dessiner un rectangle",editButton:"diter des calques",dragButton:"Dplacer des calques",cutButton:"Couper des calques",deleteButton:"Supprimer des calques",drawCircleMarkerButton:"Dessiner un marqueur circulaire",snappingButton:"Glisser le marqueur vers d'autres couches et sommets",pinningButton:"pingler ensemble les sommets partags",rotateButton:"Tourner des calques"}},Gn={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:""}},Ws={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:""}},vo={tooltips:{placeMarker:"Clique para posicionar o marcador",firstVertex:"Clique para posicionar o primeiro vrtice",continueLine:"Clique para continuar desenhando",finishLine:"Clique em qualquer marcador existente para finalizar",finishPoly:"Clique no primeiro marcador para finalizar",finishRect:"Clique para finalizar",startCircle:"Clique para posicionar o centro do crculo",finishCircle:"Clique para finalizar o crculo",placeCircleMarker:"Clique para posicionar o marcador circular",placeText:"Clique para inserir texto"},actions:{finish:"Finalizar",cancel:"Cancelar",removeLastVertex:"Remover ltimo vrtice"},buttonTitles:{drawMarkerButton:"Desenhar Marcador",drawPolyButton:"Desenhar Polgonos",drawLineButton:"Desenhar Linha Poligonal",drawCircleButton:"Desenhar Crculo",drawRectButton:"Desenhar Retngulo",editButton:"Editar Camadas",dragButton:"Arrastar Camadas",cutButton:"Recortar Camadas",deleteButton:"Remover Camadas",drawCircleMarkerButton:"Desenhar Marcador de Crculo",snappingButton:"Ajustar marcador arrastado a outras camadas e vrtices",pinningButton:"Unir vrtices compartilhados",rotateButton:"Rotacionar Camadas",drawTextButton:"Desenhar Texto",scaleButton:"Redimensionar Camadas",autoTracingButton:"Traado Automtico de Linha"},measurements:{totalLength:"Comprimento",segmentLength:"Comprimento do Segmento",area:"rea",radius:"Raio",perimeter:"Permetro",height:"Altura",width:"Largura",coordinates:"Posio",coordinatesMarker:"Marcador de Posio"}},Vs={tooltips:{placeMarker:"Clique para colocar marcador",firstVertex:"Clique para colocar primeiro vrtice",continueLine:"Clique para continuar a desenhar",finishLine:"Clique num marcador existente para terminar",finishPoly:"Clique no primeiro marcador para terminar",finishRect:"Clique para terminar",startCircle:"Clique para colocar o centro do crculo",finishCircle:"Clique para terminar o crculo",placeCircleMarker:"Clique para colocar marcador de crculo",placeText:"Clique para colocar texto"},actions:{finish:"Terminar",cancel:"Cancelar",removeLastVertex:"Remover ltimo Vrtice"},buttonTitles:{drawMarkerButton:"Desenhar Marcador",drawPolyButton:"Desenhar Polgonos",drawLineButton:"Desenhar Polilinha",drawCircleButton:"Desenhar Crculo",drawRectButton:"Desenhar Retngulo",editButton:"Editar Camadas",dragButton:"Arrastar Camadas",cutButton:"Cortar Camadas",deleteButton:"Remover Camadas",drawCircleMarkerButton:"Desenhar Marcador de Crculo",snappingButton:"Ajustar marcador arrastado a outras camadas e vrtices",pinningButton:"Unir vrtices partilhados",rotateButton:"Rodar Camadas",drawTextButton:"Desenhar Texto",scaleButton:"Escalar Camadas",autoTracingButton:"Traado Automtico de Linha"},measurements:{totalLength:"Comprimento",segmentLength:"Comprimento do Segmento",area:"rea",radius:"Raio",perimeter:"Permetro",height:"Altura",width:"Largura",coordinates:"Posio",coordinatesMarker:"Marcador de Posio"}},yo={tooltips:{placeMarker:"Kliknij, aby umieci znacznik",firstVertex:"Kliknij, aby umieci pierwszy wierzchoek",continueLine:"Kliknij, aby kontynuowa rysowanie",finishLine:"Kliknij dowolny istniejcy znacznik, aby zakoczy",finishPoly:"Kliknij pierwszy znacznik, aby zakoczy",finishRect:"Kliknij, aby zakoczy",startCircle:"Kliknij, aby umieci rodek okrgu",finishCircle:"Kliknij, aby zakoczy okrg",placeCircleMarker:"Kliknij, aby umieci znacznik okrgu",placeText:"Kliknij, aby umieci tekst"},actions:{finish:"Zakocz",cancel:"Anuluj",removeLastVertex:"Usu ostatni wierzchoek"},buttonTitles:{drawMarkerButton:"Rysuj znacznik",drawPolyButton:"Rysuj wielokt",drawLineButton:"Rysuj lini",drawCircleButton:"Rysuj okrg",drawRectButton:"Rysuj prostokt",editButton:"Edytuj warstwy",dragButton:"Przecignij warstwy",cutButton:"Wytnij warstwy",deleteButton:"Usu warstwy",drawCircleMarkerButton:"Rysuj znacznik okrgy",snappingButton:"Przycignij przenoszony znacznik do innych warstw i wierzchokw",pinningButton:"Przypnij wsplne wierzchoki razem",rotateButton:"Obr warstwy",drawTextButton:"Rysuj tekst",scaleButton:"Skaluj warstwy",autoTracingButton:"Automatyczne ledzenie linii"},measurements:{totalLength:"Dugo",segmentLength:"Dugo odcinka",area:"Obszar",radius:"Promie",perimeter:"Obwd",height:"Wysoko",width:"Szeroko",coordinates:"Pozycja",coordinatesMarker:"Znacznik pozycji"}},ps={tooltips:{placeMarker:"Klicka fr att placera markr",firstVertex:"Klicka fr att placera frsta hrnet",continueLine:"Klicka fr att fortstta rita",finishLine:"Klicka p en existerande punkt fr att slutfra",finishPoly:"Klicka p den frsta punkten fr att slutfra",finishRect:"Klicka fr att slutfra",startCircle:"Klicka fr att placera cirkelns centrum",finishCircle:"Klicka fr att slutfra cirkeln",placeCircleMarker:"Klicka fr att placera cirkelmarkr"},actions:{finish:"Slutfr",cancel:"Avbryt",removeLastVertex:"Ta bort sista hrnet"},buttonTitles:{drawMarkerButton:"Rita Markr",drawPolyButton:"Rita Polygoner",drawLineButton:"Rita Linje",drawCircleButton:"Rita Cirkel",drawRectButton:"Rita Rektangel",editButton:"Redigera Lager",dragButton:"Dra Lager",cutButton:"Klipp i Lager",deleteButton:"Ta bort Lager",drawCircleMarkerButton:"Rita Cirkelmarkr",snappingButton:"Snpp dra markren till andra lager och hrn",pinningButton:"Fst delade hrn tillsammans",rotateButton:"Rotera lagret"}},$s={tooltips:{placeMarker:"     ",firstVertex:"       ",continueLine:"      ",finishLine:"        ",finishPoly:"       ",finishRect:"    ",startCircle:"      ",finishCircle:"      ",placeCircleMarker:"      "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"        ",pinningButton:"   ",rotateButton:"  "}},Zs={tooltips:{placeMarker:"Kattintson a jell elhelyezshez",firstVertex:"Kattintson az els pont elhelyezshez",continueLine:"Kattintson a kvetkez pont elhelyezshez",finishLine:"A befejezshez kattintson egy meglv pontra",finishPoly:"A befejezshez kattintson az els pontra",finishRect:"Kattintson a befejezshez",startCircle:"Kattintson a kr kzppontjnak elhelyezshez",finishCircle:"Kattintson a kr befejezshez",placeCircleMarker:"Kattintson a krjell elhelyezshez"},actions:{finish:"Befejezs",cancel:"Mgse",removeLastVertex:"Utols pont eltvoltsa"},buttonTitles:{drawMarkerButton:"Jell rajzolsa",drawPolyButton:"Poligon rajzolsa",drawLineButton:"Vonal rajzolsa",drawCircleButton:"Kr rajzolsa",drawRectButton:"Ngyzet rajzolsa",editButton:"Elemek szerkesztse",dragButton:"Elemek mozgatsa",cutButton:"Elemek vgsa",deleteButton:"Elemek trlse",drawCircleMarkerButton:"Kr jell rajzolsa",snappingButton:"Kapcsolja a jelltt msik elemhez vagy ponthoz",pinningButton:"Kzs pontok sszektse",rotateButton:"Flia elforgatsa"}},va={tooltips:{placeMarker:"Tryk for at placere en markr",firstVertex:"Tryk for at placere det frste punkt",continueLine:"Tryk for at fortstte linjen",finishLine:"Tryk p et eksisterende punkt for at afslutte",finishPoly:"Tryk p det frste punkt for at afslutte",finishRect:"Tryk for at afslutte",startCircle:"Tryk for at placere cirklens center",finishCircle:"Tryk for at afslutte cirklen",placeCircleMarker:"Tryk for at placere en cirkelmarkr"},actions:{finish:"Afslut",cancel:"Afbryd",removeLastVertex:"Fjern sidste punkt"},buttonTitles:{drawMarkerButton:"Placer markr",drawPolyButton:"Tegn polygon",drawLineButton:"Tegn linje",drawCircleButton:"Tegn cirkel",drawRectButton:"Tegn firkant",editButton:"Rediger",dragButton:"Trk",cutButton:"Klip",deleteButton:"Fjern",drawCircleMarkerButton:"Tegn cirkelmarkr",snappingButton:"Fastgr trukket markr til andre elementer",pinningButton:"Sammenlg delte elementer",rotateButton:"Roter laget"}},dr={tooltips:{placeMarker:"Klikk for  plassere punkt",firstVertex:"Klikk for  plassere frste punkt",continueLine:"Klikk for  tegne videre",finishLine:"Klikk p et eksisterende punkt for  fullfre",finishPoly:"Klikk frste punkt for  fullfre",finishRect:"Klikk for  fullfre",startCircle:"Klikk for  sette sirkel midtpunkt",finishCircle:"Klikk for  fullfre sirkel",placeCircleMarker:"Klikk for  plassere sirkel",placeText:"Klikk for  plassere tekst"},actions:{finish:"Fullfr",cancel:"Kanseller",removeLastVertex:"Fjern forrige punkt"},buttonTitles:{drawMarkerButton:"Tegn punkt",drawPolyButton:"Tegn flate",drawLineButton:"Tegn linje",drawCircleButton:"Tegn sirkel",drawRectButton:"Tegn rektangel",editButton:"Rediger objekter",dragButton:"Dra objekter",cutButton:"Kutt objekter",deleteButton:"Fjern objekter",drawCircleMarkerButton:"Tegn sirkel-punkt",snappingButton:"Fest dratt punkt til andre objekter og punkt",pinningButton:"Pin delte punkter sammen",rotateButton:"Rotr objekter",drawTextButton:"Tegn tekst",scaleButton:"Skalr objekter",autoTracingButton:"Automatisk sporing av linje"},measurements:{totalLength:"Lengde",segmentLength:"Segmentlengde",area:"Omrde",radius:"Radius",perimeter:"Omriss",height:"Hyde",width:"Bredde",coordinates:"Posisjon",coordinatesMarker:"Posisjonsmarkr"}},Ms={tooltips:{placeMarker:"   ",firstVertex:"    ",continueLine:"   ",finishLine:"      ",finishPoly:"     ",finishRect:"  ",startCircle:"    ",finishCircle:"    ",placeCircleMarker:"    ",placeText:"   "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"      ",rotateButton:" ",drawTextButton:" ",scaleButton:"",autoTracingButton:" "},measurements:{totalLength:"",segmentLength:" ",area:"",radius:"",perimeter:"",height:"",width:"",coordinates:"",coordinatesMarker:" "}},es={tooltips:{placeMarker:",   ",firstVertex:",    ",continueLine:",   ",finishLine:" -    ",finishPoly:"  ,  ",finishRect:",  ",startCircle:",    ",finishCircle:",   ",placeCircleMarker:",    "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"'   ",rotateButton:" "}},bn={tooltips:{placeMarker:"areti yerletirmek iin tklayn",firstVertex:"lk tepe noktasn yerletirmek iin tklayn",continueLine:"izime devam etmek iin tklayn",finishLine:"Bitirmek iin mevcut herhangi bir iaretiyi tklayn",finishPoly:"Bitirmek iin ilk iaretiyi tklayn",finishRect:"Bitirmek iin tklayn",startCircle:"Daire merkezine yerletirmek iin tklayn",finishCircle:"Daireyi bitirmek iin tklayn",placeCircleMarker:"Daire iaretisi yerletirmek iin tklayn"},actions:{finish:"Bitir",cancel:"ptal",removeLastVertex:"Son keyi kaldr"},buttonTitles:{drawMarkerButton:"izim aretisi",drawPolyButton:"okgenler iz",drawLineButton:"oklu izgi iz",drawCircleButton:"ember iz",drawRectButton:"Dikdrtgen iz",editButton:"Katmanlar dzenle",dragButton:"Katmanlar srkle",cutButton:"Katmanlar kes",deleteButton:"Katmanlar kaldr",drawCircleMarkerButton:"Daire iaretisi iz",snappingButton:"Srklenen iaretiyi dier katmanlara ve kelere yaptr",pinningButton:"Paylalan keleri birbirine sabitle",rotateButton:"Katman dndr"}},xn={tooltips:{placeMarker:"Kliknutm vytvote znaku",firstVertex:"Kliknutm vytvote prvn objekt",continueLine:"Kliknutm pokraujte v kreslen",finishLine:"Kliknut na libovolnou existujc znaku pro dokonen",finishPoly:"Vyberte prvn bod pro dokonen",finishRect:"Kliknte pro dokonen",startCircle:"Kliknutm pidejte sted kruhu",finishCircle:",   ",placeCircleMarker:"Kliknutm nastavte polomr"},actions:{finish:"Dokonit",cancel:"Zruit",removeLastVertex:"Zruit posledn akci"},buttonTitles:{drawMarkerButton:"Pidat znaku",drawPolyButton:"Nakreslit polygon",drawLineButton:"Nakreslit kivku",drawCircleButton:"Nakreslit kruh",drawRectButton:"Nakreslit obdlnk",editButton:"Upravit vrstvu",dragButton:"Peneste vrstvu",cutButton:"Vyjmout vrstvu",deleteButton:"Smazat vrstvu",drawCircleMarkerButton:"Pidat kruhovou znaku",snappingButton:"Navzat tanou znaku k dalm vrstvm a vrcholm",pinningButton:"Spojit spolen body dohromady",rotateButton:"Otote vrstvu"}},zr={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:"",placeText:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:"",drawTextButton:""}},Hn={tooltips:{placeMarker:"Klikkaa asettaaksesi merkin",firstVertex:"Klikkaa asettaakseni ensimmisen osuuden",continueLine:"Klikkaa jatkaaksesi piirtmist",finishLine:"Klikkaa olemassa olevaa merkki lopettaaksesi",finishPoly:"Klikkaa ensimmist merkki lopettaaksesi",finishRect:"Klikkaa lopettaaksesi",startCircle:"Klikkaa asettaaksesi ympyrn keskipisteen",finishCircle:"Klikkaa lopettaaksesi ympyrn",placeCircleMarker:"Klikkaa asettaaksesi ympyrmerkin",placeText:"Klikkaa asettaaksesi tekstin"},actions:{finish:"Valmis",cancel:"Peruuta",removeLastVertex:"Poista viimeinen osuus"},buttonTitles:{drawMarkerButton:"Piirr merkkej",drawPolyButton:"Piirr monikulmioita",drawLineButton:"Piirr viivoja",drawCircleButton:"Piirr ympyr",drawRectButton:"Piirr neliskulmioita",editButton:"Muokkaa",dragButton:"Siirr",cutButton:"Leikkaa",deleteButton:"Poista",drawCircleMarkerButton:"Piirr ympyrmerkki",snappingButton:"Kiinnit siirrettv merkki toisiin muotoihin",pinningButton:"Kiinnit jaetut muodot yhteen",rotateButton:"Knn",drawTextButton:"Piirr teksti"}},wo={tooltips:{placeMarker:"  ",firstVertex:"   ",continueLine:"  ",finishLine:"   ",finishPoly:"   ",finishRect:" ",startCircle:"    ",finishCircle:"  ",placeCircleMarker:"   ",placeText:"  "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"   ",rotateButton:" ",drawTextButton:" "}},Ks={tooltips:{placeMarker:"   ",firstVertex:"    ",continueLine:"    ",finishLine:"    ",finishPoly:"    ",finishRect:"  ",startCircle:"    ",finishCircle:"   ",placeCircleMarker:"    ",placeText:"   "},actions:{finish:"",cancel:" ",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:"  ",cutButton:"  ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"     ",pinningButton:"   ",rotateButton:" ",drawTextButton:" ",scaleButton:"  ",autoTracingButton:"  "},measurements:{totalLength:"",segmentLength:" ",area:"",radius:"",perimeter:"",height:"",width:"",coordinates:"",coordinatesMarker:" "}},Fa=Vs,ts={en:Vn,de:Ia,it:si,id:Jr,ro:Ro,ru:Ra,es:ji,nl:kr,fr:ds,pt:Fa,pt_br:vo,pt_pt:Vs,zh:Gn,zh_tw:Ws,pl:yo,sv:ps,el:$s,hu:Zs,da:va,no:dr,fa:Ms,ua:es,tr:bn,cz:xn,ja:zr,fi:Hn,ko:wo,ky:Ks},ms={_globalEditModeEnabled:!1,enableGlobalEditMode(i){let h={...i};this._globalEditModeEnabled=!0,this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),L.PM.Utils.findLayers(this.map).forEach(d=>{this._isRelevantForEdit(d)&&d.pm.enable(h)}),this.throttledReInitEdit||(this.throttledReInitEdit=L.Util.throttle(this.handleLayerAdditionInGlobalEditMode,100,this)),this._addedLayersEdit={},this.map.on("layeradd",this._layerAddedEdit,this),this.map.on("layeradd",this.throttledReInitEdit,this),this._fireGlobalEditModeToggled(!0)},disableGlobalEditMode(){this._globalEditModeEnabled=!1,L.PM.Utils.findLayers(this.map).forEach(i=>{i.pm.disable()}),this.map.off("layeradd",this._layerAddedEdit,this),this.map.off("layeradd",this.throttledReInitEdit,this),this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),this._fireGlobalEditModeToggled(!1)},globalEditEnabled(){return this.globalEditModeEnabled()},globalEditModeEnabled(){return this._globalEditModeEnabled},toggleGlobalEditMode(i=this.globalOptions){this.globalEditModeEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(i)},handleLayerAdditionInGlobalEditMode(){let i=this._addedLayersEdit;if(this._addedLayersEdit={},this.globalEditModeEnabled())for(let h in i){let d=i[h];this._isRelevantForEdit(d)&&d.pm.enable({...this.globalOptions})}},_layerAddedEdit({layer:i}){this._addedLayersEdit[L.stamp(i)]=i},_isRelevantForEdit(i){return i.pm&&!(i instanceof L.LayerGroup)&&(!L.PM.optIn&&!i.options.pmIgnore||L.PM.optIn&&i.options.pmIgnore===!1)&&!i._pmTempLayer&&i.pm.options.allowEditing}},bo=ms,no={_globalDragModeEnabled:!1,enableGlobalDragMode(){let i=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!0,this._addedLayersDrag={},i.forEach(h=>{this._isRelevantForDrag(h)&&h.pm.enableLayerDrag()}),this.throttledReInitDrag||(this.throttledReInitDrag=L.Util.throttle(this.reinitGlobalDragMode,100,this)),this.map.on("layeradd",this._layerAddedDrag,this),this.map.on("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!0)},disableGlobalDragMode(){let i=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!1,i.forEach(h=>{h.pm.disableLayerDrag()}),this.map.off("layeradd",this._layerAddedDrag,this),this.map.off("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!1)},globalDragModeEnabled(){return!!this._globalDragModeEnabled},toggleGlobalDragMode(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},reinitGlobalDragMode(){let i=this._addedLayersDrag;if(this._addedLayersDrag={},this.globalDragModeEnabled())for(let h in i){let d=i[h];this._isRelevantForDrag(d)&&d.pm.enableLayerDrag()}},_layerAddedDrag({layer:i}){this._addedLayersDrag[L.stamp(i)]=i},_isRelevantForDrag(i){return i.pm&&!(i instanceof L.LayerGroup)&&(!L.PM.optIn&&!i.options.pmIgnore||L.PM.optIn&&i.options.pmIgnore===!1)&&!i._pmTempLayer&&i.pm.options.draggable}},gr=no,ai={_globalRemovalModeEnabled:!1,enableGlobalRemovalMode(){this._globalRemovalModeEnabled=!0,this.map.eachLayer(i=>{this._isRelevantForRemoval(i)&&(i.pm.enabled()&&i.pm.disable(),i.on("click",this.removeLayer,this))}),this.throttledReInitRemoval||(this.throttledReInitRemoval=L.Util.throttle(this.handleLayerAdditionInGlobalRemovalMode,100,this)),this._addedLayersRemoval={},this.map.on("layeradd",this._layerAddedRemoval,this),this.map.on("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!0)},disableGlobalRemovalMode(){this._globalRemovalModeEnabled=!1,this.map.eachLayer(i=>{i.off("click",this.removeLayer,this)}),this.map.off("layeradd",this._layerAddedRemoval,this),this.map.off("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!1)},globalRemovalEnabled(){return this.globalRemovalModeEnabled()},globalRemovalModeEnabled(){return!!this._globalRemovalModeEnabled},toggleGlobalRemovalMode(){this.globalRemovalModeEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},removeLayer(i){let h=i.target;this._isRelevantForRemoval(h)&&!h.pm.dragging()&&(h.removeFrom(this.map.pm._getContainingLayer()),h.remove(),h instanceof L.LayerGroup?(this._fireRemoveLayerGroup(h),this._fireRemoveLayerGroup(this.map,h)):(h.pm._fireRemove(h),h.pm._fireRemove(this.map,h)))},_isRelevantForRemoval(i){return i.pm&&!(i instanceof L.LayerGroup)&&(!L.PM.optIn&&!i.options.pmIgnore||L.PM.optIn&&i.options.pmIgnore===!1)&&!i._pmTempLayer&&i.pm.options.allowRemoval},handleLayerAdditionInGlobalRemovalMode(){let i=this._addedLayersRemoval;if(this._addedLayersRemoval={},this.globalRemovalModeEnabled())for(let h in i){let d=i[h];this._isRelevantForRemoval(d)&&(d.pm.enabled()&&d.pm.disable(),d.on("click",this.removeLayer,this))}},_layerAddedRemoval({layer:i}){this._addedLayersRemoval[L.stamp(i)]=i}},zi=ai,ro={_globalRotateModeEnabled:!1,enableGlobalRotateMode(){this._globalRotateModeEnabled=!0,L.PM.Utils.findLayers(this.map).filter(i=>i instanceof L.Polyline).forEach(i=>{this._isRelevantForRotate(i)&&i.pm.enableRotate()}),this.throttledReInitRotate||(this.throttledReInitRotate=L.Util.throttle(this.handleLayerAdditionInGlobalRotateMode,100,this)),this._addedLayersRotate={},this.map.on("layeradd",this._layerAddedRotate,this),this.map.on("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},disableGlobalRotateMode(){this._globalRotateModeEnabled=!1,L.PM.Utils.findLayers(this.map).filter(i=>i instanceof L.Polyline).forEach(i=>{i.pm.disableRotate()}),this.map.off("layeradd",this._layerAddedRotate,this),this.map.off("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},globalRotateModeEnabled(){return!!this._globalRotateModeEnabled},toggleGlobalRotateMode(){this.globalRotateModeEnabled()?this.disableGlobalRotateMode():this.enableGlobalRotateMode()},_isRelevantForRotate(i){return i.pm&&i instanceof L.Polyline&&!(i instanceof L.LayerGroup)&&(!L.PM.optIn&&!i.options.pmIgnore||L.PM.optIn&&i.options.pmIgnore===!1)&&!i._pmTempLayer&&i.pm.options.allowRotation},handleLayerAdditionInGlobalRotateMode(){let i=this._addedLayersRotate;if(this._addedLayersRotate={},this.globalRotateModeEnabled())for(let h in i){let d=i[h];this._isRelevantForRemoval(d)&&d.pm.enableRotate()}},_layerAddedRotate({layer:i}){this._addedLayersRotate[L.stamp(i)]=i}},io=ro,xo=g(Gs()),Js={_fireDrawStart(i="Draw",h={}){this.__fire(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer},i,h)},_fireDrawEnd(i="Draw",h={}){this.__fire(this._map,"pm:drawend",{shape:this._shape},i,h)},_fireCreate(i,h="Draw",d={}){this.__fire(this._map,"pm:create",{shape:this._shape,marker:i,layer:i},h,d)},_fireCenterPlaced(i="Draw",h={}){let d=i==="Draw"?this._layer:void 0,v=i!=="Draw"?this._layer:void 0;this.__fire(this._layer,"pm:centerplaced",{shape:this._shape,workingLayer:d,layer:v,latlng:this._layer.getLatLng()},i,h)},_fireCut(i,h,d,v="Draw",k={}){this.__fire(i,"pm:cut",{shape:this._shape,layer:h,originalLayer:d},v,k)},_fireEdit(i=this._layer,h="Edit",d={}){this.__fire(i,"pm:edit",{layer:this._layer,shape:this.getShape()},h,d)},_fireEnable(i="Edit",h={}){this.__fire(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()},i,h)},_fireDisable(i="Edit",h={}){this.__fire(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()},i,h)},_fireUpdate(i="Edit",h={}){this.__fire(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()},i,h)},_fireMarkerDragStart(i,h=void 0,d="Edit",v={}){this.__fire(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:i,shape:this.getShape(),indexPath:h},d,v)},_fireMarkerDrag(i,h=void 0,d="Edit",v={}){this.__fire(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:i,shape:this.getShape(),indexPath:h},d,v)},_fireMarkerDragEnd(i,h=void 0,d=void 0,v="Edit",k={}){this.__fire(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:i,shape:this.getShape(),indexPath:h,intersectionReset:d},v,k)},_fireDragStart(i="Edit",h={}){this.__fire(this._layer,"pm:dragstart",{layer:this._layer,shape:this.getShape()},i,h)},_fireDrag(i,h="Edit",d={}){this.__fire(this._layer,"pm:drag",{...i,shape:this.getShape()},h,d)},_fireDragEnd(i="Edit",h={}){this.__fire(this._layer,"pm:dragend",{layer:this._layer,shape:this.getShape()},i,h)},_fireDragEnable(i="Edit",h={}){this.__fire(this._layer,"pm:dragenable",{layer:this._layer,shape:this.getShape()},i,h)},_fireDragDisable(i="Edit",h={}){this.__fire(this._layer,"pm:dragdisable",{layer:this._layer,shape:this.getShape()},i,h)},_fireRemove(i,h=i,d="Edit",v={}){this.__fire(i,"pm:remove",{layer:h,shape:this.getShape()},d,v)},_fireVertexAdded(i,h,d,v="Edit",k={}){this.__fire(this._layer,"pm:vertexadded",{layer:this._layer,workingLayer:this._layer,marker:i,indexPath:h,latlng:d,shape:this.getShape()},v,k)},_fireVertexRemoved(i,h,d="Edit",v={}){this.__fire(this._layer,"pm:vertexremoved",{layer:this._layer,marker:i,indexPath:h,shape:this.getShape()},d,v)},_fireVertexClick(i,h,d="Edit",v={}){this.__fire(this._layer,"pm:vertexclick",{layer:this._layer,markerEvent:i,indexPath:h,shape:this.getShape()},d,v)},_fireIntersect(i,h=this._layer,d="Edit",v={}){this.__fire(h,"pm:intersect",{layer:this._layer,intersection:i,shape:this.getShape()},d,v)},_fireLayerReset(i,h,d="Edit",v={}){this.__fire(this._layer,"pm:layerreset",{layer:this._layer,markerEvent:i,indexPath:h,shape:this.getShape()},d,v)},_fireChange(i,h="Edit",d={}){this.__fire(this._layer,"pm:change",{layer:this._layer,latlngs:i,shape:this.getShape()},h,d)},_fireTextChange(i,h="Edit",d={}){this.__fire(this._layer,"pm:textchange",{layer:this._layer,text:i,shape:this.getShape()},h,d)},_fireTextFocus(i="Edit",h={}){this.__fire(this._layer,"pm:textfocus",{layer:this._layer,shape:this.getShape()},i,h)},_fireTextBlur(i="Edit",h={}){this.__fire(this._layer,"pm:textblur",{layer:this._layer,shape:this.getShape()},i,h)},_fireSnapDrag(i,h,d="Snapping",v={}){this.__fire(i,"pm:snapdrag",h,d,v)},_fireSnap(i,h,d="Snapping",v={}){this.__fire(i,"pm:snap",h,d,v)},_fireUnsnap(i,h,d="Snapping",v={}){this.__fire(i,"pm:unsnap",h,d,v)},_fireRotationEnable(i,h,d="Rotation",v={}){this.__fire(i,"pm:rotateenable",{layer:this._layer,helpLayer:this._rotatePoly,shape:this.getShape()},d,v)},_fireRotationDisable(i,h="Rotation",d={}){this.__fire(i,"pm:rotatedisable",{layer:this._layer,shape:this.getShape()},h,d)},_fireRotationStart(i,h,d="Rotation",v={}){this.__fire(i,"pm:rotatestart",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:this._startAngle,originLatLngs:h},d,v)},_fireRotation(i,h,d,v=this._rotationLayer,k="Rotation",B={}){this.__fire(i,"pm:rotate",{layer:v,helpLayer:this._layer,startAngle:this._startAngle,angle:v.pm.getAngle(),angleDiff:h,oldLatLngs:d,newLatLngs:v.getLatLngs()},k,B)},_fireRotationEnd(i,h,d,v="Rotation",k={}){this.__fire(i,"pm:rotateend",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:h,angle:this._rotationLayer.pm.getAngle(),originLatLngs:d,newLatLngs:this._rotationLayer.getLatLngs()},v,k)},_fireActionClick(i,h,d,v="Toolbar",k={}){this.__fire(this._map,"pm:actionclick",{text:i.text,action:i,btnName:h,button:d},v,k)},_fireButtonClick(i,h,d="Toolbar",v={}){this.__fire(this._map,"pm:buttonclick",{btnName:i,button:h},d,v)},_fireLangChange(i,h,d,v,k="Global",B={}){this.__fire(this.map,"pm:langchange",{oldLang:i,activeLang:h,fallback:d,translations:v},k,B)},_fireGlobalDragModeToggled(i,h="Global",d={}){this.__fire(this.map,"pm:globaldragmodetoggled",{enabled:i,map:this.map},h,d)},_fireGlobalEditModeToggled(i,h="Global",d={}){this.__fire(this.map,"pm:globaleditmodetoggled",{enabled:i,map:this.map},h,d)},_fireGlobalRemovalModeToggled(i,h="Global",d={}){this.__fire(this.map,"pm:globalremovalmodetoggled",{enabled:i,map:this.map},h,d)},_fireGlobalCutModeToggled(i="Global",h={}){this.__fire(this._map,"pm:globalcutmodetoggled",{enabled:!!this._enabled,map:this._map},i,h)},_fireGlobalDrawModeToggled(i="Global",h={}){this.__fire(this._map,"pm:globaldrawmodetoggled",{enabled:this._enabled,shape:this._shape,map:this._map},i,h)},_fireGlobalRotateModeToggled(i="Global",h={}){this.__fire(this.map,"pm:globalrotatemodetoggled",{enabled:this.globalRotateModeEnabled(),map:this.map},i,h)},_fireRemoveLayerGroup(i,h=i,d="Edit",v={}){this.__fire(i,"pm:remove",{layer:h,shape:void 0},d,v)},_fireKeyeventEvent(i,h,d,v="Global",k={}){this.__fire(this.map,"pm:keyevent",{event:i,eventType:h,focusOn:d},v,k)},__fire(i,h,d,v,k={}){d=(0,xo.default)(d,k,{source:v}),L.PM.Utils._fireEvent(i,h,d)}},Ys=Js,so=()=>({_lastEvents:{keydown:void 0,keyup:void 0,current:void 0},_initKeyListener(i){this.map=i,L.DomEvent.on(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.on(window,"blur",this._onBlur,this),i.once("unload",this._unbindKeyListenerEvents,this)},_unbindKeyListenerEvents(){L.DomEvent.off(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.off(window,"blur",this._onBlur,this)},_onKeyListener(i){let h="document";this.map.getContainer().contains(i.target)&&(h="map");let d={event:i,eventType:i.type,focusOn:h};this._lastEvents[i.type]=d,this._lastEvents.current=d,this.map.pm._fireKeyeventEvent(i,i.type,h)},_onBlur(i){i.altKey=!1;let h={event:i,eventType:i.type,focusOn:"document"};this._lastEvents[i.type]=h,this._lastEvents.current=h},getLastKeyEvent(i="current"){return this._lastEvents[i]},isShiftKeyPressed(){return this._lastEvents.current?.event.shiftKey},isAltKeyPressed(){return this._lastEvents.current?.event.altKey},isCtrlKeyPressed(){return this._lastEvents.current?.event.ctrlKey},isMetaKeyPressed(){return this._lastEvents.current?.event.metaKey},getPressedKey(){return this._lastEvents.current?.event.key}}),In=so,gs=g(Xi());function gn(i){let h=L.PM.activeLang;return(0,gs.default)(ts[h],i)||(0,gs.default)(ts.en,i)||i}function Yr(i){for(let h=0;h<i.length;h+=1){let d=i[h];if(Array.isArray(d)){if(Yr(d))return!0}else if(d!=null&&d!=="")return!0}return!1}function ja(i){return i.reduce((h,d)=>{if(d.length!==0){let v=Array.isArray(d)?ja(d):d;Array.isArray(v)?v.length!==0&&h.push(v):h.push(v)}return h},[])}function Bs(i,h,d){let v={a:L.CRS.Earth.R,b:63567523142e-4,f:.0033528106647474805},{a:k,b:B,f:z}=v,q=i.lng,J=i.lat,ee=d,Re=Math.PI,Me=h*Re/180,lt=Math.sin(Me),gt=Math.cos(Me),Et=(1-z)*Math.tan(J*Re/180),Wt=1/Math.sqrt(1+Et*Et),Zt=Et*Wt,mn=Math.atan2(Et,gt),Oe=Wt*lt,Ue=1-Oe*Oe,nt=Ue*(k*k-B*B)/(B*B),yt=1+nt/16384*(4096+nt*(-768+nt*(320-175*nt))),rt=nt/1024*(256+nt*(-128+nt*(74-47*nt))),ft=ee/(B*yt),Y=2*Math.PI,ce,be,me;for(;Math.abs(ft-Y)>1e-12;){ce=Math.cos(2*mn+ft),be=Math.sin(ft),me=Math.cos(ft);let Dt=rt*be*(ce+rt/4*(me*(-1+2*ce*ce)-rt/6*ce*(-3+4*be*be)*(-3+4*ce*ce)));Y=ft,ft=ee/(B*yt)+Dt}let Le=Zt*be-Wt*me*gt,ke=Math.atan2(Zt*me+Wt*be*gt,(1-z)*Math.sqrt(Oe*Oe+Le*Le)),Ze=Math.atan2(be*lt,Wt*me-Zt*be*gt),Ge=z/16*Ue*(4+z*(4-3*Ue)),Xe=Ze-(1-Ge)*z*Oe*(ft+Ge*be*(ce+Ge*me*(-1+2*ce*ce))),pt=q+Xe*180/Re,ht=ke*180/Re;return L.latLng(pt,ht)}function oi(i,h,d,v,k=!0){let B,z,q,J=[];for(let ee=0;ee<d;ee+=1){if(k)B=ee*360/d+v,z=Bs(i,B,h),q=L.latLng(z.lng,z.lat);else{let Re=i.lat+Math.cos(2*ee*Math.PI/d)*h,Me=i.lng+Math.sin(2*ee*Math.PI/d)*h;q=L.latLng(Re,Me)}J.push(q)}return J}function Lo(i,h,d){h=(h+360)%360;let v=Math.PI/180,k=180/Math.PI,{R:B}=L.CRS.Earth,z=i.lng*v,q=i.lat*v,J=h*v,ee=Math.sin(q),Re=Math.cos(q),Me=Math.cos(d/B),lt=Math.sin(d/B),gt=Math.asin(ee*Me+Re*lt*Math.cos(J)),Et=z+Math.atan2(Math.sin(J)*lt*Re,Me-ee*Math.sin(gt));Et*=k;let Wt=Et-360,Zt=Et<-180?Et+360:Et;return Et=Et>180?Wt:Zt,L.latLng([gt*k,Et])}function Cr(i,h,d){let v=i.latLngToContainerPoint(h),k=i.latLngToContainerPoint(d),B=Math.atan2(k.y-v.y,k.x-v.x)*180/Math.PI+90;return B+=B<0?360:0,B}function Ts(i,h,d,v){let k=Cr(i,h,d);return Lo(h,k,v)}function za(i,h,d="asc"){if(!h||Object.keys(h).length===0)return(J,ee)=>J-ee;let v=Object.keys(h),k,B=v.length-1,z={};for(;B>=0;)k=v[B],z[k.toLowerCase()]=h[k],B-=1;function q(J){if(J instanceof L.Marker)return"Marker";if(J instanceof L.Circle)return"Circle";if(J instanceof L.CircleMarker)return"CircleMarker";if(J instanceof L.Rectangle)return"Rectangle";if(J instanceof L.Polygon)return"Polygon";if(J instanceof L.Polyline)return"Line"}return(J,ee)=>{let Re,Me;if(Re=q(J.layer).toLowerCase(),Me=q(ee.layer).toLowerCase(),!Re||!Me)return 0;let lt=Re in z?z[Re]:Number.MAX_SAFE_INTEGER,gt=Me in z?z[Me]:Number.MAX_SAFE_INTEGER,Et=0;return lt<gt?Et=-1:lt>gt&&(Et=1),d==="desc"?Et*-1:Et}}function _i(i,h=i.getLatLngs()){return i instanceof L.Polygon?L.polygon(h).getLatLngs():L.polyline(h).getLatLngs()}function ko(i,h){if(h.options.crs?.projection?.MAX_LATITUDE){let d=h.options.crs?.projection?.MAX_LATITUDE;i.lat=Math.max(Math.min(d,i.lat),-d)}return i}function Br(i){return i.options.renderer||i._map&&(i._map._getPaneRenderer(i.options.pane)||i._map.options.renderer||i._map._renderer)||i._renderer}var Co=L.Class.extend({includes:[bo,gr,zi,io,Ys],initialize(i){this.map=i,this.Draw=new L.PM.Draw(i),this.Toolbar=new L.PM.Toolbar(i),this.Keyboard=In(),this.globalOptions={snappable:!0,layerGroup:void 0,snappingOrder:["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],panes:{vertexPane:"markerPane",layerPane:"overlayPane",markerPane:"markerPane"},draggable:!0},this.Keyboard._initKeyListener(i)},setLang(i="en",h,d="en"){if(i=i.trim().toLowerCase(),!/^[a-z]{2}$/.test(i)){let k=i.replace(/[-_\s]/g,"-").replace(/^(\w{2})$/,"$1-").match(/([a-z]{2})-?([a-z]{2})?/);if(k){let B=[`${k[1]}_${k[2]}`,`${k[1]}`];for(let z of B)if(ts[z]){i=z;break}}}let v=L.PM.activeLang;h&&(ts[i]=(0,Ln.default)(ts[d],h)),L.PM.activeLang=i,this.map.pm.Toolbar.reinit(),this._fireLangChange(v,i,d,ts[i])},addControls(i){this.Toolbar.addControls(i)},removeControls(){this.Toolbar.removeControls()},toggleControls(){this.Toolbar.toggleControls()},controlsVisible(){return this.Toolbar.isVisible},enableDraw(i="Polygon",h){i==="Poly"&&(i="Polygon"),this.Draw.enable(i,h)},disableDraw(i="Polygon"){i==="Poly"&&(i="Polygon"),this.Draw.disable(i)},setPathOptions(i,h={}){let d=h.ignoreShapes||[],v=h.merge||!1;this.map.pm.Draw.shapes.forEach(k=>{d.indexOf(k)===-1&&this.map.pm.Draw[k].setPathOptions(i,v)})},getGlobalOptions(){return this.globalOptions},setGlobalOptions(i){let h=(0,Ln.default)(this.globalOptions,i);h.editable&&(h.resizeableCircleMarker=h.editable,delete h.editable);let d=!1;this.map.pm.Draw.CircleMarker.enabled()&&!!this.map.pm.Draw.CircleMarker.options.resizeableCircleMarker!=!!h.resizeableCircleMarker&&(this.map.pm.Draw.CircleMarker.disable(),d=!0);let v=!1;this.map.pm.Draw.Circle.enabled()&&!!this.map.pm.Draw.Circle.options.resizeableCircle!=!!h.resizeableCircle&&(this.map.pm.Draw.Circle.disable(),v=!0),this.map.pm.Draw.shapes.forEach(k=>{this.map.pm.Draw[k].setOptions(h)}),d&&this.map.pm.Draw.CircleMarker.enable(),v&&this.map.pm.Draw.Circle.enable(),L.PM.Utils.findLayers(this.map).forEach(k=>{k.pm.setOptions(h)}),this.map.fire("pm:globaloptionschanged"),this.globalOptions=h,this.applyGlobalOptions()},applyGlobalOptions(){L.PM.Utils.findLayers(this.map).forEach(i=>{i.pm.enabled()&&i.pm.applyOptions()})},globalDrawModeEnabled(){return!!this.Draw.getActiveShape()},globalCutModeEnabled(){return!!this.Draw.Cut.enabled()},enableGlobalCutMode(i){return this.Draw.Cut.enable(i)},toggleGlobalCutMode(i){return this.Draw.Cut.toggle(i)},disableGlobalCutMode(){return this.Draw.Cut.disable()},getGeomanLayers(i=!1){let h=L.PM.Utils.findLayers(this.map);if(!i)return h;let d=L.featureGroup();return d._pmTempLayer=!0,h.forEach(v=>{d.addLayer(v)}),d},getGeomanDrawLayers(i=!1){let h=L.PM.Utils.findLayers(this.map).filter(v=>v._drawnByGeoman===!0);if(!i)return h;let d=L.featureGroup();return d._pmTempLayer=!0,h.forEach(v=>{d.addLayer(v)}),d},_getContainingLayer(){return this.globalOptions.layerGroup&&this.globalOptions.layerGroup instanceof L.LayerGroup?this.globalOptions.layerGroup:this.map},_isCRSSimple(){return this.map.options.crs===L.CRS.Simple},_touchEventCounter:0,_addTouchEvents(i){this._touchEventCounter===0&&(L.DomEvent.on(i,"touchmove",this._canvasTouchMove,this),L.DomEvent.on(i,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter+=1},_removeTouchEvents(i){this._touchEventCounter===1&&(L.DomEvent.off(i,"touchmove",this._canvasTouchMove,this),L.DomEvent.off(i,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter=this._touchEventCounter<=1?0:this._touchEventCounter-1},_canvasTouchMove(i){Br(this.map)._onMouseMove(this._createMouseEvent("mousemove",i))},_canvasTouchClick(i){let h="";i.type==="touchstart"||i.type==="pointerdown"?h="mousedown":(i.type==="touchend"||i.type==="pointerup"||i.type==="touchcancel"||i.type==="pointercancel")&&(h="mouseup"),h&&Br(this.map)._onClick(this._createMouseEvent(h,i))},_createMouseEvent(i,h){let d,v=h.touches[0]||h.changedTouches[0];try{d=new MouseEvent(i,{bubbles:h.bubbles,cancelable:h.cancelable,view:h.view,detail:v.detail,screenX:v.screenX,screenY:v.screenY,clientX:v.clientX,clientY:v.clientY,ctrlKey:h.ctrlKey,altKey:h.altKey,shiftKey:h.shiftKey,metaKey:h.metaKey,button:h.button,relatedTarget:h.relatedTarget})}catch{d=document.createEvent("MouseEvents"),d.initMouseEvent(i,h.bubbles,h.cancelable,h.view,v.detail,v.screenX,v.screenY,v.clientX,v.clientY,h.ctrlKey,h.altKey,h.shiftKey,h.metaKey,h.button,h.relatedTarget)}return d}}),Ns=Co,ki=L.Control.extend({includes:[Ys],options:{position:"topleft",disableByOtherButtons:!0},initialize(i){this._button=L.Util.extend({},this.options,i)},onAdd(i){return this._map=i,this._map.pm.Toolbar.options.oneBlock?this._container=this._map.pm.Toolbar._createContainer(this.options.position):this._button.tool==="edit"?this._container=this._map.pm.Toolbar.editContainer:this._button.tool==="options"?this._container=this._map.pm.Toolbar.optionsContainer:this._button.tool==="custom"?this._container=this._map.pm.Toolbar.customContainer:this._container=this._map.pm.Toolbar.drawContainer,this._renderButton(),this._container},_renderButton(){let i=this.buttonsDomNode;this.buttonsDomNode=this._makeButton(this._button),i?i.replaceWith(this.buttonsDomNode):this._container.appendChild(this.buttonsDomNode)},onRemove(){return this.buttonsDomNode.remove(),this._container},getText(){return this._button.text},getIconUrl(){return this._button.iconUrl},destroy(){this._button={},this._update()},toggle(i){return typeof i=="boolean"?this._button.toggleStatus=i:this._button.toggleStatus=!this._button.toggleStatus,this._applyStyleClasses(),this._updateActiveAction(this._button),this._button.toggleStatus},toggled(){return this._button.toggleStatus},onCreate(){this.toggle(!1)},disable(){this.toggle(!1),this._button.disabled=!0,this._updateDisabled()},enable(){this._button.disabled=!1,this._updateDisabled(),this._updateActiveAction(this._button)},_triggerClick(i){i&&i.preventDefault(),!this._button.disabled&&(this._button.onClick(i,{button:this,event:i}),this._clicked(i),this._button.afterClick(i,{button:this,event:i}))},_makeButton(i){let h=this.options.position.indexOf("right")>-1?"pos-right":"",d=L.DomUtil.create("div",`button-container  ${h}`,this._container);i.title&&d.setAttribute("title",i.title);let v=L.DomUtil.create("a","leaflet-buttons-control-button",d);v.setAttribute("role","button"),v.setAttribute("tabindex","0"),v.href="#";let k=L.DomUtil.create("div",`leaflet-pm-actions-container ${h}`,d),B=i.actions,z={cancel:{text:gn("actions.cancel"),title:gn("actions.cancel"),onClick(){this._triggerClick()}},finishMode:{text:gn("actions.finish"),title:gn("actions.finish"),onClick(){this._triggerClick()}},removeLastVertex:{text:gn("actions.removeLastVertex"),title:gn("actions.removeLastVertex"),onClick(){this._map.pm.Draw[i.jsClass]._removeLastVertex()}},finish:{text:gn("actions.finish"),title:gn("actions.finish"),onClick(J){this._map.pm.Draw[i.jsClass]._finishShape(J)}}};i._preparedActions=B.map(J=>{let ee=typeof J=="string"?J:J.name,Re;if(z[ee])Re=z[ee];else if(J.text)Re=J;else return Re;let Me=L.DomUtil.create("a",`leaflet-pm-action ${h} action-${ee}`,k);if(Me.setAttribute("role","button"),Me.setAttribute("tabindex","0"),Me.href="#",Re.title&&(Me.title=Re.title),Me.innerHTML=Re.text,L.DomEvent.disableClickPropagation(Me),L.DomEvent.on(Me,"click",L.DomEvent.stop),Re._node=Me,!i.disabled&&Re.onClick){let lt=gt=>{gt.preventDefault();let Et="",{buttons:Wt}=this._map.pm.Toolbar;for(let Zt in Wt)if(Wt[Zt]._button===i){Et=Zt;break}this._fireActionClick(Re,Et,i)};L.DomEvent.addListener(Me,"click",lt,this),L.DomEvent.addListener(Me,"click",Re.onClick,this),L.DomEvent.addListener(Me,"click",()=>this._updateActiveAction(i))}return Re}),this._updateActiveAction(i),i.toggleStatus&&L.DomUtil.addClass(d,"active");let q=L.DomUtil.create("div","control-icon",v);return i.iconUrl&&q.setAttribute("src",i.iconUrl),i.className&&L.DomUtil.addClass(q,i.className),L.DomEvent.disableClickPropagation(v),L.DomEvent.on(v,"click",L.DomEvent.stop),i.disabled||(L.DomEvent.addListener(v,"click",this._onBtnClick,this),L.DomEvent.addListener(v,"click",this._triggerClick,this)),i.disabled&&(L.DomUtil.addClass(v,"pm-disabled"),v.setAttribute("aria-disabled","true")),d},_applyStyleClasses(){this._container&&(!this._button.toggleStatus||this._button.cssToggle===!1?(L.DomUtil.removeClass(this.buttonsDomNode,"active"),L.DomUtil.removeClass(this._container,"activeChild")):(L.DomUtil.addClass(this.buttonsDomNode,"active"),L.DomUtil.addClass(this._container,"activeChild")))},_onBtnClick(){if(this._button.disabled)return;this._button.disableOtherButtons&&this._map.pm.Toolbar.triggerClickOnToggledButtons(this);let i="",{buttons:h}=this._map.pm.Toolbar;for(let d in h)if(h[d]._button===this._button){i=d;break}this._fireButtonClick(i,this._button)},_clicked(){this._button.doToggle&&this.toggle()},_updateDisabled(){if(!this._container)return;let i="pm-disabled",h=this.buttonsDomNode.children[0];this._button.disabled?(L.DomUtil.addClass(h,i),h.setAttribute("aria-disabled","true")):(L.DomUtil.removeClass(h,i),h.setAttribute("aria-disabled","false"))},_updateActiveAction(i){i._preparedActions?.forEach(h=>{h?._node&&(h.isActive&&h.isActive.call(this)?L.DomUtil.addClass(h._node,"active-action"):L.DomUtil.removeClass(h._node,"active-action"))})}}),ao=ki;L.Control.PMButton=ao;var Fo=L.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawCircleMarker:!0,drawText:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,rotateMode:!0,snappingOption:!0,drawControls:!0,editControls:!0,optionsControls:!0,customControls:!0,oneBlock:!1,position:"topleft",positions:{draw:"",edit:"",options:"",custom:""}},customButtons:[],initialize(i){this.customButtons=[],this.options.positions={draw:"",edit:"",options:"",custom:""},this.init(i)},reinit(){let i=this.isVisible;this.removeControls(),this._defineButtons(),i&&this.addControls()},init(i){this.map=i,this.buttons={},this.isVisible=!1,this.drawContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this.optionsContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"),this.customContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"),this._defineButtons()},_createContainer(i){let h=`${i}Container`;return this[h]||(this[h]=L.DomUtil.create("div",`leaflet-pm-toolbar leaflet-pm-${i} leaflet-bar leaflet-control`)),this[h]},getButtons(){return this.buttons},addControls(i=this.options){typeof i.editPolygon<"u"&&(i.editMode=i.editPolygon),typeof i.deleteLayer<"u"&&(i.removalMode=i.deleteLayer),L.Util.setOptions(this,i),this.applyIconStyle(),this.isVisible=!0,this._showHideButtons()},applyIconStyle(){let i=this.getButtons(),h={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",drawCircleMarker:"control-icon leaflet-pm-icon-circle-marker",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete",drawText:"control-icon leaflet-pm-icon-text"}};for(let d in i){let v=i[d];L.Util.setOptions(v,{className:h.geomanIcons[d]})}},removeControls(){let i=this.getButtons();for(let h in i)i[h].remove();this.isVisible=!1},toggleControls(i=this.options){this.isVisible?this.removeControls():this.addControls(i)},_addButton(i,h){return this.buttons[i]=h,this.options[i]=!!this.options[i]||!1,this.buttons[i]},triggerClickOnToggledButtons(i){for(let h in this.buttons){let d=this.buttons[h];d._button.disableByOtherButtons&&d!==i&&d.toggled()&&d._triggerClick()}},toggleButton(i,h,d=!0){i==="editPolygon"&&(i="editMode"),i==="deleteLayer"&&(i="removalMode");let v=i;return d&&this.triggerClickOnToggledButtons(this.buttons[v]),this.buttons[v]?this.buttons[v].toggle(h):!1},_defineButtons(){let i={className:"control-icon leaflet-pm-icon-marker",title:gn("buttonTitles.drawMarkerButton"),jsClass:"Marker",onClick:()=>{},afterClick:(lt,gt)=>{this.map.pm.Draw[gt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},h={title:gn("buttonTitles.drawPolyButton"),className:"control-icon leaflet-pm-icon-polygon",jsClass:"Polygon",onClick:()=>{},afterClick:(lt,gt)=>{this.map.pm.Draw[gt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},d={className:"control-icon leaflet-pm-icon-polyline",title:gn("buttonTitles.drawLineButton"),jsClass:"Line",onClick:()=>{},afterClick:(lt,gt)=>{this.map.pm.Draw[gt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},v={title:gn("buttonTitles.drawCircleButton"),className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:()=>{},afterClick:(lt,gt)=>{this.map.pm.Draw[gt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},k={title:gn("buttonTitles.drawCircleMarkerButton"),className:"control-icon leaflet-pm-icon-circle-marker",jsClass:"CircleMarker",onClick:()=>{},afterClick:(lt,gt)=>{this.map.pm.Draw[gt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},B={title:gn("buttonTitles.drawRectButton"),className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:()=>{},afterClick:(lt,gt)=>{this.map.pm.Draw[gt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},z={title:gn("buttonTitles.editButton"),className:"control-icon leaflet-pm-icon-edit",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},q={title:gn("buttonTitles.dragButton"),className:"control-icon leaflet-pm-icon-drag",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},J={title:gn("buttonTitles.cutButton"),className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:()=>{},afterClick:(lt,gt)=>{this.map.pm.Draw[gt.button._button.jsClass].toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},ee={title:gn("buttonTitles.deleteButton"),className:"control-icon leaflet-pm-icon-delete",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},Re={title:gn("buttonTitles.rotateButton"),className:"control-icon leaflet-pm-icon-rotate",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalRotateMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},Me={className:"control-icon leaflet-pm-icon-text",title:gn("buttonTitles.drawTextButton"),jsClass:"Text",onClick:()=>{},afterClick:(lt,gt)=>{this.map.pm.Draw[gt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]};this._addButton("drawMarker",new L.Control.PMButton(i)),this._addButton("drawPolyline",new L.Control.PMButton(d)),this._addButton("drawRectangle",new L.Control.PMButton(B)),this._addButton("drawPolygon",new L.Control.PMButton(h)),this._addButton("drawCircle",new L.Control.PMButton(v)),this._addButton("drawCircleMarker",new L.Control.PMButton(k)),this._addButton("drawText",new L.Control.PMButton(Me)),this._addButton("editMode",new L.Control.PMButton(z)),this._addButton("dragMode",new L.Control.PMButton(q)),this._addButton("cutPolygon",new L.Control.PMButton(J)),this._addButton("removalMode",new L.Control.PMButton(ee)),this._addButton("rotateMode",new L.Control.PMButton(Re))},_showHideButtons(){if(!this.isVisible)return;this.removeControls(),this.isVisible=!0;let i=this.getButtons(),h=[];this.options.drawControls===!1&&(h=h.concat(Object.keys(i).filter(d=>!i[d]._button.tool))),this.options.editControls===!1&&(h=h.concat(Object.keys(i).filter(d=>i[d]._button.tool==="edit"))),this.options.optionsControls===!1&&(h=h.concat(Object.keys(i).filter(d=>i[d]._button.tool==="options"))),this.options.customControls===!1&&(h=h.concat(Object.keys(i).filter(d=>i[d]._button.tool==="custom")));for(let d in i)if(this.options[d]&&h.indexOf(d)===-1){let v=i[d]._button.tool;v||(v="draw"),i[d].setPosition(this._getBtnPosition(v)),i[d].addTo(this.map)}},_getBtnPosition(i){return this.options.positions&&this.options.positions[i]?this.options.positions[i]:this.options.position},setBlockPosition(i,h){this.options.positions[i]=h,this._showHideButtons(),this.changeControlOrder()},getBlockPositions(){return this.options.positions},copyDrawControl(i,h){if(h)typeof h!="object"&&(h={name:h});else throw new TypeError("Button has no name");let d=this._btnNameMapping(i);if(!h.name)throw new TypeError("Button has no name");if(this.buttons[h.name])throw new TypeError("Button with this name already exists");let v=this.map.pm.Draw.createNewDrawInstance(h.name,d);h={...this.buttons[d]._button,...h};let k=this.createCustomControl(h);return{drawInstance:v,control:k}},createCustomControl(i){if(!i.name)throw new TypeError("Button has no name");if(this.buttons[i.name])throw new TypeError("Button with this name already exists");i.onClick||(i.onClick=()=>{}),i.afterClick||(i.afterClick=()=>{}),i.toggle!==!1&&(i.toggle=!0),i.block&&(i.block=i.block.toLowerCase()),(!i.block||i.block==="draw")&&(i.block=""),i.className?i.className.indexOf("control-icon")===-1&&(i.className=`control-icon ${i.className}`):i.className="control-icon";let h={tool:i.block,className:i.className,title:i.title||"",jsClass:i.name,onClick:i.onClick,afterClick:i.afterClick,doToggle:i.toggle,toggleStatus:!1,disableOtherButtons:i.disableOtherButtons??!0,disableByOtherButtons:i.disableByOtherButtons??!0,cssToggle:i.toggle,position:this.options.position,actions:i.actions||[],disabled:!!i.disabled};this.options[i.name]!==!1&&(this.options[i.name]=!0);let d=this._addButton(i.name,new L.Control.PMButton(h));return this.changeControlOrder(),d},controlExists(i){return!!this.getButton(i)},getButton(i){return this.getButtons()[i]},getButtonsInBlock(i){let h={};if(i)for(let d in this.getButtons()){let v=this.getButtons()[d];(v._button.tool===i||i==="draw"&&!v._button.tool)&&(h[d]=v)}return h},changeControlOrder(i=[]){let h=this._shapeMapping(),d=[];i.forEach(B=>{h[B]?d.push(h[B]):d.push(B)});let v=this.getButtons(),k={};d.forEach(B=>{v[B]&&(k[B]=v[B])}),Object.keys(v).filter(B=>!v[B]._button.tool||v[B]._button.tool==="draw").forEach(B=>{d.indexOf(B)===-1&&(k[B]=v[B])}),Object.keys(v).filter(B=>v[B]._button.tool==="edit").forEach(B=>{d.indexOf(B)===-1&&(k[B]=v[B])}),Object.keys(v).filter(B=>v[B]._button.tool==="options").forEach(B=>{d.indexOf(B)===-1&&(k[B]=v[B])}),Object.keys(v).filter(B=>v[B]._button.tool==="custom").forEach(B=>{d.indexOf(B)===-1&&(k[B]=v[B])}),Object.keys(v).forEach(B=>{d.indexOf(B)===-1&&(k[B]=v[B])}),this.map.pm.Toolbar.buttons=k,this._showHideButtons()},getControlOrder(){let i=this.getButtons(),h=[];for(let d in i)h.push(d);return h},changeActionsOfControl(i,h){let d=this._btnNameMapping(i);if(!d)throw new TypeError("No name passed");if(!h)throw new TypeError("No actions passed");if(!this.buttons[d])throw new TypeError("Button with this name not exists");this.buttons[d]._button.actions=h,this.changeControlOrder()},setButtonDisabled(i,h){let d=this._btnNameMapping(i);h?this.buttons[d].disable():this.buttons[d].enable()},_shapeMapping(){return{Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode",Rotate:"rotateMode",Text:"drawText"}},_btnNameMapping(i){let h=this._shapeMapping();return h[i]?h[i]:i}}),jo=Fo,So=g(Gs()),Xs={_initSnappableMarkers(){this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){this._layer.off("pm:dragstart",this._unsnap,this)},_assignEvents(i){i.forEach(h=>{if(Array.isArray(h)){this._assignEvents(h);return}h.off("drag",this._handleSnapping,this),h.on("drag",this._handleSnapping,this),h.off("dragend",this._cleanupSnapping,this),h.on("dragend",this._cleanupSnapping,this)})},_cleanupSnapping(i){if(i){let h=i.target;h._snapped=!1}delete this._snapList,this.throttledList&&(this._map.off("layeradd",this.throttledList,this),this.throttledList=void 0),this._map.off("layerremove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach(h=>{h.remove()})},_handleThrottleSnapping(){this.throttledList&&this._createSnapList()},_handleSnapping(i){let h=i.target;if(h._snapped=!1,this.throttledList||(this.throttledList=L.Util.throttle(this._handleThrottleSnapping,100,this)),i?.originalEvent?.altKey||this._map?.pm?.Keyboard.isAltKeyPressed()||(this._snapList===void 0&&(this._createSnapList(),this._map.off("layeradd",this.throttledList,this),this._map.on("layeradd",this.throttledList,this)),this._snapList.length<=0))return!1;let d=this._calcClosestLayer(h.getLatLng(),this._snapList);if(Object.keys(d).length===0)return!1;let v=d.layer instanceof L.Marker||d.layer instanceof L.CircleMarker||!this.options.snapSegment,k;v?k=d.latlng:k=this._checkPrioritiySnapping(d);let B=this.options.snapDistance,z={marker:h,shape:this._shape,snapLatLng:k,segment:d.segment,layer:this._layer,workingLayer:this._layer,layerInteractedWith:d.layer,distance:d.distance};if(this._fireSnapDrag(z.marker,z),this._fireSnapDrag(this._layer,z),d.distance<B){h._orgLatLng=h.getLatLng(),h.setLatLng(k),h._snapped=!0,h._snapInfo=z;let q=()=>{this._snapLatLng=k,this._fireSnap(h,z),this._fireSnap(this._layer,z)},J=this._snapLatLng||{},ee=k||{};(J.lat!==ee.lat||J.lng!==ee.lng)&&q()}else this._snapLatLng&&(this._unsnap(z),h._snapped=!1,h._snapInfo=void 0,this._fireUnsnap(z.marker,z),this._fireUnsnap(this._layer,z));return!0},_createSnapList(){let i=[],h=[],d=this._map;d.off("layerremove",this._handleSnapLayerRemoval,this),d.on("layerremove",this._handleSnapLayerRemoval,this),d.eachLayer(v=>{if((v instanceof L.Polyline||v instanceof L.Marker||v instanceof L.CircleMarker||v instanceof L.ImageOverlay)&&v.options.snapIgnore!==!0){if(v.options.snapIgnore===void 0&&(!L.PM.optIn&&v.options.pmIgnore===!0||L.PM.optIn&&v.options.pmIgnore!==!1))return;(v instanceof L.Circle||v instanceof L.CircleMarker)&&v.pm&&v.pm._hiddenPolyCircle?i.push(v.pm._hiddenPolyCircle):v instanceof L.ImageOverlay&&(v=L.rectangle(v.getBounds())),i.push(v);let k=L.polyline([],{color:"red",pmIgnore:!0});k._pmTempLayer=!0,h.push(k),(v instanceof L.Circle||v instanceof L.CircleMarker)&&h.push(k)}}),i=i.filter(v=>this._layer!==v),i=i.filter(v=>v._latlng||v._latlngs&&Yr(v._latlngs)),i=i.filter(v=>!v._pmTempLayer),this._otherSnapLayers?(this._otherSnapLayers.forEach(()=>{let v=L.polyline([],{color:"red",pmIgnore:!0});v._pmTempLayer=!0,h.push(v)}),this._snapList=i.concat(this._otherSnapLayers)):this._snapList=i,this.debugIndicatorLines=h},_handleSnapLayerRemoval({layer:i}){if(!i._leaflet_id)return;let h=this._snapList.findIndex(d=>d._leaflet_id===i._leaflet_id);h>-1&&this._snapList.splice(h,1)},_calcClosestLayer(i,h){return this._calcClosestLayers(i,h,1)[0]},_calcClosestLayers(i,h,d=1){let v=[],k={};h.forEach((z,q)=>{if(z._parentCopy&&z._parentCopy===this._layer||z.getLatLngs?.().flat(5).length<2)return;let J=this._calcLayerDistances(i,z);if(J.distance=Math.floor(J.distance),this.debugIndicatorLines){if(!this.debugIndicatorLines[q]){let ee=L.polyline([],{color:"red",pmIgnore:!0});ee._pmTempLayer=!0,this.debugIndicatorLines[q]=ee}this.debugIndicatorLines[q].setLatLngs([i,J.latlng])}d===1&&(k.distance===void 0||J.distance-5<=k.distance)?(J.distance+5<k.distance&&(v=[]),k=J,k.layer=z,v.push(k)):d!==1&&(k={},k=J,k.layer=z,v.push(k))}),d!==1&&(v=v.sort((z,q)=>z.distance-q.distance)),d===-1&&(d=v.length);let B=this._getClosestLayerByPriority(v,d);return L.Util.isArray(B)?B:[B]},_calcLayerDistances(i,h){let d=this._map,v=h instanceof L.Marker||h instanceof L.CircleMarker,k=h instanceof L.Polygon,B=i;if(v){let z=h.getLatLng();return{latlng:{...z},distance:this._getDistance(d,z,B)}}return this._calcLatLngDistances(B,h.getLatLngs(),d,k)},_calcLatLngDistances(i,h,d,v=!1){let k,B,z,q=J=>{J.forEach((ee,Re)=>{if(Array.isArray(ee)){q(ee);return}if(this.options.snapSegment){let Me=ee,lt;v?lt=Re+1===J.length?0:Re+1:lt=Re+1===J.length?void 0:Re+1;let gt=J[lt];if(gt){let Et=this._getDistanceToSegment(d,i,Me,gt);(B===void 0||Et<B)&&(B=Et,z=[Me,gt])}}else{let Me=this._getDistance(d,i,ee);(B===void 0||Me<B)&&(B=Me,k=ee)}})};return q(h),this.options.snapSegment?{latlng:{...this._getClosestPointOnSegment(d,i,z[0],z[1])},segment:z,distance:B}:{latlng:k,distance:B}},_getClosestLayerByPriority(i,h=1){i=i.sort((z,q)=>z._leaflet_id-q._leaflet_id);let d=["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],v=this._map.pm.globalOptions.snappingOrder||[],k=0,B={};return v.concat(d).forEach(z=>{B[z]||(k+=1,B[z]=k)}),i.sort(za("instanceofShape",B)),h===1?i[0]||{}:i.slice(0,h)},_checkPrioritiySnapping(i){let h=this._map,d=i.segment[0],v=i.segment[1],k=i.latlng,B=k;if(this.options.snapVertex){let z=this._getDistance(h,d,k),q=this._getDistance(h,v,k),J=z<q?d:v,ee=z<q?z:q;if(this.options.snapMiddle){let Me=L.PM.Utils.calcMiddleLatLng(h,d,v),lt=this._getDistance(h,Me,k);lt<z&&lt<q&&(J=Me,ee=lt)}let Re=this.options.snapDistance;ee<Re&&(B=J)}return{...B}},_unsnap(){delete this._snapLatLng},_getClosestPointOnSegment(i,h,d,v){let k=i.getMaxZoom();k===1/0&&(k=i.getZoom());let B=i.project(h,k),z=i.project(d,k),q=i.project(v,k),J=L.LineUtil.closestPointOnSegment(B,z,q);return i.unproject(J,k)},_getDistanceToSegment(i,h,d,v){let k=i.latLngToContainerPoint(h),B=i.latLngToContainerPoint(d),z=i.latLngToContainerPoint(v);return L.LineUtil.pointToSegmentDistance(k,B,z)},_getDistance(i,h,d){return i.latLngToContainerPoint(h).distanceTo(i.latLngToContainerPoint(d))}},oo=Xs,Ua=L.Class.extend({includes:[oo,Ys],options:{snappable:!0,snapDistance:20,snapMiddle:!1,allowSelfIntersection:!0,tooltips:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},pathOptions:null,cursorMarker:!0,finishOn:null,markerStyle:{draggable:!0,icon:L.icon()},hideMiddleMarkers:!1,minRadiusCircle:null,maxRadiusCircle:null,minRadiusCircleMarker:null,maxRadiusCircleMarker:null,resizeableCircleMarker:!1,resizeableCircle:!0,markerEditable:!0,continueDrawing:!1,snapSegment:!0,requireSnapToFinish:!1,rectangleAngle:0,textOptions:{text:null,focusAfterDraw:null,removeIfEmpty:null,className:null},snapVertex:!0},setOptions(i){L.Util.setOptions(this,i),this.setStyle(this.options)},setStyle(){},getOptions(){return this.options},initialize(i){let h=new L.Icon.Default;h.options.tooltipAnchor=[0,0],this.options.markerStyle.icon=h,this._map=i,this.shapes=["Marker","CircleMarker","Line","Polygon","Rectangle","Circle","Cut","Text"],this.shapes.forEach(d=>{this[d]=new L.PM.Draw[d](this._map)}),this.Marker.setOptions({continueDrawing:!0}),this.CircleMarker.setOptions({continueDrawing:!0})},setPathOptions(i,h=!1){h?this.options.pathOptions=(0,So.default)(this.options.pathOptions,i):this.options.pathOptions=i},getShapes(){return this.shapes},getShape(){return this._shape},enable(i,h){if(!i)throw new Error(`Error: Please pass a shape as a parameter. Possible shapes are: ${this.getShapes().join(",")}`);this.disable(),this[i].enable(h)},disable(){this.shapes.forEach(i=>{this[i].disable()})},addControls(){this.shapes.forEach(i=>{this[i].addButton()})},getActiveShape(){let i;return this.shapes.forEach(h=>{this[h]._enabled&&(i=h)}),i},_setGlobalDrawMode(){this._shape==="Cut"?this._fireGlobalCutModeToggled():this._fireGlobalDrawModeToggled();let i=[];this._map.eachLayer(h=>{(h instanceof L.Polyline||h instanceof L.Marker||h instanceof L.Circle||h instanceof L.CircleMarker||h instanceof L.ImageOverlay)&&(h._pmTempLayer||i.push(h))}),this._enabled?i.forEach(h=>{L.PM.Utils.disablePopup(h)}):i.forEach(h=>{L.PM.Utils.enablePopup(h)})},createNewDrawInstance(i,h){let d=this._getShapeFromBtnName(h);if(this[i])throw new TypeError("Draw Type already exists");if(!L.PM.Draw[d])throw new TypeError(`There is no class L.PM.Draw.${d}`);return this[i]=new L.PM.Draw[d](this._map),this[i].toolbarButtonName=i,this[i]._shape=i,this.shapes.push(i),this[h]&&this[i].setOptions(this[h].options),this[i].setOptions(this[i].options),this[i]},_getShapeFromBtnName(i){let h={drawMarker:"Marker",drawCircle:"Circle",drawPolygon:"Polygon",drawPolyline:"Line",drawRectangle:"Rectangle",drawCircleMarker:"CircleMarker",editMode:"Edit",dragMode:"Drag",cutPolygon:"Cut",removalMode:"Removal",rotateMode:"Rotate",drawText:"Text"};return h[i]?h[i]:this[i]?this[i]._shape:i},_finishLayer(i){i.pm&&(i.pm.setOptions(this.options),i.pm._shape=this._shape,i.pm._map=this._map),this._addDrawnLayerProp(i)},_addDrawnLayerProp(i){i._drawnByGeoman=!0},_setPane(i,h){h==="layerPane"?i.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":h==="vertexPane"?i.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":h==="markerPane"&&(i.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},_isFirstLayer(){return(this._map||this._layer._map).pm.getGeomanLayers().length===0}}),Tr=Ua;Tr.Marker=Tr.extend({initialize(i){this._map=i,this._shape="Marker",this.toolbarButtonName="drawMarker"},enable(i){L.Util.setOptions(this,i),this._enabled=!0,this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),this.options.markerStyle),this._setPane(this._hintMarker,"markerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip(gn("tooltips.placeMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this.options.markerEditable&&this._map.eachLayer(h=>{this.isRelevantMarker(h)&&h.pm.enable()}),this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer(i=>{this.isRelevantMarker(i)&&i.pm.disable()}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(i){this.enabled()?this.disable():this.enable(i)},isRelevantMarker(i){return i instanceof L.Marker&&i.pm&&!i._pmTempLayer&&!i.pm._initTextMarker},_syncHintMarker(i){if(this._hintMarker.setLatLng(i.latlng),this.options.snappable){let h=i;h.target=this._hintMarker,this._handleSnapping(h)}this._fireChange(this._hintMarker.getLatLng(),"Draw")},_createMarker(i){if(!i.latlng||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);let h=this._hintMarker.getLatLng(),d=new L.Marker(h,this.options.markerStyle);this._setPane(d,"markerPane"),this._finishLayer(d),d.pm||(d.options.draggable=!1),d.addTo(this._map.pm._getContainingLayer()),d.pm&&this.options.markerEditable?d.pm.enable():d.dragging&&d.dragging.disable(),this._fireCreate(d),this._cleanupSnapping(),this.options.continueDrawing||this.disable()},setStyle(){this.options.markerStyle?.icon&&this._hintMarker?.setIcon(this.options.markerStyle.icon)}});var P=63710088e-1,ne={centimeters:P*100,centimetres:P*100,degrees:P/111325,feet:P*3.28084,inches:P*39.37,kilometers:P/1e3,kilometres:P/1e3,meters:P,metres:P,miles:P/1609.344,millimeters:P*1e3,millimetres:P*1e3,nauticalmiles:P/1852,radians:1,yards:P*1.0936};function De(i,h,d){d===void 0&&(d={});var v={type:"Feature"};return(d.id===0||d.id)&&(v.id=d.id),d.bbox&&(v.bbox=d.bbox),v.properties=h||{},v.geometry=i,v}function $e(i,h,d){if(d===void 0&&(d={}),!i)throw new Error("coordinates is required");if(!Array.isArray(i))throw new Error("coordinates must be an Array");if(i.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!kn(i[0])||!kn(i[1]))throw new Error("coordinates must contain numbers");var v={type:"Point",coordinates:i};return De(v,h,d)}function ct(i,h,d){if(d===void 0&&(d={}),i.length<2)throw new Error("coordinates must be an array of two or more positions");var v={type:"LineString",coordinates:i};return De(v,h,d)}function kt(i,h){h===void 0&&(h={});var d={type:"FeatureCollection"};return h.id&&(d.id=h.id),h.bbox&&(d.bbox=h.bbox),d.features=i,d}function Ft(i,h){h===void 0&&(h="kilometers");var d=ne[h];if(!d)throw new Error(h+" units is invalid");return i*d}function Jt(i,h){h===void 0&&(h="kilometers");var d=ne[h];if(!d)throw new Error(h+" units is invalid");return i/d}function en(i){var h=i%(2*Math.PI);return h*180/Math.PI}function _n(i){var h=i%360;return h*Math.PI/180}function kn(i){return!isNaN(i)&&i!==null&&!Array.isArray(i)}function Rn(i){var h,d,v={type:"FeatureCollection",features:[]};if(i.type==="Feature"?d=i.geometry:d=i,d.type==="LineString")h=[d.coordinates];else if(d.type==="MultiLineString")h=d.coordinates;else if(d.type==="MultiPolygon")h=[].concat.apply([],d.coordinates);else if(d.type==="Polygon")h=d.coordinates;else throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");return h.forEach(function(k){h.forEach(function(B){for(var z=0;z<k.length-1;z++)for(var q=z;q<B.length-1;q++)if(!(k===B&&(Math.abs(z-q)===1||z===0&&q===k.length-2&&k[z][0]===k[k.length-1][0]&&k[z][1]===k[k.length-1][1]))){var J=_r(k[z][0],k[z][1],k[z+1][0],k[z+1][1],B[q][0],B[q][1],B[q+1][0],B[q+1][1]);J&&v.features.push($e([J[0],J[1]]))}})}),v}function _r(i,h,d,v,k,B,z,q){var J,ee,Re,Me,lt,gt={x:null,y:null,onLine1:!1,onLine2:!1};return J=(q-B)*(d-i)-(z-k)*(v-h),J===0?gt.x!==null&&gt.y!==null?gt:!1:(ee=h-B,Re=i-k,Me=(z-k)*ee-(q-B)*Re,lt=(d-i)*ee-(v-h)*Re,ee=Me/J,Re=lt/J,gt.x=i+ee*(d-i),gt.y=h+ee*(v-h),ee>=0&&ee<=1&&(gt.onLine1=!0),Re>=0&&Re<=1&&(gt.onLine2=!0),gt.onLine1&&gt.onLine2?[gt.x,gt.y]:!1)}Tr.Line=Tr.extend({initialize(i){this._map=i,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable(i){L.Util.setOptions(this,i),this._enabled=!0,this._markers=[],this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],{...this.options.templineStyle,pmIgnore:!1}),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(gn("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createVertex,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.on(this.options.finishOn,this._finishShape,this),this.options.finishOn==="dblclick"&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this.isRed=!1,this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(i){this.enabled()?this.disable():this.enable(i)},_syncHintLine(){let i=this._layer.getLatLngs();if(i.length>0){let h=i[i.length-1];this._hintline.setLatLngs([h,this._hintMarker.getLatLng()])}},_syncHintMarker(i){if(this._hintMarker.setLatLng(i.latlng),this.options.snappable){let d=i;d.target=this._hintMarker,this._handleSnapping(d)}this.options.allowSelfIntersection||this._handleSelfIntersection(!0,this._hintMarker.getLatLng());let h=this._layer._defaultShape().slice();h.push(this._hintMarker.getLatLng()),this._change(h)},hasSelfIntersection(){return Rn(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersection(i,h){let d=L.polyline(this._layer.getLatLngs());i&&(h||(h=this._hintMarker.getLatLng()),d.addLatLng(h));let v=Rn(d.toGeoJSON(15));this._doesSelfIntersect=v.features.length>0,this._doesSelfIntersect?this.isRed||(this.isRed=!0,this._hintline.setStyle({color:"#f00000ff"}),this._fireIntersect(v,this._map,"Draw")):this._hintline.isEmpty()||(this.isRed=!1,this._hintline.setStyle(this.options.hintlineStyle))},_createVertex(i){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,i.latlng),this._doesSelfIntersect))return;this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);let h=this._hintMarker.getLatLng(),d=this._layer.getLatLngs(),v=d[d.length-1];if(h.equals(d[0])||d.length>0&&h.equals(v)){this._finishShape();return}this._layer._latlngInfo=this._layer._latlngInfo||[],this._layer._latlngInfo.push({latlng:h,snapInfo:this._hintMarker._snapInfo}),this._layer.addLatLng(h);let k=this._createMarker(h);this._setTooltipText(),this._setHintLineAfterNewVertex(h),this._fireVertexAdded(k,void 0,h,"Draw"),this._change(this._layer.getLatLngs()),this.options.finishOn==="snap"&&this._hintMarker._snapped&&this._finishShape(i)},_setHintLineAfterNewVertex(i){this._hintline.setLatLngs([i,i])},_removeLastVertex(){let i=this._markers;if(i.length<=1){this.disable();return}let h=this._layer.getLatLngs(),d=i[i.length-1],{indexPath:v}=L.PM.Utils.findDeepMarkerIndex(i,d);i.pop(),this._layerGroup.removeLayer(d);let k=i[i.length-1],B=h.indexOf(k.getLatLng());h=h.slice(0,B+1),this._layer.setLatLngs(h),this._layer._latlngInfo.pop(),this._syncHintLine(),this._setTooltipText(),this._fireVertexRemoved(d,v,"Draw"),this._change(this._layer.getLatLngs())},_finishShape(){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!1),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let i=this._layer.getLatLngs();if(i.length<=1)return;let h=L.polyline(i,this.options.pathOptions);this._setPane(h,"layerPane"),this._finishLayer(h),h.addTo(this._map.pm._getContainingLayer()),this._fireCreate(h),this.options.snappable&&this._cleanupSnapping();let d=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(d))},_createMarker(i){let h=new L.Marker(i,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(h,"vertexPane"),h._pmTempLayer=!0,this._layerGroup.addLayer(h),this._markers.push(h),h.on("click",this._finishShape,this),h},_setTooltipText(){let{length:i}=this._layer.getLatLngs().flat(),h="";i<=1?h=gn("tooltips.continueLine"):h=gn("tooltips.finishLine"),this._hintMarker.setTooltipContent(h)},_change(i){this._fireChange(i,"Draw")},setStyle(){this._layer?.setStyle(this.options.templineStyle),this._hintline?.setStyle(this.options.hintlineStyle)}}),Tr.Polygon=Tr.Line.extend({initialize(i){this._map=i,this._shape="Polygon",this.toolbarButtonName="drawPolygon"},enable(i){L.PM.Draw.Line.prototype.enable.call(this,i),this._layer.pm._shape="Polygon"},_createMarker(i){let h=new L.Marker(i,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(h,"vertexPane"),h._pmTempLayer=!0,this._layerGroup.addLayer(h),this._markers.push(h),this._layer.getLatLngs().flat().length===1?(h.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(h)-1,this.options.snappable&&this._cleanupSnapping()):h.on("click",()=>1),h},_setTooltipText(){let{length:i}=this._layer.getLatLngs().flat(),h="";i<=2?h=gn("tooltips.continueLine"):h=gn("tooltips.finishPoly"),this._hintMarker.setTooltipContent(h)},_finishShape(){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let i=this._layer.getLatLngs();if(i.length<=2)return;let h=L.polygon(i,this.options.pathOptions);this._setPane(h,"layerPane"),this._finishLayer(h),h.addTo(this._map.pm._getContainingLayer()),this._fireCreate(h),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex;let d=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(d))}}),Tr.Rectangle=Tr.extend({initialize(i){this._map=i,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable(i){if(L.Util.setOptions(this,i),this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._startMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!1,zIndexOffset:-100,opacity:this.options.cursorMarker?1:0}),this._setPane(this._startMarker,"vertexPane"),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:150,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(gn("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){this._styleMarkers=[];for(let h=0;h<2;h+=1){let d=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!1,zIndexOffset:100});this._setPane(d,"vertexPane"),d._pmTempLayer=!0,this._layerGroup.addLayer(d),this._styleMarkers.push(d)}}this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(i){this.enabled()?this.disable():this.enable(i)},_placeStartingMarkers(i){this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);let h=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(h),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach(d=>{L.DomUtil.addClass(d._icon,"visible"),d.setLatLng(h)}),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent(gn("tooltips.finishRect")),this._setRectangleOrigin()},_setRectangleOrigin(){let i=this._startMarker.getLatLng();i&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([i,i]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker(i){if(this._hintMarker.setLatLng(i.latlng),this.options.snappable){let d=i;d.target=this._hintMarker,this._handleSnapping(d)}let h=this._layerGroup&&this._layerGroup.hasLayer(this._layer)?this._layer.getLatLngs():[this._hintMarker.getLatLng()];this._fireChange(h,"Draw")},_syncRectangleSize(){let i=ko(this._startMarker.getLatLng(),this._map),h=ko(this._hintMarker.getLatLng(),this._map),d=L.PM.Utils._getRotatedRectangle(i,h,this.options.rectangleAngle||0,this._map);if(this._layer.setLatLngs(d),this.options.cursorMarker&&this._styleMarkers){let v=[];d.forEach(k=>{!k.equals(i,1e-8)&&!k.equals(h,1e-8)&&v.push(k)}),v.forEach((k,B)=>{try{this._styleMarkers[B].setLatLng(k)}catch{}})}},_findCorners(){let i=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(i[0],i[2],this.options.rectangleAngle||0,this._map)},_finishShape(i){this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);let h=this._hintMarker.getLatLng(),d=this._startMarker.getLatLng();if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer()||d.equals(h))return;let v=L.rectangle([d,h],this.options.pathOptions);if(this.options.rectangleAngle){let B=L.PM.Utils._getRotatedRectangle(d,h,this.options.rectangleAngle||0,this._map);v.setLatLngs(B),v.pm&&v.pm._setAngle(this.options.rectangleAngle||0)}this._setPane(v,"layerPane"),this._finishLayer(v),v.addTo(this._map.pm._getContainingLayer()),this._fireCreate(v);let k=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(k))},setStyle(){this._layer?.setStyle(this.options.pathOptions)}}),Tr.CircleMarker=Tr.extend({initialize(i){this._map=i,this._shape="CircleMarker",this.toolbarButtonName="drawCircleMarker",this._layerIsDragging=!1,this._BaseCircleClass=L.CircleMarker,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._defaultRadius=10},enable(i){if(L.Util.setOptions(this,i),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),this._enabled=!0,this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._map.getContainer().classList.add("geoman-draw-cursor"),this.options[this._editableOption]){let h={};L.extend(h,this.options.templineStyle),h.radius=0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=new this._BaseCircleClass(this._map.getCenter(),h),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(gn("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map.on("click",this._placeCenterMarker,this)}else this._map.on("click",this._createMarker,this),this._hintMarker=new this._BaseCircleClass(this._map.getCenter(),{radius:this._defaultRadius,...this.options.templineStyle}),this._setPane(this._hintMarker,"layerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this._layer=this._hintMarker,this.options.tooltips&&this._hintMarker.bindTooltip(gn("tooltips.placeCircleMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip();this._map.on("mousemove",this._syncHintMarker,this),this._extendingEnable(),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},_extendingEnable(){!this.options[this._editableOption]&&this.options.markerEditable&&this._map.eachLayer(i=>{this.isRelevantMarker(i)&&i.pm.enable()}),this._layer.bringToBack()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this.options[this._editableOption]?(this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.removeLayer(this._layerGroup)):(this._map.off("click",this._createMarker,this),this._extendingDisable(),this._hintMarker.remove()),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},_extendingDisable(){this._map.eachLayer(i=>{this.isRelevantMarker(i)&&i.pm.disable()})},enabled(){return this._enabled},toggle(i){this.enabled()?this.disable():this.enable(i)},_placeCenterMarker(i){this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng),this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker);let h=this._hintMarker.getLatLng();this._centerMarker.setLatLng(h),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter(){let i=this._centerMarker.getLatLng();i&&(this._layer.setLatLng(i),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(gn("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_syncHintLine(){let i=this._centerMarker.getLatLng(),h=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([i,h])},_syncCircleRadius(){let i=this._centerMarker.getLatLng(),h=this._hintMarker.getLatLng(),d=this._distanceCalculation(i,h);this.options[this._minRadiusOption]&&d<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&d>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(d)},_syncHintMarker(i){if(this._hintMarker.setLatLng(i.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){let d=i;d.target=this._hintMarker,this._handleSnapping(d)}this._handleHintMarkerSnapping();let h=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(h,"Draw")},isRelevantMarker(i){return i instanceof L.CircleMarker&&!(i instanceof L.Circle)&&i.pm&&!i._pmTempLayer},_createMarker(i){if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer()||!i.latlng||this._layerIsDragging)return;this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);let h=this._hintMarker.getLatLng(),d=new this._BaseCircleClass(h,{radius:this._defaultRadius,...this.options.pathOptions});this._setPane(d,"layerPane"),this._finishLayer(d),d.addTo(this._map.pm._getContainingLayer()),this._extendingCreateMarker(d),this._fireCreate(d),this._cleanupSnapping(),this.options.continueDrawing||this.disable()},_extendingCreateMarker(i){i.pm&&this.options.markerEditable&&i.pm.enable()},_finishShape(i){if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);let h=this._centerMarker.getLatLng(),d=this._defaultRadius;if(this.options[this._editableOption]){let z=this._hintMarker.getLatLng();d=this._distanceCalculation(h,z),this.options[this._minRadiusOption]&&d<this.options[this._minRadiusOption]?d=this.options[this._minRadiusOption]:this.options[this._maxRadiusOption]&&d>this.options[this._maxRadiusOption]&&(d=this.options[this._maxRadiusOption])}let v={...this.options.pathOptions,radius:d},k=new this._BaseCircleClass(h,v);this._setPane(k,"layerPane"),this._finishLayer(k),k.addTo(this._map.pm._getContainingLayer()),k.pm&&k.pm._updateHiddenPolyCircle(),this._fireCreate(k);let B=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(B))},_getNewDestinationOfHintMarker(){let i=this._hintMarker.getLatLng();if(this.options[this._editableOption]){if(!this._layerGroup.hasLayer(this._centerMarker))return i;let h=this._centerMarker.getLatLng(),d=this._distanceCalculation(h,i);this.options[this._minRadiusOption]&&d<this.options[this._minRadiusOption]?i=Ts(this._map,h,i,this._getMinDistanceInMeter()):this.options[this._maxRadiusOption]&&d>this.options[this._maxRadiusOption]&&(i=Ts(this._map,h,i,this._getMaxDistanceInMeter()))}return i},_getMinDistanceInMeter(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,this._centerMarker.getLatLng())},_getMaxDistanceInMeter(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,this._centerMarker.getLatLng())},_handleHintMarkerSnapping(){if(this.options[this._editableOption]){if(this._hintMarker._snapped){let i=this._centerMarker.getLatLng(),h=this._hintMarker.getLatLng(),d=this._distanceCalculation(i,h);this._layerGroup.hasLayer(this._centerMarker)&&(this.options[this._minRadiusOption]&&d<this.options[this._minRadiusOption]?this._hintMarker.setLatLng(this._hintMarker._orgLatLng):this.options[this._maxRadiusOption]&&d>this.options[this._maxRadiusOption]&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng))}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())}},setStyle(){let i={};L.extend(i,this.options.templineStyle),this.options[this._editableOption]&&(i.radius=0),this._layer?.setStyle(i),this._hintline?.setStyle(this.options.hintlineStyle)},_distanceCalculation(i,h){return this._map.project(i).distanceTo(this._map.project(h))}}),Tr.Circle=Tr.CircleMarker.extend({initialize(i){this._map=i,this._shape="Circle",this.toolbarButtonName="drawCircle",this._BaseCircleClass=L.Circle,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizeableCircle",this._defaultRadius=100},_extendingEnable(){},_extendingDisable(){},_extendingCreateMarker(){},isRelevantMarker(){},_getMinDistanceInMeter(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter(){return this.options[this._maxRadiusOption]},_distanceCalculation(i,h){return this._map.distance(i,h)}});function Zn(i){if(!i)throw new Error("coord is required");if(!Array.isArray(i)){if(i.type==="Feature"&&i.geometry!==null&&i.geometry.type==="Point")return i.geometry.coordinates;if(i.type==="Point")return i.coordinates}if(Array.isArray(i)&&i.length>=2&&!Array.isArray(i[0])&&!Array.isArray(i[1]))return i;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function rr(i){if(Array.isArray(i))return i;if(i.type==="Feature"){if(i.geometry!==null)return i.geometry.coordinates}else if(i.coordinates)return i.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function Ur(i){return i.type==="Feature"?i.geometry:i}function Rr(i,h){return i.type==="FeatureCollection"?"FeatureCollection":i.type==="GeometryCollection"?"GeometryCollection":i.type==="Feature"&&i.geometry!==null?i.geometry.type:i.type}function ns(i,h,d){if(i!==null)for(var v,k,B,z,q,J,ee,Re=0,Me=0,lt,gt=i.type,Et=gt==="FeatureCollection",Wt=gt==="Feature",Zt=Et?i.features.length:1,mn=0;mn<Zt;mn++){ee=Et?i.features[mn].geometry:Wt?i.geometry:i,lt=ee?ee.type==="GeometryCollection":!1,q=lt?ee.geometries.length:1;for(var Oe=0;Oe<q;Oe++){var Ue=0,nt=0;if(z=lt?ee.geometries[Oe]:ee,z!==null){J=z.coordinates;var yt=z.type;switch(Re=0,yt){case null:break;case"Point":if(h(J,Me,mn,Ue,nt)===!1)return!1;Me++,Ue++;break;case"LineString":case"MultiPoint":for(v=0;v<J.length;v++){if(h(J[v],Me,mn,Ue,nt)===!1)return!1;Me++,yt==="MultiPoint"&&Ue++}yt==="LineString"&&Ue++;break;case"Polygon":case"MultiLineString":for(v=0;v<J.length;v++){for(k=0;k<J[v].length-Re;k++){if(h(J[v][k],Me,mn,Ue,nt)===!1)return!1;Me++}yt==="MultiLineString"&&Ue++,yt==="Polygon"&&nt++}yt==="Polygon"&&Ue++;break;case"MultiPolygon":for(v=0;v<J.length;v++){for(nt=0,k=0;k<J[v].length;k++){for(B=0;B<J[v][k].length-Re;B++){if(h(J[v][k][B],Me,mn,Ue,nt)===!1)return!1;Me++}nt++}Ue++}break;case"GeometryCollection":for(v=0;v<z.geometries.length;v++)if(ns(z.geometries[v],h)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function hr(i,h){if(i.type==="Feature")h(i,0);else if(i.type==="FeatureCollection")for(var d=0;d<i.features.length&&h(i.features[d],d)!==!1;d++);}function li(i,h,d){var v=d;return hr(i,function(k,B){B===0&&d===void 0?v=k:v=h(v,k,B)}),v}function qa(i,h){var d,v,k,B,z,q,J,ee,Re,Me,lt=0,gt=i.type==="FeatureCollection",Et=i.type==="Feature",Wt=gt?i.features.length:1;for(d=0;d<Wt;d++){for(q=gt?i.features[d].geometry:Et?i.geometry:i,ee=gt?i.features[d].properties:Et?i.properties:{},Re=gt?i.features[d].bbox:Et?i.bbox:void 0,Me=gt?i.features[d].id:Et?i.id:void 0,J=q?q.type==="GeometryCollection":!1,z=J?q.geometries.length:1,k=0;k<z;k++){if(B=J?q.geometries[k]:q,B===null){if(h(null,lt,ee,Re,Me)===!1)return!1;continue}switch(B.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(h(B,lt,ee,Re,Me)===!1)return!1;break}case"GeometryCollection":{for(v=0;v<B.geometries.length;v++)if(h(B.geometries[v],lt,ee,Re,Me)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}lt++}}function Ci(i,h){qa(i,function(d,v,k,B,z){var q=d===null?null:d.type;switch(q){case null:case"Point":case"LineString":case"Polygon":return h(De(d,k,{bbox:B,id:z}),v,0)===!1?!1:void 0}var J;switch(q){case"MultiPoint":J="Point";break;case"MultiLineString":J="LineString";break;case"MultiPolygon":J="Polygon";break}for(var ee=0;ee<d.coordinates.length;ee++){var Re=d.coordinates[ee],Me={type:J,coordinates:Re};if(h(De(Me,k),v,ee)===!1)return!1}})}function Eo(i){if(!i)throw new Error("geojson is required");var h=[];return Ci(i,function(d){_s(d,h)}),kt(h)}function _s(i,h){var d=[],v=i.geometry;if(v!==null){switch(v.type){case"Polygon":d=rr(v);break;case"LineString":d=[rr(v)]}d.forEach(function(k){var B=Po(k,i.properties);B.forEach(function(z){z.id=h.length,h.push(z)})})}}function Po(i,h){var d=[];return i.reduce(function(v,k){var B=ct([v,k],h);return B.bbox=Qs(v,k),d.push(B),k}),d}function Qs(i,h){var d=i[0],v=i[1],k=h[0],B=h[1],z=d<k?d:k,q=v<B?v:B,J=d>k?d:k,ee=v>B?v:B;return[z,q,J,ee]}var ea=Eo,vr=g(Qi(),1);function Ao(i,h){var d={},v=[];if(i.type==="LineString"&&(i=De(i)),h.type==="LineString"&&(h=De(h)),i.type==="Feature"&&h.type==="Feature"&&i.geometry!==null&&h.geometry!==null&&i.geometry.type==="LineString"&&h.geometry.type==="LineString"&&i.geometry.coordinates.length===2&&h.geometry.coordinates.length===2){var k=Ui(i,h);return k&&v.push(k),kt(v)}var B=(0,vr.default)();return B.load(ea(h)),hr(ea(i),function(z){hr(B.search(z),function(q){var J=Ui(z,q);if(J){var ee=rr(J).join(",");d[ee]||(d[ee]=!0,v.push(J))}})}),kt(v)}function Ui(i,h){var d=rr(i),v=rr(h);if(d.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(v.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var k=d[0][0],B=d[0][1],z=d[1][0],q=d[1][1],J=v[0][0],ee=v[0][1],Re=v[1][0],Me=v[1][1],lt=(Me-ee)*(z-k)-(Re-J)*(q-B),gt=(Re-J)*(B-ee)-(Me-ee)*(k-J),Et=(z-k)*(B-ee)-(q-B)*(k-J);if(lt===0)return null;var Wt=gt/lt,Zt=Et/lt;if(Wt>=0&&Wt<=1&&Zt>=0&&Zt<=1){var mn=k+Wt*(z-k),Oe=B+Wt*(q-B);return $e([mn,Oe])}return null}var Si=Ao,lo=g(Qi(),1);function ui(i,h,d){d===void 0&&(d={});var v=Zn(i),k=Zn(h),B=_n(k[1]-v[1]),z=_n(k[0]-v[0]),q=_n(v[1]),J=_n(k[1]),ee=Math.pow(Math.sin(B/2),2)+Math.pow(Math.sin(z/2),2)*Math.cos(q)*Math.cos(J);return Ft(2*Math.atan2(Math.sqrt(ee),Math.sqrt(1-ee)),d.units)}var rs=ui;function hi(i){var h=i[0],d=i[1],v=i[2],k=i[3],B=rs(i.slice(0,2),[v,d]),z=rs(i.slice(0,2),[h,k]);if(B>=z){var q=(d+k)/2;return[h,q-(v-h)/2,v,q+(v-h)/2]}else{var J=(h+v)/2;return[J-(k-d)/2,d,J+(k-d)/2,k]}}var ll=hi;function Sr(i){var h=[1/0,1/0,-1/0,-1/0];return ns(i,function(d){h[0]>d[0]&&(h[0]=d[0]),h[1]>d[1]&&(h[1]=d[1]),h[2]<d[0]&&(h[2]=d[0]),h[3]<d[1]&&(h[3]=d[1])}),h}Sr.default=Sr;var ta=Sr;function is(i,h){h===void 0&&(h={});var d=h.precision,v=h.coordinates,k=h.mutate;if(d=d==null||isNaN(d)?6:d,v=v==null||isNaN(v)?3:v,!i)throw new Error("<geojson> is required");if(typeof d!="number")throw new Error("<precision> must be a number");if(typeof v!="number")throw new Error("<coordinates> must be a number");(k===!1||k===void 0)&&(i=JSON.parse(JSON.stringify(i)));var B=Math.pow(10,d);return ns(i,function(z){ya(z,B,v)}),i}function ya(i,h,d){i.length>d&&i.splice(d,i.length);for(var v=0;v<i.length;v++)i[v]=Math.round(i[v]*h)/h;return i}var Os=is;function Ds(i,h,d){if(d===void 0&&(d={}),d.final===!0)return Xr(i,h);var v=Zn(i),k=Zn(h),B=_n(v[0]),z=_n(k[0]),q=_n(v[1]),J=_n(k[1]),ee=Math.sin(z-B)*Math.cos(J),Re=Math.cos(q)*Math.sin(J)-Math.sin(q)*Math.cos(J)*Math.cos(z-B);return en(Math.atan2(ee,Re))}function Xr(i,h){var d=Ds(h,i);return d=(d+180)%360,d}function qr(i,h,d,v){v===void 0&&(v={});var k=Zn(i),B=_n(k[0]),z=_n(k[1]),q=_n(d),J=Jt(h,v.units),ee=Math.asin(Math.sin(z)*Math.cos(J)+Math.cos(z)*Math.sin(J)*Math.cos(q)),Re=B+Math.atan2(Math.sin(q)*Math.sin(J)*Math.cos(z),Math.cos(J)-Math.sin(z)*Math.sin(ee)),Me=en(Re),lt=en(ee);return $e([Me,lt],v.properties)}function Is(i,h,d){d===void 0&&(d={});var v=$e([1/0,1/0],{dist:1/0}),k=0;return Ci(i,function(B){for(var z=rr(B),q=0;q<z.length-1;q++){var J=$e(z[q]);J.properties.dist=rs(h,J,d);var ee=$e(z[q+1]);ee.properties.dist=rs(h,ee,d);var Re=rs(J,ee,d),Me=Math.max(J.properties.dist,ee.properties.dist),lt=Ds(J,ee),gt=qr(h,Me,lt+90,d),Et=qr(h,Me,lt-90,d),Wt=Si(ct([gt.geometry.coordinates,Et.geometry.coordinates]),ct([J.geometry.coordinates,ee.geometry.coordinates])),Zt=null;Wt.features.length>0&&(Zt=Wt.features[0],Zt.properties.dist=rs(h,Zt,d),Zt.properties.location=k+rs(J,Zt,d)),J.properties.dist<v.properties.dist&&(v=J,v.properties.index=q,v.properties.location=k),ee.properties.dist<v.properties.dist&&(v=ee,v.properties.index=q+1,v.properties.location=k+Re),Zt&&Zt.properties.dist<v.properties.dist&&(v=Zt,v.properties.index=q),k+=Re}}),v}var qi=Is;function vs(i,h){if(!i)throw new Error("line is required");if(!h)throw new Error("splitter is required");var d=Rr(i),v=Rr(h);if(d!=="LineString")throw new Error("line must be LineString");if(v==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(v==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var k=Os(h,{precision:7});switch(v){case"Point":return ys(i,k);case"MultiPoint":return wa(i,k);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return wa(i,Si(i,k))}}function wa(i,h){var d=[],v=(0,lo.default)();return Ci(h,function(k){if(d.forEach(function(q,J){q.id=J}),!d.length)d=ys(i,k).features,d.forEach(function(q){q.bbox||(q.bbox=ll(ta(q)))}),v.load(kt(d));else{var B=v.search(k);if(B.features.length){var z=Xn(k,B);d=d.filter(function(q){return q.id!==z.id}),v.remove(z),hr(ys(z,k),function(q){d.push(q),v.insert(q)})}}}),kt(d)}function ys(i,h){var d=[],v=rr(i)[0],k=rr(i)[i.geometry.coordinates.length-1];if(Gi(v,Zn(h))||Gi(k,Zn(h)))return kt([i]);var B=(0,lo.default)(),z=ea(i);B.load(z);var q=B.search(h);if(!q.features.length)return kt([i]);var J=Xn(h,q),ee=[v],Re=li(z,function(Me,lt,gt){var Et=rr(lt)[1],Wt=Zn(h);return gt===J.id?(Me.push(Wt),d.push(ct(Me)),Gi(Wt,Et)?[Wt]:[Wt,Et]):(Me.push(Et),Me)},ee);return Re.length>1&&d.push(ct(Re)),kt(d)}function Xn(i,h){if(!h.features.length)throw new Error("lines must contain features");if(h.features.length===1)return h.features[0];var d,v=1/0;return hr(h,function(k){var B=qi(k,i),z=B.properties.dist;z<v&&(d=k,v=z)}),d}function Gi(i,h){return i[0]===h[0]&&i[1]===h[1]}var vi=vs;function ci(i,h,d){if(d===void 0&&(d={}),!i)throw new Error("point is required");if(!h)throw new Error("polygon is required");var v=Zn(i),k=Ur(h),B=k.type,z=h.bbox,q=k.coordinates;if(z&&Mo(v,z)===!1)return!1;B==="Polygon"&&(q=[q]);for(var J=!1,ee=0;ee<q.length&&!J;ee++)if(Ga(v,q[ee][0],d.ignoreBoundary)){for(var Re=!1,Me=1;Me<q[ee].length&&!Re;)Ga(v,q[ee][Me],!d.ignoreBoundary)&&(Re=!0),Me++;Re||(J=!0)}return J}function Ga(i,h,d){var v=!1;h[0][0]===h[h.length-1][0]&&h[0][1]===h[h.length-1][1]&&(h=h.slice(0,h.length-1));for(var k=0,B=h.length-1;k<h.length;B=k++){var z=h[k][0],q=h[k][1],J=h[B][0],ee=h[B][1],Re=i[1]*(z-J)+q*(J-i[0])+ee*(i[0]-z)===0&&(z-i[0])*(J-i[0])<=0&&(q-i[1])*(ee-i[1])<=0;if(Re)return!d;var Me=q>i[1]!=ee>i[1]&&i[0]<(J-z)*(i[1]-q)/(ee-q)+z;Me&&(v=!v)}return v}function Mo(i,h){return h[0]<=i[0]&&h[1]<=i[1]&&h[2]>=i[0]&&h[3]>=i[1]}function uo(i,h,d){d===void 0&&(d={});for(var v=Zn(i),k=rr(h),B=0;B<k.length-1;B++){var z=!1;if(d.ignoreEndVertices&&(B===0&&(z="start"),B===k.length-2&&(z="end"),B===0&&B+1===k.length-1&&(z="both")),yi(k[B],k[B+1],v,z,typeof d.epsilon>"u"?null:d.epsilon))return!0}return!1}function yi(i,h,d,v,k){var B=d[0],z=d[1],q=i[0],J=i[1],ee=h[0],Re=h[1],Me=d[0]-q,lt=d[1]-J,gt=ee-q,Et=Re-J,Wt=Me*Et-lt*gt;if(k!==null){if(Math.abs(Wt)>k)return!1}else if(Wt!==0)return!1;if(v){if(v==="start")return Math.abs(gt)>=Math.abs(Et)?gt>0?q<B&&B<=ee:ee<=B&&B<q:Et>0?J<z&&z<=Re:Re<=z&&z<J;if(v==="end")return Math.abs(gt)>=Math.abs(Et)?gt>0?q<=B&&B<ee:ee<B&&B<=q:Et>0?J<=z&&z<Re:Re<z&&z<=J;if(v==="both")return Math.abs(gt)>=Math.abs(Et)?gt>0?q<B&&B<ee:ee<B&&B<q:Et>0?J<z&&z<Re:Re<z&&z<J}else return Math.abs(gt)>=Math.abs(Et)?gt>0?q<=B&&B<=ee:ee<=B&&B<=q:Et>0?J<=z&&z<=Re:Re<=z&&z<=J;return!1}var Hi=uo;function ss(i,h){var d=Ur(i),v=Ur(h),k=d.type,B=v.type,z=d.coordinates,q=v.coordinates;switch(k){case"Point":switch(B){case"Point":return Qn(z,q);default:throw new Error("feature2 "+B+" geometry not supported")}case"MultiPoint":switch(B){case"Point":return ws(d,v);case"MultiPoint":return na(d,v);default:throw new Error("feature2 "+B+" geometry not supported")}case"LineString":switch(B){case"Point":return Hi(v,d,{ignoreEndVertices:!0});case"LineString":return bs(d,v);case"MultiPoint":return ra(d,v);default:throw new Error("feature2 "+B+" geometry not supported")}case"Polygon":switch(B){case"Point":return ci(v,d,{ignoreBoundary:!0});case"LineString":return fi(d,v);case"Polygon":return Gr(d,v);case"MultiPoint":return ba(d,v);default:throw new Error("feature2 "+B+" geometry not supported")}default:throw new Error("feature1 "+k+" geometry not supported")}}function ws(i,h){var d,v=!1;for(d=0;d<i.coordinates.length;d++)if(Qn(i.coordinates[d],h.coordinates)){v=!0;break}return v}function na(i,h){for(var d=0,v=h.coordinates;d<v.length;d++){for(var k=v[d],B=!1,z=0,q=i.coordinates;z<q.length;z++){var J=q[z];if(Qn(k,J)){B=!0;break}}if(!B)return!1}return!0}function ra(i,h){for(var d=!1,v=0,k=h.coordinates;v<k.length;v++){var B=k[v];if(Hi(B,i,{ignoreEndVertices:!0})&&(d=!0),!Hi(B,i))return!1}return!!d}function ba(i,h){for(var d=0,v=h.coordinates;d<v.length;d++){var k=v[d];if(!ci(k,i,{ignoreBoundary:!0}))return!1}return!0}function bs(i,h){for(var d=!1,v=0,k=h.coordinates;v<k.length;v++){var B=k[v];if(Hi({type:"Point",coordinates:B},i,{ignoreEndVertices:!0})&&(d=!0),!Hi({type:"Point",coordinates:B},i,{ignoreEndVertices:!1}))return!1}return d}function fi(i,h){var d=!1,v=0,k=ta(i),B=ta(h);if(!ir(k,B))return!1;for(v;v<h.coordinates.length-1;v++){var z=Er(h.coordinates[v],h.coordinates[v+1]);if(ci({type:"Point",coordinates:z},i,{ignoreBoundary:!0})){d=!0;break}}return d}function Gr(i,h){if(i.type==="Feature"&&i.geometry===null||h.type==="Feature"&&h.geometry===null)return!1;var d=ta(i),v=ta(h);if(!ir(d,v))return!1;for(var k=Ur(h).coordinates,B=0,z=k;B<z.length;B++)for(var q=z[B],J=0,ee=q;J<ee.length;J++){var Re=ee[J];if(!ci(Re,i))return!1}return!0}function ir(i,h){return!(i[0]>h[0]||i[2]<h[2]||i[1]>h[1]||i[3]<h[3])}function Qn(i,h){return i[0]===h[0]&&i[1]===h[1]}function Er(i,h){return[(i[0]+h[0])/2,(i[1]+h[1])/2]}var lr=g(Xi()),xs=i=>()=>i,xa=i=>{let h=i?(d,v)=>v.minus(d).abs().isLessThanOrEqualTo(i):xs(!1);return(d,v)=>h(d,v)?0:d.comparedTo(v)};function Rs(i){let h=i?(d,v,k,B,z)=>d.exponentiatedBy(2).isLessThanOrEqualTo(B.minus(v).exponentiatedBy(2).plus(z.minus(k).exponentiatedBy(2)).times(i)):xs(!1);return(d,v,k)=>{let B=d.x,z=d.y,q=k.x,J=k.y,ee=z.minus(J).times(v.x.minus(q)).minus(B.minus(q).times(v.y.minus(J)));return h(ee,B,z,q,J)?0:ee.comparedTo(0)}}var zo=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Ei=Math.ceil,Nr=Math.floor,sr="[BigNumber Error] ",Wi=sr+"Number primitive has more than 15 significant digits: ",Vi=1e14,yn=14,Uo=9007199254740991,Ha=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],as=1e7,Pn=1e9;function qo(i){var h,d,v,k=Oe.prototype={constructor:Oe,toString:null,valueOf:null},B=new Oe(1),z=20,q=4,J=-7,ee=21,Re=-1e7,Me=1e7,lt=!1,gt=1,Et=0,Wt={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},Zt="0123456789abcdefghijklmnopqrstuvwxyz",mn=!0;function Oe(Y,ce){var be,me,Le,ke,Ze,Ge,Xe,pt,ht=this;if(!(ht instanceof Oe))return new Oe(Y,ce);if(ce==null){if(Y&&Y._isBigNumber===!0){ht.s=Y.s,!Y.c||Y.e>Me?ht.c=ht.e=null:Y.e<Re?ht.c=[ht.e=0]:(ht.e=Y.e,ht.c=Y.c.slice());return}if((Ge=typeof Y=="number")&&Y*0==0){if(ht.s=1/Y<0?(Y=-Y,-1):1,Y===~~Y){for(ke=0,Ze=Y;Ze>=10;Ze/=10,ke++);ke>Me?ht.c=ht.e=null:(ht.e=ke,ht.c=[Y]);return}pt=String(Y)}else{if(!zo.test(pt=String(Y)))return v(ht,pt,Ge);ht.s=pt.charCodeAt(0)==45?(pt=pt.slice(1),-1):1}(ke=pt.indexOf("."))>-1&&(pt=pt.replace(".","")),(Ze=pt.search(/e/i))>0?(ke<0&&(ke=Ze),ke+=+pt.slice(Ze+1),pt=pt.substring(0,Ze)):ke<0&&(ke=pt.length)}else{if(r(ce,2,Zt.length,"Base"),ce==10&&mn)return ht=new Oe(Y),rt(ht,z+ht.e+1,q);if(pt=String(Y),Ge=typeof Y=="number"){if(Y*0!=0)return v(ht,pt,Ge,ce);if(ht.s=1/Y<0?(pt=pt.slice(1),-1):1,Oe.DEBUG&&pt.replace(/^0\.0*|\./,"").length>15)throw Error(Wi+Y)}else ht.s=pt.charCodeAt(0)===45?(pt=pt.slice(1),-1):1;for(be=Zt.slice(0,ce),ke=Ze=0,Xe=pt.length;Ze<Xe;Ze++)if(be.indexOf(me=pt.charAt(Ze))<0){if(me=="."){if(Ze>ke){ke=Xe;continue}}else if(!Le&&(pt==pt.toUpperCase()&&(pt=pt.toLowerCase())||pt==pt.toLowerCase()&&(pt=pt.toUpperCase()))){Le=!0,Ze=-1,ke=0;continue}return v(ht,String(Y),Ge,ce)}Ge=!1,pt=d(pt,ce,10,ht.s),(ke=pt.indexOf("."))>-1?pt=pt.replace(".",""):ke=pt.length}for(Ze=0;pt.charCodeAt(Ze)===48;Ze++);for(Xe=pt.length;pt.charCodeAt(--Xe)===48;);if(pt=pt.slice(Ze,++Xe)){if(Xe-=Ze,Ge&&Oe.DEBUG&&Xe>15&&(Y>Uo||Y!==Nr(Y)))throw Error(Wi+ht.s*Y);if((ke=ke-Ze-1)>Me)ht.c=ht.e=null;else if(ke<Re)ht.c=[ht.e=0];else{if(ht.e=ke,ht.c=[],Ze=(ke+1)%yn,ke<0&&(Ze+=yn),Ze<Xe){for(Ze&&ht.c.push(+pt.slice(0,Ze)),Xe-=yn;Ze<Xe;)ht.c.push(+pt.slice(Ze,Ze+=yn));Ze=yn-(pt=pt.slice(Ze)).length}else Ze-=Xe;for(;Ze--;pt+="0");ht.c.push(+pt)}}else ht.c=[ht.e=0]}Oe.clone=qo,Oe.ROUND_UP=0,Oe.ROUND_DOWN=1,Oe.ROUND_CEIL=2,Oe.ROUND_FLOOR=3,Oe.ROUND_HALF_UP=4,Oe.ROUND_HALF_DOWN=5,Oe.ROUND_HALF_EVEN=6,Oe.ROUND_HALF_CEIL=7,Oe.ROUND_HALF_FLOOR=8,Oe.EUCLID=9,Oe.config=Oe.set=function(Y){var ce,be;if(Y!=null)if(typeof Y=="object"){if(Y.hasOwnProperty(ce="DECIMAL_PLACES")&&(be=Y[ce],r(be,0,Pn,ce),z=be),Y.hasOwnProperty(ce="ROUNDING_MODE")&&(be=Y[ce],r(be,0,8,ce),q=be),Y.hasOwnProperty(ce="EXPONENTIAL_AT")&&(be=Y[ce],be&&be.pop?(r(be[0],-Pn,0,ce),r(be[1],0,Pn,ce),J=be[0],ee=be[1]):(r(be,-Pn,Pn,ce),J=-(ee=be<0?-be:be))),Y.hasOwnProperty(ce="RANGE"))if(be=Y[ce],be&&be.pop)r(be[0],-Pn,-1,ce),r(be[1],1,Pn,ce),Re=be[0],Me=be[1];else if(r(be,-Pn,Pn,ce),be)Re=-(Me=be<0?-be:be);else throw Error(sr+ce+" cannot be zero: "+be);if(Y.hasOwnProperty(ce="CRYPTO"))if(be=Y[ce],be===!!be)if(be)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))lt=be;else throw lt=!be,Error(sr+"crypto unavailable");else lt=be;else throw Error(sr+ce+" not true or false: "+be);if(Y.hasOwnProperty(ce="MODULO_MODE")&&(be=Y[ce],r(be,0,9,ce),gt=be),Y.hasOwnProperty(ce="POW_PRECISION")&&(be=Y[ce],r(be,0,Pn,ce),Et=be),Y.hasOwnProperty(ce="FORMAT"))if(be=Y[ce],typeof be=="object")Wt=be;else throw Error(sr+ce+" not an object: "+be);if(Y.hasOwnProperty(ce="ALPHABET"))if(be=Y[ce],typeof be=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(be))mn=be.slice(0,10)=="0123456789",Zt=be;else throw Error(sr+ce+" invalid: "+be)}else throw Error(sr+"Object expected: "+Y);return{DECIMAL_PLACES:z,ROUNDING_MODE:q,EXPONENTIAL_AT:[J,ee],RANGE:[Re,Me],CRYPTO:lt,MODULO_MODE:gt,POW_PRECISION:Et,FORMAT:Wt,ALPHABET:Zt}},Oe.isBigNumber=function(Y){if(!Y||Y._isBigNumber!==!0)return!1;if(!Oe.DEBUG)return!0;var ce,be,me=Y.c,Le=Y.e,ke=Y.s;e:if({}.toString.call(me)=="[object Array]"){if((ke===1||ke===-1)&&Le>=-Pn&&Le<=Pn&&Le===Nr(Le)){if(me[0]===0){if(Le===0&&me.length===1)return!0;break e}if(ce=(Le+1)%yn,ce<1&&(ce+=yn),String(me[0]).length==ce){for(ce=0;ce<me.length;ce++)if(be=me[ce],be<0||be>=Vi||be!==Nr(be))break e;if(be!==0)return!0}}}else if(me===null&&Le===null&&(ke===null||ke===1||ke===-1))return!0;throw Error(sr+"Invalid BigNumber: "+Y)},Oe.maximum=Oe.max=function(){return nt(arguments,-1)},Oe.minimum=Oe.min=function(){return nt(arguments,1)},Oe.random=(function(){var Y=9007199254740992,ce=Math.random()*Y&2097151?function(){return Nr(Math.random()*Y)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(be){var me,Le,ke,Ze,Ge,Xe=0,pt=[],ht=new Oe(B);if(be==null?be=z:r(be,0,Pn),Ze=Ei(be/yn),lt)if(crypto.getRandomValues){for(me=crypto.getRandomValues(new Uint32Array(Ze*=2));Xe<Ze;)Ge=me[Xe]*131072+(me[Xe+1]>>>11),Ge>=9e15?(Le=crypto.getRandomValues(new Uint32Array(2)),me[Xe]=Le[0],me[Xe+1]=Le[1]):(pt.push(Ge%1e14),Xe+=2);Xe=Ze/2}else if(crypto.randomBytes){for(me=crypto.randomBytes(Ze*=7);Xe<Ze;)Ge=(me[Xe]&31)*281474976710656+me[Xe+1]*1099511627776+me[Xe+2]*4294967296+me[Xe+3]*16777216+(me[Xe+4]<<16)+(me[Xe+5]<<8)+me[Xe+6],Ge>=9e15?crypto.randomBytes(7).copy(me,Xe):(pt.push(Ge%1e14),Xe+=7);Xe=Ze/7}else throw lt=!1,Error(sr+"crypto unavailable");if(!lt)for(;Xe<Ze;)Ge=ce(),Ge<9e15&&(pt[Xe++]=Ge%1e14);for(Ze=pt[--Xe],be%=yn,Ze&&be&&(Ge=Ha[yn-be],pt[Xe]=Nr(Ze/Ge)*Ge);pt[Xe]===0;pt.pop(),Xe--);if(Xe<0)pt=[ke=0];else{for(ke=-1;pt[0]===0;pt.splice(0,1),ke-=yn);for(Xe=1,Ge=pt[0];Ge>=10;Ge/=10,Xe++);Xe<yn&&(ke-=yn-Xe)}return ht.e=ke,ht.c=pt,ht}})(),Oe.sum=function(){for(var Y=1,ce=arguments,be=new Oe(ce[0]);Y<ce.length;)be=be.plus(ce[Y++]);return be},d=(function(){var Y="0123456789";function ce(be,me,Le,ke){for(var Ze,Ge=[0],Xe,pt=0,ht=be.length;pt<ht;){for(Xe=Ge.length;Xe--;Ge[Xe]*=me);for(Ge[0]+=ke.indexOf(be.charAt(pt++)),Ze=0;Ze<Ge.length;Ze++)Ge[Ze]>Le-1&&(Ge[Ze+1]==null&&(Ge[Ze+1]=0),Ge[Ze+1]+=Ge[Ze]/Le|0,Ge[Ze]%=Le)}return Ge.reverse()}return function(be,me,Le,ke,Ze){var Ge,Xe,pt,ht,Dt,Xt,nn,rn,Kn=be.indexOf("."),Jn=z,Dn=q;for(Kn>=0&&(ht=Et,Et=0,be=be.replace(".",""),rn=new Oe(me),Xt=rn.pow(be.length-Kn),Et=ht,rn.c=ce(T(Hr(Xt.c),Xt.e,"0"),10,Le,Y),rn.e=rn.c.length),nn=ce(be,me,Le,Ze?(Ge=Zt,Y):(Ge=Y,Zt)),pt=ht=nn.length;nn[--ht]==0;nn.pop());if(!nn[0])return Ge.charAt(0);if(Kn<0?--pt:(Xt.c=nn,Xt.e=pt,Xt.s=ke,Xt=h(Xt,rn,Jn,Dn,Le),nn=Xt.c,Dt=Xt.r,pt=Xt.e),Xe=pt+Jn+1,Kn=nn[Xe],ht=Le/2,Dt=Dt||Xe<0||nn[Xe+1]!=null,Dt=Dn<4?(Kn!=null||Dt)&&(Dn==0||Dn==(Xt.s<0?3:2)):Kn>ht||Kn==ht&&(Dn==4||Dt||Dn==6&&nn[Xe-1]&1||Dn==(Xt.s<0?8:7)),Xe<1||!nn[0])be=Dt?T(Ge.charAt(1),-Jn,Ge.charAt(0)):Ge.charAt(0);else{if(nn.length=Xe,Dt)for(--Le;++nn[--Xe]>Le;)nn[Xe]=0,Xe||(++pt,nn=[1].concat(nn));for(ht=nn.length;!nn[--ht];);for(Kn=0,be="";Kn<=ht;be+=Ge.charAt(nn[Kn++]));be=T(be,pt,Ge.charAt(0))}return be}})(),h=(function(){function Y(me,Le,ke){var Ze,Ge,Xe,pt,ht=0,Dt=me.length,Xt=Le%as,nn=Le/as|0;for(me=me.slice();Dt--;)Xe=me[Dt]%as,pt=me[Dt]/as|0,Ze=nn*Xe+pt*Xt,Ge=Xt*Xe+Ze%as*as+ht,ht=(Ge/ke|0)+(Ze/as|0)+nn*pt,me[Dt]=Ge%ke;return ht&&(me=[ht].concat(me)),me}function ce(me,Le,ke,Ze){var Ge,Xe;if(ke!=Ze)Xe=ke>Ze?1:-1;else for(Ge=Xe=0;Ge<ke;Ge++)if(me[Ge]!=Le[Ge]){Xe=me[Ge]>Le[Ge]?1:-1;break}return Xe}function be(me,Le,ke,Ze){for(var Ge=0;ke--;)me[ke]-=Ge,Ge=me[ke]<Le[ke]?1:0,me[ke]=Ge*Ze+me[ke]-Le[ke];for(;!me[0]&&me.length>1;me.splice(0,1));}return function(me,Le,ke,Ze,Ge){var Xe,pt,ht,Dt,Xt,nn,rn,Kn,Jn,Dn,tr,br,xl,Ll,yr,ri,Zo,Ls=me.s==Le.s?1:-1,wi=me.c,xr=Le.c;if(!wi||!wi[0]||!xr||!xr[0])return new Oe(!me.s||!Le.s||(wi?xr&&wi[0]==xr[0]:!xr)?NaN:wi&&wi[0]==0||!xr?Ls*0:Ls/0);for(Kn=new Oe(Ls),Jn=Kn.c=[],pt=me.e-Le.e,Ls=ke+pt+1,Ge||(Ge=Vi,pt=Qr(me.e/yn)-Qr(Le.e/yn),Ls=Ls/yn|0),ht=0;xr[ht]==(wi[ht]||0);ht++);if(xr[ht]>(wi[ht]||0)&&pt--,Ls<0)Jn.push(1),Dt=!0;else{for(Ll=wi.length,ri=xr.length,ht=0,Ls+=2,Xt=Nr(Ge/(xr[0]+1)),Xt>1&&(xr=Y(xr,Xt,Ge),wi=Y(wi,Xt,Ge),ri=xr.length,Ll=wi.length),xl=ri,Dn=wi.slice(0,ri),tr=Dn.length;tr<ri;Dn[tr++]=0);Zo=xr.slice(),Zo=[0].concat(Zo),yr=xr[0],xr[1]>=Ge/2&&yr++;do{if(Xt=0,Xe=ce(xr,Dn,ri,tr),Xe<0){if(br=Dn[0],ri!=tr&&(br=br*Ge+(Dn[1]||0)),Xt=Nr(br/yr),Xt>1)for(Xt>=Ge&&(Xt=Ge-1),nn=Y(xr,Xt,Ge),rn=nn.length,tr=Dn.length;ce(nn,Dn,rn,tr)==1;)Xt--,be(nn,ri<rn?Zo:xr,rn,Ge),rn=nn.length,Xe=1;else Xt==0&&(Xe=Xt=1),nn=xr.slice(),rn=nn.length;if(rn<tr&&(nn=[0].concat(nn)),be(Dn,nn,tr,Ge),tr=Dn.length,Xe==-1)for(;ce(xr,Dn,ri,tr)<1;)Xt++,be(Dn,ri<tr?Zo:xr,tr,Ge),tr=Dn.length}else Xe===0&&(Xt++,Dn=[0]);Jn[ht++]=Xt,Dn[0]?Dn[tr++]=wi[xl]||0:(Dn=[wi[xl]],tr=1)}while((xl++<Ll||Dn[0]!=null)&&Ls--);Dt=Dn[0]!=null,Jn[0]||Jn.splice(0,1)}if(Ge==Vi){for(ht=1,Ls=Jn[0];Ls>=10;Ls/=10,ht++);rt(Kn,ke+(Kn.e=ht+pt*yn-1)+1,Ze,Dt)}else Kn.e=pt,Kn.r=+Dt;return Kn}})();function Ue(Y,ce,be,me){var Le,ke,Ze,Ge,Xe;if(be==null?be=q:r(be,0,8),!Y.c)return Y.toString();if(Le=Y.c[0],Ze=Y.e,ce==null)Xe=Hr(Y.c),Xe=me==1||me==2&&(Ze<=J||Ze>=ee)?w(Xe,Ze):T(Xe,Ze,"0");else if(Y=rt(new Oe(Y),ce,be),ke=Y.e,Xe=Hr(Y.c),Ge=Xe.length,me==1||me==2&&(ce<=ke||ke<=J)){for(;Ge<ce;Xe+="0",Ge++);Xe=w(Xe,ke)}else if(ce-=Ze,Xe=T(Xe,ke,"0"),ke+1>Ge){if(--ce>0)for(Xe+=".";ce--;Xe+="0");}else if(ce+=ke-Ge,ce>0)for(ke+1==Ge&&(Xe+=".");ce--;Xe+="0");return Y.s<0&&Le?"-"+Xe:Xe}function nt(Y,ce){for(var be,me,Le=1,ke=new Oe(Y[0]);Le<Y.length;Le++)me=new Oe(Y[Le]),(!me.s||(be=Fs(ke,me))===ce||be===0&&ke.s===ce)&&(ke=me);return ke}function yt(Y,ce,be){for(var me=1,Le=ce.length;!ce[--Le];ce.pop());for(Le=ce[0];Le>=10;Le/=10,me++);return(be=me+be*yn-1)>Me?Y.c=Y.e=null:be<Re?Y.c=[Y.e=0]:(Y.e=be,Y.c=ce),Y}v=(function(){var Y=/^(-?)0([xbo])(?=\w[\w.]*$)/i,ce=/^([^.]+)\.$/,be=/^\.([^.]+)$/,me=/^-?(Infinity|NaN)$/,Le=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(ke,Ze,Ge,Xe){var pt,ht=Ge?Ze:Ze.replace(Le,"");if(me.test(ht))ke.s=isNaN(ht)?null:ht<0?-1:1;else{if(!Ge&&(ht=ht.replace(Y,function(Dt,Xt,nn){return pt=(nn=nn.toLowerCase())=="x"?16:nn=="b"?2:8,!Xe||Xe==pt?Xt:Dt}),Xe&&(pt=Xe,ht=ht.replace(ce,"$1").replace(be,"0.$1")),Ze!=ht))return new Oe(ht,pt);if(Oe.DEBUG)throw Error(sr+"Not a"+(Xe?" base "+Xe:"")+" number: "+Ze);ke.s=null}ke.c=ke.e=null}})();function rt(Y,ce,be,me){var Le,ke,Ze,Ge,Xe,pt,ht,Dt=Y.c,Xt=Ha;if(Dt){e:{for(Le=1,Ge=Dt[0];Ge>=10;Ge/=10,Le++);if(ke=ce-Le,ke<0)ke+=yn,Ze=ce,Xe=Dt[pt=0],ht=Nr(Xe/Xt[Le-Ze-1]%10);else if(pt=Ei((ke+1)/yn),pt>=Dt.length)if(me){for(;Dt.length<=pt;Dt.push(0));Xe=ht=0,Le=1,ke%=yn,Ze=ke-yn+1}else break e;else{for(Xe=Ge=Dt[pt],Le=1;Ge>=10;Ge/=10,Le++);ke%=yn,Ze=ke-yn+Le,ht=Ze<0?0:Nr(Xe/Xt[Le-Ze-1]%10)}if(me=me||ce<0||Dt[pt+1]!=null||(Ze<0?Xe:Xe%Xt[Le-Ze-1]),me=be<4?(ht||me)&&(be==0||be==(Y.s<0?3:2)):ht>5||ht==5&&(be==4||me||be==6&&(ke>0?Ze>0?Xe/Xt[Le-Ze]:0:Dt[pt-1])%10&1||be==(Y.s<0?8:7)),ce<1||!Dt[0])return Dt.length=0,me?(ce-=Y.e+1,Dt[0]=Xt[(yn-ce%yn)%yn],Y.e=-ce||0):Dt[0]=Y.e=0,Y;if(ke==0?(Dt.length=pt,Ge=1,pt--):(Dt.length=pt+1,Ge=Xt[yn-ke],Dt[pt]=Ze>0?Nr(Xe/Xt[Le-Ze]%Xt[Ze])*Ge:0),me)for(;;)if(pt==0){for(ke=1,Ze=Dt[0];Ze>=10;Ze/=10,ke++);for(Ze=Dt[0]+=Ge,Ge=1;Ze>=10;Ze/=10,Ge++);ke!=Ge&&(Y.e++,Dt[0]==Vi&&(Dt[0]=1));break}else{if(Dt[pt]+=Ge,Dt[pt]!=Vi)break;Dt[pt--]=0,Ge=1}for(ke=Dt.length;Dt[--ke]===0;Dt.pop());}Y.e>Me?Y.c=Y.e=null:Y.e<Re&&(Y.c=[Y.e=0])}return Y}function ft(Y){var ce,be=Y.e;return be===null?Y.toString():(ce=Hr(Y.c),ce=be<=J||be>=ee?w(ce,be):T(ce,be,"0"),Y.s<0?"-"+ce:ce)}return k.absoluteValue=k.abs=function(){var Y=new Oe(this);return Y.s<0&&(Y.s=1),Y},k.comparedTo=function(Y,ce){return Fs(this,new Oe(Y,ce))},k.decimalPlaces=k.dp=function(Y,ce){var be,me,Le,ke=this;if(Y!=null)return r(Y,0,Pn),ce==null?ce=q:r(ce,0,8),rt(new Oe(ke),Y+ke.e+1,ce);if(!(be=ke.c))return null;if(me=((Le=be.length-1)-Qr(this.e/yn))*yn,Le=be[Le])for(;Le%10==0;Le/=10,me--);return me<0&&(me=0),me},k.dividedBy=k.div=function(Y,ce){return h(this,new Oe(Y,ce),z,q)},k.dividedToIntegerBy=k.idiv=function(Y,ce){return h(this,new Oe(Y,ce),0,1)},k.exponentiatedBy=k.pow=function(Y,ce){var be,me,Le,ke,Ze,Ge,Xe,pt,ht,Dt=this;if(Y=new Oe(Y),Y.c&&!Y.isInteger())throw Error(sr+"Exponent not an integer: "+ft(Y));if(ce!=null&&(ce=new Oe(ce)),Ge=Y.e>14,!Dt.c||!Dt.c[0]||Dt.c[0]==1&&!Dt.e&&Dt.c.length==1||!Y.c||!Y.c[0])return ht=new Oe(Math.pow(+ft(Dt),Ge?Y.s*(2-f(Y)):+ft(Y))),ce?ht.mod(ce):ht;if(Xe=Y.s<0,ce){if(ce.c?!ce.c[0]:!ce.s)return new Oe(NaN);me=!Xe&&Dt.isInteger()&&ce.isInteger(),me&&(Dt=Dt.mod(ce))}else{if(Y.e>9&&(Dt.e>0||Dt.e<-1||(Dt.e==0?Dt.c[0]>1||Ge&&Dt.c[1]>=24e7:Dt.c[0]<8e13||Ge&&Dt.c[0]<=9999975e7)))return ke=Dt.s<0&&f(Y)?-0:0,Dt.e>-1&&(ke=1/ke),new Oe(Xe?1/ke:ke);Et&&(ke=Ei(Et/yn+2))}for(Ge?(be=new Oe(.5),Xe&&(Y.s=1),pt=f(Y)):(Le=Math.abs(+ft(Y)),pt=Le%2),ht=new Oe(B);;){if(pt){if(ht=ht.times(Dt),!ht.c)break;ke?ht.c.length>ke&&(ht.c.length=ke):me&&(ht=ht.mod(ce))}if(Le){if(Le=Nr(Le/2),Le===0)break;pt=Le%2}else if(Y=Y.times(be),rt(Y,Y.e+1,1),Y.e>14)pt=f(Y);else{if(Le=+ft(Y),Le===0)break;pt=Le%2}Dt=Dt.times(Dt),ke?Dt.c&&Dt.c.length>ke&&(Dt.c.length=ke):me&&(Dt=Dt.mod(ce))}return me?ht:(Xe&&(ht=B.div(ht)),ce?ht.mod(ce):ke?rt(ht,Et,q,Ze):ht)},k.integerValue=function(Y){var ce=new Oe(this);return Y==null?Y=q:r(Y,0,8),rt(ce,ce.e+1,Y)},k.isEqualTo=k.eq=function(Y,ce){return Fs(this,new Oe(Y,ce))===0},k.isFinite=function(){return!!this.c},k.isGreaterThan=k.gt=function(Y,ce){return Fs(this,new Oe(Y,ce))>0},k.isGreaterThanOrEqualTo=k.gte=function(Y,ce){return(ce=Fs(this,new Oe(Y,ce)))===1||ce===0},k.isInteger=function(){return!!this.c&&Qr(this.e/yn)>this.c.length-2},k.isLessThan=k.lt=function(Y,ce){return Fs(this,new Oe(Y,ce))<0},k.isLessThanOrEqualTo=k.lte=function(Y,ce){return(ce=Fs(this,new Oe(Y,ce)))===-1||ce===0},k.isNaN=function(){return!this.s},k.isNegative=function(){return this.s<0},k.isPositive=function(){return this.s>0},k.isZero=function(){return!!this.c&&this.c[0]==0},k.minus=function(Y,ce){var be,me,Le,ke,Ze=this,Ge=Ze.s;if(Y=new Oe(Y,ce),ce=Y.s,!Ge||!ce)return new Oe(NaN);if(Ge!=ce)return Y.s=-ce,Ze.plus(Y);var Xe=Ze.e/yn,pt=Y.e/yn,ht=Ze.c,Dt=Y.c;if(!Xe||!pt){if(!ht||!Dt)return ht?(Y.s=-ce,Y):new Oe(Dt?Ze:NaN);if(!ht[0]||!Dt[0])return Dt[0]?(Y.s=-ce,Y):new Oe(ht[0]?Ze:q==3?-0:0)}if(Xe=Qr(Xe),pt=Qr(pt),ht=ht.slice(),Ge=Xe-pt){for((ke=Ge<0)?(Ge=-Ge,Le=ht):(pt=Xe,Le=Dt),Le.reverse(),ce=Ge;ce--;Le.push(0));Le.reverse()}else for(me=(ke=(Ge=ht.length)<(ce=Dt.length))?Ge:ce,Ge=ce=0;ce<me;ce++)if(ht[ce]!=Dt[ce]){ke=ht[ce]<Dt[ce];break}if(ke&&(Le=ht,ht=Dt,Dt=Le,Y.s=-Y.s),ce=(me=Dt.length)-(be=ht.length),ce>0)for(;ce--;ht[be++]=0);for(ce=Vi-1;me>Ge;){if(ht[--me]<Dt[me]){for(be=me;be&&!ht[--be];ht[be]=ce);--ht[be],ht[me]+=Vi}ht[me]-=Dt[me]}for(;ht[0]==0;ht.splice(0,1),--pt);return ht[0]?yt(Y,ht,pt):(Y.s=q==3?-1:1,Y.c=[Y.e=0],Y)},k.modulo=k.mod=function(Y,ce){var be,me,Le=this;return Y=new Oe(Y,ce),!Le.c||!Y.s||Y.c&&!Y.c[0]?new Oe(NaN):!Y.c||Le.c&&!Le.c[0]?new Oe(Le):(gt==9?(me=Y.s,Y.s=1,be=h(Le,Y,0,3),Y.s=me,be.s*=me):be=h(Le,Y,0,gt),Y=Le.minus(be.times(Y)),!Y.c[0]&&gt==1&&(Y.s=Le.s),Y)},k.multipliedBy=k.times=function(Y,ce){var be,me,Le,ke,Ze,Ge,Xe,pt,ht,Dt,Xt,nn,rn,Kn,Jn,Dn=this,tr=Dn.c,br=(Y=new Oe(Y,ce)).c;if(!tr||!br||!tr[0]||!br[0])return!Dn.s||!Y.s||tr&&!tr[0]&&!br||br&&!br[0]&&!tr?Y.c=Y.e=Y.s=null:(Y.s*=Dn.s,!tr||!br?Y.c=Y.e=null:(Y.c=[0],Y.e=0)),Y;for(me=Qr(Dn.e/yn)+Qr(Y.e/yn),Y.s*=Dn.s,Xe=tr.length,Dt=br.length,Xe<Dt&&(rn=tr,tr=br,br=rn,Le=Xe,Xe=Dt,Dt=Le),Le=Xe+Dt,rn=[];Le--;rn.push(0));for(Kn=Vi,Jn=as,Le=Dt;--Le>=0;){for(be=0,Xt=br[Le]%Jn,nn=br[Le]/Jn|0,Ze=Xe,ke=Le+Ze;ke>Le;)pt=tr[--Ze]%Jn,ht=tr[Ze]/Jn|0,Ge=nn*pt+ht*Xt,pt=Xt*pt+Ge%Jn*Jn+rn[ke]+be,be=(pt/Kn|0)+(Ge/Jn|0)+nn*ht,rn[ke--]=pt%Kn;rn[ke]=be}return be?++me:rn.splice(0,1),yt(Y,rn,me)},k.negated=function(){var Y=new Oe(this);return Y.s=-Y.s||null,Y},k.plus=function(Y,ce){var be,me=this,Le=me.s;if(Y=new Oe(Y,ce),ce=Y.s,!Le||!ce)return new Oe(NaN);if(Le!=ce)return Y.s=-ce,me.minus(Y);var ke=me.e/yn,Ze=Y.e/yn,Ge=me.c,Xe=Y.c;if(!ke||!Ze){if(!Ge||!Xe)return new Oe(Le/0);if(!Ge[0]||!Xe[0])return Xe[0]?Y:new Oe(Ge[0]?me:Le*0)}if(ke=Qr(ke),Ze=Qr(Ze),Ge=Ge.slice(),Le=ke-Ze){for(Le>0?(Ze=ke,be=Xe):(Le=-Le,be=Ge),be.reverse();Le--;be.push(0));be.reverse()}for(Le=Ge.length,ce=Xe.length,Le-ce<0&&(be=Xe,Xe=Ge,Ge=be,ce=Le),Le=0;ce;)Le=(Ge[--ce]=Ge[ce]+Xe[ce]+Le)/Vi|0,Ge[ce]=Vi===Ge[ce]?0:Ge[ce]%Vi;return Le&&(Ge=[Le].concat(Ge),++Ze),yt(Y,Ge,Ze)},k.precision=k.sd=function(Y,ce){var be,me,Le,ke=this;if(Y!=null&&Y!==!!Y)return r(Y,1,Pn),ce==null?ce=q:r(ce,0,8),rt(new Oe(ke),Y,ce);if(!(be=ke.c))return null;if(Le=be.length-1,me=Le*yn+1,Le=be[Le]){for(;Le%10==0;Le/=10,me--);for(Le=be[0];Le>=10;Le/=10,me++);}return Y&&ke.e+1>me&&(me=ke.e+1),me},k.shiftedBy=function(Y){return r(Y,-Uo,Uo),this.times("1e"+Y)},k.squareRoot=k.sqrt=function(){var Y,ce,be,me,Le,ke=this,Ze=ke.c,Ge=ke.s,Xe=ke.e,pt=z+4,ht=new Oe("0.5");if(Ge!==1||!Ze||!Ze[0])return new Oe(!Ge||Ge<0&&(!Ze||Ze[0])?NaN:Ze?ke:1/0);if(Ge=Math.sqrt(+ft(ke)),Ge==0||Ge==1/0?(ce=Hr(Ze),(ce.length+Xe)%2==0&&(ce+="0"),Ge=Math.sqrt(+ce),Xe=Qr((Xe+1)/2)-(Xe<0||Xe%2),Ge==1/0?ce="5e"+Xe:(ce=Ge.toExponential(),ce=ce.slice(0,ce.indexOf("e")+1)+Xe),be=new Oe(ce)):be=new Oe(Ge+""),be.c[0]){for(Xe=be.e,Ge=Xe+pt,Ge<3&&(Ge=0);;)if(Le=be,be=ht.times(Le.plus(h(ke,Le,pt,1))),Hr(Le.c).slice(0,Ge)===(ce=Hr(be.c)).slice(0,Ge))if(be.e<Xe&&--Ge,ce=ce.slice(Ge-3,Ge+1),ce=="9999"||!me&&ce=="4999"){if(!me&&(rt(Le,Le.e+z+2,0),Le.times(Le).eq(ke))){be=Le;break}pt+=4,Ge+=4,me=1}else{(!+ce||!+ce.slice(1)&&ce.charAt(0)=="5")&&(rt(be,be.e+z+2,1),Y=!be.times(be).eq(ke));break}}return rt(be,be.e+z+1,q,Y)},k.toExponential=function(Y,ce){return Y!=null&&(r(Y,0,Pn),Y++),Ue(this,Y,ce,1)},k.toFixed=function(Y,ce){return Y!=null&&(r(Y,0,Pn),Y=Y+this.e+1),Ue(this,Y,ce)},k.toFormat=function(Y,ce,be){var me,Le=this;if(be==null)Y!=null&&ce&&typeof ce=="object"?(be=ce,ce=null):Y&&typeof Y=="object"?(be=Y,Y=ce=null):be=Wt;else if(typeof be!="object")throw Error(sr+"Argument not an object: "+be);if(me=Le.toFixed(Y,ce),Le.c){var ke,Ze=me.split("."),Ge=+be.groupSize,Xe=+be.secondaryGroupSize,pt=be.groupSeparator||"",ht=Ze[0],Dt=Ze[1],Xt=Le.s<0,nn=Xt?ht.slice(1):ht,rn=nn.length;if(Xe&&(ke=Ge,Ge=Xe,Xe=ke,rn-=ke),Ge>0&&rn>0){for(ke=rn%Ge||Ge,ht=nn.substr(0,ke);ke<rn;ke+=Ge)ht+=pt+nn.substr(ke,Ge);Xe>0&&(ht+=pt+nn.slice(ke)),Xt&&(ht="-"+ht)}me=Dt?ht+(be.decimalSeparator||"")+((Xe=+be.fractionGroupSize)?Dt.replace(new RegExp("\\d{"+Xe+"}\\B","g"),"$&"+(be.fractionGroupSeparator||"")):Dt):ht}return(be.prefix||"")+me+(be.suffix||"")},k.toFraction=function(Y){var ce,be,me,Le,ke,Ze,Ge,Xe,pt,ht,Dt,Xt,nn=this,rn=nn.c;if(Y!=null&&(Ge=new Oe(Y),!Ge.isInteger()&&(Ge.c||Ge.s!==1)||Ge.lt(B)))throw Error(sr+"Argument "+(Ge.isInteger()?"out of range: ":"not an integer: ")+ft(Ge));if(!rn)return new Oe(nn);for(ce=new Oe(B),pt=be=new Oe(B),me=Xe=new Oe(B),Xt=Hr(rn),ke=ce.e=Xt.length-nn.e-1,ce.c[0]=Ha[(Ze=ke%yn)<0?yn+Ze:Ze],Y=!Y||Ge.comparedTo(ce)>0?ke>0?ce:pt:Ge,Ze=Me,Me=1/0,Ge=new Oe(Xt),Xe.c[0]=0;ht=h(Ge,ce,0,1),Le=be.plus(ht.times(me)),Le.comparedTo(Y)!=1;)be=me,me=Le,pt=Xe.plus(ht.times(Le=pt)),Xe=Le,ce=Ge.minus(ht.times(Le=ce)),Ge=Le;return Le=h(Y.minus(be),me,0,1),Xe=Xe.plus(Le.times(pt)),be=be.plus(Le.times(me)),Xe.s=pt.s=nn.s,ke=ke*2,Dt=h(pt,me,ke,q).minus(nn).abs().comparedTo(h(Xe,be,ke,q).minus(nn).abs())<1?[pt,me]:[Xe,be],Me=Ze,Dt},k.toNumber=function(){return+ft(this)},k.toPrecision=function(Y,ce){return Y!=null&&r(Y,1,Pn),Ue(this,Y,ce,2)},k.toString=function(Y){var ce,be=this,me=be.s,Le=be.e;return Le===null?me?(ce="Infinity",me<0&&(ce="-"+ce)):ce="NaN":(Y==null?ce=Le<=J||Le>=ee?w(Hr(be.c),Le):T(Hr(be.c),Le,"0"):Y===10&&mn?(be=rt(new Oe(be),z+Le+1,q),ce=T(Hr(be.c),be.e,"0")):(r(Y,2,Zt.length,"Base"),ce=d(T(Hr(be.c),Le,"0"),10,Y,me,!0)),me<0&&be.c[0]&&(ce="-"+ce)),ce},k.valueOf=k.toJSON=function(){return ft(this)},k._isBigNumber=!0,k[Symbol.toStringTag]="BigNumber",k[Symbol.for("nodejs.util.inspect.custom")]=k.valueOf,i!=null&&Oe.set(i),Oe}function Qr(i){var h=i|0;return i>0||i===h?h:h-1}function Hr(i){for(var h,d,v=1,k=i.length,B=i[0]+"";v<k;){for(h=i[v++]+"",d=yn-h.length;d--;h="0"+h);B+=h}for(k=B.length;B.charCodeAt(--k)===48;);return B.slice(0,k+1||1)}function Fs(i,h){var d,v,k=i.c,B=h.c,z=i.s,q=h.s,J=i.e,ee=h.e;if(!z||!q)return null;if(d=k&&!k[0],v=B&&!B[0],d||v)return d?v?0:-q:z;if(z!=q)return z;if(d=z<0,v=J==ee,!k||!B)return v?0:!k^d?1:-1;if(!v)return J>ee^d?1:-1;for(q=(J=k.length)<(ee=B.length)?J:ee,z=0;z<q;z++)if(k[z]!=B[z])return k[z]>B[z]^d?1:-1;return J==ee?0:J>ee^d?1:-1}function r(i,h,d,v){if(i<h||i>d||i!==Nr(i))throw Error(sr+(v||"Argument")+(typeof i=="number"?i<h||i>d?" out of range: ":" not an integer: ":" not a primitive number: ")+String(i))}function f(i){var h=i.c.length-1;return Qr(i.e/yn)==h&&i.c[h]%2!=0}function w(i,h){return(i.length>1?i.charAt(0)+"."+i.slice(1):i)+(h<0?"e":"e+")+h}function T(i,h,d){var v,k;if(h<0){for(k=d+".";++h;k+=d);i=k+i}else if(v=i.length,++h>v){for(k=d,h-=v;--h;k+=d);i+=k}else h<v&&(i=i.slice(0,h)+"."+i.slice(h));return i}var V=qo(),le=V,He=class{key;left=null;right=null;constructor(i){this.key=i}},mt=class extends He{constructor(i){super(i)}},xt=class{size=0;modificationCount=0;splayCount=0;splay(i){let h=this.root;if(h==null)return this.compare(i,i),-1;let d=null,v=null,k=null,B=null,z=h,q=this.compare,J;for(;;)if(J=q(z.key,i),J>0){let ee=z.left;if(ee==null||(J=q(ee.key,i),J>0&&(z.left=ee.right,ee.right=z,z=ee,ee=z.left,ee==null)))break;d==null?v=z:d.left=z,d=z,z=ee}else if(J<0){let ee=z.right;if(ee==null||(J=q(ee.key,i),J<0&&(z.right=ee.left,ee.left=z,z=ee,ee=z.right,ee==null)))break;k==null?B=z:k.right=z,k=z,z=ee}else break;return k!=null&&(k.right=z.left,z.left=B),d!=null&&(d.left=z.right,z.right=v),this.root!==z&&(this.root=z,this.splayCount++),J}splayMin(i){let h=i,d=h.left;for(;d!=null;){let v=d;h.left=v.right,v.right=h,h=v,d=h.left}return h}splayMax(i){let h=i,d=h.right;for(;d!=null;){let v=d;h.right=v.left,v.left=h,h=v,d=h.right}return h}_delete(i){if(this.root==null||this.splay(i)!=0)return null;let h=this.root,d=h,v=h.left;if(this.size--,v==null)this.root=h.right;else{let k=h.right;h=this.splayMax(v),h.right=k,this.root=h}return this.modificationCount++,d}addNewRoot(i,h){this.size++,this.modificationCount++;let d=this.root;if(d==null){this.root=i;return}h<0?(i.left=d,i.right=d.right,d.right=null):(i.right=d,i.left=d.left,d.left=null),this.root=i}_first(){let i=this.root;return i==null?null:(this.root=this.splayMin(i),this.root)}_last(){let i=this.root;return i==null?null:(this.root=this.splayMax(i),this.root)}clear(){this.root=null,this.size=0,this.modificationCount++}has(i){return this.validKey(i)&&this.splay(i)==0}defaultCompare(){return(i,h)=>i<h?-1:i>h?1:0}wrap(){return{getRoot:()=>this.root,setRoot:i=>{this.root=i},getSize:()=>this.size,getModificationCount:()=>this.modificationCount,getSplayCount:()=>this.splayCount,setSplayCount:i=>{this.splayCount=i},splay:i=>this.splay(i),has:i=>this.has(i)}}},Rt=class Lh extends xt{root=null;compare;validKey;constructor(h,d){super(),this.compare=h??this.defaultCompare(),this.validKey=d??(v=>v!=null&&v!=null)}delete(h){return this.validKey(h)?this._delete(h)!=null:!1}deleteAll(h){for(let d of h)this.delete(d)}forEach(h){let d=this[Symbol.iterator](),v;for(;v=d.next(),!v.done;)h(v.value,v.value,this)}add(h){let d=this.splay(h);return d!=0&&this.addNewRoot(new mt(h),d),this}addAndReturn(h){let d=this.splay(h);return d!=0&&this.addNewRoot(new mt(h),d),this.root.key}addAll(h){for(let d of h)this.add(d)}isEmpty(){return this.root==null}isNotEmpty(){return this.root!=null}single(){if(this.size==0)throw"Bad state: No element";if(this.size>1)throw"Bad state: Too many element";return this.root.key}first(){if(this.size==0)throw"Bad state: No element";return this._first().key}last(){if(this.size==0)throw"Bad state: No element";return this._last().key}lastBefore(h){if(h==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(h)<0)return this.root.key;let d=this.root.left;if(d==null)return null;let v=d.right;for(;v!=null;)d=v,v=d.right;return d.key}firstAfter(h){if(h==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(h)>0)return this.root.key;let d=this.root.right;if(d==null)return null;let v=d.left;for(;v!=null;)d=v,v=d.left;return d.key}retainAll(h){let d=new Lh(this.compare,this.validKey),v=this.modificationCount;for(let k of h){if(v!=this.modificationCount)throw"Concurrent modification during iteration.";this.validKey(k)&&this.splay(k)==0&&d.add(this.root.key)}d.size!=this.size&&(this.root=d.root,this.size=d.size,this.modificationCount++)}lookup(h){return!this.validKey(h)||this.splay(h)!=0?null:this.root.key}intersection(h){let d=new Lh(this.compare,this.validKey);for(let v of this)h.has(v)&&d.add(v);return d}difference(h){let d=new Lh(this.compare,this.validKey);for(let v of this)h.has(v)||d.add(v);return d}union(h){let d=this.clone();return d.addAll(h),d}clone(){let h=new Lh(this.compare,this.validKey);return h.size=this.size,h.root=this.copyNode(this.root),h}copyNode(h){if(h==null)return null;function d(k,B){let z,q;do{if(z=k.left,q=k.right,z!=null){let J=new mt(z.key);B.left=J,d(z,J)}if(q!=null){let J=new mt(q.key);B.right=J,k=q,B=J}}while(q!=null)}let v=new mt(h.key);return d(h,v),v}toSet(){return this.clone()}entries(){return new On(this.wrap())}keys(){return this[Symbol.iterator]()}values(){return this[Symbol.iterator]()}[Symbol.iterator](){return new pn(this.wrap())}[Symbol.toStringTag]="[object Set]"},Yt=class{tree;path=new Array;modificationCount=null;splayCount;constructor(i){this.tree=i,this.splayCount=i.getSplayCount()}[Symbol.iterator](){return this}next(){return this.moveNext()?{done:!1,value:this.current()}:{done:!0,value:null}}current(){if(!this.path.length)return null;let i=this.path[this.path.length-1];return this.getValue(i)}rebuildPath(i){this.path.splice(0,this.path.length),this.tree.splay(i),this.path.push(this.tree.getRoot()),this.splayCount=this.tree.getSplayCount()}findLeftMostDescendent(i){for(;i!=null;)this.path.push(i),i=i.left}moveNext(){if(this.modificationCount!=this.tree.getModificationCount()){if(this.modificationCount==null){this.modificationCount=this.tree.getModificationCount();let d=this.tree.getRoot();for(;d!=null;)this.path.push(d),d=d.left;return this.path.length>0}throw"Concurrent modification during iteration."}if(!this.path.length)return!1;this.splayCount!=this.tree.getSplayCount()&&this.rebuildPath(this.path[this.path.length-1].key);let i=this.path[this.path.length-1],h=i.right;if(h!=null){for(;h!=null;)this.path.push(h),h=h.left;return!0}for(this.path.pop();this.path.length&&this.path[this.path.length-1].right===i;)i=this.path.pop();return this.path.length>0}},pn=class extends Yt{getValue(i){return i.key}},On=class extends Yt{getValue(i){return[i.key,i.key]}},di=i=>i,Wr=i=>{if(i){let h=new Rt(xa(i)),d=new Rt(xa(i)),v=(B,z)=>z.addAndReturn(B),k=B=>({x:v(B.x,h),y:v(B.y,d)});return k({x:new le(0),y:new le(0)}),k}return di},Pi=i=>({set:h=>{Pr=Pi(h)},reset:()=>Pi(i),compare:xa(i),snap:Wr(i),orient:Rs(i)}),Pr=Pi(),ia=(i,h)=>i.ll.x.isLessThanOrEqualTo(h.x)&&h.x.isLessThanOrEqualTo(i.ur.x)&&i.ll.y.isLessThanOrEqualTo(h.y)&&h.y.isLessThanOrEqualTo(i.ur.y),Go=(i,h)=>{if(h.ur.x.isLessThan(i.ll.x)||i.ur.x.isLessThan(h.ll.x)||h.ur.y.isLessThan(i.ll.y)||i.ur.y.isLessThan(h.ll.y))return null;let d=i.ll.x.isLessThan(h.ll.x)?h.ll.x:i.ll.x,v=i.ur.x.isLessThan(h.ur.x)?i.ur.x:h.ur.x,k=i.ll.y.isLessThan(h.ll.y)?h.ll.y:i.ll.y,B=i.ur.y.isLessThan(h.ur.y)?i.ur.y:h.ur.y;return{ll:{x:d,y:k},ur:{x:v,y:B}}},ei=(i,h)=>i.x.times(h.y).minus(i.y.times(h.x)),os=(i,h)=>i.x.times(h.x).plus(i.y.times(h.y)),ti=i=>os(i,i).sqrt(),sa=(i,h,d)=>{let v={x:h.x.minus(i.x),y:h.y.minus(i.y)},k={x:d.x.minus(i.x),y:d.y.minus(i.y)};return ei(k,v).div(ti(k)).div(ti(v))},ho=(i,h,d)=>{let v={x:h.x.minus(i.x),y:h.y.minus(i.y)},k={x:d.x.minus(i.x),y:d.y.minus(i.y)};return os(k,v).div(ti(k)).div(ti(v))},Un=(i,h,d)=>h.y.isZero()?null:{x:i.x.plus(h.x.div(h.y).times(d.minus(i.y))),y:d},ni=(i,h,d)=>h.x.isZero()?null:{x:d,y:i.y.plus(h.y.div(h.x).times(d.minus(i.x)))},eu=(i,h,d,v)=>{if(h.x.isZero())return ni(d,v,i.x);if(v.x.isZero())return ni(i,h,d.x);if(h.y.isZero())return Un(d,v,i.y);if(v.y.isZero())return Un(i,h,d.y);let k=ei(h,v);if(k.isZero())return null;let B={x:d.x.minus(i.x),y:d.y.minus(i.y)},z=ei(B,h).div(k),q=ei(B,v).div(k),J=i.x.plus(q.times(h.x)),ee=d.x.plus(z.times(v.x)),Re=i.y.plus(q.times(h.y)),Me=d.y.plus(z.times(v.y)),lt=J.plus(ee).div(2),gt=Re.plus(Me).div(2);return{x:lt,y:gt}},aa=class fg{point;isLeft;segment;otherSE;consumedBy;static compare(h,d){let v=fg.comparePoints(h.point,d.point);return v!==0?v:(h.point!==d.point&&h.link(d),h.isLeft!==d.isLeft?h.isLeft?1:-1:js.compare(h.segment,d.segment))}static comparePoints(h,d){return h.x.isLessThan(d.x)?-1:h.x.isGreaterThan(d.x)?1:h.y.isLessThan(d.y)?-1:h.y.isGreaterThan(d.y)?1:0}constructor(h,d){h.events===void 0?h.events=[this]:h.events.push(this),this.point=h,this.isLeft=d}link(h){if(h.point===this.point)throw new Error("Tried to link already linked events");let d=h.point.events;for(let v=0,k=d.length;v<k;v++){let B=d[v];this.point.events.push(B),B.point=this.point}this.checkForConsuming()}checkForConsuming(){let h=this.point.events.length;for(let d=0;d<h;d++){let v=this.point.events[d];if(v.segment.consumedBy===void 0)for(let k=d+1;k<h;k++){let B=this.point.events[k];B.consumedBy===void 0&&v.otherSE.point.events===B.otherSE.point.events&&v.segment.consume(B.segment)}}}getAvailableLinkedEvents(){let h=[];for(let d=0,v=this.point.events.length;d<v;d++){let k=this.point.events[d];k!==this&&!k.segment.ringOut&&k.segment.isInResult()&&h.push(k)}return h}getLeftmostComparator(h){let d=new Map,v=k=>{let B=k.otherSE;d.set(k,{sine:sa(this.point,h.point,B.point),cosine:ho(this.point,h.point,B.point)})};return(k,B)=>{d.has(k)||v(k),d.has(B)||v(B);let{sine:z,cosine:q}=d.get(k),{sine:J,cosine:ee}=d.get(B);return z.isGreaterThanOrEqualTo(0)&&J.isGreaterThanOrEqualTo(0)?q.isLessThan(ee)?1:q.isGreaterThan(ee)?-1:0:z.isLessThan(0)&&J.isLessThan(0)?q.isLessThan(ee)?-1:q.isGreaterThan(ee)?1:0:J.isLessThan(z)?-1:J.isGreaterThan(z)?1:0}}},Wa=0,js=class Cc{id;leftSE;rightSE;rings;windings;ringOut;consumedBy;prev;_prevInResult;_beforeState;_afterState;_isInResult;static compare(h,d){let v=h.leftSE.point.x,k=d.leftSE.point.x,B=h.rightSE.point.x,z=d.rightSE.point.x;if(z.isLessThan(v))return 1;if(B.isLessThan(k))return-1;let q=h.leftSE.point.y,J=d.leftSE.point.y,ee=h.rightSE.point.y,Re=d.rightSE.point.y;if(v.isLessThan(k)){if(J.isLessThan(q)&&J.isLessThan(ee))return 1;if(J.isGreaterThan(q)&&J.isGreaterThan(ee))return-1;let Me=h.comparePoint(d.leftSE.point);if(Me<0)return 1;if(Me>0)return-1;let lt=d.comparePoint(h.rightSE.point);return lt!==0?lt:-1}if(v.isGreaterThan(k)){if(q.isLessThan(J)&&q.isLessThan(Re))return-1;if(q.isGreaterThan(J)&&q.isGreaterThan(Re))return 1;let Me=d.comparePoint(h.leftSE.point);if(Me!==0)return Me;let lt=h.comparePoint(d.rightSE.point);return lt<0?1:lt>0?-1:1}if(q.isLessThan(J))return-1;if(q.isGreaterThan(J))return 1;if(B.isLessThan(z)){let Me=d.comparePoint(h.rightSE.point);if(Me!==0)return Me}if(B.isGreaterThan(z)){let Me=h.comparePoint(d.rightSE.point);if(Me<0)return 1;if(Me>0)return-1}if(!B.eq(z)){let Me=ee.minus(q),lt=B.minus(v),gt=Re.minus(J),Et=z.minus(k);if(Me.isGreaterThan(lt)&&gt.isLessThan(Et))return 1;if(Me.isLessThan(lt)&&gt.isGreaterThan(Et))return-1}return B.isGreaterThan(z)?1:B.isLessThan(z)||ee.isLessThan(Re)?-1:ee.isGreaterThan(Re)?1:h.id<d.id?-1:h.id>d.id?1:0}constructor(h,d,v,k){this.id=++Wa,this.leftSE=h,h.segment=this,h.otherSE=d,this.rightSE=d,d.segment=this,d.otherSE=h,this.rings=v,this.windings=k}static fromRing(h,d,v){let k,B,z,q=aa.comparePoints(h,d);if(q<0)k=h,B=d,z=1;else if(q>0)k=d,B=h,z=-1;else throw new Error(`Tried to create degenerate segment at [${h.x}, ${h.y}]`);let J=new aa(k,!0),ee=new aa(B,!1);return new Cc(J,ee,[v],[z])}replaceRightSE(h){this.rightSE=h,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){let h=this.leftSE.point.y,d=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:h.isLessThan(d)?h:d},ur:{x:this.rightSE.point.x,y:h.isGreaterThan(d)?h:d}}}vector(){return{x:this.rightSE.point.x.minus(this.leftSE.point.x),y:this.rightSE.point.y.minus(this.leftSE.point.y)}}isAnEndpoint(h){return h.x.eq(this.leftSE.point.x)&&h.y.eq(this.leftSE.point.y)||h.x.eq(this.rightSE.point.x)&&h.y.eq(this.rightSE.point.y)}comparePoint(h){return Pr.orient(this.leftSE.point,h,this.rightSE.point)}getIntersection(h){let d=this.bbox(),v=h.bbox(),k=Go(d,v);if(k===null)return null;let B=this.leftSE.point,z=this.rightSE.point,q=h.leftSE.point,J=h.rightSE.point,ee=ia(d,q)&&this.comparePoint(q)===0,Re=ia(v,B)&&h.comparePoint(B)===0,Me=ia(d,J)&&this.comparePoint(J)===0,lt=ia(v,z)&&h.comparePoint(z)===0;if(Re&&ee)return lt&&!Me?z:!lt&&Me?J:null;if(Re)return Me&&B.x.eq(J.x)&&B.y.eq(J.y)?null:B;if(ee)return lt&&z.x.eq(q.x)&&z.y.eq(q.y)?null:q;if(lt&&Me)return null;if(lt)return z;if(Me)return J;let gt=eu(B,this.vector(),q,h.vector());return gt===null||!ia(k,gt)?null:Pr.snap(gt)}split(h){let d=[],v=h.events!==void 0,k=new aa(h,!0),B=new aa(h,!1),z=this.rightSE;this.replaceRightSE(B),d.push(B),d.push(k);let q=new Cc(k,z,this.rings.slice(),this.windings.slice());return aa.comparePoints(q.leftSE.point,q.rightSE.point)>0&&q.swapEvents(),aa.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),v&&(k.checkForConsuming(),B.checkForConsuming()),d}swapEvents(){let h=this.rightSE;this.rightSE=this.leftSE,this.leftSE=h,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let d=0,v=this.windings.length;d<v;d++)this.windings[d]*=-1}consume(h){let d=this,v=h;for(;d.consumedBy;)d=d.consumedBy;for(;v.consumedBy;)v=v.consumedBy;let k=Cc.compare(d,v);if(k!==0){if(k>0){let B=d;d=v,v=B}if(d.prev===v){let B=d;d=v,v=B}for(let B=0,z=v.rings.length;B<z;B++){let q=v.rings[B],J=v.windings[B],ee=d.rings.indexOf(q);ee===-1?(d.rings.push(q),d.windings.push(J)):d.windings[ee]+=J}v.rings=null,v.windings=null,v.consumedBy=d,v.leftSE.consumedBy=d.leftSE,v.rightSE.consumedBy=d.rightSE}}prevInResult(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}beforeState(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{let h=this.prev.consumedBy||this.prev;this._beforeState=h.afterState()}return this._beforeState}afterState(){if(this._afterState!==void 0)return this._afterState;let h=this.beforeState();this._afterState={rings:h.rings.slice(0),windings:h.windings.slice(0),multiPolys:[]};let d=this._afterState.rings,v=this._afterState.windings,k=this._afterState.multiPolys;for(let q=0,J=this.rings.length;q<J;q++){let ee=this.rings[q],Re=this.windings[q],Me=d.indexOf(ee);Me===-1?(d.push(ee),v.push(Re)):v[Me]+=Re}let B=[],z=[];for(let q=0,J=d.length;q<J;q++){if(v[q]===0)continue;let ee=d[q],Re=ee.poly;if(z.indexOf(Re)===-1)if(ee.isExterior)B.push(Re);else{z.indexOf(Re)===-1&&z.push(Re);let Me=B.indexOf(ee.poly);Me!==-1&&B.splice(Me,1)}}for(let q=0,J=B.length;q<J;q++){let ee=B[q].multiPoly;k.indexOf(ee)===-1&&k.push(ee)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;let h=this.beforeState().multiPolys,d=this.afterState().multiPolys;switch(Ai.type){case"union":{let v=h.length===0,k=d.length===0;this._isInResult=v!==k;break}case"intersection":{let v,k;h.length<d.length?(v=h.length,k=d.length):(v=d.length,k=h.length),this._isInResult=k===Ai.numMultiPolys&&v<k;break}case"xor":{let v=Math.abs(h.length-d.length);this._isInResult=v%2===1;break}case"difference":{let v=k=>k.length===1&&k[0].isSubject;this._isInResult=v(h)!==v(d);break}}return this._isInResult}},La=class{poly;isExterior;segments;bbox;constructor(i,h,d){if(!Array.isArray(i)||i.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=h,this.isExterior=d,this.segments=[],typeof i[0][0]!="number"||typeof i[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let v=Pr.snap({x:new le(i[0][0]),y:new le(i[0][1])});this.bbox={ll:{x:v.x,y:v.y},ur:{x:v.x,y:v.y}};let k=v;for(let B=1,z=i.length;B<z;B++){if(typeof i[B][0]!="number"||typeof i[B][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let q=Pr.snap({x:new le(i[B][0]),y:new le(i[B][1])});q.x.eq(k.x)&&q.y.eq(k.y)||(this.segments.push(js.fromRing(k,q,this)),q.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=q.x),q.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=q.y),q.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=q.x),q.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=q.y),k=q)}(!v.x.eq(k.x)||!v.y.eq(k.y))&&this.segments.push(js.fromRing(k,v,this))}getSweepEvents(){let i=[];for(let h=0,d=this.segments.length;h<d;h++){let v=this.segments[h];i.push(v.leftSE),i.push(v.rightSE)}return i}},Ho=class{multiPoly;exteriorRing;interiorRings;bbox;constructor(i,h){if(!Array.isArray(i))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new La(i[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let d=1,v=i.length;d<v;d++){let k=new La(i[d],this,!1);k.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=k.bbox.ll.x),k.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=k.bbox.ll.y),k.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=k.bbox.ur.x),k.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=k.bbox.ur.y),this.interiorRings.push(k)}this.multiPoly=h}getSweepEvents(){let i=this.exteriorRing.getSweepEvents();for(let h=0,d=this.interiorRings.length;h<d;h++){let v=this.interiorRings[h].getSweepEvents();for(let k=0,B=v.length;k<B;k++)i.push(v[k])}return i}},Tl=class{isSubject;polys;bbox;constructor(i,h){if(!Array.isArray(i))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof i[0][0][0]=="number"&&(i=[i])}catch{}this.polys=[],this.bbox={ll:{x:new le(Number.POSITIVE_INFINITY),y:new le(Number.POSITIVE_INFINITY)},ur:{x:new le(Number.NEGATIVE_INFINITY),y:new le(Number.NEGATIVE_INFINITY)}};for(let d=0,v=i.length;d<v;d++){let k=new Ho(i[d],this);k.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=k.bbox.ll.x),k.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=k.bbox.ll.y),k.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=k.bbox.ur.x),k.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=k.bbox.ur.y),this.polys.push(k)}this.isSubject=h}getSweepEvents(){let i=[];for(let h=0,d=this.polys.length;h<d;h++){let v=this.polys[h].getSweepEvents();for(let k=0,B=v.length;k<B;k++)i.push(v[k])}return i}},co=class Ld{events;poly;_isExteriorRing;_enclosingRing;static factory(h){let d=[];for(let v=0,k=h.length;v<k;v++){let B=h[v];if(!B.isInResult()||B.ringOut)continue;let z=null,q=B.leftSE,J=B.rightSE,ee=[q],Re=q.point,Me=[];for(;z=q,q=J,ee.push(q),q.point!==Re;)for(;;){let lt=q.getAvailableLinkedEvents();if(lt.length===0){let Wt=ee[0].point,Zt=ee[ee.length-1].point;throw new Error(`Unable to complete output ring starting at [${Wt.x}, ${Wt.y}]. Last matching segment found ends at [${Zt.x}, ${Zt.y}].`)}if(lt.length===1){J=lt[0].otherSE;break}let gt=null;for(let Wt=0,Zt=Me.length;Wt<Zt;Wt++)if(Me[Wt].point===q.point){gt=Wt;break}if(gt!==null){let Wt=Me.splice(gt)[0],Zt=ee.splice(Wt.index);Zt.unshift(Zt[0].otherSE),d.push(new Ld(Zt.reverse()));continue}Me.push({index:ee.length,point:q.point});let Et=q.getLeftmostComparator(z);J=lt.sort(Et)[0].otherSE;break}d.push(new Ld(ee))}return d}constructor(h){this.events=h;for(let d=0,v=h.length;d<v;d++)h[d].segment.ringOut=this;this.poly=null}getGeom(){let h=this.events[0].point,d=[h];for(let ee=1,Re=this.events.length-1;ee<Re;ee++){let Me=this.events[ee].point,lt=this.events[ee+1].point;Pr.orient(Me,h,lt)!==0&&(d.push(Me),h=Me)}if(d.length===1)return null;let v=d[0],k=d[1];Pr.orient(v,h,k)===0&&d.shift(),d.push(d[0]);let B=this.isExteriorRing()?1:-1,z=this.isExteriorRing()?0:d.length-1,q=this.isExteriorRing()?d.length:-1,J=[];for(let ee=z;ee!=q;ee+=B)J.push([d[ee].x.toNumber(),d[ee].y.toNumber()]);return J}isExteriorRing(){if(this._isExteriorRing===void 0){let h=this.enclosingRing();this._isExteriorRing=h?!h.isExteriorRing():!0}return this._isExteriorRing}enclosingRing(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let h=this.events[0];for(let k=1,B=this.events.length;k<B;k++){let z=this.events[k];aa.compare(h,z)>0&&(h=z)}let d=h.segment.prevInResult(),v=d?d.prevInResult():null;for(;;){if(!d)return null;if(!v)return d.ringOut;if(v.ringOut!==d.ringOut)return v.ringOut?.enclosingRing()!==d.ringOut?d.ringOut:d.ringOut?.enclosingRing();d=v.prevInResult(),v=d?d.prevInResult():null}}},oa=class{exteriorRing;interiorRings;constructor(i){this.exteriorRing=i,i.poly=this,this.interiorRings=[]}addInterior(i){this.interiorRings.push(i),i.poly=this}getGeom(){let i=this.exteriorRing.getGeom();if(i===null)return null;let h=[i];for(let d=0,v=this.interiorRings.length;d<v;d++){let k=this.interiorRings[d].getGeom();k!==null&&h.push(k)}return h}},cr=class{rings;polys;constructor(i){this.rings=i,this.polys=this._composePolys(i)}getGeom(){let i=[];for(let h=0,d=this.polys.length;h<d;h++){let v=this.polys[h].getGeom();v!==null&&i.push(v)}return i}_composePolys(i){let h=[];for(let d=0,v=i.length;d<v;d++){let k=i[d];if(!k.poly)if(k.isExteriorRing())h.push(new oa(k));else{let B=k.enclosingRing();B?.poly||h.push(new oa(B)),B?.poly?.addInterior(k)}}return h}},pr=class{queue;tree;segments;constructor(i,h=js.compare){this.queue=i,this.tree=new Rt(h),this.segments=[]}process(i){let h=i.segment,d=[];if(i.consumedBy)return i.isLeft?this.queue.delete(i.otherSE):this.tree.delete(h),d;i.isLeft&&this.tree.add(h);let v=h,k=h;do v=this.tree.lastBefore(v);while(v!=null&&v.consumedBy!=null);do k=this.tree.firstAfter(k);while(k!=null&&k.consumedBy!=null);if(i.isLeft){let B=null;if(v){let q=v.getIntersection(h);if(q!==null&&(h.isAnEndpoint(q)||(B=q),!v.isAnEndpoint(q))){let J=this._splitSafely(v,q);for(let ee=0,Re=J.length;ee<Re;ee++)d.push(J[ee])}}let z=null;if(k){let q=k.getIntersection(h);if(q!==null&&(h.isAnEndpoint(q)||(z=q),!k.isAnEndpoint(q))){let J=this._splitSafely(k,q);for(let ee=0,Re=J.length;ee<Re;ee++)d.push(J[ee])}}if(B!==null||z!==null){let q=null;B===null?q=z:z===null?q=B:q=aa.comparePoints(B,z)<=0?B:z,this.queue.delete(h.rightSE),d.push(h.rightSE);let J=h.split(q);for(let ee=0,Re=J.length;ee<Re;ee++)d.push(J[ee])}d.length>0?(this.tree.delete(h),d.push(i)):(this.segments.push(h),h.prev=v)}else{if(v&&k){let B=v.getIntersection(k);if(B!==null){if(!v.isAnEndpoint(B)){let z=this._splitSafely(v,B);for(let q=0,J=z.length;q<J;q++)d.push(z[q])}if(!k.isAnEndpoint(B)){let z=this._splitSafely(k,B);for(let q=0,J=z.length;q<J;q++)d.push(z[q])}}}this.tree.delete(h)}return d}_splitSafely(i,h){this.tree.delete(i);let d=i.rightSE;this.queue.delete(d);let v=i.split(h);return v.push(d),i.consumedBy===void 0&&this.tree.add(i),v}},Bo=class{type;numMultiPolys;run(i,h,d){Vr.type=i;let v=[new Tl(h,!0)];for(let J=0,ee=d.length;J<ee;J++)v.push(new Tl(d[J],!1));if(Vr.numMultiPolys=v.length,Vr.type==="difference"){let J=v[0],ee=1;for(;ee<v.length;)Go(v[ee].bbox,J.bbox)!==null?ee++:v.splice(ee,1)}if(Vr.type==="intersection")for(let J=0,ee=v.length;J<ee;J++){let Re=v[J];for(let Me=J+1,lt=v.length;Me<lt;Me++)if(Go(Re.bbox,v[Me].bbox)===null)return[]}let k=new Rt(aa.compare);for(let J=0,ee=v.length;J<ee;J++){let Re=v[J].getSweepEvents();for(let Me=0,lt=Re.length;Me<lt;Me++)k.add(Re[Me])}let B=new pr(k),z=null;for(k.size!=0&&(z=k.first(),k.delete(z));z;){let J=B.process(z);for(let ee=0,Re=J.length;ee<Re;ee++){let Me=J[ee];Me.consumedBy===void 0&&k.add(Me)}k.size!=0?(z=k.first(),k.delete(z)):z=null}Pr.reset();let q=co.factory(B.segments);return new cr(q).getGeom()}},Vr=new Bo,Ai=Vr,Wo=(i,...h)=>Ai.run("intersection",i,h),ul=(i,...h)=>Ai.run("difference",i,h);Pr.set;function Mi(i){let h={type:"Feature"};return h.geometry=i,h}function Vo(i){return i.type==="Feature"?i.geometry:i}function tu(i){return i&&i.geometry&&i.geometry.coordinates?i.geometry.coordinates:i}function nu(i){return Mi({type:"LineString",coordinates:i})}function $o(i){return Mi({type:"MultiLineString",coordinates:i})}function ru(i){return Mi({type:"Polygon",coordinates:i})}function Va(i){return Mi({type:"MultiPolygon",coordinates:i})}function bl(i,h){let d=Vo(i),v=Vo(h),k=Wo(d.coordinates,v.coordinates);return k.length===0?null:k.length===1?ru(k[0]):Va(k)}function _(i,h){let d=Vo(i),v=Vo(h),k=ul(d.coordinates,v.coordinates);return k.length===0?null:k.length===1?ru(k[0]):Va(k)}function C(i){return Array.isArray(i)?1+C(i[0]):-1}function D(i){i instanceof L.Polyline&&(i=i.toGeoJSON(15));let h=tu(i),d=C(h),v=[];return d>1?h.forEach(k=>{v.push(nu(k))}):v.push(i),v}function H(i){let h=[];return i.eachLayer(d=>{h.push(tu(d.toGeoJSON(15)))}),$o(h)}Tr.Cut=Tr.Polygon.extend({initialize(i){this._map=i,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_finishShape(){if(this._editedLayers=[],!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let i=this._layer.getLatLngs();if(i.length<=2)return;let h=L.polygon(i,this.options.pathOptions);h._latlngInfos=this._layer._latlngInfo,this.cut(h),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this._editedLayers.forEach(({layer:v,originalLayer:k})=>{this._fireCut(k,v,k),this._fireCut(this._map,v,k),k.pm._fireEdit()}),this._editedLayers=[];let d=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(d))},cut(i){let h=this._map._layers,d=i._latlngInfos||[];Object.keys(h).map(v=>h[v]).filter(v=>v.pm).filter(v=>!v._pmTempLayer).filter(v=>!L.PM.optIn&&!v.options.pmIgnore||L.PM.optIn&&v.options.pmIgnore===!1).filter(v=>v instanceof L.Polyline).filter(v=>v!==i).filter(v=>v.pm.options.allowCutting).filter(v=>this.options.layersToCut&&L.Util.isArray(this.options.layersToCut)&&this.options.layersToCut.length>0?this.options.layersToCut.indexOf(v)>-1:!0).filter(v=>!this._layerGroup.hasLayer(v)).filter(v=>{try{let k=!!Si(i.toGeoJSON(15),v.toGeoJSON(15)).features.length>0;return k||v instanceof L.Polyline&&!(v instanceof L.Polygon)?k:!!bl(i.toGeoJSON(15),v.toGeoJSON(15))}catch{return v instanceof L.Polygon&&console.error("You can't cut polygons with self-intersections"),!1}}).forEach(v=>{let k;if(v instanceof L.Polygon){k=L.polygon(v.getLatLngs());let J=k.getLatLngs();d.forEach(ee=>{if(ee&&ee.snapInfo){let{latlng:Re}=ee,Me=this._calcClosestLayer(Re,[k]);if(Me&&Me.segment&&Me.distance<this.options.snapDistance){let{segment:lt}=Me;if(lt&&lt.length===2){let{indexPath:gt,parentPath:Et,newIndex:Wt}=L.PM.Utils._getIndexFromSegment(J,lt);(gt.length>1?(0,lr.default)(J,Et):J).splice(Wt,0,Re)}}}})}else k=v;let B=this._cutLayer(i,k),z=L.geoJSON(B,v.options);z.getLayers().length===1&&([z]=z.getLayers()),this._setPane(z,"layerPane");let q=z.addTo(this._map.pm._getContainingLayer());if(q.pm.enable(v.pm.options),q.pm.disable(),v._pmTempLayer=!0,i._pmTempLayer=!0,v.remove(),v.removeFrom(this._map.pm._getContainingLayer()),i.remove(),i.removeFrom(this._map.pm._getContainingLayer()),q.getLayers&&q.getLayers().length===0&&this._map.pm.removeLayer({target:q}),q instanceof L.LayerGroup?(q.eachLayer(J=>{this._addDrawnLayerProp(J)}),this._addDrawnLayerProp(q)):this._addDrawnLayerProp(q),this.options.layersToCut&&L.Util.isArray(this.options.layersToCut)&&this.options.layersToCut.length>0){let J=this.options.layersToCut.indexOf(v);J>-1&&this.options.layersToCut.splice(J,1)}this._editedLayers.push({layer:q,originalLayer:v})})},_cutLayer(i,h){let d=L.geoJSON(),v;if(h instanceof L.Polygon)v=_(h.toGeoJSON(15),i.toGeoJSON(15));else{let k=D(h);k.forEach(B=>{let z=vi(B,i.toGeoJSON(15)),q;z&&z.features.length>0?q=L.geoJSON(z):q=L.geoJSON(B),q.getLayers().forEach(J=>{ss(i.toGeoJSON(15),J.toGeoJSON(15))||J.addTo(d)})}),k.length>1?v=H(d):v=d.toGeoJSON(15)}return v},_change:L.Util.falseFn}),Tr.Text=Tr.extend({initialize(i){this._map=i,this._shape="Text",this.toolbarButtonName="drawText"},enable(i){L.Util.setOptions(this,i),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(gn("tooltips.placeText"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._map.getContainer().classList.add("geoman-draw-cursor"),this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker?.remove(),this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("mousemove",this._syncHintMarker,this),this._map.off("mousemove",this._showHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(i){this.enabled()?this.disable():this.enable(i)},_syncHintMarker(i){if(this._hintMarker.setLatLng(i.latlng),this.options.snappable){let h=i;h.target=this._hintMarker,this._handleSnapping(h)}},_createMarker(i){if(!i.latlng||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);let h=this._hintMarker.getLatLng();if(this.textArea=this._createTextArea(),this.options.textOptions?.className){let k=this.options.textOptions.className.split(" ");this.textArea.classList.add(...k)}let d=this._createTextIcon(this.textArea),v=new L.Marker(h,{textMarker:!0,_textMarkerOverPM:!0,icon:d});if(this._setPane(v,"markerPane"),this._finishLayer(v),v.pm||(v.options.draggable=!1),v.addTo(this._map.pm._getContainingLayer()),v.pm){v.pm.textArea=this.textArea,L.setOptions(v.pm,{removeIfEmpty:this.options.textOptions?.removeIfEmpty??!0});let k=this.options.textOptions?.focusAfterDraw??!0;v.pm._createTextMarker(k),this.options.textOptions?.text&&v.pm.setText(this.options.textOptions.text)}this._fireCreate(v),this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this._map.once("mousemove",this._showHintMarkerAfterMoving,this)},_showHintMarkerAfterMoving(i){this.enable(),this._hintMarker.setLatLng(i.latlng)},_createTextArea(){let i=document.createElement("textarea");return i.readOnly=!0,i.classList.add("pm-textarea","pm-disabled"),i},_createTextIcon(i){return L.divIcon({className:"pm-text-marker",html:i})}});var Q={enableLayerDrag(){if(!this.options.draggable||!this._layer._map)return;this.disable(),this._layerDragEnabled=!0,this._map||(this._map=this._layer._map),(this._layer instanceof L.Marker||this._layer instanceof L.ImageOverlay)&&L.DomEvent.on(this._getDOMElem(),"dragstart",this._stopDOMImageDrag),this._layer.dragging&&this._layer.dragging.disable(),this._tempDragCoord=null,Br(this._layer)instanceof L.Canvas?(this._layer.on("mouseout",this.removeDraggingClass,this),this._layer.on("mouseover",this.addDraggingClass,this)):this.addDraggingClass(),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0;let i=this._getDOMElem();i&&(Br(this._layer)instanceof L.Canvas?(this._layer.on("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._addTouchEvents(i)):L.DomEvent.on(i,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._fireDragEnable()},disableLayerDrag(){this._layerDragEnabled=!1,Br(this._layer)instanceof L.Canvas?(this._layer.off("mouseout",this.removeDraggingClass,this),this._layer.off("mouseover",this.addDraggingClass,this)):this.removeDraggingClass(),this._originalMapDragState&&this._dragging&&this._map.dragging.enable(),this._safeToCacheDragState=!1,this._layer.dragging&&this._layer.dragging.disable();let i=this._getDOMElem();i&&(Br(this._layer)instanceof L.Canvas?(this._layer.off("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._removeTouchEvents(i)):L.DomEvent.off(i,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._layerDragged&&this._fireUpdate(),this._layerDragged=!1,this._fireDragDisable()},dragging(){return this._dragging},layerDragEnabled(){return!!this._layerDragEnabled},_simulateMouseDownEvent(i){let h=i.touches?i.touches[0]:i,d={originalEvent:h,target:this._layer};return d.containerPoint=this._map.mouseEventToContainerPoint(h),d.latlng=this._map.containerPointToLatLng(d.containerPoint),this._dragMixinOnMouseDown(d),!1},_simulateMouseMoveEvent(i){let h=i.touches?i.touches[0]:i,d={originalEvent:h,target:this._layer};return d.containerPoint=this._map.mouseEventToContainerPoint(h),d.latlng=this._map.containerPointToLatLng(d.containerPoint),this._dragMixinOnMouseMove(d),!1},_simulateMouseUpEvent(i){let h={originalEvent:i.touches?i.touches[0]:i,target:this._layer};return i.type.indexOf("touch")===-1&&(h.containerPoint=this._map.mouseEventToContainerPoint(i),h.latlng=this._map.containerPointToLatLng(h.containerPoint)),this._dragMixinOnMouseUp(h),!1},_dragMixinOnMouseDown(i){if(i.originalEvent.button>0)return;this._overwriteEventIfItComesFromMarker(i);let h=i._fromLayerSync,d=this._syncLayers("_dragMixinOnMouseDown",i);if(this._layer instanceof L.Marker&&(this.options.snappable&&!h&&!d?this._initSnappableMarkers():this._disableSnapping()),this._layer instanceof L.CircleMarker){let v="resizeableCircleMarker";this._layer instanceof L.Circle&&(v="resizeableCircle"),this.options.snappable&&!h&&!d?this._layer.pm.options[v]||this._initSnappableMarkersDrag():this._layer.pm.options[v]?this._layer.pm._disableSnapping():this._layer.pm._disableSnappingDrag()}this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=i.latlng,L.DomEvent.on(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),L.DomEvent.on(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this)},_dragMixinOnMouseMove(i){this._overwriteEventIfItComesFromMarker(i);let h=this._getDOMElem();this._syncLayers("_dragMixinOnMouseMove",i),this._dragging||(this._dragging=!0,L.DomUtil.addClass(h,"leaflet-pm-dragging"),this._layer instanceof L.Marker||this._layer.bringToFront(),this._originalMapDragState&&this._map.dragging.disable(),this._fireDragStart()),this._tempDragCoord||(this._tempDragCoord=i.latlng),this._onLayerDrag(i),this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle()},_dragMixinOnMouseUp(i){let h=this._getDOMElem();return this._syncLayers("_dragMixinOnMouseUp",i),this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0,L.DomEvent.off(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this),L.DomEvent.off(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),this._dragging?(this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle(),this._layerDragged=!0,window.setTimeout(()=>{this._dragging=!1,h&&L.DomUtil.removeClass(h,"leaflet-pm-dragging"),this._fireDragEnd(),this._fireEdit(),this._layerEdited=!0},10),!0):!1},_onLayerDrag(i){let{latlng:h}=i,d={lat:h.lat-this._tempDragCoord.lat,lng:h.lng-this._tempDragCoord.lng},v=k=>k.map(B=>{if(Array.isArray(B))return v(B);let z={lat:B.lat+d.lat,lng:B.lng+d.lng};return(B.alt||B.alt===0)&&(z.alt=B.alt),z});if(this._layer instanceof L.Circle&&this._layer.options.resizeableCircle||this._layer instanceof L.CircleMarker&&this._layer.options.resizeableCircleMarker){let k=v([this._layer.getLatLng()]);this._layer.setLatLng(k[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.CircleMarker||this._layer instanceof L.Marker){let k=this._layer.getLatLng();this._layer._snapped&&(k=this._layer._orgLatLng);let B=v([k]);this._layer.setLatLng(B[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.ImageOverlay){let k=v([this._layer.getBounds().getNorthWest(),this._layer.getBounds().getSouthEast()]);this._layer.setBounds(k),this._fireChange(this._layer.getBounds(),"Edit")}else{let k=v(this._layer.getLatLngs());this._layer.setLatLngs(k),this._fireChange(this._layer.getLatLngs(),"Edit")}this._tempDragCoord=h,i.layer=this._layer,this._fireDrag(i)},addDraggingClass(){let i=this._getDOMElem();i&&L.DomUtil.addClass(i,"leaflet-pm-draggable")},removeDraggingClass(){let i=this._getDOMElem();i&&L.DomUtil.removeClass(i,"leaflet-pm-draggable")},_getDOMElem(){let i=null;return this._layer._path?i=this._layer._path:this._layer._renderer&&this._layer._renderer._container?i=this._layer._renderer._container:this._layer._image?i=this._layer._image:this._layer._icon&&(i=this._layer._icon),i},_overwriteEventIfItComesFromMarker(i){i.target.getLatLng&&(!i.target._radius||i.target._radius<=10)&&(i.containerPoint=this._map.mouseEventToContainerPoint(i.originalEvent),i.latlng=this._map.containerPointToLatLng(i.containerPoint))},_syncLayers(i,h){if(this.enabled())return!1;if(!h._fromLayerSync&&this._layer===h.target&&this.options.syncLayersOnDrag){h._fromLayerSync=!0;let d=[];if(L.Util.isArray(this.options.syncLayersOnDrag))d=this.options.syncLayersOnDrag,this.options.syncLayersOnDrag.forEach(v=>{v instanceof L.LayerGroup&&(d=d.concat(v.pm.getLayers(!0)))});else if(this.options.syncLayersOnDrag===!0&&this._parentLayerGroup)for(let v in this._parentLayerGroup){let k=this._parentLayerGroup[v];k.pm&&(d=k.pm.getLayers(!0))}return L.Util.isArray(d)&&d.length>0&&(d=d.filter(v=>!!v.pm).filter(v=>!!v.pm.options.draggable),d.forEach(v=>{v!==this._layer&&v.pm[i]&&(v._snapped=!1,v.pm[i](h))})),d.length>0}return!1},_stopDOMImageDrag(i){return i.preventDefault(),!1}},ie=Q,ue=g(Xi());function _e(i,h,d,v){return d.unproject(h.transform(d.project(i,v)),v)}function ye(i,h,d){let v=d.getMaxZoom();if(v===1/0&&(v=d.getZoom()),L.Util.isArray(i)){let k=[];return i.forEach(B=>{k.push(ye(B,h,d))}),k}return i instanceof L.LatLng?_e(i,h,d,v):null}function Ce(i,h){h instanceof L.Layer&&(h=h.getLatLng());let d=i.getMaxZoom();return d===1/0&&(d=i.getZoom()),i.project(h,d)}function Je(i,h){let d=i.getMaxZoom();return d===1/0&&(d=i.getZoom()),i.unproject(h,d)}var _t={_onRotateStart(i){this._preventRenderingMarkers(!0),this._rotationOriginLatLng=this._getRotationCenter().clone(),this._rotationOriginPoint=Ce(this._map,this._rotationOriginLatLng),this._rotationStartPoint=Ce(this._map,i.target.getLatLng()),this._initialRotateLatLng=_i(this._layer),this._startAngle=this.getAngle();let h=_i(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._fireRotationStart(this._rotationLayer,h),this._fireRotationStart(this._map,h)},_onRotate(i){let h=Ce(this._map,i.target.getLatLng()),d=this._rotationStartPoint,v=this._rotationOriginPoint,k=Math.atan2(h.y-v.y,h.x-v.x)-Math.atan2(d.y-v.y,d.x-v.x);this._layer.setLatLngs(this._rotateLayer(k,this._initialRotateLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));let B=this;function z(Re,Me=[],lt=-1){if(lt>-1&&Me.push(lt),L.Util.isArray(Re[0]))Re.forEach((gt,Et)=>z(gt,Me.slice(),Et));else{let gt=Me.length>0?(0,ue.default)(B._markers,Me):B._markers[0];Re.forEach((Et,Wt)=>{gt[Wt].setLatLng(Et)})}}z(this._layer.getLatLngs());let q=_i(this._rotationLayer);this._rotationLayer.setLatLngs(this._rotateLayer(k,this._rotationLayer.pm._rotateOrgLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));let J=k*180/Math.PI;J=J<0?J+360:J;let ee=J+this._startAngle;this._setAngle(ee),this._rotationLayer.pm._setAngle(ee),this._fireRotation(this._rotationLayer,J,q),this._fireRotation(this._map,J,q),this._rotationLayer.pm._fireChange(this._rotationLayer.getLatLngs(),"Rotation")},_onRotateEnd(){let i=this._startAngle;delete this._rotationOriginLatLng,delete this._rotationOriginPoint,delete this._rotationStartPoint,delete this._initialRotateLatLng,delete this._startAngle;let h=_i(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._rotationLayer.pm._rotateOrgLatLng=_i(this._rotationLayer),this._fireRotationEnd(this._rotationLayer,i,h),this._fireRotationEnd(this._map,i,h),this._rotationLayer.pm._fireEdit(this._rotationLayer,"Rotation"),this._preventRenderingMarkers(!1),this._layerRotated=!0},_rotateLayer(i,h,d,v,k){let B=Ce(k,d);return this._matrix=v.clone().rotate(i,B).flip(),ye(h,this._matrix,k)},_setAngle(i){i=i<0?i+360:i,this._angle=i%360},_getRotationCenter(){if(this._rotationCenter)return this._rotationCenter;let i=L.polygon(this._layer.getLatLngs(),{stroke:!1,fill:!1,pmIgnore:!0}).addTo(this._layer._map),h=i.getCenter();return i.removeFrom(this._layer._map),h},enableRotate(){if(!this.options.allowRotation){this.disableRotate();return}this.rotateEnabled()&&this.disableRotate(),this._layer instanceof L.Rectangle&&this._angle===void 0&&this.setInitAngle(Cr(this._layer._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);let i={fill:!1,stroke:!1,pmIgnore:!1,snapIgnore:!0};this._rotatePoly=L.polygon(this._layer.getLatLngs(),i),this._rotatePoly._pmTempLayer=!0,this._rotatePoly.addTo(this._layer._map),this._rotatePoly.pm._setAngle(this.getAngle()),this._rotatePoly.pm.setRotationCenter(this.getRotationCenter()),this._rotatePoly.pm.setOptions(this._layer._map.pm.getGlobalOptions()),this._rotatePoly.pm.setOptions({rotate:!0,snappable:!1,hideMiddleMarkers:!0}),this._rotatePoly.pm._rotationLayer=this._layer,this._rotatePoly.pm.enable(),this._rotateOrgLatLng=_i(this._layer),this._rotateEnabled=!0,this._layer.on("remove",this.disableRotate,this),this._fireRotationEnable(this._layer),this._fireRotationEnable(this._layer._map)},disableRotate(){this.rotateEnabled()&&(this._rotatePoly.pm._layerRotated&&this._fireUpdate(),this._rotatePoly.pm._layerRotated=!1,this._rotatePoly.pm.disable(),this._rotatePoly.remove(),this._rotatePoly.pm.setOptions({rotate:!1}),this._rotatePoly=void 0,this._rotateOrgLatLng=void 0,this._layer.off("remove",this.disableRotate,this),this._rotateEnabled=!1,this._fireRotationDisable(this._layer),this._fireRotationDisable(this._layer._map))},rotateEnabled(){return!!this._rotateEnabled},rotateLayer(i){let h=this.getAngle(),d=this._layer.getLatLngs(),v=i*(Math.PI/180);this._layer.setLatLngs(this._rotateLayer(v,this._layer.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._layer._map)),this._rotateOrgLatLng=L.polygon(this._layer.getLatLngs()).getLatLngs(),this._setAngle(this.getAngle()+i),this.rotateEnabled()&&this._rotatePoly&&this._rotatePoly.pm.enabled()&&(this._rotatePoly.setLatLngs(this._rotateLayer(v,this._rotatePoly.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._rotatePoly._map)),this._rotatePoly.pm._initMarkers());let k=this.getAngle()-h;k=k<0?k+360:k,this._startAngle=h,this._fireRotation(this._layer,k,d,this._layer),this._fireRotation(this._map||this._layer._map,k,d,this._layer),delete this._startAngle,this._fireChange(this._layer.getLatLngs(),"Rotation")},rotateLayerToAngle(i){let h=i-this.getAngle();this.rotateLayer(h)},getAngle(){return this._angle||0},setInitAngle(i){this._setAngle(i)},getRotationCenter(){return this._getRotationCenter()},setRotationCenter(i){this._rotationCenter=i,this._rotatePoly&&this._rotatePoly.pm.setRotationCenter(i)}},vt=_t,at=L.Class.extend({includes:[ie,oo,vt,Ys],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,allowSelfIntersectionEdit:!1,preventMarkerRemoval:!1,removeLayerBelowMinVertexCount:!0,limitMarkersToCount:-1,hideMiddleMarkers:!1,snapSegment:!0,syncLayersOnDrag:!1,draggable:!0,allowEditing:!0,allowRemoval:!0,allowCutting:!0,allowRotation:!0,addVertexOn:"click",removeVertexOn:"contextmenu",removeVertexValidation:void 0,addVertexValidation:void 0,moveVertexValidation:void 0,resizeableCircleMarker:!1,resizeableCircle:!0,snapMiddle:!1,snapVertex:!0},setOptions(i){L.Util.setOptions(this,i)},getOptions(){return this.options},applyOptions(){},isPolygon(){return this._layer instanceof L.Polygon},getShape(){return this._shape},_setPane(i,h){h==="layerPane"?i.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":h==="vertexPane"?i.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":h==="markerPane"&&(i.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},remove(){(this._map||this._layer._map).pm.removeLayer({target:this._layer})},_vertexValidation(i,h){let d=h.target,v={layer:this._layer,marker:d,event:h},k="";return i==="move"?k="moveVertexValidation":i==="add"?k="addVertexValidation":i==="remove"&&(k="removeVertexValidation"),this.options[k]&&typeof this.options[k]=="function"&&!this.options[k](v)?(i==="move"&&(d._cancelDragEventChain=d.getLatLng()),!1):(d._cancelDragEventChain=null,!0)},_vertexValidationDrag(i){return i._cancelDragEventChain?(i._latlng=i._cancelDragEventChain,i.update(),!1):!0},_vertexValidationDragEnd(i){return i._cancelDragEventChain?(i._cancelDragEventChain=null,!1):!0}}),Pt=at;Pt.LayerGroup=L.Class.extend({initialize(i){this._layerGroup=i,this._layers=this.getLayers(),this._getMap(),this._layers.forEach(v=>this._initLayer(v));let h=v=>{if(v.layer._pmTempLayer)return;this._layers=this.getLayers();let k=this._layers.filter(B=>!B.pm._parentLayerGroup||!(this._layerGroup._leaflet_id in B.pm._parentLayerGroup));k.forEach(B=>{this._initLayer(B)}),k.length>0&&this._getMap()&&this._getMap().pm.globalEditModeEnabled()&&this.enabled()&&this.enable(this.getOptions())};this._layerGroup.on("layeradd",L.Util.throttle(h,100,this),this),this._layerGroup.on("layerremove",v=>{this._removeLayerFromGroup(v.target)},this);let d=v=>{v.target._pmTempLayer||(this._layers=this.getLayers())};this._layerGroup.on("layerremove",L.Util.throttle(d,100,this),this)},enable(i,h=[]){h.length===0&&(this._layers=this.getLayers()),this._options=i,this._layers.forEach(d=>{d instanceof L.LayerGroup?h.indexOf(d._leaflet_id)===-1&&(h.push(d._leaflet_id),d.pm.enable(i,h)):d.pm.enable(i)})},disable(i=[]){i.length===0&&(this._layers=this.getLayers()),this._layers.forEach(h=>{h instanceof L.LayerGroup?i.indexOf(h._leaflet_id)===-1&&(i.push(h._leaflet_id),h.pm.disable(i)):h.pm.disable()})},enabled(i=[]){return i.length===0&&(this._layers=this.getLayers()),!!this._layers.find(h=>h instanceof L.LayerGroup?i.indexOf(h._leaflet_id)===-1?(i.push(h._leaflet_id),h.pm.enabled(i)):!1:h.pm.enabled())},toggleEdit(i,h=[]){h.length===0&&(this._layers=this.getLayers()),this._options=i,this._layers.forEach(d=>{d instanceof L.LayerGroup?h.indexOf(d._leaflet_id)===-1&&(h.push(d._leaflet_id),d.pm.toggleEdit(i,h)):d.pm.toggleEdit(i)})},_initLayer(i){let h=L.Util.stamp(this._layerGroup);i.pm._parentLayerGroup||(i.pm._parentLayerGroup={}),i.pm._parentLayerGroup[h]=this._layerGroup},_removeLayerFromGroup(i){if(i.pm&&i.pm._layerGroup){let h=L.Util.stamp(this._layerGroup);delete i.pm._layerGroup[h]}},dragging(){return this._layers=this.getLayers(),this._layers?!!this._layers.find(i=>i.pm.dragging()):!1},getOptions(){return this.options},_getMap(){return this._map||this._layers.find(i=>!!i._map)?._map||null},getLayers(i=!1,h=!0,d=!0,v=[]){let k=[];return i?this._layerGroup.getLayers().forEach(B=>{k.push(B),B instanceof L.LayerGroup&&v.indexOf(B._leaflet_id)===-1&&(v.push(B._leaflet_id),k=k.concat(B.pm.getLayers(!0,!0,!0,v)))}):k=this._layerGroup.getLayers(),d&&(k=k.filter(B=>!(B instanceof L.LayerGroup))),h&&(k=k.filter(B=>!!B.pm),k=k.filter(B=>!B._pmTempLayer),k=k.filter(B=>!L.PM.optIn&&!B.options.pmIgnore||L.PM.optIn&&B.options.pmIgnore===!1)),k},setOptions(i,h=[]){h.length===0&&(this._layers=this.getLayers()),this.options=i,this._layers.forEach(d=>{d.pm&&(d instanceof L.LayerGroup?h.indexOf(d._leaflet_id)===-1&&(h.push(d._leaflet_id),d.pm.setOptions(i,h)):d.pm.setOptions(i))})}}),Pt.Marker=Pt.extend({_shape:"Marker",initialize(i){this._layer=i,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},enable(i={draggable:!0}){if(L.Util.setOptions(this,i),!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._fireEnable()},disable(){this.enabled()&&(this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this._layer.off("contextmenu",this._removeMarker,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1)},enabled(){return this._enabled},toggleEdit(i){this.enabled()?this.disable():this.enable(i)},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_removeMarker(i){let h=i.target;h.remove(),this._fireRemove(h),this._fireRemove(this._map,h)},_onDragEnd(){this._fireEdit(),this._layerEdited=!0},_initSnappableMarkers(){let i=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,i.off("pm:drag",this._handleSnapping,this),i.on("pm:drag",this._handleSnapping,this),i.off("pm:dragend",this._cleanupSnapping,this),i.on("pm:dragend",this._cleanupSnapping,this),i.off("pm:dragstart",this._unsnap,this),i.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){let i=this._layer;i.off("pm:drag",this._handleSnapping,this),i.off("pm:dragend",this._cleanupSnapping,this),i.off("pm:dragstart",this._unsnap,this)}});var Ct=g(Xi()),et={filterMarkerGroup(){this.markerCache=[],this.createCache(),this._layer.on("pm:edit",this.createCache,this),this.applyLimitFilters({}),this.throttledApplyLimitFilters||(this.throttledApplyLimitFilters=L.Util.throttle(this.applyLimitFilters,100,this)),this._layer.on("pm:disable",this._removeMarkerLimitEvents,this),this._layer.on("remove",this._removeMarkerLimitEvents,this),this.options.limitMarkersToCount>-1&&(this._layer.on("pm:vertexremoved",this._initMarkers,this),this._map.on("mousemove",this.throttledApplyLimitFilters,this))},_removeMarkerLimitEvents(){this._map.off("mousemove",this.throttledApplyLimitFilters,this),this._layer.off("pm:edit",this.createCache,this),this._layer.off("pm:disable",this._removeMarkerLimitEvents,this),this._layer.off("pm:vertexremoved",this._initMarkers,this)},createCache(){let i=[...this._markerGroup.getLayers(),...this.markerCache];this.markerCache=i.filter((h,d,v)=>v.indexOf(h)===d)},_removeFromCache(i){let h=this.markerCache.indexOf(i);h>-1&&this.markerCache.splice(h,1)},renderLimits(i){this.markerCache.forEach(h=>{i.includes(h)?this._markerGroup.addLayer(h):this._markerGroup.removeLayer(h)})},applyLimitFilters({latlng:i={lat:0,lng:0}}){if(this._preventRenderMarkers)return;let h=[...this._filterClosestMarkers(i)];this.renderLimits(h)},_filterClosestMarkers(i){let h=[...this.markerCache],d=this.options.limitMarkersToCount;return d===-1?h:(h.sort((v,k)=>{let B=v._latlng.distanceTo(i),z=k._latlng.distanceTo(i);return B-z}),h.filter((v,k)=>d>-1?k<d:!0))},_preventRenderMarkers:!1,_preventRenderingMarkers(i){this._preventRenderMarkers=!!i}},tt=et;Pt.Line=Pt.extend({includes:[tt],_shape:"Line",initialize(i){this._layer=i,this._enabled=!1},enable(i){if(L.Util.setOptions(this,i),this._map=this._layer._map,!!this._map){if(!this.options.allowEditing){this.disable();return}this.enabled()&&this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.allowSelfIntersection?this.cachedColor=void 0:(this._layer.options.color!=="#f00000ff"?(this.cachedColor=this._layer.options.color,this.isRed=!1):this.isRed=!0,this._handleLayerStyle()),this._fireEnable()}},disable(){if(!this.enabled()||this._dragging)return;this._enabled=!1,this._markerGroup.clearLayers(),this._markerGroup.removeFrom(this._map),this._layer.off("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this);let i=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(i,"leaflet-pm-draggable"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()},enabled(){return this._enabled},toggleEdit(i){return this.enabled()?this.disable():this.enable(i),this.enabled()},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initMarkers(){let i=this._map,h=this._layer.getLatLngs();this._markerGroup&&(this._markerGroup.removeFrom(i),this._markerGroup.clearLayers()),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0;let d=v=>{if(Array.isArray(v[0]))return v.map(d,this);let k=v.map(this._createMarker,this);return this.options.hideMiddleMarkers!==!0&&v.map((B,z)=>{let q=this.isPolygon()?(z+1)%v.length:z+1;return this._createMiddleMarker(k[z],k[q])}),k};this._markers=d(h),this.filterMarkerGroup(),i.addLayer(this._markerGroup)},_createMarker(i){let h=new L.Marker(i,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(h,"vertexPane"),h._pmTempLayer=!0,this.options.rotate?(h.on("dragstart",this._onRotateStart,this),h.on("drag",this._onRotate,this),h.on("dragend",this._onRotateEnd,this)):(h.on("click",this._onVertexClick,this),h.on("dragstart",this._onMarkerDragStart,this),h.on("move",this._onMarkerDrag,this),h.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||h.on(this.options.removeVertexOn,this._removeMarker,this)),this._markerGroup.addLayer(h),h},_createMiddleMarker(i,h){if(!i||!h)return!1;let d=L.PM.Utils.calcMiddleLatLng(this._map,i.getLatLng(),h.getLatLng()),v=this._createMarker(d),k=L.divIcon({className:"marker-icon marker-icon-middle"});return v.setIcon(k),v.leftM=i,v.rightM=h,i._middleMarkerNext=v,h._middleMarkerPrev=v,v.on(this.options.addVertexOn,this._onMiddleMarkerClick,this),v.on("movestart",this._onMiddleMarkerMoveStart,this),v},_onMiddleMarkerClick(i){let h=i.target;if(!this._vertexValidation("add",i))return;let d=L.divIcon({className:"marker-icon"});h.setIcon(d),this._addMarker(h,h.leftM,h.rightM)},_onMiddleMarkerMoveStart(i){let h=i.target;if(h.on("moveend",this._onMiddleMarkerMoveEnd,this),!this._vertexValidation("add",i)){h.on("move",this._onMiddleMarkerMovePrevent,this);return}h._dragging=!0,this._addMarker(h,h.leftM,h.rightM)},_onMiddleMarkerMovePrevent(i){let h=i.target;this._vertexValidationDrag(h)},_onMiddleMarkerMoveEnd(i){let h=i.target;if(h.off("move",this._onMiddleMarkerMovePrevent,this),h.off("moveend",this._onMiddleMarkerMoveEnd,this),!this._vertexValidationDragEnd(h))return;let d=L.divIcon({className:"marker-icon"});h.setIcon(d),setTimeout(()=>{delete h._dragging},100)},_addMarker(i,h,d){i.off("movestart",this._onMiddleMarkerMoveStart,this),i.off(this.options.addVertexOn,this._onMiddleMarkerClick,this);let v=i.getLatLng(),k=this._layer._latlngs;delete i.leftM,delete i.rightM;let{indexPath:B,index:z,parentPath:q}=L.PM.Utils.findDeepMarkerIndex(this._markers,h),J=B.length>1?(0,Ct.default)(k,q):k,ee=B.length>1?(0,Ct.default)(this._markers,q):this._markers;J.splice(z+1,0,v),ee.splice(z+1,0,i),this._layer.setLatLngs(k),this.options.hideMiddleMarkers!==!0&&(this._createMiddleMarker(h,i),this._createMiddleMarker(i,d)),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"),this._fireVertexAdded(i,L.PM.Utils.findDeepMarkerIndex(this._markers,i).indexPath,v),this.options.snappable&&this._initSnappableMarkers()},hasSelfIntersection(){return Rn(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersectionOnVertexRemoval(){this._handleLayerStyle(!0)&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle(i){let h=this._layer,d,v;if(this.options.allowSelfIntersection?d=!1:(v=Rn(this._layer.toGeoJSON(15)),d=v.features.length>0),d){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!0),this.isRed)return d;i?this._flashLayer():(h.setStyle({color:"#f00000ff"}),this.isRed=!0),this._fireIntersect(v)}else h.setStyle({color:this.cachedColor}),this.isRed=!1,!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!1);return d},_flashLayer(){this.cachedColor||(this.cachedColor=this._layer.options.color),this._layer.setStyle({color:"#f00000ff"}),this.isRed=!0,window.setTimeout(()=>{this._layer.setStyle({color:this.cachedColor}),this.isRed=!1},200)},_updateDisabledMarkerStyle(i,h){i.forEach(d=>{Array.isArray(d)?this._updateDisabledMarkerStyle(d,h):d._icon&&(h&&!this._checkMarkerAllowedToDrag(d)?L.DomUtil.addClass(d._icon,"vertexmarker-disabled"):L.DomUtil.removeClass(d._icon,"vertexmarker-disabled"))})},_removeMarker(i){let h=i.target;if(!this._vertexValidation("remove",i))return;this.options.allowSelfIntersection||(this._coordsBeforeEdit=_i(this._layer,this._layer.getLatLngs()));let d=this._layer.getLatLngs(),{indexPath:v,index:k,parentPath:B}=L.PM.Utils.findDeepMarkerIndex(this._markers,h);if(!v)return;let z=v.length>1?(0,Ct.default)(d,B):d,q=v.length>1?(0,Ct.default)(this._markers,B):this._markers,J=B[B.length-1]>0&&this._layer instanceof L.Polygon;if(!this.options.removeLayerBelowMinVertexCount&&!J&&(z.length<=2||this.isPolygon()&&z.length<=3)){this._flashLayer();return}z.splice(k,1),this._layer.setLatLngs(d),this.isPolygon()&&z.length<=2&&z.splice(0,z.length);let ee=!1;if(z.length<=1&&(z.splice(0,z.length),B.length>1&&v.length>1&&(d=ja(d)),this._layer.setLatLngs(d),this._initMarkers(),ee=!0),Yr(d)||this._layer.remove(),d=ja(d),this._layer.setLatLngs(d),this._markers=ja(this._markers),!ee&&(q=v.length>1?(0,Ct.default)(this._markers,B):this._markers,h._middleMarkerPrev&&(this._markerGroup.removeLayer(h._middleMarkerPrev),this._removeFromCache(h._middleMarkerPrev)),h._middleMarkerNext&&(this._markerGroup.removeLayer(h._middleMarkerNext),this._removeFromCache(h._middleMarkerNext)),this._markerGroup.removeLayer(h),this._removeFromCache(h),q)){let Re,Me;if(this.isPolygon()?(Re=(k+1)%q.length,Me=(k+(q.length-1))%q.length):(Me=k-1<0?void 0:k-1,Re=k+1>=q.length?void 0:k+1),Re!==Me){let lt=q[Me],gt=q[Re];this.options.hideMiddleMarkers!==!0&&this._createMiddleMarker(lt,gt)}q.splice(k,1)}this._fireEdit(),this._layerEdited=!0,this._fireVertexRemoved(h,v),this._fireChange(this._layer.getLatLngs(),"Edit")},updatePolygonCoordsFromMarkerDrag(i){let h=this._layer.getLatLngs(),d=i.getLatLng(),{indexPath:v,index:k,parentPath:B}=L.PM.Utils.findDeepMarkerIndex(this._markers,i);(v.length>1?(0,Ct.default)(h,B):h).splice(k,1,d),this._layer.setLatLngs(h)},_getNeighborMarkers(i){let{indexPath:h,index:d,parentPath:v}=L.PM.Utils.findDeepMarkerIndex(this._markers,i),k=h.length>1?(0,Ct.default)(this._markers,v):this._markers,B=(d+1)%k.length,z=(d+(k.length-1))%k.length,q=k[z],J=k[B];return{prevMarker:q,nextMarker:J}},_checkMarkerAllowedToDrag(i){let{prevMarker:h,nextMarker:d}=this._getNeighborMarkers(i),v=L.polyline([h.getLatLng(),i.getLatLng()]),k=L.polyline([i.getLatLng(),d.getLatLng()]),B=Si(this._layer.toGeoJSON(15),v.toGeoJSON(15)).features.length,z=Si(this._layer.toGeoJSON(15),k.toGeoJSON(15)).features.length;return i.getLatLng()===this._markers[0][0].getLatLng()?z+=1:i.getLatLng()===this._markers[0][this._markers[0].length-1].getLatLng()&&(B+=1),!(B<=2&&z<=2)},_onMarkerDragStart(i){let h=i.target;if(this.cachedColor||(this.cachedColor=this._layer.options.color),!this._vertexValidation("move",i))return;let{indexPath:d}=L.PM.Utils.findDeepMarkerIndex(this._markers,h);this._fireMarkerDragStart(i,d),this.options.allowSelfIntersection||(this._coordsBeforeEdit=_i(this._layer,this._layer.getLatLngs())),!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()?this._markerAllowedToDrag=this._checkMarkerAllowedToDrag(h):this._markerAllowedToDrag=null},_onMarkerDrag(i){let h=i.target;if(!this._vertexValidationDrag(h))return;let{indexPath:d,index:v,parentPath:k}=L.PM.Utils.findDeepMarkerIndex(this._markers,h);if(!d)return;if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()&&this._markerAllowedToDrag===!1){this._layer.setLatLngs(this._coordsBeforeEdit),this._initMarkers(),this._handleLayerStyle();return}this.updatePolygonCoordsFromMarkerDrag(h);let B=d.length>1?(0,Ct.default)(this._markers,k):this._markers,z=(v+1)%B.length,q=(v+(B.length-1))%B.length,J=h.getLatLng(),ee=B[q].getLatLng(),Re=B[z].getLatLng();if(h._middleMarkerNext){let Me=L.PM.Utils.calcMiddleLatLng(this._map,J,Re);h._middleMarkerNext.setLatLng(Me)}if(h._middleMarkerPrev){let Me=L.PM.Utils.calcMiddleLatLng(this._map,J,ee);h._middleMarkerPrev.setLatLng(Me)}this.options.allowSelfIntersection||this._handleLayerStyle(),this._fireMarkerDrag(i,d),this._fireChange(this._layer.getLatLngs(),"Edit")},_onMarkerDragEnd(i){let h=i.target;if(!this._vertexValidationDragEnd(h))return;let{indexPath:d}=L.PM.Utils.findDeepMarkerIndex(this._markers,h),v=!this.options.allowSelfIntersection&&this.hasSelfIntersection();v&&this.options.allowSelfIntersectionEdit&&this._markerAllowedToDrag&&(v=!1);let k=!this.options.allowSelfIntersection&&v;if(this._fireMarkerDragEnd(i,d,k),k){this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),this.options.snappable&&this._initSnappableMarkers(),this._handleLayerStyle(),this._fireLayerReset(i,d);return}!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._handleLayerStyle(),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")},_onVertexClick(i){let h=i.target;if(h._dragging)return;let{indexPath:d}=L.PM.Utils.findDeepMarkerIndex(this._markers,h);this._fireVertexClick(i,d)}}),Pt.Polygon=Pt.Line.extend({_shape:"Polygon",_checkMarkerAllowedToDrag(i){let{prevMarker:h,nextMarker:d}=this._getNeighborMarkers(i),v=L.polyline([h.getLatLng(),i.getLatLng()]),k=L.polyline([i.getLatLng(),d.getLatLng()]),B=Si(this._layer.toGeoJSON(15),v.toGeoJSON(15)).features.length,z=Si(this._layer.toGeoJSON(15),k.toGeoJSON(15)).features.length;return!(B<=2&&z<=2)}}),Pt.Rectangle=Pt.Polygon.extend({_shape:"Rectangle",_initMarkers(){let i=this._map,h=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,i.addLayer(this._markerGroup),this._markers=[],this._markers[0]=h.map(this._createMarker,this),[this._cornerMarkers]=this._markers,this._layer.getLatLngs()[0].forEach((d,v)=>{let k=this._cornerMarkers.find(B=>B._index===v);k&&k.setLatLng(d)})},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this._addMarkerEvents()},_createMarker(i,h){let d=new L.Marker(i,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(d,"vertexPane"),d._origLatLng=i,d._index=h,d._pmTempLayer=!0,d.on("click",this._onVertexClick,this),this._markerGroup.addLayer(d),d},_addMarkerEvents(){this._markers[0].forEach(i=>{i.on("dragstart",this._onMarkerDragStart,this),i.on("drag",this._onMarkerDrag,this),i.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||i.on("contextmenu",this._removeMarker,this)})},_removeMarker(){return null},_onMarkerDragStart(i){if(!this._vertexValidation("move",i))return;let h=i.target,d=this._cornerMarkers;h._oppositeCornerLatLng=d.find(k=>k._index===(h._index+2)%4).getLatLng(),h._snapped=!1;let{indexPath:v}=L.PM.Utils.findDeepMarkerIndex(this._markers,h);this._fireMarkerDragStart(i,v)},_onMarkerDrag(i){let h=i.target;if(!this._vertexValidationDrag(h)||h._index===void 0)return;this._adjustRectangleForMarkerMove(h);let{indexPath:d}=L.PM.Utils.findDeepMarkerIndex(this._markers,h);this._fireMarkerDrag(i,d),this._fireChange(this._layer.getLatLngs(),"Edit")},_onMarkerDragEnd(i){let h=i.target;if(!this._vertexValidationDragEnd(h))return;this._cornerMarkers.forEach(v=>{delete v._oppositeCornerLatLng});let{indexPath:d}=L.PM.Utils.findDeepMarkerIndex(this._markers,h);this._fireMarkerDragEnd(i,d),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")},_adjustRectangleForMarkerMove(i){L.extend(i._origLatLng,i._latlng);let h=L.PM.Utils._getRotatedRectangle(i.getLatLng(),i._oppositeCornerLatLng,this.getAngle(),this._map);this._layer.setLatLngs(h),this._adjustAllMarkers(i),this._layer.redraw()},_adjustAllMarkers(i){let h=this._layer.getLatLngs()[0];if(h&&h.length!==4&&h.length>0)h.forEach((d,v)=>{this._cornerMarkers[v].setLatLng(d)}),this._cornerMarkers.slice(h.length).forEach(d=>{d.setLatLng(h[0])});else if(!h||!h.length)console.error("The layer has no LatLngs");else{let d=h.findIndex(v=>i.getLatLng().equals(v));d>-1?(this._cornerMarkers[(i._index+1)%4].setLatLng(h[(d+1)%4]),this._cornerMarkers[(i._index+2)%4].setLatLng(h[(d+2)%4]),this._cornerMarkers[(i._index+3)%4].setLatLng(h[(d+3)%4])):this._cornerMarkers.forEach(v=>{v.setLatLng(h[v._index])})}},_findCorners(){this._angle===void 0&&this.setInitAngle(Cr(this._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);let i=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(i[0],i[2],this.getAngle(),this._map||this)}}),Pt.CircleMarker=Pt.extend({_shape:"CircleMarker",initialize(i){this._layer=i,this._enabled=!1,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._updateHiddenPolyCircle()},enable(i={draggable:!0,snappable:!0}){if(L.Util.setOptions(this,i),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._extendingEnable(),this._updateHiddenPolyCircle(),this._fireEnable()},_extendingEnable(){this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:drag",this._onMarkerDrag,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this)},disable(){this.dragging()||(this._map||(this._map=this._layer._map),this._map&&this.enabled()&&(this.layerDragEnabled()&&this.disableLayerDrag(),this._helperLayers&&(this._helperLayers.clearLayers(),this._helperLayers.removeFrom(this._map)),this.options[this._editableOption]?(this._map.off("move",this._syncMarkers,this),this._outerMarker.off("drag",this._handleOuterMarkerSnapping,this)):this._map.off("move",this._updateHiddenPolyCircle,this),this._extendingDisable(),this._layer.off("remove",this.disable,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1))},_extendingDisable(){this._layer.off("contextmenu",this._removeMarker,this)},enabled(){return this._enabled},toggleEdit(i){this.enabled()?this.disable():this.enable(i)},applyOptions(){this.options[this._editableOption]?(this._initMarkers(),this._map.on("move",this._syncMarkers,this),this.options.snappable?(this._initSnappableMarkers(),this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this)):this._disableSnapping()):(this.options.draggable&&this.enableLayerDrag(),this._map.on("move",this._updateHiddenPolyCircle,this),this.options.snappable?this._initSnappableMarkersDrag():this._disableSnappingDrag()),this._extendingApplyOptions()},_extendingApplyOptions(){this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_initMarkers(){let i=this._map;this._helperLayers&&(this._helperLayers.removeFrom(i),this._helperLayers.clearLayers()),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(i);let h=this._layer.getLatLng(),d=this._layer._radius,v=this._getLatLngOnCircle(h,d);this._centerMarker=this._createCenterMarker(h),this._outerMarker=this._createOuterMarker(v),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle(i,h){let d=this._map.project(i),v=L.point(d.x+h,d.y);return this._map.unproject(v)},_createHintLine(i,h){let d=i.getLatLng(),v=h.getLatLng();this._hintline=L.polyline([d,v],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker(i){let h=this._createMarker(i);return this.options.draggable?(L.DomUtil.addClass(h._icon,"leaflet-pm-draggable"),h.on("move",this._moveCircle,this)):h.dragging.disable(),h},_createOuterMarker(i){let h=this._createMarker(i);return h.on("drag",this._resizeCircle,this),h},_createMarker(i){let h=new L.Marker(i,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(h,"vertexPane"),h._origLatLng=i,h._pmTempLayer=!0,h.on("dragstart",this._onMarkerDragStart,this),h.on("drag",this._onMarkerDrag,this),h.on("dragend",this._onMarkerDragEnd,this),h.on("click",this._onVertexClick,this),this._helperLayers.addLayer(h),h},_moveCircle(i){if(i.target._cancelDragEventChain)return;let h=this._centerMarker.getLatLng();this._layer.setLatLng(h);let d=this._layer._radius,v=this._getLatLngOnCircle(h,d);this._outerMarker._latlng=v,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")},_syncMarkers(){let i=this._layer.getLatLng(),h=this._layer._radius,d=this._getLatLngOnCircle(i,h);this._outerMarker.setLatLng(d),this._centerMarker.setLatLng(i),this._syncHintLine(),this._updateHiddenPolyCircle()},_resizeCircle(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_syncCircleRadius(){let i=this._centerMarker.getLatLng(),h=this._outerMarker.getLatLng(),d=this._distanceCalculation(i,h);this.options[this._minRadiusOption]&&d<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&d>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(d),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine(){let i=this._centerMarker.getLatLng(),h=this._outerMarker.getLatLng();this._hintline.setLatLngs([i,h])},_removeMarker(){this.options[this._editableOption]&&this.disable(),this._layer.remove(),this._fireRemove(this._layer),this._fireRemove(this._map,this._layer)},_onDragStart(){this._map.pm.Draw.CircleMarker._layerIsDragging=!0},_onMarkerDragStart(i){this._vertexValidation("move",i)&&this._fireMarkerDragStart(i)},_onMarkerDrag(i){let h=i.target;h instanceof L.Marker&&!this._vertexValidationDrag(h)||this._fireMarkerDrag(i)},_onMarkerDragEnd(i){this._extedingMarkerDragEnd();let h=i.target;this._vertexValidationDragEnd(h)&&(this.options[this._editableOption]&&(this._fireEdit(),this._layerEdited=!0),this._fireMarkerDragEnd(i))},_extedingMarkerDragEnd(){this._map.pm.Draw.CircleMarker._layerIsDragging=!1},_initSnappableMarkersDrag(){let i=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,i.off("pm:drag",this._handleSnapping,this),i.on("pm:drag",this._handleSnapping,this),i.off("pm:dragend",this._cleanupSnapping,this),i.on("pm:dragend",this._cleanupSnapping,this),i.off("pm:dragstart",this._unsnap,this),i.on("pm:dragstart",this._unsnap,this)},_disableSnappingDrag(){let i=this._layer;i.off("pm:drag",this._handleSnapping,this),i.off("pm:dragend",this._cleanupSnapping,this),i.off("pm:dragstart",this._unsnap,this)},_updateHiddenPolyCircle(){let i=this._layer._map||this._map;if(i){let h=L.PM.Utils.pxRadiusToMeterRadius(this._layer.getRadius(),i,this._layer.getLatLng()),d=L.circle(this._layer.getLatLng(),this._layer.options);d.setRadius(h);let v=i&&i.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(d,200,!v).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(d,200,!v),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)}},_getNewDestinationOfOuterMarker(){let i=this._centerMarker.getLatLng(),h=this._outerMarker.getLatLng(),d=this._distanceCalculation(i,h);return this.options[this._minRadiusOption]&&d<this.options[this._minRadiusOption]?h=Ts(this._map,i,h,this._getMinDistanceInMeter(i)):this.options[this._maxRadiusOption]&&d>this.options[this._maxRadiusOption]&&(h=Ts(this._map,i,h,this._getMaxDistanceInMeter(i))),h},_handleOuterMarkerSnapping(){if(this._outerMarker._snapped){let i=this._centerMarker.getLatLng(),h=this._outerMarker.getLatLng(),d=this._distanceCalculation(i,h);this.options[this._minRadiusOption]&&d<this.options[this._minRadiusOption]?this._outerMarker.setLatLng(this._outerMarker._orgLatLng):this.options[this._maxRadiusOption]&&d>this.options[this._maxRadiusOption]&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())},_distanceCalculation(i,h){return this._map.project(i).distanceTo(this._map.project(h))},_getMinDistanceInMeter(i){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,i)},_getMaxDistanceInMeter(i){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,i)},_onVertexClick(i){i.target._dragging||this._fireVertexClick(i,void 0)}}),Pt.Circle=Pt.CircleMarker.extend({_shape:"Circle",initialize(i){this._layer=i,this._enabled=!1,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizeableCircle",this._updateHiddenPolyCircle()},enable(i){L.PM.Edit.CircleMarker.prototype.enable.call(this,i||{})},_extendingEnable(){},_extendingDisable(){this._layer.off("remove",this.disable,this);let i=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(i,"leaflet-pm-draggable")},_extendingApplyOptions(){},_syncMarkers(){},_removeMarker(){},_onDragStart(){},_extedingMarkerDragEnd(){},_updateHiddenPolyCircle(){let i=this._map&&this._map.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(this._layer,200,!i).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(this._layer,200,!i),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)},_distanceCalculation(i,h){return this._map.distance(i,h)},_getMinDistanceInMeter(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter(){return this.options[this._maxRadiusOption]},_onVertexClick(i){i.target._dragging||this._fireVertexClick(i,void 0)}}),Pt.ImageOverlay=Pt.extend({_shape:"ImageOverlay",initialize(i){this._layer=i,this._enabled=!1},toggleEdit(i){this.enabled()?this.disable():this.enable(i)},enabled(){return this._enabled},enable(i={draggable:!0,snappable:!0}){if(L.Util.setOptions(this,i),this._map=this._layer._map,!!this._map){if(!this.options.allowEditing){this.disable();return}this.enabled()||this.disable(),this.enableLayerDrag(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._otherSnapLayers=this._findCorners(),this._fireEnable()}},disable(){this._dragging||(this._map||(this._map=this._layer._map),this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this.enabled()||(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},_findCorners(){let i=this._layer.getBounds(),h=i.getNorthWest(),d=i.getNorthEast(),v=i.getSouthEast(),k=i.getSouthWest();return[h,d,v,k]}}),Pt.Text=Pt.extend({_shape:"Text",initialize(i){this._layer=i,this._enabled=!1},enable(i){if(L.Util.setOptions(this,i),!!this.textArea){if(!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._safeToCacheDragState=!0,this._focusChange(),this.textArea.readOnly=!1,this.textArea.classList.remove("pm-disabled"),this._layer.on("remove",this.disable,this),L.DomEvent.on(this.textArea,"input",this._autoResize,this),L.DomEvent.on(this.textArea,"focus",this._focusChange,this),L.DomEvent.on(this.textArea,"blur",this._focusChange,this),this._layer.on("dblclick",L.DomEvent.stop),L.DomEvent.off(this.textArea,"mousedown",this._preventTextSelection),this._enabled=!0,this._fireEnable()}},disable(){if(!this.enabled())return;this._layer.off("remove",this.disable,this),L.DomEvent.off(this.textArea,"input",this._autoResize,this),L.DomEvent.off(this.textArea,"focus",this._focusChange,this),L.DomEvent.off(this.textArea,"blur",this._focusChange,this),L.DomEvent.off(document,"click",this._documentClick,this),this._focusChange(),this.textArea.readOnly=!0,this.textArea.classList.add("pm-disabled");let i=document.activeElement;this.textArea.focus(),this.textArea.selectionStart=0,this.textArea.selectionEnd=0,L.DomEvent.on(this.textArea,"mousedown",this._preventTextSelection),i.focus(),this._disableOnBlurActive=!1,this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1},enabled(){return this._enabled},toggleEdit(i){this.enabled()?this.disable():this.enable(i)},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initSnappableMarkers(){let i=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,i.off("pm:drag",this._handleSnapping,this),i.on("pm:drag",this._handleSnapping,this),i.off("pm:dragend",this._cleanupSnapping,this),i.on("pm:dragend",this._cleanupSnapping,this),i.off("pm:dragstart",this._unsnap,this),i.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){let i=this._layer;i.off("pm:drag",this._handleSnapping,this),i.off("pm:dragend",this._cleanupSnapping,this),i.off("pm:dragstart",this._unsnap,this)},_autoResize(){this.textArea.style.height="1px",this.textArea.style.width="1px";let i=this.textArea.scrollHeight>21?this.textArea.scrollHeight:21,h=this.textArea.scrollWidth>16?this.textArea.scrollWidth:16;this.textArea.style.height=`${i}px`,this.textArea.style.width=`${h}px`,this._layer.options.text=this.getText(),this._fireTextChange(this.getText())},_disableOnBlur(){this._disableOnBlurActive=!0,setTimeout(()=>{this.enabled()&&L.DomEvent.on(document,"click",this._documentClick,this)},100)},_documentClick(i){i.target!==this.textArea&&(this.disable(),!this.getText()&&this.options.removeIfEmpty&&this.remove())},_focusChange(i={}){let h=this._hasFocus;this._hasFocus=i.type==="focus",!h!=!this._hasFocus&&(this._hasFocus?(this._applyFocus(),this._focusText=this.getText(),this._fireTextFocus()):(this._removeFocus(),this._fireTextBlur(),this._focusText!==this.getText()&&(this._fireEdit(),this._layerEdited=!0)))},_applyFocus(){this.textArea.classList.add("pm-hasfocus"),this._map.dragging&&(this._safeToCacheDragState&&(this._originalMapDragState=this._map.dragging._enabled,this._safeToCacheDragState=!1),this._map.dragging.disable())},_removeFocus(){this._map.dragging&&(this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0),this.textArea.classList.remove("pm-hasfocus")},focus(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.focus()},blur(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.blur(),this._disableOnBlurActive&&this.disable()},hasFocus(){return this._hasFocus},getElement(){return this.textArea},setText(i){i&&(this.textArea.value=i),this._autoResize()},getText(){return this.textArea.value},_initTextMarker(){if(this.textArea=L.PM.Draw.Text.prototype._createTextArea.call(this),this.options.className){let h=this.options.className.split(" ");this.textArea.classList.add(...h)}let i=L.PM.Draw.Text.prototype._createTextIcon.call(this,this.textArea);this._layer.setIcon(i),this._layer.once("add",this._createTextMarker,this)},_createTextMarker(i=!1){this._layer.off("add",this._createTextMarker,this),this._layer.getElement().tabIndex=-1,this.textArea.wrap="off",this.textArea.style.overflow="hidden",this.textArea.style.height=L.DomUtil.getStyle(this.textArea,"font-size"),this.textArea.style.width="1px",this._layer.options.text&&this.setText(this._layer.options.text),this._autoResize(),i===!0&&(this.enable(),this.focus(),this._disableOnBlur())},_preventTextSelection(i){i.preventDefault()}});var At=function(i,h,d,v,k,B){this._matrix=[i,h,d,v,k,B]};At.init=()=>new L.PM.Matrix(1,0,0,1,0,0),At.prototype={transform(i){return this._transform(i.clone())},_transform(i){let h=this._matrix,{x:d,y:v}=i;return i.x=h[0]*d+h[1]*v+h[4],i.y=h[2]*d+h[3]*v+h[5],i},untransform(i){let h=this._matrix;return new L.Point((i.x/h[0]-h[4])/h[0],(i.y/h[2]-h[5])/h[2])},clone(){let i=this._matrix;return new L.PM.Matrix(i[0],i[1],i[2],i[3],i[4],i[5])},translate(i){if(i===void 0)return new L.Point(this._matrix[4],this._matrix[5]);let h,d;return typeof i=="number"?(h=i,d=i):(h=i.x,d=i.y),this._add(1,0,0,1,h,d)},scale(i,h){if(i===void 0)return new L.Point(this._matrix[0],this._matrix[3]);let d,v;return h=h||L.point(0,0),typeof i=="number"?(d=i,v=i):(d=i.x,v=i.y),this._add(d,0,0,v,h.x,h.y)._add(1,0,0,1,-h.x,-h.y)},rotate(i,h){let d=Math.cos(i),v=Math.sin(i);return h=h||new L.Point(0,0),this._add(d,v,-v,d,h.x,h.y)._add(1,0,0,1,-h.x,-h.y)},flip(){return this._matrix[1]*=-1,this._matrix[2]*=-1,this},_add(i,h,d,v,k,B){let z=[[],[],[]],q=this._matrix,J=[[q[0],q[2],q[4]],[q[1],q[3],q[5]],[0,0,1]],ee=[[i,d,k],[h,v,B],[0,0,1]],Re;i&&i instanceof L.PM.Matrix&&(q=i._matrix,ee=[[q[0],q[2],q[4]],[q[1],q[3],q[5]],[0,0,1]]);for(let Me=0;Me<3;Me+=1)for(let lt=0;lt<3;lt+=1){Re=0;for(let gt=0;gt<3;gt+=1)Re+=J[Me][gt]*ee[gt][lt];z[Me][lt]=Re}return this._matrix=[z[0][0],z[1][0],z[0][1],z[1][1],z[0][2],z[1][2]],this}};var Mt=At,Nt={calcMiddleLatLng(i,h,d){let v=i.project(h),k=i.project(d);return i.unproject(v._add(k)._divideBy(2))},findLayers(i){let h=[];return i.eachLayer(d=>{(d instanceof L.Polyline||d instanceof L.Marker||d instanceof L.Circle||d instanceof L.CircleMarker||d instanceof L.ImageOverlay)&&h.push(d)}),h=h.filter(d=>!!d.pm),h=h.filter(d=>!d._pmTempLayer),h=h.filter(d=>!L.PM.optIn&&!d.options.pmIgnore||L.PM.optIn&&d.options.pmIgnore===!1),h},circleToPolygon(i,h=60,d=!0){let v=i.getLatLng(),k=i.getRadius(),B=oi(v,k,h,0,d),z=[];for(let q=0;q<B.length;q+=1){let J=[B[q].lat,B[q].lng];z.push(J)}return L.polygon(z,i.options)},disablePopup(i){i.getPopup()&&(i._tempPopupCopy=i.getPopup(),i.unbindPopup())},enablePopup(i){i._tempPopupCopy&&(i.bindPopup(i._tempPopupCopy),delete i._tempPopupCopy)},_fireEvent(i,h,d,v=!1){i.fire(h,d,v);let{groups:k}=this.getAllParentGroups(i);k.forEach(B=>{B.fire(h,d,v)})},getAllParentGroups(i){let h=[],d=[],v=k=>{for(let B in k._eventParents)if(h.indexOf(B)===-1){h.push(B);let z=k._eventParents[B];d.push(z),v(z)}};return!i._pmLastGroupFetch||!i._pmLastGroupFetch.time||new Date().getTime()-i._pmLastGroupFetch.time>1e3?(v(i),i._pmLastGroupFetch={time:new Date().getTime(),groups:d,groupIds:h},{groupIds:h,groups:d}):{groups:i._pmLastGroupFetch.groups,groupIds:i._pmLastGroupFetch.groupIds}},createGeodesicPolygon:oi,getTranslation:gn,findDeepCoordIndex(i,h,d=!0){let v,k=z=>(q,J)=>{let ee=z.concat(J);if(d){if(q.lat&&q.lat===h.lat&&q.lng===h.lng)return v=ee,!0}else if(q.lat&&L.latLng(q).equals(h))return v=ee,!0;return Array.isArray(q)&&q.some(k(ee))};i.some(k([]));let B={};return v&&(B={indexPath:v,index:v[v.length-1],parentPath:v.slice(0,v.length-1)}),B},findDeepMarkerIndex(i,h){let d,v=B=>(z,q)=>{let J=B.concat(q);return z._leaflet_id===h._leaflet_id?(d=J,!0):Array.isArray(z)&&z.some(v(J))};i.some(v([]));let k={};return d&&(k={indexPath:d,index:d[d.length-1],parentPath:d.slice(0,d.length-1)}),k},_getIndexFromSegment(i,h){if(h&&h.length===2){let d=this.findDeepCoordIndex(i,h[0]),v=this.findDeepCoordIndex(i,h[1]),k=Math.max(d.index,v.index);return(d.index===0||v.index===0)&&k!==1&&(k+=1),{indexA:d,indexB:v,newIndex:k,indexPath:d.indexPath,parentPath:d.parentPath}}return null},_getRotatedRectangle(i,h,d,v){let k=Ce(v,i),B=Ce(v,h),z=d*Math.PI/180,q=Math.cos(z),J=Math.sin(z),ee=(B.x-k.x)*q+(B.y-k.y)*J,Re=(B.y-k.y)*q-(B.x-k.x)*J,Me=ee*q+k.x,lt=ee*J+k.y,gt=-Re*J+k.x,Et=Re*q+k.y,Wt=Je(v,k),Zt=Je(v,{x:Me,y:lt}),mn=Je(v,B),Oe=Je(v,{x:gt,y:Et});return[Wt,Zt,mn,Oe]},pxRadiusToMeterRadius(i,h,d){let v=h.project(d),k=L.point(v.x+i,v.y);return h.distance(h.unproject(k),d)}},Qt=Nt;L.PM=L.PM||{version:Hs.version,Map:Ns,Toolbar:jo,Draw:Tr,Edit:Pt,Utils:Qt,Matrix:Mt,activeLang:"en",optIn:!1,initialize(i){this.addInitHooks(i)},setOptIn(i){this.optIn=!!i},addInitHooks(){function i(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Map(this)):this.options.pmIgnore||(this.pm=new L.PM.Map(this)),this.pm&&this.pm.setGlobalOptions({})}L.Map.addInitHook(i);function h(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.LayerGroup(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.LayerGroup(this))}L.LayerGroup.addInitHook(h);function d(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this)):this.options.pmIgnore||(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this))}L.Marker.addInitHook(d);function v(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.CircleMarker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.CircleMarker(this))}L.CircleMarker.addInitHook(v);function k(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Line(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))}L.Polyline.addInitHook(k);function B(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Polygon(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Polygon(this))}L.Polygon.addInitHook(B);function z(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Rectangle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))}L.Rectangle.addInitHook(z);function q(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Circle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))}L.Circle.addInitHook(q);function J(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.ImageOverlay(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.ImageOverlay(this))}L.ImageOverlay.addInitHook(J)},reInitLayer(i){i instanceof L.LayerGroup&&i.eachLayer(h=>{this.reInitLayer(h)}),i.pm||L.PM.optIn&&i.options.pmIgnore!==!1||i.options.pmIgnore||(i instanceof L.Map?i.pm=new L.PM.Map(i):i instanceof L.Marker?i.options.textMarker?(i.pm=new L.PM.Edit.Text(i),i.pm._initTextMarker(),i.pm._createTextMarker(!1)):i.pm=new L.PM.Edit.Marker(i):i instanceof L.Circle?i.pm=new L.PM.Edit.Circle(i):i instanceof L.CircleMarker?i.pm=new L.PM.Edit.CircleMarker(i):i instanceof L.Rectangle?i.pm=new L.PM.Edit.Rectangle(i):i instanceof L.Polygon?i.pm=new L.PM.Edit.Polygon(i):i instanceof L.Polyline?i.pm=new L.PM.Edit.Line(i):i instanceof L.LayerGroup?i.pm=new L.PM.Edit.LayerGroup(i):i instanceof L.ImageOverlay&&(i.pm=new L.PM.Edit.ImageOverlay(i)))}},L.version==="1.7.1"&&L.Canvas.include({_onClick(i){let h=this._map.mouseEventToLayerPoint(i),d,v;for(let k=this._drawFirst;k;k=k.next)d=k.layer,d.options.interactive&&d._containsPoint(h)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(d))&&(v=d);v&&(L.DomEvent.fakeStop(i),this._fireEvent([v],i))}}),L.PM.initialize()})()),Q0}o5();var Zf={exports:{}},tm;function l5(){return tm||(tm=1,(function(o){(function(t){var e;e=qm(),o.exports=t(e)})(function(t){return t.Polyline._flat=t.LineUtil.isFlat||t.Polyline._flat||function(e){return!t.Util.isArray(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]<"u"},t.GeometryUtil=t.extend(t.GeometryUtil||{},{distance:function(e,a,u){return e.latLngToLayerPoint(a).distanceTo(e.latLngToLayerPoint(u))},distanceSegment:function(e,a,u,l){var c=e.latLngToLayerPoint(a),p=e.latLngToLayerPoint(u),g=e.latLngToLayerPoint(l);return t.LineUtil.pointToSegmentDistance(c,p,g)},readableDistance:function(e,a){var u=a!=="imperial",l;return u?e>1e3?l=(e/1e3).toFixed(2)+" km":l=e.toFixed(1)+" m":(e*=1.09361,e>1760?l=(e/1760).toFixed(2)+" miles":l=e.toFixed(1)+" yd"),l},belongsSegment:function(e,a,u,l){l=l===void 0?.2:l;var c=a.distanceTo(u),p=a.distanceTo(e)+e.distanceTo(u)-c;return p/c<l},length:function(e){var a=t.GeometryUtil.accumulatedLengths(e);return a.length>0?a[a.length-1]:0},accumulatedLengths:function(e){if(typeof e.getLatLngs=="function"&&(e=e.getLatLngs()),e.length===0)return[];for(var a=0,u=[0],l=0,c=e.length-1;l<c;l++)a+=e[l].distanceTo(e[l+1]),u.push(a);return u},closestOnSegment:function(e,a,u,l){var c=e.getMaxZoom();c===1/0&&(c=e.getZoom());var p=e.project(a,c),g=e.project(u,c),y=e.project(l,c),S=t.LineUtil.closestPointOnSegment(p,g,y);return e.unproject(S,c)},closestOnCircle:function(e,a){const u=e.getLatLng(),l=e.getRadius(),c=typeof l=="number"?l:l.radius,p=a.lng,g=a.lat,y=u.lng,S=u.lat,E=p-y,M=g-S,x=Math.sqrt(E*E+M*M),R=y+E/x*c,A=S+M/x*c;return new t.LatLng(A,R)},closest:function(e,a,u,l){var c,p=1/0,g=null,y,S,E,M;if(a instanceof Array)if(a[0]instanceof Array&&typeof a[0][0]!="number"){for(y=0;y<a.length;y++)M=t.GeometryUtil.closest(e,a[y],u,l),M&&M.distance<p&&(p=M.distance,g=M);return g}else if(a[0]instanceof t.LatLng||typeof a[0][0]=="number"||typeof a[0].lat=="number")a=t.polyline(a);else return g;if(!(a instanceof t.Polyline))return g;if(c=JSON.parse(JSON.stringify(a.getLatLngs().slice(0))),a instanceof t.Polygon){var x=function(O){if(t.Polyline._flat(O))O.push(O[0]);else for(var W=0;W<O.length;W++)x(O[W])};x(c)}if(t.Polyline._flat(c)){if(l){for(y=0,S=c.length;y<S;y++){var R=c[y];E=t.GeometryUtil.distance(e,u,R),E<p&&(p=E,g=R,g.distance=E)}return g}for(y=0,S=c.length;y<S-1;y++){var A=c[y],I=c[y+1];E=t.GeometryUtil.distanceSegment(e,u,A,I),E<=p&&(p=E,g=t.GeometryUtil.closestOnSegment(e,u,A,I),g.distance=E)}return g}else{for(y=0;y<c.length;y++)M=t.GeometryUtil.closest(e,c[y],u,l),M.distance<p&&(p=M.distance,g=M);return g}},closestLayer:function(e,a,u){for(var l=1/0,c=null,p=null,g=1/0,y=0,S=a.length;y<S;y++){var E=a[y];if(E instanceof t.LayerGroup){var M=t.GeometryUtil.closestLayer(e,E.getLayers(),u);M.distance<l&&(l=M.distance,c=M)}else E instanceof t.Circle?(p=this.closestOnCircle(E,u),g=t.GeometryUtil.distance(e,u,p)):typeof E.getLatLng=="function"?(p=E.getLatLng(),g=t.GeometryUtil.distance(e,u,p)):(p=t.GeometryUtil.closest(e,E,u),p&&(g=p.distance)),g<l&&(l=g,c={layer:E,latlng:p,distance:g})}return c},nClosestLayers:function(e,a,u,l){if(l=typeof l=="number"?l:a.length,l<1||a.length<1)return null;for(var c=[],p,g,y=0,S=a.length;y<S;y++){var E=a[y];if(E instanceof t.LayerGroup){var M=t.GeometryUtil.closestLayer(e,E.getLayers(),u);c.push(M)}else E instanceof t.Circle?(g=this.closestOnCircle(E,u),p=t.GeometryUtil.distance(e,u,g)):typeof E.getLatLng=="function"?(g=E.getLatLng(),p=t.GeometryUtil.distance(e,u,g)):(g=t.GeometryUtil.closest(e,E,u),g&&(p=g.distance)),c.push({layer:E,latlng:g,distance:p})}return c.sort(function(x,R){return x.distance-R.distance}),c.length>l?c.slice(0,l):c},layersWithin:function(e,a,u,l){l=typeof l=="number"?l:1/0;for(var c=[],p=null,g=0,y=0,S=a.length;y<S;y++){var E=a[y];typeof E.getLatLng=="function"?(p=E.getLatLng(),g=t.GeometryUtil.distance(e,u,p)):(p=t.GeometryUtil.closest(e,E,u),p&&(g=p.distance)),p&&g<l&&c.push({layer:E,latlng:p,distance:g})}var M=c.sort(function(x,R){return x.distance-R.distance});return M},closestLayerSnap:function(e,a,u,l,c){l=typeof l=="number"?l:1/0,c=typeof c=="boolean"?c:!0;var p=t.GeometryUtil.closestLayer(e,a,u);if(!p||p.distance>l)return null;if(c&&typeof p.layer.getLatLngs=="function"){var g=t.GeometryUtil.closest(e,p.layer,p.latlng,!0);g.distance<l&&(p.latlng=g,p.distance=t.GeometryUtil.distance(e,g,u))}return p},interpolateOnPointSegment:function(e,a,u){return t.point(e.x*(1-u)+u*a.x,e.y*(1-u)+u*a.y)},interpolateOnLine:function(e,a,u){a=a instanceof t.Polyline?a.getLatLngs():a;var l=a.length;if(l<2)return null;if(u=Math.max(Math.min(u,1),0),u===0)return{latLng:a[0]instanceof t.LatLng?a[0]:t.latLng(a[0]),predecessor:-1};if(u==1)return{latLng:a[a.length-1]instanceof t.LatLng?a[a.length-1]:t.latLng(a[a.length-1]),predecessor:a.length-2};var c=e.getMaxZoom();c===1/0&&(c=e.getZoom());for(var p=[],g=0,y=0;y<l;y++)p[y]=e.project(a[y],c),y>0&&(g+=p[y-1].distanceTo(p[y]));for(var S=g*u,E=0,M=0,y=0;M<S;y++){var x=p[y],R=p[y+1];E=M,M+=x.distanceTo(R)}if(x==null&&R==null)var x=p[0],R=p[1],y=1;var A=M-E!==0?(S-E)/(M-E):0,I=t.GeometryUtil.interpolateOnPointSegment(x,R,A);return{latLng:e.unproject(I,c),predecessor:y-1}},locateOnLine:function(e,a,u){var l=a.getLatLngs();if(u.equals(l[0]))return 0;if(u.equals(l[l.length-1]))return 1;for(var c=t.GeometryUtil.closest(e,a,u,!1),p=t.GeometryUtil.accumulatedLengths(l),g=p[p.length-1],y=0,S=!1,E=0,M=l.length-1;E<M;E++){var x=l[E],R=l[E+1];if(y=p[E],t.GeometryUtil.belongsSegment(c,x,R,.001)){y+=x.distanceTo(c),S=!0;break}}if(!S)throw"Could not interpolate "+u.toString()+" within "+a.toString();return y/g},reverse:function(e){return t.polyline(e.getLatLngs().slice(0).reverse())},extract:function(e,a,u,l){if(u>l)return t.GeometryUtil.extract(e,t.GeometryUtil.reverse(a),1-u,1-l);u=Math.max(Math.min(u,1),0),l=Math.max(Math.min(l,1),0);var c=a.getLatLngs(),p=t.GeometryUtil.interpolateOnLine(e,a,u),g=t.GeometryUtil.interpolateOnLine(e,a,l);if(u==l){var y=t.GeometryUtil.interpolateOnLine(e,a,l);return[y.latLng]}p.predecessor==-1&&(p.predecessor=0),g.predecessor==-1&&(g.predecessor=0);var S=c.slice(p.predecessor+1,g.predecessor+1);return S.unshift(p.latLng),S.push(g.latLng),S},isBefore:function(e,a){if(!a)return!1;var u=e.getLatLngs(),l=a.getLatLngs();return u[u.length-1].equals(l[0])},isAfter:function(e,a){if(!a)return!1;var u=e.getLatLngs(),l=a.getLatLngs();return u[0].equals(l[l.length-1])},startsAtExtremity:function(e,a){if(!a)return!1;var u=e.getLatLngs(),l=a.getLatLngs(),c=u[0];return c.equals(l[0])||c.equals(l[l.length-1])},computeAngle:function(e,a){return Math.atan2(a.y-e.y,a.x-e.x)*180/Math.PI},computeSlope:function(e,a){var u=(a.y-e.y)/(a.x-e.x),l=e.y-u*e.x;return{a:u,b:l}},rotatePoint:function(e,a,u,l){var c=e.getMaxZoom();c===1/0&&(c=e.getZoom());var p=u*Math.PI/180,g=e.project(a,c),y=e.project(l,c),S=Math.cos(p)*(g.x-y.x)-Math.sin(p)*(g.y-y.y)+y.x,E=Math.sin(p)*(g.x-y.x)+Math.cos(p)*(g.y-y.y)+y.y;return e.unproject(new t.Point(S,E),c)},bearing:function(e,a){var u=Math.PI/180,l=e.lat*u,c=a.lat*u,p=e.lng*u,g=a.lng*u,y=Math.sin(g-p)*Math.cos(c),S=Math.cos(l)*Math.sin(c)-Math.sin(l)*Math.cos(c)*Math.cos(g-p),E=(Math.atan2(y,S)*180/Math.PI+360)%360;return E>=180?E-360:E},destination:function(e,a,u){a=(a+360)%360;var l=Math.PI/180,c=180/Math.PI,p=t.CRS.Earth.R,g=e.lng*l,y=e.lat*l,S=a*l,E=Math.sin(y),M=Math.cos(y),x=Math.cos(u/p),R=Math.sin(u/p),A=Math.asin(E*x+M*R*Math.cos(S)),I=g+Math.atan2(Math.sin(S)*R*M,x-E*Math.sin(A));return I=I*c,I=I>180?I-360:I<-180?I+360:I,t.latLng([A*c,I])},angle:function(e,a,u){var l=e.latLngToContainerPoint(a),c=e.latLngToContainerPoint(u),p=Math.atan2(c.y-l.y,c.x-l.x)*180/Math.PI+90;return p+=p<0?360:0,p},destinationOnSegment:function(e,a,u,l){var c=t.GeometryUtil.angle(e,a,u),p=t.GeometryUtil.destination(a,c,l);return t.GeometryUtil.closestOnSegment(e,p,a,u)}}),t.GeometryUtil})})(Zf)),Zf.exports}l5();const u5=dt.forwardRef(function({layers:t,visible:e,styles:a},u){const l=dt.useRef(null),[c,p]=dt.useState([]),[g,y]=dt.useState(null),[S,E]=dt.useState(null),[M,x]=dt.useState(!1),[R,A]=dt.useState(!1),[I,O]=dt.useState(!1),[W,Z]=dt.useState("osm"),de=dt.useMemo(()=>({lat:-33.45,lng:-70.65}),[]);dt.useImperativeHandle(u,()=>({zoomTo(ae){if(l.current)try{const Be=Yu.geoJSON(ae).getBounds();Be.isValid()&&l.current.fitBounds(Be,{padding:[20,20]})}catch{}},get leafletMap(){return l.current},get wmsLayers(){return c}}));function ve(ae){if(ae.shape==="Polygon"||ae.layer&&ae.layer.pm?._shape==="Polygon"){const F=Yu.GeometryUtil.geodesicArea(ae.layer.getLatLngs()[0]),Be=F/1e4,Ve=F/1e6;return`rea: ${F.toFixed(0)} m | ${Be.toFixed(2)} ha | ${Ve.toFixed(2)} km`}if(ae.shape==="Line"||ae.layer&&ae.layer.pm?._shape==="Line"){const F=ae.layer.getLatLngs(),Be=Yu.GeometryUtil.length(F);return Be<1e3?`Distancia: ${Be.toFixed(1)} m`:`Distancia: ${(Be/1e3).toFixed(2)} km`}if(ae.shape==="Circle"||ae.layer&&ae.layer.pm?._shape==="Circle"){const F=ae.layer.getRadius(),Ve=Math.PI*F*F/1e4;return`Crculo  radio: ${F<1e3?F.toFixed(1)+" m":(F/1e3).toFixed(2)+" km"} | rea: ${Ve.toFixed(2)} ha`}return""}dt.useEffect(()=>{if(!l.current)return;l.current.on("pm:create",F=>{const Be=ve(F);Be&&(E({msg:Be,type:"info"}),F.layer.bindPopup(Be)),y(null)})},[]);function Se(){if(!l.current)return;const ae=[[-56,-76],[-17.5,-66]];l.current.fitBounds(ae,{padding:[20,20]})}async function K(){if(l.current){if(!("geolocation"in navigator)){E({msg:" Geolocalizacin no disponible",type:"error"});return}navigator.geolocation.getCurrentPosition(ae=>{const F=new Rc.LatLng(ae.coords.latitude,ae.coords.longitude);l.current.setView(F,13),Yu.circleMarker(F,{radius:6}).addTo(l.current),E({msg:" Ubicacin encontrada",type:"success"})},ae=>E({msg:" No se pudo obtener tu ubicacin: "+ae.message,type:"error"}),{enableHighAccuracy:!0,timeout:1e4})}}function X(){l.current&&l.current.setZoom(l.current.getZoom()+1)}function ge(){l.current&&l.current.setZoom(l.current.getZoom()-1)}const[Ie,te]=dt.useState(!1);function G(){const ae=l.current?.getContainer();ae&&(document.fullscreenElement?(document.exitFullscreen?.(),te(!1)):(ae.requestFullscreen?.(),te(!0)))}return ot.jsxs("div",{className:"relative w-full rounded-xl border shadow-lg overflow-hidden",children:[S&&ot.jsx("div",{className:"fixed top-4 right-4 z-[2000]",children:ot.jsx(zm,{message:S.msg,type:S.type,duration:4e3,onClose:()=>E(null)})}),ot.jsxs("div",{className:"absolute top-2 left-2 z-[1000] flex flex-wrap gap-2 p-2 bg-black/70 backdrop-blur rounded-lg shadow-md max-w-[95vw]",children:[ot.jsx("button",{onClick:Se,className:"btn-map",children:" Chile"}),ot.jsx("button",{onClick:K,className:"btn-map",children:""}),ot.jsx("button",{onClick:G,className:"btn-map",children:""}),ot.jsx("button",{onClick:X,className:"btn-map text-lg sm:text-base",children:""}),ot.jsx("button",{onClick:ge,className:"btn-map text-lg sm:text-base",children:""})]}),ot.jsx(Yy,{center:[de.lat,de.lng],zoom:5,className:"w-full h-[60vh] sm:h-[70vh] rounded-xl",preferCanvas:!0,zoomControl:!1,ref:ae=>{ae&&(l.current=ae)},children:ot.jsx(Xy,{position:"bottomleft"})})]})});function h5({layers:o,styles:t,onLocalChange:e}){const[a,u]=dt.useState(!1);return o.length===0?null:ot.jsxs("div",{className:"mt-4",children:[ot.jsxs("button",{onClick:()=>u(!a),className:"btn btn-secondary w-full flex justify-between items-center text-sm sm:text-base",children:[" Estilos de capas",ot.jsx("span",{children:a?"":""})]}),a&&ot.jsx("div",{className:"mt-4 bg-white rounded-xl shadow-md p-4 sm:p-6 space-y-6",children:o.map(l=>{const c=t[l.id]||{};return ot.jsxs("div",{className:"border-b border-gray-200 pb-4 last:border-0 last:pb-0",children:[ot.jsx("h4",{className:"font-semibold text-gray-700 mb-2 text-sm sm:text-base",children:l.name}),ot.jsxs("label",{className:"block mb-2 text-xs sm:text-sm",children:["Borde",ot.jsx("input",{type:"color",value:c.color||"#000000",onChange:p=>e(l.id,{color:p.target.value}),className:"ml-2"})]}),ot.jsxs("label",{className:"block mb-2 text-xs sm:text-sm",children:["Opacidad",ot.jsx("input",{type:"range",min:0,max:1,step:.05,value:c.opacity??1,onChange:p=>e(l.id,{opacity:parseFloat(p.target.value)}),className:"w-full"}),ot.jsxs("span",{className:"text-xs sm:text-sm ml-2",children:[Math.round((c.opacity??1)*100),"%"]})]}),ot.jsxs("label",{className:"block mb-2 text-xs sm:text-sm",children:["Relleno",ot.jsx("input",{type:"color",value:c.fillColor||"#000000",onChange:p=>e(l.id,{fillColor:p.target.value}),className:"ml-2"}),ot.jsx("input",{type:"range",min:0,max:1,step:.05,value:c.fillOpacity??.5,onChange:p=>e(l.id,{fillOpacity:parseFloat(p.target.value)}),className:"w-full"}),ot.jsxs("span",{className:"text-xs sm:text-sm ml-2",children:[Math.round((c.fillOpacity??.5)*100),"%"]})]}),ot.jsxs("label",{className:"block mb-2 text-xs sm:text-sm",children:["Radio",ot.jsx("input",{type:"range",min:1,max:20,step:1,value:c.radius??5,onChange:p=>e(l.id,{radius:parseInt(p.target.value)}),className:"w-full"}),ot.jsxs("span",{className:"text-xs sm:text-sm ml-2",children:[c.radius??5,"px"]})]})]},l.id)})})]})}const nm=[{id:"sernageomin-mineria",url:"https://catastromineronline.sernageomin.cl/arcgismin/services/MINERIA/WMS_PROPIEDAD_MINERA_19S/MapServer/WMSServer",name:"0,1,2,3",layer:Yu.tileLayer.wms("https://catastromineronline.sernageomin.cl/arcgismin/services/MINERIA/WMS_PROPIEDAD_MINERA_19S/MapServer/WMSServer",{layers:"0,1,2,3",format:"image/png",transparent:!0,version:"1.3.0"}),visible:!1}];function rm({mapRef:o}){const[t,e]=dt.useState(""),[a,u]=dt.useState(""),[l,c]=dt.useState([]),[p,g]=dt.useState({type:null,text:""});dt.useEffect(()=>{c(nm)},[]);const y=(x,R)=>{g({type:x,text:R}),x!=="loading"&&setTimeout(()=>g({type:null,text:""}),3e3)},S=()=>{const x=o.current?.leafletMap;if(!x||!t.trim())return;const R=t.trim(),A=`${Date.now()}`;y("loading"," Cargando capa...");try{const I=Yu.tileLayer.wms(R,{layers:a||"0",format:"image/png",transparent:!0,version:"1.3.0"});I.addTo(x),c(O=>[...O,{id:A,url:R,name:a||"0",layer:I,visible:!0}]),y("success"," Capa cargada correctamente")}catch(I){console.error(I),y("error"," Error al cargar la capa")}},E=x=>{const R=o.current?.leafletMap;R&&c(A=>A.map(I=>I.id===x?(I.visible&&I.layer?R.removeLayer(I.layer):I.layer&&I.layer.addTo(R),{...I,visible:!I.visible}):I))},M=x=>{const R=o.current?.leafletMap;R&&c(A=>{const I=A.find(O=>O.id===x);return I&&I.layer&&R.removeLayer(I.layer),A.filter(O=>O.id!==x)})};return ot.jsxs("div",{className:"p-4 text-white bg-[#1e293b] h-full flex flex-col",children:[ot.jsx("h2",{className:"text-lg font-semibold mb-3",children:" Capas externas"}),ot.jsxs("div",{className:"flex flex-col gap-2 mb-3",children:[ot.jsx("input",{type:"text",value:t,onChange:x=>e(x.target.value),placeholder:"URL WMS",className:"px-2 py-1 rounded text-black"}),ot.jsx("input",{type:"text",value:a,onChange:x=>u(x.target.value),placeholder:"Nombre/ID de capa (ej: 0 o 0,1,2)",className:"px-2 py-1 rounded text-black"}),ot.jsx("button",{onClick:S,className:"bg-blue-600 hover:bg-blue-700 px-3 py-1 rounded",children:"Agregar"})]}),p.type&&ot.jsx("div",{className:`mb-3 text-sm px-2 py-1 rounded ${p.type==="loading"?"bg-yellow-600":p.type==="success"?"bg-green-600":"bg-red-600"}`,children:p.text}),ot.jsx("h3",{className:"text-md font-medium mb-2",children:"Capas activas"}),ot.jsxs("ul",{className:"space-y-2",children:[l.length===0&&ot.jsx("li",{className:"text-gray-400 text-sm",children:"No hay capas cargadas"}),l.map(x=>ot.jsxs("li",{className:"flex justify-between items-center bg-gray-700 px-2 py-1 rounded",children:[ot.jsxs("label",{className:"flex items-center gap-2 truncate",children:[ot.jsx("input",{type:"checkbox",checked:x.visible,onChange:()=>E(x.id)}),x.name]}),!nm.find(R=>R.id===x.id)&&ot.jsx("button",{onClick:()=>M(x.id),className:"bg-red-600 hover:bg-red-700 px-2 py-0.5 rounded text-sm",children:""})]},x.id))]})]})}function c5(){const{projectId:o}=Fv(),[t,e]=dt.useState([]),[a,u]=dt.useState({}),[l,c]=dt.useState({}),[p,g]=dt.useState(!0),[y,S]=dt.useState(null),[E,M]=dt.useState(null),x=dt.useRef(null),[R,A]=dt.useState(!1);async function I(){if(!o)return;g(!0);const{data:Se,error:K}=await Aa.from("project_layers").select("id,name,geojson").eq("project_id",o).order("created_at",{ascending:!1});if(K){console.error(K),e([]),M(K.message),g(!1);return}e(Se||[]);const X={};for(const ge of Se||[])X[ge.id]=!0;u(X),g(!1)}async function O(Se){if(Se.length===0){c({});return}const{data:K,error:X}=await Aa.from("project_layer_styles").select("layer_id, stroke, weight, opacity, fill, fill_opacity, point_radius").in("layer_id",Se);if(X){console.error(X);return}const ge={};for(const Ie of Se){const te=K?.find(G=>G.layer_id===Ie);ge[Ie]={layer_id:Ie,color:te?.stroke??"#1f2937",weight:te?.weight??2,opacity:te?.opacity??1,fillColor:te?.fill??"#1f2937",fillOpacity:te?.fill_opacity??.2,radius:te?.point_radius??5}}c(ge)}dt.useEffect(()=>{I()},[o]),dt.useEffect(()=>{O(t.map(Se=>Se.id))},[t]),dt.useEffect(()=>{if(y){const Se=setTimeout(()=>S(null),4e3);return()=>clearTimeout(Se)}},[y]);function W(Se){u(K=>({...K,[Se]:!K[Se]}))}async function Z(Se,K){if(!confirm(`Eliminar la capa "${K??Se}"?`))return;const{error:ge}=await Aa.from("project_layers").delete().eq("id",Se);if(ge){alert(ge.message);return}e(Ie=>Ie.filter(te=>te.id!==Se)),u(Ie=>{const te={...Ie};return delete te[Se],te}),c(Ie=>{const te={...Ie};return delete te[Se],te})}function de(Se){x.current?.zoomTo(Se)}function ve(Se,K,X){c(ge=>({...ge,[Se]:{...ge[Se],...K}}))}return ot.jsxs("div",{className:"wrap",children:[ot.jsxs("div",{className:"card flex flex-col lg:flex-row",style:{width:"min(1400px, 98vw)"},children:[ot.jsxs("div",{className:"flex-1 flex flex-col",children:[ot.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-3",children:[ot.jsx(Ic,{to:"/",className:"text-blue-400 hover:underline text-sm sm:text-base",children:" Volver"}),ot.jsx("h2",{className:"title text-lg sm:text-xl",children:"Proyecto"}),ot.jsx("div",{className:"sm:ml-auto w-full sm:w-auto",children:ot.jsx(Fy,{projectId:o,onLayerAdded:()=>{S(" Capa creada"),I()},onError:Se=>M(Se)})})]}),p&&ot.jsx("div",{className:"hint text-blue-600 mb-2",children:" Cargando capas..."}),E&&ot.jsx("div",{className:"hint text-red-700 mb-2",children:E}),y&&ot.jsx("div",{className:"hint text-green-700 mb-2",children:y}),ot.jsx(jy,{layers:t,visible:a,onToggleVisible:W,onZoom:Se=>de(Se.geojson),onDelete:Se=>Z(Se.id,Se.name)}),ot.jsx(h5,{layers:t,styles:l,onLocalChange:(Se,K)=>ve(Se,K)}),ot.jsx("div",{style:{flex:1,minHeight:"500px"},children:ot.jsx(u5,{ref:x,layers:t,visible:a,styles:l})})]}),ot.jsx("div",{className:"hidden lg:block w-80 bg-[#1e293b] border-l border-gray-700",children:ot.jsx(rm,{mapRef:x})})]}),ot.jsx("button",{onClick:()=>A(!0),className:"lg:hidden fixed top-4 right-4 z-[1500] w-12 h-12 flex items-center justify-center rounded-full bg-green-600 hover:bg-green-700 text-white shadow-lg transition","aria-label":"Capas externas",children:""}),R&&ot.jsxs("div",{className:"fixed inset-0 z-[2000] flex",children:[ot.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:()=>A(!1)}),ot.jsxs("aside",{className:`
              relative w-72 bg-[#1e293b] h-full p-4 shadow-xl z-[2000] overflow-y-auto
              transform transition-transform duration-300 ease-in-out
              ${R?"translate-x-0":"translate-x-full"}
            `,children:[ot.jsxs("div",{className:"flex justify-between items-center mb-4 text-white",children:[ot.jsx("h2",{className:"font-semibold",children:"Capas externas"}),ot.jsx("button",{onClick:()=>A(!1),className:"text-gray-400 hover:text-gray-200",children:""})]}),ot.jsx(rm,{mapRef:x})]})]})]})}function f5(){return ot.jsx(Ry,{fallback:ot.jsx(ov,{}),children:o=>ot.jsx(xy,{basename:"/pudumaps",children:ot.jsxs(Qv,{children:[ot.jsx(ld,{path:"/",element:ot.jsx(Iy,{email:o.user.email??"sin-email"})}),ot.jsx(ld,{path:"/project/:projectId",element:ot.jsx(c5,{})})]})})})}Qg.createRoot(document.getElementById("root")).render(ot.jsx(Kf.StrictMode,{children:ot.jsx(f5,{})}));export{Lr as _,Zl as c,Tc as g};
