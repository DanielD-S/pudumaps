(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function s(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(u){if(u.ep)return;u.ep=!0;const d=s(u);fetch(u.href,d)}})();function ru(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function Mm(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var i=r.default;if(typeof i=="function"){var s=function l(){var u=!1;try{u=this instanceof l}catch{}return u?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};s.prototype=i.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(r).forEach(function(l){var u=Object.getOwnPropertyDescriptor(r,l);Object.defineProperty(s,l,u.get?u:{enumerable:!0,get:function(){return r[l]}})}),s}var Dc={exports:{}},sa={},Bc={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mf;function Nm(){if(mf)return Ee;mf=1;var r=Symbol.for("react.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),P=Symbol.iterator;function R(C){return C===null||typeof C!="object"?null:(C=P&&C[P]||C["@@iterator"],typeof C=="function"?C:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,D={};function F(C,Z,de){this.props=C,this.context=Z,this.refs=D,this.updater=de||N}F.prototype.isReactComponent={},F.prototype.setState=function(C,Z){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,Z,"setState")},F.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function G(){}G.prototype=F.prototype;function he(C,Z,de){this.props=C,this.context=Z,this.refs=D,this.updater=de||N}var V=he.prototype=new G;V.constructor=he,B(V,F.prototype),V.isPureReactComponent=!0;var re=Array.isArray,xe=Object.prototype.hasOwnProperty,ge={current:null},Se={key:!0,ref:!0,__self:!0,__source:!0};function rt(C,Z,de){var ce,ae={},ne=null,Oe=null;if(Z!=null)for(ce in Z.ref!==void 0&&(Oe=Z.ref),Z.key!==void 0&&(ne=""+Z.key),Z)xe.call(Z,ce)&&!Se.hasOwnProperty(ce)&&(ae[ce]=Z[ce]);var be=arguments.length-2;if(be===1)ae.children=de;else if(1<be){for(var Be=Array(be),yt=0;yt<be;yt++)Be[yt]=arguments[yt+2];ae.children=Be}if(C&&C.defaultProps)for(ce in be=C.defaultProps,be)ae[ce]===void 0&&(ae[ce]=be[ce]);return{$$typeof:r,type:C,key:ne,ref:Oe,props:ae,_owner:ge.current}}function He(C,Z){return{$$typeof:r,type:C.type,key:Z,ref:C.ref,props:C.props,_owner:C._owner}}function lt(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function Ze(C){var Z={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(de){return Z[de]})}var Ve=/\/+/g;function Ot(C,Z){return typeof C=="object"&&C!==null&&C.key!=null?Ze(""+C.key):Z.toString(36)}function nt(C,Z,de,ce,ae){var ne=typeof C;(ne==="undefined"||ne==="boolean")&&(C=null);var Oe=!1;if(C===null)Oe=!0;else switch(ne){case"string":case"number":Oe=!0;break;case"object":switch(C.$$typeof){case r:case i:Oe=!0}}if(Oe)return Oe=C,ae=ae(Oe),C=ce===""?"."+Ot(Oe,0):ce,re(ae)?(de="",C!=null&&(de=C.replace(Ve,"$&/")+"/"),nt(ae,Z,de,"",function(yt){return yt})):ae!=null&&(lt(ae)&&(ae=He(ae,de+(!ae.key||Oe&&Oe.key===ae.key?"":(""+ae.key).replace(Ve,"$&/")+"/")+C)),Z.push(ae)),1;if(Oe=0,ce=ce===""?".":ce+":",re(C))for(var be=0;be<C.length;be++){ne=C[be];var Be=ce+Ot(ne,be);Oe+=nt(ne,Z,de,Be,ae)}else if(Be=R(C),typeof Be=="function")for(C=Be.call(C),be=0;!(ne=C.next()).done;)ne=ne.value,Be=ce+Ot(ne,be++),Oe+=nt(ne,Z,de,Be,ae);else if(ne==="object")throw Z=String(C),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return Oe}function nn(C,Z,de){if(C==null)return C;var ce=[],ae=0;return nt(C,ce,"","",function(ne){return Z.call(de,ne,ae++)}),ce}function Ne(C){if(C._status===-1){var Z=C._result;Z=Z(),Z.then(function(de){(C._status===0||C._status===-1)&&(C._status=1,C._result=de)},function(de){(C._status===0||C._status===-1)&&(C._status=2,C._result=de)}),C._status===-1&&(C._status=0,C._result=Z)}if(C._status===1)return C._result.default;throw C._result}var ze={current:null},W={transition:null},pe={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:W,ReactCurrentOwner:ge};function q(){throw Error("act(...) is not supported in production builds of React.")}return Ee.Children={map:nn,forEach:function(C,Z,de){nn(C,function(){Z.apply(this,arguments)},de)},count:function(C){var Z=0;return nn(C,function(){Z++}),Z},toArray:function(C){return nn(C,function(Z){return Z})||[]},only:function(C){if(!lt(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Ee.Component=F,Ee.Fragment=s,Ee.Profiler=u,Ee.PureComponent=he,Ee.StrictMode=l,Ee.Suspense=v,Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,Ee.act=q,Ee.cloneElement=function(C,Z,de){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var ce=B({},C.props),ae=C.key,ne=C.ref,Oe=C._owner;if(Z!=null){if(Z.ref!==void 0&&(ne=Z.ref,Oe=ge.current),Z.key!==void 0&&(ae=""+Z.key),C.type&&C.type.defaultProps)var be=C.type.defaultProps;for(Be in Z)xe.call(Z,Be)&&!Se.hasOwnProperty(Be)&&(ce[Be]=Z[Be]===void 0&&be!==void 0?be[Be]:Z[Be])}var Be=arguments.length-2;if(Be===1)ce.children=de;else if(1<Be){be=Array(Be);for(var yt=0;yt<Be;yt++)be[yt]=arguments[yt+2];ce.children=be}return{$$typeof:r,type:C.type,key:ae,ref:ne,props:ce,_owner:Oe}},Ee.createContext=function(C){return C={$$typeof:m,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:d,_context:C},C.Consumer=C},Ee.createElement=rt,Ee.createFactory=function(C){var Z=rt.bind(null,C);return Z.type=C,Z},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(C){return{$$typeof:y,render:C}},Ee.isValidElement=lt,Ee.lazy=function(C){return{$$typeof:k,_payload:{_status:-1,_result:C},_init:Ne}},Ee.memo=function(C,Z){return{$$typeof:w,type:C,compare:Z===void 0?null:Z}},Ee.startTransition=function(C){var Z=W.transition;W.transition={};try{C()}finally{W.transition=Z}},Ee.unstable_act=q,Ee.useCallback=function(C,Z){return ze.current.useCallback(C,Z)},Ee.useContext=function(C){return ze.current.useContext(C)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(C){return ze.current.useDeferredValue(C)},Ee.useEffect=function(C,Z){return ze.current.useEffect(C,Z)},Ee.useId=function(){return ze.current.useId()},Ee.useImperativeHandle=function(C,Z,de){return ze.current.useImperativeHandle(C,Z,de)},Ee.useInsertionEffect=function(C,Z){return ze.current.useInsertionEffect(C,Z)},Ee.useLayoutEffect=function(C,Z){return ze.current.useLayoutEffect(C,Z)},Ee.useMemo=function(C,Z){return ze.current.useMemo(C,Z)},Ee.useReducer=function(C,Z,de){return ze.current.useReducer(C,Z,de)},Ee.useRef=function(C){return ze.current.useRef(C)},Ee.useState=function(C){return ze.current.useState(C)},Ee.useSyncExternalStore=function(C,Z,de){return ze.current.useSyncExternalStore(C,Z,de)},Ee.useTransition=function(){return ze.current.useTransition()},Ee.version="18.3.1",Ee}var _f;function gh(){return _f||(_f=1,Bc.exports=Nm()),Bc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gf;function zm(){if(gf)return sa;gf=1;var r=gh(),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function m(y,v,w){var k,P={},R=null,N=null;w!==void 0&&(R=""+w),v.key!==void 0&&(R=""+v.key),v.ref!==void 0&&(N=v.ref);for(k in v)l.call(v,k)&&!d.hasOwnProperty(k)&&(P[k]=v[k]);if(y&&y.defaultProps)for(k in v=y.defaultProps,v)P[k]===void 0&&(P[k]=v[k]);return{$$typeof:i,type:y,key:R,ref:N,props:P,_owner:u.current}}return sa.Fragment=s,sa.jsx=m,sa.jsxs=m,sa}var vf;function jm(){return vf||(vf=1,Dc.exports=zm()),Dc.exports}var te=jm(),$=gh();const Dm=ru($);var Zl={},Fc={exports:{}},Wt={},Uc={exports:{}},$c={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yf;function Bm(){return yf||(yf=1,(function(r){function i(W,pe){var q=W.length;W.push(pe);e:for(;0<q;){var C=q-1>>>1,Z=W[C];if(0<u(Z,pe))W[C]=pe,W[q]=Z,q=C;else break e}}function s(W){return W.length===0?null:W[0]}function l(W){if(W.length===0)return null;var pe=W[0],q=W.pop();if(q!==pe){W[0]=q;e:for(var C=0,Z=W.length,de=Z>>>1;C<de;){var ce=2*(C+1)-1,ae=W[ce],ne=ce+1,Oe=W[ne];if(0>u(ae,q))ne<Z&&0>u(Oe,ae)?(W[C]=Oe,W[ne]=q,C=ne):(W[C]=ae,W[ce]=q,C=ce);else if(ne<Z&&0>u(Oe,q))W[C]=Oe,W[ne]=q,C=ne;else break e}}return pe}function u(W,pe){var q=W.sortIndex-pe.sortIndex;return q!==0?q:W.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;r.unstable_now=function(){return d.now()}}else{var m=Date,y=m.now();r.unstable_now=function(){return m.now()-y}}var v=[],w=[],k=1,P=null,R=3,N=!1,B=!1,D=!1,F=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,he=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function V(W){for(var pe=s(w);pe!==null;){if(pe.callback===null)l(w);else if(pe.startTime<=W)l(w),pe.sortIndex=pe.expirationTime,i(v,pe);else break;pe=s(w)}}function re(W){if(D=!1,V(W),!B)if(s(v)!==null)B=!0,Ne(xe);else{var pe=s(w);pe!==null&&ze(re,pe.startTime-W)}}function xe(W,pe){B=!1,D&&(D=!1,G(rt),rt=-1),N=!0;var q=R;try{for(V(pe),P=s(v);P!==null&&(!(P.expirationTime>pe)||W&&!Ze());){var C=P.callback;if(typeof C=="function"){P.callback=null,R=P.priorityLevel;var Z=C(P.expirationTime<=pe);pe=r.unstable_now(),typeof Z=="function"?P.callback=Z:P===s(v)&&l(v),V(pe)}else l(v);P=s(v)}if(P!==null)var de=!0;else{var ce=s(w);ce!==null&&ze(re,ce.startTime-pe),de=!1}return de}finally{P=null,R=q,N=!1}}var ge=!1,Se=null,rt=-1,He=5,lt=-1;function Ze(){return!(r.unstable_now()-lt<He)}function Ve(){if(Se!==null){var W=r.unstable_now();lt=W;var pe=!0;try{pe=Se(!0,W)}finally{pe?Ot():(ge=!1,Se=null)}}else ge=!1}var Ot;if(typeof he=="function")Ot=function(){he(Ve)};else if(typeof MessageChannel<"u"){var nt=new MessageChannel,nn=nt.port2;nt.port1.onmessage=Ve,Ot=function(){nn.postMessage(null)}}else Ot=function(){F(Ve,0)};function Ne(W){Se=W,ge||(ge=!0,Ot())}function ze(W,pe){rt=F(function(){W(r.unstable_now())},pe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_continueExecution=function(){B||N||(B=!0,Ne(xe))},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):He=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_getFirstCallbackNode=function(){return s(v)},r.unstable_next=function(W){switch(R){case 1:case 2:case 3:var pe=3;break;default:pe=R}var q=R;R=pe;try{return W()}finally{R=q}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(W,pe){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var q=R;R=W;try{return pe()}finally{R=q}},r.unstable_scheduleCallback=function(W,pe,q){var C=r.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?C+q:C):q=C,W){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=q+Z,W={id:k++,callback:pe,priorityLevel:W,startTime:q,expirationTime:Z,sortIndex:-1},q>C?(W.sortIndex=q,i(w,W),s(v)===null&&W===s(w)&&(D?(G(rt),rt=-1):D=!0,ze(re,q-C))):(W.sortIndex=Z,i(v,W),B||N||(B=!0,Ne(xe))),W},r.unstable_shouldYield=Ze,r.unstable_wrapCallback=function(W){var pe=R;return function(){var q=R;R=pe;try{return W.apply(this,arguments)}finally{R=q}}}})($c)),$c}var wf;function Fm(){return wf||(wf=1,Uc.exports=Bm()),Uc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xf;function Um(){if(xf)return Wt;xf=1;var r=gh(),i=Fm();function s(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,u={};function d(e,n){m(e,n),m(e+"Capture",n)}function m(e,n){for(u[e]=n,e=0;e<n.length;e++)l.add(n[e])}var y=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v=Object.prototype.hasOwnProperty,w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,k={},P={};function R(e){return v.call(P,e)?!0:v.call(k,e)?!1:w.test(e)?P[e]=!0:(k[e]=!0,!1)}function N(e,n,a,h){if(a!==null&&a.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function B(e,n,a,h){if(n===null||typeof n>"u"||N(e,n,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function D(e,n,a,h,p,_,x){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=a,this.propertyName=e,this.type=n,this.sanitizeURL=_,this.removeEmptyString=x}var F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){F[e]=new D(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];F[n]=new D(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){F[e]=new D(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){F[e]=new D(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){F[e]=new D(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){F[e]=new D(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){F[e]=new D(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){F[e]=new D(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){F[e]=new D(e,5,!1,e.toLowerCase(),null,!1,!1)});var G=/[\-:]([a-z])/g;function he(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(G,he);F[n]=new D(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(G,he);F[n]=new D(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(G,he);F[n]=new D(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){F[e]=new D(e,1,!1,e.toLowerCase(),null,!1,!1)}),F.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){F[e]=new D(e,1,!1,e.toLowerCase(),null,!0,!0)});function V(e,n,a,h){var p=F.hasOwnProperty(n)?F[n]:null;(p!==null?p.type!==0:h||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(B(n,a,p,h)&&(a=null),h||p===null?R(n)&&(a===null?e.removeAttribute(n):e.setAttribute(n,""+a)):p.mustUseProperty?e[p.propertyName]=a===null?p.type===3?!1:"":a:(n=p.attributeName,h=p.attributeNamespace,a===null?e.removeAttribute(n):(p=p.type,a=p===3||p===4&&a===!0?"":""+a,h?e.setAttributeNS(h,n,a):e.setAttribute(n,a))))}var re=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xe=Symbol.for("react.element"),ge=Symbol.for("react.portal"),Se=Symbol.for("react.fragment"),rt=Symbol.for("react.strict_mode"),He=Symbol.for("react.profiler"),lt=Symbol.for("react.provider"),Ze=Symbol.for("react.context"),Ve=Symbol.for("react.forward_ref"),Ot=Symbol.for("react.suspense"),nt=Symbol.for("react.suspense_list"),nn=Symbol.for("react.memo"),Ne=Symbol.for("react.lazy"),ze=Symbol.for("react.offscreen"),W=Symbol.iterator;function pe(e){return e===null||typeof e!="object"?null:(e=W&&e[W]||e["@@iterator"],typeof e=="function"?e:null)}var q=Object.assign,C;function Z(e){if(C===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);C=n&&n[1]||""}return`
`+C+e}var de=!1;function ce(e,n){if(!e||de)return"";de=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(j){var h=j}Reflect.construct(e,[],n)}else{try{n.call()}catch(j){h=j}e.call(n.prototype)}else{try{throw Error()}catch(j){h=j}e()}}catch(j){if(j&&h&&typeof j.stack=="string"){for(var p=j.stack.split(`
`),_=h.stack.split(`
`),x=p.length-1,T=_.length-1;1<=x&&0<=T&&p[x]!==_[T];)T--;for(;1<=x&&0<=T;x--,T--)if(p[x]!==_[T]){if(x!==1||T!==1)do if(x--,T--,0>T||p[x]!==_[T]){var E=`
`+p[x].replace(" at new "," at ");return e.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",e.displayName)),E}while(1<=x&&0<=T);break}}}finally{de=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?Z(e):""}function ae(e){switch(e.tag){case 5:return Z(e.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return e=ce(e.type,!1),e;case 11:return e=ce(e.type.render,!1),e;case 1:return e=ce(e.type,!0),e;default:return""}}function ne(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Se:return"Fragment";case ge:return"Portal";case He:return"Profiler";case rt:return"StrictMode";case Ot:return"Suspense";case nt:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ze:return(e.displayName||"Context")+".Consumer";case lt:return(e._context.displayName||"Context")+".Provider";case Ve:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case nn:return n=e.displayName||null,n!==null?n:ne(e.type)||"Memo";case Ne:n=e._payload,e=e._init;try{return ne(e(n))}catch{}}return null}function Oe(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ne(n);case 8:return n===rt?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function be(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Be(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function yt(e){var n=Be(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),h=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,_=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return p.call(this)},set:function(x){h=""+x,_.call(this,x)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(x){h=""+x},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function xi(e){e._valueTracker||(e._valueTracker=yt(e))}function Si(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),h="";return e&&(h=Be(e)?e.checked?"true":"false":e.value),e=h,e!==a?(n.setValue(e),!0):!1}function ki(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ro(e,n){var a=n.checked;return q({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??e._wrapperState.initialChecked})}function so(e,n){var a=n.defaultValue==null?"":n.defaultValue,h=n.checked!=null?n.checked:n.defaultChecked;a=be(n.value!=null?n.value:a),e._wrapperState={initialChecked:h,initialValue:a,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function oo(e,n){n=n.checked,n!=null&&V(e,"checked",n,!1)}function cr(e,n){oo(e,n);var a=be(n.value),h=n.type;if(a!=null)h==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if(h==="submit"||h==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?ao(e,n.type,a):n.hasOwnProperty("defaultValue")&&ao(e,n.type,be(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function hr(e,n,a){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var h=n.type;if(!(h!=="submit"&&h!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,a||n===e.value||(e.value=n),e.defaultValue=n}a=e.name,a!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,a!==""&&(e.name=a)}function ao(e,n,a){(n!=="number"||ki(e.ownerDocument)!==e)&&(a==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var Pi=Array.isArray;function Cn(e,n,a,h){if(e=e.options,n){n={};for(var p=0;p<a.length;p++)n["$"+a[p]]=!0;for(a=0;a<e.length;a++)p=n.hasOwnProperty("$"+e[a].value),e[a].selected!==p&&(e[a].selected=p),p&&h&&(e[a].defaultSelected=!0)}else{for(a=""+be(a),n=null,p=0;p<e.length;p++){if(e[p].value===a){e[p].selected=!0,h&&(e[p].defaultSelected=!0);return}n!==null||e[p].disabled||(n=e[p])}n!==null&&(n.selected=!0)}}function Jr(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(s(91));return q({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function lo(e,n){var a=n.value;if(a==null){if(a=n.children,n=n.defaultValue,a!=null){if(n!=null)throw Error(s(92));if(Pi(a)){if(1<a.length)throw Error(s(93));a=a[0]}n=a}n==null&&(n=""),a=n}e._wrapperState={initialValue:be(a)}}function xa(e,n){var a=be(n.value),h=be(n.defaultValue);a!=null&&(a=""+a,a!==e.value&&(e.value=a),n.defaultValue==null&&e.defaultValue!==a&&(e.defaultValue=a)),h!=null&&(e.defaultValue=""+h)}function Sa(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Qr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yr(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Qr(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var dr,ka=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,a,h,p){MSApp.execUnsafeLocalFunction(function(){return e(n,a,h,p)})}:e})(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(dr=dr||document.createElement("div"),dr.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=dr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Ti(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var bi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pu=["Webkit","ms","Moz","O"];Object.keys(bi).forEach(function(e){pu.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),bi[n]=bi[e]})});function uo(e,n,a){return n==null||typeof n=="boolean"||n===""?"":a||typeof n!="number"||n===0||bi.hasOwnProperty(e)&&bi[e]?(""+n).trim():n+"px"}function Xr(e,n){e=e.style;for(var a in n)if(n.hasOwnProperty(a)){var h=a.indexOf("--")===0,p=uo(a,n[a],h);a==="float"&&(a="cssFloat"),h?e.setProperty(a,p):e[a]=p}}var Pa=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function co(e,n){if(n){if(Pa[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(s(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(s(61))}if(n.style!=null&&typeof n.style!="object")throw Error(s(62))}}function qn(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ho=null;function fo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var es=null,Hn=null,Gn=null;function Ta(e){if(e=si(e)){if(typeof es!="function")throw Error(s(280));var n=e.stateNode;n&&(n=Es(n),es(e.stateNode,e.type,n))}}function ba(e){Hn?Gn?Gn.push(e):Gn=[e]:Hn=e}function Ea(){if(Hn){var e=Hn,n=Gn;if(Gn=Hn=null,Ta(e),n)for(e=0;e<n.length;e++)Ta(n[e])}}function La(e,n){return e(n)}function Ca(){}var po=!1;function ts(e,n,a){if(po)return e(n,a);po=!0;try{return La(e,n,a)}finally{po=!1,(Hn!==null||Gn!==null)&&(Ca(),Ea())}}function fr(e,n){var a=e.stateNode;if(a===null)return null;var h=Es(a);if(h===null)return null;a=h[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(e=e.type,h=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!h;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var mo=!1;if(y)try{var pr={};Object.defineProperty(pr,"passive",{get:function(){mo=!0}}),window.addEventListener("test",pr,pr),window.removeEventListener("test",pr,pr)}catch{mo=!1}function mu(e,n,a,h,p,_,x,T,E){var j=Array.prototype.slice.call(arguments,3);try{n.apply(a,j)}catch(J){this.onError(J)}}var St=!1,le=null,mr=!1,ns=null,Oa={onError:function(e){St=!0,le=e}};function Ra(e,n,a,h,p,_,x,T,E){St=!1,le=null,mu.apply(Oa,arguments)}function _o(e,n,a,h,p,_,x,T,E){if(Ra.apply(this,arguments),St){if(St){var j=le;St=!1,le=null}else throw Error(s(198));mr||(mr=!0,ns=j)}}function On(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function Vn(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function go(e){if(On(e)!==e)throw Error(s(188))}function _u(e){var n=e.alternate;if(!n){if(n=On(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,h=n;;){var p=a.return;if(p===null)break;var _=p.alternate;if(_===null){if(h=p.return,h!==null){a=h;continue}break}if(p.child===_.child){for(_=p.child;_;){if(_===a)return go(p),e;if(_===h)return go(p),n;_=_.sibling}throw Error(s(188))}if(a.return!==h.return)a=p,h=_;else{for(var x=!1,T=p.child;T;){if(T===a){x=!0,a=p,h=_;break}if(T===h){x=!0,h=p,a=_;break}T=T.sibling}if(!x){for(T=_.child;T;){if(T===a){x=!0,a=_,h=p;break}if(T===h){x=!0,h=_,a=p;break}T=T.sibling}if(!x)throw Error(s(189))}}if(a.alternate!==h)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function Aa(e){return e=_u(e),e!==null?Ia(e):null}function Ia(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Ia(e);if(n!==null)return n;e=e.sibling}return null}var Ma=i.unstable_scheduleCallback,vo=i.unstable_cancelCallback,gu=i.unstable_shouldYield,is=i.unstable_requestPaint,Ke=i.unstable_now,vu=i.unstable_getCurrentPriorityLevel,yo=i.unstable_ImmediatePriority,Na=i.unstable_UserBlockingPriority,rs=i.unstable_NormalPriority,wo=i.unstable_LowPriority,Ei=i.unstable_IdlePriority,_r=null,qt=null;function gr(e){if(qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(_r,e,void 0,(e.current.flags&128)===128)}catch{}}var ke=Math.clz32?Math.clz32:Li,We=Math.log,ss=Math.LN2;function Li(e){return e>>>=0,e===0?32:31-(We(e)/ss|0)|0}var _n=64,Ci=4194304;function we(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Fe(e,n){var a=e.pendingLanes;if(a===0)return 0;var h=0,p=e.suspendedLanes,_=e.pingedLanes,x=a&268435455;if(x!==0){var T=x&~p;T!==0?h=we(T):(_&=x,_!==0&&(h=we(_)))}else x=a&~p,x!==0?h=we(x):_!==0&&(h=we(_));if(h===0)return 0;if(n!==0&&n!==h&&(n&p)===0&&(p=h&-h,_=n&-n,p>=_||p===16&&(_&4194240)!==0))return n;if((h&4)!==0&&(h|=a&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=h;0<n;)a=31-ke(n),p=1<<a,h|=e[a],n&=~p;return h}function xo(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function os(e,n){for(var a=e.suspendedLanes,h=e.pingedLanes,p=e.expirationTimes,_=e.pendingLanes;0<_;){var x=31-ke(_),T=1<<x,E=p[x];E===-1?((T&a)===0||(T&h)!==0)&&(p[x]=xo(T,n)):E<=n&&(e.expiredLanes|=T),_&=~T}}function kt(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function za(){var e=_n;return _n<<=1,(_n&4194240)===0&&(_n=64),e}function Oi(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function Ht(e,n,a){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-ke(n),e[n]=a}function et(e,n){var a=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var h=e.eventTimes;for(e=e.expirationTimes;0<a;){var p=31-ke(a),_=1<<p;n[p]=0,h[p]=-1,e[p]=-1,a&=~_}}function gn(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var h=31-ke(a),p=1<<h;p&n|e[h]&n&&(e[h]|=n),a&=~p}}var Re=0;function Ri(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var as,Kn,ls,us,vr,yr=!1,Ai=[],Gt=null,vn=null,rn=null,wr=new Map,ve=new Map,ut=[],je="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function So(e,n){switch(e){case"focusin":case"focusout":Gt=null;break;case"dragenter":case"dragleave":vn=null;break;case"mouseover":case"mouseout":rn=null;break;case"pointerover":case"pointerout":wr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ve.delete(n.pointerId)}}function Jn(e,n,a,h,p,_){return e===null||e.nativeEvent!==_?(e={blockedOn:n,domEventName:a,eventSystemFlags:h,nativeEvent:_,targetContainers:[p]},n!==null&&(n=si(n),n!==null&&Kn(n)),e):(e.eventSystemFlags|=h,n=e.targetContainers,p!==null&&n.indexOf(p)===-1&&n.push(p),e)}function ko(e,n,a,h,p){switch(n){case"focusin":return Gt=Jn(Gt,e,n,a,h,p),!0;case"dragenter":return vn=Jn(vn,e,n,a,h,p),!0;case"mouseover":return rn=Jn(rn,e,n,a,h,p),!0;case"pointerover":var _=p.pointerId;return wr.set(_,Jn(wr.get(_)||null,e,n,a,h,p)),!0;case"gotpointercapture":return _=p.pointerId,ve.set(_,Jn(ve.get(_)||null,e,n,a,h,p)),!0}return!1}function cs(e){var n=ri(e.target);if(n!==null){var a=On(n);if(a!==null){if(n=a.tag,n===13){if(n=Vn(a),n!==null){e.blockedOn=n,vr(e.priority,function(){ls(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sn(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=fs(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(a===null){a=e.nativeEvent;var h=new a.constructor(a.type,a);ho=h,a.target.dispatchEvent(h),ho=null}else return n=si(a),n!==null&&Kn(n),e.blockedOn=a,!1;n.shift()}return!0}function hs(e,n,a){sn(e)&&a.delete(n)}function xr(){yr=!1,Gt!==null&&sn(Gt)&&(Gt=null),vn!==null&&sn(vn)&&(vn=null),rn!==null&&sn(rn)&&(rn=null),wr.forEach(hs),ve.forEach(hs)}function Je(e,n){e.blockedOn===n&&(e.blockedOn=null,yr||(yr=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,xr)))}function Vt(e){function n(p){return Je(p,e)}if(0<Ai.length){Je(Ai[0],e);for(var a=1;a<Ai.length;a++){var h=Ai[a];h.blockedOn===e&&(h.blockedOn=null)}}for(Gt!==null&&Je(Gt,e),vn!==null&&Je(vn,e),rn!==null&&Je(rn,e),wr.forEach(n),ve.forEach(n),a=0;a<ut.length;a++)h=ut[a],h.blockedOn===e&&(h.blockedOn=null);for(;0<ut.length&&(a=ut[0],a.blockedOn===null);)cs(a),a.blockedOn===null&&ut.shift()}var Qn=re.ReactCurrentBatchConfig,Sr=!0;function yu(e,n,a,h){var p=Re,_=Qn.transition;Qn.transition=null;try{Re=1,kr(e,n,a,h)}finally{Re=p,Qn.transition=_}}function ja(e,n,a,h){var p=Re,_=Qn.transition;Qn.transition=null;try{Re=4,kr(e,n,a,h)}finally{Re=p,Qn.transition=_}}function kr(e,n,a,h){if(Sr){var p=fs(e,n,a,h);if(p===null)t(e,n,h,ds,a),So(e,h);else if(ko(p,e,n,a,h))h.stopPropagation();else if(So(e,h),n&4&&-1<je.indexOf(e)){for(;p!==null;){var _=si(p);if(_!==null&&as(_),_=fs(e,n,a,h),_===null&&t(e,n,h,ds,a),_===p)break;p=_}p!==null&&h.stopPropagation()}else t(e,n,h,null,a)}}var ds=null;function fs(e,n,a,h){if(ds=null,e=fo(h),e=ri(e),e!==null)if(n=On(e),n===null)e=null;else if(a=n.tag,a===13){if(e=Vn(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return ds=e,null}function Le(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vu()){case yo:return 1;case Na:return 4;case rs:case wo:return 16;case Ei:return 536870912;default:return 16}default:return 16}}var Rn=null,Rt=null,An=null;function Po(){if(An)return An;var e,n=Rt,a=n.length,h,p="value"in Rn?Rn.value:Rn.textContent,_=p.length;for(e=0;e<a&&n[e]===p[e];e++);var x=a-e;for(h=1;h<=x&&n[a-h]===p[_-h];h++);return An=p.slice(e,1<h?1-h:void 0)}function ps(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ii(){return!0}function Da(){return!1}function Pt(e){function n(a,h,p,_,x){this._reactName=a,this._targetInst=p,this.type=h,this.nativeEvent=_,this.target=x,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(_):_[T]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Ii:Da,this.isPropagationStopped=Da,this}return q(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ii)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ii)},persist:function(){},isPersistent:Ii}),n}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},To=Pt(Mi),Yn=q({},Mi,{view:0,detail:0}),wu=Pt(Yn),jt,bo,Ni,Kt=q({},Yn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ei,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ni&&(Ni&&e.type==="mousemove"?(jt=e.screenX-Ni.screenX,bo=e.screenY-Ni.screenY):bo=jt=0,Ni=e),jt)},movementY:function(e){return"movementY"in e?e.movementY:bo}}),Eo=Pt(Kt),Ba=q({},Kt,{dataTransfer:0}),Lo=Pt(Ba),xu=q({},Yn,{relatedTarget:0}),ms=Pt(xu),Fa=q({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),Su=Pt(Fa),ku=q({},Mi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Co=Pt(ku),Pu=q({},Mi,{data:0}),Oo=Pt(Pu),Ua={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_s={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Xn[e])?!!n[e]:!1}function ei(){return Tu}var Dt=q({},Yn,{key:function(e){if(e.key){var n=Ua[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ps(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_s[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ei,charCode:function(e){return e.type==="keypress"?ps(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ps(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$a=Pt(Dt),Za=q({},Kt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wa=Pt(Za),Ro=q({},Yn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ei}),Ao=Pt(Ro),bu=q({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Eu=Pt(bu),qa=q({},Kt,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Lu=Pt(qa),Jt=[9,13,27,32],In=y&&"CompositionEvent"in window,Pr=null;y&&"documentMode"in document&&(Pr=document.documentMode);var yn=y&&"TextEvent"in window&&!Pr,Ha=y&&(!In||Pr&&8<Pr&&11>=Pr),ti=" ",Ga=!1;function zi(e,n){switch(e){case"keyup":return Jt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Io(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wn=!1;function Cu(e,n){switch(e){case"compositionend":return Io(n);case"keypress":return n.which!==32?null:(Ga=!0,ti);case"textInput":return e=n.data,e===ti&&Ga?null:e;default:return null}}function Mn(e,n){if(wn)return e==="compositionend"||!In&&zi(e,n)?(e=Po(),An=Rt=Rn=null,wn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ha&&n.locale!=="ko"?null:n.data;default:return null}}var gs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Va(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!gs[e.type]:n==="textarea"}function vs(e,n,a,h){ba(h),n=c(n,"onChange"),0<n.length&&(a=new To("onChange","change",null,a,h),e.push({event:a,listeners:n}))}var Tr=null,At=null;function Ou(e){$o(e,0)}function xn(e){var n=oi(e);if(Si(n))return e}function Ru(e,n){if(e==="change")return n}var on=!1;if(y){var ji;if(y){var ys="oninput"in document;if(!ys){var ws=document.createElement("div");ws.setAttribute("oninput","return;"),ys=typeof ws.oninput=="function"}ji=ys}else ji=!1;on=ji&&(!document.documentMode||9<document.documentMode)}function br(){Tr&&(Tr.detachEvent("onpropertychange",xs),At=Tr=null)}function xs(e){if(e.propertyName==="value"&&xn(At)){var n=[];vs(n,At,e,fo(e)),ts(Ou,n)}}function Ss(e,n,a){e==="focusin"?(br(),Tr=n,At=a,Tr.attachEvent("onpropertychange",xs)):e==="focusout"&&br()}function Di(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xn(At)}function ks(e,n){if(e==="click")return xn(n)}function Mo(e,n){if(e==="input"||e==="change")return xn(n)}function Ka(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Qt=typeof Object.is=="function"?Object.is:Ka;function Nn(e,n){if(Qt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),h=Object.keys(n);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var p=a[h];if(!v.call(n,p)||!Qt(e[p],n[p]))return!1}return!0}function Ja(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function No(e,n){var a=Ja(e);e=0;for(var h;a;){if(a.nodeType===3){if(h=e+a.textContent.length,e<=n&&h>=n)return{node:a,offset:n-e};e=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ja(a)}}function Qa(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Qa(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function zo(){for(var e=window,n=ki();n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=ki(e.document)}return n}function jo(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function an(e){var n=zo(),a=e.focusedElem,h=e.selectionRange;if(n!==a&&a&&a.ownerDocument&&Qa(a.ownerDocument.documentElement,a)){if(h!==null&&jo(a)){if(n=h.start,e=h.end,e===void 0&&(e=n),"selectionStart"in a)a.selectionStart=n,a.selectionEnd=Math.min(e,a.value.length);else if(e=(n=a.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var p=a.textContent.length,_=Math.min(h.start,p);h=h.end===void 0?_:Math.min(h.end,p),!e.extend&&_>h&&(p=h,h=_,_=p),p=No(a,_);var x=No(a,h);p&&x&&(e.rangeCount!==1||e.anchorNode!==p.node||e.anchorOffset!==p.offset||e.focusNode!==x.node||e.focusOffset!==x.offset)&&(n=n.createRange(),n.setStart(p.node,p.offset),e.removeAllRanges(),_>h?(e.addRange(n),e.extend(x.node,x.offset)):(n.setEnd(x.node,x.offset),e.addRange(n)))}}for(n=[],e=a;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<n.length;a++)e=n[a],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ps=y&&"documentMode"in document&&11>=document.documentMode,Bi=null,Fi=null,Er=null,Ts=!1;function Ya(e,n,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ts||Bi==null||Bi!==ki(h)||(h=Bi,"selectionStart"in h&&jo(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Er&&Nn(Er,h)||(Er=h,h=c(Fi,"onSelect"),0<h.length&&(n=new To("onSelect","select",null,n,a),e.push({event:n,listeners:h}),n.target=Bi)))}function zn(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Ui={animationend:zn("Animation","AnimationEnd"),animationiteration:zn("Animation","AnimationIteration"),animationstart:zn("Animation","AnimationStart"),transitionend:zn("Transition","TransitionEnd")},jn={},Do={};y&&(Do=document.createElement("div").style,"AnimationEvent"in window||(delete Ui.animationend.animation,delete Ui.animationiteration.animation,delete Ui.animationstart.animation),"TransitionEvent"in window||delete Ui.transitionend.transition);function Lr(e){if(jn[e])return jn[e];if(!Ui[e])return e;var n=Ui[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Do)return jn[e]=n[a];return e}var Xa=Lr("animationend"),ln=Lr("animationiteration"),Bo=Lr("animationstart"),Fo=Lr("transitionend"),$i=new Map,el="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yt(e,n){$i.set(e,n),d(n,[e])}for(var ni=0;ni<el.length;ni++){var bs=el[ni],tl=bs.toLowerCase(),Au=bs[0].toUpperCase()+bs.slice(1);Yt(tl,"on"+Au)}Yt(Xa,"onAnimationEnd"),Yt(ln,"onAnimationIteration"),Yt(Bo,"onAnimationStart"),Yt("dblclick","onDoubleClick"),Yt("focusin","onFocus"),Yt("focusout","onBlur"),Yt(Fo,"onTransitionEnd"),m("onMouseEnter",["mouseout","mouseover"]),m("onMouseLeave",["mouseout","mouseover"]),m("onPointerEnter",["pointerout","pointerover"]),m("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nl=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zi));function Uo(e,n,a){var h=e.type||"unknown-event";e.currentTarget=a,_o(h,n,void 0,e),e.currentTarget=null}function $o(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var h=e[a],p=h.event;h=h.listeners;e:{var _=void 0;if(n)for(var x=h.length-1;0<=x;x--){var T=h[x],E=T.instance,j=T.currentTarget;if(T=T.listener,E!==_&&p.isPropagationStopped())break e;Uo(p,T,j),_=E}else for(x=0;x<h.length;x++){if(T=h[x],E=T.instance,j=T.currentTarget,T=T.listener,E!==_&&p.isPropagationStopped())break e;Uo(p,T,j),_=E}}}if(mr)throw e=ns,mr=!1,ns=null,e}function De(e,n){var a=n[Gi];a===void 0&&(a=n[Gi]=new Set);var h=e+"__bubble";a.has(h)||(il(n,e,2,!1),a.add(h))}function Zo(e,n,a){var h=0;n&&(h|=4),il(a,e,h,n)}var Cr="_reactListening"+Math.random().toString(36).slice(2);function Wi(e){if(!e[Cr]){e[Cr]=!0,l.forEach(function(a){a!=="selectionchange"&&(nl.has(a)||Zo(a,!1,e),Zo(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Cr]||(n[Cr]=!0,Zo("selectionchange",!1,n))}}function il(e,n,a,h){switch(Le(n)){case 1:var p=yu;break;case 4:p=ja;break;default:p=kr}a=p.bind(null,n,a,e),p=void 0,!mo||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(p=!0),h?p!==void 0?e.addEventListener(n,a,{capture:!0,passive:p}):e.addEventListener(n,a,!0):p!==void 0?e.addEventListener(n,a,{passive:p}):e.addEventListener(n,a,!1)}function t(e,n,a,h,p){var _=h;if((n&1)===0&&(n&2)===0&&h!==null)e:for(;;){if(h===null)return;var x=h.tag;if(x===3||x===4){var T=h.stateNode.containerInfo;if(T===p||T.nodeType===8&&T.parentNode===p)break;if(x===4)for(x=h.return;x!==null;){var E=x.tag;if((E===3||E===4)&&(E=x.stateNode.containerInfo,E===p||E.nodeType===8&&E.parentNode===p))return;x=x.return}for(;T!==null;){if(x=ri(T),x===null)return;if(E=x.tag,E===5||E===6){h=_=x;continue e}T=T.parentNode}}h=h.return}ts(function(){var j=_,J=fo(a),Q=[];e:{var K=$i.get(e);if(K!==void 0){var ee=To,se=e;switch(e){case"keypress":if(ps(a)===0)break e;case"keydown":case"keyup":ee=$a;break;case"focusin":se="focus",ee=ms;break;case"focusout":se="blur",ee=ms;break;case"beforeblur":case"afterblur":ee=ms;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Eo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Lo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=Ao;break;case Xa:case ln:case Bo:ee=Su;break;case Fo:ee=Eu;break;case"scroll":ee=wu;break;case"wheel":ee=Lu;break;case"copy":case"cut":case"paste":ee=Co;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Wa}var oe=(n&4)!==0,it=!oe&&e==="scroll",I=oe?K!==null?K+"Capture":null:K;oe=[];for(var O=j,M;O!==null;){M=O;var Y=M.stateNode;if(M.tag===5&&Y!==null&&(M=Y,I!==null&&(Y=fr(O,I),Y!=null&&oe.push(o(O,Y,M)))),it)break;O=O.return}0<oe.length&&(K=new ee(K,se,null,a,J),Q.push({event:K,listeners:oe}))}}if((n&7)===0){e:{if(K=e==="mouseover"||e==="pointerover",ee=e==="mouseout"||e==="pointerout",K&&a!==ho&&(se=a.relatedTarget||a.fromElement)&&(ri(se)||se[Me]))break e;if((ee||K)&&(K=J.window===J?J:(K=J.ownerDocument)?K.defaultView||K.parentWindow:window,ee?(se=a.relatedTarget||a.toElement,ee=j,se=se?ri(se):null,se!==null&&(it=On(se),se!==it||se.tag!==5&&se.tag!==6)&&(se=null)):(ee=null,se=j),ee!==se)){if(oe=Eo,Y="onMouseLeave",I="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(oe=Wa,Y="onPointerLeave",I="onPointerEnter",O="pointer"),it=ee==null?K:oi(ee),M=se==null?K:oi(se),K=new oe(Y,O+"leave",ee,a,J),K.target=it,K.relatedTarget=M,Y=null,ri(J)===j&&(oe=new oe(I,O+"enter",se,a,J),oe.target=M,oe.relatedTarget=it,Y=oe),it=Y,ee&&se)t:{for(oe=ee,I=se,O=0,M=oe;M;M=f(M))O++;for(M=0,Y=I;Y;Y=f(Y))M++;for(;0<O-M;)oe=f(oe),O--;for(;0<M-O;)I=f(I),M--;for(;O--;){if(oe===I||I!==null&&oe===I.alternate)break t;oe=f(oe),I=f(I)}oe=null}else oe=null;ee!==null&&g(Q,K,ee,oe,!1),se!==null&&it!==null&&g(Q,it,se,oe,!0)}}e:{if(K=j?oi(j):window,ee=K.nodeName&&K.nodeName.toLowerCase(),ee==="select"||ee==="input"&&K.type==="file")var ue=Ru;else if(Va(K))if(on)ue=Mo;else{ue=Di;var me=Ss}else(ee=K.nodeName)&&ee.toLowerCase()==="input"&&(K.type==="checkbox"||K.type==="radio")&&(ue=ks);if(ue&&(ue=ue(e,j))){vs(Q,ue,a,J);break e}me&&me(e,K,j),e==="focusout"&&(me=K._wrapperState)&&me.controlled&&K.type==="number"&&ao(K,"number",K.value)}switch(me=j?oi(j):window,e){case"focusin":(Va(me)||me.contentEditable==="true")&&(Bi=me,Fi=j,Er=null);break;case"focusout":Er=Fi=Bi=null;break;case"mousedown":Ts=!0;break;case"contextmenu":case"mouseup":case"dragend":Ts=!1,Ya(Q,a,J);break;case"selectionchange":if(Ps)break;case"keydown":case"keyup":Ya(Q,a,J)}var _e;if(In)e:{switch(e){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else wn?zi(e,a)&&(ye="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ye="onCompositionStart");ye&&(Ha&&a.locale!=="ko"&&(wn||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&wn&&(_e=Po()):(Rn=J,Rt="value"in Rn?Rn.value:Rn.textContent,wn=!0)),me=c(j,ye),0<me.length&&(ye=new Oo(ye,e,null,a,J),Q.push({event:ye,listeners:me}),_e?ye.data=_e:(_e=Io(a),_e!==null&&(ye.data=_e)))),(_e=yn?Cu(e,a):Mn(e,a))&&(j=c(j,"onBeforeInput"),0<j.length&&(J=new Oo("onBeforeInput","beforeinput",null,a,J),Q.push({event:J,listeners:j}),J.data=_e))}$o(Q,n)})}function o(e,n,a){return{instance:e,listener:n,currentTarget:a}}function c(e,n){for(var a=n+"Capture",h=[];e!==null;){var p=e,_=p.stateNode;p.tag===5&&_!==null&&(p=_,_=fr(e,a),_!=null&&h.unshift(o(e,_,p)),_=fr(e,n),_!=null&&h.push(o(e,_,p))),e=e.return}return h}function f(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function g(e,n,a,h,p){for(var _=n._reactName,x=[];a!==null&&a!==h;){var T=a,E=T.alternate,j=T.stateNode;if(E!==null&&E===h)break;T.tag===5&&j!==null&&(T=j,p?(E=fr(a,_),E!=null&&x.unshift(o(a,E,T))):p||(E=fr(a,_),E!=null&&x.push(o(a,E,T)))),a=a.return}x.length!==0&&e.push({event:n,listeners:x})}var S=/\r\n?/g,b=/\u0000|\uFFFD/g;function A(e){return(typeof e=="string"?e:""+e).replace(S,`
`).replace(b,"")}function z(e,n,a){if(n=A(n),A(e)!==n&&a)throw Error(s(425))}function H(){}var X=null,fe=null;function Pe(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ct=typeof setTimeout=="function"?setTimeout:void 0,st=typeof clearTimeout=="function"?clearTimeout:void 0,It=typeof Promise=="function"?Promise:void 0,Tt=typeof queueMicrotask=="function"?queueMicrotask:typeof It<"u"?function(e){return It.resolve(null).then(e).catch(qi)}:ct;function qi(e){setTimeout(function(){throw e})}function Wo(e,n){var a=n,h=0;do{var p=a.nextSibling;if(e.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"){if(h===0){e.removeChild(p),Vt(n);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=p}while(a);Vt(n)}function Dn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function rl(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}var ii=Math.random().toString(36).slice(2),un="__reactFiber$"+ii,Hi="__reactProps$"+ii,Me="__reactContainer$"+ii,Gi="__reactEvents$"+ii,Iu="__reactListeners$"+ii,Mu="__reactHandles$"+ii;function ri(e){var n=e[un];if(n)return n;for(var a=e.parentNode;a;){if(n=a[Me]||a[un]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=rl(e);e!==null;){if(a=e[un])return a;e=rl(e)}return n}e=a,a=e.parentNode}return null}function si(e){return e=e[un]||e[Me],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function oi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function Es(e){return e[Hi]||null}var Nu=[],Ls=-1;function Vi(e){return{current:e}}function qe(e){0>Ls||(e.current=Nu[Ls],Nu[Ls]=null,Ls--)}function Ue(e,n){Ls++,Nu[Ls]=e.current,e.current=n}var Ki={},bt=Vi(Ki),Bt=Vi(!1),Or=Ki;function Cs(e,n){var a=e.type.contextTypes;if(!a)return Ki;var h=e.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===n)return h.__reactInternalMemoizedMaskedChildContext;var p={},_;for(_ in a)p[_]=n[_];return h&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=p),p}function Ft(e){return e=e.childContextTypes,e!=null}function sl(){qe(Bt),qe(bt)}function zh(e,n,a){if(bt.current!==Ki)throw Error(s(168));Ue(bt,n),Ue(Bt,a)}function jh(e,n,a){var h=e.stateNode;if(n=n.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var p in h)if(!(p in n))throw Error(s(108,Oe(e)||"Unknown",p));return q({},a,h)}function ol(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ki,Or=bt.current,Ue(bt,e),Ue(Bt,Bt.current),!0}function Dh(e,n,a){var h=e.stateNode;if(!h)throw Error(s(169));a?(e=jh(e,n,Or),h.__reactInternalMemoizedMergedChildContext=e,qe(Bt),qe(bt),Ue(bt,e)):qe(Bt),Ue(Bt,a)}var ai=null,al=!1,zu=!1;function Bh(e){ai===null?ai=[e]:ai.push(e)}function Xp(e){al=!0,Bh(e)}function Ji(){if(!zu&&ai!==null){zu=!0;var e=0,n=Re;try{var a=ai;for(Re=1;e<a.length;e++){var h=a[e];do h=h(!0);while(h!==null)}ai=null,al=!1}catch(p){throw ai!==null&&(ai=ai.slice(e+1)),Ma(yo,Ji),p}finally{Re=n,zu=!1}}return null}var Os=[],Rs=0,ll=null,ul=0,cn=[],hn=0,Rr=null,li=1,ui="";function Ar(e,n){Os[Rs++]=ul,Os[Rs++]=ll,ll=e,ul=n}function Fh(e,n,a){cn[hn++]=li,cn[hn++]=ui,cn[hn++]=Rr,Rr=e;var h=li;e=ui;var p=32-ke(h)-1;h&=~(1<<p),a+=1;var _=32-ke(n)+p;if(30<_){var x=p-p%5;_=(h&(1<<x)-1).toString(32),h>>=x,p-=x,li=1<<32-ke(n)+p|a<<p|h,ui=_+e}else li=1<<_|a<<p|h,ui=e}function ju(e){e.return!==null&&(Ar(e,1),Fh(e,1,0))}function Du(e){for(;e===ll;)ll=Os[--Rs],Os[Rs]=null,ul=Os[--Rs],Os[Rs]=null;for(;e===Rr;)Rr=cn[--hn],cn[hn]=null,ui=cn[--hn],cn[hn]=null,li=cn[--hn],cn[hn]=null}var Xt=null,en=null,Ge=!1,Sn=null;function Uh(e,n){var a=mn(5,null,null,0);a.elementType="DELETED",a.stateNode=n,a.return=e,n=e.deletions,n===null?(e.deletions=[a],e.flags|=16):n.push(a)}function $h(e,n){switch(e.tag){case 5:var a=e.type;return n=n.nodeType!==1||a.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Xt=e,en=Dn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Xt=e,en=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(a=Rr!==null?{id:li,overflow:ui}:null,e.memoizedState={dehydrated:n,treeContext:a,retryLane:1073741824},a=mn(18,null,null,0),a.stateNode=n,a.return=e,e.child=a,Xt=e,en=null,!0):!1;default:return!1}}function Bu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Fu(e){if(Ge){var n=en;if(n){var a=n;if(!$h(e,n)){if(Bu(e))throw Error(s(418));n=Dn(a.nextSibling);var h=Xt;n&&$h(e,n)?Uh(h,a):(e.flags=e.flags&-4097|2,Ge=!1,Xt=e)}}else{if(Bu(e))throw Error(s(418));e.flags=e.flags&-4097|2,Ge=!1,Xt=e}}}function Zh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xt=e}function cl(e){if(e!==Xt)return!1;if(!Ge)return Zh(e),Ge=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Pe(e.type,e.memoizedProps)),n&&(n=en)){if(Bu(e))throw Wh(),Error(s(418));for(;n;)Uh(e,n),n=Dn(n.nextSibling)}if(Zh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"){if(n===0){en=Dn(e.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++}e=e.nextSibling}en=null}}else en=Xt?Dn(e.stateNode.nextSibling):null;return!0}function Wh(){for(var e=en;e;)e=Dn(e.nextSibling)}function As(){en=Xt=null,Ge=!1}function Uu(e){Sn===null?Sn=[e]:Sn.push(e)}var em=re.ReactCurrentBatchConfig;function qo(e,n,a){if(e=a.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(s(309));var h=a.stateNode}if(!h)throw Error(s(147,e));var p=h,_=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===_?n.ref:(n=function(x){var T=p.refs;x===null?delete T[_]:T[_]=x},n._stringRef=_,n)}if(typeof e!="string")throw Error(s(284));if(!a._owner)throw Error(s(290,e))}return e}function hl(e,n){throw e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function qh(e){var n=e._init;return n(e._payload)}function Hh(e){function n(I,O){if(e){var M=I.deletions;M===null?(I.deletions=[O],I.flags|=16):M.push(O)}}function a(I,O){if(!e)return null;for(;O!==null;)n(I,O),O=O.sibling;return null}function h(I,O){for(I=new Map;O!==null;)O.key!==null?I.set(O.key,O):I.set(O.index,O),O=O.sibling;return I}function p(I,O){return I=rr(I,O),I.index=0,I.sibling=null,I}function _(I,O,M){return I.index=M,e?(M=I.alternate,M!==null?(M=M.index,M<O?(I.flags|=2,O):M):(I.flags|=2,O)):(I.flags|=1048576,O)}function x(I){return e&&I.alternate===null&&(I.flags|=2),I}function T(I,O,M,Y){return O===null||O.tag!==6?(O=Ac(M,I.mode,Y),O.return=I,O):(O=p(O,M),O.return=I,O)}function E(I,O,M,Y){var ue=M.type;return ue===Se?J(I,O,M.props.children,Y,M.key):O!==null&&(O.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===Ne&&qh(ue)===O.type)?(Y=p(O,M.props),Y.ref=qo(I,O,M),Y.return=I,Y):(Y=Nl(M.type,M.key,M.props,null,I.mode,Y),Y.ref=qo(I,O,M),Y.return=I,Y)}function j(I,O,M,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==M.containerInfo||O.stateNode.implementation!==M.implementation?(O=Ic(M,I.mode,Y),O.return=I,O):(O=p(O,M.children||[]),O.return=I,O)}function J(I,O,M,Y,ue){return O===null||O.tag!==7?(O=Fr(M,I.mode,Y,ue),O.return=I,O):(O=p(O,M),O.return=I,O)}function Q(I,O,M){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Ac(""+O,I.mode,M),O.return=I,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case xe:return M=Nl(O.type,O.key,O.props,null,I.mode,M),M.ref=qo(I,null,O),M.return=I,M;case ge:return O=Ic(O,I.mode,M),O.return=I,O;case Ne:var Y=O._init;return Q(I,Y(O._payload),M)}if(Pi(O)||pe(O))return O=Fr(O,I.mode,M,null),O.return=I,O;hl(I,O)}return null}function K(I,O,M,Y){var ue=O!==null?O.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return ue!==null?null:T(I,O,""+M,Y);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case xe:return M.key===ue?E(I,O,M,Y):null;case ge:return M.key===ue?j(I,O,M,Y):null;case Ne:return ue=M._init,K(I,O,ue(M._payload),Y)}if(Pi(M)||pe(M))return ue!==null?null:J(I,O,M,Y,null);hl(I,M)}return null}function ee(I,O,M,Y,ue){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return I=I.get(M)||null,T(O,I,""+Y,ue);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case xe:return I=I.get(Y.key===null?M:Y.key)||null,E(O,I,Y,ue);case ge:return I=I.get(Y.key===null?M:Y.key)||null,j(O,I,Y,ue);case Ne:var me=Y._init;return ee(I,O,M,me(Y._payload),ue)}if(Pi(Y)||pe(Y))return I=I.get(M)||null,J(O,I,Y,ue,null);hl(O,Y)}return null}function se(I,O,M,Y){for(var ue=null,me=null,_e=O,ye=O=0,gt=null;_e!==null&&ye<M.length;ye++){_e.index>ye?(gt=_e,_e=null):gt=_e.sibling;var Ie=K(I,_e,M[ye],Y);if(Ie===null){_e===null&&(_e=gt);break}e&&_e&&Ie.alternate===null&&n(I,_e),O=_(Ie,O,ye),me===null?ue=Ie:me.sibling=Ie,me=Ie,_e=gt}if(ye===M.length)return a(I,_e),Ge&&Ar(I,ye),ue;if(_e===null){for(;ye<M.length;ye++)_e=Q(I,M[ye],Y),_e!==null&&(O=_(_e,O,ye),me===null?ue=_e:me.sibling=_e,me=_e);return Ge&&Ar(I,ye),ue}for(_e=h(I,_e);ye<M.length;ye++)gt=ee(_e,I,ye,M[ye],Y),gt!==null&&(e&&gt.alternate!==null&&_e.delete(gt.key===null?ye:gt.key),O=_(gt,O,ye),me===null?ue=gt:me.sibling=gt,me=gt);return e&&_e.forEach(function(sr){return n(I,sr)}),Ge&&Ar(I,ye),ue}function oe(I,O,M,Y){var ue=pe(M);if(typeof ue!="function")throw Error(s(150));if(M=ue.call(M),M==null)throw Error(s(151));for(var me=ue=null,_e=O,ye=O=0,gt=null,Ie=M.next();_e!==null&&!Ie.done;ye++,Ie=M.next()){_e.index>ye?(gt=_e,_e=null):gt=_e.sibling;var sr=K(I,_e,Ie.value,Y);if(sr===null){_e===null&&(_e=gt);break}e&&_e&&sr.alternate===null&&n(I,_e),O=_(sr,O,ye),me===null?ue=sr:me.sibling=sr,me=sr,_e=gt}if(Ie.done)return a(I,_e),Ge&&Ar(I,ye),ue;if(_e===null){for(;!Ie.done;ye++,Ie=M.next())Ie=Q(I,Ie.value,Y),Ie!==null&&(O=_(Ie,O,ye),me===null?ue=Ie:me.sibling=Ie,me=Ie);return Ge&&Ar(I,ye),ue}for(_e=h(I,_e);!Ie.done;ye++,Ie=M.next())Ie=ee(_e,I,ye,Ie.value,Y),Ie!==null&&(e&&Ie.alternate!==null&&_e.delete(Ie.key===null?ye:Ie.key),O=_(Ie,O,ye),me===null?ue=Ie:me.sibling=Ie,me=Ie);return e&&_e.forEach(function(Im){return n(I,Im)}),Ge&&Ar(I,ye),ue}function it(I,O,M,Y){if(typeof M=="object"&&M!==null&&M.type===Se&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case xe:e:{for(var ue=M.key,me=O;me!==null;){if(me.key===ue){if(ue=M.type,ue===Se){if(me.tag===7){a(I,me.sibling),O=p(me,M.props.children),O.return=I,I=O;break e}}else if(me.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===Ne&&qh(ue)===me.type){a(I,me.sibling),O=p(me,M.props),O.ref=qo(I,me,M),O.return=I,I=O;break e}a(I,me);break}else n(I,me);me=me.sibling}M.type===Se?(O=Fr(M.props.children,I.mode,Y,M.key),O.return=I,I=O):(Y=Nl(M.type,M.key,M.props,null,I.mode,Y),Y.ref=qo(I,O,M),Y.return=I,I=Y)}return x(I);case ge:e:{for(me=M.key;O!==null;){if(O.key===me)if(O.tag===4&&O.stateNode.containerInfo===M.containerInfo&&O.stateNode.implementation===M.implementation){a(I,O.sibling),O=p(O,M.children||[]),O.return=I,I=O;break e}else{a(I,O);break}else n(I,O);O=O.sibling}O=Ic(M,I.mode,Y),O.return=I,I=O}return x(I);case Ne:return me=M._init,it(I,O,me(M._payload),Y)}if(Pi(M))return se(I,O,M,Y);if(pe(M))return oe(I,O,M,Y);hl(I,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,O!==null&&O.tag===6?(a(I,O.sibling),O=p(O,M),O.return=I,I=O):(a(I,O),O=Ac(M,I.mode,Y),O.return=I,I=O),x(I)):a(I,O)}return it}var Is=Hh(!0),Gh=Hh(!1),dl=Vi(null),fl=null,Ms=null,$u=null;function Zu(){$u=Ms=fl=null}function Wu(e){var n=dl.current;qe(dl),e._currentValue=n}function qu(e,n,a){for(;e!==null;){var h=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,h!==null&&(h.childLanes|=n)):h!==null&&(h.childLanes&n)!==n&&(h.childLanes|=n),e===a)break;e=e.return}}function Ns(e,n){fl=e,$u=Ms=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(Ut=!0),e.firstContext=null)}function dn(e){var n=e._currentValue;if($u!==e)if(e={context:e,memoizedValue:n,next:null},Ms===null){if(fl===null)throw Error(s(308));Ms=e,fl.dependencies={lanes:0,firstContext:e}}else Ms=Ms.next=e;return n}var Ir=null;function Hu(e){Ir===null?Ir=[e]:Ir.push(e)}function Vh(e,n,a,h){var p=n.interleaved;return p===null?(a.next=a,Hu(n)):(a.next=p.next,p.next=a),n.interleaved=a,ci(e,h)}function ci(e,n){e.lanes|=n;var a=e.alternate;for(a!==null&&(a.lanes|=n),a=e,e=e.return;e!==null;)e.childLanes|=n,a=e.alternate,a!==null&&(a.childLanes|=n),a=e,e=e.return;return a.tag===3?a.stateNode:null}var Qi=!1;function Gu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function hi(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Yi(e,n,a){var h=e.updateQueue;if(h===null)return null;if(h=h.shared,(Ae&2)!==0){var p=h.pending;return p===null?n.next=n:(n.next=p.next,p.next=n),h.pending=n,ci(e,a)}return p=h.interleaved,p===null?(n.next=n,Hu(h)):(n.next=p.next,p.next=n),h.interleaved=n,ci(e,a)}function pl(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194240)!==0)){var h=n.lanes;h&=e.pendingLanes,a|=h,n.lanes=a,gn(e,a)}}function Jh(e,n){var a=e.updateQueue,h=e.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var p=null,_=null;if(a=a.firstBaseUpdate,a!==null){do{var x={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};_===null?p=_=x:_=_.next=x,a=a.next}while(a!==null);_===null?p=_=n:_=_.next=n}else p=_=n;a={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:_,shared:h.shared,effects:h.effects},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}function ml(e,n,a,h){var p=e.updateQueue;Qi=!1;var _=p.firstBaseUpdate,x=p.lastBaseUpdate,T=p.shared.pending;if(T!==null){p.shared.pending=null;var E=T,j=E.next;E.next=null,x===null?_=j:x.next=j,x=E;var J=e.alternate;J!==null&&(J=J.updateQueue,T=J.lastBaseUpdate,T!==x&&(T===null?J.firstBaseUpdate=j:T.next=j,J.lastBaseUpdate=E))}if(_!==null){var Q=p.baseState;x=0,J=j=E=null,T=_;do{var K=T.lane,ee=T.eventTime;if((h&K)===K){J!==null&&(J=J.next={eventTime:ee,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var se=e,oe=T;switch(K=n,ee=a,oe.tag){case 1:if(se=oe.payload,typeof se=="function"){Q=se.call(ee,Q,K);break e}Q=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=oe.payload,K=typeof se=="function"?se.call(ee,Q,K):se,K==null)break e;Q=q({},Q,K);break e;case 2:Qi=!0}}T.callback!==null&&T.lane!==0&&(e.flags|=64,K=p.effects,K===null?p.effects=[T]:K.push(T))}else ee={eventTime:ee,lane:K,tag:T.tag,payload:T.payload,callback:T.callback,next:null},J===null?(j=J=ee,E=Q):J=J.next=ee,x|=K;if(T=T.next,T===null){if(T=p.shared.pending,T===null)break;K=T,T=K.next,K.next=null,p.lastBaseUpdate=K,p.shared.pending=null}}while(!0);if(J===null&&(E=Q),p.baseState=E,p.firstBaseUpdate=j,p.lastBaseUpdate=J,n=p.shared.interleaved,n!==null){p=n;do x|=p.lane,p=p.next;while(p!==n)}else _===null&&(p.shared.lanes=0);zr|=x,e.lanes=x,e.memoizedState=Q}}function Qh(e,n,a){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var h=e[n],p=h.callback;if(p!==null){if(h.callback=null,h=a,typeof p!="function")throw Error(s(191,p));p.call(h)}}}var Ho={},Bn=Vi(Ho),Go=Vi(Ho),Vo=Vi(Ho);function Mr(e){if(e===Ho)throw Error(s(174));return e}function Vu(e,n){switch(Ue(Vo,n),Ue(Go,e),Ue(Bn,Ho),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Yr(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Yr(n,e)}qe(Bn),Ue(Bn,n)}function zs(){qe(Bn),qe(Go),qe(Vo)}function Yh(e){Mr(Vo.current);var n=Mr(Bn.current),a=Yr(n,e.type);n!==a&&(Ue(Go,e),Ue(Bn,a))}function Ku(e){Go.current===e&&(qe(Bn),qe(Go))}var Qe=Vi(0);function _l(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ju=[];function Qu(){for(var e=0;e<Ju.length;e++)Ju[e]._workInProgressVersionPrimary=null;Ju.length=0}var gl=re.ReactCurrentDispatcher,Yu=re.ReactCurrentBatchConfig,Nr=0,Ye=null,ht=null,mt=null,vl=!1,Ko=!1,Jo=0,tm=0;function Et(){throw Error(s(321))}function Xu(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!Qt(e[a],n[a]))return!1;return!0}function ec(e,n,a,h,p,_){if(Nr=_,Ye=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,gl.current=e===null||e.memoizedState===null?sm:om,e=a(h,p),Ko){_=0;do{if(Ko=!1,Jo=0,25<=_)throw Error(s(301));_+=1,mt=ht=null,n.updateQueue=null,gl.current=am,e=a(h,p)}while(Ko)}if(gl.current=xl,n=ht!==null&&ht.next!==null,Nr=0,mt=ht=Ye=null,vl=!1,n)throw Error(s(300));return e}function tc(){var e=Jo!==0;return Jo=0,e}function Fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Ye.memoizedState=mt=e:mt=mt.next=e,mt}function fn(){if(ht===null){var e=Ye.alternate;e=e!==null?e.memoizedState:null}else e=ht.next;var n=mt===null?Ye.memoizedState:mt.next;if(n!==null)mt=n,ht=e;else{if(e===null)throw Error(s(310));ht=e,e={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},mt===null?Ye.memoizedState=mt=e:mt=mt.next=e}return mt}function Qo(e,n){return typeof n=="function"?n(e):n}function nc(e){var n=fn(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var h=ht,p=h.baseQueue,_=a.pending;if(_!==null){if(p!==null){var x=p.next;p.next=_.next,_.next=x}h.baseQueue=p=_,a.pending=null}if(p!==null){_=p.next,h=h.baseState;var T=x=null,E=null,j=_;do{var J=j.lane;if((Nr&J)===J)E!==null&&(E=E.next={lane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),h=j.hasEagerState?j.eagerState:e(h,j.action);else{var Q={lane:J,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null};E===null?(T=E=Q,x=h):E=E.next=Q,Ye.lanes|=J,zr|=J}j=j.next}while(j!==null&&j!==_);E===null?x=h:E.next=T,Qt(h,n.memoizedState)||(Ut=!0),n.memoizedState=h,n.baseState=x,n.baseQueue=E,a.lastRenderedState=h}if(e=a.interleaved,e!==null){p=e;do _=p.lane,Ye.lanes|=_,zr|=_,p=p.next;while(p!==e)}else p===null&&(a.lanes=0);return[n.memoizedState,a.dispatch]}function ic(e){var n=fn(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var h=a.dispatch,p=a.pending,_=n.memoizedState;if(p!==null){a.pending=null;var x=p=p.next;do _=e(_,x.action),x=x.next;while(x!==p);Qt(_,n.memoizedState)||(Ut=!0),n.memoizedState=_,n.baseQueue===null&&(n.baseState=_),a.lastRenderedState=_}return[_,h]}function Xh(){}function ed(e,n){var a=Ye,h=fn(),p=n(),_=!Qt(h.memoizedState,p);if(_&&(h.memoizedState=p,Ut=!0),h=h.queue,rc(id.bind(null,a,h,e),[e]),h.getSnapshot!==n||_||mt!==null&&mt.memoizedState.tag&1){if(a.flags|=2048,Yo(9,nd.bind(null,a,h,p,n),void 0,null),_t===null)throw Error(s(349));(Nr&30)!==0||td(a,n,p)}return p}function td(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Ye.updateQueue,n===null?(n={lastEffect:null,stores:null},Ye.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function nd(e,n,a,h){n.value=a,n.getSnapshot=h,rd(n)&&sd(e)}function id(e,n,a){return a(function(){rd(n)&&sd(e)})}function rd(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!Qt(e,a)}catch{return!0}}function sd(e){var n=ci(e,1);n!==null&&bn(n,e,1,-1)}function od(e){var n=Fn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qo,lastRenderedState:e},n.queue=e,e=e.dispatch=rm.bind(null,Ye,e),[n.memoizedState,e]}function Yo(e,n,a,h){return e={tag:e,create:n,destroy:a,deps:h,next:null},n=Ye.updateQueue,n===null?(n={lastEffect:null,stores:null},Ye.updateQueue=n,n.lastEffect=e.next=e):(a=n.lastEffect,a===null?n.lastEffect=e.next=e:(h=a.next,a.next=e,e.next=h,n.lastEffect=e)),e}function ad(){return fn().memoizedState}function yl(e,n,a,h){var p=Fn();Ye.flags|=e,p.memoizedState=Yo(1|n,a,void 0,h===void 0?null:h)}function wl(e,n,a,h){var p=fn();h=h===void 0?null:h;var _=void 0;if(ht!==null){var x=ht.memoizedState;if(_=x.destroy,h!==null&&Xu(h,x.deps)){p.memoizedState=Yo(n,a,_,h);return}}Ye.flags|=e,p.memoizedState=Yo(1|n,a,_,h)}function ld(e,n){return yl(8390656,8,e,n)}function rc(e,n){return wl(2048,8,e,n)}function ud(e,n){return wl(4,2,e,n)}function cd(e,n){return wl(4,4,e,n)}function hd(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function dd(e,n,a){return a=a!=null?a.concat([e]):null,wl(4,4,hd.bind(null,n,e),a)}function sc(){}function fd(e,n){var a=fn();n=n===void 0?null:n;var h=a.memoizedState;return h!==null&&n!==null&&Xu(n,h[1])?h[0]:(a.memoizedState=[e,n],e)}function pd(e,n){var a=fn();n=n===void 0?null:n;var h=a.memoizedState;return h!==null&&n!==null&&Xu(n,h[1])?h[0]:(e=e(),a.memoizedState=[e,n],e)}function md(e,n,a){return(Nr&21)===0?(e.baseState&&(e.baseState=!1,Ut=!0),e.memoizedState=a):(Qt(a,n)||(a=za(),Ye.lanes|=a,zr|=a,e.baseState=!0),n)}function nm(e,n){var a=Re;Re=a!==0&&4>a?a:4,e(!0);var h=Yu.transition;Yu.transition={};try{e(!1),n()}finally{Re=a,Yu.transition=h}}function _d(){return fn().memoizedState}function im(e,n,a){var h=nr(e);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},gd(e))vd(n,a);else if(a=Vh(e,n,a,h),a!==null){var p=Nt();bn(a,e,h,p),yd(a,n,h)}}function rm(e,n,a){var h=nr(e),p={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(gd(e))vd(n,p);else{var _=e.alternate;if(e.lanes===0&&(_===null||_.lanes===0)&&(_=n.lastRenderedReducer,_!==null))try{var x=n.lastRenderedState,T=_(x,a);if(p.hasEagerState=!0,p.eagerState=T,Qt(T,x)){var E=n.interleaved;E===null?(p.next=p,Hu(n)):(p.next=E.next,E.next=p),n.interleaved=p;return}}catch{}finally{}a=Vh(e,n,p,h),a!==null&&(p=Nt(),bn(a,e,h,p),yd(a,n,h))}}function gd(e){var n=e.alternate;return e===Ye||n!==null&&n===Ye}function vd(e,n){Ko=vl=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function yd(e,n,a){if((a&4194240)!==0){var h=n.lanes;h&=e.pendingLanes,a|=h,n.lanes=a,gn(e,a)}}var xl={readContext:dn,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},sm={readContext:dn,useCallback:function(e,n){return Fn().memoizedState=[e,n===void 0?null:n],e},useContext:dn,useEffect:ld,useImperativeHandle:function(e,n,a){return a=a!=null?a.concat([e]):null,yl(4194308,4,hd.bind(null,n,e),a)},useLayoutEffect:function(e,n){return yl(4194308,4,e,n)},useInsertionEffect:function(e,n){return yl(4,2,e,n)},useMemo:function(e,n){var a=Fn();return n=n===void 0?null:n,e=e(),a.memoizedState=[e,n],e},useReducer:function(e,n,a){var h=Fn();return n=a!==void 0?a(n):n,h.memoizedState=h.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},h.queue=e,e=e.dispatch=im.bind(null,Ye,e),[h.memoizedState,e]},useRef:function(e){var n=Fn();return e={current:e},n.memoizedState=e},useState:od,useDebugValue:sc,useDeferredValue:function(e){return Fn().memoizedState=e},useTransition:function(){var e=od(!1),n=e[0];return e=nm.bind(null,e[1]),Fn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,a){var h=Ye,p=Fn();if(Ge){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),_t===null)throw Error(s(349));(Nr&30)!==0||td(h,n,a)}p.memoizedState=a;var _={value:a,getSnapshot:n};return p.queue=_,ld(id.bind(null,h,_,e),[e]),h.flags|=2048,Yo(9,nd.bind(null,h,_,a,n),void 0,null),a},useId:function(){var e=Fn(),n=_t.identifierPrefix;if(Ge){var a=ui,h=li;a=(h&~(1<<32-ke(h)-1)).toString(32)+a,n=":"+n+"R"+a,a=Jo++,0<a&&(n+="H"+a.toString(32)),n+=":"}else a=tm++,n=":"+n+"r"+a.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},om={readContext:dn,useCallback:fd,useContext:dn,useEffect:rc,useImperativeHandle:dd,useInsertionEffect:ud,useLayoutEffect:cd,useMemo:pd,useReducer:nc,useRef:ad,useState:function(){return nc(Qo)},useDebugValue:sc,useDeferredValue:function(e){var n=fn();return md(n,ht.memoizedState,e)},useTransition:function(){var e=nc(Qo)[0],n=fn().memoizedState;return[e,n]},useMutableSource:Xh,useSyncExternalStore:ed,useId:_d,unstable_isNewReconciler:!1},am={readContext:dn,useCallback:fd,useContext:dn,useEffect:rc,useImperativeHandle:dd,useInsertionEffect:ud,useLayoutEffect:cd,useMemo:pd,useReducer:ic,useRef:ad,useState:function(){return ic(Qo)},useDebugValue:sc,useDeferredValue:function(e){var n=fn();return ht===null?n.memoizedState=e:md(n,ht.memoizedState,e)},useTransition:function(){var e=ic(Qo)[0],n=fn().memoizedState;return[e,n]},useMutableSource:Xh,useSyncExternalStore:ed,useId:_d,unstable_isNewReconciler:!1};function kn(e,n){if(e&&e.defaultProps){n=q({},n),e=e.defaultProps;for(var a in e)n[a]===void 0&&(n[a]=e[a]);return n}return n}function oc(e,n,a,h){n=e.memoizedState,a=a(h,n),a=a==null?n:q({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Sl={isMounted:function(e){return(e=e._reactInternals)?On(e)===e:!1},enqueueSetState:function(e,n,a){e=e._reactInternals;var h=Nt(),p=nr(e),_=hi(h,p);_.payload=n,a!=null&&(_.callback=a),n=Yi(e,_,p),n!==null&&(bn(n,e,p,h),pl(n,e,p))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var h=Nt(),p=nr(e),_=hi(h,p);_.tag=1,_.payload=n,a!=null&&(_.callback=a),n=Yi(e,_,p),n!==null&&(bn(n,e,p,h),pl(n,e,p))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Nt(),h=nr(e),p=hi(a,h);p.tag=2,n!=null&&(p.callback=n),n=Yi(e,p,h),n!==null&&(bn(n,e,h,a),pl(n,e,h))}};function wd(e,n,a,h,p,_,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(h,_,x):n.prototype&&n.prototype.isPureReactComponent?!Nn(a,h)||!Nn(p,_):!0}function xd(e,n,a){var h=!1,p=Ki,_=n.contextType;return typeof _=="object"&&_!==null?_=dn(_):(p=Ft(n)?Or:bt.current,h=n.contextTypes,_=(h=h!=null)?Cs(e,p):Ki),n=new n(a,_),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Sl,e.stateNode=n,n._reactInternals=e,h&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=p,e.__reactInternalMemoizedMaskedChildContext=_),n}function Sd(e,n,a,h){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,h),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,h),n.state!==e&&Sl.enqueueReplaceState(n,n.state,null)}function ac(e,n,a,h){var p=e.stateNode;p.props=a,p.state=e.memoizedState,p.refs={},Gu(e);var _=n.contextType;typeof _=="object"&&_!==null?p.context=dn(_):(_=Ft(n)?Or:bt.current,p.context=Cs(e,_)),p.state=e.memoizedState,_=n.getDerivedStateFromProps,typeof _=="function"&&(oc(e,n,_,a),p.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(n=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),n!==p.state&&Sl.enqueueReplaceState(p,p.state,null),ml(e,a,p,h),p.state=e.memoizedState),typeof p.componentDidMount=="function"&&(e.flags|=4194308)}function js(e,n){try{var a="",h=n;do a+=ae(h),h=h.return;while(h);var p=a}catch(_){p=`
Error generating stack: `+_.message+`
`+_.stack}return{value:e,source:n,stack:p,digest:null}}function lc(e,n,a){return{value:e,source:null,stack:a??null,digest:n??null}}function uc(e,n){try{console.error(n.value)}catch(a){setTimeout(function(){throw a})}}var lm=typeof WeakMap=="function"?WeakMap:Map;function kd(e,n,a){a=hi(-1,a),a.tag=3,a.payload={element:null};var h=n.value;return a.callback=function(){Cl||(Cl=!0,Pc=h),uc(e,n)},a}function Pd(e,n,a){a=hi(-1,a),a.tag=3;var h=e.type.getDerivedStateFromError;if(typeof h=="function"){var p=n.value;a.payload=function(){return h(p)},a.callback=function(){uc(e,n)}}var _=e.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(a.callback=function(){uc(e,n),typeof h!="function"&&(er===null?er=new Set([this]):er.add(this));var x=n.stack;this.componentDidCatch(n.value,{componentStack:x!==null?x:""})}),a}function Td(e,n,a){var h=e.pingCache;if(h===null){h=e.pingCache=new lm;var p=new Set;h.set(n,p)}else p=h.get(n),p===void 0&&(p=new Set,h.set(n,p));p.has(a)||(p.add(a),e=Sm.bind(null,e,n,a),n.then(e,e))}function bd(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Ed(e,n,a,h,p){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(n=hi(-1,1),n.tag=2,Yi(a,n,1))),a.lanes|=1),e):(e.flags|=65536,e.lanes=p,e)}var um=re.ReactCurrentOwner,Ut=!1;function Mt(e,n,a,h){n.child=e===null?Gh(n,null,a,h):Is(n,e.child,a,h)}function Ld(e,n,a,h,p){a=a.render;var _=n.ref;return Ns(n,p),h=ec(e,n,a,h,_,p),a=tc(),e!==null&&!Ut?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~p,di(e,n,p)):(Ge&&a&&ju(n),n.flags|=1,Mt(e,n,h,p),n.child)}function Cd(e,n,a,h,p){if(e===null){var _=a.type;return typeof _=="function"&&!Rc(_)&&_.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(n.tag=15,n.type=_,Od(e,n,_,h,p)):(e=Nl(a.type,null,h,n,n.mode,p),e.ref=n.ref,e.return=n,n.child=e)}if(_=e.child,(e.lanes&p)===0){var x=_.memoizedProps;if(a=a.compare,a=a!==null?a:Nn,a(x,h)&&e.ref===n.ref)return di(e,n,p)}return n.flags|=1,e=rr(_,h),e.ref=n.ref,e.return=n,n.child=e}function Od(e,n,a,h,p){if(e!==null){var _=e.memoizedProps;if(Nn(_,h)&&e.ref===n.ref)if(Ut=!1,n.pendingProps=h=_,(e.lanes&p)!==0)(e.flags&131072)!==0&&(Ut=!0);else return n.lanes=e.lanes,di(e,n,p)}return cc(e,n,a,h,p)}function Rd(e,n,a){var h=n.pendingProps,p=h.children,_=e!==null?e.memoizedState:null;if(h.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(Bs,tn),tn|=a;else{if((a&1073741824)===0)return e=_!==null?_.baseLanes|a:a,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Ue(Bs,tn),tn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=_!==null?_.baseLanes:a,Ue(Bs,tn),tn|=h}else _!==null?(h=_.baseLanes|a,n.memoizedState=null):h=a,Ue(Bs,tn),tn|=h;return Mt(e,n,p,a),n.child}function Ad(e,n){var a=n.ref;(e===null&&a!==null||e!==null&&e.ref!==a)&&(n.flags|=512,n.flags|=2097152)}function cc(e,n,a,h,p){var _=Ft(a)?Or:bt.current;return _=Cs(n,_),Ns(n,p),a=ec(e,n,a,h,_,p),h=tc(),e!==null&&!Ut?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~p,di(e,n,p)):(Ge&&h&&ju(n),n.flags|=1,Mt(e,n,a,p),n.child)}function Id(e,n,a,h,p){if(Ft(a)){var _=!0;ol(n)}else _=!1;if(Ns(n,p),n.stateNode===null)Pl(e,n),xd(n,a,h),ac(n,a,h,p),h=!0;else if(e===null){var x=n.stateNode,T=n.memoizedProps;x.props=T;var E=x.context,j=a.contextType;typeof j=="object"&&j!==null?j=dn(j):(j=Ft(a)?Or:bt.current,j=Cs(n,j));var J=a.getDerivedStateFromProps,Q=typeof J=="function"||typeof x.getSnapshotBeforeUpdate=="function";Q||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(T!==h||E!==j)&&Sd(n,x,h,j),Qi=!1;var K=n.memoizedState;x.state=K,ml(n,h,x,p),E=n.memoizedState,T!==h||K!==E||Bt.current||Qi?(typeof J=="function"&&(oc(n,a,J,h),E=n.memoizedState),(T=Qi||wd(n,a,T,h,K,E,j))?(Q||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(n.flags|=4194308)):(typeof x.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=h,n.memoizedState=E),x.props=h,x.state=E,x.context=j,h=T):(typeof x.componentDidMount=="function"&&(n.flags|=4194308),h=!1)}else{x=n.stateNode,Kh(e,n),T=n.memoizedProps,j=n.type===n.elementType?T:kn(n.type,T),x.props=j,Q=n.pendingProps,K=x.context,E=a.contextType,typeof E=="object"&&E!==null?E=dn(E):(E=Ft(a)?Or:bt.current,E=Cs(n,E));var ee=a.getDerivedStateFromProps;(J=typeof ee=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(T!==Q||K!==E)&&Sd(n,x,h,E),Qi=!1,K=n.memoizedState,x.state=K,ml(n,h,x,p);var se=n.memoizedState;T!==Q||K!==se||Bt.current||Qi?(typeof ee=="function"&&(oc(n,a,ee,h),se=n.memoizedState),(j=Qi||wd(n,a,j,h,K,se,E)||!1)?(J||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(h,se,E),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(h,se,E)),typeof x.componentDidUpdate=="function"&&(n.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof x.componentDidUpdate!="function"||T===e.memoizedProps&&K===e.memoizedState||(n.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&K===e.memoizedState||(n.flags|=1024),n.memoizedProps=h,n.memoizedState=se),x.props=h,x.state=se,x.context=E,h=j):(typeof x.componentDidUpdate!="function"||T===e.memoizedProps&&K===e.memoizedState||(n.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&K===e.memoizedState||(n.flags|=1024),h=!1)}return hc(e,n,a,h,_,p)}function hc(e,n,a,h,p,_){Ad(e,n);var x=(n.flags&128)!==0;if(!h&&!x)return p&&Dh(n,a,!1),di(e,n,_);h=n.stateNode,um.current=n;var T=x&&typeof a.getDerivedStateFromError!="function"?null:h.render();return n.flags|=1,e!==null&&x?(n.child=Is(n,e.child,null,_),n.child=Is(n,null,T,_)):Mt(e,n,T,_),n.memoizedState=h.state,p&&Dh(n,a,!0),n.child}function Md(e){var n=e.stateNode;n.pendingContext?zh(e,n.pendingContext,n.pendingContext!==n.context):n.context&&zh(e,n.context,!1),Vu(e,n.containerInfo)}function Nd(e,n,a,h,p){return As(),Uu(p),n.flags|=256,Mt(e,n,a,h),n.child}var dc={dehydrated:null,treeContext:null,retryLane:0};function fc(e){return{baseLanes:e,cachePool:null,transitions:null}}function zd(e,n,a){var h=n.pendingProps,p=Qe.current,_=!1,x=(n.flags&128)!==0,T;if((T=x)||(T=e!==null&&e.memoizedState===null?!1:(p&2)!==0),T?(_=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(p|=1),Ue(Qe,p&1),e===null)return Fu(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(x=h.children,e=h.fallback,_?(h=n.mode,_=n.child,x={mode:"hidden",children:x},(h&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=x):_=zl(x,h,0,null),e=Fr(e,h,a,null),_.return=n,e.return=n,_.sibling=e,n.child=_,n.child.memoizedState=fc(a),n.memoizedState=dc,e):pc(n,x));if(p=e.memoizedState,p!==null&&(T=p.dehydrated,T!==null))return cm(e,n,x,h,T,p,a);if(_){_=h.fallback,x=n.mode,p=e.child,T=p.sibling;var E={mode:"hidden",children:h.children};return(x&1)===0&&n.child!==p?(h=n.child,h.childLanes=0,h.pendingProps=E,n.deletions=null):(h=rr(p,E),h.subtreeFlags=p.subtreeFlags&14680064),T!==null?_=rr(T,_):(_=Fr(_,x,a,null),_.flags|=2),_.return=n,h.return=n,h.sibling=_,n.child=h,h=_,_=n.child,x=e.child.memoizedState,x=x===null?fc(a):{baseLanes:x.baseLanes|a,cachePool:null,transitions:x.transitions},_.memoizedState=x,_.childLanes=e.childLanes&~a,n.memoizedState=dc,h}return _=e.child,e=_.sibling,h=rr(_,{mode:"visible",children:h.children}),(n.mode&1)===0&&(h.lanes=a),h.return=n,h.sibling=null,e!==null&&(a=n.deletions,a===null?(n.deletions=[e],n.flags|=16):a.push(e)),n.child=h,n.memoizedState=null,h}function pc(e,n){return n=zl({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function kl(e,n,a,h){return h!==null&&Uu(h),Is(n,e.child,null,a),e=pc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function cm(e,n,a,h,p,_,x){if(a)return n.flags&256?(n.flags&=-257,h=lc(Error(s(422))),kl(e,n,x,h)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(_=h.fallback,p=n.mode,h=zl({mode:"visible",children:h.children},p,0,null),_=Fr(_,p,x,null),_.flags|=2,h.return=n,_.return=n,h.sibling=_,n.child=h,(n.mode&1)!==0&&Is(n,e.child,null,x),n.child.memoizedState=fc(x),n.memoizedState=dc,_);if((n.mode&1)===0)return kl(e,n,x,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var T=h.dgst;return h=T,_=Error(s(419)),h=lc(_,h,void 0),kl(e,n,x,h)}if(T=(x&e.childLanes)!==0,Ut||T){if(h=_t,h!==null){switch(x&-x){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(h.suspendedLanes|x))!==0?0:p,p!==0&&p!==_.retryLane&&(_.retryLane=p,ci(e,p),bn(h,e,p,-1))}return Oc(),h=lc(Error(s(421))),kl(e,n,x,h)}return p.data==="$?"?(n.flags|=128,n.child=e.child,n=km.bind(null,e),p._reactRetry=n,null):(e=_.treeContext,en=Dn(p.nextSibling),Xt=n,Ge=!0,Sn=null,e!==null&&(cn[hn++]=li,cn[hn++]=ui,cn[hn++]=Rr,li=e.id,ui=e.overflow,Rr=n),n=pc(n,h.children),n.flags|=4096,n)}function jd(e,n,a){e.lanes|=n;var h=e.alternate;h!==null&&(h.lanes|=n),qu(e.return,n,a)}function mc(e,n,a,h,p){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:p}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=h,_.tail=a,_.tailMode=p)}function Dd(e,n,a){var h=n.pendingProps,p=h.revealOrder,_=h.tail;if(Mt(e,n,h.children,a),h=Qe.current,(h&2)!==0)h=h&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jd(e,a,n);else if(e.tag===19)jd(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}h&=1}if(Ue(Qe,h),(n.mode&1)===0)n.memoizedState=null;else switch(p){case"forwards":for(a=n.child,p=null;a!==null;)e=a.alternate,e!==null&&_l(e)===null&&(p=a),a=a.sibling;a=p,a===null?(p=n.child,n.child=null):(p=a.sibling,a.sibling=null),mc(n,!1,p,a,_);break;case"backwards":for(a=null,p=n.child,n.child=null;p!==null;){if(e=p.alternate,e!==null&&_l(e)===null){n.child=p;break}e=p.sibling,p.sibling=a,a=p,p=e}mc(n,!0,a,null,_);break;case"together":mc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Pl(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function di(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),zr|=n.lanes,(a&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=rr(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=rr(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function hm(e,n,a){switch(n.tag){case 3:Md(n),As();break;case 5:Yh(n);break;case 1:Ft(n.type)&&ol(n);break;case 4:Vu(n,n.stateNode.containerInfo);break;case 10:var h=n.type._context,p=n.memoizedProps.value;Ue(dl,h._currentValue),h._currentValue=p;break;case 13:if(h=n.memoizedState,h!==null)return h.dehydrated!==null?(Ue(Qe,Qe.current&1),n.flags|=128,null):(a&n.child.childLanes)!==0?zd(e,n,a):(Ue(Qe,Qe.current&1),e=di(e,n,a),e!==null?e.sibling:null);Ue(Qe,Qe.current&1);break;case 19:if(h=(a&n.childLanes)!==0,(e.flags&128)!==0){if(h)return Dd(e,n,a);n.flags|=128}if(p=n.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ue(Qe,Qe.current),h)break;return null;case 22:case 23:return n.lanes=0,Rd(e,n,a)}return di(e,n,a)}var Bd,_c,Fd,Ud;Bd=function(e,n){for(var a=n.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},_c=function(){},Fd=function(e,n,a,h){var p=e.memoizedProps;if(p!==h){e=n.stateNode,Mr(Bn.current);var _=null;switch(a){case"input":p=ro(e,p),h=ro(e,h),_=[];break;case"select":p=q({},p,{value:void 0}),h=q({},h,{value:void 0}),_=[];break;case"textarea":p=Jr(e,p),h=Jr(e,h),_=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(e.onclick=H)}co(a,h);var x;a=null;for(j in p)if(!h.hasOwnProperty(j)&&p.hasOwnProperty(j)&&p[j]!=null)if(j==="style"){var T=p[j];for(x in T)T.hasOwnProperty(x)&&(a||(a={}),a[x]="")}else j!=="dangerouslySetInnerHTML"&&j!=="children"&&j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(u.hasOwnProperty(j)?_||(_=[]):(_=_||[]).push(j,null));for(j in h){var E=h[j];if(T=p?.[j],h.hasOwnProperty(j)&&E!==T&&(E!=null||T!=null))if(j==="style")if(T){for(x in T)!T.hasOwnProperty(x)||E&&E.hasOwnProperty(x)||(a||(a={}),a[x]="");for(x in E)E.hasOwnProperty(x)&&T[x]!==E[x]&&(a||(a={}),a[x]=E[x])}else a||(_||(_=[]),_.push(j,a)),a=E;else j==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,T=T?T.__html:void 0,E!=null&&T!==E&&(_=_||[]).push(j,E)):j==="children"?typeof E!="string"&&typeof E!="number"||(_=_||[]).push(j,""+E):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&(u.hasOwnProperty(j)?(E!=null&&j==="onScroll"&&De("scroll",e),_||T===E||(_=[])):(_=_||[]).push(j,E))}a&&(_=_||[]).push("style",a);var j=_;(n.updateQueue=j)&&(n.flags|=4)}},Ud=function(e,n,a,h){a!==h&&(n.flags|=4)};function Xo(e,n){if(!Ge)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:h.sibling=null}}function Lt(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,h=0;if(n)for(var p=e.child;p!==null;)a|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)a|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=h,e.childLanes=a,n}function dm(e,n,a){var h=n.pendingProps;switch(Du(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(n),null;case 1:return Ft(n.type)&&sl(),Lt(n),null;case 3:return h=n.stateNode,zs(),qe(Bt),qe(bt),Qu(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(e===null||e.child===null)&&(cl(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Sn!==null&&(Ec(Sn),Sn=null))),_c(e,n),Lt(n),null;case 5:Ku(n);var p=Mr(Vo.current);if(a=n.type,e!==null&&n.stateNode!=null)Fd(e,n,a,h,p),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!h){if(n.stateNode===null)throw Error(s(166));return Lt(n),null}if(e=Mr(Bn.current),cl(n)){h=n.stateNode,a=n.type;var _=n.memoizedProps;switch(h[un]=n,h[Hi]=_,e=(n.mode&1)!==0,a){case"dialog":De("cancel",h),De("close",h);break;case"iframe":case"object":case"embed":De("load",h);break;case"video":case"audio":for(p=0;p<Zi.length;p++)De(Zi[p],h);break;case"source":De("error",h);break;case"img":case"image":case"link":De("error",h),De("load",h);break;case"details":De("toggle",h);break;case"input":so(h,_),De("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!_.multiple},De("invalid",h);break;case"textarea":lo(h,_),De("invalid",h)}co(a,_),p=null;for(var x in _)if(_.hasOwnProperty(x)){var T=_[x];x==="children"?typeof T=="string"?h.textContent!==T&&(_.suppressHydrationWarning!==!0&&z(h.textContent,T,e),p=["children",T]):typeof T=="number"&&h.textContent!==""+T&&(_.suppressHydrationWarning!==!0&&z(h.textContent,T,e),p=["children",""+T]):u.hasOwnProperty(x)&&T!=null&&x==="onScroll"&&De("scroll",h)}switch(a){case"input":xi(h),hr(h,_,!0);break;case"textarea":xi(h),Sa(h);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(h.onclick=H)}h=p,n.updateQueue=h,h!==null&&(n.flags|=4)}else{x=p.nodeType===9?p:p.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Qr(a)),e==="http://www.w3.org/1999/xhtml"?a==="script"?(e=x.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof h.is=="string"?e=x.createElement(a,{is:h.is}):(e=x.createElement(a),a==="select"&&(x=e,h.multiple?x.multiple=!0:h.size&&(x.size=h.size))):e=x.createElementNS(e,a),e[un]=n,e[Hi]=h,Bd(e,n,!1,!1),n.stateNode=e;e:{switch(x=qn(a,h),a){case"dialog":De("cancel",e),De("close",e),p=h;break;case"iframe":case"object":case"embed":De("load",e),p=h;break;case"video":case"audio":for(p=0;p<Zi.length;p++)De(Zi[p],e);p=h;break;case"source":De("error",e),p=h;break;case"img":case"image":case"link":De("error",e),De("load",e),p=h;break;case"details":De("toggle",e),p=h;break;case"input":so(e,h),p=ro(e,h),De("invalid",e);break;case"option":p=h;break;case"select":e._wrapperState={wasMultiple:!!h.multiple},p=q({},h,{value:void 0}),De("invalid",e);break;case"textarea":lo(e,h),p=Jr(e,h),De("invalid",e);break;default:p=h}co(a,p),T=p;for(_ in T)if(T.hasOwnProperty(_)){var E=T[_];_==="style"?Xr(e,E):_==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&ka(e,E)):_==="children"?typeof E=="string"?(a!=="textarea"||E!=="")&&Ti(e,E):typeof E=="number"&&Ti(e,""+E):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(u.hasOwnProperty(_)?E!=null&&_==="onScroll"&&De("scroll",e):E!=null&&V(e,_,E,x))}switch(a){case"input":xi(e),hr(e,h,!1);break;case"textarea":xi(e),Sa(e);break;case"option":h.value!=null&&e.setAttribute("value",""+be(h.value));break;case"select":e.multiple=!!h.multiple,_=h.value,_!=null?Cn(e,!!h.multiple,_,!1):h.defaultValue!=null&&Cn(e,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(e.onclick=H)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Lt(n),null;case 6:if(e&&n.stateNode!=null)Ud(e,n,e.memoizedProps,h);else{if(typeof h!="string"&&n.stateNode===null)throw Error(s(166));if(a=Mr(Vo.current),Mr(Bn.current),cl(n)){if(h=n.stateNode,a=n.memoizedProps,h[un]=n,(_=h.nodeValue!==a)&&(e=Xt,e!==null))switch(e.tag){case 3:z(h.nodeValue,a,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&z(h.nodeValue,a,(e.mode&1)!==0)}_&&(n.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[un]=n,n.stateNode=h}return Lt(n),null;case 13:if(qe(Qe),h=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ge&&en!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Wh(),As(),n.flags|=98560,_=!1;else if(_=cl(n),h!==null&&h.dehydrated!==null){if(e===null){if(!_)throw Error(s(318));if(_=n.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(s(317));_[un]=n}else As(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Lt(n),_=!1}else Sn!==null&&(Ec(Sn),Sn=null),_=!0;if(!_)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=a,n):(h=h!==null,h!==(e!==null&&e.memoizedState!==null)&&h&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(Qe.current&1)!==0?dt===0&&(dt=3):Oc())),n.updateQueue!==null&&(n.flags|=4),Lt(n),null);case 4:return zs(),_c(e,n),e===null&&Wi(n.stateNode.containerInfo),Lt(n),null;case 10:return Wu(n.type._context),Lt(n),null;case 17:return Ft(n.type)&&sl(),Lt(n),null;case 19:if(qe(Qe),_=n.memoizedState,_===null)return Lt(n),null;if(h=(n.flags&128)!==0,x=_.rendering,x===null)if(h)Xo(_,!1);else{if(dt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(x=_l(e),x!==null){for(n.flags|=128,Xo(_,!1),h=x.updateQueue,h!==null&&(n.updateQueue=h,n.flags|=4),n.subtreeFlags=0,h=a,a=n.child;a!==null;)_=a,e=h,_.flags&=14680066,x=_.alternate,x===null?(_.childLanes=0,_.lanes=e,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=x.childLanes,_.lanes=x.lanes,_.child=x.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=x.memoizedProps,_.memoizedState=x.memoizedState,_.updateQueue=x.updateQueue,_.type=x.type,e=x.dependencies,_.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return Ue(Qe,Qe.current&1|2),n.child}e=e.sibling}_.tail!==null&&Ke()>Fs&&(n.flags|=128,h=!0,Xo(_,!1),n.lanes=4194304)}else{if(!h)if(e=_l(x),e!==null){if(n.flags|=128,h=!0,a=e.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),Xo(_,!0),_.tail===null&&_.tailMode==="hidden"&&!x.alternate&&!Ge)return Lt(n),null}else 2*Ke()-_.renderingStartTime>Fs&&a!==1073741824&&(n.flags|=128,h=!0,Xo(_,!1),n.lanes=4194304);_.isBackwards?(x.sibling=n.child,n.child=x):(a=_.last,a!==null?a.sibling=x:n.child=x,_.last=x)}return _.tail!==null?(n=_.tail,_.rendering=n,_.tail=n.sibling,_.renderingStartTime=Ke(),n.sibling=null,a=Qe.current,Ue(Qe,h?a&1|2:a&1),n):(Lt(n),null);case 22:case 23:return Cc(),h=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==h&&(n.flags|=8192),h&&(n.mode&1)!==0?(tn&1073741824)!==0&&(Lt(n),n.subtreeFlags&6&&(n.flags|=8192)):Lt(n),null;case 24:return null;case 25:return null}throw Error(s(156,n.tag))}function fm(e,n){switch(Du(n),n.tag){case 1:return Ft(n.type)&&sl(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return zs(),qe(Bt),qe(bt),Qu(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return Ku(n),null;case 13:if(qe(Qe),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));As()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return qe(Qe),null;case 4:return zs(),null;case 10:return Wu(n.type._context),null;case 22:case 23:return Cc(),null;case 24:return null;default:return null}}var Tl=!1,Ct=!1,pm=typeof WeakSet=="function"?WeakSet:Set,ie=null;function Ds(e,n){var a=e.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){tt(e,n,h)}else a.current=null}function gc(e,n,a){try{a()}catch(h){tt(e,n,h)}}var $d=!1;function mm(e,n){if(X=Sr,e=zo(),jo(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var p=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{a.nodeType,_.nodeType}catch{a=null;break e}var x=0,T=-1,E=-1,j=0,J=0,Q=e,K=null;t:for(;;){for(var ee;Q!==a||p!==0&&Q.nodeType!==3||(T=x+p),Q!==_||h!==0&&Q.nodeType!==3||(E=x+h),Q.nodeType===3&&(x+=Q.nodeValue.length),(ee=Q.firstChild)!==null;)K=Q,Q=ee;for(;;){if(Q===e)break t;if(K===a&&++j===p&&(T=x),K===_&&++J===h&&(E=x),(ee=Q.nextSibling)!==null)break;Q=K,K=Q.parentNode}Q=ee}a=T===-1||E===-1?null:{start:T,end:E}}else a=null}a=a||{start:0,end:0}}else a=null;for(fe={focusedElem:e,selectionRange:a},Sr=!1,ie=n;ie!==null;)if(n=ie,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ie=e;else for(;ie!==null;){n=ie;try{var se=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(se!==null){var oe=se.memoizedProps,it=se.memoizedState,I=n.stateNode,O=I.getSnapshotBeforeUpdate(n.elementType===n.type?oe:kn(n.type,oe),it);I.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var M=n.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(Y){tt(n,n.return,Y)}if(e=n.sibling,e!==null){e.return=n.return,ie=e;break}ie=n.return}return se=$d,$d=!1,se}function ea(e,n,a){var h=n.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&e)===e){var _=p.destroy;p.destroy=void 0,_!==void 0&&gc(n,a,_)}p=p.next}while(p!==h)}}function bl(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var h=a.create;a.destroy=h()}a=a.next}while(a!==n)}}function vc(e){var n=e.ref;if(n!==null){var a=e.stateNode;switch(e.tag){case 5:e=a;break;default:e=a}typeof n=="function"?n(e):n.current=e}}function Zd(e){var n=e.alternate;n!==null&&(e.alternate=null,Zd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[un],delete n[Hi],delete n[Gi],delete n[Iu],delete n[Mu])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Wd(e){return e.tag===5||e.tag===3||e.tag===4}function qd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yc(e,n,a){var h=e.tag;if(h===5||h===6)e=e.stateNode,n?a.nodeType===8?a.parentNode.insertBefore(e,n):a.insertBefore(e,n):(a.nodeType===8?(n=a.parentNode,n.insertBefore(e,a)):(n=a,n.appendChild(e)),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=H));else if(h!==4&&(e=e.child,e!==null))for(yc(e,n,a),e=e.sibling;e!==null;)yc(e,n,a),e=e.sibling}function wc(e,n,a){var h=e.tag;if(h===5||h===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(h!==4&&(e=e.child,e!==null))for(wc(e,n,a),e=e.sibling;e!==null;)wc(e,n,a),e=e.sibling}var wt=null,Pn=!1;function Xi(e,n,a){for(a=a.child;a!==null;)Hd(e,n,a),a=a.sibling}function Hd(e,n,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(_r,a)}catch{}switch(a.tag){case 5:Ct||Ds(a,n);case 6:var h=wt,p=Pn;wt=null,Xi(e,n,a),wt=h,Pn=p,wt!==null&&(Pn?(e=wt,a=a.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)):wt.removeChild(a.stateNode));break;case 18:wt!==null&&(Pn?(e=wt,a=a.stateNode,e.nodeType===8?Wo(e.parentNode,a):e.nodeType===1&&Wo(e,a),Vt(e)):Wo(wt,a.stateNode));break;case 4:h=wt,p=Pn,wt=a.stateNode.containerInfo,Pn=!0,Xi(e,n,a),wt=h,Pn=p;break;case 0:case 11:case 14:case 15:if(!Ct&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var _=p,x=_.destroy;_=_.tag,x!==void 0&&((_&2)!==0||(_&4)!==0)&&gc(a,n,x),p=p.next}while(p!==h)}Xi(e,n,a);break;case 1:if(!Ct&&(Ds(a,n),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(T){tt(a,n,T)}Xi(e,n,a);break;case 21:Xi(e,n,a);break;case 22:a.mode&1?(Ct=(h=Ct)||a.memoizedState!==null,Xi(e,n,a),Ct=h):Xi(e,n,a);break;default:Xi(e,n,a)}}function Gd(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var a=e.stateNode;a===null&&(a=e.stateNode=new pm),n.forEach(function(h){var p=Pm.bind(null,e,h);a.has(h)||(a.add(h),h.then(p,p))})}}function Tn(e,n){var a=n.deletions;if(a!==null)for(var h=0;h<a.length;h++){var p=a[h];try{var _=e,x=n,T=x;e:for(;T!==null;){switch(T.tag){case 5:wt=T.stateNode,Pn=!1;break e;case 3:wt=T.stateNode.containerInfo,Pn=!0;break e;case 4:wt=T.stateNode.containerInfo,Pn=!0;break e}T=T.return}if(wt===null)throw Error(s(160));Hd(_,x,p),wt=null,Pn=!1;var E=p.alternate;E!==null&&(E.return=null),p.return=null}catch(j){tt(p,n,j)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Vd(n,e),n=n.sibling}function Vd(e,n){var a=e.alternate,h=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tn(n,e),Un(e),h&4){try{ea(3,e,e.return),bl(3,e)}catch(oe){tt(e,e.return,oe)}try{ea(5,e,e.return)}catch(oe){tt(e,e.return,oe)}}break;case 1:Tn(n,e),Un(e),h&512&&a!==null&&Ds(a,a.return);break;case 5:if(Tn(n,e),Un(e),h&512&&a!==null&&Ds(a,a.return),e.flags&32){var p=e.stateNode;try{Ti(p,"")}catch(oe){tt(e,e.return,oe)}}if(h&4&&(p=e.stateNode,p!=null)){var _=e.memoizedProps,x=a!==null?a.memoizedProps:_,T=e.type,E=e.updateQueue;if(e.updateQueue=null,E!==null)try{T==="input"&&_.type==="radio"&&_.name!=null&&oo(p,_),qn(T,x);var j=qn(T,_);for(x=0;x<E.length;x+=2){var J=E[x],Q=E[x+1];J==="style"?Xr(p,Q):J==="dangerouslySetInnerHTML"?ka(p,Q):J==="children"?Ti(p,Q):V(p,J,Q,j)}switch(T){case"input":cr(p,_);break;case"textarea":xa(p,_);break;case"select":var K=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!_.multiple;var ee=_.value;ee!=null?Cn(p,!!_.multiple,ee,!1):K!==!!_.multiple&&(_.defaultValue!=null?Cn(p,!!_.multiple,_.defaultValue,!0):Cn(p,!!_.multiple,_.multiple?[]:"",!1))}p[Hi]=_}catch(oe){tt(e,e.return,oe)}}break;case 6:if(Tn(n,e),Un(e),h&4){if(e.stateNode===null)throw Error(s(162));p=e.stateNode,_=e.memoizedProps;try{p.nodeValue=_}catch(oe){tt(e,e.return,oe)}}break;case 3:if(Tn(n,e),Un(e),h&4&&a!==null&&a.memoizedState.isDehydrated)try{Vt(n.containerInfo)}catch(oe){tt(e,e.return,oe)}break;case 4:Tn(n,e),Un(e);break;case 13:Tn(n,e),Un(e),p=e.child,p.flags&8192&&(_=p.memoizedState!==null,p.stateNode.isHidden=_,!_||p.alternate!==null&&p.alternate.memoizedState!==null||(kc=Ke())),h&4&&Gd(e);break;case 22:if(J=a!==null&&a.memoizedState!==null,e.mode&1?(Ct=(j=Ct)||J,Tn(n,e),Ct=j):Tn(n,e),Un(e),h&8192){if(j=e.memoizedState!==null,(e.stateNode.isHidden=j)&&!J&&(e.mode&1)!==0)for(ie=e,J=e.child;J!==null;){for(Q=ie=J;ie!==null;){switch(K=ie,ee=K.child,K.tag){case 0:case 11:case 14:case 15:ea(4,K,K.return);break;case 1:Ds(K,K.return);var se=K.stateNode;if(typeof se.componentWillUnmount=="function"){h=K,a=K.return;try{n=h,se.props=n.memoizedProps,se.state=n.memoizedState,se.componentWillUnmount()}catch(oe){tt(h,a,oe)}}break;case 5:Ds(K,K.return);break;case 22:if(K.memoizedState!==null){Qd(Q);continue}}ee!==null?(ee.return=K,ie=ee):Qd(Q)}J=J.sibling}e:for(J=null,Q=e;;){if(Q.tag===5){if(J===null){J=Q;try{p=Q.stateNode,j?(_=p.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(T=Q.stateNode,E=Q.memoizedProps.style,x=E!=null&&E.hasOwnProperty("display")?E.display:null,T.style.display=uo("display",x))}catch(oe){tt(e,e.return,oe)}}}else if(Q.tag===6){if(J===null)try{Q.stateNode.nodeValue=j?"":Q.memoizedProps}catch(oe){tt(e,e.return,oe)}}else if((Q.tag!==22&&Q.tag!==23||Q.memoizedState===null||Q===e)&&Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===e)break e;for(;Q.sibling===null;){if(Q.return===null||Q.return===e)break e;J===Q&&(J=null),Q=Q.return}J===Q&&(J=null),Q.sibling.return=Q.return,Q=Q.sibling}}break;case 19:Tn(n,e),Un(e),h&4&&Gd(e);break;case 21:break;default:Tn(n,e),Un(e)}}function Un(e){var n=e.flags;if(n&2){try{e:{for(var a=e.return;a!==null;){if(Wd(a)){var h=a;break e}a=a.return}throw Error(s(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(Ti(p,""),h.flags&=-33);var _=qd(e);wc(e,_,p);break;case 3:case 4:var x=h.stateNode.containerInfo,T=qd(e);yc(e,T,x);break;default:throw Error(s(161))}}catch(E){tt(e,e.return,E)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function _m(e,n,a){ie=e,Kd(e)}function Kd(e,n,a){for(var h=(e.mode&1)!==0;ie!==null;){var p=ie,_=p.child;if(p.tag===22&&h){var x=p.memoizedState!==null||Tl;if(!x){var T=p.alternate,E=T!==null&&T.memoizedState!==null||Ct;T=Tl;var j=Ct;if(Tl=x,(Ct=E)&&!j)for(ie=p;ie!==null;)x=ie,E=x.child,x.tag===22&&x.memoizedState!==null?Yd(p):E!==null?(E.return=x,ie=E):Yd(p);for(;_!==null;)ie=_,Kd(_),_=_.sibling;ie=p,Tl=T,Ct=j}Jd(e)}else(p.subtreeFlags&8772)!==0&&_!==null?(_.return=p,ie=_):Jd(e)}}function Jd(e){for(;ie!==null;){var n=ie;if((n.flags&8772)!==0){var a=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:Ct||bl(5,n);break;case 1:var h=n.stateNode;if(n.flags&4&&!Ct)if(a===null)h.componentDidMount();else{var p=n.elementType===n.type?a.memoizedProps:kn(n.type,a.memoizedProps);h.componentDidUpdate(p,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var _=n.updateQueue;_!==null&&Qh(n,_,h);break;case 3:var x=n.updateQueue;if(x!==null){if(a=null,n.child!==null)switch(n.child.tag){case 5:a=n.child.stateNode;break;case 1:a=n.child.stateNode}Qh(n,x,a)}break;case 5:var T=n.stateNode;if(a===null&&n.flags&4){a=T;var E=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&a.focus();break;case"img":E.src&&(a.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var j=n.alternate;if(j!==null){var J=j.memoizedState;if(J!==null){var Q=J.dehydrated;Q!==null&&Vt(Q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}Ct||n.flags&512&&vc(n)}catch(K){tt(n,n.return,K)}}if(n===e){ie=null;break}if(a=n.sibling,a!==null){a.return=n.return,ie=a;break}ie=n.return}}function Qd(e){for(;ie!==null;){var n=ie;if(n===e){ie=null;break}var a=n.sibling;if(a!==null){a.return=n.return,ie=a;break}ie=n.return}}function Yd(e){for(;ie!==null;){var n=ie;try{switch(n.tag){case 0:case 11:case 15:var a=n.return;try{bl(4,n)}catch(E){tt(n,a,E)}break;case 1:var h=n.stateNode;if(typeof h.componentDidMount=="function"){var p=n.return;try{h.componentDidMount()}catch(E){tt(n,p,E)}}var _=n.return;try{vc(n)}catch(E){tt(n,_,E)}break;case 5:var x=n.return;try{vc(n)}catch(E){tt(n,x,E)}}}catch(E){tt(n,n.return,E)}if(n===e){ie=null;break}var T=n.sibling;if(T!==null){T.return=n.return,ie=T;break}ie=n.return}}var gm=Math.ceil,El=re.ReactCurrentDispatcher,xc=re.ReactCurrentOwner,pn=re.ReactCurrentBatchConfig,Ae=0,_t=null,ot=null,xt=0,tn=0,Bs=Vi(0),dt=0,ta=null,zr=0,Ll=0,Sc=0,na=null,$t=null,kc=0,Fs=1/0,fi=null,Cl=!1,Pc=null,er=null,Ol=!1,tr=null,Rl=0,ia=0,Tc=null,Al=-1,Il=0;function Nt(){return(Ae&6)!==0?Ke():Al!==-1?Al:Al=Ke()}function nr(e){return(e.mode&1)===0?1:(Ae&2)!==0&&xt!==0?xt&-xt:em.transition!==null?(Il===0&&(Il=za()),Il):(e=Re,e!==0||(e=window.event,e=e===void 0?16:Le(e.type)),e)}function bn(e,n,a,h){if(50<ia)throw ia=0,Tc=null,Error(s(185));Ht(e,a,h),((Ae&2)===0||e!==_t)&&(e===_t&&((Ae&2)===0&&(Ll|=a),dt===4&&ir(e,xt)),Zt(e,h),a===1&&Ae===0&&(n.mode&1)===0&&(Fs=Ke()+500,al&&Ji()))}function Zt(e,n){var a=e.callbackNode;os(e,n);var h=Fe(e,e===_t?xt:0);if(h===0)a!==null&&vo(a),e.callbackNode=null,e.callbackPriority=0;else if(n=h&-h,e.callbackPriority!==n){if(a!=null&&vo(a),n===1)e.tag===0?Xp(ef.bind(null,e)):Bh(ef.bind(null,e)),Tt(function(){(Ae&6)===0&&Ji()}),a=null;else{switch(Ri(h)){case 1:a=yo;break;case 4:a=Na;break;case 16:a=rs;break;case 536870912:a=Ei;break;default:a=rs}a=uf(a,Xd.bind(null,e))}e.callbackPriority=n,e.callbackNode=a}}function Xd(e,n){if(Al=-1,Il=0,(Ae&6)!==0)throw Error(s(327));var a=e.callbackNode;if(Us()&&e.callbackNode!==a)return null;var h=Fe(e,e===_t?xt:0);if(h===0)return null;if((h&30)!==0||(h&e.expiredLanes)!==0||n)n=Ml(e,h);else{n=h;var p=Ae;Ae|=2;var _=nf();(_t!==e||xt!==n)&&(fi=null,Fs=Ke()+500,Dr(e,n));do try{wm();break}catch(T){tf(e,T)}while(!0);Zu(),El.current=_,Ae=p,ot!==null?n=0:(_t=null,xt=0,n=dt)}if(n!==0){if(n===2&&(p=kt(e),p!==0&&(h=p,n=bc(e,p))),n===1)throw a=ta,Dr(e,0),ir(e,h),Zt(e,Ke()),a;if(n===6)ir(e,h);else{if(p=e.current.alternate,(h&30)===0&&!vm(p)&&(n=Ml(e,h),n===2&&(_=kt(e),_!==0&&(h=_,n=bc(e,_))),n===1))throw a=ta,Dr(e,0),ir(e,h),Zt(e,Ke()),a;switch(e.finishedWork=p,e.finishedLanes=h,n){case 0:case 1:throw Error(s(345));case 2:Br(e,$t,fi);break;case 3:if(ir(e,h),(h&130023424)===h&&(n=kc+500-Ke(),10<n)){if(Fe(e,0)!==0)break;if(p=e.suspendedLanes,(p&h)!==h){Nt(),e.pingedLanes|=e.suspendedLanes&p;break}e.timeoutHandle=ct(Br.bind(null,e,$t,fi),n);break}Br(e,$t,fi);break;case 4:if(ir(e,h),(h&4194240)===h)break;for(n=e.eventTimes,p=-1;0<h;){var x=31-ke(h);_=1<<x,x=n[x],x>p&&(p=x),h&=~_}if(h=p,h=Ke()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*gm(h/1960))-h,10<h){e.timeoutHandle=ct(Br.bind(null,e,$t,fi),h);break}Br(e,$t,fi);break;case 5:Br(e,$t,fi);break;default:throw Error(s(329))}}}return Zt(e,Ke()),e.callbackNode===a?Xd.bind(null,e):null}function bc(e,n){var a=na;return e.current.memoizedState.isDehydrated&&(Dr(e,n).flags|=256),e=Ml(e,n),e!==2&&(n=$t,$t=a,n!==null&&Ec(n)),e}function Ec(e){$t===null?$t=e:$t.push.apply($t,e)}function vm(e){for(var n=e;;){if(n.flags&16384){var a=n.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var p=a[h],_=p.getSnapshot;p=p.value;try{if(!Qt(_(),p))return!1}catch{return!1}}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ir(e,n){for(n&=~Sc,n&=~Ll,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var a=31-ke(n),h=1<<a;e[a]=-1,n&=~h}}function ef(e){if((Ae&6)!==0)throw Error(s(327));Us();var n=Fe(e,0);if((n&1)===0)return Zt(e,Ke()),null;var a=Ml(e,n);if(e.tag!==0&&a===2){var h=kt(e);h!==0&&(n=h,a=bc(e,h))}if(a===1)throw a=ta,Dr(e,0),ir(e,n),Zt(e,Ke()),a;if(a===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Br(e,$t,fi),Zt(e,Ke()),null}function Lc(e,n){var a=Ae;Ae|=1;try{return e(n)}finally{Ae=a,Ae===0&&(Fs=Ke()+500,al&&Ji())}}function jr(e){tr!==null&&tr.tag===0&&(Ae&6)===0&&Us();var n=Ae;Ae|=1;var a=pn.transition,h=Re;try{if(pn.transition=null,Re=1,e)return e()}finally{Re=h,pn.transition=a,Ae=n,(Ae&6)===0&&Ji()}}function Cc(){tn=Bs.current,qe(Bs)}function Dr(e,n){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==-1&&(e.timeoutHandle=-1,st(a)),ot!==null)for(a=ot.return;a!==null;){var h=a;switch(Du(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&sl();break;case 3:zs(),qe(Bt),qe(bt),Qu();break;case 5:Ku(h);break;case 4:zs();break;case 13:qe(Qe);break;case 19:qe(Qe);break;case 10:Wu(h.type._context);break;case 22:case 23:Cc()}a=a.return}if(_t=e,ot=e=rr(e.current,null),xt=tn=n,dt=0,ta=null,Sc=Ll=zr=0,$t=na=null,Ir!==null){for(n=0;n<Ir.length;n++)if(a=Ir[n],h=a.interleaved,h!==null){a.interleaved=null;var p=h.next,_=a.pending;if(_!==null){var x=_.next;_.next=p,h.next=x}a.pending=h}Ir=null}return e}function tf(e,n){do{var a=ot;try{if(Zu(),gl.current=xl,vl){for(var h=Ye.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}vl=!1}if(Nr=0,mt=ht=Ye=null,Ko=!1,Jo=0,xc.current=null,a===null||a.return===null){dt=1,ta=n,ot=null;break}e:{var _=e,x=a.return,T=a,E=n;if(n=xt,T.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var j=E,J=T,Q=J.tag;if((J.mode&1)===0&&(Q===0||Q===11||Q===15)){var K=J.alternate;K?(J.updateQueue=K.updateQueue,J.memoizedState=K.memoizedState,J.lanes=K.lanes):(J.updateQueue=null,J.memoizedState=null)}var ee=bd(x);if(ee!==null){ee.flags&=-257,Ed(ee,x,T,_,n),ee.mode&1&&Td(_,j,n),n=ee,E=j;var se=n.updateQueue;if(se===null){var oe=new Set;oe.add(E),n.updateQueue=oe}else se.add(E);break e}else{if((n&1)===0){Td(_,j,n),Oc();break e}E=Error(s(426))}}else if(Ge&&T.mode&1){var it=bd(x);if(it!==null){(it.flags&65536)===0&&(it.flags|=256),Ed(it,x,T,_,n),Uu(js(E,T));break e}}_=E=js(E,T),dt!==4&&(dt=2),na===null?na=[_]:na.push(_),_=x;do{switch(_.tag){case 3:_.flags|=65536,n&=-n,_.lanes|=n;var I=kd(_,E,n);Jh(_,I);break e;case 1:T=E;var O=_.type,M=_.stateNode;if((_.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(er===null||!er.has(M)))){_.flags|=65536,n&=-n,_.lanes|=n;var Y=Pd(_,T,n);Jh(_,Y);break e}}_=_.return}while(_!==null)}sf(a)}catch(ue){n=ue,ot===a&&a!==null&&(ot=a=a.return);continue}break}while(!0)}function nf(){var e=El.current;return El.current=xl,e===null?xl:e}function Oc(){(dt===0||dt===3||dt===2)&&(dt=4),_t===null||(zr&268435455)===0&&(Ll&268435455)===0||ir(_t,xt)}function Ml(e,n){var a=Ae;Ae|=2;var h=nf();(_t!==e||xt!==n)&&(fi=null,Dr(e,n));do try{ym();break}catch(p){tf(e,p)}while(!0);if(Zu(),Ae=a,El.current=h,ot!==null)throw Error(s(261));return _t=null,xt=0,dt}function ym(){for(;ot!==null;)rf(ot)}function wm(){for(;ot!==null&&!gu();)rf(ot)}function rf(e){var n=lf(e.alternate,e,tn);e.memoizedProps=e.pendingProps,n===null?sf(e):ot=n,xc.current=null}function sf(e){var n=e;do{var a=n.alternate;if(e=n.return,(n.flags&32768)===0){if(a=dm(a,n,tn),a!==null){ot=a;return}}else{if(a=fm(a,n),a!==null){a.flags&=32767,ot=a;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{dt=6,ot=null;return}}if(n=n.sibling,n!==null){ot=n;return}ot=n=e}while(n!==null);dt===0&&(dt=5)}function Br(e,n,a){var h=Re,p=pn.transition;try{pn.transition=null,Re=1,xm(e,n,a,h)}finally{pn.transition=p,Re=h}return null}function xm(e,n,a,h){do Us();while(tr!==null);if((Ae&6)!==0)throw Error(s(327));a=e.finishedWork;var p=e.finishedLanes;if(a===null)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var _=a.lanes|a.childLanes;if(et(e,_),e===_t&&(ot=_t=null,xt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Ol||(Ol=!0,uf(rs,function(){return Us(),null})),_=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||_){_=pn.transition,pn.transition=null;var x=Re;Re=1;var T=Ae;Ae|=4,xc.current=null,mm(e,a),Vd(a,e),an(fe),Sr=!!X,fe=X=null,e.current=a,_m(a),is(),Ae=T,Re=x,pn.transition=_}else e.current=a;if(Ol&&(Ol=!1,tr=e,Rl=p),_=e.pendingLanes,_===0&&(er=null),gr(a.stateNode),Zt(e,Ke()),n!==null)for(h=e.onRecoverableError,a=0;a<n.length;a++)p=n[a],h(p.value,{componentStack:p.stack,digest:p.digest});if(Cl)throw Cl=!1,e=Pc,Pc=null,e;return(Rl&1)!==0&&e.tag!==0&&Us(),_=e.pendingLanes,(_&1)!==0?e===Tc?ia++:(ia=0,Tc=e):ia=0,Ji(),null}function Us(){if(tr!==null){var e=Ri(Rl),n=pn.transition,a=Re;try{if(pn.transition=null,Re=16>e?16:e,tr===null)var h=!1;else{if(e=tr,tr=null,Rl=0,(Ae&6)!==0)throw Error(s(331));var p=Ae;for(Ae|=4,ie=e.current;ie!==null;){var _=ie,x=_.child;if((ie.flags&16)!==0){var T=_.deletions;if(T!==null){for(var E=0;E<T.length;E++){var j=T[E];for(ie=j;ie!==null;){var J=ie;switch(J.tag){case 0:case 11:case 15:ea(8,J,_)}var Q=J.child;if(Q!==null)Q.return=J,ie=Q;else for(;ie!==null;){J=ie;var K=J.sibling,ee=J.return;if(Zd(J),J===j){ie=null;break}if(K!==null){K.return=ee,ie=K;break}ie=ee}}}var se=_.alternate;if(se!==null){var oe=se.child;if(oe!==null){se.child=null;do{var it=oe.sibling;oe.sibling=null,oe=it}while(oe!==null)}}ie=_}}if((_.subtreeFlags&2064)!==0&&x!==null)x.return=_,ie=x;else e:for(;ie!==null;){if(_=ie,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:ea(9,_,_.return)}var I=_.sibling;if(I!==null){I.return=_.return,ie=I;break e}ie=_.return}}var O=e.current;for(ie=O;ie!==null;){x=ie;var M=x.child;if((x.subtreeFlags&2064)!==0&&M!==null)M.return=x,ie=M;else e:for(x=O;ie!==null;){if(T=ie,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:bl(9,T)}}catch(ue){tt(T,T.return,ue)}if(T===x){ie=null;break e}var Y=T.sibling;if(Y!==null){Y.return=T.return,ie=Y;break e}ie=T.return}}if(Ae=p,Ji(),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(_r,e)}catch{}h=!0}return h}finally{Re=a,pn.transition=n}}return!1}function of(e,n,a){n=js(a,n),n=kd(e,n,1),e=Yi(e,n,1),n=Nt(),e!==null&&(Ht(e,1,n),Zt(e,n))}function tt(e,n,a){if(e.tag===3)of(e,e,a);else for(;n!==null;){if(n.tag===3){of(n,e,a);break}else if(n.tag===1){var h=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(er===null||!er.has(h))){e=js(a,e),e=Pd(n,e,1),n=Yi(n,e,1),e=Nt(),n!==null&&(Ht(n,1,e),Zt(n,e));break}}n=n.return}}function Sm(e,n,a){var h=e.pingCache;h!==null&&h.delete(n),n=Nt(),e.pingedLanes|=e.suspendedLanes&a,_t===e&&(xt&a)===a&&(dt===4||dt===3&&(xt&130023424)===xt&&500>Ke()-kc?Dr(e,0):Sc|=a),Zt(e,n)}function af(e,n){n===0&&((e.mode&1)===0?n=1:(n=Ci,Ci<<=1,(Ci&130023424)===0&&(Ci=4194304)));var a=Nt();e=ci(e,n),e!==null&&(Ht(e,n,a),Zt(e,a))}function km(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),af(e,a)}function Pm(e,n){var a=0;switch(e.tag){case 13:var h=e.stateNode,p=e.memoizedState;p!==null&&(a=p.retryLane);break;case 19:h=e.stateNode;break;default:throw Error(s(314))}h!==null&&h.delete(n),af(e,a)}var lf;lf=function(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps||Bt.current)Ut=!0;else{if((e.lanes&a)===0&&(n.flags&128)===0)return Ut=!1,hm(e,n,a);Ut=(e.flags&131072)!==0}else Ut=!1,Ge&&(n.flags&1048576)!==0&&Fh(n,ul,n.index);switch(n.lanes=0,n.tag){case 2:var h=n.type;Pl(e,n),e=n.pendingProps;var p=Cs(n,bt.current);Ns(n,a),p=ec(null,n,h,e,p,a);var _=tc();return n.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Ft(h)?(_=!0,ol(n)):_=!1,n.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Gu(n),p.updater=Sl,n.stateNode=p,p._reactInternals=n,ac(n,h,e,a),n=hc(null,n,h,!0,_,a)):(n.tag=0,Ge&&_&&ju(n),Mt(null,n,p,a),n=n.child),n;case 16:h=n.elementType;e:{switch(Pl(e,n),e=n.pendingProps,p=h._init,h=p(h._payload),n.type=h,p=n.tag=bm(h),e=kn(h,e),p){case 0:n=cc(null,n,h,e,a);break e;case 1:n=Id(null,n,h,e,a);break e;case 11:n=Ld(null,n,h,e,a);break e;case 14:n=Cd(null,n,h,kn(h.type,e),a);break e}throw Error(s(306,h,""))}return n;case 0:return h=n.type,p=n.pendingProps,p=n.elementType===h?p:kn(h,p),cc(e,n,h,p,a);case 1:return h=n.type,p=n.pendingProps,p=n.elementType===h?p:kn(h,p),Id(e,n,h,p,a);case 3:e:{if(Md(n),e===null)throw Error(s(387));h=n.pendingProps,_=n.memoizedState,p=_.element,Kh(e,n),ml(n,h,null,a);var x=n.memoizedState;if(h=x.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},n.updateQueue.baseState=_,n.memoizedState=_,n.flags&256){p=js(Error(s(423)),n),n=Nd(e,n,h,a,p);break e}else if(h!==p){p=js(Error(s(424)),n),n=Nd(e,n,h,a,p);break e}else for(en=Dn(n.stateNode.containerInfo.firstChild),Xt=n,Ge=!0,Sn=null,a=Gh(n,null,h,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(As(),h===p){n=di(e,n,a);break e}Mt(e,n,h,a)}n=n.child}return n;case 5:return Yh(n),e===null&&Fu(n),h=n.type,p=n.pendingProps,_=e!==null?e.memoizedProps:null,x=p.children,Pe(h,p)?x=null:_!==null&&Pe(h,_)&&(n.flags|=32),Ad(e,n),Mt(e,n,x,a),n.child;case 6:return e===null&&Fu(n),null;case 13:return zd(e,n,a);case 4:return Vu(n,n.stateNode.containerInfo),h=n.pendingProps,e===null?n.child=Is(n,null,h,a):Mt(e,n,h,a),n.child;case 11:return h=n.type,p=n.pendingProps,p=n.elementType===h?p:kn(h,p),Ld(e,n,h,p,a);case 7:return Mt(e,n,n.pendingProps,a),n.child;case 8:return Mt(e,n,n.pendingProps.children,a),n.child;case 12:return Mt(e,n,n.pendingProps.children,a),n.child;case 10:e:{if(h=n.type._context,p=n.pendingProps,_=n.memoizedProps,x=p.value,Ue(dl,h._currentValue),h._currentValue=x,_!==null)if(Qt(_.value,x)){if(_.children===p.children&&!Bt.current){n=di(e,n,a);break e}}else for(_=n.child,_!==null&&(_.return=n);_!==null;){var T=_.dependencies;if(T!==null){x=_.child;for(var E=T.firstContext;E!==null;){if(E.context===h){if(_.tag===1){E=hi(-1,a&-a),E.tag=2;var j=_.updateQueue;if(j!==null){j=j.shared;var J=j.pending;J===null?E.next=E:(E.next=J.next,J.next=E),j.pending=E}}_.lanes|=a,E=_.alternate,E!==null&&(E.lanes|=a),qu(_.return,a,n),T.lanes|=a;break}E=E.next}}else if(_.tag===10)x=_.type===n.type?null:_.child;else if(_.tag===18){if(x=_.return,x===null)throw Error(s(341));x.lanes|=a,T=x.alternate,T!==null&&(T.lanes|=a),qu(x,a,n),x=_.sibling}else x=_.child;if(x!==null)x.return=_;else for(x=_;x!==null;){if(x===n){x=null;break}if(_=x.sibling,_!==null){_.return=x.return,x=_;break}x=x.return}_=x}Mt(e,n,p.children,a),n=n.child}return n;case 9:return p=n.type,h=n.pendingProps.children,Ns(n,a),p=dn(p),h=h(p),n.flags|=1,Mt(e,n,h,a),n.child;case 14:return h=n.type,p=kn(h,n.pendingProps),p=kn(h.type,p),Cd(e,n,h,p,a);case 15:return Od(e,n,n.type,n.pendingProps,a);case 17:return h=n.type,p=n.pendingProps,p=n.elementType===h?p:kn(h,p),Pl(e,n),n.tag=1,Ft(h)?(e=!0,ol(n)):e=!1,Ns(n,a),xd(n,h,p),ac(n,h,p,a),hc(null,n,h,!0,e,a);case 19:return Dd(e,n,a);case 22:return Rd(e,n,a)}throw Error(s(156,n.tag))};function uf(e,n){return Ma(e,n)}function Tm(e,n,a,h){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,n,a,h){return new Tm(e,n,a,h)}function Rc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bm(e){if(typeof e=="function")return Rc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ve)return 11;if(e===nn)return 14}return 2}function rr(e,n){var a=e.alternate;return a===null?(a=mn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&14680064,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function Nl(e,n,a,h,p,_){var x=2;if(h=e,typeof e=="function")Rc(e)&&(x=1);else if(typeof e=="string")x=5;else e:switch(e){case Se:return Fr(a.children,p,_,n);case rt:x=8,p|=8;break;case He:return e=mn(12,a,n,p|2),e.elementType=He,e.lanes=_,e;case Ot:return e=mn(13,a,n,p),e.elementType=Ot,e.lanes=_,e;case nt:return e=mn(19,a,n,p),e.elementType=nt,e.lanes=_,e;case ze:return zl(a,p,_,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lt:x=10;break e;case Ze:x=9;break e;case Ve:x=11;break e;case nn:x=14;break e;case Ne:x=16,h=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return n=mn(x,a,n,p),n.elementType=e,n.type=h,n.lanes=_,n}function Fr(e,n,a,h){return e=mn(7,e,h,n),e.lanes=a,e}function zl(e,n,a,h){return e=mn(22,e,h,n),e.elementType=ze,e.lanes=a,e.stateNode={isHidden:!1},e}function Ac(e,n,a){return e=mn(6,e,null,n),e.lanes=a,e}function Ic(e,n,a){return n=mn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Em(e,n,a,h,p){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oi(0),this.expirationTimes=Oi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oi(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Mc(e,n,a,h,p,_,x,T,E){return e=new Em(e,n,a,T,E),n===1?(n=1,_===!0&&(n|=8)):n=0,_=mn(3,null,null,n),e.current=_,_.stateNode=e,_.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gu(_),e}function Lm(e,n,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ge,key:h==null?null:""+h,children:e,containerInfo:n,implementation:a}}function cf(e){if(!e)return Ki;e=e._reactInternals;e:{if(On(e)!==e||e.tag!==1)throw Error(s(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Ft(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(s(171))}if(e.tag===1){var a=e.type;if(Ft(a))return jh(e,a,n)}return n}function hf(e,n,a,h,p,_,x,T,E){return e=Mc(a,h,!0,e,p,_,x,T,E),e.context=cf(null),a=e.current,h=Nt(),p=nr(a),_=hi(h,p),_.callback=n??null,Yi(a,_,p),e.current.lanes=p,Ht(e,p,h),Zt(e,h),e}function jl(e,n,a,h){var p=n.current,_=Nt(),x=nr(p);return a=cf(a),n.context===null?n.context=a:n.pendingContext=a,n=hi(_,x),n.payload={element:e},h=h===void 0?null:h,h!==null&&(n.callback=h),e=Yi(p,n,x),e!==null&&(bn(e,p,x,_),pl(e,p,x)),x}function Dl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function df(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Nc(e,n){df(e,n),(e=e.alternate)&&df(e,n)}function Cm(){return null}var ff=typeof reportError=="function"?reportError:function(e){console.error(e)};function zc(e){this._internalRoot=e}Bl.prototype.render=zc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));jl(e,n,null,null)},Bl.prototype.unmount=zc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;jr(function(){jl(null,e,null,null)}),n[Me]=null}};function Bl(e){this._internalRoot=e}Bl.prototype.unstable_scheduleHydration=function(e){if(e){var n=us();e={blockedOn:null,target:e,priority:n};for(var a=0;a<ut.length&&n!==0&&n<ut[a].priority;a++);ut.splice(a,0,e),a===0&&cs(e)}};function jc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pf(){}function Om(e,n,a,h,p){if(p){if(typeof h=="function"){var _=h;h=function(){var j=Dl(x);_.call(j)}}var x=hf(n,h,e,0,null,!1,!1,"",pf);return e._reactRootContainer=x,e[Me]=x.current,Wi(e.nodeType===8?e.parentNode:e),jr(),x}for(;p=e.lastChild;)e.removeChild(p);if(typeof h=="function"){var T=h;h=function(){var j=Dl(E);T.call(j)}}var E=Mc(e,0,!1,null,null,!1,!1,"",pf);return e._reactRootContainer=E,e[Me]=E.current,Wi(e.nodeType===8?e.parentNode:e),jr(function(){jl(n,E,a,h)}),E}function Ul(e,n,a,h,p){var _=a._reactRootContainer;if(_){var x=_;if(typeof p=="function"){var T=p;p=function(){var E=Dl(x);T.call(E)}}jl(n,x,e,p)}else x=Om(a,n,e,p,h);return Dl(x)}as=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var a=we(n.pendingLanes);a!==0&&(gn(n,a|1),Zt(n,Ke()),(Ae&6)===0&&(Fs=Ke()+500,Ji()))}break;case 13:jr(function(){var h=ci(e,1);if(h!==null){var p=Nt();bn(h,e,1,p)}}),Nc(e,1)}},Kn=function(e){if(e.tag===13){var n=ci(e,134217728);if(n!==null){var a=Nt();bn(n,e,134217728,a)}Nc(e,134217728)}},ls=function(e){if(e.tag===13){var n=nr(e),a=ci(e,n);if(a!==null){var h=Nt();bn(a,e,n,h)}Nc(e,n)}},us=function(){return Re},vr=function(e,n){var a=Re;try{return Re=e,n()}finally{Re=a}},es=function(e,n,a){switch(n){case"input":if(cr(e,a),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<a.length;n++){var h=a[n];if(h!==e&&h.form===e.form){var p=Es(h);if(!p)throw Error(s(90));Si(h),cr(h,p)}}}break;case"textarea":xa(e,a);break;case"select":n=a.value,n!=null&&Cn(e,!!a.multiple,n,!1)}},La=Lc,Ca=jr;var Rm={usingClientEntryPoint:!1,Events:[si,oi,Es,ba,Ea,Lc]},ra={findFiberByHostInstance:ri,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Am={bundleType:ra.bundleType,version:ra.version,rendererPackageName:ra.rendererPackageName,rendererConfig:ra.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:re.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Aa(e),e===null?null:e.stateNode},findFiberByHostInstance:ra.findFiberByHostInstance||Cm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$l.isDisabled&&$l.supportsFiber)try{_r=$l.inject(Am),qt=$l}catch{}}return Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rm,Wt.createPortal=function(e,n){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jc(n))throw Error(s(200));return Lm(e,n,null,a)},Wt.createRoot=function(e,n){if(!jc(e))throw Error(s(299));var a=!1,h="",p=ff;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(h=n.identifierPrefix),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=Mc(e,1,!1,null,null,a,!1,h,p),e[Me]=n.current,Wi(e.nodeType===8?e.parentNode:e),new zc(n)},Wt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=Aa(n),e=e===null?null:e.stateNode,e},Wt.flushSync=function(e){return jr(e)},Wt.hydrate=function(e,n,a){if(!Fl(n))throw Error(s(200));return Ul(null,e,n,!0,a)},Wt.hydrateRoot=function(e,n,a){if(!jc(e))throw Error(s(405));var h=a!=null&&a.hydratedSources||null,p=!1,_="",x=ff;if(a!=null&&(a.unstable_strictMode===!0&&(p=!0),a.identifierPrefix!==void 0&&(_=a.identifierPrefix),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),n=hf(n,null,e,1,a??null,p,!1,_,x),e[Me]=n.current,Wi(e),h)for(e=0;e<h.length;e++)a=h[e],p=a._getVersion,p=p(a._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[a,p]:n.mutableSourceEagerHydrationData.push(a,p);return new Bl(n)},Wt.render=function(e,n,a){if(!Fl(n))throw Error(s(200));return Ul(null,e,n,!1,a)},Wt.unmountComponentAtNode=function(e){if(!Fl(e))throw Error(s(40));return e._reactRootContainer?(jr(function(){Ul(null,null,e,!1,function(){e._reactRootContainer=null,e[Me]=null})}),!0):!1},Wt.unstable_batchedUpdates=Lc,Wt.unstable_renderSubtreeIntoContainer=function(e,n,a,h){if(!Fl(a))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return Ul(e,n,a,!1,h)},Wt.version="18.3.1-next-f1338f8080-20240426",Wt}var Sf;function $m(){if(Sf)return Fc.exports;Sf=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(i){console.error(i)}}return r(),Fc.exports=Um(),Fc.exports}var kf;function Zm(){if(kf)return Zl;kf=1;var r=$m();return Zl.createRoot=r.createRoot,Zl.hydrateRoot=r.hydrateRoot,Zl}var Wm=Zm();const qm=ru(Wm),Hm="modulepreload",Gm=function(r){return"/pudumaps/"+r},Pf={},_a=function(i,s,l){let u=Promise.resolve();if(s&&s.length>0){let w=function(k){return Promise.all(k.map(P=>Promise.resolve(P).then(R=>({status:"fulfilled",value:R}),R=>({status:"rejected",reason:R}))))};var m=w;document.getElementsByTagName("link");const y=document.querySelector("meta[property=csp-nonce]"),v=y?.nonce||y?.getAttribute("nonce");u=w(s.map(k=>{if(k=Gm(k),k in Pf)return;Pf[k]=!0;const P=k.endsWith(".css"),R=P?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${k}"]${R}`))return;const N=document.createElement("link");if(N.rel=P?"stylesheet":Hm,P||(N.as="script"),N.crossOrigin="",N.href=k,v&&N.setAttribute("nonce",v),document.head.appendChild(N),P)return new Promise((B,D)=>{N.addEventListener("load",B),N.addEventListener("error",()=>D(new Error(`Unable to preload CSS for ${k}`)))})}))}function d(y){const v=new Event("vite:preloadError",{cancelable:!0});if(v.payload=y,window.dispatchEvent(v),!v.defaultPrevented)throw y}return u.then(y=>{for(const v of y||[])v.status==="rejected"&&d(v.reason);return i().catch(d)})},Vm=r=>{let i;return r?i=r:typeof fetch>"u"?i=(...s)=>_a(async()=>{const{default:l}=await Promise.resolve().then(()=>to);return{default:l}},[]).then(({default:l})=>l(...s)):i=fetch,(...s)=>i(...s)};class vh extends Error{constructor(i,s="FunctionsError",l){super(i),this.name=s,this.context=l}}class Km extends vh{constructor(i){super("Failed to send a request to the Edge Function","FunctionsFetchError",i)}}class Tf extends vh{constructor(i){super("Relay Error invoking the Edge Function","FunctionsRelayError",i)}}class bf extends vh{constructor(i){super("Edge Function returned a non-2xx status code","FunctionsHttpError",i)}}var Xc;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Xc||(Xc={}));var Jm=function(r,i,s,l){function u(d){return d instanceof s?d:new s(function(m){m(d)})}return new(s||(s=Promise))(function(d,m){function y(k){try{w(l.next(k))}catch(P){m(P)}}function v(k){try{w(l.throw(k))}catch(P){m(P)}}function w(k){k.done?d(k.value):u(k.value).then(y,v)}w((l=l.apply(r,i||[])).next())})};class Qm{constructor(i,{headers:s={},customFetch:l,region:u=Xc.Any}={}){this.url=i,this.headers=s,this.region=u,this.fetch=Vm(l)}setAuth(i){this.headers.Authorization=`Bearer ${i}`}invoke(i,s={}){var l;return Jm(this,void 0,void 0,function*(){try{const{headers:u,method:d,body:m}=s;let y={},{region:v}=s;v||(v=this.region);const w=new URL(`${this.url}/${i}`);v&&v!=="any"&&(y["x-region"]=v,w.searchParams.set("forceFunctionRegion",v));let k;m&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)&&(typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",k=m):typeof m=="string"?(y["Content-Type"]="text/plain",k=m):typeof FormData<"u"&&m instanceof FormData?k=m:(y["Content-Type"]="application/json",k=JSON.stringify(m)));const P=yield this.fetch(w.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),u),body:k}).catch(D=>{throw new Km(D)}),R=P.headers.get("x-relay-error");if(R&&R==="true")throw new Tf(P);if(!P.ok)throw new bf(P);let N=((l=P.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),B;return N==="application/json"?B=yield P.json():N==="application/octet-stream"?B=yield P.blob():N==="text/event-stream"?B=P:N==="multipart/form-data"?B=yield P.formData():B=yield P.text(),{data:B,error:null,response:P}}catch(u){return{data:null,error:u,response:u instanceof bf||u instanceof Tf?u.context:void 0}}})}}var vt={},$s={},Zs={},Ws={},qs={},Hs={},Ym=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},eo=Ym();const Xm=eo.fetch,lp=eo.fetch.bind(eo),up=eo.Headers,e_=eo.Request,t_=eo.Response,to=Object.freeze(Object.defineProperty({__proto__:null,Headers:up,Request:e_,Response:t_,default:lp,fetch:Xm},Symbol.toStringTag,{value:"Module"})),n_=Mm(to);var Wl={},Ef;function cp(){if(Ef)return Wl;Ef=1,Object.defineProperty(Wl,"__esModule",{value:!0});class r extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Wl.default=r,Wl}var Lf;function hp(){if(Lf)return Hs;Lf=1;var r=Hs&&Hs.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Hs,"__esModule",{value:!0});const i=r(n_),s=r(cp());class l{constructor(d){this.shouldThrowOnError=!1,this.method=d.method,this.url=d.url,this.headers=d.headers,this.schema=d.schema,this.body=d.body,this.shouldThrowOnError=d.shouldThrowOnError,this.signal=d.signal,this.isMaybeSingle=d.isMaybeSingle,d.fetch?this.fetch=d.fetch:typeof fetch>"u"?this.fetch=i.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(d,m){return this.headers=Object.assign({},this.headers),this.headers[d]=m,this}then(d,m){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const y=this.fetch;let v=y(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async w=>{var k,P,R;let N=null,B=null,D=null,F=w.status,G=w.statusText;if(w.ok){if(this.method!=="HEAD"){const xe=await w.text();xe===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?B=xe:B=JSON.parse(xe))}const V=(k=this.headers.Prefer)===null||k===void 0?void 0:k.match(/count=(exact|planned|estimated)/),re=(P=w.headers.get("content-range"))===null||P===void 0?void 0:P.split("/");V&&re&&re.length>1&&(D=parseInt(re[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(B)&&(B.length>1?(N={code:"PGRST116",details:`Results contain ${B.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},B=null,D=null,F=406,G="Not Acceptable"):B.length===1?B=B[0]:B=null)}else{const V=await w.text();try{N=JSON.parse(V),Array.isArray(N)&&w.status===404&&(B=[],N=null,F=200,G="OK")}catch{w.status===404&&V===""?(F=204,G="No Content"):N={message:V}}if(N&&this.isMaybeSingle&&(!((R=N?.details)===null||R===void 0)&&R.includes("0 rows"))&&(N=null,F=200,G="OK"),N&&this.shouldThrowOnError)throw new s.default(N)}return{error:N,data:B,count:D,status:F,statusText:G}});return this.shouldThrowOnError||(v=v.catch(w=>{var k,P,R;return{error:{message:`${(k=w?.name)!==null&&k!==void 0?k:"FetchError"}: ${w?.message}`,details:`${(P=w?.stack)!==null&&P!==void 0?P:""}`,hint:"",code:`${(R=w?.code)!==null&&R!==void 0?R:""}`},data:null,count:null,status:0,statusText:""}})),v.then(d,m)}returns(){return this}overrideTypes(){return this}}return Hs.default=l,Hs}var Cf;function dp(){if(Cf)return qs;Cf=1;var r=qs&&qs.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(qs,"__esModule",{value:!0});const i=r(hp());class s extends i.default{select(u){let d=!1;const m=(u??"*").split("").map(y=>/\s/.test(y)&&!d?"":(y==='"'&&(d=!d),y)).join("");return this.url.searchParams.set("select",m),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(u,{ascending:d=!0,nullsFirst:m,foreignTable:y,referencedTable:v=y}={}){const w=v?`${v}.order`:"order",k=this.url.searchParams.get(w);return this.url.searchParams.set(w,`${k?`${k},`:""}${u}.${d?"asc":"desc"}${m===void 0?"":m?".nullsfirst":".nullslast"}`),this}limit(u,{foreignTable:d,referencedTable:m=d}={}){const y=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(y,`${u}`),this}range(u,d,{foreignTable:m,referencedTable:y=m}={}){const v=typeof y>"u"?"offset":`${y}.offset`,w=typeof y>"u"?"limit":`${y}.limit`;return this.url.searchParams.set(v,`${u}`),this.url.searchParams.set(w,`${d-u+1}`),this}abortSignal(u){return this.signal=u,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:u=!1,verbose:d=!1,settings:m=!1,buffers:y=!1,wal:v=!1,format:w="text"}={}){var k;const P=[u?"analyze":null,d?"verbose":null,m?"settings":null,y?"buffers":null,v?"wal":null].filter(Boolean).join("|"),R=(k=this.headers.Accept)!==null&&k!==void 0?k:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${w}; for="${R}"; options=${P};`,w==="json"?this:this}rollback(){var u;return((u=this.headers.Prefer)!==null&&u!==void 0?u:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return qs.default=s,qs}var Of;function yh(){if(Of)return Ws;Of=1;var r=Ws&&Ws.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Ws,"__esModule",{value:!0});const i=r(dp());class s extends i.default{eq(u,d){return this.url.searchParams.append(u,`eq.${d}`),this}neq(u,d){return this.url.searchParams.append(u,`neq.${d}`),this}gt(u,d){return this.url.searchParams.append(u,`gt.${d}`),this}gte(u,d){return this.url.searchParams.append(u,`gte.${d}`),this}lt(u,d){return this.url.searchParams.append(u,`lt.${d}`),this}lte(u,d){return this.url.searchParams.append(u,`lte.${d}`),this}like(u,d){return this.url.searchParams.append(u,`like.${d}`),this}likeAllOf(u,d){return this.url.searchParams.append(u,`like(all).{${d.join(",")}}`),this}likeAnyOf(u,d){return this.url.searchParams.append(u,`like(any).{${d.join(",")}}`),this}ilike(u,d){return this.url.searchParams.append(u,`ilike.${d}`),this}ilikeAllOf(u,d){return this.url.searchParams.append(u,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(u,d){return this.url.searchParams.append(u,`ilike(any).{${d.join(",")}}`),this}is(u,d){return this.url.searchParams.append(u,`is.${d}`),this}in(u,d){const m=Array.from(new Set(d)).map(y=>typeof y=="string"&&new RegExp("[,()]").test(y)?`"${y}"`:`${y}`).join(",");return this.url.searchParams.append(u,`in.(${m})`),this}contains(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cs.{${d.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(d)}`),this}containedBy(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cd.{${d.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(d)}`),this}rangeGt(u,d){return this.url.searchParams.append(u,`sr.${d}`),this}rangeGte(u,d){return this.url.searchParams.append(u,`nxl.${d}`),this}rangeLt(u,d){return this.url.searchParams.append(u,`sl.${d}`),this}rangeLte(u,d){return this.url.searchParams.append(u,`nxr.${d}`),this}rangeAdjacent(u,d){return this.url.searchParams.append(u,`adj.${d}`),this}overlaps(u,d){return typeof d=="string"?this.url.searchParams.append(u,`ov.${d}`):this.url.searchParams.append(u,`ov.{${d.join(",")}}`),this}textSearch(u,d,{config:m,type:y}={}){let v="";y==="plain"?v="pl":y==="phrase"?v="ph":y==="websearch"&&(v="w");const w=m===void 0?"":`(${m})`;return this.url.searchParams.append(u,`${v}fts${w}.${d}`),this}match(u){return Object.entries(u).forEach(([d,m])=>{this.url.searchParams.append(d,`eq.${m}`)}),this}not(u,d,m){return this.url.searchParams.append(u,`not.${d}.${m}`),this}or(u,{foreignTable:d,referencedTable:m=d}={}){const y=m?`${m}.or`:"or";return this.url.searchParams.append(y,`(${u})`),this}filter(u,d,m){return this.url.searchParams.append(u,`${d}.${m}`),this}}return Ws.default=s,Ws}var Rf;function fp(){if(Rf)return Zs;Rf=1;var r=Zs&&Zs.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Zs,"__esModule",{value:!0});const i=r(yh());class s{constructor(u,{headers:d={},schema:m,fetch:y}){this.url=u,this.headers=d,this.schema=m,this.fetch=y}select(u,{head:d=!1,count:m}={}){const y=d?"HEAD":"GET";let v=!1;const w=(u??"*").split("").map(k=>/\s/.test(k)&&!v?"":(k==='"'&&(v=!v),k)).join("");return this.url.searchParams.set("select",w),m&&(this.headers.Prefer=`count=${m}`),new i.default({method:y,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(u,{count:d,defaultToNull:m=!0}={}){const y="POST",v=[];if(this.headers.Prefer&&v.push(this.headers.Prefer),d&&v.push(`count=${d}`),m||v.push("missing=default"),this.headers.Prefer=v.join(","),Array.isArray(u)){const w=u.reduce((k,P)=>k.concat(Object.keys(P)),[]);if(w.length>0){const k=[...new Set(w)].map(P=>`"${P}"`);this.url.searchParams.set("columns",k.join(","))}}return new i.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:this.fetch,allowEmpty:!1})}upsert(u,{onConflict:d,ignoreDuplicates:m=!1,count:y,defaultToNull:v=!0}={}){const w="POST",k=[`resolution=${m?"ignore":"merge"}-duplicates`];if(d!==void 0&&this.url.searchParams.set("on_conflict",d),this.headers.Prefer&&k.push(this.headers.Prefer),y&&k.push(`count=${y}`),v||k.push("missing=default"),this.headers.Prefer=k.join(","),Array.isArray(u)){const P=u.reduce((R,N)=>R.concat(Object.keys(N)),[]);if(P.length>0){const R=[...new Set(P)].map(N=>`"${N}"`);this.url.searchParams.set("columns",R.join(","))}}return new i.default({method:w,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:this.fetch,allowEmpty:!1})}update(u,{count:d}={}){const m="PATCH",y=[];return this.headers.Prefer&&y.push(this.headers.Prefer),d&&y.push(`count=${d}`),this.headers.Prefer=y.join(","),new i.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:this.fetch,allowEmpty:!1})}delete({count:u}={}){const d="DELETE",m=[];return u&&m.push(`count=${u}`),this.headers.Prefer&&m.unshift(this.headers.Prefer),this.headers.Prefer=m.join(","),new i.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Zs.default=s,Zs}var oa={},aa={},Af;function i_(){return Af||(Af=1,Object.defineProperty(aa,"__esModule",{value:!0}),aa.version=void 0,aa.version="0.0.0-automated"),aa}var If;function r_(){if(If)return oa;If=1,Object.defineProperty(oa,"__esModule",{value:!0}),oa.DEFAULT_HEADERS=void 0;const r=i_();return oa.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${r.version}`},oa}var Mf;function s_(){if(Mf)return $s;Mf=1;var r=$s&&$s.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty($s,"__esModule",{value:!0});const i=r(fp()),s=r(yh()),l=r_();class u{constructor(m,{headers:y={},schema:v,fetch:w}={}){this.url=m,this.headers=Object.assign(Object.assign({},l.DEFAULT_HEADERS),y),this.schemaName=v,this.fetch=w}from(m){const y=new URL(`${this.url}/${m}`);return new i.default(y,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(m){return new u(this.url,{headers:this.headers,schema:m,fetch:this.fetch})}rpc(m,y={},{head:v=!1,get:w=!1,count:k}={}){let P;const R=new URL(`${this.url}/rpc/${m}`);let N;v||w?(P=v?"HEAD":"GET",Object.entries(y).filter(([D,F])=>F!==void 0).map(([D,F])=>[D,Array.isArray(F)?`{${F.join(",")}}`:`${F}`]).forEach(([D,F])=>{R.searchParams.append(D,F)})):(P="POST",N=y);const B=Object.assign({},this.headers);return k&&(B.Prefer=`count=${k}`),new s.default({method:P,url:R,headers:B,schema:this.schemaName,body:N,fetch:this.fetch,allowEmpty:!1})}}return $s.default=u,$s}var Nf;function o_(){if(Nf)return vt;Nf=1;var r=vt&&vt.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(vt,"__esModule",{value:!0}),vt.PostgrestError=vt.PostgrestBuilder=vt.PostgrestTransformBuilder=vt.PostgrestFilterBuilder=vt.PostgrestQueryBuilder=vt.PostgrestClient=void 0;const i=r(s_());vt.PostgrestClient=i.default;const s=r(fp());vt.PostgrestQueryBuilder=s.default;const l=r(yh());vt.PostgrestFilterBuilder=l.default;const u=r(dp());vt.PostgrestTransformBuilder=u.default;const d=r(hp());vt.PostgrestBuilder=d.default;const m=r(cp());return vt.PostgrestError=m.default,vt.default={PostgrestClient:i.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:l.default,PostgrestTransformBuilder:u.default,PostgrestBuilder:d.default,PostgrestError:m.default},vt}var a_=o_();const l_=ru(a_),{PostgrestClient:u_,PostgrestQueryBuilder:lw,PostgrestFilterBuilder:uw,PostgrestTransformBuilder:cw,PostgrestBuilder:hw,PostgrestError:dw}=l_;class c_{static detectEnvironment(){var i;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((i=navigator.userAgent)===null||i===void 0)&&i.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const s=parseInt(process.versions.node.split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const i=this.detectEnvironment();if(i.constructor)return i.constructor;let s=i.error||"WebSocket not supported in this environment.";throw i.workaround&&(s+=`

Suggested solution: ${i.workaround}`),new Error(s)}static createWebSocket(i,s){const l=this.getWebSocketConstructor();return new l(i,s)}static isWebSocketSupported(){try{const i=this.detectEnvironment();return i.type==="native"||i.type==="ws"}catch{return!1}}}const h_="2.15.1",d_=`realtime-js/${h_}`,f_="1.0.0",eh=1e4,p_=1e3,m_=100;var ha;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(ha||(ha={}));var ft;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(ft||(ft={}));var Ln;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Ln||(Ln={}));var th;(function(r){r.websocket="websocket"})(th||(th={}));var qr;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(qr||(qr={}));class __{constructor(){this.HEADER_LENGTH=1}decode(i,s){return i.constructor===ArrayBuffer?s(this._binaryDecode(i)):s(typeof i=="string"?JSON.parse(i):{})}_binaryDecode(i){const s=new DataView(i),l=new TextDecoder;return this._decodeBroadcast(i,s,l)}_decodeBroadcast(i,s,l){const u=s.getUint8(1),d=s.getUint8(2);let m=this.HEADER_LENGTH+2;const y=l.decode(i.slice(m,m+u));m=m+u;const v=l.decode(i.slice(m,m+d));m=m+d;const w=JSON.parse(l.decode(i.slice(m,i.byteLength)));return{ref:null,topic:y,event:v,payload:w}}}class pp{constructor(i,s){this.callback=i,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=i,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var $e;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})($e||($e={}));const zf=(r,i,s={})=>{var l;const u=(l=s.skipTypes)!==null&&l!==void 0?l:[];return Object.keys(i).reduce((d,m)=>(d[m]=g_(m,r,i,u),d),{})},g_=(r,i,s,l)=>{const u=i.find(y=>y.name===r),d=u?.type,m=s[r];return d&&!l.includes(d)?mp(d,m):nh(m)},mp=(r,i)=>{if(r.charAt(0)==="_"){const s=r.slice(1,r.length);return x_(i,s)}switch(r){case $e.bool:return v_(i);case $e.float4:case $e.float8:case $e.int2:case $e.int4:case $e.int8:case $e.numeric:case $e.oid:return y_(i);case $e.json:case $e.jsonb:return w_(i);case $e.timestamp:return S_(i);case $e.abstime:case $e.date:case $e.daterange:case $e.int4range:case $e.int8range:case $e.money:case $e.reltime:case $e.text:case $e.time:case $e.timestamptz:case $e.timetz:case $e.tsrange:case $e.tstzrange:return nh(i);default:return nh(i)}},nh=r=>r,v_=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},y_=r=>{if(typeof r=="string"){const i=parseFloat(r);if(!Number.isNaN(i))return i}return r},w_=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(i){return console.log(`JSON parse error: ${i}`),r}return r},x_=(r,i)=>{if(typeof r!="string")return r;const s=r.length-1,l=r[s];if(r[0]==="{"&&l==="}"){let d;const m=r.slice(1,s);try{d=JSON.parse("["+m+"]")}catch{d=m?m.split(","):[]}return d.map(y=>mp(i,y))}return r},S_=r=>typeof r=="string"?r.replace(" ","T"):r,_p=r=>{let i=r;return i=i.replace(/^ws/i,"http"),i=i.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),i.replace(/\/+$/,"")+"/api/broadcast"};class Zc{constructor(i,s,l={},u=eh){this.channel=i,this.event=s,this.payload=l,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(i){this.timeout=i,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(i){this.payload=Object.assign(Object.assign({},this.payload),i)}receive(i,s){var l;return this._hasReceived(i)&&s((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:i,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const i=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},i),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(i,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:i,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:i,response:s}){this.recHooks.filter(l=>l.status===i).forEach(l=>l.callback(s))}_hasReceived(i){return this.receivedResp&&this.receivedResp.status===i}}var jf;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(jf||(jf={}));class da{constructor(i,s){this.channel=i,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},u=>{const{onJoin:d,onLeave:m,onSync:y}=this.caller;this.joinRef=this.channel._joinRef(),this.state=da.syncState(this.state,u,d,m),this.pendingDiffs.forEach(v=>{this.state=da.syncDiff(this.state,v,d,m)}),this.pendingDiffs=[],y()}),this.channel._on(l.diff,{},u=>{const{onJoin:d,onLeave:m,onSync:y}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=da.syncDiff(this.state,u,d,m),y())}),this.onJoin((u,d,m)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:d,newPresences:m})}),this.onLeave((u,d,m)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:d,leftPresences:m})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(i,s,l,u){const d=this.cloneDeep(i),m=this.transformState(s),y={},v={};return this.map(d,(w,k)=>{m[w]||(v[w]=k)}),this.map(m,(w,k)=>{const P=d[w];if(P){const R=k.map(F=>F.presence_ref),N=P.map(F=>F.presence_ref),B=k.filter(F=>N.indexOf(F.presence_ref)<0),D=P.filter(F=>R.indexOf(F.presence_ref)<0);B.length>0&&(y[w]=B),D.length>0&&(v[w]=D)}else y[w]=k}),this.syncDiff(d,{joins:y,leaves:v},l,u)}static syncDiff(i,s,l,u){const{joins:d,leaves:m}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return l||(l=()=>{}),u||(u=()=>{}),this.map(d,(y,v)=>{var w;const k=(w=i[y])!==null&&w!==void 0?w:[];if(i[y]=this.cloneDeep(v),k.length>0){const P=i[y].map(N=>N.presence_ref),R=k.filter(N=>P.indexOf(N.presence_ref)<0);i[y].unshift(...R)}l(y,k,v)}),this.map(m,(y,v)=>{let w=i[y];if(!w)return;const k=v.map(P=>P.presence_ref);w=w.filter(P=>k.indexOf(P.presence_ref)<0),i[y]=w,u(y,w,v),w.length===0&&delete i[y]}),i}static map(i,s){return Object.getOwnPropertyNames(i).map(l=>s(l,i[l]))}static transformState(i){return i=this.cloneDeep(i),Object.getOwnPropertyNames(i).reduce((s,l)=>{const u=i[l];return"metas"in u?s[l]=u.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):s[l]=u,s},{})}static cloneDeep(i){return JSON.parse(JSON.stringify(i))}onJoin(i){this.caller.onJoin=i}onLeave(i){this.caller.onLeave=i}onSync(i){this.caller.onSync=i}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Df;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Df||(Df={}));var fa;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(fa||(fa={}));var mi;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(mi||(mi={}));class wh{constructor(i,s={config:{}},l){this.topic=i,this.params=s,this.socket=l,this.bindings={},this.state=ft.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=i.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Zc(this,Ln.join,this.params,this.timeout),this.rejoinTimer=new pp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ft.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ft.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ln.reply,{},(u,d)=>{this._trigger(this._replyEventName(d),u)}),this.presence=new da(this),this.broadcastEndpointURL=_p(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(i,s=this.timeout){var l,u;if(this.socket.isConnected()||this.socket.connect(),this.state==ft.closed){const{config:{broadcast:d,presence:m,private:y}}=this.params,v=(u=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(R=>R.filter))!==null&&u!==void 0?u:[],w=!!this.bindings[fa.PRESENCE]&&this.bindings[fa.PRESENCE].length>0,k={},P={broadcast:d,presence:Object.assign(Object.assign({},m),{enabled:w}),postgres_changes:v,private:y};this.socket.accessTokenValue&&(k.access_token=this.socket.accessTokenValue),this._onError(R=>i?.(mi.CHANNEL_ERROR,R)),this._onClose(()=>i?.(mi.CLOSED)),this.updateJoinPayload(Object.assign({config:P},k)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:R})=>{var N;if(this.socket.setAuth(),R===void 0){i?.(mi.SUBSCRIBED);return}else{const B=this.bindings.postgres_changes,D=(N=B?.length)!==null&&N!==void 0?N:0,F=[];for(let G=0;G<D;G++){const he=B[G],{filter:{event:V,schema:re,table:xe,filter:ge}}=he,Se=R&&R[G];if(Se&&Se.event===V&&Se.schema===re&&Se.table===xe&&Se.filter===ge)F.push(Object.assign(Object.assign({},he),{id:Se.id}));else{this.unsubscribe(),this.state=ft.errored,i?.(mi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=F,i&&i(mi.SUBSCRIBED);return}}).receive("error",R=>{this.state=ft.errored,i?.(mi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(R).join(", ")||"error")))}).receive("timeout",()=>{i?.(mi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(i,s={}){return await this.send({type:"presence",event:"track",payload:i},s.timeout||this.timeout)}async untrack(i={}){return await this.send({type:"presence",event:"untrack"},i)}on(i,s,l){return this.state===ft.joined&&i===fa.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(i,s,l)}async send(i,s={}){var l,u;if(!this._canPush()&&i.type==="broadcast"){const{event:d,payload:m}=i,v={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:m,private:this.private}]})};try{const w=await this._fetchWithTimeout(this.broadcastEndpointURL,v,(l=s.timeout)!==null&&l!==void 0?l:this.timeout);return await((u=w.body)===null||u===void 0?void 0:u.cancel()),w.ok?"ok":"error"}catch(w){return w.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var m,y,v;const w=this._push(i.type,i,s.timeout||this.timeout);i.type==="broadcast"&&!(!((v=(y=(m=this.params)===null||m===void 0?void 0:m.config)===null||y===void 0?void 0:y.broadcast)===null||v===void 0)&&v.ack)&&d("ok"),w.receive("ok",()=>d("ok")),w.receive("error",()=>d("error")),w.receive("timeout",()=>d("timed out"))})}updateJoinPayload(i){this.joinPush.updatePayload(i)}unsubscribe(i=this.timeout){this.state=ft.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ln.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(u=>{l=new Zc(this,Ln.leave,{},i),l.receive("ok",()=>{s(),u("ok")}).receive("timeout",()=>{s(),u("timed out")}).receive("error",()=>{u("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(i=>i.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ft.closed,this.bindings={}}async _fetchWithTimeout(i,s,l){const u=new AbortController,d=setTimeout(()=>u.abort(),l),m=await this.socket.fetch(i,Object.assign(Object.assign({},s),{signal:u.signal}));return clearTimeout(d),m}_push(i,s,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${i}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new Zc(this,i,s,l);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(i){if(i.startTimeout(),this.pushBuffer.push(i),this.pushBuffer.length>m_){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(i,s,l){return s}_isMember(i){return this.topic===i}_joinRef(){return this.joinPush.ref}_trigger(i,s,l){var u,d;const m=i.toLocaleLowerCase(),{close:y,error:v,leave:w,join:k}=Ln;if(l&&[y,v,w,k].indexOf(m)>=0&&l!==this._joinRef())return;let R=this._onMessage(m,s,l);if(s&&!R)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(m)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(N=>{var B,D,F;return((B=N.filter)===null||B===void 0?void 0:B.event)==="*"||((F=(D=N.filter)===null||D===void 0?void 0:D.event)===null||F===void 0?void 0:F.toLocaleLowerCase())===m}).map(N=>N.callback(R,l)):(d=this.bindings[m])===null||d===void 0||d.filter(N=>{var B,D,F,G,he,V;if(["broadcast","presence","postgres_changes"].includes(m))if("id"in N){const re=N.id,xe=(B=N.filter)===null||B===void 0?void 0:B.event;return re&&((D=s.ids)===null||D===void 0?void 0:D.includes(re))&&(xe==="*"||xe?.toLocaleLowerCase()===((F=s.data)===null||F===void 0?void 0:F.type.toLocaleLowerCase()))}else{const re=(he=(G=N?.filter)===null||G===void 0?void 0:G.event)===null||he===void 0?void 0:he.toLocaleLowerCase();return re==="*"||re===((V=s?.event)===null||V===void 0?void 0:V.toLocaleLowerCase())}else return N.type.toLocaleLowerCase()===m}).map(N=>{if(typeof R=="object"&&"ids"in R){const B=R.data,{schema:D,table:F,commit_timestamp:G,type:he,errors:V}=B;R=Object.assign(Object.assign({},{schema:D,table:F,commit_timestamp:G,eventType:he,new:{},old:{},errors:V}),this._getPayloadRecords(B))}N.callback(R,l)})}_isClosed(){return this.state===ft.closed}_isJoined(){return this.state===ft.joined}_isJoining(){return this.state===ft.joining}_isLeaving(){return this.state===ft.leaving}_replyEventName(i){return`chan_reply_${i}`}_on(i,s,l){const u=i.toLocaleLowerCase(),d={type:u,filter:s,callback:l};return this.bindings[u]?this.bindings[u].push(d):this.bindings[u]=[d],this}_off(i,s){const l=i.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(u=>{var d;return!(((d=u.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===l&&wh.isEqual(u.filter,s))})),this}static isEqual(i,s){if(Object.keys(i).length!==Object.keys(s).length)return!1;for(const l in i)if(i[l]!==s[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(i){this._on(Ln.close,{},i)}_onError(i){this._on(Ln.error,{},s=>i(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(i=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ft.joining,this.joinPush.resend(i))}_getPayloadRecords(i){const s={new:{},old:{}};return(i.type==="INSERT"||i.type==="UPDATE")&&(s.new=zf(i.columns,i.record)),(i.type==="UPDATE"||i.type==="DELETE")&&(s.old=zf(i.columns,i.old_record)),s}}const Bf=()=>{},ql={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},k_=[1e3,2e3,5e3,1e4],P_=1e4,T_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class b_{constructor(i,s){var l;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=eh,this.transport=null,this.heartbeatIntervalMs=ql.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Bf,this.ref=0,this.reconnectTimer=null,this.logger=Bf,this.conn=null,this.sendBuffer=[],this.serializer=new __,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=u=>{let d;return u?d=u:typeof fetch>"u"?d=(...m)=>_a(async()=>{const{default:y}=await Promise.resolve().then(()=>to);return{default:y}},void 0).then(({default:y})=>y(...m)).catch(y=>{throw new Error(`Failed to load @supabase/node-fetch: ${y.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):d=fetch,(...m)=>d(...m)},!(!((l=s?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${i}/${th.websocket}`,this.httpEndpoint=_p(i),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=c_.createWebSocket(this.endpointURL())}catch(i){this._setConnectionState("disconnected");const s=i.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:f_}))}disconnect(i,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},i?this.conn.close(i,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(i){const s=await i.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const i=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),i}log(i,s,l){this.logger(i,s,l)}connectionState(){switch(this.conn&&this.conn.readyState){case ha.connecting:return qr.Connecting;case ha.open:return qr.Open;case ha.closing:return qr.Closing;default:return qr.Closed}}isConnected(){return this.connectionState()===qr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(i,s={config:{}}){const l=`realtime:${i}`,u=this.getChannels().find(d=>d.topic===l);if(u)return u;{const d=new wh(`realtime:${i}`,s,this);return this.channels.push(d),d}}push(i){const{topic:s,event:l,payload:u,ref:d}=i,m=()=>{this.encode(i,y=>{var v;(v=this.conn)===null||v===void 0||v.send(y)})};this.log("push",`${s} ${l} (${d})`,u),this.isConnected()?m():this.sendBuffer.push(m)}async setAuth(i=null){this._authPromise=this._performAuth(i);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var i;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(i=this.conn)===null||i===void 0||i.close(p_,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},ql.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(i){this.heartbeatCallback=i}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(i=>i()),this.sendBuffer=[])}_makeRef(){let i=this.ref+1;return i===this.ref?this.ref=0:this.ref=i,this.ref.toString()}_leaveOpenTopic(i){let s=this.channels.find(l=>l.topic===i&&(l._isJoined()||l._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${i}"`),s.unsubscribe())}_remove(i){this.channels=this.channels.filter(s=>s.topic!==i.topic)}_onConnMessage(i){this.decode(i.data,s=>{s.topic==="phoenix"&&s.event==="phx_reply"&&this.heartbeatCallback(s.payload.status==="ok"?"ok":"error"),s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:u,payload:d,ref:m}=s,y=m?`(${m})`:"",v=d.status||"";this.log("receive",`${v} ${l} ${u} ${y}`.trim(),d),this.channels.filter(w=>w._isMember(l)).forEach(w=>w._trigger(u,d,m)),this._triggerStateCallbacks("message",s)})}_clearTimer(i){var s;i==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):i==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=i=>this._onConnError(i),this.conn.onmessage=i=>this._onConnMessage(i),this.conn.onclose=i=>this._onConnClose(i))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(i=>i.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const i=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(i),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(i){var s;this._setConnectionState("disconnected"),this.log("transport","close",i),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",i)}_onConnError(i){this._setConnectionState("disconnected"),this.log("transport",`${i}`),this._triggerChanError(),this._triggerStateCallbacks("error",i)}_triggerChanError(){this.channels.forEach(i=>i._trigger(Ln.error))}_appendParams(i,s){if(Object.keys(s).length===0)return i;const l=i.match(/\?/)?"&":"?",u=new URLSearchParams(s);return`${i}${l}${u}`}_workerObjectUrl(i){let s;if(i)s=i;else{const l=new Blob([T_],{type:"application/javascript"});s=URL.createObjectURL(l)}return s}_setConnectionState(i,s=!1){this._connectionState=i,i==="connecting"?this._wasManualDisconnect=!1:i==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(i=null){let s;i?s=i:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(l=>{const u={access_token:s,version:d_};s&&l.updateJoinPayload(u),l.joinedOnce&&l._isJoined()&&l._push(Ln.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(i="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${i}`,s)})}_triggerStateCallbacks(i,s){try{this.stateChangeCallbacks[i].forEach(l=>{try{l(s)}catch(u){this.log("error",`error in ${i} callback`,u)}})}catch(l){this.log("error",`error triggering ${i} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new pp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ql.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(i){var s,l,u,d,m,y,v,w;if(this.transport=(s=i?.transport)!==null&&s!==void 0?s:null,this.timeout=(l=i?.timeout)!==null&&l!==void 0?l:eh,this.heartbeatIntervalMs=(u=i?.heartbeatIntervalMs)!==null&&u!==void 0?u:ql.HEARTBEAT_INTERVAL,this.worker=(d=i?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(m=i?.accessToken)!==null&&m!==void 0?m:null,i?.params&&(this.params=i.params),i?.logger&&(this.logger=i.logger),(i?.logLevel||i?.log_level)&&(this.logLevel=i.logLevel||i.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=i?.reconnectAfterMs)!==null&&y!==void 0?y:(k=>k_[k-1]||P_),this.encode=(v=i?.encode)!==null&&v!==void 0?v:((k,P)=>P(JSON.stringify(k))),this.decode=(w=i?.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=i?.workerUrl}}}class xh extends Error{constructor(i){super(i),this.__isStorageError=!0,this.name="StorageError"}}function pt(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class E_ extends xh{constructor(i,s,l){super(i),this.name="StorageApiError",this.status=s,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ih extends xh{constructor(i,s){super(i),this.name="StorageUnknownError",this.originalError=s}}var L_=function(r,i,s,l){function u(d){return d instanceof s?d:new s(function(m){m(d)})}return new(s||(s=Promise))(function(d,m){function y(k){try{w(l.next(k))}catch(P){m(P)}}function v(k){try{w(l.throw(k))}catch(P){m(P)}}function w(k){k.done?d(k.value):u(k.value).then(y,v)}w((l=l.apply(r,i||[])).next())})};const gp=r=>{let i;return r?i=r:typeof fetch>"u"?i=(...s)=>_a(async()=>{const{default:l}=await Promise.resolve().then(()=>to);return{default:l}},void 0).then(({default:l})=>l(...s)):i=fetch,(...s)=>i(...s)},C_=()=>L_(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield _a(()=>Promise.resolve().then(()=>to),void 0)).Response:Response}),rh=r=>{if(Array.isArray(r))return r.map(s=>rh(s));if(typeof r=="function"||r!==Object(r))return r;const i={};return Object.entries(r).forEach(([s,l])=>{const u=s.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));i[u]=rh(l)}),i},O_=r=>{if(typeof r!="object"||r===null)return!1;const i=Object.getPrototypeOf(r);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)};var Vr=function(r,i,s,l){function u(d){return d instanceof s?d:new s(function(m){m(d)})}return new(s||(s=Promise))(function(d,m){function y(k){try{w(l.next(k))}catch(P){m(P)}}function v(k){try{w(l.throw(k))}catch(P){m(P)}}function w(k){k.done?d(k.value):u(k.value).then(y,v)}w((l=l.apply(r,i||[])).next())})};const Wc=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),R_=(r,i,s)=>Vr(void 0,void 0,void 0,function*(){const l=yield C_();r instanceof l&&!s?.noResolveJson?r.json().then(u=>{const d=r.status||500,m=u?.statusCode||d+"";i(new E_(Wc(u),d,m))}).catch(u=>{i(new ih(Wc(u),u))}):i(new ih(Wc(r),r))}),A_=(r,i,s,l)=>{const u={method:r,headers:i?.headers||{}};return r==="GET"||!l?u:(O_(l)?(u.headers=Object.assign({"Content-Type":"application/json"},i?.headers),u.body=JSON.stringify(l)):u.body=l,i?.duplex&&(u.duplex=i.duplex),Object.assign(Object.assign({},u),s))};function ga(r,i,s,l,u,d){return Vr(this,void 0,void 0,function*(){return new Promise((m,y)=>{r(s,A_(i,l,u,d)).then(v=>{if(!v.ok)throw v;return l?.noResolveJson?v:v.json()}).then(v=>m(v)).catch(v=>R_(v,y,l))})})}function Xl(r,i,s,l){return Vr(this,void 0,void 0,function*(){return ga(r,"GET",i,s,l)})}function $n(r,i,s,l,u){return Vr(this,void 0,void 0,function*(){return ga(r,"POST",i,l,u,s)})}function sh(r,i,s,l,u){return Vr(this,void 0,void 0,function*(){return ga(r,"PUT",i,l,u,s)})}function I_(r,i,s,l){return Vr(this,void 0,void 0,function*(){return ga(r,"HEAD",i,Object.assign(Object.assign({},s),{noResolveJson:!0}),l)})}function vp(r,i,s,l,u){return Vr(this,void 0,void 0,function*(){return ga(r,"DELETE",i,l,u,s)})}var zt=function(r,i,s,l){function u(d){return d instanceof s?d:new s(function(m){m(d)})}return new(s||(s=Promise))(function(d,m){function y(k){try{w(l.next(k))}catch(P){m(P)}}function v(k){try{w(l.throw(k))}catch(P){m(P)}}function w(k){k.done?d(k.value):u(k.value).then(y,v)}w((l=l.apply(r,i||[])).next())})};const M_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ff={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class N_{constructor(i,s={},l,u){this.url=i,this.headers=s,this.bucketId=l,this.fetch=gp(u)}uploadOrUpdate(i,s,l,u){return zt(this,void 0,void 0,function*(){try{let d;const m=Object.assign(Object.assign({},Ff),u);let y=Object.assign(Object.assign({},this.headers),i==="POST"&&{"x-upsert":String(m.upsert)});const v=m.metadata;typeof Blob<"u"&&l instanceof Blob?(d=new FormData,d.append("cacheControl",m.cacheControl),v&&d.append("metadata",this.encodeMetadata(v)),d.append("",l)):typeof FormData<"u"&&l instanceof FormData?(d=l,d.append("cacheControl",m.cacheControl),v&&d.append("metadata",this.encodeMetadata(v))):(d=l,y["cache-control"]=`max-age=${m.cacheControl}`,y["content-type"]=m.contentType,v&&(y["x-metadata"]=this.toBase64(this.encodeMetadata(v)))),u?.headers&&(y=Object.assign(Object.assign({},y),u.headers));const w=this._removeEmptyFolders(s),k=this._getFinalPath(w),P=yield(i=="PUT"?sh:$n)(this.fetch,`${this.url}/object/${k}`,d,Object.assign({headers:y},m?.duplex?{duplex:m.duplex}:{}));return{data:{path:w,id:P.Id,fullPath:P.Key},error:null}}catch(d){if(pt(d))return{data:null,error:d};throw d}})}upload(i,s,l){return zt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",i,s,l)})}uploadToSignedUrl(i,s,l,u){return zt(this,void 0,void 0,function*(){const d=this._removeEmptyFolders(i),m=this._getFinalPath(d),y=new URL(this.url+`/object/upload/sign/${m}`);y.searchParams.set("token",s);try{let v;const w=Object.assign({upsert:Ff.upsert},u),k=Object.assign(Object.assign({},this.headers),{"x-upsert":String(w.upsert)});typeof Blob<"u"&&l instanceof Blob?(v=new FormData,v.append("cacheControl",w.cacheControl),v.append("",l)):typeof FormData<"u"&&l instanceof FormData?(v=l,v.append("cacheControl",w.cacheControl)):(v=l,k["cache-control"]=`max-age=${w.cacheControl}`,k["content-type"]=w.contentType);const P=yield sh(this.fetch,y.toString(),v,{headers:k});return{data:{path:d,fullPath:P.Key},error:null}}catch(v){if(pt(v))return{data:null,error:v};throw v}})}createSignedUploadUrl(i,s){return zt(this,void 0,void 0,function*(){try{let l=this._getFinalPath(i);const u=Object.assign({},this.headers);s?.upsert&&(u["x-upsert"]="true");const d=yield $n(this.fetch,`${this.url}/object/upload/sign/${l}`,{},{headers:u}),m=new URL(this.url+d.url),y=m.searchParams.get("token");if(!y)throw new xh("No token returned by API");return{data:{signedUrl:m.toString(),path:i,token:y},error:null}}catch(l){if(pt(l))return{data:null,error:l};throw l}})}update(i,s,l){return zt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",i,s,l)})}move(i,s,l){return zt(this,void 0,void 0,function*(){try{return{data:yield $n(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:i,destinationKey:s,destinationBucket:l?.destinationBucket},{headers:this.headers}),error:null}}catch(u){if(pt(u))return{data:null,error:u};throw u}})}copy(i,s,l){return zt(this,void 0,void 0,function*(){try{return{data:{path:(yield $n(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:i,destinationKey:s,destinationBucket:l?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(u){if(pt(u))return{data:null,error:u};throw u}})}createSignedUrl(i,s,l){return zt(this,void 0,void 0,function*(){try{let u=this._getFinalPath(i),d=yield $n(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:s},l?.transform?{transform:l.transform}:{}),{headers:this.headers});const m=l?.download?`&download=${l.download===!0?"":l.download}`:"";return d={signedUrl:encodeURI(`${this.url}${d.signedURL}${m}`)},{data:d,error:null}}catch(u){if(pt(u))return{data:null,error:u};throw u}})}createSignedUrls(i,s,l){return zt(this,void 0,void 0,function*(){try{const u=yield $n(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:i},{headers:this.headers}),d=l?.download?`&download=${l.download===!0?"":l.download}`:"";return{data:u.map(m=>Object.assign(Object.assign({},m),{signedUrl:m.signedURL?encodeURI(`${this.url}${m.signedURL}${d}`):null})),error:null}}catch(u){if(pt(u))return{data:null,error:u};throw u}})}download(i,s){return zt(this,void 0,void 0,function*(){const u=typeof s?.transform<"u"?"render/image/authenticated":"object",d=this.transformOptsToQueryString(s?.transform||{}),m=d?`?${d}`:"";try{const y=this._getFinalPath(i);return{data:yield(yield Xl(this.fetch,`${this.url}/${u}/${y}${m}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(y){if(pt(y))return{data:null,error:y};throw y}})}info(i){return zt(this,void 0,void 0,function*(){const s=this._getFinalPath(i);try{const l=yield Xl(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:rh(l),error:null}}catch(l){if(pt(l))return{data:null,error:l};throw l}})}exists(i){return zt(this,void 0,void 0,function*(){const s=this._getFinalPath(i);try{return yield I_(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(l){if(pt(l)&&l instanceof ih){const u=l.originalError;if([400,404].includes(u?.status))return{data:!1,error:l}}throw l}})}getPublicUrl(i,s){const l=this._getFinalPath(i),u=[],d=s?.download?`download=${s.download===!0?"":s.download}`:"";d!==""&&u.push(d);const y=typeof s?.transform<"u"?"render/image":"object",v=this.transformOptsToQueryString(s?.transform||{});v!==""&&u.push(v);let w=u.join("&");return w!==""&&(w=`?${w}`),{data:{publicUrl:encodeURI(`${this.url}/${y}/public/${l}${w}`)}}}remove(i){return zt(this,void 0,void 0,function*(){try{return{data:yield vp(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:i},{headers:this.headers}),error:null}}catch(s){if(pt(s))return{data:null,error:s};throw s}})}list(i,s,l){return zt(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},M_),s),{prefix:i||""});return{data:yield $n(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},l),error:null}}catch(u){if(pt(u))return{data:null,error:u};throw u}})}listV2(i,s){return zt(this,void 0,void 0,function*(){try{const l=Object.assign({},i);return{data:yield $n(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,l,{headers:this.headers},s),error:null}}catch(l){if(pt(l))return{data:null,error:l};throw l}})}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i.replace(/^\/+/,"")}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const s=[];return i.width&&s.push(`width=${i.width}`),i.height&&s.push(`height=${i.height}`),i.resize&&s.push(`resize=${i.resize}`),i.format&&s.push(`format=${i.format}`),i.quality&&s.push(`quality=${i.quality}`),s.join("&")}}const z_="2.11.0",j_={"X-Client-Info":`storage-js/${z_}`};var Gs=function(r,i,s,l){function u(d){return d instanceof s?d:new s(function(m){m(d)})}return new(s||(s=Promise))(function(d,m){function y(k){try{w(l.next(k))}catch(P){m(P)}}function v(k){try{w(l.throw(k))}catch(P){m(P)}}function w(k){k.done?d(k.value):u(k.value).then(y,v)}w((l=l.apply(r,i||[])).next())})};class D_{constructor(i,s={},l,u){const d=new URL(i);u?.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href,this.headers=Object.assign(Object.assign({},j_),s),this.fetch=gp(l)}listBuckets(){return Gs(this,void 0,void 0,function*(){try{return{data:yield Xl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(i){if(pt(i))return{data:null,error:i};throw i}})}getBucket(i){return Gs(this,void 0,void 0,function*(){try{return{data:yield Xl(this.fetch,`${this.url}/bucket/${i}`,{headers:this.headers}),error:null}}catch(s){if(pt(s))return{data:null,error:s};throw s}})}createBucket(i,s={public:!1}){return Gs(this,void 0,void 0,function*(){try{return{data:yield $n(this.fetch,`${this.url}/bucket`,{id:i,name:i,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(pt(l))return{data:null,error:l};throw l}})}updateBucket(i,s){return Gs(this,void 0,void 0,function*(){try{return{data:yield sh(this.fetch,`${this.url}/bucket/${i}`,{id:i,name:i,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(pt(l))return{data:null,error:l};throw l}})}emptyBucket(i){return Gs(this,void 0,void 0,function*(){try{return{data:yield $n(this.fetch,`${this.url}/bucket/${i}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(pt(s))return{data:null,error:s};throw s}})}deleteBucket(i){return Gs(this,void 0,void 0,function*(){try{return{data:yield vp(this.fetch,`${this.url}/bucket/${i}`,{},{headers:this.headers}),error:null}}catch(s){if(pt(s))return{data:null,error:s};throw s}})}}class B_ extends D_{constructor(i,s={},l,u){super(i,s,l,u)}from(i){return new N_(this.url,this.headers,i,this.fetch)}}const F_="2.55.0";let ua="";typeof Deno<"u"?ua="deno":typeof document<"u"?ua="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ua="react-native":ua="node";const U_={"X-Client-Info":`supabase-js-${ua}/${F_}`},$_={headers:U_},Z_={schema:"public"},W_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},q_={};var H_=function(r,i,s,l){function u(d){return d instanceof s?d:new s(function(m){m(d)})}return new(s||(s=Promise))(function(d,m){function y(k){try{w(l.next(k))}catch(P){m(P)}}function v(k){try{w(l.throw(k))}catch(P){m(P)}}function w(k){k.done?d(k.value):u(k.value).then(y,v)}w((l=l.apply(r,i||[])).next())})};const G_=r=>{let i;return r?i=r:typeof fetch>"u"?i=lp:i=fetch,(...s)=>i(...s)},V_=()=>typeof Headers>"u"?up:Headers,K_=(r,i,s)=>{const l=G_(s),u=V_();return(d,m)=>H_(void 0,void 0,void 0,function*(){var y;const v=(y=yield i())!==null&&y!==void 0?y:r;let w=new u(m?.headers);return w.has("apikey")||w.set("apikey",r),w.has("Authorization")||w.set("Authorization",`Bearer ${v}`),l(d,Object.assign(Object.assign({},m),{headers:w}))})};var J_=function(r,i,s,l){function u(d){return d instanceof s?d:new s(function(m){m(d)})}return new(s||(s=Promise))(function(d,m){function y(k){try{w(l.next(k))}catch(P){m(P)}}function v(k){try{w(l.throw(k))}catch(P){m(P)}}function w(k){k.done?d(k.value):u(k.value).then(y,v)}w((l=l.apply(r,i||[])).next())})};function Q_(r){return r.endsWith("/")?r:r+"/"}function Y_(r,i){var s,l;const{db:u,auth:d,realtime:m,global:y}=r,{db:v,auth:w,realtime:k,global:P}=i,R={db:Object.assign(Object.assign({},v),u),auth:Object.assign(Object.assign({},w),d),realtime:Object.assign(Object.assign({},k),m),storage:{},global:Object.assign(Object.assign(Object.assign({},P),y),{headers:Object.assign(Object.assign({},(s=P?.headers)!==null&&s!==void 0?s:{}),(l=y?.headers)!==null&&l!==void 0?l:{})}),accessToken:()=>J_(this,void 0,void 0,function*(){return""})};return r.accessToken?R.accessToken=r.accessToken:delete R.accessToken,R}const yp="2.71.1",Ys=30*1e3,oh=3,qc=oh*Ys,X_="http://localhost:9999",eg="supabase.auth.token",tg={"X-Client-Info":`gotrue-js/${yp}`},ah="X-Supabase-Api-Version",wp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ng=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ig=600*1e3;class Sh extends Error{constructor(i,s,l){super(i),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=l}}function Te(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class rg extends Sh{constructor(i,s,l){super(i,s,l),this.name="AuthApiError",this.status=s,this.code=l}}function sg(r){return Te(r)&&r.name==="AuthApiError"}class xp extends Sh{constructor(i,s){super(i),this.name="AuthUnknownError",this.originalError=s}}class ur extends Sh{constructor(i,s,l,u){super(i,l,u),this.name=s,this.status=l}}class ar extends ur{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function og(r){return Te(r)&&r.name==="AuthSessionMissingError"}class Hl extends ur{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Gl extends ur{constructor(i){super(i,"AuthInvalidCredentialsError",400,void 0)}}class Vl extends ur{constructor(i,s=null){super(i,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ag(r){return Te(r)&&r.name==="AuthImplicitGrantRedirectError"}class Uf extends ur{constructor(i,s=null){super(i,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class lh extends ur{constructor(i,s){super(i,"AuthRetryableFetchError",s,void 0)}}function Hc(r){return Te(r)&&r.name==="AuthRetryableFetchError"}class $f extends ur{constructor(i,s,l){super(i,"AuthWeakPasswordError",s,"weak_password"),this.reasons=l}}class uh extends ur{constructor(i){super(i,"AuthInvalidJwtError",400,"invalid_jwt")}}const eu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Zf=` 	
\r=`.split(""),lg=(()=>{const r=new Array(128);for(let i=0;i<r.length;i+=1)r[i]=-1;for(let i=0;i<Zf.length;i+=1)r[Zf[i].charCodeAt(0)]=-2;for(let i=0;i<eu.length;i+=1)r[eu[i].charCodeAt(0)]=i;return r})();function Wf(r,i,s){if(r!==null)for(i.queue=i.queue<<8|r,i.queuedBits+=8;i.queuedBits>=6;){const l=i.queue>>i.queuedBits-6&63;s(eu[l]),i.queuedBits-=6}else if(i.queuedBits>0)for(i.queue=i.queue<<6-i.queuedBits,i.queuedBits=6;i.queuedBits>=6;){const l=i.queue>>i.queuedBits-6&63;s(eu[l]),i.queuedBits-=6}}function Sp(r,i,s){const l=lg[r];if(l>-1)for(i.queue=i.queue<<6|l,i.queuedBits+=6;i.queuedBits>=8;)s(i.queue>>i.queuedBits-8&255),i.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function qf(r){const i=[],s=m=>{i.push(String.fromCodePoint(m))},l={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},d=m=>{hg(m,l,s)};for(let m=0;m<r.length;m+=1)Sp(r.charCodeAt(m),u,d);return i.join("")}function ug(r,i){if(r<=127){i(r);return}else if(r<=2047){i(192|r>>6),i(128|r&63);return}else if(r<=65535){i(224|r>>12),i(128|r>>6&63),i(128|r&63);return}else if(r<=1114111){i(240|r>>18),i(128|r>>12&63),i(128|r>>6&63),i(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function cg(r,i){for(let s=0;s<r.length;s+=1){let l=r.charCodeAt(s);if(l>55295&&l<=56319){const u=(l-55296)*1024&65535;l=(r.charCodeAt(s+1)-56320&65535|u)+65536,s+=1}ug(l,i)}}function hg(r,i,s){if(i.utf8seq===0){if(r<=127){s(r);return}for(let l=1;l<6;l+=1)if((r>>7-l&1)===0){i.utf8seq=l;break}if(i.utf8seq===2)i.codepoint=r&31;else if(i.utf8seq===3)i.codepoint=r&15;else if(i.utf8seq===4)i.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");i.utf8seq-=1}else if(i.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");i.codepoint=i.codepoint<<6|r&63,i.utf8seq-=1,i.utf8seq===0&&s(i.codepoint)}}function dg(r){const i=[],s={queue:0,queuedBits:0},l=u=>{i.push(u)};for(let u=0;u<r.length;u+=1)Sp(r.charCodeAt(u),s,l);return new Uint8Array(i)}function fg(r){const i=[];return cg(r,s=>i.push(s)),new Uint8Array(i)}function pg(r){const i=[],s={queue:0,queuedBits:0},l=u=>{i.push(u)};return r.forEach(u=>Wf(u,s,l)),Wf(null,s,l),i.join("")}function mg(r){return Math.round(Date.now()/1e3)+r}function _g(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const i=Math.random()*16|0;return(r=="x"?i:i&3|8).toString(16)})}const En=()=>typeof window<"u"&&typeof document<"u",Ur={tested:!1,writable:!1},kp=()=>{if(!En())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ur.tested)return Ur.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Ur.tested=!0,Ur.writable=!0}catch{Ur.tested=!0,Ur.writable=!1}return Ur.writable};function gg(r){const i={},s=new URL(r);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((u,d)=>{i[d]=u})}catch{}return s.searchParams.forEach((l,u)=>{i[u]=l}),i}const Pp=r=>{let i;return r?i=r:typeof fetch>"u"?i=(...s)=>_a(async()=>{const{default:l}=await Promise.resolve().then(()=>to);return{default:l}},void 0).then(({default:l})=>l(...s)):i=fetch,(...s)=>i(...s)},vg=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Xs=async(r,i,s)=>{await r.setItem(i,JSON.stringify(s))},$r=async(r,i)=>{const s=await r.getItem(i);if(!s)return null;try{return JSON.parse(s)}catch{return s}},or=async(r,i)=>{await r.removeItem(i)};class su{constructor(){this.promise=new su.promiseConstructor((i,s)=>{this.resolve=i,this.reject=s})}}su.promiseConstructor=Promise;function Gc(r){const i=r.split(".");if(i.length!==3)throw new uh("Invalid JWT structure");for(let l=0;l<i.length;l++)if(!ng.test(i[l]))throw new uh("JWT not in base64url format");return{header:JSON.parse(qf(i[0])),payload:JSON.parse(qf(i[1])),signature:dg(i[2]),raw:{header:i[0],payload:i[1]}}}async function yg(r){return await new Promise(i=>{setTimeout(()=>i(null),r)})}function wg(r,i){return new Promise((l,u)=>{(async()=>{for(let d=0;d<1/0;d++)try{const m=await r(d);if(!i(d,null,m)){l(m);return}}catch(m){if(!i(d,m)){u(m);return}}})()})}function xg(r){return("0"+r.toString(16)).substr(-2)}function Sg(){const i=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=s.length;let u="";for(let d=0;d<56;d++)u+=s.charAt(Math.floor(Math.random()*l));return u}return crypto.getRandomValues(i),Array.from(i,xg).join("")}async function kg(r){const s=new TextEncoder().encode(r),l=await crypto.subtle.digest("SHA-256",s),u=new Uint8Array(l);return Array.from(u).map(d=>String.fromCharCode(d)).join("")}async function Pg(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const s=await kg(r);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Vs(r,i,s=!1){const l=Sg();let u=l;s&&(u+="/PASSWORD_RECOVERY"),await Xs(r,`${i}-code-verifier`,u);const d=await Pg(l);return[d,l===d?"plain":"s256"]}const Tg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function bg(r){const i=r.headers.get(ah);if(!i||!i.match(Tg))return null;try{return new Date(`${i}T00:00:00.0Z`)}catch{return null}}function Eg(r){if(!r)throw new Error("Missing exp claim");const i=Math.floor(Date.now()/1e3);if(r<=i)throw new Error("JWT has expired")}function Lg(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Cg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ks(r){if(!Cg.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Vc(){const r={};return new Proxy(r,{get:(i,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const l=s.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(i,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(i,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Hf(r){return JSON.parse(JSON.stringify(r))}var Og=function(r,i){var s={};for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&i.indexOf(l)<0&&(s[l]=r[l]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(r);u<l.length;u++)i.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(r,l[u])&&(s[l[u]]=r[l[u]]);return s};const Wr=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Rg=[502,503,504];async function Gf(r){var i;if(!vg(r))throw new lh(Wr(r),0);if(Rg.includes(r.status))throw new lh(Wr(r),r.status);let s;try{s=await r.json()}catch(d){throw new xp(Wr(d),d)}let l;const u=bg(r);if(u&&u.getTime()>=wp["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?l=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(l=s.error_code),l){if(l==="weak_password")throw new $f(Wr(s),r.status,((i=s.weak_password)===null||i===void 0?void 0:i.reasons)||[]);if(l==="session_not_found")throw new ar}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((d,m)=>d&&typeof m=="string",!0))throw new $f(Wr(s),r.status,s.weak_password.reasons);throw new rg(Wr(s),r.status||500,l)}const Ag=(r,i,s,l)=>{const u={method:r,headers:i?.headers||{}};return r==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},i?.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),s))};async function Ce(r,i,s,l){var u;const d=Object.assign({},l?.headers);d[ah]||(d[ah]=wp["2024-01-01"].name),l?.jwt&&(d.Authorization=`Bearer ${l.jwt}`);const m=(u=l?.query)!==null&&u!==void 0?u:{};l?.redirectTo&&(m.redirect_to=l.redirectTo);const y=Object.keys(m).length?"?"+new URLSearchParams(m).toString():"",v=await Ig(r,i,s+y,{headers:d,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(v):{data:Object.assign({},v),error:null}}async function Ig(r,i,s,l,u,d){const m=Ag(i,l,u,d);let y;try{y=await r(s,Object.assign({},m))}catch(v){throw console.error(v),new lh(Wr(v),0)}if(y.ok||await Gf(y),l?.noResolveJson)return y;try{return await y.json()}catch(v){await Gf(v)}}function pi(r){var i;let s=null;jg(r)&&(s=Object.assign({},r),r.expires_at||(s.expires_at=mg(r.expires_in)));const l=(i=r.user)!==null&&i!==void 0?i:r;return{data:{session:s,user:l},error:null}}function Vf(r){const i=pi(r);return!i.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0)&&(i.data.weak_password=r.weak_password),i}function lr(r){var i;return{data:{user:(i=r.user)!==null&&i!==void 0?i:r},error:null}}function Mg(r){return{data:r,error:null}}function Ng(r){const{action_link:i,email_otp:s,hashed_token:l,redirect_to:u,verification_type:d}=r,m=Og(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),y={action_link:i,email_otp:s,hashed_token:l,redirect_to:u,verification_type:d},v=Object.assign({},m);return{data:{properties:y,user:v},error:null}}function zg(r){return r}function jg(r){return r.access_token&&r.refresh_token&&r.expires_in}const Kc=["global","local","others"];var Dg=function(r,i){var s={};for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&i.indexOf(l)<0&&(s[l]=r[l]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(r);u<l.length;u++)i.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(r,l[u])&&(s[l[u]]=r[l[u]]);return s};class Bg{constructor({url:i="",headers:s={},fetch:l}){this.url=i,this.headers=s,this.fetch=Pp(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(i,s=Kc[0]){if(Kc.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Kc.join(", ")}`);try{return await Ce(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:i,noResolveJson:!0}),{data:null,error:null}}catch(l){if(Te(l))return{data:null,error:l};throw l}}async inviteUserByEmail(i,s={}){try{return await Ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:i,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:lr})}catch(l){if(Te(l))return{data:{user:null},error:l};throw l}}async generateLink(i){try{const{options:s}=i,l=Dg(i,["options"]),u=Object.assign(Object.assign({},l),s);return"newEmail"in l&&(u.new_email=l?.newEmail,delete u.newEmail),await Ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:Ng,redirectTo:s?.redirectTo})}catch(s){if(Te(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(i){try{return await Ce(this.fetch,"POST",`${this.url}/admin/users`,{body:i,headers:this.headers,xform:lr})}catch(s){if(Te(s))return{data:{user:null},error:s};throw s}}async listUsers(i){var s,l,u,d,m,y,v;try{const w={nextPage:null,lastPage:0,total:0},k=await Ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(s=i?.page)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:"",per_page:(d=(u=i?.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:zg});if(k.error)throw k.error;const P=await k.json(),R=(m=k.headers.get("x-total-count"))!==null&&m!==void 0?m:0,N=(v=(y=k.headers.get("link"))===null||y===void 0?void 0:y.split(","))!==null&&v!==void 0?v:[];return N.length>0&&(N.forEach(B=>{const D=parseInt(B.split(";")[0].split("=")[1].substring(0,1)),F=JSON.parse(B.split(";")[1].split("=")[1]);w[`${F}Page`]=D}),w.total=parseInt(R)),{data:Object.assign(Object.assign({},P),w),error:null}}catch(w){if(Te(w))return{data:{users:[]},error:w};throw w}}async getUserById(i){Ks(i);try{return await Ce(this.fetch,"GET",`${this.url}/admin/users/${i}`,{headers:this.headers,xform:lr})}catch(s){if(Te(s))return{data:{user:null},error:s};throw s}}async updateUserById(i,s){Ks(i);try{return await Ce(this.fetch,"PUT",`${this.url}/admin/users/${i}`,{body:s,headers:this.headers,xform:lr})}catch(l){if(Te(l))return{data:{user:null},error:l};throw l}}async deleteUser(i,s=!1){Ks(i);try{return await Ce(this.fetch,"DELETE",`${this.url}/admin/users/${i}`,{headers:this.headers,body:{should_soft_delete:s},xform:lr})}catch(l){if(Te(l))return{data:{user:null},error:l};throw l}}async _listFactors(i){Ks(i.userId);try{const{data:s,error:l}=await Ce(this.fetch,"GET",`${this.url}/admin/users/${i.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:s,error:l}}catch(s){if(Te(s))return{data:null,error:s};throw s}}async _deleteFactor(i){Ks(i.userId),Ks(i.id);try{return{data:await Ce(this.fetch,"DELETE",`${this.url}/admin/users/${i.userId}/factors/${i.id}`,{headers:this.headers}),error:null}}catch(s){if(Te(s))return{data:null,error:s};throw s}}}function Kf(r={}){return{getItem:i=>r[i]||null,setItem:(i,s)=>{r[i]=s},removeItem:i=>{delete r[i]}}}function Fg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Js={debug:!!(globalThis&&kp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Tp extends Error{constructor(i){super(i),this.isAcquireTimeout=!0}}class Ug extends Tp{}async function $g(r,i,s){Js.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,i);const l=new globalThis.AbortController;return i>0&&setTimeout(()=>{l.abort(),Js.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},i),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,i===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async u=>{if(u){Js.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,u.name);try{return await s()}finally{Js.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,u.name)}}else{if(i===0)throw Js.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new Ug(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Js.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}Fg();const Zg={url:X_,storageKey:eg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:tg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Jf(r,i,s){return await s()}const Qs={};class pa{constructor(i){var s,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=pa.nextInstanceID,pa.nextInstanceID+=1,this.instanceID>0&&En()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const u=Object.assign(Object.assign({},Zg),i);if(this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.persistSession=u.persistSession,this.storageKey=u.storageKey,this.autoRefreshToken=u.autoRefreshToken,this.admin=new Bg({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=Pp(u.fetch),this.lock=u.lock||Jf,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,u.lock?this.lock=u.lock:En()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=$g:this.lock=Jf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:kp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Kf(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=Kf(this.memoryStorage)),En()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}get jwks(){var i,s;return(s=(i=Qs[this.storageKey])===null||i===void 0?void 0:i.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(i){Qs[this.storageKey]=Object.assign(Object.assign({},Qs[this.storageKey]),{jwks:i})}get jwks_cached_at(){var i,s;return(s=(i=Qs[this.storageKey])===null||i===void 0?void 0:i.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(i){Qs[this.storageKey]=Object.assign(Object.assign({},Qs[this.storageKey]),{cachedAt:i})}_debug(...i){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${yp}) ${new Date().toISOString()}`,...i),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var i;try{const s=gg(window.location.href);let l="none";if(this._isImplicitGrantCallback(s)?l="implicit":await this._isPKCECallback(s)&&(l="pkce"),En()&&this.detectSessionInUrl&&l!=="none"){const{data:u,error:d}=await this._getSessionFromURL(s,l);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),ag(d)){const v=(i=d.details)===null||i===void 0?void 0:i.code;if(v==="identity_already_exists"||v==="identity_not_found"||v==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:m,redirectType:y}=u;return this._debug("#_initialize()","detected session in URL",m,"redirect type",y),await this._saveSession(m),setTimeout(async()=>{y==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",m):await this._notifyAllSubscribers("SIGNED_IN",m)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return Te(s)?{error:s}:{error:new xp("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(i){var s,l,u;try{const d=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(s=i?.options)===null||s===void 0?void 0:s.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(u=i?.options)===null||u===void 0?void 0:u.captchaToken}},xform:pi}),{data:m,error:y}=d;if(y||!m)return{data:{user:null,session:null},error:y};const v=m.session,w=m.user;return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",v)),{data:{user:w,session:v},error:null}}catch(d){if(Te(d))return{data:{user:null,session:null},error:d};throw d}}async signUp(i){var s,l,u;try{let d;if("email"in i){const{email:k,password:P,options:R}=i;let N=null,B=null;this.flowType==="pkce"&&([N,B]=await Vs(this.storage,this.storageKey)),d=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:R?.emailRedirectTo,body:{email:k,password:P,data:(s=R?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:R?.captchaToken},code_challenge:N,code_challenge_method:B},xform:pi})}else if("phone"in i){const{phone:k,password:P,options:R}=i;d=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:k,password:P,data:(l=R?.data)!==null&&l!==void 0?l:{},channel:(u=R?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:R?.captchaToken}},xform:pi})}else throw new Gl("You must provide either an email or phone number and a password");const{data:m,error:y}=d;if(y||!m)return{data:{user:null,session:null},error:y};const v=m.session,w=m.user;return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",v)),{data:{user:w,session:v},error:null}}catch(d){if(Te(d))return{data:{user:null,session:null},error:d};throw d}}async signInWithPassword(i){try{let s;if("email"in i){const{email:d,password:m,options:y}=i;s=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:m,gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:Vf})}else if("phone"in i){const{phone:d,password:m,options:y}=i;s=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:m,gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:Vf})}else throw new Gl("You must provide either an email or phone number and a password");const{data:l,error:u}=s;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Hl}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:u})}catch(s){if(Te(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(i){var s,l,u,d;return await this._handleProviderSignIn(i.provider,{redirectTo:(s=i.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=i.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=i.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(d=i.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(i){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(i))}async signInWithWeb3(i){const{chain:s}=i;if(s==="solana")return await this.signInWithSolana(i);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(i){var s,l,u,d,m,y,v,w,k,P,R,N;let B,D;if("message"in i)B=i.message,D=i.signature;else{const{chain:F,wallet:G,statement:he,options:V}=i;let re;if(En())if(typeof G=="object")re=G;else{const ge=window;if("solana"in ge&&typeof ge.solana=="object"&&("signIn"in ge.solana&&typeof ge.solana.signIn=="function"||"signMessage"in ge.solana&&typeof ge.solana.signMessage=="function"))re=ge.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof G!="object"||!V?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");re=G}const xe=new URL((s=V?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in re&&re.signIn){const ge=await re.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},V?.signInWithSolana),{version:"1",domain:xe.host,uri:xe.href}),he?{statement:he}:null));let Se;if(Array.isArray(ge)&&ge[0]&&typeof ge[0]=="object")Se=ge[0];else if(ge&&typeof ge=="object"&&"signedMessage"in ge&&"signature"in ge)Se=ge;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Se&&"signature"in Se&&(typeof Se.signedMessage=="string"||Se.signedMessage instanceof Uint8Array)&&Se.signature instanceof Uint8Array)B=typeof Se.signedMessage=="string"?Se.signedMessage:new TextDecoder().decode(Se.signedMessage),D=Se.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in re)||typeof re.signMessage!="function"||!("publicKey"in re)||typeof re!="object"||!re.publicKey||!("toBase58"in re.publicKey)||typeof re.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");B=[`${xe.host} wants you to sign in with your Solana account:`,re.publicKey.toBase58(),...he?["",he,""]:[""],"Version: 1",`URI: ${xe.href}`,`Issued At: ${(u=(l=V?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((d=V?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${V.signInWithSolana.notBefore}`]:[],...!((m=V?.signInWithSolana)===null||m===void 0)&&m.expirationTime?[`Expiration Time: ${V.signInWithSolana.expirationTime}`]:[],...!((y=V?.signInWithSolana)===null||y===void 0)&&y.chainId?[`Chain ID: ${V.signInWithSolana.chainId}`]:[],...!((v=V?.signInWithSolana)===null||v===void 0)&&v.nonce?[`Nonce: ${V.signInWithSolana.nonce}`]:[],...!((w=V?.signInWithSolana)===null||w===void 0)&&w.requestId?[`Request ID: ${V.signInWithSolana.requestId}`]:[],...!((P=(k=V?.signInWithSolana)===null||k===void 0?void 0:k.resources)===null||P===void 0)&&P.length?["Resources",...V.signInWithSolana.resources.map(Se=>`- ${Se}`)]:[]].join(`
`);const ge=await re.signMessage(new TextEncoder().encode(B),"utf8");if(!ge||!(ge instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");D=ge}}try{const{data:F,error:G}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:B,signature:pg(D)},!((R=i.options)===null||R===void 0)&&R.captchaToken?{gotrue_meta_security:{captcha_token:(N=i.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:pi});if(G)throw G;return!F||!F.session||!F.user?{data:{user:null,session:null},error:new Hl}:(F.session&&(await this._saveSession(F.session),await this._notifyAllSubscribers("SIGNED_IN",F.session)),{data:Object.assign({},F),error:G})}catch(F){if(Te(F))return{data:{user:null,session:null},error:F};throw F}}async _exchangeCodeForSession(i){const s=await $r(this.storage,`${this.storageKey}-code-verifier`),[l,u]=(s??"").split("/");try{const{data:d,error:m}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:i,code_verifier:l},xform:pi});if(await or(this.storage,`${this.storageKey}-code-verifier`),m)throw m;return!d||!d.session||!d.user?{data:{user:null,session:null,redirectType:null},error:new Hl}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:Object.assign(Object.assign({},d),{redirectType:u??null}),error:m})}catch(d){if(Te(d))return{data:{user:null,session:null,redirectType:null},error:d};throw d}}async signInWithIdToken(i){try{const{options:s,provider:l,token:u,access_token:d,nonce:m}=i,y=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:u,access_token:d,nonce:m,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:pi}),{data:v,error:w}=y;return w?{data:{user:null,session:null},error:w}:!v||!v.session||!v.user?{data:{user:null,session:null},error:new Hl}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:v,error:w})}catch(s){if(Te(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(i){var s,l,u,d,m;try{if("email"in i){const{email:y,options:v}=i;let w=null,k=null;this.flowType==="pkce"&&([w,k]=await Vs(this.storage,this.storageKey));const{error:P}=await Ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:y,data:(s=v?.data)!==null&&s!==void 0?s:{},create_user:(l=v?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:w,code_challenge_method:k},redirectTo:v?.emailRedirectTo});return{data:{user:null,session:null},error:P}}if("phone"in i){const{phone:y,options:v}=i,{data:w,error:k}=await Ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:y,data:(u=v?.data)!==null&&u!==void 0?u:{},create_user:(d=v?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:v?.captchaToken},channel:(m=v?.channel)!==null&&m!==void 0?m:"sms"}});return{data:{user:null,session:null,messageId:w?.message_id},error:k}}throw new Gl("You must provide either an email or phone number.")}catch(y){if(Te(y))return{data:{user:null,session:null},error:y};throw y}}async verifyOtp(i){var s,l;try{let u,d;"options"in i&&(u=(s=i.options)===null||s===void 0?void 0:s.redirectTo,d=(l=i.options)===null||l===void 0?void 0:l.captchaToken);const{data:m,error:y}=await Ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},i),{gotrue_meta_security:{captcha_token:d}}),redirectTo:u,xform:pi});if(y)throw y;if(!m)throw new Error("An error occurred on token verification.");const v=m.session,w=m.user;return v?.access_token&&(await this._saveSession(v),await this._notifyAllSubscribers(i.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",v)),{data:{user:w,session:v},error:null}}catch(u){if(Te(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithSSO(i){var s,l,u;try{let d=null,m=null;return this.flowType==="pkce"&&([d,m]=await Vs(this.storage,this.storageKey)),await Ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in i?{provider_id:i.providerId}:null),"domain"in i?{domain:i.domain}:null),{redirect_to:(l=(s=i.options)===null||s===void 0?void 0:s.redirectTo)!==null&&l!==void 0?l:void 0}),!((u=i?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:i.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:m}),headers:this.headers,xform:Mg})}catch(d){if(Te(d))return{data:null,error:d};throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async i=>{const{data:{session:s},error:l}=i;if(l)throw l;if(!s)throw new ar;const{error:u}=await Ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:u}})}catch(i){if(Te(i))return{data:{user:null,session:null},error:i};throw i}}async resend(i){try{const s=`${this.url}/resend`;if("email"in i){const{email:l,type:u,options:d}=i,{error:m}=await Ce(this.fetch,"POST",s,{headers:this.headers,body:{email:l,type:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return{data:{user:null,session:null},error:m}}else if("phone"in i){const{phone:l,type:u,options:d}=i,{data:m,error:y}=await Ce(this.fetch,"POST",s,{headers:this.headers,body:{phone:l,type:u,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return{data:{user:null,session:null,messageId:m?.message_id},error:y}}throw new Gl("You must provide either an email or phone number and a type")}catch(s){if(Te(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(i,s){this._debug("#_acquireLock","begin",i);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await l,await s()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,i,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=s();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(i){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await i(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let i=null;const s=await $r(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?i=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!i)return{data:{session:null},error:null};const l=i.expires_at?i.expires_at*1e3-Date.now()<qc:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",i.expires_at),!l){if(this.userStorage){const m=await $r(this.userStorage,this.storageKey+"-user");m?.user?i.user=m.user:i.user=Vc()}if(this.storage.isServer&&i.user){let m=this.suppressGetSessionWarning;i=new Proxy(i,{get:(v,w,k)=>(!m&&w==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),m=!0,this.suppressGetSessionWarning=!0),Reflect.get(v,w,k))})}return{data:{session:i},error:null}}const{session:u,error:d}=await this._callRefreshToken(i.refresh_token);return d?{data:{session:null},error:d}:{data:{session:u},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(i){return i?await this._getUser(i):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(i){try{return i?await Ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:i,xform:lr}):await this._useSession(async s=>{var l,u,d;const{data:m,error:y}=s;if(y)throw y;return!(!((l=m.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ar}:await Ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(u=m.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0,xform:lr})})}catch(s){if(Te(s))return og(s)&&(await this._removeSession(),await or(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(i,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(i,s))}async _updateUser(i,s={}){try{return await this._useSession(async l=>{const{data:u,error:d}=l;if(d)throw d;if(!u.session)throw new ar;const m=u.session;let y=null,v=null;this.flowType==="pkce"&&i.email!=null&&([y,v]=await Vs(this.storage,this.storageKey));const{data:w,error:k}=await Ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},i),{code_challenge:y,code_challenge_method:v}),jwt:m.access_token,xform:lr});if(k)throw k;return m.user=w.user,await this._saveSession(m),await this._notifyAllSubscribers("USER_UPDATED",m),{data:{user:m.user},error:null}})}catch(l){if(Te(l))return{data:{user:null},error:l};throw l}}async setSession(i){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(i))}async _setSession(i){try{if(!i.access_token||!i.refresh_token)throw new ar;const s=Date.now()/1e3;let l=s,u=!0,d=null;const{payload:m}=Gc(i.access_token);if(m.exp&&(l=m.exp,u=l<=s),u){const{session:y,error:v}=await this._callRefreshToken(i.refresh_token);if(v)return{data:{user:null,session:null},error:v};if(!y)return{data:{user:null,session:null},error:null};d=y}else{const{data:y,error:v}=await this._getUser(i.access_token);if(v)throw v;d={access_token:i.access_token,refresh_token:i.refresh_token,user:y.user,token_type:"bearer",expires_in:l-s,expires_at:l},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return{data:{user:d.user,session:d},error:null}}catch(s){if(Te(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(i){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(i))}async _refreshSession(i){try{return await this._useSession(async s=>{var l;if(!i){const{data:m,error:y}=s;if(y)throw y;i=(l=m.session)!==null&&l!==void 0?l:void 0}if(!i?.refresh_token)throw new ar;const{session:u,error:d}=await this._callRefreshToken(i.refresh_token);return d?{data:{user:null,session:null},error:d}:u?{data:{user:u.user,session:u},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(Te(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(i,s){try{if(!En())throw new Vl("No browser detected.");if(i.error||i.error_description||i.error_code)throw new Vl(i.error_description||"Error in URL with unspecified error_description",{error:i.error||"unspecified_error",code:i.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Uf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vl("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!i.code)throw new Uf("No code detected.");const{data:he,error:V}=await this._exchangeCodeForSession(i.code);if(V)throw V;const re=new URL(window.location.href);return re.searchParams.delete("code"),window.history.replaceState(window.history.state,"",re.toString()),{data:{session:he.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:u,access_token:d,refresh_token:m,expires_in:y,expires_at:v,token_type:w}=i;if(!d||!y||!m||!w)throw new Vl("No session defined in URL");const k=Math.round(Date.now()/1e3),P=parseInt(y);let R=k+P;v&&(R=parseInt(v));const N=R-k;N*1e3<=Ys&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${N}s, should have been closer to ${P}s`);const B=R-P;k-B>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",B,R,k):k-B<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",B,R,k);const{data:D,error:F}=await this._getUser(d);if(F)throw F;const G={provider_token:l,provider_refresh_token:u,access_token:d,expires_in:P,expires_at:R,refresh_token:m,token_type:w,user:D.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:G,redirectType:i.type},error:null}}catch(l){if(Te(l))return{data:{session:null,redirectType:null},error:l};throw l}}_isImplicitGrantCallback(i){return!!(i.access_token||i.error_description)}async _isPKCECallback(i){const s=await $r(this.storage,`${this.storageKey}-code-verifier`);return!!(i.code&&s)}async signOut(i={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(i))}async _signOut({scope:i}={scope:"global"}){return await this._useSession(async s=>{var l;const{data:u,error:d}=s;if(d)return{error:d};const m=(l=u.session)===null||l===void 0?void 0:l.access_token;if(m){const{error:y}=await this.admin.signOut(m,i);if(y&&!(sg(y)&&(y.status===404||y.status===401||y.status===403)))return{error:y}}return i!=="others"&&(await this._removeSession(),await or(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(i){const s=_g(),l={id:s,callback:i,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:l}}}async _emitInitialSession(i){return await this._useSession(async s=>{var l,u;try{const{data:{session:d},error:m}=s;if(m)throw m;await((l=this.stateChangeEmitters.get(i))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",i,"session",d)}catch(d){await((u=this.stateChangeEmitters.get(i))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",i,"error",d),console.error(d)}})}async resetPasswordForEmail(i,s={}){let l=null,u=null;this.flowType==="pkce"&&([l,u]=await Vs(this.storage,this.storageKey,!0));try{return await Ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:i,code_challenge:l,code_challenge_method:u,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(d){if(Te(d))return{data:null,error:d};throw d}}async getUserIdentities(){var i;try{const{data:s,error:l}=await this.getUser();if(l)throw l;return{data:{identities:(i=s.user.identities)!==null&&i!==void 0?i:[]},error:null}}catch(s){if(Te(s))return{data:null,error:s};throw s}}async linkIdentity(i){var s;try{const{data:l,error:u}=await this._useSession(async d=>{var m,y,v,w,k;const{data:P,error:R}=d;if(R)throw R;const N=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,i.provider,{redirectTo:(m=i.options)===null||m===void 0?void 0:m.redirectTo,scopes:(y=i.options)===null||y===void 0?void 0:y.scopes,queryParams:(v=i.options)===null||v===void 0?void 0:v.queryParams,skipBrowserRedirect:!0});return await Ce(this.fetch,"GET",N,{headers:this.headers,jwt:(k=(w=P.session)===null||w===void 0?void 0:w.access_token)!==null&&k!==void 0?k:void 0})});if(u)throw u;return En()&&!(!((s=i.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(l?.url),{data:{provider:i.provider,url:l?.url},error:null}}catch(l){if(Te(l))return{data:{provider:i.provider,url:null},error:l};throw l}}async unlinkIdentity(i){try{return await this._useSession(async s=>{var l,u;const{data:d,error:m}=s;if(m)throw m;return await Ce(this.fetch,"DELETE",`${this.url}/user/identities/${i.identity_id}`,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})})}catch(s){if(Te(s))return{data:null,error:s};throw s}}async _refreshAccessToken(i){const s=`#_refreshAccessToken(${i.substring(0,5)}...)`;this._debug(s,"begin");try{const l=Date.now();return await wg(async u=>(u>0&&await yg(200*Math.pow(2,u-1)),this._debug(s,"refreshing attempt",u),await Ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:i},headers:this.headers,xform:pi})),(u,d)=>{const m=200*Math.pow(2,u);return d&&Hc(d)&&Date.now()+m-l<Ys})}catch(l){if(this._debug(s,"error",l),Te(l))return{data:{session:null,user:null},error:l};throw l}finally{this._debug(s,"end")}}_isValidSession(i){return typeof i=="object"&&i!==null&&"access_token"in i&&"refresh_token"in i&&"expires_at"in i}async _handleProviderSignIn(i,s){const l=await this._getUrlForProvider(`${this.url}/authorize`,i,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",i,"options",s,"url",l),En()&&!s.skipBrowserRedirect&&window.location.assign(l),{data:{provider:i,url:l},error:null}}async _recoverAndRefresh(){var i,s;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const u=await $r(this.storage,this.storageKey);if(u&&this.userStorage){let m=await $r(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!m&&(m={user:u.user},await Xs(this.userStorage,this.storageKey+"-user",m)),u.user=(i=m?.user)!==null&&i!==void 0?i:Vc()}else if(u&&!u.user&&!u.user){const m=await $r(this.storage,this.storageKey+"-user");m&&m?.user?(u.user=m.user,await or(this.storage,this.storageKey+"-user"),await Xs(this.storage,this.storageKey,u)):u.user=Vc()}if(this._debug(l,"session from storage",u),!this._isValidSession(u)){this._debug(l,"session is not valid"),u!==null&&await this._removeSession();return}const d=((s=u.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<qc;if(this._debug(l,`session has${d?"":" not"} expired with margin of ${qc}s`),d){if(this.autoRefreshToken&&u.refresh_token){const{error:m}=await this._callRefreshToken(u.refresh_token);m&&(console.error(m),Hc(m)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",m),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:m,error:y}=await this._getUser(u.access_token);!y&&m?.user?(u.user=m.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(m){console.error("Error getting user data:",m),this._debug(l,"error getting user data, skipping SIGNED_IN notification",m)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(l,"error",u),console.error(u);return}finally{this._debug(l,"end")}}async _callRefreshToken(i){var s,l;if(!i)throw new ar;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${i.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new su;const{data:d,error:m}=await this._refreshAccessToken(i);if(m)throw m;if(!d.session)throw new ar;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const y={session:d.session,error:null};return this.refreshingDeferred.resolve(y),y}catch(d){if(this._debug(u,"error",d),Te(d)){const m={session:null,error:d};return Hc(d)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(m),m}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(d),d}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(i,s,l=!0){const u=`#_notifyAllSubscribers(${i})`;this._debug(u,"begin",s,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:i,session:s});const d=[],m=Array.from(this.stateChangeEmitters.values()).map(async y=>{try{await y.callback(i,s)}catch(v){d.push(v)}});if(await Promise.all(m),d.length>0){for(let y=0;y<d.length;y+=1)console.error(d[y]);throw d[0]}}finally{this._debug(u,"end")}}async _saveSession(i){this._debug("#_saveSession()",i),this.suppressGetSessionWarning=!0;const s=Object.assign({},i),l=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&s.user&&await Xs(this.userStorage,this.storageKey+"-user",{user:s.user});const u=Object.assign({},s);delete u.user;const d=Hf(u);await Xs(this.storage,this.storageKey,d)}else{const u=Hf(s);await Xs(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),await or(this.storage,this.storageKey),await or(this.storage,this.storageKey+"-code-verifier"),await or(this.storage,this.storageKey+"-user"),this.userStorage&&await or(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const i=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{i&&En()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",i)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const i=setInterval(()=>this._autoRefreshTokenTick(),Ys);this.autoRefreshTicker=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const i=this.autoRefreshTicker;this.autoRefreshTicker=null,i&&clearInterval(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const i=Date.now();try{return await this._useSession(async s=>{const{data:{session:l}}=s;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((l.expires_at*1e3-i)/Ys);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${Ys}ms, refresh threshold is ${oh} ticks`),u<=oh&&await this._callRefreshToken(l.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(i){if(i.isAcquireTimeout||i instanceof Tp)this._debug("auto refresh token tick lock not available");else throw i}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!En()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(i){console.error("_handleVisibilityChange",i)}}async _onVisibilityChanged(i){const s=`#_onVisibilityChanged(${i})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),i||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(i,s,l){const u=[`provider=${encodeURIComponent(s)}`];if(l?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&u.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[d,m]=await Vs(this.storage,this.storageKey),y=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(m)}`});u.push(y.toString())}if(l?.queryParams){const d=new URLSearchParams(l.queryParams);u.push(d.toString())}return l?.skipBrowserRedirect&&u.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${i}?${u.join("&")}`}async _unenroll(i){try{return await this._useSession(async s=>{var l;const{data:u,error:d}=s;return d?{data:null,error:d}:await Ce(this.fetch,"DELETE",`${this.url}/factors/${i.factorId}`,{headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token})})}catch(s){if(Te(s))return{data:null,error:s};throw s}}async _enroll(i){try{return await this._useSession(async s=>{var l,u;const{data:d,error:m}=s;if(m)return{data:null,error:m};const y=Object.assign({friendly_name:i.friendlyName,factor_type:i.factorType},i.factorType==="phone"?{phone:i.phone}:{issuer:i.issuer}),{data:v,error:w}=await Ce(this.fetch,"POST",`${this.url}/factors`,{body:y,headers:this.headers,jwt:(l=d?.session)===null||l===void 0?void 0:l.access_token});return w?{data:null,error:w}:(i.factorType==="totp"&&(!((u=v?.totp)===null||u===void 0)&&u.qr_code)&&(v.totp.qr_code=`data:image/svg+xml;utf-8,${v.totp.qr_code}`),{data:v,error:null})})}catch(s){if(Te(s))return{data:null,error:s};throw s}}async _verify(i){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var l;const{data:u,error:d}=s;if(d)return{data:null,error:d};const{data:m,error:y}=await Ce(this.fetch,"POST",`${this.url}/factors/${i.factorId}/verify`,{body:{code:i.code,challenge_id:i.challengeId},headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});return y?{data:null,error:y}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),{data:m,error:y})})}catch(s){if(Te(s))return{data:null,error:s};throw s}})}async _challenge(i){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var l;const{data:u,error:d}=s;return d?{data:null,error:d}:await Ce(this.fetch,"POST",`${this.url}/factors/${i.factorId}/challenge`,{body:{channel:i.channel},headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token})})}catch(s){if(Te(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(i){const{data:s,error:l}=await this._challenge({factorId:i.factorId});return l?{data:null,error:l}:await this._verify({factorId:i.factorId,challengeId:s.id,code:i.code})}async _listFactors(){const{data:{user:i},error:s}=await this.getUser();if(s)return{data:null,error:s};const l=i?.factors||[],u=l.filter(m=>m.factor_type==="totp"&&m.status==="verified"),d=l.filter(m=>m.factor_type==="phone"&&m.status==="verified");return{data:{all:l,totp:u,phone:d},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async i=>{var s,l;const{data:{session:u},error:d}=i;if(d)return{data:null,error:d};if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:m}=Gc(u.access_token);let y=null;m.aal&&(y=m.aal);let v=y;((l=(s=u.user.factors)===null||s===void 0?void 0:s.filter(P=>P.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(v="aal2");const k=m.amr||[];return{data:{currentLevel:y,nextLevel:v,currentAuthenticationMethods:k},error:null}}))}async fetchJwk(i,s={keys:[]}){let l=s.keys.find(y=>y.kid===i);if(l)return l;const u=Date.now();if(l=this.jwks.keys.find(y=>y.kid===i),l&&this.jwks_cached_at+ig>u)return l;const{data:d,error:m}=await Ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(m)throw m;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=u,l=d.keys.find(y=>y.kid===i),!l)?null:l}async getClaims(i,s={}){try{let l=i;if(!l){const{data:N,error:B}=await this.getSession();if(B||!N.session)return{data:null,error:B};l=N.session.access_token}const{header:u,payload:d,signature:m,raw:{header:y,payload:v}}=Gc(l);s?.allowExpired||Eg(d.exp);const w=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!w){const{error:N}=await this.getUser(l);if(N)throw N;return{data:{claims:d,header:u,signature:m},error:null}}const k=Lg(u.alg),P=await crypto.subtle.importKey("jwk",w,k,!0,["verify"]);if(!await crypto.subtle.verify(k,P,m,fg(`${y}.${v}`)))throw new uh("Invalid JWT signature");return{data:{claims:d,header:u,signature:m},error:null}}catch(l){if(Te(l))return{data:null,error:l};throw l}}}pa.nextInstanceID=0;const Wg=pa;class qg extends Wg{constructor(i){super(i)}}var Hg=function(r,i,s,l){function u(d){return d instanceof s?d:new s(function(m){m(d)})}return new(s||(s=Promise))(function(d,m){function y(k){try{w(l.next(k))}catch(P){m(P)}}function v(k){try{w(l.throw(k))}catch(P){m(P)}}function w(k){k.done?d(k.value):u(k.value).then(y,v)}w((l=l.apply(r,i||[])).next())})};class Gg{constructor(i,s,l){var u,d,m;if(this.supabaseUrl=i,this.supabaseKey=s,!i)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const y=Q_(i),v=new URL(y);this.realtimeUrl=new URL("realtime/v1",v),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",v),this.storageUrl=new URL("storage/v1",v),this.functionsUrl=new URL("functions/v1",v);const w=`sb-${v.hostname.split(".")[0]}-auth-token`,k={db:Z_,realtime:q_,auth:Object.assign(Object.assign({},W_),{storageKey:w}),global:$_},P=Y_(l??{},k);this.storageKey=(u=P.auth.storageKey)!==null&&u!==void 0?u:"",this.headers=(d=P.global.headers)!==null&&d!==void 0?d:{},P.accessToken?(this.accessToken=P.accessToken,this.auth=new Proxy({},{get:(R,N)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(N)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((m=P.auth)!==null&&m!==void 0?m:{},this.headers,P.global.fetch),this.fetch=K_(s,this._getAccessToken.bind(this),P.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},P.realtime)),this.rest=new u_(new URL("rest/v1",v).href,{headers:this.headers,schema:P.db.schema,fetch:this.fetch}),this.storage=new B_(this.storageUrl.href,this.headers,this.fetch,l?.storage),P.accessToken||this._listenForAuthEvents()}get functions(){return new Qm(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,s={},l={}){return this.rest.rpc(i,s,l)}channel(i,s={config:{}}){return this.realtime.channel(i,s)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var i,s;return Hg(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:l}=yield this.auth.getSession();return(s=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:s,detectSessionInUrl:l,storage:u,storageKey:d,flowType:m,lock:y,debug:v},w,k){const P={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qg({url:this.authUrl.href,headers:Object.assign(Object.assign({},P),w),storageKey:d,autoRefreshToken:i,persistSession:s,detectSessionInUrl:l,storage:u,flowType:m,lock:y,debug:v,fetch:k,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(i){return new b_(this.realtimeUrl.href,Object.assign(Object.assign({},i),{params:Object.assign({apikey:this.supabaseKey},i?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,l)=>{this._handleTokenChanged(s,"CLIENT",l?.access_token)})}_handleTokenChanged(i,s,l){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==l?this.changedAccessToken=l:i==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Vg=(r,i,s)=>new Gg(r,i,s);function Kg(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const i=r.match(/^v(\d+)\./);return i?parseInt(i[1],10)<=18:!1}Kg()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Jg="https://tyftyoexdxrjvxjbdyux.supabase.co",Qg="sb_publishable_CUCrsx84syqTmA-uMJyF3g_EnrX-aW6",_i=Vg(Jg,Qg);function Yg(){const[r,i]=$.useState(""),[s,l]=$.useState(""),[u,d]=$.useState(!1),[m,y]=$.useState(null),v=async k=>{k.preventDefault(),d(!0),y(null);const{error:P}=await _i.auth.signInWithPassword({email:r,password:s});P&&y(P.message),d(!1)},w=async()=>{d(!0),y(null);const{error:k}=await _i.auth.signUp({email:r,password:s});k&&y(k.message),d(!1)};return te.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:te.jsxs("div",{className:"card max-w-md w-full",children:[te.jsxs("div",{className:"text-center mb-6",children:[te.jsx("span",{className:"text-4xl",children:""}),te.jsx("h1",{className:"text-2xl font-bold mt-2",children:"Pudumaps"}),te.jsx("p",{className:"text-gray-400 text-sm",children:"Inicia sesin en tu cuenta"})]}),te.jsxs("form",{className:"space-y-5",onSubmit:v,children:[te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Correo electrnico"}),te.jsx("input",{type:"email",className:"input",value:r,onChange:k=>i(k.target.value),placeholder:"ejemplo@correo.com",required:!0})]}),te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Contrasea"}),te.jsx("input",{type:"password",className:"input",value:s,onChange:k=>l(k.target.value),placeholder:"********",required:!0})]}),m&&te.jsx("p",{className:"text-red-400 text-sm",children:m}),te.jsx("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Entrando...":"Entrar"}),te.jsx("button",{type:"button",onClick:w,className:"btn btn-secondary",disabled:u,children:u?"Creando...":"Crear cuenta"})]}),te.jsxs("p",{className:"text-center text-gray-500 text-sm mt-6",children:["Primera vez? ",te.jsx("span",{className:"text-green-400",children:"Crea tu cuenta"})," y revisa tu correo para confirmar."]})]})})}/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Qf="popstate";function Xg(r={}){function i(l,u){let{pathname:d,search:m,hash:y}=l.location;return ch("",{pathname:d,search:m,hash:y},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function s(l,u){return typeof u=="string"?u:ma(u)}return tv(i,s,null,r)}function Xe(r,i){if(r===!1||r===null||typeof r>"u")throw new Error(i)}function Zn(r,i){if(!r){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function ev(){return Math.random().toString(36).substring(2,10)}function Yf(r,i){return{usr:r.state,key:r.key,idx:i}}function ch(r,i,s=null,l){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof i=="string"?no(i):i,state:s,key:i&&i.key||l||ev()}}function ma({pathname:r="/",search:i="",hash:s=""}){return i&&i!=="?"&&(r+=i.charAt(0)==="?"?i:"?"+i),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function no(r){let i={};if(r){let s=r.indexOf("#");s>=0&&(i.hash=r.substring(s),r=r.substring(0,s));let l=r.indexOf("?");l>=0&&(i.search=r.substring(l),r=r.substring(0,l)),r&&(i.pathname=r)}return i}function tv(r,i,s,l={}){let{window:u=document.defaultView,v5Compat:d=!1}=l,m=u.history,y="POP",v=null,w=k();w==null&&(w=0,m.replaceState({...m.state,idx:w},""));function k(){return(m.state||{idx:null}).idx}function P(){y="POP";let F=k(),G=F==null?null:F-w;w=F,v&&v({action:y,location:D.location,delta:G})}function R(F,G){y="PUSH";let he=ch(D.location,F,G);w=k()+1;let V=Yf(he,w),re=D.createHref(he);try{m.pushState(V,"",re)}catch(xe){if(xe instanceof DOMException&&xe.name==="DataCloneError")throw xe;u.location.assign(re)}d&&v&&v({action:y,location:D.location,delta:1})}function N(F,G){y="REPLACE";let he=ch(D.location,F,G);w=k();let V=Yf(he,w),re=D.createHref(he);m.replaceState(V,"",re),d&&v&&v({action:y,location:D.location,delta:0})}function B(F){return nv(F)}let D={get action(){return y},get location(){return r(u,m)},listen(F){if(v)throw new Error("A history only accepts one active listener");return u.addEventListener(Qf,P),v=F,()=>{u.removeEventListener(Qf,P),v=null}},createHref(F){return i(u,F)},createURL:B,encodeLocation(F){let G=B(F);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:R,replace:N,go(F){return m.go(F)}};return D}function nv(r,i=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Xe(s,"No window.location.(origin|href) available to create URL");let l=typeof r=="string"?r:ma(r);return l=l.replace(/ $/,"%20"),!i&&l.startsWith("//")&&(l=s+l),new URL(l,s)}function bp(r,i,s="/"){return iv(r,i,s,!1)}function iv(r,i,s,l){let u=typeof i=="string"?no(i):i,d=yi(u.pathname||"/",s);if(d==null)return null;let m=Ep(r);rv(m);let y=null;for(let v=0;y==null&&v<m.length;++v){let w=mv(d);y=fv(m[v],w,l)}return y}function Ep(r,i=[],s=[],l=""){let u=(d,m,y)=>{let v={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:m,route:d};v.relativePath.startsWith("/")&&(Xe(v.relativePath.startsWith(l),`Absolute route path "${v.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(l.length));let w=gi([l,v.relativePath]),k=s.concat(v);d.children&&d.children.length>0&&(Xe(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),Ep(d.children,i,k,w)),!(d.path==null&&!d.index)&&i.push({path:w,score:hv(w,d.index),routesMeta:k})};return r.forEach((d,m)=>{if(d.path===""||!d.path?.includes("?"))u(d,m);else for(let y of Lp(d.path))u(d,m,y)}),i}function Lp(r){let i=r.split("/");if(i.length===0)return[];let[s,...l]=i,u=s.endsWith("?"),d=s.replace(/\?$/,"");if(l.length===0)return u?[d,""]:[d];let m=Lp(l.join("/")),y=[];return y.push(...m.map(v=>v===""?d:[d,v].join("/"))),u&&y.push(...m),y.map(v=>r.startsWith("/")&&v===""?"/":v)}function rv(r){r.sort((i,s)=>i.score!==s.score?s.score-i.score:dv(i.routesMeta.map(l=>l.childrenIndex),s.routesMeta.map(l=>l.childrenIndex)))}var sv=/^:[\w-]+$/,ov=3,av=2,lv=1,uv=10,cv=-2,Xf=r=>r==="*";function hv(r,i){let s=r.split("/"),l=s.length;return s.some(Xf)&&(l+=cv),i&&(l+=av),s.filter(u=>!Xf(u)).reduce((u,d)=>u+(sv.test(d)?ov:d===""?lv:uv),l)}function dv(r,i){return r.length===i.length&&r.slice(0,-1).every((l,u)=>l===i[u])?r[r.length-1]-i[i.length-1]:0}function fv(r,i,s=!1){let{routesMeta:l}=r,u={},d="/",m=[];for(let y=0;y<l.length;++y){let v=l[y],w=y===l.length-1,k=d==="/"?i:i.slice(d.length)||"/",P=tu({path:v.relativePath,caseSensitive:v.caseSensitive,end:w},k),R=v.route;if(!P&&w&&s&&!l[l.length-1].route.index&&(P=tu({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},k)),!P)return null;Object.assign(u,P.params),m.push({params:u,pathname:gi([d,P.pathname]),pathnameBase:yv(gi([d,P.pathnameBase])),route:R}),P.pathnameBase!=="/"&&(d=gi([d,P.pathnameBase]))}return m}function tu(r,i){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[s,l]=pv(r.path,r.caseSensitive,r.end),u=i.match(s);if(!u)return null;let d=u[0],m=d.replace(/(.)\/+$/,"$1"),y=u.slice(1);return{params:l.reduce((w,{paramName:k,isOptional:P},R)=>{if(k==="*"){let B=y[R]||"";m=d.slice(0,d.length-B.length).replace(/(.)\/+$/,"$1")}const N=y[R];return P&&!N?w[k]=void 0:w[k]=(N||"").replace(/%2F/g,"/"),w},{}),pathname:d,pathnameBase:m,pattern:r}}function pv(r,i=!1,s=!0){Zn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let l=[],u="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,y,v)=>(l.push({paramName:y,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(l.push({paramName:"*"}),u+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?u+="\\/*$":r!==""&&r!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,i?void 0:"i"),l]}function mv(r){try{return r.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return Zn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${i}).`),r}}function yi(r,i){if(i==="/")return r;if(!r.toLowerCase().startsWith(i.toLowerCase()))return null;let s=i.endsWith("/")?i.length-1:i.length,l=r.charAt(s);return l&&l!=="/"?null:r.slice(s)||"/"}function _v(r,i="/"){let{pathname:s,search:l="",hash:u=""}=typeof r=="string"?no(r):r;return{pathname:s?s.startsWith("/")?s:gv(s,i):i,search:wv(l),hash:xv(u)}}function gv(r,i){let s=i.replace(/\/+$/,"").split("/");return r.split("/").forEach(u=>{u===".."?s.length>1&&s.pop():u!=="."&&s.push(u)}),s.length>1?s.join("/"):"/"}function Jc(r,i,s,l){return`Cannot include a '${r}' character in a manually specified \`to.${i}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vv(r){return r.filter((i,s)=>s===0||i.route.path&&i.route.path.length>0)}function Cp(r){let i=vv(r);return i.map((s,l)=>l===i.length-1?s.pathname:s.pathnameBase)}function Op(r,i,s,l=!1){let u;typeof r=="string"?u=no(r):(u={...r},Xe(!u.pathname||!u.pathname.includes("?"),Jc("?","pathname","search",u)),Xe(!u.pathname||!u.pathname.includes("#"),Jc("#","pathname","hash",u)),Xe(!u.search||!u.search.includes("#"),Jc("#","search","hash",u)));let d=r===""||u.pathname==="",m=d?"/":u.pathname,y;if(m==null)y=s;else{let P=i.length-1;if(!l&&m.startsWith("..")){let R=m.split("/");for(;R[0]==="..";)R.shift(),P-=1;u.pathname=R.join("/")}y=P>=0?i[P]:"/"}let v=_v(u,y),w=m&&m!=="/"&&m.endsWith("/"),k=(d||m===".")&&s.endsWith("/");return!v.pathname.endsWith("/")&&(w||k)&&(v.pathname+="/"),v}var gi=r=>r.join("/").replace(/\/\/+/g,"/"),yv=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),wv=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,xv=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Sv(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Rp=["POST","PUT","PATCH","DELETE"];new Set(Rp);var kv=["GET",...Rp];new Set(kv);var io=$.createContext(null);io.displayName="DataRouter";var ou=$.createContext(null);ou.displayName="DataRouterState";$.createContext(!1);var Ap=$.createContext({isTransitioning:!1});Ap.displayName="ViewTransition";var Pv=$.createContext(new Map);Pv.displayName="Fetchers";var Tv=$.createContext(null);Tv.displayName="Await";var Wn=$.createContext(null);Wn.displayName="Navigation";var va=$.createContext(null);va.displayName="Location";var wi=$.createContext({outlet:null,matches:[],isDataRoute:!1});wi.displayName="Route";var kh=$.createContext(null);kh.displayName="RouteError";function bv(r,{relative:i}={}){Xe(ya(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:l}=$.useContext(Wn),{hash:u,pathname:d,search:m}=wa(r,{relative:i}),y=d;return s!=="/"&&(y=d==="/"?s:gi([s,d])),l.createHref({pathname:y,search:m,hash:u})}function ya(){return $.useContext(va)!=null}function Kr(){return Xe(ya(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(va).location}var Ip="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Mp(r){$.useContext(Wn).static||$.useLayoutEffect(r)}function Ev(){let{isDataRoute:r}=$.useContext(wi);return r?Fv():Lv()}function Lv(){Xe(ya(),"useNavigate() may be used only in the context of a <Router> component.");let r=$.useContext(io),{basename:i,navigator:s}=$.useContext(Wn),{matches:l}=$.useContext(wi),{pathname:u}=Kr(),d=JSON.stringify(Cp(l)),m=$.useRef(!1);return Mp(()=>{m.current=!0}),$.useCallback((v,w={})=>{if(Zn(m.current,Ip),!m.current)return;if(typeof v=="number"){s.go(v);return}let k=Op(v,JSON.parse(d),u,w.relative==="path");r==null&&i!=="/"&&(k.pathname=k.pathname==="/"?i:gi([i,k.pathname])),(w.replace?s.replace:s.push)(k,w.state,w)},[i,s,d,u,r])}$.createContext(null);function wa(r,{relative:i}={}){let{matches:s}=$.useContext(wi),{pathname:l}=Kr(),u=JSON.stringify(Cp(s));return $.useMemo(()=>Op(r,JSON.parse(u),l,i==="path"),[r,u,l,i])}function Cv(r,i){return Np(r,i)}function Np(r,i,s,l){Xe(ya(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=$.useContext(Wn),{matches:d}=$.useContext(wi),m=d[d.length-1],y=m?m.params:{},v=m?m.pathname:"/",w=m?m.pathnameBase:"/",k=m&&m.route;{let G=k&&k.path||"";zp(v,!k||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let P=Kr(),R;if(i){let G=typeof i=="string"?no(i):i;Xe(w==="/"||G.pathname?.startsWith(w),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${G.pathname}" was given in the \`location\` prop.`),R=G}else R=P;let N=R.pathname||"/",B=N;if(w!=="/"){let G=w.replace(/^\//,"").split("/");B="/"+N.replace(/^\//,"").split("/").slice(G.length).join("/")}let D=bp(r,{pathname:B});Zn(k||D!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),Zn(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=Mv(D&&D.map(G=>Object.assign({},G,{params:Object.assign({},y,G.params),pathname:gi([w,u.encodeLocation?u.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?w:gi([w,u.encodeLocation?u.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),d,s,l);return i&&F?$.createElement(va.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},F):F}function Ov(){let r=Bv(),i=Sv(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),s=r instanceof Error?r.stack:null,l="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:l},d={padding:"2px 4px",backgroundColor:l},m=null;return console.error("Error handled by React Router default ErrorBoundary:",r),m=$.createElement($.Fragment,null,$.createElement("p",null," Hey developer "),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:d},"ErrorBoundary")," or"," ",$.createElement("code",{style:d},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},i),s?$.createElement("pre",{style:u},s):null,m)}var Rv=$.createElement(Ov,null),Av=class extends $.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,i){return i.location!==r.location||i.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:i.error,location:i.location,revalidation:r.revalidation||i.revalidation}}componentDidCatch(r,i){console.error("React Router caught the following error during render",r,i)}render(){return this.state.error!==void 0?$.createElement(wi.Provider,{value:this.props.routeContext},$.createElement(kh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Iv({routeContext:r,match:i,children:s}){let l=$.useContext(io);return l&&l.static&&l.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=i.route.id),$.createElement(wi.Provider,{value:r},s)}function Mv(r,i=[],s=null,l=null){if(r==null){if(!s)return null;if(s.errors)r=s.matches;else if(i.length===0&&!s.initialized&&s.matches.length>0)r=s.matches;else return null}let u=r,d=s?.errors;if(d!=null){let v=u.findIndex(w=>w.route.id&&d?.[w.route.id]!==void 0);Xe(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let m=!1,y=-1;if(s)for(let v=0;v<u.length;v++){let w=u[v];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(y=v),w.route.id){let{loaderData:k,errors:P}=s,R=w.route.loader&&!k.hasOwnProperty(w.route.id)&&(!P||P[w.route.id]===void 0);if(w.route.lazy||R){m=!0,y>=0?u=u.slice(0,y+1):u=[u[0]];break}}}return u.reduceRight((v,w,k)=>{let P,R=!1,N=null,B=null;s&&(P=d&&w.route.id?d[w.route.id]:void 0,N=w.route.errorElement||Rv,m&&(y<0&&k===0?(zp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,B=null):y===k&&(R=!0,B=w.route.hydrateFallbackElement||null)));let D=i.concat(u.slice(0,k+1)),F=()=>{let G;return P?G=N:R?G=B:w.route.Component?G=$.createElement(w.route.Component,null):w.route.element?G=w.route.element:G=v,$.createElement(Iv,{match:w,routeContext:{outlet:v,matches:D,isDataRoute:s!=null},children:G})};return s&&(w.route.ErrorBoundary||w.route.errorElement||k===0)?$.createElement(Av,{location:s.location,revalidation:s.revalidation,component:N,error:P,children:F(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):F()},null)}function Ph(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Nv(r){let i=$.useContext(io);return Xe(i,Ph(r)),i}function zv(r){let i=$.useContext(ou);return Xe(i,Ph(r)),i}function jv(r){let i=$.useContext(wi);return Xe(i,Ph(r)),i}function Th(r){let i=jv(r),s=i.matches[i.matches.length-1];return Xe(s.route.id,`${r} can only be used on routes that contain a unique "id"`),s.route.id}function Dv(){return Th("useRouteId")}function Bv(){let r=$.useContext(kh),i=zv("useRouteError"),s=Th("useRouteError");return r!==void 0?r:i.errors?.[s]}function Fv(){let{router:r}=Nv("useNavigate"),i=Th("useNavigate"),s=$.useRef(!1);return Mp(()=>{s.current=!0}),$.useCallback(async(u,d={})=>{Zn(s.current,Ip),s.current&&(typeof u=="number"?r.navigate(u):await r.navigate(u,{fromRouteId:i,...d}))},[r,i])}var ep={};function zp(r,i,s){!i&&!ep[r]&&(ep[r]=!0,Zn(!1,s))}$.memo(Uv);function Uv({routes:r,future:i,state:s}){return Np(r,void 0,s,i)}function hh(r){Xe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $v({basename:r="/",children:i=null,location:s,navigationType:l="POP",navigator:u,static:d=!1}){Xe(!ya(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),y=$.useMemo(()=>({basename:m,navigator:u,static:d,future:{}}),[m,u,d]);typeof s=="string"&&(s=no(s));let{pathname:v="/",search:w="",hash:k="",state:P=null,key:R="default"}=s,N=$.useMemo(()=>{let B=yi(v,m);return B==null?null:{location:{pathname:B,search:w,hash:k,state:P,key:R},navigationType:l}},[m,v,w,k,P,R,l]);return Zn(N!=null,`<Router basename="${m}"> is not able to match the URL "${v}${w}${k}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:$.createElement(Wn.Provider,{value:y},$.createElement(va.Provider,{children:i,value:N}))}function Zv({children:r,location:i}){return Cv(dh(r),i)}function dh(r,i=[]){let s=[];return $.Children.forEach(r,(l,u)=>{if(!$.isValidElement(l))return;let d=[...i,u];if(l.type===$.Fragment){s.push.apply(s,dh(l.props.children,d));return}Xe(l.type===hh,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xe(!l.props.index||!l.props.children,"An index route cannot have child routes.");let m={id:l.props.id||d.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(m.children=dh(l.props.children,d)),s.push(m)}),s}var Ql="get",Yl="application/x-www-form-urlencoded";function au(r){return r!=null&&typeof r.tagName=="string"}function Wv(r){return au(r)&&r.tagName.toLowerCase()==="button"}function qv(r){return au(r)&&r.tagName.toLowerCase()==="form"}function Hv(r){return au(r)&&r.tagName.toLowerCase()==="input"}function Gv(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Vv(r,i){return r.button===0&&(!i||i==="_self")&&!Gv(r)}var Kl=null;function Kv(){if(Kl===null)try{new FormData(document.createElement("form"),0),Kl=!1}catch{Kl=!0}return Kl}var Jv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qc(r){return r!=null&&!Jv.has(r)?(Zn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yl}"`),null):r}function Qv(r,i){let s,l,u,d,m;if(qv(r)){let y=r.getAttribute("action");l=y?yi(y,i):null,s=r.getAttribute("method")||Ql,u=Qc(r.getAttribute("enctype"))||Yl,d=new FormData(r)}else if(Wv(r)||Hv(r)&&(r.type==="submit"||r.type==="image")){let y=r.form;if(y==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=r.getAttribute("formaction")||y.getAttribute("action");if(l=v?yi(v,i):null,s=r.getAttribute("formmethod")||y.getAttribute("method")||Ql,u=Qc(r.getAttribute("formenctype"))||Qc(y.getAttribute("enctype"))||Yl,d=new FormData(y,r),!Kv()){let{name:w,type:k,value:P}=r;if(k==="image"){let R=w?`${w}.`:"";d.append(`${R}x`,"0"),d.append(`${R}y`,"0")}else w&&d.append(w,P)}}else{if(au(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Ql,l=null,u=Yl,m=r}return d&&u==="text/plain"&&(m=d,d=void 0),{action:l,method:s.toLowerCase(),encType:u,formData:d,body:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function bh(r,i){if(r===!1||r===null||typeof r>"u")throw new Error(i)}function Yv(r,i,s){let l=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return l.pathname==="/"?l.pathname=`_root.${s}`:i&&yi(l.pathname,i)==="/"?l.pathname=`${i.replace(/\/$/,"")}/_root.${s}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${s}`,l}async function Xv(r,i){if(r.id in i)return i[r.id];try{let s=await import(r.module);return i[r.id]=s,s}catch(s){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ey(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function ty(r,i,s){let l=await Promise.all(r.map(async u=>{let d=i.routes[u.route.id];if(d){let m=await Xv(d,s);return m.links?m.links():[]}return[]}));return sy(l.flat(1).filter(ey).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function tp(r,i,s,l,u,d){let m=(v,w)=>s[w]?v.route.id!==s[w].route.id:!0,y=(v,w)=>s[w].pathname!==v.pathname||s[w].route.path?.endsWith("*")&&s[w].params["*"]!==v.params["*"];return d==="assets"?i.filter((v,w)=>m(v,w)||y(v,w)):d==="data"?i.filter((v,w)=>{let k=l.routes[v.route.id];if(!k||!k.hasLoader)return!1;if(m(v,w)||y(v,w))return!0;if(v.route.shouldRevalidate){let P=v.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof P=="boolean")return P}return!0}):[]}function ny(r,i,{includeHydrateFallback:s}={}){return iy(r.map(l=>{let u=i.routes[l.route.id];if(!u)return[];let d=[u.module];return u.clientActionModule&&(d=d.concat(u.clientActionModule)),u.clientLoaderModule&&(d=d.concat(u.clientLoaderModule)),s&&u.hydrateFallbackModule&&(d=d.concat(u.hydrateFallbackModule)),u.imports&&(d=d.concat(u.imports)),d}).flat(1))}function iy(r){return[...new Set(r)]}function ry(r){let i={},s=Object.keys(r).sort();for(let l of s)i[l]=r[l];return i}function sy(r,i){let s=new Set;return new Set(i),r.reduce((l,u)=>{let d=JSON.stringify(ry(u));return s.has(d)||(s.add(d),l.push({key:d,link:u})),l},[])}function jp(){let r=$.useContext(io);return bh(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function oy(){let r=$.useContext(ou);return bh(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Eh=$.createContext(void 0);Eh.displayName="FrameworkContext";function Dp(){let r=$.useContext(Eh);return bh(r,"You must render this element inside a <HydratedRouter> element"),r}function ay(r,i){let s=$.useContext(Eh),[l,u]=$.useState(!1),[d,m]=$.useState(!1),{onFocus:y,onBlur:v,onMouseEnter:w,onMouseLeave:k,onTouchStart:P}=i,R=$.useRef(null);$.useEffect(()=>{if(r==="render"&&m(!0),r==="viewport"){let D=G=>{G.forEach(he=>{m(he.isIntersecting)})},F=new IntersectionObserver(D,{threshold:.5});return R.current&&F.observe(R.current),()=>{F.disconnect()}}},[r]),$.useEffect(()=>{if(l){let D=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(D)}}},[l]);let N=()=>{u(!0)},B=()=>{u(!1),m(!1)};return s?r!=="intent"?[d,R,{}]:[d,R,{onFocus:la(y,N),onBlur:la(v,B),onMouseEnter:la(w,N),onMouseLeave:la(k,B),onTouchStart:la(P,N)}]:[!1,R,{}]}function la(r,i){return s=>{r&&r(s),s.defaultPrevented||i(s)}}function ly({page:r,...i}){let{router:s}=jp(),l=$.useMemo(()=>bp(s.routes,r,s.basename),[s.routes,r,s.basename]);return l?$.createElement(cy,{page:r,matches:l,...i}):null}function uy(r){let{manifest:i,routeModules:s}=Dp(),[l,u]=$.useState([]);return $.useEffect(()=>{let d=!1;return ty(r,i,s).then(m=>{d||u(m)}),()=>{d=!0}},[r,i,s]),l}function cy({page:r,matches:i,...s}){let l=Kr(),{manifest:u,routeModules:d}=Dp(),{basename:m}=jp(),{loaderData:y,matches:v}=oy(),w=$.useMemo(()=>tp(r,i,v,u,l,"data"),[r,i,v,u,l]),k=$.useMemo(()=>tp(r,i,v,u,l,"assets"),[r,i,v,u,l]),P=$.useMemo(()=>{if(r===l.pathname+l.search+l.hash)return[];let B=new Set,D=!1;if(i.forEach(G=>{let he=u.routes[G.route.id];!he||!he.hasLoader||(!w.some(V=>V.route.id===G.route.id)&&G.route.id in y&&d[G.route.id]?.shouldRevalidate||he.hasClientLoader?D=!0:B.add(G.route.id))}),B.size===0)return[];let F=Yv(r,m,"data");return D&&B.size>0&&F.searchParams.set("_routes",i.filter(G=>B.has(G.route.id)).map(G=>G.route.id).join(",")),[F.pathname+F.search]},[m,y,l,u,w,i,r,d]),R=$.useMemo(()=>ny(k,u),[k,u]),N=uy(k);return $.createElement($.Fragment,null,P.map(B=>$.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...s})),R.map(B=>$.createElement("link",{key:B,rel:"modulepreload",href:B,...s})),N.map(({key:B,link:D})=>$.createElement("link",{key:B,nonce:s.nonce,...D})))}function hy(...r){return i=>{r.forEach(s=>{typeof s=="function"?s(i):s!=null&&(s.current=i)})}}var Bp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Bp&&(window.__reactRouterVersion="7.8.0")}catch{}function dy({basename:r,children:i,window:s}){let l=$.useRef();l.current==null&&(l.current=Xg({window:s,v5Compat:!0}));let u=l.current,[d,m]=$.useState({action:u.action,location:u.location}),y=$.useCallback(v=>{$.startTransition(()=>m(v))},[m]);return $.useLayoutEffect(()=>u.listen(y),[u,y]),$.createElement($v,{basename:r,children:i,location:d.location,navigationType:d.action,navigator:u})}var Fp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lh=$.forwardRef(function({onClick:i,discover:s="render",prefetch:l="none",relative:u,reloadDocument:d,replace:m,state:y,target:v,to:w,preventScrollReset:k,viewTransition:P,...R},N){let{basename:B}=$.useContext(Wn),D=typeof w=="string"&&Fp.test(w),F,G=!1;if(typeof w=="string"&&D&&(F=w,Bp))try{let He=new URL(window.location.href),lt=w.startsWith("//")?new URL(He.protocol+w):new URL(w),Ze=yi(lt.pathname,B);lt.origin===He.origin&&Ze!=null?w=Ze+lt.search+lt.hash:G=!0}catch{Zn(!1,`<Link to="${w}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let he=bv(w,{relative:u}),[V,re,xe]=ay(l,R),ge=_y(w,{replace:m,state:y,target:v,preventScrollReset:k,relative:u,viewTransition:P});function Se(He){i&&i(He),He.defaultPrevented||ge(He)}let rt=$.createElement("a",{...R,...xe,href:F||he,onClick:G||d?i:Se,ref:hy(N,re),target:v,"data-discover":!D&&s==="render"?"true":void 0});return V&&!D?$.createElement($.Fragment,null,rt,$.createElement(ly,{page:he})):rt});Lh.displayName="Link";var fy=$.forwardRef(function({"aria-current":i="page",caseSensitive:s=!1,className:l="",end:u=!1,style:d,to:m,viewTransition:y,children:v,...w},k){let P=wa(m,{relative:w.relative}),R=Kr(),N=$.useContext(ou),{navigator:B,basename:D}=$.useContext(Wn),F=N!=null&&xy(P)&&y===!0,G=B.encodeLocation?B.encodeLocation(P).pathname:P.pathname,he=R.pathname,V=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;s||(he=he.toLowerCase(),V=V?V.toLowerCase():null,G=G.toLowerCase()),V&&D&&(V=yi(V,D)||V);const re=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let xe=he===G||!u&&he.startsWith(G)&&he.charAt(re)==="/",ge=V!=null&&(V===G||!u&&V.startsWith(G)&&V.charAt(G.length)==="/"),Se={isActive:xe,isPending:ge,isTransitioning:F},rt=xe?i:void 0,He;typeof l=="function"?He=l(Se):He=[l,xe?"active":null,ge?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let lt=typeof d=="function"?d(Se):d;return $.createElement(Lh,{...w,"aria-current":rt,className:He,ref:k,style:lt,to:m,viewTransition:y},typeof v=="function"?v(Se):v)});fy.displayName="NavLink";var py=$.forwardRef(({discover:r="render",fetcherKey:i,navigate:s,reloadDocument:l,replace:u,state:d,method:m=Ql,action:y,onSubmit:v,relative:w,preventScrollReset:k,viewTransition:P,...R},N)=>{let B=yy(),D=wy(y,{relative:w}),F=m.toLowerCase()==="get"?"get":"post",G=typeof y=="string"&&Fp.test(y),he=V=>{if(v&&v(V),V.defaultPrevented)return;V.preventDefault();let re=V.nativeEvent.submitter,xe=re?.getAttribute("formmethod")||m;B(re||V.currentTarget,{fetcherKey:i,method:xe,navigate:s,replace:u,state:d,relative:w,preventScrollReset:k,viewTransition:P})};return $.createElement("form",{ref:N,method:F,action:D,onSubmit:l?v:he,...R,"data-discover":!G&&r==="render"?"true":void 0})});py.displayName="Form";function my(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Up(r){let i=$.useContext(io);return Xe(i,my(r)),i}function _y(r,{target:i,replace:s,state:l,preventScrollReset:u,relative:d,viewTransition:m}={}){let y=Ev(),v=Kr(),w=wa(r,{relative:d});return $.useCallback(k=>{if(Vv(k,i)){k.preventDefault();let P=s!==void 0?s:ma(v)===ma(w);y(r,{replace:P,state:l,preventScrollReset:u,relative:d,viewTransition:m})}},[v,y,w,s,l,i,r,u,d,m])}var gy=0,vy=()=>`__${String(++gy)}__`;function yy(){let{router:r}=Up("useSubmit"),{basename:i}=$.useContext(Wn),s=Dv();return $.useCallback(async(l,u={})=>{let{action:d,method:m,encType:y,formData:v,body:w}=Qv(l,i);if(u.navigate===!1){let k=u.fetcherKey||vy();await r.fetch(k,s,u.action||d,{preventScrollReset:u.preventScrollReset,formData:v,body:w,formMethod:u.method||m,formEncType:u.encType||y,flushSync:u.flushSync})}else await r.navigate(u.action||d,{preventScrollReset:u.preventScrollReset,formData:v,body:w,formMethod:u.method||m,formEncType:u.encType||y,replace:u.replace,state:u.state,fromRouteId:s,flushSync:u.flushSync,viewTransition:u.viewTransition})},[r,i,s])}function wy(r,{relative:i}={}){let{basename:s}=$.useContext(Wn),l=$.useContext(wi);Xe(l,"useFormAction must be used inside a RouteContext");let[u]=l.matches.slice(-1),d={...wa(r||".",{relative:i})},m=Kr();if(r==null){d.search=m.search;let y=new URLSearchParams(d.search),v=y.getAll("index");if(v.some(k=>k==="")){y.delete("index"),v.filter(P=>P).forEach(P=>y.append("index",P));let k=y.toString();d.search=k?`?${k}`:""}}return(!r||r===".")&&u.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(d.pathname=d.pathname==="/"?s:gi([s,d.pathname])),ma(d)}function xy(r,{relative:i}={}){let s=$.useContext(Ap);Xe(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=Up("useViewTransitionState"),u=wa(r,{relative:i});if(!s.isTransitioning)return!1;let d=yi(s.currentLocation.pathname,l)||s.currentLocation.pathname,m=yi(s.nextLocation.pathname,l)||s.nextLocation.pathname;return tu(u.pathname,m)!=null||tu(u.pathname,d)!=null}function Sy({email:r}){const[i,s]=$.useState([]),[l,u]=$.useState(""),[d,m]=$.useState(""),[y,v]=$.useState(!1);async function w(){const{data:N,error:B}=await _i.from("projects").select("id, name, description, owner_id").order("created_at",{ascending:!1});!B&&N&&s(N)}async function k(){if(!l)return alert("Debes ponerle un nombre");v(!0);const{data:{user:N}}=await _i.auth.getUser(),{error:B}=await _i.from("projects").insert([{name:l,description:d,owner_id:N?.id}]);if(v(!1),B)return alert(B.message);u(""),m(""),w()}async function P(N){if(!confirm("Eliminar proyecto?"))return;const{error:D}=await _i.from("projects").delete().eq("id",N);if(D)return alert(D.message);s(F=>F.filter(G=>G.id!==N))}async function R(){await _i.auth.signOut(),window.location.reload()}return $.useEffect(()=>{w()},[]),te.jsx("div",{className:"min-h-screen bg-gray-900 text-gray-100 p-6",children:te.jsxs("div",{className:"max-w-3xl mx-auto space-y-8",children:[te.jsxs("div",{children:[te.jsx("h1",{className:"title",children:"Sesin iniciada en Pudumaps"}),te.jsx("p",{className:"text-muted",children:r})]}),te.jsxs("div",{className:"card space-y-4",children:[te.jsx("h2",{className:"subtitle",children:"Tus proyectos"}),te.jsx("input",{type:"text",placeholder:"Mi primer proyecto",value:l,onChange:N=>u(N.target.value),className:"input"}),te.jsx("input",{type:"text",placeholder:"Ej: Capas base de Chile",value:d,onChange:N=>m(N.target.value),className:"input"}),te.jsxs("div",{className:"flex gap-3",children:[te.jsx("button",{onClick:k,disabled:y,className:"btn btn-primary disabled:opacity-60",children:y?"Creando":"Crear y abrir"}),te.jsx("button",{onClick:w,className:"btn btn-secondary",children:"Actualizar"}),te.jsx("button",{onClick:R,className:"btn btn-danger ml-auto",children:"Cerrar sesin"})]})]}),te.jsxs("div",{className:"space-y-3",children:[i.map(N=>te.jsxs("div",{className:"card flex justify-between items-center py-3 px-4",children:[te.jsxs("div",{children:[te.jsx("h3",{className:"font-semibold text-white",children:N.name}),te.jsx("p",{className:"text-muted",children:N.description})]}),te.jsxs("div",{className:"flex gap-3",children:[te.jsx(Lh,{to:`/project/${N.id}`,className:"text-blue-400 hover:underline",children:"Abrir"}),te.jsx("button",{onClick:()=>P(N.id),className:"btn btn-danger px-3 py-1 text-sm",children:"Eliminar"})]})]},N.id)),i.length===0&&te.jsx("p",{className:"text-muted text-center",children:"No tienes proyectos an."})]})]})})}function ky({children:r,fallback:i}){const[s,l]=$.useState(null),[u,d]=$.useState(!0);return $.useEffect(()=>{_i.auth.getSession().then(({data:y})=>{l(y.session),d(!1)});const{data:{subscription:m}}=_i.auth.onAuthStateChange((y,v)=>{l(v)});return()=>m.unsubscribe()},[]),u?te.jsx("div",{className:"flex min-h-screen items-center justify-center",children:te.jsx("div",{className:"bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-100 rounded-xl shadow p-6",children:"Cargando"})}):s?te.jsx(te.Fragment,{children:r(s)}):te.jsx(te.Fragment,{children:i})}var ca={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var Py=ca.exports,np;function Ty(){return np||(np=1,(function(r,i){(function(s,l){l(i)})(Py,(function(s){var l="1.9.4";function u(t){var o,c,f,g;for(c=1,f=arguments.length;c<f;c++){g=arguments[c];for(o in g)t[o]=g[o]}return t}var d=Object.create||(function(){function t(){}return function(o){return t.prototype=o,new t}})();function m(t,o){var c=Array.prototype.slice;if(t.bind)return t.bind.apply(t,c.call(arguments,1));var f=c.call(arguments,2);return function(){return t.apply(o,f.length?f.concat(c.call(arguments)):arguments)}}var y=0;function v(t){return"_leaflet_id"in t||(t._leaflet_id=++y),t._leaflet_id}function w(t,o,c){var f,g,S,b;return b=function(){f=!1,g&&(S.apply(c,g),g=!1)},S=function(){f?g=arguments:(t.apply(c,arguments),setTimeout(b,o),f=!0)},S}function k(t,o,c){var f=o[1],g=o[0],S=f-g;return t===f&&c?t:((t-g)%S+S)%S+g}function P(){return!1}function R(t,o){if(o===!1)return t;var c=Math.pow(10,o===void 0?6:o);return Math.round(t*c)/c}function N(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function B(t){return N(t).split(/\s+/)}function D(t,o){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?d(t.options):{});for(var c in o)t.options[c]=o[c];return t.options}function F(t,o,c){var f=[];for(var g in t)f.push(encodeURIComponent(c?g.toUpperCase():g)+"="+encodeURIComponent(t[g]));return(!o||o.indexOf("?")===-1?"?":"&")+f.join("&")}var G=/\{ *([\w_ -]+) *\}/g;function he(t,o){return t.replace(G,function(c,f){var g=o[f];if(g===void 0)throw new Error("No value provided for variable "+c);return typeof g=="function"&&(g=g(o)),g})}var V=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function re(t,o){for(var c=0;c<t.length;c++)if(t[c]===o)return c;return-1}var xe="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ge(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var Se=0;function rt(t){var o=+new Date,c=Math.max(0,16-(o-Se));return Se=o+c,window.setTimeout(t,c)}var He=window.requestAnimationFrame||ge("RequestAnimationFrame")||rt,lt=window.cancelAnimationFrame||ge("CancelAnimationFrame")||ge("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function Ze(t,o,c){if(c&&He===rt)t.call(o);else return He.call(window,m(t,o))}function Ve(t){t&&lt.call(window,t)}var Ot={__proto__:null,extend:u,create:d,bind:m,get lastId(){return y},stamp:v,throttle:w,wrapNum:k,falseFn:P,formatNum:R,trim:N,splitWords:B,setOptions:D,getParamString:F,template:he,isArray:V,indexOf:re,emptyImageUrl:xe,requestFn:He,cancelFn:lt,requestAnimFrame:Ze,cancelAnimFrame:Ve};function nt(){}nt.extend=function(t){var o=function(){D(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=o.__super__=this.prototype,f=d(c);f.constructor=o,o.prototype=f;for(var g in this)Object.prototype.hasOwnProperty.call(this,g)&&g!=="prototype"&&g!=="__super__"&&(o[g]=this[g]);return t.statics&&u(o,t.statics),t.includes&&(nn(t.includes),u.apply(null,[f].concat(t.includes))),u(f,t),delete f.statics,delete f.includes,f.options&&(f.options=c.options?d(c.options):{},u(f.options,t.options)),f._initHooks=[],f.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var S=0,b=f._initHooks.length;S<b;S++)f._initHooks[S].call(this)}},o},nt.include=function(t){var o=this.prototype.options;return u(this.prototype,t),t.options&&(this.prototype.options=o,this.mergeOptions(t.options)),this},nt.mergeOptions=function(t){return u(this.prototype.options,t),this},nt.addInitHook=function(t){var o=Array.prototype.slice.call(arguments,1),c=typeof t=="function"?t:function(){this[t].apply(this,o)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function nn(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=V(t)?t:[t];for(var o=0;o<t.length;o++)t[o]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ne={on:function(t,o,c){if(typeof t=="object")for(var f in t)this._on(f,t[f],o);else{t=B(t);for(var g=0,S=t.length;g<S;g++)this._on(t[g],o,c)}return this},off:function(t,o,c){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var f in t)this._off(f,t[f],o);else{t=B(t);for(var g=arguments.length===1,S=0,b=t.length;S<b;S++)g?this._off(t[S]):this._off(t[S],o,c)}return this},_on:function(t,o,c,f){if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}if(this._listens(t,o,c)===!1){c===this&&(c=void 0);var g={fn:o,ctx:c};f&&(g.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(g)}},_off:function(t,o,c){var f,g,S;if(this._events&&(f=this._events[t],!!f)){if(arguments.length===1){if(this._firingCount)for(g=0,S=f.length;g<S;g++)f[g].fn=P;delete this._events[t];return}if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}var b=this._listens(t,o,c);if(b!==!1){var A=f[b];this._firingCount&&(A.fn=P,this._events[t]=f=f.slice()),f.splice(b,1)}}},fire:function(t,o,c){if(!this.listens(t,c))return this;var f=u({},o,{type:t,target:this,sourceTarget:o&&o.sourceTarget||this});if(this._events){var g=this._events[t];if(g){this._firingCount=this._firingCount+1||1;for(var S=0,b=g.length;S<b;S++){var A=g[S],z=A.fn;A.once&&this.off(t,z,A.ctx),z.call(A.ctx||this,f)}this._firingCount--}}return c&&this._propagateEvent(f),this},listens:function(t,o,c,f){typeof t!="string"&&console.warn('"string" type argument expected');var g=o;typeof o!="function"&&(f=!!o,g=void 0,c=void 0);var S=this._events&&this._events[t];if(S&&S.length&&this._listens(t,g,c)!==!1)return!0;if(f){for(var b in this._eventParents)if(this._eventParents[b].listens(t,o,c,f))return!0}return!1},_listens:function(t,o,c){if(!this._events)return!1;var f=this._events[t]||[];if(!o)return!!f.length;c===this&&(c=void 0);for(var g=0,S=f.length;g<S;g++)if(f[g].fn===o&&f[g].ctx===c)return g;return!1},once:function(t,o,c){if(typeof t=="object")for(var f in t)this._on(f,t[f],o,!0);else{t=B(t);for(var g=0,S=t.length;g<S;g++)this._on(t[g],o,c,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[v(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[v(t)],this},_propagateEvent:function(t){for(var o in this._eventParents)this._eventParents[o].fire(t.type,u({layer:t.target,propagatedFrom:t.target},t),!0)}};Ne.addEventListener=Ne.on,Ne.removeEventListener=Ne.clearAllEventListeners=Ne.off,Ne.addOneTimeEventListener=Ne.once,Ne.fireEvent=Ne.fire,Ne.hasEventListeners=Ne.listens;var ze=nt.extend(Ne);function W(t,o,c){this.x=c?Math.round(t):t,this.y=c?Math.round(o):o}var pe=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};W.prototype={clone:function(){return new W(this.x,this.y)},add:function(t){return this.clone()._add(q(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(q(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new W(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new W(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=pe(this.x),this.y=pe(this.y),this},distanceTo:function(t){t=q(t);var o=t.x-this.x,c=t.y-this.y;return Math.sqrt(o*o+c*c)},equals:function(t){return t=q(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=q(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+R(this.x)+", "+R(this.y)+")"}};function q(t,o,c){return t instanceof W?t:V(t)?new W(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new W(t.x,t.y):new W(t,o,c)}function C(t,o){if(t)for(var c=o?[t,o]:t,f=0,g=c.length;f<g;f++)this.extend(c[f])}C.prototype={extend:function(t){var o,c;if(!t)return this;if(t instanceof W||typeof t[0]=="number"||"x"in t)o=c=q(t);else if(t=Z(t),o=t.min,c=t.max,!o||!c)return this;return!this.min&&!this.max?(this.min=o.clone(),this.max=c.clone()):(this.min.x=Math.min(o.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(o.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(t){return q((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return q(this.min.x,this.max.y)},getTopRight:function(){return q(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var o,c;return typeof t[0]=="number"||t instanceof W?t=q(t):t=Z(t),t instanceof C?(o=t.min,c=t.max):o=c=t,o.x>=this.min.x&&c.x<=this.max.x&&o.y>=this.min.y&&c.y<=this.max.y},intersects:function(t){t=Z(t);var o=this.min,c=this.max,f=t.min,g=t.max,S=g.x>=o.x&&f.x<=c.x,b=g.y>=o.y&&f.y<=c.y;return S&&b},overlaps:function(t){t=Z(t);var o=this.min,c=this.max,f=t.min,g=t.max,S=g.x>o.x&&f.x<c.x,b=g.y>o.y&&f.y<c.y;return S&&b},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var o=this.min,c=this.max,f=Math.abs(o.x-c.x)*t,g=Math.abs(o.y-c.y)*t;return Z(q(o.x-f,o.y-g),q(c.x+f,c.y+g))},equals:function(t){return t?(t=Z(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function Z(t,o){return!t||t instanceof C?t:new C(t,o)}function de(t,o){if(t)for(var c=o?[t,o]:t,f=0,g=c.length;f<g;f++)this.extend(c[f])}de.prototype={extend:function(t){var o=this._southWest,c=this._northEast,f,g;if(t instanceof ae)f=t,g=t;else if(t instanceof de){if(f=t._southWest,g=t._northEast,!f||!g)return this}else return t?this.extend(ne(t)||ce(t)):this;return!o&&!c?(this._southWest=new ae(f.lat,f.lng),this._northEast=new ae(g.lat,g.lng)):(o.lat=Math.min(f.lat,o.lat),o.lng=Math.min(f.lng,o.lng),c.lat=Math.max(g.lat,c.lat),c.lng=Math.max(g.lng,c.lng)),this},pad:function(t){var o=this._southWest,c=this._northEast,f=Math.abs(o.lat-c.lat)*t,g=Math.abs(o.lng-c.lng)*t;return new de(new ae(o.lat-f,o.lng-g),new ae(c.lat+f,c.lng+g))},getCenter:function(){return new ae((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ae(this.getNorth(),this.getWest())},getSouthEast:function(){return new ae(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof ae||"lat"in t?t=ne(t):t=ce(t);var o=this._southWest,c=this._northEast,f,g;return t instanceof de?(f=t.getSouthWest(),g=t.getNorthEast()):f=g=t,f.lat>=o.lat&&g.lat<=c.lat&&f.lng>=o.lng&&g.lng<=c.lng},intersects:function(t){t=ce(t);var o=this._southWest,c=this._northEast,f=t.getSouthWest(),g=t.getNorthEast(),S=g.lat>=o.lat&&f.lat<=c.lat,b=g.lng>=o.lng&&f.lng<=c.lng;return S&&b},overlaps:function(t){t=ce(t);var o=this._southWest,c=this._northEast,f=t.getSouthWest(),g=t.getNorthEast(),S=g.lat>o.lat&&f.lat<c.lat,b=g.lng>o.lng&&f.lng<c.lng;return S&&b},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,o){return t?(t=ce(t),this._southWest.equals(t.getSouthWest(),o)&&this._northEast.equals(t.getNorthEast(),o)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ce(t,o){return t instanceof de?t:new de(t,o)}function ae(t,o,c){if(isNaN(t)||isNaN(o))throw new Error("Invalid LatLng object: ("+t+", "+o+")");this.lat=+t,this.lng=+o,c!==void 0&&(this.alt=+c)}ae.prototype={equals:function(t,o){if(!t)return!1;t=ne(t);var c=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return c<=(o===void 0?1e-9:o)},toString:function(t){return"LatLng("+R(this.lat,t)+", "+R(this.lng,t)+")"},distanceTo:function(t){return be.distance(this,ne(t))},wrap:function(){return be.wrapLatLng(this)},toBounds:function(t){var o=180*t/40075017,c=o/Math.cos(Math.PI/180*this.lat);return ce([this.lat-o,this.lng-c],[this.lat+o,this.lng+c])},clone:function(){return new ae(this.lat,this.lng,this.alt)}};function ne(t,o,c){return t instanceof ae?t:V(t)&&typeof t[0]!="object"?t.length===3?new ae(t[0],t[1],t[2]):t.length===2?new ae(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new ae(t.lat,"lng"in t?t.lng:t.lon,t.alt):o===void 0?null:new ae(t,o,c)}var Oe={latLngToPoint:function(t,o){var c=this.projection.project(t),f=this.scale(o);return this.transformation._transform(c,f)},pointToLatLng:function(t,o){var c=this.scale(o),f=this.transformation.untransform(t,c);return this.projection.unproject(f)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var o=this.projection.bounds,c=this.scale(t),f=this.transformation.transform(o.min,c),g=this.transformation.transform(o.max,c);return new C(f,g)},infinite:!1,wrapLatLng:function(t){var o=this.wrapLng?k(t.lng,this.wrapLng,!0):t.lng,c=this.wrapLat?k(t.lat,this.wrapLat,!0):t.lat,f=t.alt;return new ae(c,o,f)},wrapLatLngBounds:function(t){var o=t.getCenter(),c=this.wrapLatLng(o),f=o.lat-c.lat,g=o.lng-c.lng;if(f===0&&g===0)return t;var S=t.getSouthWest(),b=t.getNorthEast(),A=new ae(S.lat-f,S.lng-g),z=new ae(b.lat-f,b.lng-g);return new de(A,z)}},be=u({},Oe,{wrapLng:[-180,180],R:6371e3,distance:function(t,o){var c=Math.PI/180,f=t.lat*c,g=o.lat*c,S=Math.sin((o.lat-t.lat)*c/2),b=Math.sin((o.lng-t.lng)*c/2),A=S*S+Math.cos(f)*Math.cos(g)*b*b,z=2*Math.atan2(Math.sqrt(A),Math.sqrt(1-A));return this.R*z}}),Be=6378137,yt={R:Be,MAX_LATITUDE:85.0511287798,project:function(t){var o=Math.PI/180,c=this.MAX_LATITUDE,f=Math.max(Math.min(c,t.lat),-c),g=Math.sin(f*o);return new W(this.R*t.lng*o,this.R*Math.log((1+g)/(1-g))/2)},unproject:function(t){var o=180/Math.PI;return new ae((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*o,t.x*o/this.R)},bounds:(function(){var t=Be*Math.PI;return new C([-t,-t],[t,t])})()};function xi(t,o,c,f){if(V(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=o,this._c=c,this._d=f}xi.prototype={transform:function(t,o){return this._transform(t.clone(),o)},_transform:function(t,o){return o=o||1,t.x=o*(this._a*t.x+this._b),t.y=o*(this._c*t.y+this._d),t},untransform:function(t,o){return o=o||1,new W((t.x/o-this._b)/this._a,(t.y/o-this._d)/this._c)}};function Si(t,o,c,f){return new xi(t,o,c,f)}var ki=u({},be,{code:"EPSG:3857",projection:yt,transformation:(function(){var t=.5/(Math.PI*yt.R);return Si(t,.5,-t,.5)})()}),ro=u({},ki,{code:"EPSG:900913"});function so(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function oo(t,o){var c="",f,g,S,b,A,z;for(f=0,S=t.length;f<S;f++){for(A=t[f],g=0,b=A.length;g<b;g++)z=A[g],c+=(g?"L":"M")+z.x+" "+z.y;c+=o?le.svg?"z":"x":""}return c||"M0 0"}var cr=document.documentElement.style,hr="ActiveXObject"in window,ao=hr&&!document.addEventListener,Pi="msLaunchUri"in navigator&&!("documentMode"in document),Cn=St("webkit"),Jr=St("android"),lo=St("android 2")||St("android 3"),xa=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Sa=Jr&&St("Google")&&xa<537&&!("AudioNode"in window),Qr=!!window.opera,Yr=!Pi&&St("chrome"),dr=St("gecko")&&!Cn&&!Qr&&!hr,ka=!Yr&&St("safari"),Ti=St("phantom"),bi="OTransition"in cr,pu=navigator.platform.indexOf("Win")===0,uo=hr&&"transition"in cr,Xr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!lo,Pa="MozPerspective"in cr,co=!window.L_DISABLE_3D&&(uo||Xr||Pa)&&!bi&&!Ti,qn=typeof orientation<"u"||St("mobile"),ho=qn&&Cn,fo=qn&&Xr,es=!window.PointerEvent&&window.MSPointerEvent,Hn=!!(window.PointerEvent||es),Gn="ontouchstart"in window||!!window.TouchEvent,Ta=!window.L_NO_TOUCH&&(Gn||Hn),ba=qn&&Qr,Ea=qn&&dr,La=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ca=(function(){var t=!1;try{var o=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",P,o),window.removeEventListener("testPassiveEventSupport",P,o)}catch{}return t})(),po=(function(){return!!document.createElement("canvas").getContext})(),ts=!!(document.createElementNS&&so("svg").createSVGRect),fr=!!ts&&(function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),mo=!ts&&(function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var o=t.firstChild;return o.style.behavior="url(#default#VML)",o&&typeof o.adj=="object"}catch{return!1}})(),pr=navigator.platform.indexOf("Mac")===0,mu=navigator.platform.indexOf("Linux")===0;function St(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var le={ie:hr,ielt9:ao,edge:Pi,webkit:Cn,android:Jr,android23:lo,androidStock:Sa,opera:Qr,chrome:Yr,gecko:dr,safari:ka,phantom:Ti,opera12:bi,win:pu,ie3d:uo,webkit3d:Xr,gecko3d:Pa,any3d:co,mobile:qn,mobileWebkit:ho,mobileWebkit3d:fo,msPointer:es,pointer:Hn,touch:Ta,touchNative:Gn,mobileOpera:ba,mobileGecko:Ea,retina:La,passiveEvents:Ca,canvas:po,svg:ts,vml:mo,inlineSvg:fr,mac:pr,linux:mu},mr=le.msPointer?"MSPointerDown":"pointerdown",ns=le.msPointer?"MSPointerMove":"pointermove",Oa=le.msPointer?"MSPointerUp":"pointerup",Ra=le.msPointer?"MSPointerCancel":"pointercancel",_o={touchstart:mr,touchmove:ns,touchend:Oa,touchcancel:Ra},On={touchstart:Ke,touchmove:is,touchend:is,touchcancel:is},Vn={},go=!1;function _u(t,o,c){return o==="touchstart"&&gu(),On[o]?(c=On[o].bind(this,c),t.addEventListener(_o[o],c,!1),c):(console.warn("wrong event specified:",o),P)}function Aa(t,o,c){if(!_o[o]){console.warn("wrong event specified:",o);return}t.removeEventListener(_o[o],c,!1)}function Ia(t){Vn[t.pointerId]=t}function Ma(t){Vn[t.pointerId]&&(Vn[t.pointerId]=t)}function vo(t){delete Vn[t.pointerId]}function gu(){go||(document.addEventListener(mr,Ia,!0),document.addEventListener(ns,Ma,!0),document.addEventListener(Oa,vo,!0),document.addEventListener(Ra,vo,!0),go=!0)}function is(t,o){if(o.pointerType!==(o.MSPOINTER_TYPE_MOUSE||"mouse")){o.touches=[];for(var c in Vn)o.touches.push(Vn[c]);o.changedTouches=[o],t(o)}}function Ke(t,o){o.MSPOINTER_TYPE_TOUCH&&o.pointerType===o.MSPOINTER_TYPE_TOUCH&&Je(o),is(t,o)}function vu(t){var o={},c,f;for(f in t)c=t[f],o[f]=c&&c.bind?c.bind(t):c;return t=o,o.type="dblclick",o.detail=2,o.isTrusted=!1,o._simulated=!0,o}var yo=200;function Na(t,o){t.addEventListener("dblclick",o);var c=0,f;function g(S){if(S.detail!==1){f=S.detail;return}if(!(S.pointerType==="mouse"||S.sourceCapabilities&&!S.sourceCapabilities.firesTouchEvents)){var b=Qn(S);if(!(b.some(function(z){return z instanceof HTMLLabelElement&&z.attributes.for})&&!b.some(function(z){return z instanceof HTMLInputElement||z instanceof HTMLSelectElement}))){var A=Date.now();A-c<=yo?(f++,f===2&&o(vu(S))):f=1,c=A}}}return t.addEventListener("click",g),{dblclick:o,simDblclick:g}}function rs(t,o){t.removeEventListener("dblclick",o.dblclick),t.removeEventListener("click",o.simDblclick)}var wo=Oi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ei=Oi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),_r=Ei==="webkitTransition"||Ei==="OTransition"?Ei+"End":"transitionend";function qt(t){return typeof t=="string"?document.getElementById(t):t}function gr(t,o){var c=t.style[o]||t.currentStyle&&t.currentStyle[o];if((!c||c==="auto")&&document.defaultView){var f=document.defaultView.getComputedStyle(t,null);c=f?f[o]:null}return c==="auto"?null:c}function ke(t,o,c){var f=document.createElement(t);return f.className=o||"",c&&c.appendChild(f),f}function We(t){var o=t.parentNode;o&&o.removeChild(t)}function ss(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Li(t){var o=t.parentNode;o&&o.lastChild!==t&&o.appendChild(t)}function _n(t){var o=t.parentNode;o&&o.firstChild!==t&&o.insertBefore(t,o.firstChild)}function Ci(t,o){if(t.classList!==void 0)return t.classList.contains(o);var c=os(t);return c.length>0&&new RegExp("(^|\\s)"+o+"(\\s|$)").test(c)}function we(t,o){if(t.classList!==void 0)for(var c=B(o),f=0,g=c.length;f<g;f++)t.classList.add(c[f]);else if(!Ci(t,o)){var S=os(t);xo(t,(S?S+" ":"")+o)}}function Fe(t,o){t.classList!==void 0?t.classList.remove(o):xo(t,N((" "+os(t)+" ").replace(" "+o+" "," ")))}function xo(t,o){t.className.baseVal===void 0?t.className=o:t.className.baseVal=o}function os(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function kt(t,o){"opacity"in t.style?t.style.opacity=o:"filter"in t.style&&za(t,o)}function za(t,o){var c=!1,f="DXImageTransform.Microsoft.Alpha";try{c=t.filters.item(f)}catch{if(o===1)return}o=Math.round(o*100),c?(c.Enabled=o!==100,c.Opacity=o):t.style.filter+=" progid:"+f+"(opacity="+o+")"}function Oi(t){for(var o=document.documentElement.style,c=0;c<t.length;c++)if(t[c]in o)return t[c];return!1}function Ht(t,o,c){var f=o||new W(0,0);t.style[wo]=(le.ie3d?"translate("+f.x+"px,"+f.y+"px)":"translate3d("+f.x+"px,"+f.y+"px,0)")+(c?" scale("+c+")":"")}function et(t,o){t._leaflet_pos=o,le.any3d?Ht(t,o):(t.style.left=o.x+"px",t.style.top=o.y+"px")}function gn(t){return t._leaflet_pos||new W(0,0)}var Re,Ri,as;if("onselectstart"in document)Re=function(){ve(window,"selectstart",Je)},Ri=function(){je(window,"selectstart",Je)};else{var Kn=Oi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Re=function(){if(Kn){var t=document.documentElement.style;as=t[Kn],t[Kn]="none"}},Ri=function(){Kn&&(document.documentElement.style[Kn]=as,as=void 0)}}function ls(){ve(window,"dragstart",Je)}function us(){je(window,"dragstart",Je)}var vr,yr;function Ai(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(Gt(),vr=t,yr=t.style.outlineStyle,t.style.outlineStyle="none",ve(window,"keydown",Gt))}function Gt(){vr&&(vr.style.outlineStyle=yr,vr=void 0,yr=void 0,je(window,"keydown",Gt))}function vn(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function rn(t){var o=t.getBoundingClientRect();return{x:o.width/t.offsetWidth||1,y:o.height/t.offsetHeight||1,boundingClientRect:o}}var wr={__proto__:null,TRANSFORM:wo,TRANSITION:Ei,TRANSITION_END:_r,get:qt,getStyle:gr,create:ke,remove:We,empty:ss,toFront:Li,toBack:_n,hasClass:Ci,addClass:we,removeClass:Fe,setClass:xo,getClass:os,setOpacity:kt,testProp:Oi,setTransform:Ht,setPosition:et,getPosition:gn,get disableTextSelection(){return Re},get enableTextSelection(){return Ri},disableImageDrag:ls,enableImageDrag:us,preventOutline:Ai,restoreOutline:Gt,getSizedParentNode:vn,getScale:rn};function ve(t,o,c,f){if(o&&typeof o=="object")for(var g in o)ko(t,g,o[g],c);else{o=B(o);for(var S=0,b=o.length;S<b;S++)ko(t,o[S],c,f)}return this}var ut="_leaflet_events";function je(t,o,c,f){if(arguments.length===1)So(t),delete t[ut];else if(o&&typeof o=="object")for(var g in o)cs(t,g,o[g],c);else if(o=B(o),arguments.length===2)So(t,function(A){return re(o,A)!==-1});else for(var S=0,b=o.length;S<b;S++)cs(t,o[S],c,f);return this}function So(t,o){for(var c in t[ut]){var f=c.split(/\d/)[0];(!o||o(f))&&cs(t,f,null,null,c)}}var Jn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ko(t,o,c,f){var g=o+v(c)+(f?"_"+v(f):"");if(t[ut]&&t[ut][g])return this;var S=function(A){return c.call(f||t,A||window.event)},b=S;!le.touchNative&&le.pointer&&o.indexOf("touch")===0?S=_u(t,o,S):le.touch&&o==="dblclick"?S=Na(t,S):"addEventListener"in t?o==="touchstart"||o==="touchmove"||o==="wheel"||o==="mousewheel"?t.addEventListener(Jn[o]||o,S,le.passiveEvents?{passive:!1}:!1):o==="mouseenter"||o==="mouseleave"?(S=function(A){A=A||window.event,kr(t,A)&&b(A)},t.addEventListener(Jn[o],S,!1)):t.addEventListener(o,b,!1):t.attachEvent("on"+o,S),t[ut]=t[ut]||{},t[ut][g]=S}function cs(t,o,c,f,g){g=g||o+v(c)+(f?"_"+v(f):"");var S=t[ut]&&t[ut][g];if(!S)return this;!le.touchNative&&le.pointer&&o.indexOf("touch")===0?Aa(t,o,S):le.touch&&o==="dblclick"?rs(t,S):"removeEventListener"in t?t.removeEventListener(Jn[o]||o,S,!1):t.detachEvent("on"+o,S),t[ut][g]=null}function sn(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function hs(t){return ko(t,"wheel",sn),this}function xr(t){return ve(t,"mousedown touchstart dblclick contextmenu",sn),t._leaflet_disable_click=!0,this}function Je(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Vt(t){return Je(t),sn(t),this}function Qn(t){if(t.composedPath)return t.composedPath();for(var o=[],c=t.target;c;)o.push(c),c=c.parentNode;return o}function Sr(t,o){if(!o)return new W(t.clientX,t.clientY);var c=rn(o),f=c.boundingClientRect;return new W((t.clientX-f.left)/c.x-o.clientLeft,(t.clientY-f.top)/c.y-o.clientTop)}var yu=le.linux&&le.chrome?window.devicePixelRatio:le.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ja(t){return le.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/yu:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function kr(t,o){var c=o.relatedTarget;if(!c)return!0;try{for(;c&&c!==t;)c=c.parentNode}catch{return!1}return c!==t}var ds={__proto__:null,on:ve,off:je,stopPropagation:sn,disableScrollPropagation:hs,disableClickPropagation:xr,preventDefault:Je,stop:Vt,getPropagationPath:Qn,getMousePosition:Sr,getWheelDelta:ja,isExternalTarget:kr,addListener:ve,removeListener:je},fs=ze.extend({run:function(t,o,c,f){this.stop(),this._el=t,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(f||.5,.2),this._startPos=gn(t),this._offset=o.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Ze(this._animate,this),this._step()},_step:function(t){var o=+new Date-this._startTime,c=this._duration*1e3;o<c?this._runFrame(this._easeOut(o/c),t):(this._runFrame(1),this._complete())},_runFrame:function(t,o){var c=this._startPos.add(this._offset.multiplyBy(t));o&&c._round(),et(this._el,c),this.fire("step")},_complete:function(){Ve(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Le=ze.extend({options:{crs:ki,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,o){o=D(this,o),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=m(this._onResize,this),this._initEvents(),o.maxBounds&&this.setMaxBounds(o.maxBounds),o.zoom!==void 0&&(this._zoom=this._limitZoom(o.zoom)),o.center&&o.zoom!==void 0&&this.setView(ne(o.center),o.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ei&&le.any3d&&!le.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ve(this._proxy,_r,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,o,c){if(o=o===void 0?this._zoom:this._limitZoom(o),t=this._limitCenter(ne(t),o,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=u({animate:c.animate},c.zoom),c.pan=u({animate:c.animate,duration:c.duration},c.pan));var f=this._zoom!==o?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,o,c.zoom):this._tryAnimatedPan(t,c.pan);if(f)return clearTimeout(this._sizeTimer),this}return this._resetView(t,o,c.pan&&c.pan.noMoveStart),this},setZoom:function(t,o){return this._loaded?this.setView(this.getCenter(),t,{zoom:o}):(this._zoom=t,this)},zoomIn:function(t,o){return t=t||(le.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,o)},zoomOut:function(t,o){return t=t||(le.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,o)},setZoomAround:function(t,o,c){var f=this.getZoomScale(o),g=this.getSize().divideBy(2),S=t instanceof W?t:this.latLngToContainerPoint(t),b=S.subtract(g).multiplyBy(1-1/f),A=this.containerPointToLatLng(g.add(b));return this.setView(A,o,{zoom:c})},_getBoundsCenterZoom:function(t,o){o=o||{},t=t.getBounds?t.getBounds():ce(t);var c=q(o.paddingTopLeft||o.padding||[0,0]),f=q(o.paddingBottomRight||o.padding||[0,0]),g=this.getBoundsZoom(t,!1,c.add(f));if(g=typeof o.maxZoom=="number"?Math.min(o.maxZoom,g):g,g===1/0)return{center:t.getCenter(),zoom:g};var S=f.subtract(c).divideBy(2),b=this.project(t.getSouthWest(),g),A=this.project(t.getNorthEast(),g),z=this.unproject(b.add(A).divideBy(2).add(S),g);return{center:z,zoom:g}},fitBounds:function(t,o){if(t=ce(t),!t.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(t,o);return this.setView(c.center,c.zoom,o)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,o){return this.setView(t,this._zoom,{pan:o})},panBy:function(t,o){if(t=q(t).round(),o=o||{},!t.x&&!t.y)return this.fire("moveend");if(o.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new fs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),o.noMoveStart||this.fire("movestart"),o.animate!==!1){we(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,c,o.duration||.25,o.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,o,c){if(c=c||{},c.animate===!1||!le.any3d)return this.setView(t,o,c);this._stop();var f=this.project(this.getCenter()),g=this.project(t),S=this.getSize(),b=this._zoom;t=ne(t),o=o===void 0?b:o;var A=Math.max(S.x,S.y),z=A*this.getZoomScale(b,o),H=g.distanceTo(f)||1,X=1.42,fe=X*X;function Pe(Me){var Gi=Me?-1:1,Iu=Me?z:A,Mu=z*z-A*A+Gi*fe*fe*H*H,ri=2*Iu*fe*H,si=Mu/ri,oi=Math.sqrt(si*si+1)-si,Es=oi<1e-9?-18:Math.log(oi);return Es}function ct(Me){return(Math.exp(Me)-Math.exp(-Me))/2}function st(Me){return(Math.exp(Me)+Math.exp(-Me))/2}function It(Me){return ct(Me)/st(Me)}var Tt=Pe(0);function qi(Me){return A*(st(Tt)/st(Tt+X*Me))}function Wo(Me){return A*(st(Tt)*It(Tt+X*Me)-ct(Tt))/fe}function Dn(Me){return 1-Math.pow(1-Me,1.5)}var rl=Date.now(),ii=(Pe(1)-Tt)/X,un=c.duration?1e3*c.duration:1e3*ii*.8;function Hi(){var Me=(Date.now()-rl)/un,Gi=Dn(Me)*ii;Me<=1?(this._flyToFrame=Ze(Hi,this),this._move(this.unproject(f.add(g.subtract(f).multiplyBy(Wo(Gi)/H)),b),this.getScaleZoom(A/qi(Gi),b),{flyTo:!0})):this._move(t,o)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),Hi.call(this),this},flyToBounds:function(t,o){var c=this._getBoundsCenterZoom(t,o);return this.flyTo(c.center,c.zoom,o)},setMaxBounds:function(t){return t=ce(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var o=this.options.minZoom;return this.options.minZoom=t,this._loaded&&o!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var o=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&o!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,o){this._enforcingBounds=!0;var c=this.getCenter(),f=this._limitCenter(c,this._zoom,ce(t));return c.equals(f)||this.panTo(f,o),this._enforcingBounds=!1,this},panInside:function(t,o){o=o||{};var c=q(o.paddingTopLeft||o.padding||[0,0]),f=q(o.paddingBottomRight||o.padding||[0,0]),g=this.project(this.getCenter()),S=this.project(t),b=this.getPixelBounds(),A=Z([b.min.add(c),b.max.subtract(f)]),z=A.getSize();if(!A.contains(S)){this._enforcingBounds=!0;var H=S.subtract(A.getCenter()),X=A.extend(S).getSize().subtract(z);g.x+=H.x<0?-X.x:X.x,g.y+=H.y<0?-X.y:X.y,this.panTo(this.unproject(g),o),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=u({animate:!1,pan:!0},t===!0?{animate:!0}:t);var o=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),f=o.divideBy(2).round(),g=c.divideBy(2).round(),S=f.subtract(g);return!S.x&&!S.y?this:(t.animate&&t.pan?this.panBy(S):(t.pan&&this._rawPanBy(S),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(m(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:o,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=u({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var o=m(this._handleGeolocationResponse,this),c=m(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(o,c,t):navigator.geolocation.getCurrentPosition(o,c,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var o=t.code,c=t.message||(o===1?"permission denied":o===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:o,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var o=t.coords.latitude,c=t.coords.longitude,f=new ae(o,c),g=f.toBounds(t.coords.accuracy*2),S=this._locateOptions;if(S.setView){var b=this.getBoundsZoom(g);this.setView(f,S.maxZoom?Math.min(b,S.maxZoom):b)}var A={latlng:f,bounds:g,timestamp:t.timestamp};for(var z in t.coords)typeof t.coords[z]=="number"&&(A[z]=t.coords[z]);this.fire("locationfound",A)}},addHandler:function(t,o){if(!o)return this;var c=this[t]=new o(this);return this._handlers.push(c),this.options[t]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),We(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Ve(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)We(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,o){var c="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),f=ke("div",c,o||this._mapPane);return t&&(this._panes[t]=f),f},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),o=this.unproject(t.getBottomLeft()),c=this.unproject(t.getTopRight());return new de(o,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,o,c){t=ce(t),c=q(c||[0,0]);var f=this.getZoom()||0,g=this.getMinZoom(),S=this.getMaxZoom(),b=t.getNorthWest(),A=t.getSouthEast(),z=this.getSize().subtract(c),H=Z(this.project(A,f),this.project(b,f)).getSize(),X=le.any3d?this.options.zoomSnap:1,fe=z.x/H.x,Pe=z.y/H.y,ct=o?Math.max(fe,Pe):Math.min(fe,Pe);return f=this.getScaleZoom(ct,f),X&&(f=Math.round(f/(X/100))*(X/100),f=o?Math.ceil(f/X)*X:Math.floor(f/X)*X),Math.max(g,Math.min(S,f))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new W(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,o){var c=this._getTopLeftPoint(t,o);return new C(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,o){var c=this.options.crs;return o=o===void 0?this._zoom:o,c.scale(t)/c.scale(o)},getScaleZoom:function(t,o){var c=this.options.crs;o=o===void 0?this._zoom:o;var f=c.zoom(t*c.scale(o));return isNaN(f)?1/0:f},project:function(t,o){return o=o===void 0?this._zoom:o,this.options.crs.latLngToPoint(ne(t),o)},unproject:function(t,o){return o=o===void 0?this._zoom:o,this.options.crs.pointToLatLng(q(t),o)},layerPointToLatLng:function(t){var o=q(t).add(this.getPixelOrigin());return this.unproject(o)},latLngToLayerPoint:function(t){var o=this.project(ne(t))._round();return o._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(ne(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(ce(t))},distance:function(t,o){return this.options.crs.distance(ne(t),ne(o))},containerPointToLayerPoint:function(t){return q(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return q(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var o=this.containerPointToLayerPoint(q(t));return this.layerPointToLatLng(o)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ne(t)))},mouseEventToContainerPoint:function(t){return Sr(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var o=this._container=qt(t);if(o){if(o._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ve(o,"scroll",this._onScroll,this),this._containerId=v(o)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&le.any3d,we(t,"leaflet-container"+(le.touch?" leaflet-touch":"")+(le.retina?" leaflet-retina":"")+(le.ielt9?" leaflet-oldie":"")+(le.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var o=gr(t,"position");o!=="absolute"&&o!=="relative"&&o!=="fixed"&&o!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),et(this._mapPane,new W(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(we(t.markerPane,"leaflet-zoom-hide"),we(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,o,c){et(this._mapPane,new W(0,0));var f=!this._loaded;this._loaded=!0,o=this._limitZoom(o),this.fire("viewprereset");var g=this._zoom!==o;this._moveStart(g,c)._move(t,o)._moveEnd(g),this.fire("viewreset"),f&&this.fire("load")},_moveStart:function(t,o){return t&&this.fire("zoomstart"),o||this.fire("movestart"),this},_move:function(t,o,c,f){o===void 0&&(o=this._zoom);var g=this._zoom!==o;return this._zoom=o,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),f?c&&c.pinch&&this.fire("zoom",c):((g||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Ve(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){et(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[v(this._container)]=this;var o=t?je:ve;o(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&o(window,"resize",this._onResize,this),le.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Ve(this._resizeRequest),this._resizeRequest=Ze(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,o){for(var c=[],f,g=o==="mouseout"||o==="mouseover",S=t.target||t.srcElement,b=!1;S;){if(f=this._targets[v(S)],f&&(o==="click"||o==="preclick")&&this._draggableMoved(f)){b=!0;break}if(f&&f.listens(o,!0)&&(g&&!kr(S,t)||(c.push(f),g))||S===this._container)break;S=S.parentNode}return!c.length&&!b&&!g&&this.listens(o,!0)&&(c=[this]),c},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var o=t.target||t.srcElement;if(!(!this._loaded||o._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(o))){var c=t.type;c==="mousedown"&&Ai(o),this._fireDOMEvent(t,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,o,c){if(t.type==="click"){var f=u({},t);f.type="preclick",this._fireDOMEvent(f,f.type,c)}var g=this._findEventTargets(t,o);if(c){for(var S=[],b=0;b<c.length;b++)c[b].listens(o,!0)&&S.push(c[b]);g=S.concat(g)}if(g.length){o==="contextmenu"&&Je(t);var A=g[0],z={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var H=A.getLatLng&&(!A._radius||A._radius<=10);z.containerPoint=H?this.latLngToContainerPoint(A.getLatLng()):this.mouseEventToContainerPoint(t),z.layerPoint=this.containerPointToLayerPoint(z.containerPoint),z.latlng=H?A.getLatLng():this.layerPointToLatLng(z.layerPoint)}for(b=0;b<g.length;b++)if(g[b].fire(o,z,!0),z.originalEvent._stopped||g[b].options.bubblingMouseEvents===!1&&re(this._mouseEvents,o)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,o=this._handlers.length;t<o;t++)this._handlers[t].disable()},whenReady:function(t,o){return this._loaded?t.call(o||this,{target:this}):this.on("load",t,o),this},_getMapPanePos:function(){return gn(this._mapPane)||new W(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,o){var c=t&&o!==void 0?this._getNewPixelOrigin(t,o):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,o){var c=this.getSize()._divideBy(2);return this.project(t,o)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,o,c){var f=this._getNewPixelOrigin(c,o);return this.project(t,o)._subtract(f)},_latLngBoundsToNewLayerBounds:function(t,o,c){var f=this._getNewPixelOrigin(c,o);return Z([this.project(t.getSouthWest(),o)._subtract(f),this.project(t.getNorthWest(),o)._subtract(f),this.project(t.getSouthEast(),o)._subtract(f),this.project(t.getNorthEast(),o)._subtract(f)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,o,c){if(!c)return t;var f=this.project(t,o),g=this.getSize().divideBy(2),S=new C(f.subtract(g),f.add(g)),b=this._getBoundsOffset(S,c,o);return Math.abs(b.x)<=1&&Math.abs(b.y)<=1?t:this.unproject(f.add(b),o)},_limitOffset:function(t,o){if(!o)return t;var c=this.getPixelBounds(),f=new C(c.min.add(t),c.max.add(t));return t.add(this._getBoundsOffset(f,o))},_getBoundsOffset:function(t,o,c){var f=Z(this.project(o.getNorthEast(),c),this.project(o.getSouthWest(),c)),g=f.min.subtract(t.min),S=f.max.subtract(t.max),b=this._rebound(g.x,-S.x),A=this._rebound(g.y,-S.y);return new W(b,A)},_rebound:function(t,o){return t+o>0?Math.round(t-o)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(o))},_limitZoom:function(t){var o=this.getMinZoom(),c=this.getMaxZoom(),f=le.any3d?this.options.zoomSnap:1;return f&&(t=Math.round(t/f)*f),Math.max(o,Math.min(c,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Fe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,o){var c=this._getCenterOffset(t)._trunc();return(o&&o.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,o),!0)},_createAnimProxy:function(){var t=this._proxy=ke("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(o){var c=wo,f=this._proxy.style[c];Ht(this._proxy,this.project(o.center,o.zoom),this.getZoomScale(o.zoom,1)),f===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){We(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),o=this.getZoom();Ht(this._proxy,this.project(t,o),this.getZoomScale(o,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,o,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(o-this._zoom)>this.options.zoomAnimationThreshold)return!1;var f=this.getZoomScale(o),g=this._getCenterOffset(t)._divideBy(1-1/f);return c.animate!==!0&&!this.getSize().contains(g)?!1:(Ze(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(t,o,!0)},this),!0)},_animateZoom:function(t,o,c,f){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=o,we(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:o,noUpdate:f}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(m(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Fe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Rn(t,o){return new Le(t,o)}var Rt=nt.extend({options:{position:"topright"},initialize:function(t){D(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var o=this._map;return o&&o.removeControl(this),this.options.position=t,o&&o.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var o=this._container=this.onAdd(t),c=this.getPosition(),f=t._controlCorners[c];return we(o,"leaflet-control"),c.indexOf("bottom")!==-1?f.insertBefore(o,f.firstChild):f.appendChild(o),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(We(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),An=function(t){return new Rt(t)};Le.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},o="leaflet-",c=this._controlContainer=ke("div",o+"control-container",this._container);function f(g,S){var b=o+g+" "+o+S;t[g+S]=ke("div",b,c)}f("top","left"),f("top","right"),f("bottom","left"),f("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)We(this._controlCorners[t]);We(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Po=Rt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,o,c,f){return c<f?-1:f<c?1:0}},initialize:function(t,o,c){D(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var f in t)this._addLayer(t[f],f);for(f in o)this._addLayer(o[f],f,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Rt.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,o){return this._addLayer(t,o),this._map?this._update():this},addOverlay:function(t,o){return this._addLayer(t,o,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var o=this._getLayer(v(t));return o&&this._layers.splice(this._layers.indexOf(o),1),this._map?this._update():this},expand:function(){we(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(we(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):Fe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Fe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",o=this._container=ke("div",t),c=this.options.collapsed;o.setAttribute("aria-haspopup",!0),xr(o),hs(o);var f=this._section=ke("section",t+"-list");c&&(this._map.on("click",this.collapse,this),ve(o,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var g=this._layersLink=ke("a",t+"-toggle",o);g.href="#",g.title="Layers",g.setAttribute("role","button"),ve(g,{keydown:function(S){S.keyCode===13&&this._expandSafely()},click:function(S){Je(S),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=ke("div",t+"-base",f),this._separator=ke("div",t+"-separator",f),this._overlaysList=ke("div",t+"-overlays",f),o.appendChild(f)},_getLayer:function(t){for(var o=0;o<this._layers.length;o++)if(this._layers[o]&&v(this._layers[o].layer)===t)return this._layers[o]},_addLayer:function(t,o,c){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:o,overlay:c}),this.options.sortLayers&&this._layers.sort(m(function(f,g){return this.options.sortFunction(f.layer,g.layer,f.name,g.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ss(this._baseLayersList),ss(this._overlaysList),this._layerControlInputs=[];var t,o,c,f,g=0;for(c=0;c<this._layers.length;c++)f=this._layers[c],this._addItem(f),o=o||f.overlay,t=t||!f.overlay,g+=f.overlay?0:1;return this.options.hideSingleBase&&(t=t&&g>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=o&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var o=this._getLayer(v(t.target)),c=o.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;c&&this._map.fire(c,o)},_createRadioElement:function(t,o){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(o?' checked="checked"':"")+"/>",f=document.createElement("div");return f.innerHTML=c,f.firstChild},_addItem:function(t){var o=document.createElement("label"),c=this._map.hasLayer(t.layer),f;t.overlay?(f=document.createElement("input"),f.type="checkbox",f.className="leaflet-control-layers-selector",f.defaultChecked=c):f=this._createRadioElement("leaflet-base-layers_"+v(this),c),this._layerControlInputs.push(f),f.layerId=v(t.layer),ve(f,"click",this._onInputClick,this);var g=document.createElement("span");g.innerHTML=" "+t.name;var S=document.createElement("span");o.appendChild(S),S.appendChild(f),S.appendChild(g);var b=t.overlay?this._overlaysList:this._baseLayersList;return b.appendChild(o),this._checkDisabledLayers(),o},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,o,c,f=[],g=[];this._handlingClick=!0;for(var S=t.length-1;S>=0;S--)o=t[S],c=this._getLayer(o.layerId).layer,o.checked?f.push(c):o.checked||g.push(c);for(S=0;S<g.length;S++)this._map.hasLayer(g[S])&&this._map.removeLayer(g[S]);for(S=0;S<f.length;S++)this._map.hasLayer(f[S])||this._map.addLayer(f[S]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,o,c,f=this._map.getZoom(),g=t.length-1;g>=0;g--)o=t[g],c=this._getLayer(o.layerId).layer,o.disabled=c.options.minZoom!==void 0&&f<c.options.minZoom||c.options.maxZoom!==void 0&&f>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,ve(t,"click",Je),this.expand();var o=this;setTimeout(function(){je(t,"click",Je),o._preventClick=!1})}}),ps=function(t,o,c){return new Po(t,o,c)},Ii=Rt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var o="leaflet-control-zoom",c=ke("div",o+" leaflet-bar"),f=this.options;return this._zoomInButton=this._createButton(f.zoomInText,f.zoomInTitle,o+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(f.zoomOutText,f.zoomOutTitle,o+"-out",c,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,o,c,f,g){var S=ke("a",c,f);return S.innerHTML=t,S.href="#",S.title=o,S.setAttribute("role","button"),S.setAttribute("aria-label",o),xr(S),ve(S,"click",Vt),ve(S,"click",g,this),ve(S,"click",this._refocusOnMap,this),S},_updateDisabled:function(){var t=this._map,o="leaflet-disabled";Fe(this._zoomInButton,o),Fe(this._zoomOutButton,o),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(we(this._zoomOutButton,o),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(we(this._zoomInButton,o),this._zoomInButton.setAttribute("aria-disabled","true"))}});Le.mergeOptions({zoomControl:!0}),Le.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ii,this.addControl(this.zoomControl))});var Da=function(t){return new Ii(t)},Pt=Rt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var o="leaflet-control-scale",c=ke("div",o),f=this.options;return this._addScales(f,o+"-line",c),t.on(f.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),c},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,o,c){t.metric&&(this._mScale=ke("div",o,c)),t.imperial&&(this._iScale=ke("div",o,c))},_update:function(){var t=this._map,o=t.getSize().y/2,c=t.distance(t.containerPointToLatLng([0,o]),t.containerPointToLatLng([this.options.maxWidth,o]));this._updateScales(c)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var o=this._getRoundNum(t),c=o<1e3?o+" m":o/1e3+" km";this._updateScale(this._mScale,c,o/t)},_updateImperial:function(t){var o=t*3.2808399,c,f,g;o>5280?(c=o/5280,f=this._getRoundNum(c),this._updateScale(this._iScale,f+" mi",f/c)):(g=this._getRoundNum(o),this._updateScale(this._iScale,g+" ft",g/o))},_updateScale:function(t,o,c){t.style.width=Math.round(this.options.maxWidth*c)+"px",t.innerHTML=o},_getRoundNum:function(t){var o=Math.pow(10,(Math.floor(t)+"").length-1),c=t/o;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,o*c}}),Mi=function(t){return new Pt(t)},To='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Yn=Rt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(le.inlineSvg?To+" ":"")+"Leaflet</a>"},initialize:function(t){D(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=ke("div","leaflet-control-attribution"),xr(this._container);for(var o in t._layers)t._layers[o].getAttribution&&this.addAttribution(t._layers[o].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var o in this._attributions)this._attributions[o]&&t.push(o);var c=[];this.options.prefix&&c.push(this.options.prefix),t.length&&c.push(t.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});Le.mergeOptions({attributionControl:!0}),Le.addInitHook(function(){this.options.attributionControl&&new Yn().addTo(this)});var wu=function(t){return new Yn(t)};Rt.Layers=Po,Rt.Zoom=Ii,Rt.Scale=Pt,Rt.Attribution=Yn,An.layers=ps,An.zoom=Da,An.scale=Mi,An.attribution=wu;var jt=nt.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});jt.addTo=function(t,o){return t.addHandler(o,this),this};var bo={Events:Ne},Ni=le.touch?"touchstart mousedown":"mousedown",Kt=ze.extend({options:{clickTolerance:3},initialize:function(t,o,c,f){D(this,f),this._element=t,this._dragStartTarget=o||t,this._preventOutline=c},enable:function(){this._enabled||(ve(this._dragStartTarget,Ni,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Kt._dragging===this&&this.finishDrag(!0),je(this._dragStartTarget,Ni,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!Ci(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){Kt._dragging===this&&this.finishDrag();return}if(!(Kt._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(Kt._dragging=this,this._preventOutline&&Ai(this._element),ls(),Re(),!this._moving)){this.fire("down");var o=t.touches?t.touches[0]:t,c=vn(this._element);this._startPoint=new W(o.clientX,o.clientY),this._startPos=gn(this._element),this._parentScale=rn(c);var f=t.type==="mousedown";ve(document,f?"mousemove":"touchmove",this._onMove,this),ve(document,f?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var o=t.touches&&t.touches.length===1?t.touches[0]:t,c=new W(o.clientX,o.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,Je(t),this._moved||(this.fire("dragstart"),this._moved=!0,we(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),we(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),et(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){Fe(document.body,"leaflet-dragging"),this._lastTarget&&(Fe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),je(document,"mousemove touchmove",this._onMove,this),je(document,"mouseup touchend touchcancel",this._onUp,this),us(),Ri();var o=this._moved&&this._moving;this._moving=!1,Kt._dragging=!1,o&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function Eo(t,o,c){var f,g=[1,4,2,8],S,b,A,z,H,X,fe,Pe;for(S=0,X=t.length;S<X;S++)t[S]._code=Xn(t[S],o);for(A=0;A<4;A++){for(fe=g[A],f=[],S=0,X=t.length,b=X-1;S<X;b=S++)z=t[S],H=t[b],z._code&fe?H._code&fe||(Pe=_s(H,z,fe,o,c),Pe._code=Xn(Pe,o),f.push(Pe)):(H._code&fe&&(Pe=_s(H,z,fe,o,c),Pe._code=Xn(Pe,o),f.push(Pe)),f.push(z));t=f}return t}function Ba(t,o){var c,f,g,S,b,A,z,H,X;if(!t||t.length===0)throw new Error("latlngs not passed");Dt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var fe=ne([0,0]),Pe=ce(t),ct=Pe.getNorthWest().distanceTo(Pe.getSouthWest())*Pe.getNorthEast().distanceTo(Pe.getNorthWest());ct<1700&&(fe=Lo(t));var st=t.length,It=[];for(c=0;c<st;c++){var Tt=ne(t[c]);It.push(o.project(ne([Tt.lat-fe.lat,Tt.lng-fe.lng])))}for(A=z=H=0,c=0,f=st-1;c<st;f=c++)g=It[c],S=It[f],b=g.y*S.x-S.y*g.x,z+=(g.x+S.x)*b,H+=(g.y+S.y)*b,A+=b*3;A===0?X=It[0]:X=[z/A,H/A];var qi=o.unproject(q(X));return ne([qi.lat+fe.lat,qi.lng+fe.lng])}function Lo(t){for(var o=0,c=0,f=0,g=0;g<t.length;g++){var S=ne(t[g]);o+=S.lat,c+=S.lng,f++}return ne([o/f,c/f])}var xu={__proto__:null,clipPolygon:Eo,polygonCenter:Ba,centroid:Lo};function ms(t,o){if(!o||!t.length)return t.slice();var c=o*o;return t=Pu(t,c),t=ku(t,c),t}function Fa(t,o,c){return Math.sqrt(ei(t,o,c,!0))}function Su(t,o,c){return ei(t,o,c)}function ku(t,o){var c=t.length,f=typeof Uint8Array<"u"?Uint8Array:Array,g=new f(c);g[0]=g[c-1]=1,Co(t,g,o,0,c-1);var S,b=[];for(S=0;S<c;S++)g[S]&&b.push(t[S]);return b}function Co(t,o,c,f,g){var S=0,b,A,z;for(A=f+1;A<=g-1;A++)z=ei(t[A],t[f],t[g],!0),z>S&&(b=A,S=z);S>c&&(o[b]=1,Co(t,o,c,f,b),Co(t,o,c,b,g))}function Pu(t,o){for(var c=[t[0]],f=1,g=0,S=t.length;f<S;f++)Tu(t[f],t[g])>o&&(c.push(t[f]),g=f);return g<S-1&&c.push(t[S-1]),c}var Oo;function Ua(t,o,c,f,g){var S=f?Oo:Xn(t,c),b=Xn(o,c),A,z,H;for(Oo=b;;){if(!(S|b))return[t,o];if(S&b)return!1;A=S||b,z=_s(t,o,A,c,g),H=Xn(z,c),A===S?(t=z,S=H):(o=z,b=H)}}function _s(t,o,c,f,g){var S=o.x-t.x,b=o.y-t.y,A=f.min,z=f.max,H,X;return c&8?(H=t.x+S*(z.y-t.y)/b,X=z.y):c&4?(H=t.x+S*(A.y-t.y)/b,X=A.y):c&2?(H=z.x,X=t.y+b*(z.x-t.x)/S):c&1&&(H=A.x,X=t.y+b*(A.x-t.x)/S),new W(H,X,g)}function Xn(t,o){var c=0;return t.x<o.min.x?c|=1:t.x>o.max.x&&(c|=2),t.y<o.min.y?c|=4:t.y>o.max.y&&(c|=8),c}function Tu(t,o){var c=o.x-t.x,f=o.y-t.y;return c*c+f*f}function ei(t,o,c,f){var g=o.x,S=o.y,b=c.x-g,A=c.y-S,z=b*b+A*A,H;return z>0&&(H=((t.x-g)*b+(t.y-S)*A)/z,H>1?(g=c.x,S=c.y):H>0&&(g+=b*H,S+=A*H)),b=t.x-g,A=t.y-S,f?b*b+A*A:new W(g,S)}function Dt(t){return!V(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function $a(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Dt(t)}function Za(t,o){var c,f,g,S,b,A,z,H;if(!t||t.length===0)throw new Error("latlngs not passed");Dt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var X=ne([0,0]),fe=ce(t),Pe=fe.getNorthWest().distanceTo(fe.getSouthWest())*fe.getNorthEast().distanceTo(fe.getNorthWest());Pe<1700&&(X=Lo(t));var ct=t.length,st=[];for(c=0;c<ct;c++){var It=ne(t[c]);st.push(o.project(ne([It.lat-X.lat,It.lng-X.lng])))}for(c=0,f=0;c<ct-1;c++)f+=st[c].distanceTo(st[c+1])/2;if(f===0)H=st[0];else for(c=0,S=0;c<ct-1;c++)if(b=st[c],A=st[c+1],g=b.distanceTo(A),S+=g,S>f){z=(S-f)/g,H=[A.x-z*(A.x-b.x),A.y-z*(A.y-b.y)];break}var Tt=o.unproject(q(H));return ne([Tt.lat+X.lat,Tt.lng+X.lng])}var Wa={__proto__:null,simplify:ms,pointToSegmentDistance:Fa,closestPointOnSegment:Su,clipSegment:Ua,_getEdgeIntersection:_s,_getBitCode:Xn,_sqClosestPointOnSegment:ei,isFlat:Dt,_flat:$a,polylineCenter:Za},Ro={project:function(t){return new W(t.lng,t.lat)},unproject:function(t){return new ae(t.y,t.x)},bounds:new C([-180,-90],[180,90])},Ao={R:6378137,R_MINOR:6356752314245179e-9,bounds:new C([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var o=Math.PI/180,c=this.R,f=t.lat*o,g=this.R_MINOR/c,S=Math.sqrt(1-g*g),b=S*Math.sin(f),A=Math.tan(Math.PI/4-f/2)/Math.pow((1-b)/(1+b),S/2);return f=-c*Math.log(Math.max(A,1e-10)),new W(t.lng*o*c,f)},unproject:function(t){for(var o=180/Math.PI,c=this.R,f=this.R_MINOR/c,g=Math.sqrt(1-f*f),S=Math.exp(-t.y/c),b=Math.PI/2-2*Math.atan(S),A=0,z=.1,H;A<15&&Math.abs(z)>1e-7;A++)H=g*Math.sin(b),H=Math.pow((1-H)/(1+H),g/2),z=Math.PI/2-2*Math.atan(S*H)-b,b+=z;return new ae(b*o,t.x*o/c)}},bu={__proto__:null,LonLat:Ro,Mercator:Ao,SphericalMercator:yt},Eu=u({},be,{code:"EPSG:3395",projection:Ao,transformation:(function(){var t=.5/(Math.PI*Ao.R);return Si(t,.5,-t,.5)})()}),qa=u({},be,{code:"EPSG:4326",projection:Ro,transformation:Si(1/180,1,-1/180,.5)}),Lu=u({},Oe,{projection:Ro,transformation:Si(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,o){var c=o.lng-t.lng,f=o.lat-t.lat;return Math.sqrt(c*c+f*f)},infinite:!0});Oe.Earth=be,Oe.EPSG3395=Eu,Oe.EPSG3857=ki,Oe.EPSG900913=ro,Oe.EPSG4326=qa,Oe.Simple=Lu;var Jt=ze.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[v(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[v(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var o=t.target;if(o.hasLayer(this)){if(this._map=o,this._zoomAnimated=o._zoomAnimated,this.getEvents){var c=this.getEvents();o.on(c,this),this.once("remove",function(){o.off(c,this)},this)}this.onAdd(o),this.fire("add"),o.fire("layeradd",{layer:this})}}});Le.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var o=v(t);return this._layers[o]?this:(this._layers[o]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var o=v(t);return this._layers[o]?(this._loaded&&t.onRemove(this),delete this._layers[o],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return v(t)in this._layers},eachLayer:function(t,o){for(var c in this._layers)t.call(o,this._layers[c]);return this},_addLayers:function(t){t=t?V(t)?t:[t]:[];for(var o=0,c=t.length;o<c;o++)this.addLayer(t[o])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[v(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var o=v(t);this._zoomBoundLayers[o]&&(delete this._zoomBoundLayers[o],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,o=-1/0,c=this._getZoomSpan();for(var f in this._zoomBoundLayers){var g=this._zoomBoundLayers[f].options;t=g.minZoom===void 0?t:Math.min(t,g.minZoom),o=g.maxZoom===void 0?o:Math.max(o,g.maxZoom)}this._layersMaxZoom=o===-1/0?void 0:o,this._layersMinZoom=t===1/0?void 0:t,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var In=Jt.extend({initialize:function(t,o){D(this,o),this._layers={};var c,f;if(t)for(c=0,f=t.length;c<f;c++)this.addLayer(t[c])},addLayer:function(t){var o=this.getLayerId(t);return this._layers[o]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var o=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[o]&&this._map.removeLayer(this._layers[o]),delete this._layers[o],this},hasLayer:function(t){var o=typeof t=="number"?t:this.getLayerId(t);return o in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var o=Array.prototype.slice.call(arguments,1),c,f;for(c in this._layers)f=this._layers[c],f[t]&&f[t].apply(f,o);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,o){for(var c in this._layers)t.call(o,this._layers[c]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return v(t)}}),Pr=function(t,o){return new In(t,o)},yn=In.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),In.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),In.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new de;for(var o in this._layers){var c=this._layers[o];t.extend(c.getBounds?c.getBounds():c.getLatLng())}return t}}),Ha=function(t,o){return new yn(t,o)},ti=nt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){D(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,o){var c=this._getIconUrl(t);if(!c){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var f=this._createImg(c,o&&o.tagName==="IMG"?o:null);return this._setIconStyles(f,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),f},_setIconStyles:function(t,o){var c=this.options,f=c[o+"Size"];typeof f=="number"&&(f=[f,f]);var g=q(f),S=q(o==="shadow"&&c.shadowAnchor||c.iconAnchor||g&&g.divideBy(2,!0));t.className="leaflet-marker-"+o+" "+(c.className||""),S&&(t.style.marginLeft=-S.x+"px",t.style.marginTop=-S.y+"px"),g&&(t.style.width=g.x+"px",t.style.height=g.y+"px")},_createImg:function(t,o){return o=o||document.createElement("img"),o.src=t,o},_getIconUrl:function(t){return le.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function Ga(t){return new ti(t)}var zi=ti.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof zi.imagePath!="string"&&(zi.imagePath=this._detectIconPath()),(this.options.imagePath||zi.imagePath)+ti.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var o=function(c,f,g){var S=f.exec(c);return S&&S[g]};return t=o(t,/^url\((['"])?(.+)\1\)$/,2),t&&o(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=ke("div","leaflet-default-icon-path",document.body),o=gr(t,"background-image")||gr(t,"backgroundImage");if(document.body.removeChild(t),o=this._stripUrl(o),o)return o;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),Io=jt.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new Kt(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),we(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Fe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var o=this._marker,c=o._map,f=this._marker.options.autoPanSpeed,g=this._marker.options.autoPanPadding,S=gn(o._icon),b=c.getPixelBounds(),A=c.getPixelOrigin(),z=Z(b.min._subtract(A).add(g),b.max._subtract(A).subtract(g));if(!z.contains(S)){var H=q((Math.max(z.max.x,S.x)-z.max.x)/(b.max.x-z.max.x)-(Math.min(z.min.x,S.x)-z.min.x)/(b.min.x-z.min.x),(Math.max(z.max.y,S.y)-z.max.y)/(b.max.y-z.max.y)-(Math.min(z.min.y,S.y)-z.min.y)/(b.min.y-z.min.y)).multiplyBy(f);c.panBy(H,{animate:!1}),this._draggable._newPos._add(H),this._draggable._startPos._add(H),et(o._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=Ze(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(Ve(this._panRequest),this._panRequest=Ze(this._adjustPan.bind(this,t)))},_onDrag:function(t){var o=this._marker,c=o._shadow,f=gn(o._icon),g=o._map.layerPointToLatLng(f);c&&et(c,f),o._latlng=g,t.latlng=g,t.oldLatLng=this._oldLatLng,o.fire("move",t).fire("drag",t)},_onDragEnd:function(t){Ve(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),wn=Jt.extend({options:{icon:new zi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,o){D(this,o),this._latlng=ne(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var o=this._latlng;return this._latlng=ne(t),this.update(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,o="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=t.icon.createIcon(this._icon),f=!1;c!==this._icon&&(this._icon&&this._removeIcon(),f=!0,t.title&&(c.title=t.title),c.tagName==="IMG"&&(c.alt=t.alt||"")),we(c,o),t.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ve(c,"focus",this._panOnFocus,this);var g=t.icon.createShadow(this._shadow),S=!1;g!==this._shadow&&(this._removeShadow(),S=!0),g&&(we(g,o),g.alt=""),this._shadow=g,t.opacity<1&&this._updateOpacity(),f&&this.getPane().appendChild(this._icon),this._initInteraction(),g&&S&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&je(this._icon,"focus",this._panOnFocus,this),We(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&We(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&et(this._icon,t),this._shadow&&et(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var o=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(o)},_initInteraction:function(){if(this.options.interactive&&(we(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Io)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Io(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&kt(this._icon,t),this._shadow&&kt(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var o=this.options.icon.options,c=o.iconSize?q(o.iconSize):q(0,0),f=o.iconAnchor?q(o.iconAnchor):q(0,0);t.panInside(this._latlng,{paddingTopLeft:f,paddingBottomRight:c.subtract(f)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Cu(t,o){return new wn(t,o)}var Mn=Jt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return D(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),gs=Mn.extend({options:{fill:!0,radius:10},initialize:function(t,o){D(this,o),this._latlng=ne(t),this._radius=this.options.radius},setLatLng:function(t){var o=this._latlng;return this._latlng=ne(t),this.redraw(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var o=t&&t.radius||this._radius;return Mn.prototype.setStyle.call(this,t),this.setRadius(o),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,o=this._radiusY||t,c=this._clickTolerance(),f=[t+c,o+c];this._pxBounds=new C(this._point.subtract(f),this._point.add(f))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Va(t,o){return new gs(t,o)}var vs=gs.extend({initialize:function(t,o,c){if(typeof o=="number"&&(o=u({},c,{radius:o})),D(this,o),this._latlng=ne(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new de(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Mn.prototype.setStyle,_project:function(){var t=this._latlng.lng,o=this._latlng.lat,c=this._map,f=c.options.crs;if(f.distance===be.distance){var g=Math.PI/180,S=this._mRadius/be.R/g,b=c.project([o+S,t]),A=c.project([o-S,t]),z=b.add(A).divideBy(2),H=c.unproject(z).lat,X=Math.acos((Math.cos(S*g)-Math.sin(o*g)*Math.sin(H*g))/(Math.cos(o*g)*Math.cos(H*g)))/g;(isNaN(X)||X===0)&&(X=S/Math.cos(Math.PI/180*o)),this._point=z.subtract(c.getPixelOrigin()),this._radius=isNaN(X)?0:z.x-c.project([H,t-X]).x,this._radiusY=z.y-b.y}else{var fe=f.unproject(f.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(fe).x}this._updateBounds()}});function Tr(t,o,c){return new vs(t,o,c)}var At=Mn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,o){D(this,o),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var o=1/0,c=null,f=ei,g,S,b=0,A=this._parts.length;b<A;b++)for(var z=this._parts[b],H=1,X=z.length;H<X;H++){g=z[H-1],S=z[H];var fe=f(t,g,S,!0);fe<o&&(o=fe,c=f(t,g,S))}return c&&(c.distance=Math.sqrt(o)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Za(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,o){return o=o||this._defaultShape(),t=ne(t),o.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new de,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Dt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var o=[],c=Dt(t),f=0,g=t.length;f<g;f++)c?(o[f]=ne(t[f]),this._bounds.extend(o[f])):o[f]=this._convertLatLngs(t[f]);return o},_project:function(){var t=new C;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),o=new W(t,t);this._rawPxBounds&&(this._pxBounds=new C([this._rawPxBounds.min.subtract(o),this._rawPxBounds.max.add(o)]))},_projectLatlngs:function(t,o,c){var f=t[0]instanceof ae,g=t.length,S,b;if(f){for(b=[],S=0;S<g;S++)b[S]=this._map.latLngToLayerPoint(t[S]),c.extend(b[S]);o.push(b)}else for(S=0;S<g;S++)this._projectLatlngs(t[S],o,c)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var o=this._parts,c,f,g,S,b,A,z;for(c=0,g=0,S=this._rings.length;c<S;c++)for(z=this._rings[c],f=0,b=z.length;f<b-1;f++)A=Ua(z[f],z[f+1],t,f,!0),A&&(o[g]=o[g]||[],o[g].push(A[0]),(A[1]!==z[f+1]||f===b-2)&&(o[g].push(A[1]),g++))}},_simplifyPoints:function(){for(var t=this._parts,o=this.options.smoothFactor,c=0,f=t.length;c<f;c++)t[c]=ms(t[c],o)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,o){var c,f,g,S,b,A,z=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(c=0,S=this._parts.length;c<S;c++)for(A=this._parts[c],f=0,b=A.length,g=b-1;f<b;g=f++)if(!(!o&&f===0)&&Fa(t,A[g],A[f])<=z)return!0;return!1}});function Ou(t,o){return new At(t,o)}At._flat=$a;var xn=At.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ba(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var o=At.prototype._convertLatLngs.call(this,t),c=o.length;return c>=2&&o[0]instanceof ae&&o[0].equals(o[c-1])&&o.pop(),o},_setLatLngs:function(t){At.prototype._setLatLngs.call(this,t),Dt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Dt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,o=this.options.weight,c=new W(o,o);if(t=new C(t.min.subtract(c),t.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var f=0,g=this._rings.length,S;f<g;f++)S=Eo(this._rings[f],t,!0),S.length&&this._parts.push(S)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var o=!1,c,f,g,S,b,A,z,H;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(S=0,z=this._parts.length;S<z;S++)for(c=this._parts[S],b=0,H=c.length,A=H-1;b<H;A=b++)f=c[b],g=c[A],f.y>t.y!=g.y>t.y&&t.x<(g.x-f.x)*(t.y-f.y)/(g.y-f.y)+f.x&&(o=!o);return o||At.prototype._containsPoint.call(this,t,!0)}});function Ru(t,o){return new xn(t,o)}var on=yn.extend({initialize:function(t,o){D(this,o),this._layers={},t&&this.addData(t)},addData:function(t){var o=V(t)?t:t.features,c,f,g;if(o){for(c=0,f=o.length;c<f;c++)g=o[c],(g.geometries||g.geometry||g.features||g.coordinates)&&this.addData(g);return this}var S=this.options;if(S.filter&&!S.filter(t))return this;var b=ji(t,S);return b?(b.feature=ks(t),b.defaultOptions=b.options,this.resetStyle(b),S.onEachFeature&&S.onEachFeature(t,b),this.addLayer(b)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=u({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(o){this._setLayerStyle(o,t)},this)},_setLayerStyle:function(t,o){t.setStyle&&(typeof o=="function"&&(o=o(t.feature)),t.setStyle(o))}});function ji(t,o){var c=t.type==="Feature"?t.geometry:t,f=c?c.coordinates:null,g=[],S=o&&o.pointToLayer,b=o&&o.coordsToLatLng||ws,A,z,H,X;if(!f&&!c)return null;switch(c.type){case"Point":return A=b(f),ys(S,t,A,o);case"MultiPoint":for(H=0,X=f.length;H<X;H++)A=b(f[H]),g.push(ys(S,t,A,o));return new yn(g);case"LineString":case"MultiLineString":return z=br(f,c.type==="LineString"?0:1,b),new At(z,o);case"Polygon":case"MultiPolygon":return z=br(f,c.type==="Polygon"?1:2,b),new xn(z,o);case"GeometryCollection":for(H=0,X=c.geometries.length;H<X;H++){var fe=ji({geometry:c.geometries[H],type:"Feature",properties:t.properties},o);fe&&g.push(fe)}return new yn(g);case"FeatureCollection":for(H=0,X=c.features.length;H<X;H++){var Pe=ji(c.features[H],o);Pe&&g.push(Pe)}return new yn(g);default:throw new Error("Invalid GeoJSON object.")}}function ys(t,o,c,f){return t?t(o,c):new wn(c,f&&f.markersInheritOptions&&f)}function ws(t){return new ae(t[1],t[0],t[2])}function br(t,o,c){for(var f=[],g=0,S=t.length,b;g<S;g++)b=o?br(t[g],o-1,c):(c||ws)(t[g]),f.push(b);return f}function xs(t,o){return t=ne(t),t.alt!==void 0?[R(t.lng,o),R(t.lat,o),R(t.alt,o)]:[R(t.lng,o),R(t.lat,o)]}function Ss(t,o,c,f){for(var g=[],S=0,b=t.length;S<b;S++)g.push(o?Ss(t[S],Dt(t[S])?0:o-1,c,f):xs(t[S],f));return!o&&c&&g.length>0&&g.push(g[0].slice()),g}function Di(t,o){return t.feature?u({},t.feature,{geometry:o}):ks(o)}function ks(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var Mo={toGeoJSON:function(t){return Di(this,{type:"Point",coordinates:xs(this.getLatLng(),t)})}};wn.include(Mo),vs.include(Mo),gs.include(Mo),At.include({toGeoJSON:function(t){var o=!Dt(this._latlngs),c=Ss(this._latlngs,o?1:0,!1,t);return Di(this,{type:(o?"Multi":"")+"LineString",coordinates:c})}}),xn.include({toGeoJSON:function(t){var o=!Dt(this._latlngs),c=o&&!Dt(this._latlngs[0]),f=Ss(this._latlngs,c?2:o?1:0,!0,t);return o||(f=[f]),Di(this,{type:(c?"Multi":"")+"Polygon",coordinates:f})}}),In.include({toMultiPoint:function(t){var o=[];return this.eachLayer(function(c){o.push(c.toGeoJSON(t).geometry.coordinates)}),Di(this,{type:"MultiPoint",coordinates:o})},toGeoJSON:function(t){var o=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(o==="MultiPoint")return this.toMultiPoint(t);var c=o==="GeometryCollection",f=[];return this.eachLayer(function(g){if(g.toGeoJSON){var S=g.toGeoJSON(t);if(c)f.push(S.geometry);else{var b=ks(S);b.type==="FeatureCollection"?f.push.apply(f,b.features):f.push(b)}}}),c?Di(this,{geometries:f,type:"GeometryCollection"}):{type:"FeatureCollection",features:f}}});function Ka(t,o){return new on(t,o)}var Qt=Ka,Nn=Jt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,o,c){this._url=t,this._bounds=ce(o),D(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(we(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){We(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&Li(this._image),this},bringToBack:function(){return this._map&&_n(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=ce(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",o=this._image=t?this._url:ke("img");if(we(o,"leaflet-image-layer"),this._zoomAnimated&&we(o,"leaflet-zoom-animated"),this.options.className&&we(o,this.options.className),o.onselectstart=P,o.onmousemove=P,o.onload=m(this.fire,this,"load"),o.onerror=m(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=o.src;return}o.src=this._url,o.alt=this.options.alt},_animateZoom:function(t){var o=this._map.getZoomScale(t.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Ht(this._image,c,o)},_reset:function(){var t=this._image,o=new C(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=o.getSize();et(t,o.min),t.style.width=c.x+"px",t.style.height=c.y+"px"},_updateOpacity:function(){kt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),Ja=function(t,o,c){return new Nn(t,o,c)},No=Nn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",o=this._image=t?this._url:ke("video");if(we(o,"leaflet-image-layer"),this._zoomAnimated&&we(o,"leaflet-zoom-animated"),this.options.className&&we(o,this.options.className),o.onselectstart=P,o.onmousemove=P,o.onloadeddata=m(this.fire,this,"load"),t){for(var c=o.getElementsByTagName("source"),f=[],g=0;g<c.length;g++)f.push(c[g].src);this._url=c.length>0?f:[o.src];return}V(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(o.style,"objectFit")&&(o.style.objectFit="fill"),o.autoplay=!!this.options.autoplay,o.loop=!!this.options.loop,o.muted=!!this.options.muted,o.playsInline=!!this.options.playsInline;for(var S=0;S<this._url.length;S++){var b=ke("source");b.src=this._url[S],o.appendChild(b)}}});function Qa(t,o,c){return new No(t,o,c)}var zo=Nn.extend({_initImage:function(){var t=this._image=this._url;we(t,"leaflet-image-layer"),this._zoomAnimated&&we(t,"leaflet-zoom-animated"),this.options.className&&we(t,this.options.className),t.onselectstart=P,t.onmousemove=P}});function jo(t,o,c){return new zo(t,o,c)}var an=Jt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,o){t&&(t instanceof ae||V(t))?(this._latlng=ne(t),D(this,o)):(D(this,t),this._source=o),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&kt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&kt(this._container,1),this.bringToFront(),this.options.interactive&&(we(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(kt(this._container,0),this._removeTimeout=setTimeout(m(We,void 0,this._container),200)):We(this._container),this.options.interactive&&(Fe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=ne(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Li(this._container),this},bringToBack:function(){return this._map&&_n(this._container),this},_prepareOpen:function(t){var o=this._source;if(!o._map)return!1;if(o instanceof yn){o=null;var c=this._source._layers;for(var f in c)if(c[f]._map){o=c[f];break}if(!o)return!1;this._source=o}if(!t)if(o.getCenter)t=o.getCenter();else if(o.getLatLng)t=o.getLatLng();else if(o.getBounds)t=o.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,o=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof o=="string")t.innerHTML=o;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(o)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),o=q(this.options.offset),c=this._getAnchor();this._zoomAnimated?et(this._container,t.add(c)):o=o.add(t).add(c);var f=this._containerBottom=-o.y,g=this._containerLeft=-Math.round(this._containerWidth/2)+o.x;this._container.style.bottom=f+"px",this._container.style.left=g+"px"}},_getAnchor:function(){return[0,0]}});Le.include({_initOverlay:function(t,o,c,f){var g=o;return g instanceof t||(g=new t(f).setContent(o)),c&&g.setLatLng(c),g}}),Jt.include({_initOverlay:function(t,o,c,f){var g=c;return g instanceof t?(D(g,f),g._source=this):(g=o&&!f?o:new t(f,this),g.setContent(c)),g}});var Ps=an.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,an.prototype.openOn.call(this,t)},onAdd:function(t){an.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Mn||this._source.on("preclick",sn))},onRemove:function(t){an.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Mn||this._source.off("preclick",sn))},getEvents:function(){var t=an.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",o=this._container=ke("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=ke("div",t+"-content-wrapper",o);if(this._contentNode=ke("div",t+"-content",c),xr(o),hs(this._contentNode),ve(o,"contextmenu",sn),this._tipContainer=ke("div",t+"-tip-container",o),this._tip=ke("div",t+"-tip",this._tipContainer),this.options.closeButton){var f=this._closeButton=ke("a",t+"-close-button",o);f.setAttribute("role","button"),f.setAttribute("aria-label","Close popup"),f.href="#close",f.innerHTML='<span aria-hidden="true">&#215;</span>',ve(f,"click",function(g){Je(g),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,o=t.style;o.width="",o.whiteSpace="nowrap";var c=t.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),o.width=c+1+"px",o.whiteSpace="",o.height="";var f=t.offsetHeight,g=this.options.maxHeight,S="leaflet-popup-scrolled";g&&f>g?(o.height=g+"px",we(t,S)):Fe(t,S),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var o=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),c=this._getAnchor();et(this._container,o.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,o=parseInt(gr(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+o,f=this._containerWidth,g=new W(this._containerLeft,-c-this._containerBottom);g._add(gn(this._container));var S=t.layerPointToContainerPoint(g),b=q(this.options.autoPanPadding),A=q(this.options.autoPanPaddingTopLeft||b),z=q(this.options.autoPanPaddingBottomRight||b),H=t.getSize(),X=0,fe=0;S.x+f+z.x>H.x&&(X=S.x+f-H.x+z.x),S.x-X-A.x<0&&(X=S.x-A.x),S.y+c+z.y>H.y&&(fe=S.y+c-H.y+z.y),S.y-fe-A.y<0&&(fe=S.y-A.y),(X||fe)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([X,fe]))}},_getAnchor:function(){return q(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Bi=function(t,o){return new Ps(t,o)};Le.mergeOptions({closePopupOnClick:!0}),Le.include({openPopup:function(t,o,c){return this._initOverlay(Ps,t,o,c).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),Jt.include({bindPopup:function(t,o){return this._popup=this._initOverlay(Ps,this._popup,t,o),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof yn||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){Vt(t);var o=t.layer||t.target;if(this._popup._source===o&&!(o instanceof Mn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=o,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var Fi=an.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){an.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){an.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=an.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",o=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ke("div",o),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var o,c,f=this._map,g=this._container,S=f.latLngToContainerPoint(f.getCenter()),b=f.layerPointToContainerPoint(t),A=this.options.direction,z=g.offsetWidth,H=g.offsetHeight,X=q(this.options.offset),fe=this._getAnchor();A==="top"?(o=z/2,c=H):A==="bottom"?(o=z/2,c=0):A==="center"?(o=z/2,c=H/2):A==="right"?(o=0,c=H/2):A==="left"?(o=z,c=H/2):b.x<S.x?(A="right",o=0,c=H/2):(A="left",o=z+(X.x+fe.x)*2,c=H/2),t=t.subtract(q(o,c,!0)).add(X).add(fe),Fe(g,"leaflet-tooltip-right"),Fe(g,"leaflet-tooltip-left"),Fe(g,"leaflet-tooltip-top"),Fe(g,"leaflet-tooltip-bottom"),we(g,"leaflet-tooltip-"+A),et(g,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&kt(this._container,t)},_animateZoom:function(t){var o=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(o)},_getAnchor:function(){return q(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Er=function(t,o){return new Fi(t,o)};Le.include({openTooltip:function(t,o,c){return this._initOverlay(Fi,t,o,c).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Jt.include({bindTooltip:function(t,o){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Fi,this._tooltip,t,o),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var o=t?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[o](c),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof yn||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var o=typeof t.getElement=="function"&&t.getElement();o&&(ve(o,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),ve(o,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var o=typeof t.getElement=="function"&&t.getElement();o&&o.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var o=this;this._map.once("moveend",function(){o._openOnceFlag=!1,o._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var o=t.latlng,c,f;this._tooltip.options.sticky&&t.originalEvent&&(c=this._map.mouseEventToContainerPoint(t.originalEvent),f=this._map.containerPointToLayerPoint(c),o=this._map.layerPointToLatLng(f)),this._tooltip.setLatLng(o)}});var Ts=ti.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var o=t&&t.tagName==="DIV"?t:document.createElement("div"),c=this.options;if(c.html instanceof Element?(ss(o),o.appendChild(c.html)):o.innerHTML=c.html!==!1?c.html:"",c.bgPos){var f=q(c.bgPos);o.style.backgroundPosition=-f.x+"px "+-f.y+"px"}return this._setIconStyles(o,"icon"),o},createShadow:function(){return null}});function Ya(t){return new Ts(t)}ti.Default=zi;var zn=Jt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:le.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){D(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),We(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Li(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(_n(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=w(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof W?t:new W(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var o=this.getPane().children,c=-t(-1/0,1/0),f=0,g=o.length,S;f<g;f++)S=o[f].style.zIndex,o[f]!==this._container&&S&&(c=t(c,+S));isFinite(c)&&(this.options.zIndex=c+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!le.ielt9){kt(this._container,this.options.opacity);var t=+new Date,o=!1,c=!1;for(var f in this._tiles){var g=this._tiles[f];if(!(!g.current||!g.loaded)){var S=Math.min(1,(t-g.loaded)/200);kt(g.el,S),S<1?o=!0:(g.active?c=!0:this._onOpaqueTile(g),g.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),o&&(Ve(this._fadeFrame),this._fadeFrame=Ze(this._updateOpacity,this))}},_onOpaqueTile:P,_initContainer:function(){this._container||(this._container=ke("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,o=this.options.maxZoom;if(t!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===t?(this._levels[c].el.style.zIndex=o-Math.abs(t-c),this._onUpdateLevel(c)):(We(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var f=this._levels[t],g=this._map;return f||(f=this._levels[t]={},f.el=ke("div","leaflet-tile-container leaflet-zoom-animated",this._container),f.el.style.zIndex=o,f.origin=g.project(g.unproject(g.getPixelOrigin()),t).round(),f.zoom=t,this._setZoomTransform(f,g.getCenter(),g.getZoom()),P(f.el.offsetWidth),this._onCreateLevel(f)),this._level=f,f}},_onUpdateLevel:P,_onRemoveLevel:P,_onCreateLevel:P,_pruneTiles:function(){if(this._map){var t,o,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)o=this._tiles[t],o.retain=o.current;for(t in this._tiles)if(o=this._tiles[t],o.current&&!o.active){var f=o.coords;this._retainParent(f.x,f.y,f.z,f.z-5)||this._retainChildren(f.x,f.y,f.z,f.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var o in this._tiles)this._tiles[o].coords.z===t&&this._removeTile(o)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)We(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,o,c,f){var g=Math.floor(t/2),S=Math.floor(o/2),b=c-1,A=new W(+g,+S);A.z=+b;var z=this._tileCoordsToKey(A),H=this._tiles[z];return H&&H.active?(H.retain=!0,!0):(H&&H.loaded&&(H.retain=!0),b>f?this._retainParent(g,S,b,f):!1)},_retainChildren:function(t,o,c,f){for(var g=2*t;g<2*t+2;g++)for(var S=2*o;S<2*o+2;S++){var b=new W(g,S);b.z=c+1;var A=this._tileCoordsToKey(b),z=this._tiles[A];if(z&&z.active){z.retain=!0;continue}else z&&z.loaded&&(z.retain=!0);c+1<f&&this._retainChildren(g,S,c+1,f)}},_resetView:function(t){var o=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),o,o)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var o=this.options;return o.minNativeZoom!==void 0&&t<o.minNativeZoom?o.minNativeZoom:o.maxNativeZoom!==void 0&&o.maxNativeZoom<t?o.maxNativeZoom:t},_setView:function(t,o,c,f){var g=Math.round(o);this.options.maxZoom!==void 0&&g>this.options.maxZoom||this.options.minZoom!==void 0&&g<this.options.minZoom?g=void 0:g=this._clampZoom(g);var S=this.options.updateWhenZooming&&g!==this._tileZoom;(!f||S)&&(this._tileZoom=g,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),g!==void 0&&this._update(t),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(t,o)},_setZoomTransforms:function(t,o){for(var c in this._levels)this._setZoomTransform(this._levels[c],t,o)},_setZoomTransform:function(t,o,c){var f=this._map.getZoomScale(c,t.zoom),g=t.origin.multiplyBy(f).subtract(this._map._getNewPixelOrigin(o,c)).round();le.any3d?Ht(t.el,g,f):et(t.el,g)},_resetGrid:function(){var t=this._map,o=t.options.crs,c=this._tileSize=this.getTileSize(),f=this._tileZoom,g=this._map.getPixelWorldBounds(this._tileZoom);g&&(this._globalTileRange=this._pxBoundsToTileRange(g)),this._wrapX=o.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,o.wrapLng[0]],f).x/c.x),Math.ceil(t.project([0,o.wrapLng[1]],f).x/c.y)],this._wrapY=o.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([o.wrapLat[0],0],f).y/c.x),Math.ceil(t.project([o.wrapLat[1],0],f).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var o=this._map,c=o._animatingZoom?Math.max(o._animateToZoom,o.getZoom()):o.getZoom(),f=o.getZoomScale(c,this._tileZoom),g=o.project(t,this._tileZoom).floor(),S=o.getSize().divideBy(f*2);return new C(g.subtract(S),g.add(S))},_update:function(t){var o=this._map;if(o){var c=this._clampZoom(o.getZoom());if(t===void 0&&(t=o.getCenter()),this._tileZoom!==void 0){var f=this._getTiledPixelBounds(t),g=this._pxBoundsToTileRange(f),S=g.getCenter(),b=[],A=this.options.keepBuffer,z=new C(g.getBottomLeft().subtract([A,-A]),g.getTopRight().add([A,-A]));if(!(isFinite(g.min.x)&&isFinite(g.min.y)&&isFinite(g.max.x)&&isFinite(g.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var H in this._tiles){var X=this._tiles[H].coords;(X.z!==this._tileZoom||!z.contains(new W(X.x,X.y)))&&(this._tiles[H].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(t,c);return}for(var fe=g.min.y;fe<=g.max.y;fe++)for(var Pe=g.min.x;Pe<=g.max.x;Pe++){var ct=new W(Pe,fe);if(ct.z=this._tileZoom,!!this._isValidTile(ct)){var st=this._tiles[this._tileCoordsToKey(ct)];st?st.current=!0:b.push(ct)}}if(b.sort(function(Tt,qi){return Tt.distanceTo(S)-qi.distanceTo(S)}),b.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var It=document.createDocumentFragment();for(Pe=0;Pe<b.length;Pe++)this._addTile(b[Pe],It);this._level.el.appendChild(It)}}}},_isValidTile:function(t){var o=this._map.options.crs;if(!o.infinite){var c=this._globalTileRange;if(!o.wrapLng&&(t.x<c.min.x||t.x>c.max.x)||!o.wrapLat&&(t.y<c.min.y||t.y>c.max.y))return!1}if(!this.options.bounds)return!0;var f=this._tileCoordsToBounds(t);return ce(this.options.bounds).overlaps(f)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var o=this._map,c=this.getTileSize(),f=t.scaleBy(c),g=f.add(c),S=o.unproject(f,t.z),b=o.unproject(g,t.z);return[S,b]},_tileCoordsToBounds:function(t){var o=this._tileCoordsToNwSe(t),c=new de(o[0],o[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var o=t.split(":"),c=new W(+o[0],+o[1]);return c.z=+o[2],c},_removeTile:function(t){var o=this._tiles[t];o&&(We(o.el),delete this._tiles[t],this.fire("tileunload",{tile:o.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){we(t,"leaflet-tile");var o=this.getTileSize();t.style.width=o.x+"px",t.style.height=o.y+"px",t.onselectstart=P,t.onmousemove=P,le.ielt9&&this.options.opacity<1&&kt(t,this.options.opacity)},_addTile:function(t,o){var c=this._getTilePos(t),f=this._tileCoordsToKey(t),g=this.createTile(this._wrapCoords(t),m(this._tileReady,this,t));this._initTile(g),this.createTile.length<2&&Ze(m(this._tileReady,this,t,null,g)),et(g,c),this._tiles[f]={el:g,coords:t,current:!0},o.appendChild(g),this.fire("tileloadstart",{tile:g,coords:t})},_tileReady:function(t,o,c){o&&this.fire("tileerror",{error:o,tile:c,coords:t});var f=this._tileCoordsToKey(t);c=this._tiles[f],c&&(c.loaded=+new Date,this._map._fadeAnimated?(kt(c.el,0),Ve(this._fadeFrame),this._fadeFrame=Ze(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),o||(we(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),le.ielt9||!this._map._fadeAnimated?Ze(this._pruneTiles,this):setTimeout(m(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var o=new W(this._wrapX?k(t.x,this._wrapX):t.x,this._wrapY?k(t.y,this._wrapY):t.y);return o.z=t.z,o},_pxBoundsToTileRange:function(t){var o=this.getTileSize();return new C(t.min.unscaleBy(o).floor(),t.max.unscaleBy(o).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Ui(t){return new zn(t)}var jn=zn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,o){this._url=t,o=D(this,o),o.detectRetina&&le.retina&&o.maxZoom>0?(o.tileSize=Math.floor(o.tileSize/2),o.zoomReverse?(o.zoomOffset--,o.minZoom=Math.min(o.maxZoom,o.minZoom+1)):(o.zoomOffset++,o.maxZoom=Math.max(o.minZoom,o.maxZoom-1)),o.minZoom=Math.max(0,o.minZoom)):o.zoomReverse?o.minZoom=Math.min(o.maxZoom,o.minZoom):o.maxZoom=Math.max(o.minZoom,o.maxZoom),typeof o.subdomains=="string"&&(o.subdomains=o.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,o){return this._url===t&&o===void 0&&(o=!0),this._url=t,o||this.redraw(),this},createTile:function(t,o){var c=document.createElement("img");return ve(c,"load",m(this._tileOnLoad,this,o,c)),ve(c,"error",m(this._tileOnError,this,o,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(t),c},getTileUrl:function(t){var o={r:le.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-t.y;this.options.tms&&(o.y=c),o["-y"]=c}return he(this._url,u(o,this.options))},_tileOnLoad:function(t,o){le.ielt9?setTimeout(m(t,this,null,o),0):t(null,o)},_tileOnError:function(t,o,c){var f=this.options.errorTileUrl;f&&o.getAttribute("src")!==f&&(o.src=f),t(c,o)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,o=this.options.maxZoom,c=this.options.zoomReverse,f=this.options.zoomOffset;return c&&(t=o-t),t+f},_getSubdomain:function(t){var o=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[o]},_abortLoading:function(){var t,o;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(o=this._tiles[t].el,o.onload=P,o.onerror=P,!o.complete)){o.src=xe;var c=this._tiles[t].coords;We(o),delete this._tiles[t],this.fire("tileabort",{tile:o,coords:c})}},_removeTile:function(t){var o=this._tiles[t];if(o)return o.el.setAttribute("src",xe),zn.prototype._removeTile.call(this,t)},_tileReady:function(t,o,c){if(!(!this._map||c&&c.getAttribute("src")===xe))return zn.prototype._tileReady.call(this,t,o,c)}});function Do(t,o){return new jn(t,o)}var Lr=jn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,o){this._url=t;var c=u({},this.defaultWmsParams);for(var f in o)f in this.options||(c[f]=o[f]);o=D(this,o);var g=o.detectRetina&&le.retina?2:1,S=this.getTileSize();c.width=S.x*g,c.height=S.y*g,this.wmsParams=c},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var o=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[o]=this._crs.code,jn.prototype.onAdd.call(this,t)},getTileUrl:function(t){var o=this._tileCoordsToNwSe(t),c=this._crs,f=Z(c.project(o[0]),c.project(o[1])),g=f.min,S=f.max,b=(this._wmsVersion>=1.3&&this._crs===qa?[g.y,g.x,S.y,S.x]:[g.x,g.y,S.x,S.y]).join(","),A=jn.prototype.getTileUrl.call(this,t);return A+F(this.wmsParams,A,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+b},setParams:function(t,o){return u(this.wmsParams,t),o||this.redraw(),this}});function Xa(t,o){return new Lr(t,o)}jn.WMS=Lr,Do.wms=Xa;var ln=Jt.extend({options:{padding:.1},initialize:function(t){D(this,t),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),we(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,o){var c=this._map.getZoomScale(o,this._zoom),f=this._map.getSize().multiplyBy(.5+this.options.padding),g=this._map.project(this._center,o),S=f.multiplyBy(-c).add(g).subtract(this._map._getNewPixelOrigin(t,o));le.any3d?Ht(this._container,S,c):et(this._container,S)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,o=this._map.getSize(),c=this._map.containerPointToLayerPoint(o.multiplyBy(-t)).round();this._bounds=new C(c,c.add(o.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Bo=ln.extend({options:{tolerance:0},getEvents:function(){var t=ln.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ln.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");ve(t,"mousemove",this._onMouseMove,this),ve(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ve(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){Ve(this._redrawRequest),delete this._ctx,We(this._container),je(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var o in this._layers)t=this._layers[o],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ln.prototype._update.call(this);var t=this._bounds,o=this._container,c=t.getSize(),f=le.retina?2:1;et(o,t.min),o.width=f*c.x,o.height=f*c.y,o.style.width=c.x+"px",o.style.height=c.y+"px",le.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){ln.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[v(t)]=t;var o=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=o),this._drawLast=o,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var o=t._order,c=o.next,f=o.prev;c?c.prev=f:this._drawLast=f,f?f.next=c:this._drawFirst=c,delete t._order,delete this._layers[v(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var o=t.options.dashArray.split(/[, ]+/),c=[],f,g;for(g=0;g<o.length;g++){if(f=Number(o[g]),isNaN(f))return;c.push(f)}t.options._dashArray=c}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||Ze(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var o=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new C,this._redrawBounds.extend(t._pxBounds.min.subtract([o,o])),this._redrawBounds.extend(t._pxBounds.max.add([o,o]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var o=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,o.x,o.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,o=this._redrawBounds;if(this._ctx.save(),o){var c=o.getSize();this._ctx.beginPath(),this._ctx.rect(o.min.x,o.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var f=this._drawFirst;f;f=f.next)t=f.layer,(!o||t._pxBounds&&t._pxBounds.intersects(o))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,o){if(this._drawing){var c,f,g,S,b=t._parts,A=b.length,z=this._ctx;if(A){for(z.beginPath(),c=0;c<A;c++){for(f=0,g=b[c].length;f<g;f++)S=b[c][f],z[f?"lineTo":"moveTo"](S.x,S.y);o&&z.closePath()}this._fillStroke(z,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var o=t._point,c=this._ctx,f=Math.max(Math.round(t._radius),1),g=(Math.max(Math.round(t._radiusY),1)||f)/f;g!==1&&(c.save(),c.scale(1,g)),c.beginPath(),c.arc(o.x,o.y/g,f,0,Math.PI*2,!1),g!==1&&c.restore(),this._fillStroke(c,t)}},_fillStroke:function(t,o){var c=o.options;c.fill&&(t.globalAlpha=c.fillOpacity,t.fillStyle=c.fillColor||c.color,t.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(t.setLineDash&&t.setLineDash(o.options&&o.options._dashArray||[]),t.globalAlpha=c.opacity,t.lineWidth=c.weight,t.strokeStyle=c.color,t.lineCap=c.lineCap,t.lineJoin=c.lineJoin,t.stroke())},_onClick:function(t){for(var o=this._map.mouseEventToLayerPoint(t),c,f,g=this._drawFirst;g;g=g.next)c=g.layer,c.options.interactive&&c._containsPoint(o)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(c))&&(f=c);this._fireEvent(f?[f]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var o=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,o)}},_handleMouseOut:function(t){var o=this._hoveredLayer;o&&(Fe(this._container,"leaflet-interactive"),this._fireEvent([o],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,o){if(!this._mouseHoverThrottled){for(var c,f,g=this._drawFirst;g;g=g.next)c=g.layer,c.options.interactive&&c._containsPoint(o)&&(f=c);f!==this._hoveredLayer&&(this._handleMouseOut(t),f&&(we(this._container,"leaflet-interactive"),this._fireEvent([f],t,"mouseover"),this._hoveredLayer=f)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(m(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,o,c){this._map._fireDOMEvent(o,c||o.type,t)},_bringToFront:function(t){var o=t._order;if(o){var c=o.next,f=o.prev;if(c)c.prev=f;else return;f?f.next=c:c&&(this._drawFirst=c),o.prev=this._drawLast,this._drawLast.next=o,o.next=null,this._drawLast=o,this._requestRedraw(t)}},_bringToBack:function(t){var o=t._order;if(o){var c=o.next,f=o.prev;if(f)f.next=c;else return;c?c.prev=f:f&&(this._drawLast=f),o.prev=null,o.next=this._drawFirst,this._drawFirst.prev=o,this._drawFirst=o,this._requestRedraw(t)}}});function Fo(t){return le.canvas?new Bo(t):null}var $i=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),el={_initContainer:function(){this._container=ke("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ln.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var o=t._container=$i("shape");we(o,"leaflet-vml-shape "+(this.options.className||"")),o.coordsize="1 1",t._path=$i("path"),o.appendChild(t._path),this._updateStyle(t),this._layers[v(t)]=t},_addPath:function(t){var o=t._container;this._container.appendChild(o),t.options.interactive&&t.addInteractiveTarget(o)},_removePath:function(t){var o=t._container;We(o),t.removeInteractiveTarget(o),delete this._layers[v(t)]},_updateStyle:function(t){var o=t._stroke,c=t._fill,f=t.options,g=t._container;g.stroked=!!f.stroke,g.filled=!!f.fill,f.stroke?(o||(o=t._stroke=$i("stroke")),g.appendChild(o),o.weight=f.weight+"px",o.color=f.color,o.opacity=f.opacity,f.dashArray?o.dashStyle=V(f.dashArray)?f.dashArray.join(" "):f.dashArray.replace(/( *, *)/g," "):o.dashStyle="",o.endcap=f.lineCap.replace("butt","flat"),o.joinstyle=f.lineJoin):o&&(g.removeChild(o),t._stroke=null),f.fill?(c||(c=t._fill=$i("fill")),g.appendChild(c),c.color=f.fillColor||f.color,c.opacity=f.fillOpacity):c&&(g.removeChild(c),t._fill=null)},_updateCircle:function(t){var o=t._point.round(),c=Math.round(t._radius),f=Math.round(t._radiusY||c);this._setPath(t,t._empty()?"M0 0":"AL "+o.x+","+o.y+" "+c+","+f+" 0,"+65535*360)},_setPath:function(t,o){t._path.v=o},_bringToFront:function(t){Li(t._container)},_bringToBack:function(t){_n(t._container)}},Yt=le.vml?$i:so,ni=ln.extend({_initContainer:function(){this._container=Yt("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Yt("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){We(this._container),je(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ln.prototype._update.call(this);var t=this._bounds,o=t.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(o))&&(this._svgSize=o,c.setAttribute("width",o.x),c.setAttribute("height",o.y)),et(c,t.min),c.setAttribute("viewBox",[t.min.x,t.min.y,o.x,o.y].join(" ")),this.fire("update")}},_initPath:function(t){var o=t._path=Yt("path");t.options.className&&we(o,t.options.className),t.options.interactive&&we(o,"leaflet-interactive"),this._updateStyle(t),this._layers[v(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){We(t._path),t.removeInteractiveTarget(t._path),delete this._layers[v(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var o=t._path,c=t.options;o&&(c.stroke?(o.setAttribute("stroke",c.color),o.setAttribute("stroke-opacity",c.opacity),o.setAttribute("stroke-width",c.weight),o.setAttribute("stroke-linecap",c.lineCap),o.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?o.setAttribute("stroke-dasharray",c.dashArray):o.removeAttribute("stroke-dasharray"),c.dashOffset?o.setAttribute("stroke-dashoffset",c.dashOffset):o.removeAttribute("stroke-dashoffset")):o.setAttribute("stroke","none"),c.fill?(o.setAttribute("fill",c.fillColor||c.color),o.setAttribute("fill-opacity",c.fillOpacity),o.setAttribute("fill-rule",c.fillRule||"evenodd")):o.setAttribute("fill","none"))},_updatePoly:function(t,o){this._setPath(t,oo(t._parts,o))},_updateCircle:function(t){var o=t._point,c=Math.max(Math.round(t._radius),1),f=Math.max(Math.round(t._radiusY),1)||c,g="a"+c+","+f+" 0 1,0 ",S=t._empty()?"M0 0":"M"+(o.x-c)+","+o.y+g+c*2+",0 "+g+-c*2+",0 ";this._setPath(t,S)},_setPath:function(t,o){t._path.setAttribute("d",o)},_bringToFront:function(t){Li(t._path)},_bringToBack:function(t){_n(t._path)}});le.vml&&ni.include(el);function bs(t){return le.svg||le.vml?new ni(t):null}Le.include({getRenderer:function(t){var o=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return o||(o=this._renderer=this._createRenderer()),this.hasLayer(o)||this.addLayer(o),o},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var o=this._paneRenderers[t];return o===void 0&&(o=this._createRenderer({pane:t}),this._paneRenderers[t]=o),o},_createRenderer:function(t){return this.options.preferCanvas&&Fo(t)||bs(t)}});var tl=xn.extend({initialize:function(t,o){xn.prototype.initialize.call(this,this._boundsToLatLngs(t),o)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=ce(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Au(t,o){return new tl(t,o)}ni.create=Yt,ni.pointsToPath=oo,on.geometryToLayer=ji,on.coordsToLatLng=ws,on.coordsToLatLngs=br,on.latLngToCoords=xs,on.latLngsToCoords=Ss,on.getFeature=Di,on.asFeature=ks,Le.mergeOptions({boxZoom:!0});var Zi=jt.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){ve(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){je(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){We(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Re(),ls(),this._startPoint=this._map.mouseEventToContainerPoint(t),ve(document,{contextmenu:Vt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=ke("div","leaflet-zoom-box",this._container),we(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var o=new C(this._point,this._startPoint),c=o.getSize();et(this._box,o.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(We(this._box),Fe(this._container,"leaflet-crosshair")),Ri(),us(),je(document,{contextmenu:Vt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(m(this._resetState,this),0);var o=new de(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(o).fire("boxzoomend",{boxZoomBounds:o})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Le.addInitHook("addHandler","boxZoom",Zi),Le.mergeOptions({doubleClickZoom:!0});var nl=jt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var o=this._map,c=o.getZoom(),f=o.options.zoomDelta,g=t.originalEvent.shiftKey?c-f:c+f;o.options.doubleClickZoom==="center"?o.setZoom(g):o.setZoomAround(t.containerPoint,g)}});Le.addInitHook("addHandler","doubleClickZoom",nl),Le.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Uo=jt.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new Kt(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}we(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Fe(this._map._container,"leaflet-grab"),Fe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var o=ce(this._map.options.maxBounds);this._offsetLimit=Z(this._map.latLngToContainerPoint(o.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(o.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var o=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(o),this._prunePositions(o)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),o=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=o.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,o){return t-(t-o)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),o=this._offsetLimit;t.x<o.min.x&&(t.x=this._viscousLimit(t.x,o.min.x)),t.y<o.min.y&&(t.y=this._viscousLimit(t.y,o.min.y)),t.x>o.max.x&&(t.x=this._viscousLimit(t.x,o.max.x)),t.y>o.max.y&&(t.y=this._viscousLimit(t.y,o.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,o=Math.round(t/2),c=this._initialWorldOffset,f=this._draggable._newPos.x,g=(f-o+c)%t+o-c,S=(f+o+c)%t-o-c,b=Math.abs(g+c)<Math.abs(S+c)?g:S;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=b},_onDragEnd:function(t){var o=this._map,c=o.options,f=!c.inertia||t.noInertia||this._times.length<2;if(o.fire("dragend",t),f)o.fire("moveend");else{this._prunePositions(+new Date);var g=this._lastPos.subtract(this._positions[0]),S=(this._lastTime-this._times[0])/1e3,b=c.easeLinearity,A=g.multiplyBy(b/S),z=A.distanceTo([0,0]),H=Math.min(c.inertiaMaxSpeed,z),X=A.multiplyBy(H/z),fe=H/(c.inertiaDeceleration*b),Pe=X.multiplyBy(-fe/2).round();!Pe.x&&!Pe.y?o.fire("moveend"):(Pe=o._limitOffset(Pe,o.options.maxBounds),Ze(function(){o.panBy(Pe,{duration:fe,easeLinearity:b,noMoveStart:!0,animate:!0})}))}}});Le.addInitHook("addHandler","dragging",Uo),Le.mergeOptions({keyboard:!0,keyboardPanDelta:80});var $o=jt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),ve(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),je(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,o=document.documentElement,c=t.scrollTop||o.scrollTop,f=t.scrollLeft||o.scrollLeft;this._map._container.focus(),window.scrollTo(f,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var o=this._panKeys={},c=this.keyCodes,f,g;for(f=0,g=c.left.length;f<g;f++)o[c.left[f]]=[-1*t,0];for(f=0,g=c.right.length;f<g;f++)o[c.right[f]]=[t,0];for(f=0,g=c.down.length;f<g;f++)o[c.down[f]]=[0,t];for(f=0,g=c.up.length;f<g;f++)o[c.up[f]]=[0,-1*t]},_setZoomDelta:function(t){var o=this._zoomKeys={},c=this.keyCodes,f,g;for(f=0,g=c.zoomIn.length;f<g;f++)o[c.zoomIn[f]]=t;for(f=0,g=c.zoomOut.length;f<g;f++)o[c.zoomOut[f]]=-t},_addHooks:function(){ve(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){je(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var o=t.keyCode,c=this._map,f;if(o in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(f=this._panKeys[o],t.shiftKey&&(f=q(f).multiplyBy(3)),c.options.maxBounds&&(f=c._limitOffset(q(f),c.options.maxBounds)),c.options.worldCopyJump){var g=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(f)));c.panTo(g)}else c.panBy(f)}else if(o in this._zoomKeys)c.setZoom(c.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[o]);else if(o===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;Vt(t)}}});Le.addInitHook("addHandler","keyboard",$o),Le.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var De=jt.extend({addHooks:function(){ve(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){je(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var o=ja(t),c=this._map.options.wheelDebounceTime;this._delta+=o,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var f=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(m(this._performZoom,this),f),Vt(t)},_performZoom:function(){var t=this._map,o=t.getZoom(),c=this._map.options.zoomSnap||0;t._stop();var f=this._delta/(this._map.options.wheelPxPerZoomLevel*4),g=4*Math.log(2/(1+Math.exp(-Math.abs(f))))/Math.LN2,S=c?Math.ceil(g/c)*c:g,b=t._limitZoom(o+(this._delta>0?S:-S))-o;this._delta=0,this._startTime=null,b&&(t.options.scrollWheelZoom==="center"?t.setZoom(o+b):t.setZoomAround(this._lastMousePos,o+b))}});Le.addInitHook("addHandler","scrollWheelZoom",De);var Zo=600;Le.mergeOptions({tapHold:le.touchNative&&le.safari&&le.mobile,tapTolerance:15});var Cr=jt.extend({addHooks:function(){ve(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){je(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var o=t.touches[0];this._startPos=this._newPos=new W(o.clientX,o.clientY),this._holdTimeout=setTimeout(m(function(){this._cancel(),this._isTapValid()&&(ve(document,"touchend",Je),ve(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",o))},this),Zo),ve(document,"touchend touchcancel contextmenu",this._cancel,this),ve(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){je(document,"touchend",Je),je(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),je(document,"touchend touchcancel contextmenu",this._cancel,this),je(document,"touchmove",this._onMove,this)},_onMove:function(t){var o=t.touches[0];this._newPos=new W(o.clientX,o.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,o){var c=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:o.screenX,screenY:o.screenY,clientX:o.clientX,clientY:o.clientY});c._simulated=!0,o.target.dispatchEvent(c)}});Le.addInitHook("addHandler","tapHold",Cr),Le.mergeOptions({touchZoom:le.touch,bounceAtZoomLimits:!0});var Wi=jt.extend({addHooks:function(){we(this._map._container,"leaflet-touch-zoom"),ve(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Fe(this._map._container,"leaflet-touch-zoom"),je(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var o=this._map;if(!(!t.touches||t.touches.length!==2||o._animatingZoom||this._zooming)){var c=o.mouseEventToContainerPoint(t.touches[0]),f=o.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=o.getSize()._divideBy(2),this._startLatLng=o.containerPointToLatLng(this._centerPoint),o.options.touchZoom!=="center"&&(this._pinchStartLatLng=o.containerPointToLatLng(c.add(f)._divideBy(2))),this._startDist=c.distanceTo(f),this._startZoom=o.getZoom(),this._moved=!1,this._zooming=!0,o._stop(),ve(document,"touchmove",this._onTouchMove,this),ve(document,"touchend touchcancel",this._onTouchEnd,this),Je(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var o=this._map,c=o.mouseEventToContainerPoint(t.touches[0]),f=o.mouseEventToContainerPoint(t.touches[1]),g=c.distanceTo(f)/this._startDist;if(this._zoom=o.getScaleZoom(g,this._startZoom),!o.options.bounceAtZoomLimits&&(this._zoom<o.getMinZoom()&&g<1||this._zoom>o.getMaxZoom()&&g>1)&&(this._zoom=o._limitZoom(this._zoom)),o.options.touchZoom==="center"){if(this._center=this._startLatLng,g===1)return}else{var S=c._add(f)._divideBy(2)._subtract(this._centerPoint);if(g===1&&S.x===0&&S.y===0)return;this._center=o.unproject(o.project(this._pinchStartLatLng,this._zoom).subtract(S),this._zoom)}this._moved||(o._moveStart(!0,!1),this._moved=!0),Ve(this._animRequest);var b=m(o._move,o,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Ze(b,this,!0),Je(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Ve(this._animRequest),je(document,"touchmove",this._onTouchMove,this),je(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Le.addInitHook("addHandler","touchZoom",Wi),Le.BoxZoom=Zi,Le.DoubleClickZoom=nl,Le.Drag=Uo,Le.Keyboard=$o,Le.ScrollWheelZoom=De,Le.TapHold=Cr,Le.TouchZoom=Wi,s.Bounds=C,s.Browser=le,s.CRS=Oe,s.Canvas=Bo,s.Circle=vs,s.CircleMarker=gs,s.Class=nt,s.Control=Rt,s.DivIcon=Ts,s.DivOverlay=an,s.DomEvent=ds,s.DomUtil=wr,s.Draggable=Kt,s.Evented=ze,s.FeatureGroup=yn,s.GeoJSON=on,s.GridLayer=zn,s.Handler=jt,s.Icon=ti,s.ImageOverlay=Nn,s.LatLng=ae,s.LatLngBounds=de,s.Layer=Jt,s.LayerGroup=In,s.LineUtil=Wa,s.Map=Le,s.Marker=wn,s.Mixin=bo,s.Path=Mn,s.Point=W,s.PolyUtil=xu,s.Polygon=xn,s.Polyline=At,s.Popup=Ps,s.PosAnimation=fs,s.Projection=bu,s.Rectangle=tl,s.Renderer=ln,s.SVG=ni,s.SVGOverlay=zo,s.TileLayer=jn,s.Tooltip=Fi,s.Transformation=xi,s.Util=Ot,s.VideoOverlay=No,s.bind=m,s.bounds=Z,s.canvas=Fo,s.circle=Tr,s.circleMarker=Va,s.control=An,s.divIcon=Ya,s.extend=u,s.featureGroup=Ha,s.geoJSON=Ka,s.geoJson=Qt,s.gridLayer=Ui,s.icon=Ga,s.imageOverlay=Ja,s.latLng=ne,s.latLngBounds=ce,s.layerGroup=Pr,s.map=Rn,s.marker=Cu,s.point=q,s.polygon=Ru,s.polyline=Ou,s.popup=Bi,s.rectangle=Au,s.setOptions=D,s.stamp=v,s.svg=bs,s.svgOverlay=jo,s.tileLayer=Do,s.tooltip=Er,s.transformation=Si,s.version=l,s.videoOverlay=Qa;var il=window.L;s.noConflict=function(){return window.L=il,this},window.L=s}))})(ca,ca.exports)),ca.exports}var U=Ty();const ip=ru(U),lu=window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest,Zr=document.documentElement.style.pointerEvents==="",Hr={cors:lu},by={attributionWidthOffset:55};let rp=0;function uu(r){let i="";r.f=r.f||"json";for(const l in r)if(Object.hasOwn(r,l)){const u=r[l],d=Object.prototype.toString.call(u);let m;i.length&&(i+="&"),d==="[object Array]"?m=Object.prototype.toString.call(u[0])==="[object Object]"?JSON.stringify(u):u.join(","):d==="[object Object]"?m=JSON.stringify(u):d==="[object Date]"?m=u.valueOf():m=u,i+=`${encodeURIComponent(l)}=${encodeURIComponent(m)}`}return i.replaceAll("'","%27")}function Ch(r,i){const s=new window.XMLHttpRequest;return s.onerror=function(){s.onreadystatechange=U.Util.falseFn,r.call(i,{error:{code:500,message:"XMLHttpRequest error"}},null)},s.onreadystatechange=function(){let l,u;if(s.readyState===4){try{l=JSON.parse(s.responseText)}catch{l=null,u={code:500,message:"Could not parse response as JSON. This could also be caused by a CORS or XMLHttpRequest error."}}!u&&l.error&&(u=l.error,l=null),s.onerror=U.Util.falseFn,r.call(i,u,l)}},s.ontimeout=function(){this.onerror()},s}function Ey(r,i,s,l){const u=Ch(s,l);return u.open("POST",r),typeof l<"u"&&l!==null&&typeof l.options<"u"&&(u.timeout=l.options.timeout),u.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),u.send(uu(i)),u}function $p(r,i,s,l){const u=Ch(s,l);return u.open("GET",`${r}?${uu(i)}`,!0),typeof l<"u"&&l!==null&&typeof l.options<"u"&&(u.timeout=l.options.timeout,l.options.withCredentials&&(u.withCredentials=!0)),u.send(null),u}function Zp(r,i,s,l){const u=uu(i),d=Ch(s,l),m=`${r}?${u}`.length;if(m<=2e3&&Hr.cors?d.open("GET",`${r}?${u}`):m>2e3&&Hr.cors&&(d.open("POST",r),d.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8")),typeof l<"u"&&l!==null&&typeof l.options<"u"&&(d.timeout=l.options.timeout,l.options.withCredentials&&(d.withCredentials=!0)),m<=2e3&&Hr.cors)d.send(null);else if(m>2e3&&Hr.cors)d.send(u);else{if(m<=2e3&&!Hr.cors)return Oh(r,i,s,l);Gr(`a request to ${r} was longer then 2000 characters and this browser cannot make a cross-domain post request. Please use a proxy https://developers.arcgis.com/esri-leaflet/api-reference/request/`);return}return d}function Oh(r,i,s,l){window._EsriLeafletCallbacks=window._EsriLeafletCallbacks||{};const u=`c${rp}`;i.callback=`window._EsriLeafletCallbacks.${u}`,window._EsriLeafletCallbacks[u]=function(m){if(window._EsriLeafletCallbacks[u]!==!0){let y;const v=Object.prototype.toString.call(m);v==="[object Object]"||v==="[object Array]"||(y={error:{code:500,message:"Expected array or object as JSONP response"}},m=null),!y&&m.error&&(y=m,m=null),s.call(l,y,m),window._EsriLeafletCallbacks[u]=!0}};const d=U.DomUtil.create("script",null,document.body);return d.type="text/javascript",d.src=`${r}?${uu(i)}`,d.id=u,d.onerror=function(m){if(m&&window._EsriLeafletCallbacks[u]!==!0){const y={error:{code:500,message:"An unknown error occurred"}};s.call(l,y),window._EsriLeafletCallbacks[u]=!0}},U.DomUtil.addClass(d,"esri-leaflet-jsonp"),rp++,{id:u,url:d.src,abort(){window._EsriLeafletCallbacks._callback[u]({code:0,message:"Request aborted."})}}}const Rh=Hr.cors?$p:Oh;Rh.CORS=$p;Rh.JSONP=Oh;function Gr(...r){console&&console.warn&&console.warn.apply(console,r)}const nu={request:Zp,get:Rh,post:Ey};/* @preserve
* @terraformer/arcgis - v2.1.1 - MIT
* Copyright (c) 2012-2022 Environmental Systems Research Institute, Inc.
* Tue Aug 02 2022 14:23:48 GMT-0700 (Pacific Daylight Time)
*/var Ly=function(i,s,l,u){var d=(u[0]-l[0])*(i[1]-l[1])-(u[1]-l[1])*(i[0]-l[0]),m=(s[0]-i[0])*(i[1]-l[1])-(s[1]-i[1])*(i[0]-l[0]),y=(u[1]-l[1])*(s[0]-i[0])-(u[0]-l[0])*(s[1]-i[1]);if(y!==0){var v=d/y,w=m/y;if(v>=0&&v<=1&&w>=0&&w<=1)return!0}return!1},Cy=function(i,s){for(var l=!1,u=-1,d=i.length,m=d-1;++u<d;m=u)(i[u][1]<=s[1]&&s[1]<i[m][1]||i[m][1]<=s[1]&&s[1]<i[u][1])&&s[0]<(i[m][0]-i[u][0])*(s[1]-i[u][1])/(i[m][1]-i[u][1])+i[u][0]&&(l=!l);return l},Oy=function(i,s){for(var l=0;l<i.length;l++)if(i[l]!==s[l])return!1;return!0},Wp=function(i,s){for(var l=0;l<i.length-1;l++)for(var u=0;u<s.length-1;u++)if(Ly(i[l],i[l+1],s[u],s[u+1]))return!0;return!1},fh=function(i){return Oy(i[0],i[i.length-1])||i.push(i[0]),i},ph=function(i){var s=0,l=0,u=i.length,d=i[l],m;for(l;l<u-1;l++)m=i[l+1],s+=(m[0]-d[0])*(m[1]+d[1]),d=m;return s>=0},qp=function(i){var s={};for(var l in i)i.hasOwnProperty(l)&&(s[l]=i[l]);return s},Ry=function(i,s){var l=Wp(i,s),u=Cy(i,s[0]);return!!(!l&&u)},Ay=function(i){for(var s=[],l=[],u,d,m,y=0;y<i.length;y++){var v=fh(i[y].slice(0));if(!(v.length<4))if(ph(v)){var w=[v.slice().reverse()];s.push(w)}else l.push(v.slice().reverse())}for(var k=[];l.length;){m=l.pop();var P=!1;for(u=s.length-1;u>=0;u--)if(d=s[u][0],Ry(d,m)){s[u].push(m),P=!0;break}P||k.push(m)}for(;k.length;){m=k.pop();var R=!1;for(u=s.length-1;u>=0;u--)if(d=s[u][0],Wp(d,m)){s[u].push(m),R=!0;break}R||s.push([m.reverse()])}return s.length===1?{type:"Polygon",coordinates:s[0]}:{type:"MultiPolygon",coordinates:s}},Iy=function(i,s){for(var l=s?[s,"OBJECTID","FID"]:["OBJECTID","FID"],u=0;u<l.length;u++){var d=l[u];if(d in i&&(typeof i[d]=="string"||typeof i[d]=="number"))return i[d]}throw Error("No valid id attribute found")},My=function r(i,s){var l={};if(i.features){l.type="FeatureCollection",l.features=[];for(var u=0;u<i.features.length;u++)l.features.push(r(i.features[u],s))}if(typeof i.x=="number"&&typeof i.y=="number"&&(l.type="Point",l.coordinates=[i.x,i.y],typeof i.z=="number"&&l.coordinates.push(i.z)),i.points&&(l.type="MultiPoint",l.coordinates=i.points.slice(0)),i.paths&&(i.paths.length===1?(l.type="LineString",l.coordinates=i.paths[0].slice(0)):(l.type="MultiLineString",l.coordinates=i.paths.slice(0))),i.rings&&(l=Ay(i.rings.slice(0))),typeof i.xmin=="number"&&typeof i.ymin=="number"&&typeof i.xmax=="number"&&typeof i.ymax=="number"&&(l.type="Polygon",l.coordinates=[[[i.xmax,i.ymax],[i.xmin,i.ymax],[i.xmin,i.ymin],[i.xmax,i.ymin],[i.xmax,i.ymax]]]),(i.geometry||i.attributes)&&(l.type="Feature",l.geometry=i.geometry?r(i.geometry):null,l.properties=i.attributes?qp(i.attributes):null,i.attributes))try{l.id=Iy(i.attributes,s)}catch{}return JSON.stringify(l.geometry)===JSON.stringify({})&&(l.geometry=null),i.spatialReference&&i.spatialReference.wkid&&i.spatialReference.wkid!==4326&&console.warn("Object converted in non-standard crs - "+JSON.stringify(i.spatialReference)),l},Hp=function(i){var s=[],l=i.slice(0),u=fh(l.shift().slice(0));if(u.length>=4){ph(u)||u.reverse(),s.push(u);for(var d=0;d<l.length;d++){var m=fh(l[d].slice(0));m.length>=4&&(ph(m)&&m.reverse(),s.push(m))}}return s},Ny=function(i){for(var s=[],l=0;l<i.length;l++)for(var u=Hp(i[l]),d=u.length-1;d>=0;d--){var m=u[d].slice(0);s.push(m)}return s},zy=function r(i,s){s=s||"OBJECTID";var l={wkid:4326},u={},d;switch(i.type){case"Point":u.x=i.coordinates[0],u.y=i.coordinates[1],i.coordinates[2]!=null&&(u.z=i.coordinates[2]),u.spatialReference=l;break;case"MultiPoint":u.points=i.coordinates.slice(0),i.coordinates[0][2]!=null&&(u.hasZ=!0),u.spatialReference=l;break;case"LineString":u.paths=[i.coordinates.slice(0)],i.coordinates[0][2]!=null&&(u.hasZ=!0),u.spatialReference=l;break;case"MultiLineString":u.paths=i.coordinates.slice(0),i.coordinates[0][0][2]!=null&&(u.hasZ=!0),u.spatialReference=l;break;case"Polygon":u.rings=Hp(i.coordinates.slice(0)),i.coordinates[0][0][2]!=null&&(u.hasZ=!0),u.spatialReference=l;break;case"MultiPolygon":u.rings=Ny(i.coordinates.slice(0)),i.coordinates[0][0][0][2]!=null&&(u.hasZ=!0),u.spatialReference=l;break;case"Feature":i.geometry&&(u.geometry=r(i.geometry,s)),u.attributes=i.properties?qp(i.properties):{},i.id&&(u.attributes[s]=i.id);break;case"FeatureCollection":for(u=[],d=0;d<i.features.length;d++)u.push(r(i.features[d],s));break;case"GeometryCollection":for(u=[],d=0;d<i.geometries.length;d++)u.push(r(i.geometries[d],s));break}return u};const jy='Powered by <a href="https://www.esri.com">Esri</a>';function iu(r,i){return zy(r,i)}function Dy(r,i){return My(r,i)}function sp(r){if(r.xmin!=="NaN"&&r.ymin!=="NaN"&&r.xmax!=="NaN"&&r.ymax!=="NaN"){const i=U.latLng(r.ymin,r.xmin),s=U.latLng(r.ymax,r.xmax);return U.latLngBounds(i,s)}return null}function Gp(r){return r=U.latLngBounds(r),{xmin:r.getSouthWest().lng,ymin:r.getSouthWest().lat,xmax:r.getNorthEast().lng,ymax:r.getNorthEast().lat,spatialReference:{wkid:4326}}}const Vp=/^(OBJECTID|FID|OID|ID)$/i;function By(r){let i;if(r.objectIdFieldName)i=r.objectIdFieldName;else if(r.fields){for(let s=0;s<=r.fields.length-1;s++)if(r.fields[s].type==="esriFieldTypeOID"){i=r.fields[s].name;break}if(!i){for(let s=0;s<=r.fields.length-1;s++)if(r.fields[s].name.match(Vp)){i=r.fields[s].name;break}}}return i}function Fy(r){for(const i in r.attributes)if(i.match(Vp))return i}function cu(r,i){let s;const l=r.features||r.results,u=l&&l.length;i?s=i:s=By(r);const d={type:"FeatureCollection",features:[]};if(u)for(let m=l.length-1;m>=0;m--){const y=Dy(l[m],s||Fy(l[m]));d.features.push(y)}return d}function Ah(r){return r=U.Util.trim(r),r[r.length-1]!=="/"&&(r+="/"),r}function hu(r){if(r.url.indexOf("?")!==-1){r.requestParams=r.requestParams||{};const i=r.url.substring(r.url.indexOf("?")+1);r.url=r.url.split("?")[0],r.requestParams=JSON.parse(`{"${decodeURI(i).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')}"}`)}return r.url=Ah(r.url.split("?")[0]),r}function Uy(r){return/^(?!.*utility\.arcgis\.com).*\.arcgis\.com.*FeatureServer/i.test(r)}function op(r){let i;switch(r){case"Point":i="esriGeometryPoint";break;case"MultiPoint":i="esriGeometryMultipoint";break;case"LineString":i="esriGeometryPolyline";break;case"MultiLineString":i="esriGeometryPolyline";break;case"Polygon":i="esriGeometryPolygon";break;case"MultiPolygon":i="esriGeometryPolygon";break}return i}function mh(r){return`${r.getSize().x-by.attributionWidthOffset}px`}function du(r){if(r.attributionControl){if(r.attributionControl._esriAttributionLayerCount||(r.attributionControl._esriAttributionLayerCount=0),r.attributionControl._esriAttributionLayerCount===0){if(!r.attributionControl._esriAttributionAddedOnce){const i=document.createElement("style");i.type="text/css",i.innerHTML=".esri-truncated-attribution:hover {white-space: normal;}",document.getElementsByTagName("head")[0].appendChild(i);const s=document.createElement("style");s.type="text/css",s.innerHTML=`.esri-truncated-attribution {vertical-align: -3px;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;display: inline-block;transition: 0s white-space;transition-delay: 1s;max-width: ${mh(r)};}`,document.getElementsByTagName("head")[0].appendChild(s),r.on("resize",l=>{r.attributionControl&&(r.attributionControl._container.style.maxWidth=mh(l.target))}),r.attributionControl._esriAttributionAddedOnce=!0}U.DomUtil.addClass(r.attributionControl._container,"esri-truncated-attribution:hover"),U.DomUtil.addClass(r.attributionControl._container,"esri-truncated-attribution")}r.attributionControl._esriAttributionLayerCount=r.attributionControl._esriAttributionLayerCount+1}}function $y(){return jy}function fu(r){r.attributionControl&&(r.attributionControl._esriAttributionLayerCount&&r.attributionControl._esriAttributionLayerCount===1&&(U.DomUtil.removeClass(r.attributionControl._container,"esri-truncated-attribution:hover"),U.DomUtil.removeClass(r.attributionControl._container,"esri-truncated-attribution")),r.attributionControl._esriAttributionLayerCount=r.attributionControl._esriAttributionLayerCount-1)}function Kp(r){const i={geometry:null,geometryType:null};if(r instanceof U.LatLngBounds)return i.geometry=Gp(r),i.geometryType="esriGeometryEnvelope",i;if(r.getLatLng&&(r=r.getLatLng()),r instanceof U.LatLng&&(r={type:"Point",coordinates:[r.lng,r.lat]}),r instanceof U.GeoJSON&&(r=r.getLayers()[0].feature.geometry,i.geometry=iu(r),i.geometryType=op(r.type)),r.toGeoJSON&&(r=r.toGeoJSON()),r.type==="Feature"&&(r=r.geometry),r.type==="Point"||r.type==="LineString"||r.type==="Polygon"||r.type==="MultiPolygon")return i.geometry=iu(r),i.geometryType=op(r.type),i;Gr("invalid geometry passed to spatial query. Should be L.LatLng, L.LatLngBounds, L.Marker or a GeoJSON Point, Line, Polygon or MultiPolygon object")}function Zy(r,i){Hr.cors&&Zp(r,{},U.Util.bind((s,l)=>{if(s)return;i._esriAttributions=[];for(let d=0;d<l.contributors.length;d++){const m=l.contributors[d];for(let y=0;y<m.coverageAreas.length;y++){const v=m.coverageAreas[y],w=U.latLng(v.bbox[0],v.bbox[1]),k=U.latLng(v.bbox[2],v.bbox[3]);i._esriAttributions.push({attribution:m.attribution,score:v.score,bounds:U.latLngBounds(w,k),minZoom:v.zoomMin,maxZoom:v.zoomMax})}}i._esriAttributions.sort((d,m)=>m.score-d.score),_h({target:i})},this))}function _h(r){const i=r.target,s=i._esriAttributions;if(!i||!i.attributionControl)return;const l=i.attributionControl._container.querySelector(".esri-dynamic-attribution");if(l&&s){let u="";const d=i.getBounds(),m=U.latLngBounds(d.getSouthWest().wrap(),d.getNorthEast().wrap()),y=i.getZoom();for(let v=0;v<s.length;v++){const w=s[v],k=w.attribution;!u.match(k)&&w.bounds.intersects(m)&&y>=w.minZoom&&y<=w.maxZoom&&(u+=`, ${k}`)}u=`${$y()} | ${u.substr(2)}`,l.innerHTML=u,l.style.maxWidth=mh(i),i.fire("attributionupdated",{attribution:u})}}const Ih=U.Class.extend({options:{proxy:!1,useCors:lu},generateSetter(r,i){return U.Util.bind(function(s){return this.params[r]=s,this},i)},initialize(r){if(r.request&&r.options?(this._service=r,U.Util.setOptions(this,r.options)):(U.Util.setOptions(this,r),this.options.url=Ah(r.url)),this.params=U.Util.extend({},this.params||{}),this.setters)for(const i in this.setters){const s=this.setters[i];this[i]=this.generateSetter(s,this)}},token(r){return this._service?this._service.authenticate(r):this.params.token=r,this},apikey(r){return this.token(r)},format(r){return this.params.returnUnformattedValues=!r,this},request(r,i){return this.options.requestParams&&U.Util.extend(this.params,this.options.requestParams),this._service?this._service.request(this.path,this.params,r,i):this._request("request",this.path,this.params,r,i)},_request(r,i,s,l,u){const d=this.options.proxy?`${this.options.proxy}?${this.options.url}${i}`:this.options.url+i;return(r==="get"||r==="request")&&!this.options.useCors?nu.get.JSONP(d,s,l,u):nu[r](d,s,l,u)}}),Wy=Ih.extend({setters:{offset:"resultOffset",limit:"resultRecordCount",fields:"outFields",precision:"geometryPrecision",featureIds:"objectIds",returnGeometry:"returnGeometry",returnM:"returnM",transform:"datumTransformation",token:"token"},path:"query",params:{returnGeometry:!0,where:"1=1",outSR:4326,outFields:"*"},within(r){return this._setGeometryParams(r),this.params.spatialRel="esriSpatialRelContains",this},intersects(r){return this._setGeometryParams(r),this.params.spatialRel="esriSpatialRelIntersects",this},contains(r){return this._setGeometryParams(r),this.params.spatialRel="esriSpatialRelWithin",this},crosses(r){return this._setGeometryParams(r),this.params.spatialRel="esriSpatialRelCrosses",this},touches(r){return this._setGeometryParams(r),this.params.spatialRel="esriSpatialRelTouches",this},overlaps(r){return this._setGeometryParams(r),this.params.spatialRel="esriSpatialRelOverlaps",this},bboxIntersects(r){return this._setGeometryParams(r),this.params.spatialRel="esriSpatialRelEnvelopeIntersects",this},indexIntersects(r){return this._setGeometryParams(r),this.params.spatialRel="esriSpatialRelIndexIntersects",this},nearby(r,i){return r=U.latLng(r),this.params.geometry=[r.lng,r.lat],this.params.geometryType="esriGeometryPoint",this.params.spatialRel="esriSpatialRelIntersects",this.params.units="esriSRUnit_Meter",this.params.distance=i,this.params.inSR=4326,this},where(r){return this.params.where=r,this},between(r,i){return this.params.time=[r.valueOf(),i.valueOf()],this},simplify(r,i){const s=Math.abs(r.getBounds().getWest()-r.getBounds().getEast());return this.params.maxAllowableOffset=s/r.getSize().y*i,this},orderBy(r,i){return i=i||"ASC",this.params.orderByFields=this.params.orderByFields?`${this.params.orderByFields},`:"",this.params.orderByFields+=[r,i].join(" "),this},run(r,i){return this._cleanParams(),this.options.isModern||Uy(this.options.url)&&this.options.isModern===void 0?(this.params.f="geojson",this.request(function(s,l){this._trapSQLerrors(s),r.call(i,s,l,l)},this)):this.request(function(s,l){this._trapSQLerrors(s),r.call(i,s,l&&cu(l),l)},this)},count(r,i){return this._cleanParams(),this.params.returnCountOnly=!0,this.request(function(s,l){r.call(this,s,l&&l.count,l)},i)},ids(r,i){return this._cleanParams(),this.params.returnIdsOnly=!0,this.request(function(s,l){r.call(this,s,l&&l.objectIds,l)},i)},bounds(r,i){return this._cleanParams(),this.params.returnExtentOnly=!0,this.request((s,l)=>{l&&l.extent&&sp(l.extent)?r.call(i,s,sp(l.extent),l):(s={message:"Invalid Bounds"},r.call(i,s,null,l))},i)},distinct(){return this.params.returnGeometry=!1,this.params.returnDistinctValues=!0,this},pixelSize(r){const i=U.point(r);return this.params.pixelSize=[i.x,i.y],this},layer(r){return this.path=`${r}/query`,this},_trapSQLerrors(r){r&&r.code==="400"&&Gr("one common syntax error in query requests is encasing string values in double quotes instead of single quotes")},_cleanParams(){delete this.params.returnIdsOnly,delete this.params.returnExtentOnly,delete this.params.returnCountOnly},_setGeometryParams(r){this.params.inSR=4326;const i=Kp(r);this.params.geometry=i.geometry,this.params.geometryType=i.geometryType}});function Mh(r){return new Wy(r)}const qy=Ih.extend({setters:{contains:"contains",text:"searchText",fields:"searchFields",spatialReference:"sr",sr:"sr",layers:"layers",returnGeometry:"returnGeometry",maxAllowableOffset:"maxAllowableOffset",precision:"geometryPrecision",dynamicLayers:"dynamicLayers",returnZ:"returnZ",returnM:"returnM",gdbVersion:"gdbVersion",token:"token"},path:"find",params:{sr:4326,contains:!0,returnGeometry:!0,returnZ:!0,returnM:!1},layerDefs(r,i){return this.params.layerDefs=this.params.layerDefs?`${this.params.layerDefs};`:"",this.params.layerDefs+=[r,i].join(":"),this},simplify(r,i){const s=Math.abs(r.getBounds().getWest()-r.getBounds().getEast());return this.params.maxAllowableOffset=s/r.getSize().y*i,this},run(r,i){return this.request((s,l)=>{r.call(i,s,l&&cu(l),l)},i)}});function Hy(r){return new qy(r)}const Jp=Ih.extend({path:"identify",between(r,i){return this.params.time=[r.valueOf(),i.valueOf()],this}}),Gy=Jp.extend({setters:{layers:"layers",precision:"geometryPrecision",tolerance:"tolerance",returnGeometry:"returnGeometry"},params:{sr:4326,layers:"all",tolerance:3,returnGeometry:!0},on(r){const i=Gp(r.getBounds()),s=r.getSize();return this.params.imageDisplay=[s.x,s.y,96],this.params.mapExtent=[i.xmin,i.ymin,i.xmax,i.ymax],this},at(r){return r.length===2&&(r=U.latLng(r)),this._setGeometryParams(r),this},layerDef(r,i){return this.params.layerDefs=this.params.layerDefs?`${this.params.layerDefs};`:"",this.params.layerDefs+=[r,i].join(":"),this},simplify(r,i){const s=Math.abs(r.getBounds().getWest()-r.getBounds().getEast());return this.params.maxAllowableOffset=s/r.getSize().y*i,this},run(r,i){return this.request((s,l)=>{if(s)r.call(i,s,void 0,l);else{const u=cu(l);l.results=l.results.reverse();for(let d=0;d<u.features.length;d++){const m=u.features[d];m.layerId=l.results[d].layerId}r.call(i,void 0,u,l)}})},_setGeometryParams(r){const i=Kp(r);this.params.geometry=i.geometry,this.params.geometryType=i.geometryType}});function Vy(r){return new Gy(r)}const Ky=Jp.extend({setters:{setMosaicRule:"mosaicRule",setRenderingRule:"renderingRule",setPixelSize:"pixelSize",returnCatalogItems:"returnCatalogItems",returnGeometry:"returnGeometry"},params:{returnGeometry:!1},at(r){return r=U.latLng(r),this.params.geometry=JSON.stringify({x:r.lng,y:r.lat,spatialReference:{wkid:4326}}),this.params.geometryType="esriGeometryPoint",this},getMosaicRule(){return this.params.mosaicRule},getRenderingRule(){return this.params.renderingRule},getPixelSize(){return this.params.pixelSize},run(r,i){return this.request(function(s,l){r.call(i,s,l&&this._responseToGeoJSON(l),l)},this)},_responseToGeoJSON(r){const i=r.location,s=r.catalogItems,l=r.catalogItemVisibilities,u={pixel:{type:"Feature",geometry:{type:"Point",coordinates:[i.x,i.y]},crs:{type:"EPSG",properties:{code:i.spatialReference.wkid}},properties:{OBJECTID:r.objectId,name:r.name,value:r.value},id:r.objectId}};if(r.properties&&r.properties.Values&&(u.pixel.properties.values=r.properties.Values),s&&s.features&&(u.catalogItems=cu(s),l&&l.length===u.catalogItems.features.length))for(let d=l.length-1;d>=0;d--)u.catalogItems.features[d].properties.catalogItemVisibility=l[d];return u}});function Jy(r){return new Ky(r)}const Nh=U.Evented.extend({options:{proxy:!1,useCors:lu,timeout:0},initialize(r){r=r||{},this._requestQueue=[],this._authenticating=!1,U.Util.setOptions(this,r),this.options.url=Ah(this.options.url)},get(r,i,s,l){return this._request("get",r,i,s,l)},post(r,i,s,l){return this._request("post",r,i,s,l)},request(r,i,s,l){return this._request("request",r,i,s,l)},metadata(r,i){return this._request("get","",{},r,i)},authenticate(r){return this._authenticating=!1,this.options.token=r,this._runQueue(),this},getTimeout(){return this.options.timeout},setTimeout(r){this.options.timeout=r},_request(r,i,s,l,u){this.fire("requeststart",{url:this.options.url+i,params:s,method:r},!0);const d=this._createServiceCallback(r,i,s,l,u);if(this.options.token&&(s.token=this.options.token),this.options.requestParams&&U.Util.extend(s,this.options.requestParams),this._authenticating)this._requestQueue.push([r,i,s,l,u]);else{const m=this.options.proxy?`${this.options.proxy}?${this.options.url}${i}`:this.options.url+i;return(r==="get"||r==="request")&&!this.options.useCors?nu.get.JSONP(m,s,d,u):nu[r](m,s,d,u)}},_createServiceCallback(r,i,s,l,u){return U.Util.bind(function(d,m){d&&(d.code===499||d.code===498)&&(this._authenticating=!0,this._requestQueue.push([r,i,s,l,u]),this.fire("authenticationrequired",{authenticate:U.Util.bind(this.authenticate,this)},!0),d.authenticate=U.Util.bind(this.authenticate,this)),l.call(u,d,m),d?this.fire("requesterror",{url:this.options.url+i,params:s,message:d.message,code:d.code,method:r},!0):this.fire("requestsuccess",{url:this.options.url+i,params:s,response:m,method:r},!0),this.fire("requestend",{url:this.options.url+i,params:s,method:r},!0)},this)},_runQueue(){for(let r=this._requestQueue.length-1;r>=0;r--){const i=this._requestQueue[r],s=i.shift();this[s].apply(this,i)}this._requestQueue=[]}}),Qy=Nh.extend({identify(){return Vy(this)},find(){return Hy(this)},query(){return Mh(this)}});function Qp(r){return new Qy(r)}const Yy=Nh.extend({query(){return Mh(this)},identify(){return Jy(this)}});function Xy(r){return new Yy(r)}const ew=Nh.extend({options:{idAttribute:"OBJECTID"},query(){return Mh(this)},addFeature(r,i,s){this.addFeatures(r,i,s)},addFeatures(r,i,s){const l=r.features?r.features:[r];for(let u=l.length-1;u>=0;u--)delete l[u].id;return r=iu(r),r=l.length>1?r:[r],this.post("addFeatures",{features:r},(u,d)=>{const m=d&&d.addResults?d.addResults.length>1?d.addResults:d.addResults[0]:void 0;i&&i.call(s,u||d.addResults[0].error,m)},s)},updateFeature(r,i,s){this.updateFeatures(r,i,s)},updateFeatures(r,i,s){const l=r.features?r.features:[r];return r=iu(r,this.options.idAttribute),r=l.length>1?r:[r],this.post("updateFeatures",{features:r},(u,d)=>{const m=d&&d.updateResults?d.updateResults.length>1?d.updateResults:d.updateResults[0]:void 0;i&&i.call(s,u||d.updateResults[0].error,m)},s)},deleteFeature(r,i,s){this.deleteFeatures(r,i,s)},deleteFeatures(r,i,s){return this.post("deleteFeatures",{objectIds:r},(l,u)=>{const d=u&&u.deleteResults?u.deleteResults.length>1?u.deleteResults:u.deleteResults[0]:void 0;i&&i.call(s,l||u.deleteResults[0].error,d)},s)}});function tw(r){return new ew(r)}const at=window.location.protocol!=="https:"?"http:":"https:",ap=U.TileLayer.extend({statics:{TILES:{Streets:{urlTemplate:`${at}//{s}.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}`,options:{minZoom:1,maxZoom:19,subdomains:["server","services"],attribution:"USGS, NOAA",attributionUrl:"https://static.arcgis.com/attribution/World_Street_Map"}},Topographic:{urlTemplate:`${at}//{s}.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}`,options:{minZoom:1,maxZoom:19,subdomains:["server","services"],attribution:"USGS, NOAA",attributionUrl:"https://static.arcgis.com/attribution/World_Topo_Map"}},Oceans:{urlTemplate:`${at}//{s}.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer/tile/{z}/{y}/{x}`,options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"USGS, NOAA",attributionUrl:"https://static.arcgis.com/attribution/Ocean_Basemap"}},OceansLabels:{urlTemplate:`${at}//{s}.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer/tile/{z}/{y}/{x}`,options:{minZoom:1,maxZoom:16,subdomains:["server","services"],pane:Zr?"esri-labels":"tilePane",attribution:""}},NationalGeographic:{urlTemplate:`${at}//{s}.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}`,options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"National Geographic, DeLorme, HERE, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, increment P Corp."}},DarkGray:{urlTemplate:`${at}//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer/tile/{z}/{y}/{x}`,options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"HERE, DeLorme, MapmyIndia, &copy; OpenStreetMap contributors"}},DarkGrayLabels:{urlTemplate:`${at}//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer/tile/{z}/{y}/{x}`,options:{minZoom:1,maxZoom:16,subdomains:["server","services"],pane:Zr?"esri-labels":"tilePane",attribution:""}},Gray:{urlTemplate:`${at}//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}`,options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"HERE, DeLorme, MapmyIndia, &copy; OpenStreetMap contributors"}},GrayLabels:{urlTemplate:`${at}//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer/tile/{z}/{y}/{x}`,options:{minZoom:1,maxZoom:16,subdomains:["server","services"],pane:Zr?"esri-labels":"tilePane",attribution:""}},Imagery:{urlTemplate:`${at}//{s}.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}`,options:{minZoom:1,maxZoom:19,subdomains:["server","services"],attribution:"DigitalGlobe, GeoEye, i-cubed, USDA, USGS, AEX, Getmapping, Aerogrid, IGN, IGP, swisstopo, and the GIS User Community",attributionUrl:"https://static.arcgis.com/attribution/World_Imagery"}},ImageryLabels:{urlTemplate:`${at}//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer/tile/{z}/{y}/{x}`,options:{minZoom:1,maxZoom:19,subdomains:["server","services"],pane:Zr?"esri-labels":"tilePane",attribution:""}},ImageryTransportation:{urlTemplate:`${at}//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Transportation/MapServer/tile/{z}/{y}/{x}`,options:{minZoom:1,maxZoom:19,subdomains:["server","services"],pane:Zr?"esri-labels":"tilePane",attribution:""}},ShadedRelief:{urlTemplate:`${at}//{s}.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/{z}/{y}/{x}`,options:{minZoom:1,maxZoom:13,subdomains:["server","services"],attribution:"USGS"}},ShadedReliefLabels:{urlTemplate:`${at}//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places_Alternate/MapServer/tile/{z}/{y}/{x}`,options:{minZoom:1,maxZoom:12,subdomains:["server","services"],pane:Zr?"esri-labels":"tilePane",attribution:""}},Terrain:{urlTemplate:`${at}//{s}.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer/tile/{z}/{y}/{x}`,options:{minZoom:1,maxZoom:13,subdomains:["server","services"],attribution:"USGS, NOAA"}},TerrainLabels:{urlTemplate:`${at}//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer/tile/{z}/{y}/{x}`,options:{minZoom:1,maxZoom:13,subdomains:["server","services"],pane:Zr?"esri-labels":"tilePane",attribution:""}},USATopo:{urlTemplate:`${at}//{s}.arcgisonline.com/ArcGIS/rest/services/USA_Topo_Maps/MapServer/tile/{z}/{y}/{x}`,options:{minZoom:1,maxZoom:15,subdomains:["server","services"],attribution:"USGS, National Geographic Society, i-cubed"}},ImageryClarity:{urlTemplate:`${at}//clarity.maptiles.arcgis.com/arcgis/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}`,options:{minZoom:1,maxZoom:19,attribution:"Esri, DigitalGlobe, GeoEye, Earthstar Geographics, CNES/Airbus DS, USDA, USGS, AeroGRID, IGN, and the GIS User Community"}},Physical:{urlTemplate:`${at}//{s}.arcgisonline.com/arcgis/rest/services/World_Physical_Map/MapServer/tile/{z}/{y}/{x}`,options:{minZoom:1,maxZoom:8,subdomains:["server","services"],attribution:"U.S. National Park Service"}},ImageryFirefly:{urlTemplate:`${at}//fly.maptiles.arcgis.com/arcgis/rest/services/World_Imagery_Firefly/MapServer/tile/{z}/{y}/{x}`,options:{minZoom:1,maxZoom:19,attribution:"Esri, DigitalGlobe, GeoEye, Earthstar Geographics, CNES/Airbus DS, USDA, USGS, AeroGRID, IGN, and the GIS User Community",attributionUrl:"https://static.arcgis.com/attribution/World_Imagery"}}}},initialize(r,i){let s;if(typeof r=="object"&&r.urlTemplate&&r.options)s=r;else if(typeof r=="string"&&ap.TILES[r])s=ap.TILES[r];else throw new Error('L.esri.BasemapLayer: Invalid parameter. Use one of "Streets", "Topographic", "Oceans", "OceansLabels", "NationalGeographic", "Physical", "Gray", "GrayLabels", "DarkGray", "DarkGrayLabels", "Imagery", "ImageryLabels", "ImageryTransportation", "ImageryClarity", "ImageryFirefly", ShadedRelief", "ShadedReliefLabels", "Terrain", "TerrainLabels" or "USATopo"');const l=U.Util.extend(s.options,i);U.Util.setOptions(this,l),this.options.ignoreDeprecationWarning||console.warn("WARNING: L.esri.BasemapLayer uses data services that are in mature support and are not being updated. Please use L.esri.Vector.vectorBasemapLayer instead. More info: https://esriurl.com/esri-leaflet-basemap"),this.options.token&&s.urlTemplate.indexOf("token=")===-1&&(s.urlTemplate+=`?token=${this.options.token}`),this.options.proxy&&(s.urlTemplate=`${this.options.proxy}?${s.urlTemplate}`),U.TileLayer.prototype.initialize.call(this,s.urlTemplate,l)},onAdd(r){du(r),this.options.pane==="esri-labels"&&this._initPane(),this.options.attributionUrl&&Zy((this.options.proxy?`${this.options.proxy}?`:"")+this.options.attributionUrl,r),r.on("moveend",_h),U.TileLayer.prototype.onAdd.call(this,r)},onRemove(r){fu(r),r.off("moveend",_h),U.TileLayer.prototype.onRemove.call(this,r)},_initPane(){if(!this._map.getPane(this.options.pane)){const r=this._map.createPane(this.options.pane);r.style.pointerEvents="none",r.style.zIndex=500}},getAttribution(){let r;return this.options.attribution&&(r=`<span class="esri-dynamic-attribution">${this.options.attribution}</span>`),r}}),nw=U.TileLayer.extend({options:{zoomOffsetAllowance:.1,errorTileUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEABAMAAACuXLVVAAAAA1BMVEUzNDVszlHHAAAAAXRSTlMAQObYZgAAAAlwSFlzAAAAAAAAAAAB6mUWpAAAADZJREFUeJztwQEBAAAAgiD/r25IQAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA7waBAAABw08RwAAAAABJRU5ErkJggg=="},statics:{MercatorZoomLevels:{0:156543.033928,1:78271.5169639999,2:39135.7584820001,3:19567.8792409999,4:9783.93962049996,5:4891.96981024998,6:2445.98490512499,7:1222.99245256249,8:611.49622628138,9:305.748113140558,10:152.874056570411,11:76.4370282850732,12:38.2185141425366,13:19.1092570712683,14:9.55462853563415,15:4.77731426794937,16:2.38865713397468,17:1.19432856685505,18:.597164283559817,19:.298582141647617,20:.14929107082381,21:.07464553541191,22:.0373227677059525,23:.0186613838529763}},initialize(r){r=U.Util.setOptions(this,r),r.apikey&&(r.token=r.apikey),r=hu(r),this.tileUrl=`${(r.proxy?`${r.proxy}?`:"")+r.url}tile/{z}/{y}/{x}${r.requestParams&&Object.keys(r.requestParams).length>0?U.Util.getParamString(r.requestParams):""}`,r.url.indexOf("{s}")!==-1&&r.subdomains&&(r.url=r.url.replace("{s}",r.subdomains[0])),this.service=Qp(r),this.service.addEventParent(this),new RegExp(/tiles.arcgis(online)?\.com/g).test(r.url)&&(this.tileUrl=this.tileUrl.replace("://tiles","://tiles{s}"),r.subdomains=["1","2","3","4"]),this.options.token&&(this.tileUrl+=`?token=${this.options.token}`),U.TileLayer.prototype.initialize.call(this,this.tileUrl,r)},getTileUrl(r){const i=this._getZoomForUrl();return U.Util.template(this.tileUrl,U.Util.extend({s:this._getSubdomain(r),x:r.x,y:r.y,z:this._lodMap&&this._lodMap[i]!==void 0?this._lodMap[i]:i},this.options))},createTile(r,i){const s=document.createElement("img");return U.DomEvent.on(s,"load",U.Util.bind(this._tileOnLoad,this,i,s)),U.DomEvent.on(s,"error",U.Util.bind(this._tileOnError,this,i,s)),this.options.crossOrigin&&(s.crossOrigin=""),s.alt="",!this._lodMap||this._lodMap&&this._lodMap[this._getZoomForUrl()]!==void 0?s.src=this.getTileUrl(r):this.once("lodmap",function(){s.src=this.getTileUrl(r)},this),s},onAdd(r){du(r),this._lodMap||this.metadata(function(i,s){if(!i&&s.spatialReference){const l=s.spatialReference.latestWkid||s.spatialReference.wkid;if(!this.options.attribution&&r.attributionControl&&s.copyrightText&&(this.options.attribution=s.copyrightText,r.attributionControl.addAttribution(this.getAttribution())),r.options.crs===U.CRS.EPSG3857&&(l===102100||l===3857)){this._lodMap={};const u=s.tileInfo.lods,d=nw.MercatorZoomLevels;for(let m=0;m<u.length;m++){const y=u[m];for(const v in d){const w=d[v];if(this._withinPercentage(y.resolution,w,this.options.zoomOffsetAllowance)){this._lodMap[v]=y.level;break}}}this.fire("lodmap")}else r.options.crs&&r.options.crs.code&&r.options.crs.code.indexOf(l)>-1||Gr("L.esri.TiledMapLayer is using a non-mercator spatial reference. Support may be available through Proj4Leaflet https://developers.arcgis.com/esri-leaflet/samples/non-mercator-projection/")}},this),U.TileLayer.prototype.onAdd.call(this,r)},onRemove(r){fu(r),U.TileLayer.prototype.onRemove.call(this,r)},metadata(r,i){return this.service.metadata(r,i),this},identify(){return this.service.identify()},find(){return this.service.find()},query(){return this.service.query()},authenticate(r){const i=`?token=${r}`;return this.tileUrl=this.options.token?this.tileUrl.replace(/\?token=(.+)/g,i):this.tileUrl+i,this.options.token=r,this.service.authenticate(r),this},_withinPercentage(r,i,s){return Math.abs(r/i-1)<s}}),iw=U.ImageOverlay.extend({onAdd(r){this._topLeft=r.getPixelBounds().min,U.ImageOverlay.prototype.onAdd.call(this,r)},_reset(){this._map.options.crs===U.CRS.EPSG3857?U.ImageOverlay.prototype._reset.call(this):U.DomUtil.setPosition(this._image,this._topLeft.subtract(this._map.getPixelOrigin()))}}),Yp=U.Layer.extend({options:{opacity:1,position:"front",f:"image",useCors:lu,attribution:null,interactive:!1,alt:""},onAdd(r){du(r),this.options.zIndex&&(this.options.position=null),this._update=U.Util.throttle(this._update,this.options.updateInterval,this),r.on("moveend",this._update,this),this._currentImage&&this._currentImage._bounds.equals(this._map.getBounds())?r.addLayer(this._currentImage):this._currentImage&&(this._map.removeLayer(this._currentImage),this._currentImage=null),this._update(),this._popup&&(this._map.on("click",this._getPopupData,this),this._map.on("dblclick",this._resetPopupState,this)),this.metadata(function(i,s){!i&&!this.options.attribution&&r.attributionControl&&s.copyrightText&&(this.options.attribution=s.copyrightText,r.attributionControl.addAttribution(this.getAttribution()))},this)},onRemove(r){fu(r),this._currentImage&&this._map.removeLayer(this._currentImage),this._popup&&(this._map.off("click",this._getPopupData,this),this._map.off("dblclick",this._resetPopupState,this)),this._map.off("moveend",this._update,this)},bindPopup(r,i){return this._shouldRenderPopup=!1,this._lastClick=!1,this._popup=U.popup(i),this._popupFunction=r,this._map&&(this._map.on("click",this._getPopupData,this),this._map.on("dblclick",this._resetPopupState,this)),this},unbindPopup(){return this._map&&(this._map.closePopup(this._popup),this._map.off("click",this._getPopupData,this),this._map.off("dblclick",this._resetPopupState,this)),this._popup=!1,this},bringToFront(){return this.options.position="front",this._currentImage&&(this._currentImage.bringToFront(),this._setAutoZIndex(Math.max)),this},bringToBack(){return this.options.position="back",this._currentImage&&(this._currentImage.bringToBack(),this._setAutoZIndex(Math.min)),this},setZIndex(r){return this.options.zIndex=r,this._currentImage&&this._currentImage.setZIndex(r),this},_setAutoZIndex(r){if(!this._currentImage)return;const i=this._currentImage.getPane().children;let s=-r(-1/0,1/0);for(let l=0,u=i.length,d;l<u;l++)d=i[l].style.zIndex,i[l]!==this._currentImage._image&&d&&(s=r(s,+d));isFinite(s)&&(this.options.zIndex=s+r(-1,1),this.setZIndex(this.options.zIndex))},getAttribution(){return this.options.attribution},getOpacity(){return this.options.opacity},setOpacity(r){return this.options.opacity=r,this._currentImage&&this._currentImage.setOpacity(r),this},getTimeRange(){return[this.options.from,this.options.to]},setTimeRange(r,i){return this.options.from=r,this.options.to=i,this._update(),this},metadata(r,i){return this.service.metadata(r,i),this},authenticate(r){return this.service.authenticate(r),this},redraw(){this._update()},_renderImage(r,i,s){if(this._map){if(s&&(r=`data:${s};base64,${r}`),!r)return;const l=new iw(r,i,{opacity:0,crossOrigin:this.options.withCredentials?"use-credentials":this.options.useCors,alt:this.options.alt,pane:this.options.pane||this.getPane(),interactive:this.options.interactive}).addTo(this._map);let u;const d=function(){this._map.removeLayer(l),this.fire("error"),l.off("load",u,this)};u=function(m){if(l.off("error",d,this),this._map){const y=m.target,v=this._currentImage;y._bounds.equals(i)&&y._bounds.equals(this._map.getBounds())?(this._currentImage=y,this.options.position==="front"?this.bringToFront():this.options.position==="back"&&this.bringToBack(),this.options.zIndex&&this.setZIndex(this.options.zIndex),this._map&&this._currentImage._map?this._currentImage.setOpacity(this.options.opacity):this._currentImage._map.removeLayer(this._currentImage),v&&this._map&&this._map.removeLayer(v),v&&v._map&&v._map.removeLayer(v)):this._map.removeLayer(y)}this.fire("load",{bounds:i})},l.once("error",d,this),l.once("load",u,this)}},_update(){if(!this._map)return;const r=this._map.getZoom(),i=this._map.getBounds();if(this._animatingZoom||this._map._panTransition&&this._map._panTransition._inProgress)return;if(r>this.options.maxZoom||r<this.options.minZoom){this._currentImage&&(this._currentImage._map.removeLayer(this._currentImage),this._currentImage=null);return}const s=this._buildExportParams();U.Util.extend(s,this.options.requestParams),s?(this._requestExport(s,i),this.fire("loading",{bounds:i})):this._currentImage&&(this._currentImage._map.removeLayer(this._currentImage),this._currentImage=null)},_renderPopup(r,i,s,l){if(r=U.latLng(r),this._shouldRenderPopup&&this._lastClick.equals(r)){const u=this._popupFunction(i,s,l);u&&this._popup.setLatLng(r).setContent(u).openOn(this._map)}},_resetPopupState(r){this._shouldRenderPopup=!1,this._lastClick=r.latlng},_calculateBbox(){const r=this._map.getPixelBounds(),i=this._map.unproject(r.getBottomLeft()),s=this._map.unproject(r.getTopRight()),l=this._map.options.crs.project(s),u=this._map.options.crs.project(i),d=U.bounds(l,u);return[d.getBottomLeft().x,d.getBottomLeft().y,d.getTopRight().x,d.getTopRight().y].join(",")},_calculateImageSize(){const r=this._map.getPixelBounds(),i=this._map.getSize(),s=this._map.unproject(r.getBottomLeft()),l=this._map.unproject(r.getTopRight()),u=this._map.latLngToLayerPoint(l).y,d=this._map.latLngToLayerPoint(s).y;return(u>0||d<i.y)&&(i.y=d-u),`${i.x},${i.y}`}});Yp.extend({options:{updateInterval:150,format:"jpgpng",transparent:!0,f:"image"},query(){return this.service.query()},identify(){return this.service.identify()},initialize(r){r=hu(r),this.service=Xy(r),this.service.addEventParent(this),U.Util.setOptions(this,r)},setPixelType(r){return this.options.pixelType=r,this._update(),this},getPixelType(){return this.options.pixelType},setBandIds(r){return U.Util.isArray(r)?this.options.bandIds=r.join(","):this.options.bandIds=r.toString(),this._update(),this},getBandIds(){return this.options.bandIds},setNoData(r,i){return U.Util.isArray(r)?this.options.noData=r.join(","):this.options.noData=r.toString(),i&&(this.options.noDataInterpretation=i),this._update(),this},getNoData(){return this.options.noData},getNoDataInterpretation(){return this.options.noDataInterpretation},setRenderingRule(r){this.options.renderingRule=r,this._update()},getRenderingRule(){return this.options.renderingRule},setMosaicRule(r){this.options.mosaicRule=r,this._update()},getMosaicRule(){return this.options.mosaicRule},_getPopupData(r){const i=U.Util.bind(function(l,u,d){l||setTimeout(U.Util.bind(function(){this._renderPopup(r.latlng,l,u,d)},this),300)},this),s=this.identify().at(r.latlng);this.options.mosaicRule&&s.setMosaicRule(this.options.mosaicRule),s.run(i),this._shouldRenderPopup=!0,this._lastClick=r.latlng},_buildExportParams(){const r=parseInt(this._map.options.crs.code.split(":")[1],10),i={bbox:this._calculateBbox(),size:this._calculateImageSize(),format:this.options.format,transparent:this.options.transparent,bboxSR:r,imageSR:r};return this.options.from&&this.options.to&&(i.time=`${this.options.from.valueOf()},${this.options.to.valueOf()}`),this.options.pixelType&&(i.pixelType=this.options.pixelType),this.options.interpolation&&(i.interpolation=this.options.interpolation),this.options.compressionQuality&&(i.compressionQuality=this.options.compressionQuality),this.options.bandIds&&(i.bandIds=this.options.bandIds),(this.options.noData===0||this.options.noData)&&(i.noData=this.options.noData),this.options.noDataInterpretation&&(i.noDataInterpretation=this.options.noDataInterpretation),this.service.options.token&&(i.token=this.service.options.token),this.options.renderingRule&&(i.renderingRule=JSON.stringify(this.options.renderingRule)),this.options.mosaicRule&&(i.mosaicRule=JSON.stringify(this.options.mosaicRule)),i},_requestExport(r,i){if(this.options.f==="json")this.service.request("exportImage",r,function(s,l){s||(this.options.token&&(l.href+=`?token=${this.options.token}`),this.options.proxy&&(l.href=`${this.options.proxy}?${l.href}`),this._renderImage(l.href,i))},this);else{r.f="image";let s=`${this.options.url}exportImage${U.Util.getParamString(r)}`;this.options.proxy&&(s=`${this.options.proxy}?${s}`),this._renderImage(s,i)}}});const rw=Yp.extend({options:{updateInterval:150,layers:!1,layerDefs:!1,timeOptions:!1,format:"png32",transparent:!0,f:"json"},initialize(r){r=hu(r),this.service=Qp(r),this.service.addEventParent(this),U.Util.setOptions(this,r)},getDynamicLayers(){return this.options.dynamicLayers},setDynamicLayers(r){return this.options.dynamicLayers=r,this._update(),this},getLayers(){return this.options.layers},setLayers(r){return this.options.layers=r,this._update(),this},getLayerDefs(){return this.options.layerDefs},setLayerDefs(r){return this.options.layerDefs=r,this._update(),this},getTimeOptions(){return this.options.timeOptions},setTimeOptions(r){return this.options.timeOptions=r,this._update(),this},query(){return this.service.query()},identify(){return this.service.identify()},find(){return this.service.find()},_getPopupData(r){const i=U.Util.bind(function(l,u,d){l||setTimeout(U.Util.bind(function(){this._renderPopup(r.latlng,l,u,d)},this),300)},this);let s;if(this.options.popup?s=this.options.popup.on(this._map).at(r.latlng):s=this.identify().on(this._map).at(r.latlng),s.params.maxAllowableOffset||s.simplify(this._map,.5),this.options.popup&&this.options.popup.params&&this.options.popup.params.layers||(this.options.layers?s.layers(`visible:${this.options.layers.join(",")}`):s.layers("visible")),this.options.layerDefs&&typeof this.options.layerDefs!="string"&&!s.params.layerDefs)for(const l in this.options.layerDefs)Object.hasOwn(this.options.layerDefs,l)&&s.layerDef(l,this.options.layerDefs[l]);s.run(i),this._shouldRenderPopup=!0,this._lastClick=r.latlng},_buildExportParams(){const r=parseInt(this._map.options.crs.code.split(":")[1],10),i={bbox:this._calculateBbox(),size:this._calculateImageSize(),dpi:96,format:this.options.format,transparent:this.options.transparent,bboxSR:r,imageSR:r};if(this.options.dynamicLayers&&(i.dynamicLayers=this.options.dynamicLayers),this.options.layers){if(this.options.layers.length===0)return;i.layers=`show:${this.options.layers.join(",")}`}return this.options.layerDefs&&(i.layerDefs=typeof this.options.layerDefs=="string"?this.options.layerDefs:JSON.stringify(this.options.layerDefs)),this.options.timeOptions&&(i.timeOptions=JSON.stringify(this.options.timeOptions)),this.options.from&&this.options.to&&(i.time=`${this.options.from.valueOf()},${this.options.to.valueOf()}`),this.service.options.token&&(i.token=this.service.options.token),this.options.proxy&&(i.proxy=this.options.proxy),this.options.disableCache&&(i._ts=Date.now()),i},_requestExport(r,i){if(this.options.f==="json")this.service.request("export",r,function(s,l){s||(this.options.token&&l.href&&(l.href+=`?token=${this.options.token}`),this.options.proxy&&l.href&&(l.href=`${this.options.proxy}?${l.href}`),l.href?this._renderImage(l.href,i):this._renderImage(l.imageData,i,l.contentType))},this);else{r.f="image";let s=`${this.options.url}export${U.Util.getParamString(r)}`;this.options.proxy&&(s=`${this.options.proxy}?${s}`),this._renderImage(s,i)}}});function sw(r,i){return new rw(r,i)}const Jl=U.Layer.extend({options:{cellSize:512,updateWhenIdle:U.Browser.mobile,updateInterval:150,noWrap:!1,keepBuffer:1.5},initialize(r){U.Util.setOptions(this,r)},onAdd(){this._cells={},this._activeCells={},this._resetView(),this._update()},onRemove(){this._removeAllCells(),this._cellZoom=void 0},isLoading(){return this._loading},redraw(){return this._map&&(this._removeAllCells(),this._update()),this},getEvents(){const r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=U.Util.throttle(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),r},createCell(){return document.createElement("div")},removeCell(){},reuseCell(){},cellLeave(){},cellEnter(){},getCellSize(){const r=this.options.cellSize;return r instanceof U.Point?r:new U.Point(r,r)},_pruneCells(){if(!this._map)return;let r,i;for(r in this._cells)i=this._cells[r],i.retain=i.current;for(r in this._cells)if(i=this._cells[r],i.current&&!i.active){const s=i.coords;this._retainParent(s.x,s.y,s.z,s.z-5)||this._retainChildren(s.x,s.y,s.z,s.z+2)}for(r in this._cells)this._cells[r].retain||this._removeCell(r)},_removeAllCells(){for(const r in this._cells)this._removeCell(r)},_invalidateAll(){this._removeAllCells(),this._cellZoom=void 0},_retainParent(r,i,s,l){const u=Math.floor(r/2),d=Math.floor(i/2),m=s-1,y=new U.Point(+u,+d);y.z=+m;const v=this._cellCoordsToKey(y),w=this._cells[v];return w&&w.active?(w.retain=!0,!0):(w&&w.loaded&&(w.retain=!0),m>l?this._retainParent(u,d,m,l):!1)},_retainChildren(r,i,s,l){for(let u=2*r;u<2*r+2;u++)for(let d=2*i;d<2*i+2;d++){const m=new U.Point(u,d);m.z=s+1;const y=this._cellCoordsToKey(m),v=this._cells[y];if(v&&v.active){v.retain=!0;continue}else v&&v.loaded&&(v.retain=!0);s+1<l&&this._retainChildren(u,d,s+1,l)}},_resetView(r){const i=r&&(r.pinch||r.flyTo);i||this._setView(this._map.getCenter(),this._map.getZoom(),i,i)},_setView(r,i,s,l){const u=Math.round(i);l||(this._cellZoom=u,this._abortLoading&&this._abortLoading(),this._resetGrid(),u!==void 0&&this._update(r),s||this._pruneCells(),this._noPrune=!!s)},_resetGrid(){const r=this._map,i=r.options.crs,s=this._cellSize=this.getCellSize(),l=this._cellZoom,u=this._map.getPixelWorldBounds(this._cellZoom);u&&(this._globalCellRange=this._pxBoundsToCellRange(u)),this._wrapX=i.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,i.wrapLng[0]],l).x/s.x),Math.ceil(r.project([0,i.wrapLng[1]],l).x/s.y)],this._wrapY=i.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([i.wrapLat[0],0],l).y/s.x),Math.ceil(r.project([i.wrapLat[1],0],l).y/s.y)]},_onMoveEnd(r){r&&(r.pinch||r.flyTo)||!this._map||this._map._animatingZoom||this._update()},_getCelldPixelBounds(r){const i=this._map,s=i._animatingZoom?Math.max(i._animateToZoom,i.getZoom()):i.getZoom(),l=i.getZoomScale(s,this._cellZoom),u=i.project(r,this._cellZoom).floor(),d=i.getSize().divideBy(l*2);return new U.Bounds(u.subtract(d),u.add(d))},_update(r){const i=this._map;if(!i)return;const s=Math.round(i.getZoom());r===void 0&&(r=i.getCenter());const l=this._getCelldPixelBounds(r),u=this._pxBoundsToCellRange(l),d=u.getCenter(),m=[],y=this.options.keepBuffer,v=new U.Bounds(u.getBottomLeft().subtract([y,-y]),u.getTopRight().add([y,-y]));if(!(isFinite(u.min.x)&&isFinite(u.min.y)&&isFinite(u.max.x)&&isFinite(u.max.y)))throw new Error("Attempted to load an infinite number of cells");for(const w in this._cells){const k=this._cells[w].coords;(k.z!==this._cellZoom||!v.contains(new U.Point(k.x,k.y)))&&(this._cells[w].current=!1)}if(Math.abs(s-this._cellZoom)>1){this._setView(r,s);return}for(let w=u.min.y;w<=u.max.y;w++)for(let k=u.min.x;k<=u.max.x;k++){const P=new U.Point(k,w);if(P.z=this._cellZoom,!this._isValidCell(P))continue;const R=this._cells[this._cellCoordsToKey(P)];R?R.current=!0:m.push(P)}if(m.sort((w,k)=>w.distanceTo(d)-k.distanceTo(d)),m.length!==0){this._loading||(this._loading=!0);for(let w=0;w<m.length;w++){const k=this._cellCoordsToKey(m[w]),P=this._keyToCellCoords(k);this._activeCells[P]?this._reuseCell(m[w]):this._createCell(m[w])}}},_isValidCell(r){const i=this._map.options.crs;if(!i.infinite){const l=this._globalCellRange;if(!i.wrapLng&&(r.x<l.min.x||r.x>l.max.x)||!i.wrapLat&&(r.y<l.min.y||r.y>l.max.y))return!1}if(!this.options.bounds)return!0;const s=this._cellCoordsToBounds(r);return U.latLngBounds(this.options.bounds).overlaps(s)},_keyToBounds(r){return this._cellCoordsToBounds(this._keyToCellCoords(r))},_cellCoordsToNwSe(r){const i=this._map,s=this.getCellSize(),l=r.scaleBy(s),u=l.add(s),d=i.unproject(l,r.z),m=i.unproject(u,r.z);return[d,m]},_cellCoordsToBounds(r){const i=this._cellCoordsToNwSe(r);let s=new U.LatLngBounds(i[0],i[1]);return this.options.noWrap||(s=this._map.wrapLatLngBounds(s)),s},_cellCoordsToKey(r){return`${r.x}:${r.y}:${r.z}`},_keyToCellCoords(r){const i=r.split(":"),s=new U.Point(+i[0],+i[1]);return s.z=+i[2],s},_removeCell(r){const i=this._cells[r];if(!i)return;const s=this._keyToCellCoords(r),l=this._wrapCoords(s),u=this._cellCoordsToBounds(this._wrapCoords(s));i.current=!1,delete this._cells[r],this._activeCells[r]=i,this.cellLeave(u,l,r),this.fire("cellleave",{key:r,coords:l,bounds:u})},_reuseCell(r){const i=this._cellCoordsToKey(r);this._cells[i]=this._activeCells[i],this._cells[i].current=!0;const s=this._wrapCoords(r),l=this._cellCoordsToBounds(this._wrapCoords(r));this.cellEnter(l,s,i),this.fire("cellenter",{key:i,coords:s,bounds:l})},_createCell(r){const i=this._cellCoordsToKey(r),s=this._wrapCoords(r),l=this._cellCoordsToBounds(this._wrapCoords(r));this.createCell(l,s,i),this.fire("cellcreate",{key:i,coords:s,bounds:l}),this._cells[i]={coords:r,current:!0},U.Util.requestAnimFrame(this._pruneCells,this)},_cellReady(r,i,s){const l=this._cellCoordsToKey(r);s=this._cells[l],s&&(s.loaded=+new Date,s.active=!0)},_getCellPos(r){return r.scaleBy(this.getCellSize())},_wrapCoords(r){const i=new U.Point(this._wrapX?U.Util.wrapNum(r.x,this._wrapX):r.x,this._wrapY?U.Util.wrapNum(r.y,this._wrapY):r.y);return i.z=r.z,i},_pxBoundsToCellRange(r){const i=this.getCellSize();return new U.Bounds(r.min.unscaleBy(i).floor(),r.max.unscaleBy(i).ceil().subtract([1,1]))}});function vi(r){this.values=[].concat(r||[])}vi.prototype.query=function(r){var i=this.getIndex(r);return this.values[i]};vi.prototype.getIndex=function(i){this.dirty&&this.sort();for(var s=0,l=this.values.length-1,u,d;s<=l;)if(u=(s+l)/2|0,d=this.values[Math.round(u)],+d.value<+i)s=u+1;else if(+d.value>+i)l=u-1;else return u;return Math.abs(~l)};vi.prototype.between=function(i,s){var l=this.getIndex(i),u=this.getIndex(s);if(l===0&&u===0)return[];for(;this.values[l-1]&&this.values[l-1].value===i;)l--;for(;this.values[u+1]&&this.values[u+1].value===s;)u++;return this.values[u]&&this.values[u].value===s&&this.values[u+1]&&u++,this.values.slice(l,u)};vi.prototype.insert=function(i){return this.values.splice(this.getIndex(i.value),0,i),this};vi.prototype.bulkAdd=function(i,s){return this.values=this.values.concat([].concat(i||[])),s?this.sort():this.dirty=!0,this};vi.prototype.sort=function(){return this.values.sort(function(i,s){return+s.value-+i.value}).reverse(),this.dirty=!1,this};const Yc=Jl.extend({options:{attribution:null,where:"1=1",fields:["*"],from:!1,to:!1,timeField:!1,timeFilterMode:"server",simplifyFactor:0,precision:6,fetchAllFeatures:!1},initialize(r){if(Jl.prototype.initialize.call(this,r),r=hu(r),r=U.Util.setOptions(this,r),this.service=tw(r),this.service.addEventParent(this),this.options.fields[0]!=="*"){let i=!1;for(let s=0;s<this.options.fields.length;s++)this.options.fields[s].match(/^(OBJECTID|FID|OID|ID)$/i)&&(i=!0);i===!1&&Gr("no known esriFieldTypeOID field detected in fields Array.  Please add an attribute field containing unique IDs to ensure the layer can be drawn correctly.")}this.options.timeField.start&&this.options.timeField.end?(this._startTimeIndex=new vi,this._endTimeIndex=new vi):this.options.timeField&&(this._timeIndex=new vi),this._cache={},this._currentSnapshot=[],this._activeRequests=0},onAdd(r){return du(r),this.service.metadata(function(i,s){if(!i){const l=s.supportedQueryFormats;let u=!1;(this.service.options.isModern===!1||this.options.fetchAllFeatures)&&(u=!0),!u&&l&&l.indexOf("geoJSON")!==-1&&(this.service.options.isModern=!0),s.objectIdField&&(this.service.options.idAttribute=s.objectIdField),!this.options.attribution&&r.attributionControl&&s.copyrightText&&(this.options.attribution=s.copyrightText,r.attributionControl.addAttribution(this.getAttribution()))}},this),r.on("zoomend",this._handleZoomChange,this),Jl.prototype.onAdd.call(this,r)},onRemove(r){return fu(r),r.off("zoomend",this._handleZoomChange,this),Jl.prototype.onRemove.call(this,r)},getAttribution(){return this.options.attribution},createCell(r,i){this._visibleZoom()&&this._requestFeatures(r,i)},_requestFeatures(r,i,s,l){this._activeRequests++,l=l||0;const u=this.options.where;return this._activeRequests===1&&this.fire("loading",{bounds:r},!0),this._buildQuery(r,l).run(function(d,m,y){y&&y.exceededTransferLimit&&this.fire("drawlimitexceeded"),this.options.where===u&&(!d&&m&&m.features.length&&U.Util.requestAnimFrame(U.Util.bind(function(){this._addFeatures(m.features,i),this._postProcessFeatures(r)},this)),!d&&m&&!m.features.length&&this._postProcessFeatures(r),d&&this._postProcessFeatures(r),s&&s.call(this,d,m),y&&(y.exceededTransferLimit||y.properties&&y.properties.exceededTransferLimit)&&this.options.fetchAllFeatures&&this._requestFeatures(r,i,s,l+m.features.length))},this)},_postProcessFeatures(r){this._activeRequests--,this._activeRequests<=0&&this.fire("load",{bounds:r})},_cacheKey(r){return`${r.z}:${r.x}:${r.y}`},_addFeatures(r,i){let s;i&&(s=this._cacheKey(i),this._cache[s]=this._cache[s]||[]);for(let l=r.length-1;l>=0;l--){const u=r[l].id;this._currentSnapshot.indexOf(u)===-1&&this._currentSnapshot.push(u),typeof s<"u"&&this._cache[s].indexOf(u)===-1&&this._cache[s].push(u)}this.options.timeField&&this._buildTimeIndexes(r),this.createLayers(r)},_buildQuery(r,i){let s=this.service.query().intersects(r).where(this.options.where).fields(this.options.fields).precision(this.options.precision);return this.options.fetchAllFeatures&&!isNaN(parseInt(i))&&(s=s.offset(i)),s.params.resultType="tile",this.options.requestParams&&U.Util.extend(s.params,this.options.requestParams),this.options.simplifyFactor&&s.simplify(this._map,this.options.simplifyFactor),this.options.timeFilterMode==="server"&&this.options.from&&this.options.to&&s.between(this.options.from,this.options.to),s},setWhere(r,i,s){this.options.where=r&&r.length?r:"1=1";const l=[],u=[];let d=0,m=null;const y=U.Util.bind(function(v,w){if(v&&(m=v),w)for(let k=w.features.length-1;k>=0;k--)u.push(w.features[k].id);d--,d<=0&&this._visibleZoom()&&r===this.options.where&&(this._currentSnapshot=u,U.Util.requestAnimFrame(U.Util.bind(function(){this.removeLayers(l),this.addLayers(u),i&&i.call(s,m)},this)))},this);for(let v=this._currentSnapshot.length-1;v>=0;v--)l.push(this._currentSnapshot[v]);this._cache={};for(const v in this._cells){d++;const w=this._keyToCellCoords(v),k=this._cellCoordsToBounds(w);this._requestFeatures(k,w,y)}return this},getWhere(){return this.options.where},getTimeRange(){return[this.options.from,this.options.to]},setTimeRange(r,i,s,l){const u=this.options.from,d=this.options.to;let m=0,y=null;const v=U.Util.bind(function(w){w&&(y=w),this._filterExistingFeatures(u,d,r,i),m--,s&&m<=0&&s.call(l,y)},this);if(this.options.from=r,this.options.to=i,this._filterExistingFeatures(u,d,r,i),this.options.timeFilterMode==="server")for(const w in this._cells){m++;const k=this._keyToCellCoords(w),P=this._cellCoordsToBounds(k);this._requestFeatures(P,k,v)}return this},refresh(){this.setWhere(this.options.where)},_filterExistingFeatures(r,i,s,l){const u=r&&i?this._getFeaturesInTimeRange(r,i):this._currentSnapshot,d=this._getFeaturesInTimeRange(s,l);if(d.indexOf)for(let m=0;m<d.length;m++){const y=u.indexOf(d[m]);y>=0&&u.splice(y,1)}U.Util.requestAnimFrame(U.Util.bind(function(){this.removeLayers(u),this.addLayers(d)},this))},_getFeaturesInTimeRange(r,i){const s=[];let l;if(this.options.timeField.start&&this.options.timeField.end){const u=this._startTimeIndex.between(r,i),d=this._endTimeIndex.between(r,i);l=u.concat(d)}else if(this._timeIndex)l=this._timeIndex.between(r,i);else return Gr("You must set timeField in the layer constructor in order to manipulate the start and end time filter."),[];for(let u=l.length-1;u>=0;u--)s.push(l[u].id);return s},_buildTimeIndexes(r){let i,s;if(this.options.timeField.start&&this.options.timeField.end){const l=[],u=[];for(i=r.length-1;i>=0;i--)s=r[i],l.push({id:s.id,value:new Date(s.properties[this.options.timeField.start])}),u.push({id:s.id,value:new Date(s.properties[this.options.timeField.end])});this._startTimeIndex.bulkAdd(l),this._endTimeIndex.bulkAdd(u)}else{const l=[];for(i=r.length-1;i>=0;i--)s=r[i],l.push({id:s.id,value:new Date(s.properties[this.options.timeField])});this._timeIndex.bulkAdd(l)}},_featureWithinTimeRange(r){if(!this.options.from||!this.options.to)return!0;const i=+this.options.from.valueOf(),s=+this.options.to.valueOf();if(typeof this.options.timeField=="string"){const l=+r.properties[this.options.timeField];return l>=i&&l<=s}if(this.options.timeField.start&&this.options.timeField.end){const l=+r.properties[this.options.timeField.start],u=+r.properties[this.options.timeField.end];return l>=i&&l<=s||u>=i&&u<=s||l<=i&&u>=s}},_visibleZoom(){if(!this._map)return!1;const r=this._map.getZoom();return!(r>this.options.maxZoom||r<this.options.minZoom)},_handleZoomChange(){if(!this._visibleZoom())this.removeLayers(this._currentSnapshot),this._currentSnapshot=[];else for(const r in this._cells){const i=this._cells[r].coords,s=this._cacheKey(i);this._cache[s]&&this.addLayers(this._cache[s])}},authenticate(r){return this.service.authenticate(r),this},metadata(r,i){return this.service.metadata(r,i),this},query(){return this.service.query()},_getMetadata(r){this._metadata?r(void 0,this._metadata):this.metadata(U.Util.bind(function(i,s){this._metadata=s,r(i,this._metadata)},this))},addFeature(r,i,s){this.addFeatures(r,i,s)},addFeatures(r,i,s){this._getMetadata(U.Util.bind(function(l,u){if(l){i&&i.call(this,l,null);return}const d=r.features?r.features:[r];this.service.addFeatures(r,U.Util.bind(function(m,y){if(!m){for(let v=d.length-1;v>=0;v--)d[v].properties[u.objectIdField]=d.length>1?y[v].objectId:y.objectId,d[v].id=d.length>1?y[v].objectId:y.objectId;this._addFeatures(d)}i&&i.call(s,m,y)},this))},this))},updateFeature(r,i,s){this.updateFeatures(r,i,s)},updateFeatures(r,i,s){const l=r.features?r.features:[r];this.service.updateFeatures(r,function(u,d){if(!u){for(let m=l.length-1;m>=0;m--)this.removeLayers([l[m].id],!0);this._addFeatures(l)}i&&i.call(s,u,d)},this)},deleteFeature(r,i,s){this.deleteFeatures(r,i,s)},deleteFeatures(r,i,s){return this.service.deleteFeatures(r,function(l,u){const d=u.length?u:[u];if(!l&&d.length>0)for(let m=d.length-1;m>=0;m--)this.removeLayers([d[m].objectId],!0);i&&i.call(s,l,u)},this)}});Yc.extend({options:{cacheLayers:!0},initialize(r){r.apikey&&(r.token=r.apikey),Yc.prototype.initialize.call(this,r),this._originalStyle=this.options.style,this._layers={}},onRemove(r){for(const i in this._layers)r.removeLayer(this._layers[i]),this.fire("removefeature",{feature:this._layers[i].feature,permanent:!1},!0);return Yc.prototype.onRemove.call(this,r)},createNewLayer(r){const i=U.GeoJSON.geometryToLayer(r,this.options);return i&&(i.defaultOptions=i.options),i},_updateLayer(r,i){let s=[];const l=this.options.coordsToLatLng||U.GeoJSON.coordsToLatLng;switch(i.properties&&(r.feature.properties=i.properties),i.geometry.type){case"Point":s=U.GeoJSON.coordsToLatLng(i.geometry.coordinates),r.setLatLng(s);break;case"LineString":s=U.GeoJSON.coordsToLatLngs(i.geometry.coordinates,0,l),r.setLatLngs(s);break;case"MultiLineString":s=U.GeoJSON.coordsToLatLngs(i.geometry.coordinates,1,l),r.setLatLngs(s);break;case"Polygon":s=U.GeoJSON.coordsToLatLngs(i.geometry.coordinates,1,l),r.setLatLngs(s);break;case"MultiPolygon":s=U.GeoJSON.coordsToLatLngs(i.geometry.coordinates,2,l),r.setLatLngs(s);break}this.redraw(r.feature.id)},createLayers(r){for(let i=r.length-1;i>=0;i--){const s=r[i],l=this._layers[s.id];let u;this._visibleZoom()&&l&&!this._map.hasLayer(l)&&(!this.options.timeField||this._featureWithinTimeRange(s))&&(this._map.addLayer(l),this.fire("addfeature",{feature:l.feature},!0)),l&&(l.setLatLngs||l.setLatLng)&&this._updateLayer(l,s),l||(u=this.createNewLayer(s),u?(u.feature=s,u.addEventParent(this),this.options.onEachFeature&&this.options.onEachFeature(u.feature,u),this._layers[u.feature.id]=u,this.setFeatureStyle(u.feature.id,this.options.style),this.fire("createfeature",{feature:u.feature},!0),this._visibleZoom()&&(!this.options.timeField||this.options.timeField&&this._featureWithinTimeRange(s))&&this._map.addLayer(u)):Gr("invalid GeoJSON encountered"))}},addLayers(r){for(let i=r.length-1;i>=0;i--){const s=this._layers[r[i]];s&&(!this.options.timeField||this._featureWithinTimeRange(s.feature))&&(this._map.addLayer(s),this.fire("addfeature",{feature:s.feature},!0))}},removeLayers(r,i){for(let s=r.length-1;s>=0;s--){const l=r[s],u=this._layers[l];u&&(this.fire("removefeature",{feature:u.feature,permanent:i},!0),this._map.removeLayer(u)),u&&i&&delete this._layers[l]}},cellEnter(r,i){this._visibleZoom()&&!this._zooming&&this._map&&U.Util.requestAnimFrame(U.Util.bind(function(){const s=this._cacheKey(i),l=this._cellCoordsToKey(i),u=this._cache[s];this._activeCells[l]&&u&&this.addLayers(u)},this))},cellLeave(r,i){this._zooming||U.Util.requestAnimFrame(U.Util.bind(function(){if(this._map){const s=this._cacheKey(i),l=this._cellCoordsToKey(i),u=this._cache[s],d=this._map.getBounds();if(!this._activeCells[l]&&u){let m=!0;for(let y=0;y<u.length;y++){const v=this._layers[u[y]];v&&v.getBounds&&d.intersects(v.getBounds())&&(m=!1)}m&&this.removeLayers(u,!this.options.cacheLayers),!this.options.cacheLayers&&m&&(delete this._cache[s],delete this._cells[l],delete this._activeCells[l])}}},this))},resetStyle(){return this.options.style=this._originalStyle,this.eachFeature(function(r){this.resetFeatureStyle(r.feature.id)},this),this},setStyle(r){return this.options.style=r,this.eachFeature(function(i){this.setFeatureStyle(i.feature.id,r)},this),this},resetFeatureStyle(r){const i=this._layers[r],s=this._originalStyle||U.Path.prototype.options;return i&&(U.Util.extend(i.options,i.defaultOptions),this.setFeatureStyle(r,s)),this},setFeatureStyle(r,i){const s=this._layers[r];return typeof i=="function"&&(i=i(s.feature)),s.setStyle&&s.setStyle(i),this},eachActiveFeature(r,i){if(this._map){const s=this._map.getBounds();for(const l in this._layers)this._currentSnapshot.indexOf(this._layers[l].feature.id)!==-1&&(typeof this._layers[l].getLatLng=="function"&&s.contains(this._layers[l].getLatLng())?r.call(i,this._layers[l]):typeof this._layers[l].getBounds=="function"&&s.intersects(this._layers[l].getBounds())&&r.call(i,this._layers[l]))}return this},eachFeature(r,i){for(const s in this._layers)r.call(i,this._layers[s]);return this},getFeature(r){return this._layers[r]},bringToBack(){this.eachFeature(r=>{r.bringToBack&&r.bringToBack()})},bringToFront(){this.eachFeature(r=>{r.bringToFront&&r.bringToFront()})},redraw(r){return r&&this._redraw(r),this},_redraw(r){const i=this._layers[r],s=i.feature;if(i&&i.setIcon&&this.options.pointToLayer&&this.options.pointToLayer){const u=this.options.pointToLayer(s,U.latLng(s.geometry.coordinates[1],s.geometry.coordinates[0])).options.icon;i.setIcon(u)}if(i&&i.setStyle&&this.options.pointToLayer){const u=this.options.pointToLayer(s,U.latLng(s.geometry.coordinates[1],s.geometry.coordinates[0])).options;this.setFeatureStyle(s.id,u)}i&&i.setStyle&&this.options.style&&this.resetFeatureStyle(s.id)},openPopup(r){return this._popup&&this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map),this},openTooltip(r){return this._tooltip&&this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this)),this}});function ow({mapRef:r}){const[i,s]=$.useState(""),[l,u]=$.useState({}),[d,m]=$.useState({type:null,text:""}),y=()=>{const w=r.current?.leafletMap;if(!(!w||!i.trim())){m({type:"loading",text:" Cargando capa..."});try{let k=null;if(/\/MapServer(\/\d+)?$/i.test(i)?k=sw({url:i,opacity:.8}):/\/WMSServer/i.test(i)?k=ip.tileLayer.wms(i,{layers:"0",format:"image/png",transparent:!0}):(/service=WMS/i.test(i)||i.toLowerCase().includes("wms"))&&(k=ip.tileLayer.wms(i,{layers:"",format:"image/png",transparent:!0})),k){const P=`${Date.now()}`;k.addTo(w),u(R=>({...R,[P]:k})),m({type:"success",text:" Capa cargada correctamente"})}else m({type:"error",text:" No se pudo reconocer la URL como ArcGIS REST o WMS"})}catch(k){console.error(k),m({type:"error",text:" Error al cargar la capa"})}}},v=w=>{const k=r.current?.leafletMap;if(!k)return;const P=l[w];P&&(k.removeLayer(P),u(R=>{const N={...R};return delete N[w],N}))};return te.jsxs("div",{className:"p-4 text-white bg-[#1e293b] h-full flex flex-col",children:[te.jsx("h2",{className:"text-lg font-semibold mb-3",children:" Capas externas"}),te.jsxs("div",{className:"flex gap-2 mb-3",children:[te.jsx("input",{type:"text",value:i,onChange:w=>s(w.target.value),placeholder:"URL WMS o ArcGIS REST",className:"flex-1 px-2 py-1 rounded text-black"}),te.jsx("button",{onClick:y,className:"bg-blue-600 hover:bg-blue-700 px-3 py-1 rounded",children:"Agregar"})]}),d.type&&te.jsx("div",{className:`mb-3 text-sm px-2 py-1 rounded ${d.type==="loading"?"bg-yellow-600":d.type==="success"?"bg-green-600":"bg-red-600"}`,children:d.text}),te.jsx("h3",{className:"text-md font-medium mb-2",children:"Capas activas"}),te.jsxs("ul",{className:"space-y-2",children:[Object.keys(l).length===0&&te.jsx("li",{className:"text-gray-400 text-sm",children:"No hay capas cargadas"}),Object.entries(l).map(([w,k])=>te.jsxs("li",{className:"flex justify-between items-center bg-gray-700 px-2 py-1 rounded",children:[te.jsxs("span",{className:"truncate",children:["Capa ",w]}),te.jsx("button",{onClick:()=>v(w),className:"bg-red-600 hover:bg-red-700 px-2 py-0.5 rounded text-sm",children:""})]},w))]})]})}function aw(){const r=$.useRef(null);return te.jsx(ky,{fallback:te.jsx(Yg,{}),children:i=>te.jsx(dy,{basename:"/pudumaps",children:te.jsxs(Zv,{children:[te.jsx(hh,{path:"/",element:te.jsx(Sy,{email:i.user.email??"sin-email"})}),te.jsx(hh,{path:"/project/:projectId",element:te.jsx(ow,{mapRef:r})})]})})})}qm.createRoot(document.getElementById("root")).render(te.jsx(Dm.StrictMode,{children:te.jsx(aw,{})}));
